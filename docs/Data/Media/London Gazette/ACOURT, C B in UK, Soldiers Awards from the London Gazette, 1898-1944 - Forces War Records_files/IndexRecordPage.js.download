(()=>{var __webpack_modules__={26378:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = { "default": __webpack_require__(3597), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYzNzguanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvZ2V0LWl0ZXJhdG9yLmpzPzE3MjciXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2dldC1pdGVyYXRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26378\n')},40863:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = { "default": __webpack_require__(21035), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA4NjMuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvaXMtaXRlcmFibGUuanM/OTNmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vaXMtaXRlcmFibGVcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///40863\n')},52945:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = { "default": __webpack_require__(56981), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI5NDUuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2Fzc2lnbi5qcz8zZjZiIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvYXNzaWduXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///52945\n')},85861:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = { "default": __webpack_require__(45627), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODU4NjEuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZS5qcz8wMzI1Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///85861\n')},32242:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = { "default": __webpack_require__(33391), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIyNDIuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcz80ODQ5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///32242\n')},8177:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = { "default": __webpack_require__(67036), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODE3Ny5qcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzPzI0ZWUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8177\n')},85105:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = { "default": __webpack_require__(30381), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODUxMDUuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YuanM/NjMzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///85105\n')},88902:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = { "default": __webpack_require__(98613), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODg5MDIuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMuanM/MTkwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXNcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///88902\n')},85345:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = { "default": __webpack_require__(70433), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODUzNDUuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2YuanM/YjM3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIiksIF9fZXNNb2R1bGU6IHRydWUgfTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///85345\n')},46593:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = { "default": __webpack_require__(80112), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY1OTMuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZS5qcz9lMWRlIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///46593\n')},93516:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = { "default": __webpack_require__(80025), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTM1MTYuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sLmpzP2Y4OTMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbFwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///93516\n')},64275:(module,__unused_webpack_exports,__webpack_require__)=>{eval('module.exports = { "default": __webpack_require__(52392), __esModule: true };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQyNzUuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzPzE3ZWQiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvclwiKSwgX19lc01vZHVsZTogdHJ1ZSB9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///64275\n')},99663:(__unused_webpack_module,exports)=>{"use strict";eval('var __webpack_unused_export__;\n\n\n__webpack_unused_export__ = true;\n\nexports.Z = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError("Cannot call a class as a function");\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTk2NjMuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qcz84ODI3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///99663\n')},22600:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('var __webpack_unused_export__;\n\n\n__webpack_unused_export__ = true;\n\nvar _defineProperty = __webpack_require__(32242);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Z = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ("value" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI2MDAuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qcz81N2JhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///22600\n')},88106:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("var __webpack_unused_export__;\n\n\n__webpack_unused_export__ = true;\n\nvar _defineProperty = __webpack_require__(32242);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Z = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODgxMDYuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eS5qcz82MDQyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///88106\n")},88239:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("var __webpack_unused_export__;\n\n\n__webpack_unused_export__ = true;\n\nvar _assign = __webpack_require__(52945);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Z = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODgyMzkuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcy5qcz80MWIyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2Fzc2lnbiA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9hc3NpZ25cIik7XG5cbnZhciBfYXNzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Fzc2lnbik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9hc3NpZ24yLmRlZmF1bHQgfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///88239\n")},93196:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('var __webpack_unused_export__;\n\n\n__webpack_unused_export__ = true;\n\nvar _setPrototypeOf = __webpack_require__(85345);\n\nvar _setPrototypeOf2 = _interopRequireDefault(_setPrototypeOf);\n\nvar _create = __webpack_require__(85861);\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _typeof2 = __webpack_require__(72444);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Z = function (subClass, superClass) {\n  if (typeof superClass !== "function" && superClass !== null) {\n    throw new TypeError("Super expression must either be null or a function, not " + (typeof superClass === "undefined" ? "undefined" : (0, _typeof3.default)(superClass)));\n  }\n\n  subClass.prototype = (0, _create2.default)(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf2.default ? (0, _setPrototypeOf2.default)(subClass, superClass) : subClass.__proto__ = superClass;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTMxOTYuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cy5qcz85OTE4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3NldFByb3RvdHlwZU9mID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L3NldC1wcm90b3R5cGUtb2ZcIik7XG5cbnZhciBfc2V0UHJvdG90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2V0UHJvdG90eXBlT2YpO1xuXG52YXIgX2NyZWF0ZSA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL29iamVjdC9jcmVhdGVcIik7XG5cbnZhciBfY3JlYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZSk7XG5cbnZhciBfdHlwZW9mMiA9IHJlcXVpcmUoXCIuLi9oZWxwZXJzL3R5cGVvZlwiKTtcblxudmFyIF90eXBlb2YzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZW9mMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyAodHlwZW9mIHN1cGVyQ2xhc3MgPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogKDAsIF90eXBlb2YzLmRlZmF1bHQpKHN1cGVyQ2xhc3MpKSk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSAoMCwgX2NyZWF0ZTIuZGVmYXVsdCkoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZjIuZGVmYXVsdCA/ICgwLCBfc2V0UHJvdG90eXBlT2YyLmRlZmF1bHQpKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///93196\n')},42723:(__unused_webpack_module,exports)=>{"use strict";eval("var __webpack_unused_export__;\n\n\n__webpack_unused_export__ = true;\n\nexports.Z = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDI3MjMuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcy5qcz84ZThlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAob2JqLCBrZXlzKSB7XG4gIHZhciB0YXJnZXQgPSB7fTtcblxuICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgIGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7XG4gICAgdGFyZ2V0W2ldID0gb2JqW2ldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///42723\n")},49135:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('var __webpack_unused_export__;\n\n\n__webpack_unused_export__ = true;\n\nvar _typeof2 = __webpack_require__(72444);\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Z = function (self, call) {\n  if (!self) {\n    throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");\n  }\n\n  return call && ((typeof call === "undefined" ? "undefined" : (0, _typeof3.default)(call)) === "object" || typeof call === "function") ? call : self;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkxMzUuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9iYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybi5qcz8xNThjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZjIgPSByZXF1aXJlKFwiLi4vaGVscGVycy90eXBlb2ZcIik7XG5cbnZhciBfdHlwZW9mMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3R5cGVvZjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cblxuICByZXR1cm4gY2FsbCAmJiAoKHR5cGVvZiBjYWxsID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6ICgwLCBfdHlwZW9mMy5kZWZhdWx0KShjYWxsKSkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///49135\n')},12424:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('var __webpack_unused_export__;\n\n\n__webpack_unused_export__ = true;\n\nvar _isIterable2 = __webpack_require__(40863);\n\nvar _isIterable3 = _interopRequireDefault(_isIterable2);\n\nvar _getIterator2 = __webpack_require__(26378);\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Z = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = (0, _getIterator3.default)(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i["return"]) _i["return"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if ((0, _isIterable3.default)(Object(arr))) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError("Invalid attempt to destructure non-iterable instance");\n    }\n  };\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI0MjQuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2JhYmVsLXJ1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5LmpzP2IyNGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXNJdGVyYWJsZTIgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9pcy1pdGVyYWJsZVwiKTtcblxudmFyIF9pc0l0ZXJhYmxlMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSXRlcmFibGUyKTtcblxudmFyIF9nZXRJdGVyYXRvcjIgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9nZXQtaXRlcmF0b3JcIik7XG5cbnZhciBfZ2V0SXRlcmF0b3IzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0SXRlcmF0b3IyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkge1xuICAgIHZhciBfYXJyID0gW107XG4gICAgdmFyIF9uID0gdHJ1ZTtcbiAgICB2YXIgX2QgPSBmYWxzZTtcbiAgICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2kgPSAoMCwgX2dldEl0ZXJhdG9yMy5kZWZhdWx0KShhcnIpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gdHJ1ZTtcbiAgICAgIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgcmV0dXJuIGFycjtcbiAgICB9IGVsc2UgaWYgKCgwLCBfaXNJdGVyYWJsZTMuZGVmYXVsdCkoT2JqZWN0KGFycikpKSB7XG4gICAgICByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTtcbiAgICB9XG4gIH07XG59KCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12424\n')},72444:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nexports.__esModule = true;\n\nvar _iterator = __webpack_require__(64275);\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = __webpack_require__(93516);\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === "function" && typeof _iterator2.default === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports["default"] = typeof _symbol2.default === "function" && _typeof(_iterator2.default) === "symbol" ? function (obj) {\n  return typeof obj === "undefined" ? "undefined" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof(obj);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzI0NDQuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcz8xMDk4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2l0ZXJhdG9yID0gcmVxdWlyZShcIi4uL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yXCIpO1xuXG52YXIgX2l0ZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2l0ZXJhdG9yKTtcblxudmFyIF9zeW1ib2wgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2xcIik7XG5cbnZhciBfc3ltYm9sMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3N5bWJvbCk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIF9zeW1ib2wyLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgX2l0ZXJhdG9yMi5kZWZhdWx0ID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gX3N5bWJvbDIuZGVmYXVsdCAmJiBvYmogIT09IF9zeW1ib2wyLmRlZmF1bHQucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgX3R5cGVvZihfaXRlcmF0b3IyLmRlZmF1bHQpID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ICYmIG9iaiAhPT0gX3N5bWJvbDIuZGVmYXVsdC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///72444\n')},94184:(module,exports)=>{eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif ( true && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (true) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n\t\t\treturn classNames;\n\t\t}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {}\n}());\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTQxODQuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY2xhc3NuYW1lcy9pbmRleC5qcz80ZDI2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICBDb3B5cmlnaHQgKGMpIDIwMTcgSmVkIFdhdHNvbi5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlIChNSVQpLCBzZWVcbiAgaHR0cDovL2plZHdhdHNvbi5naXRodWIuaW8vY2xhc3NuYW1lc1xuKi9cbi8qIGdsb2JhbCBkZWZpbmUgKi9cblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBoYXNPd24gPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBjbGFzc05hbWVzICgpIHtcblx0XHR2YXIgY2xhc3NlcyA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cdFx0XHRpZiAoIWFyZykgY29udGludWU7XG5cblx0XHRcdHZhciBhcmdUeXBlID0gdHlwZW9mIGFyZztcblxuXHRcdFx0aWYgKGFyZ1R5cGUgPT09ICdzdHJpbmcnIHx8IGFyZ1R5cGUgPT09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNsYXNzZXMucHVzaChhcmcpO1xuXHRcdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGFyZykgJiYgYXJnLmxlbmd0aCkge1xuXHRcdFx0XHR2YXIgaW5uZXIgPSBjbGFzc05hbWVzLmFwcGx5KG51bGwsIGFyZyk7XG5cdFx0XHRcdGlmIChpbm5lcikge1xuXHRcdFx0XHRcdGNsYXNzZXMucHVzaChpbm5lcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoYXJnVHlwZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0Zm9yICh2YXIga2V5IGluIGFyZykge1xuXHRcdFx0XHRcdGlmIChoYXNPd24uY2FsbChhcmcsIGtleSkgJiYgYXJnW2tleV0pIHtcblx0XHRcdFx0XHRcdGNsYXNzZXMucHVzaChrZXkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBjbGFzc2VzLmpvaW4oJyAnKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdGNsYXNzTmFtZXMuZGVmYXVsdCA9IGNsYXNzTmFtZXM7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBjbGFzc05hbWVzO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGRlZmluZS5hbWQgPT09ICdvYmplY3QnICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyByZWdpc3RlciBhcyAnY2xhc3NuYW1lcycsIGNvbnNpc3RlbnQgd2l0aCBucG0gcGFja2FnZSBuYW1lXG5cdFx0ZGVmaW5lKCdjbGFzc25hbWVzJywgW10sIGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBjbGFzc05hbWVzO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdHdpbmRvdy5jbGFzc05hbWVzID0gY2xhc3NOYW1lcztcblx0fVxufSgpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///94184\n")},3597:(module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(73871);\n__webpack_require__(91867);\nmodule.exports = __webpack_require__(46459);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzU5Ny5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vZ2V0LWl0ZXJhdG9yLmpzPzQ2OWYiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvcicpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3597\n")},21035:(module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(73871);\n__webpack_require__(91867);\nmodule.exports = __webpack_require__(89553);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEwMzUuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL2lzLWl0ZXJhYmxlLmpzPzU0YTEiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vbW9kdWxlcy9jb3JlLmlzLWl0ZXJhYmxlJyk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///21035\n")},56981:(module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(72699);\nmodule.exports = __webpack_require__(34579).Object.assign;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTY5ODEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvYXNzaWduLmpzPzUxYjYiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbicpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0LmFzc2lnbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///56981\n")},45627:(module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(86760);\nvar $Object = (__webpack_require__(34579).Object);\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDU2MjcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlLmpzP2RjNjIiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGUoUCwgRCkge1xuICByZXR1cm4gJE9iamVjdC5jcmVhdGUoUCwgRCk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///45627\n")},33391:(module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(31477);\nvar $Object = (__webpack_require__(34579).Object);\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMzOTEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzPzQ1NGYiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eScpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKSB7XG4gIHJldHVybiAkT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2MpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///33391\n")},67036:(module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(65178);\nvar $Object = (__webpack_require__(34579).Object);\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjcwMzYuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yLmpzP2ZkZTQiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcicpO1xudmFyICRPYmplY3QgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSkge1xuICByZXR1cm4gJE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaXQsIGtleSk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///67036\n")},30381:(module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(77220);\nmodule.exports = __webpack_require__(34579).Object.getPrototypeOf;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAzODEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZi5qcz9mYTk5Il0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///30381\n")},98613:(module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(40961);\nmodule.exports = __webpack_require__(34579).Object.keys;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTg2MTMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5cy5qcz84YWFlIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Qua2V5cztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///98613\n")},70433:(module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(59349);\nmodule.exports = __webpack_require__(34579).Object.setPrototypeOf;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzA0MzMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZi5qcz8yNWIwIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Quc2V0UHJvdG90eXBlT2Y7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///70433\n")},80112:(module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(94058);\n__webpack_require__(91867);\n__webpack_require__(73871);\n__webpack_require__(32878);\n__webpack_require__(95971);\n__webpack_require__(22526);\nmodule.exports = __webpack_require__(34579).Promise;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODAxMTIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZS5qcz82OTZlIl0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5wcm9taXNlJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNy5wcm9taXNlLmZpbmFsbHknKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvZXM3LnByb21pc2UudHJ5Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uL21vZHVsZXMvX2NvcmUnKS5Qcm9taXNlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///80112\n")},80025:(module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(46840);\n__webpack_require__(94058);\n__webpack_require__(8174);\n__webpack_require__(36461);\nmodule.exports = __webpack_require__(34579).Symbol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODAwMjUuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaW5kZXguanM/ZjkyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLlN5bWJvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///80025\n")},52392:(module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(91867);\n__webpack_require__(73871);\nmodule.exports = (__webpack_require__(25103).f)('iterator');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIzOTIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qcz9kOGQ2Il0sInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX3drcy1leHQnKS5mKCdpdGVyYXRvcicpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///52392\n")},85663:module=>{eval("module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODU2NjMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcz83OWFhIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICh0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///85663\n")},79003:module=>{eval("module.exports = function () { /* empty */ };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzkwMDMuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzPzg0MzYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///79003\n")},29142:module=>{eval("module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkxNDIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1pbnN0YW5jZS5qcz8xMTczIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBDb25zdHJ1Y3RvciwgbmFtZSwgZm9yYmlkZGVuRmllbGQpIHtcbiAgaWYgKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikgfHwgKGZvcmJpZGRlbkZpZWxkICE9PSB1bmRlZmluZWQgJiYgZm9yYmlkZGVuRmllbGQgaW4gaXQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKG5hbWUgKyAnOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEnKTtcbiAgfSByZXR1cm4gaXQ7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///29142\n")},12159:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var isObject = __webpack_require__(36727);\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIxNTkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanM/ZTRhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12159\n")},57428:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = __webpack_require__(7932);\nvar toLength = __webpack_require__(78728);\nvar toAbsoluteIndex = __webpack_require__(16531);\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTc0MjguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcz81YjRlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgdG9BYnNvbHV0ZUluZGV4ID0gcmVxdWlyZSgnLi9fdG8tYWJzb2x1dGUtaW5kZXgnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGVsLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgTyA9IHRvSU9iamVjdCgkdGhpcyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSB0b0Fic29sdXRlSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpO1xuICAgIHZhciB2YWx1ZTtcbiAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxuICAgIGlmIChJU19JTkNMVURFUyAmJiBlbCAhPSBlbCkgd2hpbGUgKGxlbmd0aCA+IGluZGV4KSB7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgICBpZiAodmFsdWUgIT0gdmFsdWUpIHJldHVybiB0cnVlO1xuICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICB9IGVsc2UgZm9yICg7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIGlmIChJU19JTkNMVURFUyB8fCBpbmRleCBpbiBPKSB7XG4gICAgICBpZiAoT1tpbmRleF0gPT09IGVsKSByZXR1cm4gSVNfSU5DTFVERVMgfHwgaW5kZXggfHwgMDtcbiAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gIH07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///57428\n")},14677:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = __webpack_require__(32894);\nvar TAG = __webpack_require__(22939)('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQ2NzcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzPzQwYzMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbnZhciBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcbi8vIEVTMyB3cm9uZyBoZXJlXG52YXIgQVJHID0gY29mKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuLy8gZmFsbGJhY2sgZm9yIElFMTEgU2NyaXB0IEFjY2VzcyBEZW5pZWQgZXJyb3JcbnZhciB0cnlHZXQgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICB0cnkge1xuICAgIHJldHVybiBpdFtrZXldO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciBPLCBULCBCO1xuICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/ICdVbmRlZmluZWQnIDogaXQgPT09IG51bGwgPyAnTnVsbCdcbiAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICA6IHR5cGVvZiAoVCA9IHRyeUdldChPID0gT2JqZWN0KGl0KSwgVEFHKSkgPT0gJ3N0cmluZycgPyBUXG4gICAgLy8gYnVpbHRpblRhZyBjYXNlXG4gICAgOiBBUkcgPyBjb2YoTylcbiAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgOiAoQiA9IGNvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14677\n")},32894:module=>{eval("var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI4OTQuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanM/NmI0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///32894\n")},34579:module=>{eval("var core = module.exports = { version: '2.6.11' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQ1NzkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzPzU4NGEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvcmUgPSBtb2R1bGUuZXhwb3J0cyA9IHsgdmVyc2lvbjogJzIuNi4xMScgfTtcbmlmICh0eXBlb2YgX19lID09ICdudW1iZXInKSBfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///34579\n")},19216:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// optional / simple context binding\nvar aFunction = __webpack_require__(85663);\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkyMTYuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jdHguanM/ZDg2NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmICh0aGF0ID09PSB1bmRlZmluZWQpIHJldHVybiBmbjtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19216\n")},8333:module=>{eval('// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError("Can\'t call method on  " + it);\n  return it;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODMzMy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanM/MjVlYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8333\n')},89666:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// Thank's IE8 for his funny defineProperty\nmodule.exports = !__webpack_require__(7929)(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODk2NjYuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanM/OGU2MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///89666\n")},97467:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var isObject = __webpack_require__(36727);\nvar document = (__webpack_require__(33938).document);\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTc0NjcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcz8xZWM5Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG4vLyB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0JyBpbiBvbGQgSUVcbnZhciBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///97467\n")},73338:module=>{eval("// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzMzMzguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qcz8xNjkxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbm1vZHVsZS5leHBvcnRzID0gKFxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuKS5zcGxpdCgnLCcpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///73338\n")},70337:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// all enumerable object keys, includes symbols\nvar getKeys = __webpack_require__(46162);\nvar gOPS = __webpack_require__(48195);\nvar pIE = __webpack_require__(86274);\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzAzMzcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qcz80N2VlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGFsbCBlbnVtZXJhYmxlIG9iamVjdCBrZXlzLCBpbmNsdWRlcyBzeW1ib2xzXG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG52YXIgZ09QUyA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJyk7XG52YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIHJlc3VsdCA9IGdldEtleXMoaXQpO1xuICB2YXIgZ2V0U3ltYm9scyA9IGdPUFMuZjtcbiAgaWYgKGdldFN5bWJvbHMpIHtcbiAgICB2YXIgc3ltYm9scyA9IGdldFN5bWJvbHMoaXQpO1xuICAgIHZhciBpc0VudW0gPSBwSUUuZjtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGtleTtcbiAgICB3aGlsZSAoc3ltYm9scy5sZW5ndGggPiBpKSBpZiAoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpIHJlc3VsdC5wdXNoKGtleSk7XG4gIH0gcmV0dXJuIHJlc3VsdDtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///70337\n")},83856:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var global = __webpack_require__(33938);\nvar core = __webpack_require__(34579);\nvar ctx = __webpack_require__(19216);\nvar hide = __webpack_require__(41818);\nvar has = __webpack_require__(27069);\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODM4NTYuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanM/NjNiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBjdHggPSByZXF1aXJlKCcuL19jdHgnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uICh0eXBlLCBuYW1lLCBzb3VyY2UpIHtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkY7XG4gIHZhciBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HO1xuICB2YXIgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuUztcbiAgdmFyIElTX1BST1RPID0gdHlwZSAmICRleHBvcnQuUDtcbiAgdmFyIElTX0JJTkQgPSB0eXBlICYgJGV4cG9ydC5CO1xuICB2YXIgSVNfV1JBUCA9IHR5cGUgJiAkZXhwb3J0Llc7XG4gIHZhciBleHBvcnRzID0gSVNfR0xPQkFMID8gY29yZSA6IGNvcmVbbmFtZV0gfHwgKGNvcmVbbmFtZV0gPSB7fSk7XG4gIHZhciBleHBQcm90byA9IGV4cG9ydHNbUFJPVE9UWVBFXTtcbiAgdmFyIHRhcmdldCA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV07XG4gIHZhciBrZXksIG93biwgb3V0O1xuICBpZiAoSVNfR0xPQkFMKSBzb3VyY2UgPSBuYW1lO1xuICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgIGlmIChvd24gJiYgaGFzKGV4cG9ydHMsIGtleSkpIGNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24gKEMpIHtcbiAgICAgIHZhciBGID0gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBDKSB7XG4gICAgICAgICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQygpO1xuICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbmV3IEMoYSk7XG4gICAgICAgICAgICBjYXNlIDI6IHJldHVybiBuZXcgQyhhLCBiKTtcbiAgICAgICAgICB9IHJldHVybiBuZXcgQyhhLCBiLCBjKTtcbiAgICAgICAgfSByZXR1cm4gQy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgIHJldHVybiBGO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHBvcnQgcHJvdG8gbWV0aG9kcyB0byBjb3JlLiVDT05TVFJVQ1RPUiUubWV0aG9kcy4lTkFNRSVcbiAgICBpZiAoSVNfUFJPVE8pIHtcbiAgICAgIChleHBvcnRzLnZpcnR1YWwgfHwgKGV4cG9ydHMudmlydHVhbCA9IHt9KSlba2V5XSA9IG91dDtcbiAgICAgIC8vIGV4cG9ydCBwcm90byBtZXRob2RzIHRvIGNvcmUuJUNPTlNUUlVDVE9SJS5wcm90b3R5cGUuJU5BTUUlXG4gICAgICBpZiAodHlwZSAmICRleHBvcnQuUiAmJiBleHBQcm90byAmJiAhZXhwUHJvdG9ba2V5XSkgaGlkZShleHBQcm90bywga2V5LCBvdXQpO1xuICAgIH1cbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///83856\n")},7929:module=>{eval("module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzkyOS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qcz8yOTRjIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7929\n")},45576:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var ctx = __webpack_require__(19216);\nvar call = __webpack_require__(95602);\nvar isArrayIter = __webpack_require__(45991);\nvar anObject = __webpack_require__(12159);\nvar toLength = __webpack_require__(78728);\nvar getIterFn = __webpack_require__(83728);\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDU1NzYuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZm9yLW9mLmpzP2EyMmEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIGNhbGwgPSByZXF1aXJlKCcuL19pdGVyLWNhbGwnKTtcbnZhciBpc0FycmF5SXRlciA9IHJlcXVpcmUoJy4vX2lzLWFycmF5LWl0ZXInKTtcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgZ2V0SXRlckZuID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKTtcbnZhciBCUkVBSyA9IHt9O1xudmFyIFJFVFVSTiA9IHt9O1xudmFyIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVyYWJsZSwgZW50cmllcywgZm4sIHRoYXQsIElURVJBVE9SKSB7XG4gIHZhciBpdGVyRm4gPSBJVEVSQVRPUiA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGl0ZXJhYmxlOyB9IDogZ2V0SXRlckZuKGl0ZXJhYmxlKTtcbiAgdmFyIGYgPSBjdHgoZm4sIHRoYXQsIGVudHJpZXMgPyAyIDogMSk7XG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsZW5ndGgsIHN0ZXAsIGl0ZXJhdG9yLCByZXN1bHQ7XG4gIGlmICh0eXBlb2YgaXRlckZuICE9ICdmdW5jdGlvbicpIHRocm93IFR5cGVFcnJvcihpdGVyYWJsZSArICcgaXMgbm90IGl0ZXJhYmxlIScpO1xuICAvLyBmYXN0IGNhc2UgZm9yIGFycmF5cyB3aXRoIGRlZmF1bHQgaXRlcmF0b3JcbiAgaWYgKGlzQXJyYXlJdGVyKGl0ZXJGbikpIGZvciAobGVuZ3RoID0gdG9MZW5ndGgoaXRlcmFibGUubGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICByZXN1bHQgPSBlbnRyaWVzID8gZihhbk9iamVjdChzdGVwID0gaXRlcmFibGVbaW5kZXhdKVswXSwgc3RlcFsxXSkgOiBmKGl0ZXJhYmxlW2luZGV4XSk7XG4gICAgaWYgKHJlc3VsdCA9PT0gQlJFQUsgfHwgcmVzdWx0ID09PSBSRVRVUk4pIHJldHVybiByZXN1bHQ7XG4gIH0gZWxzZSBmb3IgKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoaXRlcmFibGUpOyAhKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmU7KSB7XG4gICAgcmVzdWx0ID0gY2FsbChpdGVyYXRvciwgZiwgc3RlcC52YWx1ZSwgZW50cmllcyk7XG4gICAgaWYgKHJlc3VsdCA9PT0gQlJFQUsgfHwgcmVzdWx0ID09PSBSRVRVUk4pIHJldHVybiByZXN1bHQ7XG4gIH1cbn07XG5leHBvcnRzLkJSRUFLID0gQlJFQUs7XG5leHBvcnRzLlJFVFVSTiA9IFJFVFVSTjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///45576\n")},33938:module=>{eval("// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzM5MzguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2dsb2JhbC5qcz9lNTNkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGZcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmICh0eXBlb2YgX19nID09ICdudW1iZXInKSBfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///33938\n")},27069:module=>{eval("var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcwNjkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzPzA3ZTMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCwga2V5KSB7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0LCBrZXkpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///27069\n")},41818:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var dP = __webpack_require__(4743);\nvar createDesc = __webpack_require__(83101);\nmodule.exports = __webpack_require__(89666) ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE4MTguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzPzM1ZTgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGRQLmYob2JqZWN0LCBrZXksIGNyZWF0ZURlc2MoMSwgdmFsdWUpKTtcbn0gOiBmdW5jdGlvbiAob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///41818\n")},54881:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var document = (__webpack_require__(33938).document);\nmodule.exports = document && document.documentElement;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQ4ODEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzPzMyZmMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRvY3VtZW50ID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuZG9jdW1lbnQ7XG5tb2R1bGUuZXhwb3J0cyA9IGRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///54881\n")},33758:(module,__unused_webpack_exports,__webpack_require__)=>{eval("module.exports = !__webpack_require__(89666) && !__webpack_require__(7929)(function () {\n  return Object.defineProperty(__webpack_require__(97467)('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzM3NTguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2llOC1kb20tZGVmaW5lLmpzPzc5NGIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdkaXYnKSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///33758\n")},46778:module=>{eval("// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY3NzguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW52b2tlLmpzPzMwMjQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZmFzdCBhcHBseSwgaHR0cDovL2pzcGVyZi5sbmtpdC5jb20vZmFzdC1hcHBseS81XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgYXJncywgdGhhdCkge1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IHJldHVybiB1biA/IGZuKClcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCk7XG4gICAgY2FzZSAxOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdKTtcbiAgICBjYXNlIDI6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgY2FzZSA0OiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgfSByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJncyk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///46778\n")},50799:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = __webpack_require__(32894);\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA3OTkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanM/MzM1YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///50799\n")},45991:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// check on default Array iterator\nvar Iterators = __webpack_require__(15449);\nvar ITERATOR = __webpack_require__(22939)('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDU5OTEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzPzM3MDIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0ICE9PSB1bmRlZmluZWQgJiYgKEl0ZXJhdG9ycy5BcnJheSA9PT0gaXQgfHwgQXJyYXlQcm90b1tJVEVSQVRPUl0gPT09IGl0KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///45991\n")},71421:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// 7.2.2 IsArray(argument)\nvar cof = __webpack_require__(32894);\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzE0MjEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS5qcz85MDAzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDcuMi4yIElzQXJyYXkoYXJndW1lbnQpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmcpIHtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///71421\n")},36727:module=>{eval("module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY3MjcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qcz9mNzcyIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///36727\n")},95602:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// call something on iterator step with safe closing on error\nvar anObject = __webpack_require__(12159);\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTU2MDIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qcz9iMGRjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3JcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcykge1xuICB0cnkge1xuICAgIHJldHVybiBlbnRyaWVzID8gZm4oYW5PYmplY3QodmFsdWUpWzBdLCB2YWx1ZVsxXSkgOiBmbih2YWx1ZSk7XG4gIC8vIDcuNC42IEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IsIGNvbXBsZXRpb24pXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgIGlmIChyZXQgIT09IHVuZGVmaW5lZCkgYW5PYmplY3QocmV0LmNhbGwoaXRlcmF0b3IpKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///95602\n")},33945:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\nvar create = __webpack_require__(98989);\nvar descriptor = __webpack_require__(83101);\nvar setToStringTag = __webpack_require__(25378);\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n__webpack_require__(41818)(IteratorPrototype, __webpack_require__(22939)('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzM5NDUuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jcmVhdGUuanM/OGY2MCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgY3JlYXRlID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpO1xudmFyIGRlc2NyaXB0b3IgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgc2V0VG9TdHJpbmdUYWcgPSByZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpO1xudmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cbi8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19oaWRlJykoSXRlcmF0b3JQcm90b3R5cGUsIHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpIHtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7IG5leHQ6IGRlc2NyaXB0b3IoMSwgbmV4dCkgfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///33945\n")},45700:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\nvar LIBRARY = __webpack_require__(16227);\nvar $export = __webpack_require__(83856);\nvar redefine = __webpack_require__(57470);\nvar hide = __webpack_require__(41818);\nvar Iterators = __webpack_require__(15449);\nvar $iterCreate = __webpack_require__(33945);\nvar setToStringTag = __webpack_require__(25378);\nvar getPrototypeOf = __webpack_require__(95089);\nvar ITERATOR = __webpack_require__(22939)('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDU3MDAuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGVmaW5lLmpzPzMwZjEiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgPSByZXF1aXJlKCcuL19saWJyYXJ5Jyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyICRpdGVyQ3JlYXRlID0gcmVxdWlyZSgnLi9faXRlci1jcmVhdGUnKTtcbnZhciBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG52YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBCVUdHWSA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKTsgLy8gU2FmYXJpIGhhcyBidWdneSBpdGVyYXRvcnMgdy9vIGBuZXh0YFxudmFyIEZGX0lURVJBVE9SID0gJ0BAaXRlcmF0b3InO1xudmFyIEtFWVMgPSAna2V5cyc7XG52YXIgVkFMVUVTID0gJ3ZhbHVlcyc7XG5cbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0VEKSB7XG4gICRpdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcbiAgdmFyIGdldE1ldGhvZCA9IGZ1bmN0aW9uIChraW5kKSB7XG4gICAgaWYgKCFCVUdHWSAmJiBraW5kIGluIHByb3RvKSByZXR1cm4gcHJvdG9ba2luZF07XG4gICAgc3dpdGNoIChraW5kKSB7XG4gICAgICBjYXNlIEtFWVM6IHJldHVybiBmdW5jdGlvbiBrZXlzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgfSByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgfTtcbiAgdmFyIFRBRyA9IE5BTUUgKyAnIEl0ZXJhdG9yJztcbiAgdmFyIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFUztcbiAgdmFyIFZBTFVFU19CVUcgPSBmYWxzZTtcbiAgdmFyIHByb3RvID0gQmFzZS5wcm90b3R5cGU7XG4gIHZhciAkbmF0aXZlID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdO1xuICB2YXIgJGRlZmF1bHQgPSAkbmF0aXZlIHx8IGdldE1ldGhvZChERUZBVUxUKTtcbiAgdmFyICRlbnRyaWVzID0gREVGQVVMVCA/ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKSA6IHVuZGVmaW5lZDtcbiAgdmFyICRhbnlOYXRpdmUgPSBOQU1FID09ICdBcnJheScgPyBwcm90by5lbnRyaWVzIHx8ICRuYXRpdmUgOiAkbmF0aXZlO1xuICB2YXIgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZiAoJGFueU5hdGl2ZSkge1xuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YoJGFueU5hdGl2ZS5jYWxsKG5ldyBCYXNlKCkpKTtcbiAgICBpZiAoSXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgSXRlcmF0b3JQcm90b3R5cGUubmV4dCkge1xuICAgICAgLy8gU2V0IEBAdG9TdHJpbmdUYWcgdG8gbmF0aXZlIGl0ZXJhdG9yc1xuICAgICAgc2V0VG9TdHJpbmdUYWcoSXRlcmF0b3JQcm90b3R5cGUsIFRBRywgdHJ1ZSk7XG4gICAgICAvLyBmaXggZm9yIHNvbWUgb2xkIGVuZ2luZXNcbiAgICAgIGlmICghTElCUkFSWSAmJiB0eXBlb2YgSXRlcmF0b3JQcm90b3R5cGVbSVRFUkFUT1JdICE9ICdmdW5jdGlvbicpIGhpZGUoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgICB9XG4gIH1cbiAgLy8gZml4IEFycmF5I3t2YWx1ZXMsIEBAaXRlcmF0b3J9Lm5hbWUgaW4gVjggLyBGRlxuICBpZiAoREVGX1ZBTFVFUyAmJiAkbmF0aXZlICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKSB7XG4gICAgVkFMVUVTX0JVRyA9IHRydWU7XG4gICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKSB7IHJldHVybiAkbmF0aXZlLmNhbGwodGhpcyk7IH07XG4gIH1cbiAgLy8gRGVmaW5lIGl0ZXJhdG9yXG4gIGlmICgoIUxJQlJBUlkgfHwgRk9SQ0VEKSAmJiAoQlVHR1kgfHwgVkFMVUVTX0JVRyB8fCAhcHJvdG9bSVRFUkFUT1JdKSkge1xuICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gPSByZXR1cm5UaGlzO1xuICBpZiAoREVGQVVMVCkge1xuICAgIG1ldGhvZHMgPSB7XG4gICAgICB2YWx1ZXM6IERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogSVNfU0VUID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoS0VZUyksXG4gICAgICBlbnRyaWVzOiAkZW50cmllc1xuICAgIH07XG4gICAgaWYgKEZPUkNFRCkgZm9yIChrZXkgaW4gbWV0aG9kcykge1xuICAgICAgaWYgKCEoa2V5IGluIHByb3RvKSkgcmVkZWZpbmUocHJvdG8sIGtleSwgbWV0aG9kc1trZXldKTtcbiAgICB9IGVsc2UgJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LkYgKiAoQlVHR1kgfHwgVkFMVUVTX0JVRyksIE5BTUUsIG1ldGhvZHMpO1xuICB9XG4gIHJldHVybiBtZXRob2RzO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///45700\n")},96630:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var ITERATOR = __webpack_require__(22939)('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTY2MzAuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanM/NGVlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbiAoKSB7IFNBRkVfQ0xPU0lORyA9IHRydWU7IH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gIEFycmF5LmZyb20ocml0ZXIsIGZ1bmN0aW9uICgpIHsgdGhyb3cgMjsgfSk7XG59IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZXhlYywgc2tpcENsb3NpbmcpIHtcbiAgaWYgKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKSByZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciA9IFs3XTtcbiAgICB2YXIgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB7IGRvbmU6IHNhZmUgPSB0cnVlIH07IH07XG4gICAgYXJyW0lURVJBVE9SXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGl0ZXI7IH07XG4gICAgZXhlYyhhcnIpO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///96630\n")},85084:module=>{eval("module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODUwODQuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItc3RlcC5qcz81MGVkIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGRvbmUsIHZhbHVlKSB7XG4gIHJldHVybiB7IHZhbHVlOiB2YWx1ZSwgZG9uZTogISFkb25lIH07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///85084\n")},15449:module=>{eval("module.exports = {};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU0NDkuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzPzQ4MWIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15449\n")},16227:module=>{eval("module.exports = true;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYyMjcuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qcz9iOGUzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gdHJ1ZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16227\n")},77177:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var META = __webpack_require__(65730)('meta');\nvar isObject = __webpack_require__(36727);\nvar has = __webpack_require__(27069);\nvar setDesc = (__webpack_require__(4743).f);\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !__webpack_require__(7929)(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzcxNzcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzP2ViZmQiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIE1FVEEgPSByZXF1aXJlKCcuL191aWQnKSgnbWV0YScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgc2V0RGVzYyA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG52YXIgaWQgPSAwO1xudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGUgfHwgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHJ1ZTtcbn07XG52YXIgRlJFRVpFID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpO1xufSk7XG52YXIgc2V0TWV0YSA9IGZ1bmN0aW9uIChpdCkge1xuICBzZXREZXNjKGl0LCBNRVRBLCB7IHZhbHVlOiB7XG4gICAgaTogJ08nICsgKytpZCwgLy8gb2JqZWN0IElEXG4gICAgdzoge30gICAgICAgICAgLy8gd2VhayBjb2xsZWN0aW9ucyBJRHNcbiAgfSB9KTtcbn07XG52YXIgZmFzdEtleSA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIC8vIHJldHVybiBwcmltaXRpdmUgd2l0aCBwcmVmaXhcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG4gIGlmICghaGFzKGl0LCBNRVRBKSkge1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYgKCFpc0V4dGVuc2libGUoaXQpKSByZXR1cm4gJ0YnO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiAnRSc7XG4gICAgLy8gYWRkIG1pc3NpbmcgbWV0YWRhdGFcbiAgICBzZXRNZXRhKGl0KTtcbiAgLy8gcmV0dXJuIG9iamVjdCBJRFxuICB9IHJldHVybiBpdFtNRVRBXS5pO1xufTtcbnZhciBnZXRXZWFrID0gZnVuY3Rpb24gKGl0LCBjcmVhdGUpIHtcbiAgaWYgKCFoYXMoaXQsIE1FVEEpKSB7XG4gICAgLy8gY2FuJ3Qgc2V0IG1ldGFkYXRhIHRvIHVuY2F1Z2h0IGZyb3plbiBvYmplY3RcbiAgICBpZiAoIWlzRXh0ZW5zaWJsZShpdCkpIHJldHVybiB0cnVlO1xuICAgIC8vIG5vdCBuZWNlc3NhcnkgdG8gYWRkIG1ldGFkYXRhXG4gICAgaWYgKCFjcmVhdGUpIHJldHVybiBmYWxzZTtcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IHJldHVybiBpdFtNRVRBXS53O1xufTtcbi8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xudmFyIG9uRnJlZXplID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpIHNldE1ldGEoaXQpO1xuICByZXR1cm4gaXQ7XG59O1xudmFyIG1ldGEgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgS0VZOiBNRVRBLFxuICBORUVEOiBmYWxzZSxcbiAgZmFzdEtleTogZmFzdEtleSxcbiAgZ2V0V2VhazogZ2V0V2VhayxcbiAgb25GcmVlemU6IG9uRnJlZXplXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///77177\n")},81601:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var global = __webpack_require__(33938);\nvar macrotask = (__webpack_require__(62569).set);\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = __webpack_require__(32894)(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODE2MDEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21pY3JvdGFzay5qcz9hYmEyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBtYWNyb3Rhc2sgPSByZXF1aXJlKCcuL190YXNrJykuc2V0O1xudmFyIE9ic2VydmVyID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG52YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzO1xudmFyIFByb21pc2UgPSBnbG9iYWwuUHJvbWlzZTtcbnZhciBpc05vZGUgPSByZXF1aXJlKCcuL19jb2YnKShwcm9jZXNzKSA9PSAncHJvY2Vzcyc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaGVhZCwgbGFzdCwgbm90aWZ5O1xuXG4gIHZhciBmbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGFyZW50LCBmbjtcbiAgICBpZiAoaXNOb2RlICYmIChwYXJlbnQgPSBwcm9jZXNzLmRvbWFpbikpIHBhcmVudC5leGl0KCk7XG4gICAgd2hpbGUgKGhlYWQpIHtcbiAgICAgIGZuID0gaGVhZC5mbjtcbiAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgICB0cnkge1xuICAgICAgICBmbigpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoaGVhZCkgbm90aWZ5KCk7XG4gICAgICAgIGVsc2UgbGFzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9IGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHBhcmVudCkgcGFyZW50LmVudGVyKCk7XG4gIH07XG5cbiAgLy8gTm9kZS5qc1xuICBpZiAoaXNOb2RlKSB7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhmbHVzaCk7XG4gICAgfTtcbiAgLy8gYnJvd3NlcnMgd2l0aCBNdXRhdGlvbk9ic2VydmVyLCBleGNlcHQgaU9TIFNhZmFyaSAtIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy8zMzlcbiAgfSBlbHNlIGlmIChPYnNlcnZlciAmJiAhKGdsb2JhbC5uYXZpZ2F0b3IgJiYgZ2xvYmFsLm5hdmlnYXRvci5zdGFuZGFsb25lKSkge1xuICAgIHZhciB0b2dnbGUgPSB0cnVlO1xuICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgIG5ldyBPYnNlcnZlcihmbHVzaCkub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgbm9kZS5kYXRhID0gdG9nZ2xlID0gIXRvZ2dsZTtcbiAgICB9O1xuICAvLyBlbnZpcm9ubWVudHMgd2l0aCBtYXliZSBub24tY29tcGxldGVseSBjb3JyZWN0LCBidXQgZXhpc3RlbnQgUHJvbWlzZVxuICB9IGVsc2UgaWYgKFByb21pc2UgJiYgUHJvbWlzZS5yZXNvbHZlKSB7XG4gICAgLy8gUHJvbWlzZS5yZXNvbHZlIHdpdGhvdXQgYW4gYXJndW1lbnQgdGhyb3dzIGFuIGVycm9yIGluIExHIFdlYk9TIDJcbiAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb21pc2UudGhlbihmbHVzaCk7XG4gICAgfTtcbiAgLy8gZm9yIG90aGVyIGVudmlyb25tZW50cyAtIG1hY3JvdGFzayBiYXNlZCBvbjpcbiAgLy8gLSBzZXRJbW1lZGlhdGVcbiAgLy8gLSBNZXNzYWdlQ2hhbm5lbFxuICAvLyAtIHdpbmRvdy5wb3N0TWVzc2FnXG4gIC8vIC0gb25yZWFkeXN0YXRlY2hhbmdlXG4gIC8vIC0gc2V0VGltZW91dFxuICB9IGVsc2Uge1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIHN0cmFuZ2UgSUUgKyB3ZWJwYWNrIGRldiBzZXJ2ZXIgYnVnIC0gdXNlIC5jYWxsKGdsb2JhbClcbiAgICAgIG1hY3JvdGFzay5jYWxsKGdsb2JhbCwgZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGZuKSB7XG4gICAgdmFyIHRhc2sgPSB7IGZuOiBmbiwgbmV4dDogdW5kZWZpbmVkIH07XG4gICAgaWYgKGxhc3QpIGxhc3QubmV4dCA9IHRhc2s7XG4gICAgaWYgKCFoZWFkKSB7XG4gICAgICBoZWFkID0gdGFzaztcbiAgICAgIG5vdGlmeSgpO1xuICAgIH0gbGFzdCA9IHRhc2s7XG4gIH07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///81601\n")},59304:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = __webpack_require__(85663);\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkzMDQuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX25ldy1wcm9taXNlLWNhcGFiaWxpdHkuanM/NjU2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG4vLyAyNS40LjEuNSBOZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcblxuZnVuY3Rpb24gUHJvbWlzZUNhcGFiaWxpdHkoQykge1xuICB2YXIgcmVzb2x2ZSwgcmVqZWN0O1xuICB0aGlzLnByb21pc2UgPSBuZXcgQyhmdW5jdGlvbiAoJCRyZXNvbHZlLCAkJHJlamVjdCkge1xuICAgIGlmIChyZXNvbHZlICE9PSB1bmRlZmluZWQgfHwgcmVqZWN0ICE9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcignQmFkIFByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuICAgIHJlamVjdCA9ICQkcmVqZWN0O1xuICB9KTtcbiAgdGhpcy5yZXNvbHZlID0gYUZ1bmN0aW9uKHJlc29sdmUpO1xuICB0aGlzLnJlamVjdCA9IGFGdW5jdGlvbihyZWplY3QpO1xufVxuXG5tb2R1bGUuZXhwb3J0cy5mID0gZnVuY3Rpb24gKEMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///59304\n")},88082:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = __webpack_require__(89666);\nvar getKeys = __webpack_require__(46162);\nvar gOPS = __webpack_require__(48195);\nvar pIE = __webpack_require__(86274);\nvar toObject = __webpack_require__(66530);\nvar IObject = __webpack_require__(50799);\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || __webpack_require__(7929)(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODgwODIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtYXNzaWduLmpzPzkzMDYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuLy8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKVxudmFyIERFU0NSSVBUT1JTID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKTtcbnZhciBnZXRLZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BTID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKTtcbnZhciBwSUUgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpO1xudmFyICRhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuXG4vLyBzaG91bGQgd29yayB3aXRoIHN5bWJvbHMgYW5kIHNob3VsZCBoYXZlIGRldGVybWluaXN0aWMgcHJvcGVydHkgb3JkZXIgKFY4IGJ1Zylcbm1vZHVsZS5leHBvcnRzID0gISRhc3NpZ24gfHwgcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHZhciBBID0ge307XG4gIHZhciBCID0ge307XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgUyA9IFN5bWJvbCgpO1xuICB2YXIgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG4gIEFbU10gPSA3O1xuICBLLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7IEJba10gPSBrOyB9KTtcbiAgcmV0dXJuICRhc3NpZ24oe30sIEEpW1NdICE9IDcgfHwgT2JqZWN0LmtleXMoJGFzc2lnbih7fSwgQikpLmpvaW4oJycpICE9IEs7XG59KSA/IGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQsIHNvdXJjZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHZhciBUID0gdG9PYmplY3QodGFyZ2V0KTtcbiAgdmFyIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICB2YXIgaW5kZXggPSAxO1xuICB2YXIgZ2V0U3ltYm9scyA9IGdPUFMuZjtcbiAgdmFyIGlzRW51bSA9IHBJRS5mO1xuICB3aGlsZSAoYUxlbiA+IGluZGV4KSB7XG4gICAgdmFyIFMgPSBJT2JqZWN0KGFyZ3VtZW50c1tpbmRleCsrXSk7XG4gICAgdmFyIGtleXMgPSBnZXRTeW1ib2xzID8gZ2V0S2V5cyhTKS5jb25jYXQoZ2V0U3ltYm9scyhTKSkgOiBnZXRLZXlzKFMpO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgaiA9IDA7XG4gICAgdmFyIGtleTtcbiAgICB3aGlsZSAobGVuZ3RoID4gaikge1xuICAgICAga2V5ID0ga2V5c1tqKytdO1xuICAgICAgaWYgKCFERVNDUklQVE9SUyB8fCBpc0VudW0uY2FsbChTLCBrZXkpKSBUW2tleV0gPSBTW2tleV07XG4gICAgfVxuICB9IHJldHVybiBUO1xufSA6ICRhc3NpZ247XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///88082\n")},98989:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = __webpack_require__(12159);\nvar dPs = __webpack_require__(57856);\nvar enumBugKeys = __webpack_require__(73338);\nvar IE_PROTO = __webpack_require__(58989)('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = __webpack_require__(97467)('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  (__webpack_require__(54881).appendChild)(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTg5ODkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzP2ExNTkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBkUHMgPSByZXF1aXJlKCcuL19vYmplY3QtZHBzJyk7XG52YXIgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG52YXIgSUVfUFJPVE8gPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG52YXIgRW1wdHkgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG52YXIgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbnZhciBjcmVhdGVEaWN0ID0gZnVuY3Rpb24gKCkge1xuICAvLyBUaHJhc2gsIHdhc3RlIGFuZCBzb2RvbXk6IElFIEdDIGJ1Z1xuICB2YXIgaWZyYW1lID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdpZnJhbWUnKTtcbiAgdmFyIGkgPSBlbnVtQnVnS2V5cy5sZW5ndGg7XG4gIHZhciBsdCA9ICc8JztcbiAgdmFyIGd0ID0gJz4nO1xuICB2YXIgaWZyYW1lRG9jdW1lbnQ7XG4gIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICByZXF1aXJlKCcuL19odG1sJykuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0Oic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybFxuICAvLyBjcmVhdGVEaWN0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuT2JqZWN0O1xuICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gIGlmcmFtZURvY3VtZW50Lm9wZW4oKTtcbiAgaWZyYW1lRG9jdW1lbnQud3JpdGUobHQgKyAnc2NyaXB0JyArIGd0ICsgJ2RvY3VtZW50LkY9T2JqZWN0JyArIGx0ICsgJy9zY3JpcHQnICsgZ3QpO1xuICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuICBjcmVhdGVEaWN0ID0gaWZyYW1lRG9jdW1lbnQuRjtcbiAgd2hpbGUgKGktLSkgZGVsZXRlIGNyZWF0ZURpY3RbUFJPVE9UWVBFXVtlbnVtQnVnS2V5c1tpXV07XG4gIHJldHVybiBjcmVhdGVEaWN0KCk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUgfHwgZnVuY3Rpb24gY3JlYXRlKE8sIFByb3BlcnRpZXMpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKE8gIT09IG51bGwpIHtcbiAgICBFbXB0eVtQUk9UT1RZUEVdID0gYW5PYmplY3QoTyk7XG4gICAgcmVzdWx0ID0gbmV3IEVtcHR5KCk7XG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IG51bGw7XG4gICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgIHJlc3VsdFtJRV9QUk9UT10gPSBPO1xuICB9IGVsc2UgcmVzdWx0ID0gY3JlYXRlRGljdCgpO1xuICByZXR1cm4gUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogZFBzKHJlc3VsdCwgUHJvcGVydGllcyk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///98989\n")},4743:(__unused_webpack_module,exports,__webpack_require__)=>{eval("var anObject = __webpack_require__(12159);\nvar IE8_DOM_DEFINE = __webpack_require__(33758);\nvar toPrimitive = __webpack_require__(33206);\nvar dP = Object.defineProperty;\n\nexports.f = __webpack_require__(89666) ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc0My5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanM/ZDlmNiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJyk7XG52YXIgdG9QcmltaXRpdmUgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKTtcbnZhciBkUCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcblxuZXhwb3J0cy5mID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KE8sIFAsIEF0dHJpYnV0ZXMpIHtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmIChJRThfRE9NX0RFRklORSkgdHJ5IHtcbiAgICByZXR1cm4gZFAoTywgUCwgQXR0cmlidXRlcyk7XG4gIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICBpZiAoJ2dldCcgaW4gQXR0cmlidXRlcyB8fCAnc2V0JyBpbiBBdHRyaWJ1dGVzKSB0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZiAoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKSBPW1BdID0gQXR0cmlidXRlcy52YWx1ZTtcbiAgcmV0dXJuIE87XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4743\n")},57856:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var dP = __webpack_require__(4743);\nvar anObject = __webpack_require__(12159);\nvar getKeys = __webpack_require__(46162);\n\nmodule.exports = __webpack_require__(89666) ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTc4NTYuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcz83ZTkwIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBkUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgZ2V0S2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICB2YXIga2V5cyA9IGdldEtleXMoUHJvcGVydGllcyk7XG4gIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgdmFyIGkgPSAwO1xuICB2YXIgUDtcbiAgd2hpbGUgKGxlbmd0aCA+IGkpIGRQLmYoTywgUCA9IGtleXNbaSsrXSwgUHJvcGVydGllc1tQXSk7XG4gIHJldHVybiBPO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///57856\n")},76183:(__unused_webpack_module,exports,__webpack_require__)=>{eval("var pIE = __webpack_require__(86274);\nvar createDesc = __webpack_require__(83101);\nvar toIObject = __webpack_require__(7932);\nvar toPrimitive = __webpack_require__(33206);\nvar has = __webpack_require__(27069);\nvar IE8_DOM_DEFINE = __webpack_require__(33758);\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = __webpack_require__(89666) ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzYxODMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanM/YmYwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcElFID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xudmFyIGNyZWF0ZURlc2MgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpO1xudmFyIGdPUEQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKSB7XG4gIE8gPSB0b0lPYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgaWYgKElFOF9ET01fREVGSU5FKSB0cnkge1xuICAgIHJldHVybiBnT1BEKE8sIFApO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKGhhcyhPLCBQKSkgcmV0dXJuIGNyZWF0ZURlc2MoIXBJRS5mLmNhbGwoTywgUCksIE9bUF0pO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///76183\n")},94368:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = __webpack_require__(7932);\nvar gOPN = (__webpack_require__(33230).f);\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTQzNjguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4tZXh0LmpzPzAzOTUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZmFsbGJhY2sgZm9yIElFMTEgYnVnZ3kgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgd2l0aCBpZnJhbWUgYW5kIHdpbmRvd1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbnZhciBnT1BOID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mO1xudmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbnZhciB3aW5kb3dOYW1lcyA9IHR5cGVvZiB3aW5kb3cgPT0gJ29iamVjdCcgJiYgd2luZG93ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KSA6IFtdO1xuXG52YXIgZ2V0V2luZG93TmFtZXMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZ09QTihpdCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gd2luZG93TmFtZXMuc2xpY2UoKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMuZiA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpIHtcbiAgcmV0dXJuIHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nID8gZ2V0V2luZG93TmFtZXMoaXQpIDogZ09QTih0b0lPYmplY3QoaXQpKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///94368\n")},33230:(__unused_webpack_module,exports,__webpack_require__)=>{eval("// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = __webpack_require__(12963);\nvar hiddenKeys = (__webpack_require__(73338).concat)('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMyMzAuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanM/NmFiZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG52YXIgJGtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpO1xudmFyIGhpZGRlbktleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJykuY29uY2F0KCdsZW5ndGgnLCAncHJvdG90eXBlJyk7XG5cbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTykge1xuICByZXR1cm4gJGtleXMoTywgaGlkZGVuS2V5cyk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///33230\n")},48195:(__unused_webpack_module,exports)=>{eval("exports.f = Object.getOwnPropertySymbols;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgxOTUuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanM/OWFhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///48195\n")},95089:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = __webpack_require__(27069);\nvar toObject = __webpack_require__(66530);\nvar IE_PROTO = __webpack_require__(58989)('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTUwODkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdwby5qcz81M2UyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgaGFzID0gcmVxdWlyZSgnLi9faGFzJyk7XG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciBJRV9QUk9UTyA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcbnZhciBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIChPKSB7XG4gIE8gPSB0b09iamVjdChPKTtcbiAgaWYgKGhhcyhPLCBJRV9QUk9UTykpIHJldHVybiBPW0lFX1BST1RPXTtcbiAgaWYgKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gTy5jb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///95089\n")},12963:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var has = __webpack_require__(27069);\nvar toIObject = __webpack_require__(7932);\nvar arrayIndexOf = __webpack_require__(57428)(false);\nvar IE_PROTO = __webpack_require__(58989)('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI5NjMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qcz9lNmYzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG52YXIgYXJyYXlJbmRleE9mID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKShmYWxzZSk7XG52YXIgSUVfUFJPVE8gPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZXMpIHtcbiAgdmFyIE8gPSB0b0lPYmplY3Qob2JqZWN0KTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBrZXk7XG4gIGZvciAoa2V5IGluIE8pIGlmIChrZXkgIT0gSUVfUFJPVE8pIGhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XG4gIC8vIERvbid0IGVudW0gYnVnICYgaGlkZGVuIGtleXNcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIGlmIChoYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpIHtcbiAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12963\n")},46162:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = __webpack_require__(12963);\nvar enumBugKeys = __webpack_require__(73338);\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYxNjIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanM/YzNhMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAxOS4xLjIuMTQgLyAxNS4yLjMuMTQgT2JqZWN0LmtleXMoTylcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJyk7XG52YXIgZW51bUJ1Z0tleXMgPSByZXF1aXJlKCcuL19lbnVtLWJ1Zy1rZXlzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKSB7XG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///46162\n")},86274:(__unused_webpack_module,exports)=>{eval("exports.f = {}.propertyIsEnumerable;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODYyNzQuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qcz8zNTVkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMuZiA9IHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///86274\n")},12584:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// most Object methods by ES6 should accept primitives\nvar $export = __webpack_require__(83856);\nvar core = __webpack_require__(34579);\nvar fails = __webpack_require__(7929);\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI1ODQuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXNhcC5qcz9jZTdlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEtFWSwgZXhlYykge1xuICB2YXIgZm4gPSAoY29yZS5PYmplY3QgfHwge30pW0tFWV0gfHwgT2JqZWN0W0tFWV07XG4gIHZhciBleHAgPSB7fTtcbiAgZXhwW0tFWV0gPSBleGVjKGZuKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbiAoKSB7IGZuKDEpOyB9KSwgJ09iamVjdCcsIGV4cCk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12584\n")},10931:module=>{eval("module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA5MzEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcGVyZm9ybS5qcz80NDM5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4geyBlOiBmYWxzZSwgdjogZXhlYygpIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4geyBlOiB0cnVlLCB2OiBlIH07XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10931\n")},87790:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var anObject = __webpack_require__(12159);\nvar isObject = __webpack_require__(36727);\nvar newPromiseCapability = __webpack_require__(59304);\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODc3OTAuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Byb21pc2UtcmVzb2x2ZS5qcz9jZDc4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSByZXF1aXJlKCcuL19uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKEMsIHgpIHtcbiAgYW5PYmplY3QoQyk7XG4gIGlmIChpc09iamVjdCh4KSAmJiB4LmNvbnN0cnVjdG9yID09PSBDKSByZXR1cm4geDtcbiAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkuZihDKTtcbiAgdmFyIHJlc29sdmUgPSBwcm9taXNlQ2FwYWJpbGl0eS5yZXNvbHZlO1xuICByZXNvbHZlKHgpO1xuICByZXR1cm4gcHJvbWlzZUNhcGFiaWxpdHkucHJvbWlzZTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///87790\n")},83101:module=>{eval("module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODMxMDEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzP2FlYmQiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGU6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlOiB2YWx1ZVxuICB9O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///83101\n")},48144:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var hide = __webpack_require__(41818);\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgxNDQuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUtYWxsLmpzPzVjOTUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh0YXJnZXQsIHNyYywgc2FmZSkge1xuICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG4gICAgaWYgKHNhZmUgJiYgdGFyZ2V0W2tleV0pIHRhcmdldFtrZXldID0gc3JjW2tleV07XG4gICAgZWxzZSBoaWRlKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gIH0gcmV0dXJuIHRhcmdldDtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///48144\n")},57470:(module,__unused_webpack_exports,__webpack_require__)=>{eval("module.exports = __webpack_require__(41818);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTc0NzAuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUuanM/OTEzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///57470\n")},62906:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = __webpack_require__(36727);\nvar anObject = __webpack_require__(12159);\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = __webpack_require__(19216)(Function.call, (__webpack_require__(76183).f)(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjI5MDYuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXByb3RvLmpzP2VhZDYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBjaGVjayA9IGZ1bmN0aW9uIChPLCBwcm90bykge1xuICBhbk9iamVjdChPKTtcbiAgaWYgKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpIHRocm93IFR5cGVFcnJvcihwcm90byArIFwiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlIVwiKTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgc2V0OiBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgKCdfX3Byb3RvX18nIGluIHt9ID8gLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIGZ1bmN0aW9uICh0ZXN0LCBidWdneSwgc2V0KSB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXQgPSByZXF1aXJlKCcuL19jdHgnKShGdW5jdGlvbi5jYWxsLCByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmYoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgIHNldCh0ZXN0LCBbXSk7XG4gICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgICAgfSBjYXRjaCAoZSkgeyBidWdneSA9IHRydWU7IH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90bykge1xuICAgICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICAgIGlmIChidWdneSkgTy5fX3Byb3RvX18gPSBwcm90bztcbiAgICAgICAgZWxzZSBzZXQoTywgcHJvdG8pO1xuICAgICAgICByZXR1cm4gTztcbiAgICAgIH07XG4gICAgfSh7fSwgZmFsc2UpIDogdW5kZWZpbmVkKSxcbiAgY2hlY2s6IGNoZWNrXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///62906\n")},39967:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\nvar global = __webpack_require__(33938);\nvar core = __webpack_require__(34579);\nvar dP = __webpack_require__(4743);\nvar DESCRIPTORS = __webpack_require__(89666);\nvar SPECIES = __webpack_require__(22939)('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzk5NjcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtc3BlY2llcy5qcz80Yzk1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGRQID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJyk7XG52YXIgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpO1xudmFyIFNQRUNJRVMgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChLRVkpIHtcbiAgdmFyIEMgPSB0eXBlb2YgY29yZVtLRVldID09ICdmdW5jdGlvbicgPyBjb3JlW0tFWV0gOiBnbG9iYWxbS0VZXTtcbiAgaWYgKERFU0NSSVBUT1JTICYmIEMgJiYgIUNbU1BFQ0lFU10pIGRQLmYoQywgU1BFQ0lFUywge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH1cbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///39967\n")},25378:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var def = (__webpack_require__(4743).f);\nvar has = __webpack_require__(27069);\nvar TAG = __webpack_require__(22939)('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUzNzguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanM/NDVmMiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIHRhZywgc3RhdCkge1xuICBpZiAoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSkgZGVmKGl0LCBUQUcsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnIH0pO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25378\n")},58989:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var shared = __webpack_require__(20250)('keys');\nvar uid = __webpack_require__(65730);\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTg5ODkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzPzU1NTkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///58989\n")},20250:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var core = __webpack_require__(34579);\nvar global = __webpack_require__(33938);\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: __webpack_require__(16227) ? 'pure' : 'global',\n  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAyNTAuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qcz9kYmRiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nO1xudmFyIHN0b3JlID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IHt9KTtcbn0pKCd2ZXJzaW9ucycsIFtdKS5wdXNoKHtcbiAgdmVyc2lvbjogY29yZS52ZXJzaW9uLFxuICBtb2RlOiByZXF1aXJlKCcuL19saWJyYXJ5JykgPyAncHVyZScgOiAnZ2xvYmFsJyxcbiAgY29weXJpZ2h0OiAnwqkgMjAxOSBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSdcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20250\n")},32707:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = __webpack_require__(12159);\nvar aFunction = __webpack_require__(85663);\nvar SPECIES = __webpack_require__(22939)('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI3MDcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NwZWNpZXMtY29uc3RydWN0b3IuanM/ZjIwMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcilcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKTtcbnZhciBTUEVDSUVTID0gcmVxdWlyZSgnLi9fd2tzJykoJ3NwZWNpZXMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE8sIEQpIHtcbiAgdmFyIEMgPSBhbk9iamVjdChPKS5jb25zdHJ1Y3RvcjtcbiAgdmFyIFM7XG4gIHJldHVybiBDID09PSB1bmRlZmluZWQgfHwgKFMgPSBhbk9iamVjdChDKVtTUEVDSUVTXSkgPT0gdW5kZWZpbmVkID8gRCA6IGFGdW5jdGlvbihTKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///32707\n")},90510:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var toInteger = __webpack_require__(11052);\nvar defined = __webpack_require__(8333);\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTA1MTAuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zdHJpbmctYXQuanM/NzFjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG4vLyB0cnVlICAtPiBTdHJpbmcjYXRcbi8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoVE9fU1RSSU5HKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhhdCwgcG9zKSB7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSk7XG4gICAgdmFyIGkgPSB0b0ludGVnZXIocG9zKTtcbiAgICB2YXIgbCA9IHMubGVuZ3RoO1xuICAgIHZhciBhLCBiO1xuICAgIGlmIChpIDwgMCB8fCBpID49IGwpIHJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICBhID0gcy5jaGFyQ29kZUF0KGkpO1xuICAgIHJldHVybiBhIDwgMHhkODAwIHx8IGEgPiAweGRiZmYgfHwgaSArIDEgPT09IGwgfHwgKGIgPSBzLmNoYXJDb2RlQXQoaSArIDEpKSA8IDB4ZGMwMCB8fCBiID4gMHhkZmZmXG4gICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgOiBUT19TVFJJTkcgPyBzLnNsaWNlKGksIGkgKyAyKSA6IChhIC0gMHhkODAwIDw8IDEwKSArIChiIC0gMHhkYzAwKSArIDB4MTAwMDA7XG4gIH07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///90510\n")},62569:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var ctx = __webpack_require__(19216);\nvar invoke = __webpack_require__(46778);\nvar html = __webpack_require__(54881);\nvar cel = __webpack_require__(97467);\nvar global = __webpack_require__(33938);\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (__webpack_require__(32894)(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjI1NjkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3Rhc2suanM/NDE3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgaW52b2tlID0gcmVxdWlyZSgnLi9faW52b2tlJyk7XG52YXIgaHRtbCA9IHJlcXVpcmUoJy4vX2h0bWwnKTtcbnZhciBjZWwgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJyk7XG52YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzO1xudmFyIHNldFRhc2sgPSBnbG9iYWwuc2V0SW1tZWRpYXRlO1xudmFyIGNsZWFyVGFzayA9IGdsb2JhbC5jbGVhckltbWVkaWF0ZTtcbnZhciBNZXNzYWdlQ2hhbm5lbCA9IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbDtcbnZhciBEaXNwYXRjaCA9IGdsb2JhbC5EaXNwYXRjaDtcbnZhciBjb3VudGVyID0gMDtcbnZhciBxdWV1ZSA9IHt9O1xudmFyIE9OUkVBRFlTVEFURUNIQU5HRSA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnO1xudmFyIGRlZmVyLCBjaGFubmVsLCBwb3J0O1xudmFyIHJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGlkID0gK3RoaXM7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgaWYgKHF1ZXVlLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICAgIGZuKCk7XG4gIH1cbn07XG52YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgcnVuLmNhbGwoZXZlbnQuZGF0YSk7XG59O1xuLy8gTm9kZS5qcyAwLjkrICYgSUUxMCsgaGFzIHNldEltbWVkaWF0ZSwgb3RoZXJ3aXNlOlxuaWYgKCFzZXRUYXNrIHx8ICFjbGVhclRhc2spIHtcbiAgc2V0VGFzayA9IGZ1bmN0aW9uIHNldEltbWVkaWF0ZShmbikge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgdmFyIGkgPSAxO1xuICAgIHdoaWxlIChhcmd1bWVudHMubGVuZ3RoID4gaSkgYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcbiAgICBxdWV1ZVsrK2NvdW50ZXJdID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gICAgICBpbnZva2UodHlwZW9mIGZuID09ICdmdW5jdGlvbicgPyBmbiA6IEZ1bmN0aW9uKGZuKSwgYXJncyk7XG4gICAgfTtcbiAgICBkZWZlcihjb3VudGVyKTtcbiAgICByZXR1cm4gY291bnRlcjtcbiAgfTtcbiAgY2xlYXJUYXNrID0gZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaWQpIHtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICB9O1xuICAvLyBOb2RlLmpzIDAuOC1cbiAgaWYgKHJlcXVpcmUoJy4vX2NvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJykge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGN0eChydW4sIGlkLCAxKSk7XG4gICAgfTtcbiAgLy8gU3BoZXJlIChKUyBnYW1lIGVuZ2luZSkgRGlzcGF0Y2ggQVBJXG4gIH0gZWxzZSBpZiAoRGlzcGF0Y2ggJiYgRGlzcGF0Y2gubm93KSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIERpc3BhdGNoLm5vdyhjdHgocnVuLCBpZCwgMSkpO1xuICAgIH07XG4gIC8vIEJyb3dzZXJzIHdpdGggTWVzc2FnZUNoYW5uZWwsIGluY2x1ZGVzIFdlYldvcmtlcnNcbiAgfSBlbHNlIGlmIChNZXNzYWdlQ2hhbm5lbCkge1xuICAgIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICBwb3J0ID0gY2hhbm5lbC5wb3J0MjtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpc3RlbmVyO1xuICAgIGRlZmVyID0gY3R4KHBvcnQucG9zdE1lc3NhZ2UsIHBvcnQsIDEpO1xuICAvLyBCcm93c2VycyB3aXRoIHBvc3RNZXNzYWdlLCBza2lwIFdlYldvcmtlcnNcbiAgLy8gSUU4IGhhcyBwb3N0TWVzc2FnZSwgYnV0IGl0J3Mgc3luYyAmIHR5cGVvZiBpdHMgcG9zdE1lc3NhZ2UgaXMgJ29iamVjdCdcbiAgfSBlbHNlIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lciAmJiB0eXBlb2YgcG9zdE1lc3NhZ2UgPT0gJ2Z1bmN0aW9uJyAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKGlkICsgJycsICcqJyk7XG4gICAgfTtcbiAgICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RlbmVyLCBmYWxzZSk7XG4gIC8vIElFOC1cbiAgfSBlbHNlIGlmIChPTlJFQURZU1RBVEVDSEFOR0UgaW4gY2VsKCdzY3JpcHQnKSkge1xuICAgIGRlZmVyID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBodG1sLmFwcGVuZENoaWxkKGNlbCgnc2NyaXB0JykpW09OUkVBRFlTVEFURUNIQU5HRV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIHJ1bi5jYWxsKGlkKTtcbiAgICAgIH07XG4gICAgfTtcbiAgLy8gUmVzdCBvbGQgYnJvd3NlcnNcbiAgfSBlbHNlIHtcbiAgICBkZWZlciA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgc2V0VGltZW91dChjdHgocnVuLCBpZCwgMSksIDApO1xuICAgIH07XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IHNldFRhc2ssXG4gIGNsZWFyOiBjbGVhclRhc2tcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///62569\n")},16531:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var toInteger = __webpack_require__(11052);\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY1MzEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tYWJzb2x1dGUtaW5kZXguanM/MGZjOSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpO1xudmFyIG1heCA9IE1hdGgubWF4O1xudmFyIG1pbiA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5kZXgsIGxlbmd0aCkge1xuICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16531\n")},11052:module=>{eval("// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEwNTIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanM/M2EzOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjEuNCBUb0ludGVnZXJcbnZhciBjZWlsID0gTWF0aC5jZWlsO1xudmFyIGZsb29yID0gTWF0aC5mbG9vcjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11052\n")},7932:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = __webpack_require__(50799);\nvar defined = __webpack_require__(8333);\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzkzMi5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW9iamVjdC5qcz8zNmMzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0Jyk7XG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7932\n")},78728:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// 7.1.15 ToLength\nvar toInteger = __webpack_require__(11052);\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzg3MjguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWxlbmd0aC5qcz9iNDQ3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKTtcbnZhciBtaW4gPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///78728\n")},66530:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(8333);\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjY1MzAuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1vYmplY3QuanM/MjQxZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///66530\n")},33206:(module,__unused_webpack_exports,__webpack_require__)=>{eval("// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = __webpack_require__(36727);\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMyMDYuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLXByaW1pdGl2ZS5qcz8xYmMzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0LCBTKSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSByZXR1cm4gaXQ7XG4gIHZhciBmbiwgdmFsO1xuICBpZiAoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKHR5cGVvZiAoZm4gPSBpdC52YWx1ZU9mKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpIHJldHVybiB2YWw7XG4gIGlmICghUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlXCIpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///33206\n")},65730:module=>{eval("var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjU3MzAuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanM/NjJhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaWQgPSAwO1xudmFyIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///65730\n")},26640:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var global = __webpack_require__(33938);\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjY2NDAuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdXNlci1hZ2VudC5qcz9iYzEzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBuYXZpZ2F0b3IgPSBnbG9iYWwubmF2aWdhdG9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50IHx8ICcnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///26640\n")},76347:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var global = __webpack_require__(33938);\nvar core = __webpack_require__(34579);\nvar LIBRARY = __webpack_require__(16227);\nvar wksExt = __webpack_require__(25103);\nvar defineProperty = (__webpack_require__(4743).f);\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzYzNDcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy1kZWZpbmUuanM/NjcxOCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyIHdrc0V4dCA9IHJlcXVpcmUoJy4vX3drcy1leHQnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmY7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHZhciAkU3ltYm9sID0gY29yZS5TeW1ib2wgfHwgKGNvcmUuU3ltYm9sID0gTElCUkFSWSA/IHt9IDogZ2xvYmFsLlN5bWJvbCB8fCB7fSk7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSAhPSAnXycgJiYgIShuYW1lIGluICRTeW1ib2wpKSBkZWZpbmVQcm9wZXJ0eSgkU3ltYm9sLCBuYW1lLCB7IHZhbHVlOiB3a3NFeHQuZihuYW1lKSB9KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///76347\n")},25103:(__unused_webpack_module,exports,__webpack_require__)=>{eval("exports.f = __webpack_require__(22939);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUxMDMuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWV4dC5qcz9jY2I5Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX3drcycpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///25103\n")},22939:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var store = __webpack_require__(20250)('wks');\nvar uid = __webpack_require__(65730);\nvar Symbol = (__webpack_require__(33938).Symbol);\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI5MzkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MuanM/NTE2OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc3RvcmUgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnd2tzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG52YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuU3ltYm9sO1xudmFyIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7XG5cbnZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07XG5cbiRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22939\n")},83728:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var classof = __webpack_require__(14677);\nvar ITERATOR = __webpack_require__(22939)('iterator');\nvar Iterators = __webpack_require__(15449);\nmodule.exports = (__webpack_require__(34579).getIteratorMethod) = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODM3MjguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcz83Y2Q2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpO1xudmFyIElURVJBVE9SID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJyk7XG52YXIgSXRlcmF0b3JzID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uIChpdCkge1xuICBpZiAoaXQgIT0gdW5kZWZpbmVkKSByZXR1cm4gaXRbSVRFUkFUT1JdXG4gICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///83728\n")},46459:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var anObject = __webpack_require__(12159);\nvar get = __webpack_require__(83728);\nmodule.exports = (__webpack_require__(34579).getIterator) = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY0NTkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci5qcz83ZDdiIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGdldCA9IHJlcXVpcmUoJy4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2NvcmUnKS5nZXRJdGVyYXRvciA9IGZ1bmN0aW9uIChpdCkge1xuICB2YXIgaXRlckZuID0gZ2V0KGl0KTtcbiAgaWYgKHR5cGVvZiBpdGVyRm4gIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gIHJldHVybiBhbk9iamVjdChpdGVyRm4uY2FsbChpdCkpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///46459\n")},89553:(module,__unused_webpack_exports,__webpack_require__)=>{eval("var classof = __webpack_require__(14677);\nvar ITERATOR = __webpack_require__(22939)('iterator');\nvar Iterators = __webpack_require__(15449);\nmodule.exports = (__webpack_require__(34579).isIterable) = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODk1NTMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9jb3JlLmlzLWl0ZXJhYmxlLmpzPzk1ZDUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuL19jbGFzc29mJyk7XG52YXIgSVRFUkFUT1IgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKTtcbnZhciBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29yZScpLmlzSXRlcmFibGUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgdmFyIE8gPSBPYmplY3QoaXQpO1xuICByZXR1cm4gT1tJVEVSQVRPUl0gIT09IHVuZGVmaW5lZFxuICAgIHx8ICdAQGl0ZXJhdG9yJyBpbiBPXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgIHx8IEl0ZXJhdG9ycy5oYXNPd25Qcm9wZXJ0eShjbGFzc29mKE8pKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///89553\n")},3882:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\nvar addToUnscopables = __webpack_require__(79003);\nvar step = __webpack_require__(85084);\nvar Iterators = __webpack_require__(15449);\nvar toIObject = __webpack_require__(7932);\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = __webpack_require__(45700)(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg4Mi5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qcz9jMzY3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBhZGRUb1Vuc2NvcGFibGVzID0gcmVxdWlyZSgnLi9fYWRkLXRvLXVuc2NvcGFibGVzJyk7XG52YXIgc3RlcCA9IHJlcXVpcmUoJy4vX2l0ZXItc3RlcCcpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcblxuLy8gMjIuMS4zLjQgQXJyYXkucHJvdG90eXBlLmVudHJpZXMoKVxuLy8gMjIuMS4zLjEzIEFycmF5LnByb3RvdHlwZS5rZXlzKClcbi8vIDIyLjEuMy4yOSBBcnJheS5wcm90b3R5cGUudmFsdWVzKClcbi8vIDIyLjEuMy4zMCBBcnJheS5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKEFycmF5LCAnQXJyYXknLCBmdW5jdGlvbiAoaXRlcmF0ZWQsIGtpbmQpIHtcbiAgdGhpcy5fdCA9IHRvSU9iamVjdChpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICB0aGlzLl9rID0ga2luZDsgICAgICAgICAgICAgICAgLy8ga2luZFxuLy8gMjIuMS41LjIuMSAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG59LCBmdW5jdGlvbiAoKSB7XG4gIHZhciBPID0gdGhpcy5fdDtcbiAgdmFyIGtpbmQgPSB0aGlzLl9rO1xuICB2YXIgaW5kZXggPSB0aGlzLl9pKys7XG4gIGlmICghTyB8fCBpbmRleCA+PSBPLmxlbmd0aCkge1xuICAgIHRoaXMuX3QgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHN0ZXAoMSk7XG4gIH1cbiAgaWYgKGtpbmQgPT0gJ2tleXMnKSByZXR1cm4gc3RlcCgwLCBpbmRleCk7XG4gIGlmIChraW5kID09ICd2YWx1ZXMnKSByZXR1cm4gc3RlcCgwLCBPW2luZGV4XSk7XG4gIHJldHVybiBzdGVwKDAsIFtpbmRleCwgT1tpbmRleF1dKTtcbn0sICd2YWx1ZXMnKTtcblxuLy8gYXJndW1lbnRzTGlzdFtAQGl0ZXJhdG9yXSBpcyAlQXJyYXlQcm90b192YWx1ZXMlICg5LjQuNC42LCA5LjQuNC43KVxuSXRlcmF0b3JzLkFyZ3VtZW50cyA9IEl0ZXJhdG9ycy5BcnJheTtcblxuYWRkVG9VbnNjb3BhYmxlcygna2V5cycpO1xuYWRkVG9VbnNjb3BhYmxlcygndmFsdWVzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCdlbnRyaWVzJyk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3882\n")},72699:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{eval("// 19.1.3.1 Object.assign(target, source)\nvar $export = __webpack_require__(83856);\n\n$export($export.S + $export.F, 'Object', { assign: __webpack_require__(88082) });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzI2OTkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmFzc2lnbi5qcz9hM2MzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiwgJ09iamVjdCcsIHsgYXNzaWduOiByZXF1aXJlKCcuL19vYmplY3QtYXNzaWduJykgfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///72699\n")},86760:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{eval("var $export = __webpack_require__(83856);\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: __webpack_require__(98989) });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODY3NjAuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUuanM/OTQyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjIgLyAxNS4yLjMuNSBPYmplY3QuY3JlYXRlKE8gWywgUHJvcGVydGllc10pXG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHsgY3JlYXRlOiByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJykgfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///86760\n")},31477:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{eval("var $export = __webpack_require__(83856);\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !__webpack_require__(89666), 'Object', { defineProperty: (__webpack_require__(4743).f) });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzE0NzcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkuanM/NDZhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyksICdPYmplY3QnLCB7IGRlZmluZVByb3BlcnR5OiByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mIH0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///31477\n")},65178:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{eval("// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = __webpack_require__(7932);\nvar $getOwnPropertyDescriptor = (__webpack_require__(76183).f);\n\n__webpack_require__(12584)('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjUxNzguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IuanM/YmY5MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyAxOS4xLjIuNiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE8sIFApXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmY7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJywgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGl0LCBrZXkpIHtcbiAgICByZXR1cm4gJGdldE93blByb3BlcnR5RGVzY3JpcHRvcih0b0lPYmplY3QoaXQpLCBrZXkpO1xuICB9O1xufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///65178\n")},77220:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{eval("// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = __webpack_require__(66530);\nvar $getPrototypeOf = __webpack_require__(95089);\n\n__webpack_require__(12584)('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzcyMjAuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mLmpzPzAyOTMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gMTkuMS4yLjkgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciAkZ2V0UHJvdG90eXBlT2YgPSByZXF1aXJlKCcuL19vYmplY3QtZ3BvJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgnZ2V0UHJvdG90eXBlT2YnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBmdW5jdGlvbiBnZXRQcm90b3R5cGVPZihpdCkge1xuICAgIHJldHVybiAkZ2V0UHJvdG90eXBlT2YodG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///77220\n")},40961:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{eval("// 19.1.2.14 Object.keys(O)\nvar toObject = __webpack_require__(66530);\nvar $keys = __webpack_require__(46162);\n\n__webpack_require__(12584)('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDA5NjEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzLmpzPzMyYTYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gMTkuMS4yLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKTtcbnZhciAka2V5cyA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgna2V5cycsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGtleXMoaXQpIHtcbiAgICByZXR1cm4gJGtleXModG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///40961\n")},59349:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{eval("// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = __webpack_require__(83856);\n$export($export.S, 'Object', { setPrototypeOf: (__webpack_require__(62906).set) });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkzNDkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mLmpzPzFkZjgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gMTkuMS4zLjE5IE9iamVjdC5zZXRQcm90b3R5cGVPZihPLCBwcm90bylcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG4kZXhwb3J0KCRleHBvcnQuUywgJ09iamVjdCcsIHsgc2V0UHJvdG90eXBlT2Y6IHJlcXVpcmUoJy4vX3NldC1wcm90bycpLnNldCB9KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///59349\n")},94058:()=>{},32878:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\nvar LIBRARY = __webpack_require__(16227);\nvar global = __webpack_require__(33938);\nvar ctx = __webpack_require__(19216);\nvar classof = __webpack_require__(14677);\nvar $export = __webpack_require__(83856);\nvar isObject = __webpack_require__(36727);\nvar aFunction = __webpack_require__(85663);\nvar anInstance = __webpack_require__(29142);\nvar forOf = __webpack_require__(45576);\nvar speciesConstructor = __webpack_require__(32707);\nvar task = (__webpack_require__(62569).set);\nvar microtask = __webpack_require__(81601)();\nvar newPromiseCapabilityModule = __webpack_require__(59304);\nvar perform = __webpack_require__(10931);\nvar userAgent = __webpack_require__(26640);\nvar promiseResolve = __webpack_require__(87790);\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[__webpack_require__(22939)('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = __webpack_require__(48144)($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\n__webpack_require__(25378)($Promise, PROMISE);\n__webpack_require__(39967)(PROMISE);\nWrapper = __webpack_require__(34579)[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(96630)(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI4NzguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYucHJvbWlzZS5qcz8yNGM1Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZID0gcmVxdWlyZSgnLi9fbGlicmFyeScpO1xudmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpO1xudmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIGNsYXNzb2YgPSByZXF1aXJlKCcuL19jbGFzc29mJyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xudmFyIGFuSW5zdGFuY2UgPSByZXF1aXJlKCcuL19hbi1pbnN0YW5jZScpO1xudmFyIGZvck9mID0gcmVxdWlyZSgnLi9fZm9yLW9mJyk7XG52YXIgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi9fc3BlY2llcy1jb25zdHJ1Y3RvcicpO1xudmFyIHRhc2sgPSByZXF1aXJlKCcuL190YXNrJykuc2V0O1xudmFyIG1pY3JvdGFzayA9IHJlcXVpcmUoJy4vX21pY3JvdGFzaycpKCk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHlNb2R1bGUgPSByZXF1aXJlKCcuL19uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG52YXIgcGVyZm9ybSA9IHJlcXVpcmUoJy4vX3BlcmZvcm0nKTtcbnZhciB1c2VyQWdlbnQgPSByZXF1aXJlKCcuL191c2VyLWFnZW50Jyk7XG52YXIgcHJvbWlzZVJlc29sdmUgPSByZXF1aXJlKCcuL19wcm9taXNlLXJlc29sdmUnKTtcbnZhciBQUk9NSVNFID0gJ1Byb21pc2UnO1xudmFyIFR5cGVFcnJvciA9IGdsb2JhbC5UeXBlRXJyb3I7XG52YXIgcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzO1xudmFyIHZlcnNpb25zID0gcHJvY2VzcyAmJiBwcm9jZXNzLnZlcnNpb25zO1xudmFyIHY4ID0gdmVyc2lvbnMgJiYgdmVyc2lvbnMudjggfHwgJyc7XG52YXIgJFByb21pc2UgPSBnbG9iYWxbUFJPTUlTRV07XG52YXIgaXNOb2RlID0gY2xhc3NvZihwcm9jZXNzKSA9PSAncHJvY2Vzcyc7XG52YXIgZW1wdHkgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG52YXIgSW50ZXJuYWwsIG5ld0dlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSwgT3duUHJvbWlzZUNhcGFiaWxpdHksIFdyYXBwZXI7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBuZXdHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mO1xuXG52YXIgVVNFX05BVElWRSA9ICEhZnVuY3Rpb24gKCkge1xuICB0cnkge1xuICAgIC8vIGNvcnJlY3Qgc3ViY2xhc3Npbmcgd2l0aCBAQHNwZWNpZXMgc3VwcG9ydFxuICAgIHZhciBwcm9taXNlID0gJFByb21pc2UucmVzb2x2ZSgxKTtcbiAgICB2YXIgRmFrZVByb21pc2UgPSAocHJvbWlzZS5jb25zdHJ1Y3RvciA9IHt9KVtyZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpXSA9IGZ1bmN0aW9uIChleGVjKSB7XG4gICAgICBleGVjKGVtcHR5LCBlbXB0eSk7XG4gICAgfTtcbiAgICAvLyB1bmhhbmRsZWQgcmVqZWN0aW9ucyB0cmFja2luZyBzdXBwb3J0LCBOb2RlSlMgUHJvbWlzZSB3aXRob3V0IGl0IGZhaWxzIEBAc3BlY2llcyB0ZXN0XG4gICAgcmV0dXJuIChpc05vZGUgfHwgdHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCA9PSAnZnVuY3Rpb24nKVxuICAgICAgJiYgcHJvbWlzZS50aGVuKGVtcHR5KSBpbnN0YW5jZW9mIEZha2VQcm9taXNlXG4gICAgICAvLyB2OCA2LjYgKE5vZGUgMTAgYW5kIENocm9tZSA2NikgaGF2ZSBhIGJ1ZyB3aXRoIHJlc29sdmluZyBjdXN0b20gdGhlbmFibGVzXG4gICAgICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD04MzA1NjVcbiAgICAgIC8vIHdlIGNhbid0IGRldGVjdCBpdCBzeW5jaHJvbm91c2x5LCBzbyBqdXN0IGNoZWNrIHZlcnNpb25zXG4gICAgICAmJiB2OC5pbmRleE9mKCc2LjYnKSAhPT0gMFxuICAgICAgJiYgdXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZS82NicpID09PSAtMTtcbiAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG59KCk7XG5cbi8vIGhlbHBlcnNcbnZhciBpc1RoZW5hYmxlID0gZnVuY3Rpb24gKGl0KSB7XG4gIHZhciB0aGVuO1xuICByZXR1cm4gaXNPYmplY3QoaXQpICYmIHR5cGVvZiAodGhlbiA9IGl0LnRoZW4pID09ICdmdW5jdGlvbicgPyB0aGVuIDogZmFsc2U7XG59O1xudmFyIG5vdGlmeSA9IGZ1bmN0aW9uIChwcm9taXNlLCBpc1JlamVjdCkge1xuICBpZiAocHJvbWlzZS5fbikgcmV0dXJuO1xuICBwcm9taXNlLl9uID0gdHJ1ZTtcbiAgdmFyIGNoYWluID0gcHJvbWlzZS5fYztcbiAgbWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmFsdWUgPSBwcm9taXNlLl92O1xuICAgIHZhciBvayA9IHByb21pc2UuX3MgPT0gMTtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHJ1biA9IGZ1bmN0aW9uIChyZWFjdGlvbikge1xuICAgICAgdmFyIGhhbmRsZXIgPSBvayA/IHJlYWN0aW9uLm9rIDogcmVhY3Rpb24uZmFpbDtcbiAgICAgIHZhciByZXNvbHZlID0gcmVhY3Rpb24ucmVzb2x2ZTtcbiAgICAgIHZhciByZWplY3QgPSByZWFjdGlvbi5yZWplY3Q7XG4gICAgICB2YXIgZG9tYWluID0gcmVhY3Rpb24uZG9tYWluO1xuICAgICAgdmFyIHJlc3VsdCwgdGhlbiwgZXhpdGVkO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgICBpZiAocHJvbWlzZS5faCA9PSAyKSBvbkhhbmRsZVVuaGFuZGxlZChwcm9taXNlKTtcbiAgICAgICAgICAgIHByb21pc2UuX2ggPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGFuZGxlciA9PT0gdHJ1ZSkgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZG9tYWluKSBkb21haW4uZW50ZXIoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIodmFsdWUpOyAvLyBtYXkgdGhyb3dcbiAgICAgICAgICAgIGlmIChkb21haW4pIHtcbiAgICAgICAgICAgICAgZG9tYWluLmV4aXQoKTtcbiAgICAgICAgICAgICAgZXhpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSkge1xuICAgICAgICAgICAgcmVqZWN0KFR5cGVFcnJvcignUHJvbWlzZS1jaGFpbiBjeWNsZScpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoZW4gPSBpc1RoZW5hYmxlKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRoZW4uY2FsbChyZXN1bHQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHJlamVjdCh2YWx1ZSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChkb21haW4gJiYgIWV4aXRlZCkgZG9tYWluLmV4aXQoKTtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2hpbGUgKGNoYWluLmxlbmd0aCA+IGkpIHJ1bihjaGFpbltpKytdKTsgLy8gdmFyaWFibGUgbGVuZ3RoIC0gY2FuJ3QgdXNlIGZvckVhY2hcbiAgICBwcm9taXNlLl9jID0gW107XG4gICAgcHJvbWlzZS5fbiA9IGZhbHNlO1xuICAgIGlmIChpc1JlamVjdCAmJiAhcHJvbWlzZS5faCkgb25VbmhhbmRsZWQocHJvbWlzZSk7XG4gIH0pO1xufTtcbnZhciBvblVuaGFuZGxlZCA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gIHRhc2suY2FsbChnbG9iYWwsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmFsdWUgPSBwcm9taXNlLl92O1xuICAgIHZhciB1bmhhbmRsZWQgPSBpc1VuaGFuZGxlZChwcm9taXNlKTtcbiAgICB2YXIgcmVzdWx0LCBoYW5kbGVyLCBjb25zb2xlO1xuICAgIGlmICh1bmhhbmRsZWQpIHtcbiAgICAgIHJlc3VsdCA9IHBlcmZvcm0oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNOb2RlKSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmhhbmRsZWRSZWplY3Rpb24nLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFuZGxlciA9IGdsb2JhbC5vbnVuaGFuZGxlZHJlamVjdGlvbikge1xuICAgICAgICAgIGhhbmRsZXIoeyBwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHZhbHVlIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKChjb25zb2xlID0gZ2xvYmFsLmNvbnNvbGUpICYmIGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQnJvd3NlcnMgc2hvdWxkIG5vdCB0cmlnZ2VyIGByZWplY3Rpb25IYW5kbGVkYCBldmVudCBpZiBpdCB3YXMgaGFuZGxlZCBoZXJlLCBOb2RlSlMgLSBzaG91bGRcbiAgICAgIHByb21pc2UuX2ggPSBpc05vZGUgfHwgaXNVbmhhbmRsZWQocHJvbWlzZSkgPyAyIDogMTtcbiAgICB9IHByb21pc2UuX2EgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHVuaGFuZGxlZCAmJiByZXN1bHQuZSkgdGhyb3cgcmVzdWx0LnY7XG4gIH0pO1xufTtcbnZhciBpc1VuaGFuZGxlZCA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gIHJldHVybiBwcm9taXNlLl9oICE9PSAxICYmIChwcm9taXNlLl9hIHx8IHByb21pc2UuX2MpLmxlbmd0aCA9PT0gMDtcbn07XG52YXIgb25IYW5kbGVVbmhhbmRsZWQgPSBmdW5jdGlvbiAocHJvbWlzZSkge1xuICB0YXNrLmNhbGwoZ2xvYmFsLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhhbmRsZXI7XG4gICAgaWYgKGlzTm9kZSkge1xuICAgICAgcHJvY2Vzcy5lbWl0KCdyZWplY3Rpb25IYW5kbGVkJywgcHJvbWlzZSk7XG4gICAgfSBlbHNlIGlmIChoYW5kbGVyID0gZ2xvYmFsLm9ucmVqZWN0aW9uaGFuZGxlZCkge1xuICAgICAgaGFuZGxlcih7IHByb21pc2U6IHByb21pc2UsIHJlYXNvbjogcHJvbWlzZS5fdiB9KTtcbiAgICB9XG4gIH0pO1xufTtcbnZhciAkcmVqZWN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHZhciBwcm9taXNlID0gdGhpcztcbiAgaWYgKHByb21pc2UuX2QpIHJldHVybjtcbiAgcHJvbWlzZS5fZCA9IHRydWU7XG4gIHByb21pc2UgPSBwcm9taXNlLl93IHx8IHByb21pc2U7IC8vIHVud3JhcFxuICBwcm9taXNlLl92ID0gdmFsdWU7XG4gIHByb21pc2UuX3MgPSAyO1xuICBpZiAoIXByb21pc2UuX2EpIHByb21pc2UuX2EgPSBwcm9taXNlLl9jLnNsaWNlKCk7XG4gIG5vdGlmeShwcm9taXNlLCB0cnVlKTtcbn07XG52YXIgJHJlc29sdmUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgdmFyIHByb21pc2UgPSB0aGlzO1xuICB2YXIgdGhlbjtcbiAgaWYgKHByb21pc2UuX2QpIHJldHVybjtcbiAgcHJvbWlzZS5fZCA9IHRydWU7XG4gIHByb21pc2UgPSBwcm9taXNlLl93IHx8IHByb21pc2U7IC8vIHVud3JhcFxuICB0cnkge1xuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkgdGhyb3cgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7XG4gICAgaWYgKHRoZW4gPSBpc1RoZW5hYmxlKHZhbHVlKSkge1xuICAgICAgbWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7IF93OiBwcm9taXNlLCBfZDogZmFsc2UgfTsgLy8gd3JhcFxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoZW4uY2FsbCh2YWx1ZSwgY3R4KCRyZXNvbHZlLCB3cmFwcGVyLCAxKSwgY3R4KCRyZWplY3QsIHdyYXBwZXIsIDEpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICRyZWplY3QuY2FsbCh3cmFwcGVyLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21pc2UuX3YgPSB2YWx1ZTtcbiAgICAgIHByb21pc2UuX3MgPSAxO1xuICAgICAgbm90aWZ5KHByb21pc2UsIGZhbHNlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAkcmVqZWN0LmNhbGwoeyBfdzogcHJvbWlzZSwgX2Q6IGZhbHNlIH0sIGUpOyAvLyB3cmFwXG4gIH1cbn07XG5cbi8vIGNvbnN0cnVjdG9yIHBvbHlmaWxsXG5pZiAoIVVTRV9OQVRJVkUpIHtcbiAgLy8gMjUuNC4zLjEgUHJvbWlzZShleGVjdXRvcilcbiAgJFByb21pc2UgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7XG4gICAgYW5JbnN0YW5jZSh0aGlzLCAkUHJvbWlzZSwgUFJPTUlTRSwgJ19oJyk7XG4gICAgYUZ1bmN0aW9uKGV4ZWN1dG9yKTtcbiAgICBJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICAgIHRyeSB7XG4gICAgICBleGVjdXRvcihjdHgoJHJlc29sdmUsIHRoaXMsIDEpLCBjdHgoJHJlamVjdCwgdGhpcywgMSkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgJHJlamVjdC5jYWxsKHRoaXMsIGVycik7XG4gICAgfVxuICB9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgSW50ZXJuYWwgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7XG4gICAgdGhpcy5fYyA9IFtdOyAgICAgICAgICAgICAvLyA8LSBhd2FpdGluZyByZWFjdGlvbnNcbiAgICB0aGlzLl9hID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zXG4gICAgdGhpcy5fcyA9IDA7ICAgICAgICAgICAgICAvLyA8LSBzdGF0ZVxuICAgIHRoaXMuX2QgPSBmYWxzZTsgICAgICAgICAgLy8gPC0gZG9uZVxuICAgIHRoaXMuX3YgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gdmFsdWVcbiAgICB0aGlzLl9oID0gMDsgICAgICAgICAgICAgIC8vIDwtIHJlamVjdGlvbiBzdGF0ZSwgMCAtIGRlZmF1bHQsIDEgLSBoYW5kbGVkLCAyIC0gdW5oYW5kbGVkXG4gICAgdGhpcy5fbiA9IGZhbHNlOyAgICAgICAgICAvLyA8LSBub3RpZnlcbiAgfTtcbiAgSW50ZXJuYWwucHJvdG90eXBlID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUtYWxsJykoJFByb21pc2UucHJvdG90eXBlLCB7XG4gICAgLy8gMjUuNC41LjMgUHJvbWlzZS5wcm90b3R5cGUudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZClcbiAgICB0aGVuOiBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgICB2YXIgcmVhY3Rpb24gPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShzcGVjaWVzQ29uc3RydWN0b3IodGhpcywgJFByb21pc2UpKTtcbiAgICAgIHJlYWN0aW9uLm9rID0gdHlwZW9mIG9uRnVsZmlsbGVkID09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IHRydWU7XG4gICAgICByZWFjdGlvbi5mYWlsID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT0gJ2Z1bmN0aW9uJyAmJiBvblJlamVjdGVkO1xuICAgICAgcmVhY3Rpb24uZG9tYWluID0gaXNOb2RlID8gcHJvY2Vzcy5kb21haW4gOiB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9jLnB1c2gocmVhY3Rpb24pO1xuICAgICAgaWYgKHRoaXMuX2EpIHRoaXMuX2EucHVzaChyZWFjdGlvbik7XG4gICAgICBpZiAodGhpcy5fcykgbm90aWZ5KHRoaXMsIGZhbHNlKTtcbiAgICAgIHJldHVybiByZWFjdGlvbi5wcm9taXNlO1xuICAgIH0sXG4gICAgLy8gMjUuNC41LjEgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2gob25SZWplY3RlZClcbiAgICAnY2F0Y2gnOiBmdW5jdGlvbiAob25SZWplY3RlZCkge1xuICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIG9uUmVqZWN0ZWQpO1xuICAgIH1cbiAgfSk7XG4gIE93blByb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBwcm9taXNlID0gbmV3IEludGVybmFsKCk7XG4gICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbiAgICB0aGlzLnJlc29sdmUgPSBjdHgoJHJlc29sdmUsIHByb21pc2UsIDEpO1xuICAgIHRoaXMucmVqZWN0ID0gY3R4KCRyZWplY3QsIHByb21pc2UsIDEpO1xuICB9O1xuICBuZXdQcm9taXNlQ2FwYWJpbGl0eU1vZHVsZS5mID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbiAoQykge1xuICAgIHJldHVybiBDID09PSAkUHJvbWlzZSB8fCBDID09PSBXcmFwcGVyXG4gICAgICA/IG5ldyBPd25Qcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgICAgOiBuZXdHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG4gIH07XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHsgUHJvbWlzZTogJFByb21pc2UgfSk7XG5yZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpKCRQcm9taXNlLCBQUk9NSVNFKTtcbnJlcXVpcmUoJy4vX3NldC1zcGVjaWVzJykoUFJPTUlTRSk7XG5XcmFwcGVyID0gcmVxdWlyZSgnLi9fY29yZScpW1BST01JU0VdO1xuXG4vLyBzdGF0aWNzXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC41IFByb21pc2UucmVqZWN0KHIpXG4gIHJlamVjdDogZnVuY3Rpb24gcmVqZWN0KHIpIHtcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpO1xuICAgIHZhciAkJHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgICQkcmVqZWN0KHIpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoTElCUkFSWSB8fCAhVVNFX05BVElWRSksIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjYgUHJvbWlzZS5yZXNvbHZlKHgpXG4gIHJlc29sdmU6IGZ1bmN0aW9uIHJlc29sdmUoeCkge1xuICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZShMSUJSQVJZICYmIHRoaXMgPT09IFdyYXBwZXIgPyAkUHJvbWlzZSA6IHRoaXMsIHgpO1xuICB9XG59KTtcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIShVU0VfTkFUSVZFICYmIHJlcXVpcmUoJy4vX2l0ZXItZGV0ZWN0JykoZnVuY3Rpb24gKGl0ZXIpIHtcbiAgJFByb21pc2UuYWxsKGl0ZXIpWydjYXRjaCddKGVtcHR5KTtcbn0pKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuMSBQcm9taXNlLmFsbChpdGVyYWJsZSlcbiAgYWxsOiBmdW5jdGlvbiBhbGwoaXRlcmFibGUpIHtcbiAgICB2YXIgQyA9IHRoaXM7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKTtcbiAgICB2YXIgcmVzb2x2ZSA9IGNhcGFiaWxpdHkucmVzb2x2ZTtcbiAgICB2YXIgcmVqZWN0ID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgIHZhciByZW1haW5pbmcgPSAxO1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICB2YXIgJGluZGV4ID0gaW5kZXgrKztcbiAgICAgICAgdmFyIGFscmVhZHlDYWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFsdWVzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgcmVtYWluaW5nKys7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIGlmIChhbHJlYWR5Q2FsbGVkKSByZXR1cm47XG4gICAgICAgICAgYWxyZWFkeUNhbGxlZCA9IHRydWU7XG4gICAgICAgICAgdmFsdWVzWyRpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIH0sIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LmUpIHJlamVjdChyZXN1bHQudik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfSxcbiAgLy8gMjUuNC40LjQgUHJvbWlzZS5yYWNlKGl0ZXJhYmxlKVxuICByYWNlOiBmdW5jdGlvbiByYWNlKGl0ZXJhYmxlKSB7XG4gICAgdmFyIEMgPSB0aGlzO1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQyk7XG4gICAgdmFyIHJlamVjdCA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgIHZhciByZXN1bHQgPSBwZXJmb3JtKGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oY2FwYWJpbGl0eS5yZXNvbHZlLCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdC5lKSByZWplY3QocmVzdWx0LnYpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///32878\n")},91867:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\nvar $at = __webpack_require__(90510)(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n__webpack_require__(45700)(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTE4NjcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanM/MTY1NCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgJGF0ID0gcmVxdWlyZSgnLi9fc3RyaW5nLWF0JykodHJ1ZSk7XG5cbi8vIDIxLjEuMy4yNyBTdHJpbmcucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbnJlcXVpcmUoJy4vX2l0ZXItZGVmaW5lJykoU3RyaW5nLCAnU3RyaW5nJywgZnVuY3Rpb24gKGl0ZXJhdGVkKSB7XG4gIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbi8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uICgpIHtcbiAgdmFyIE8gPSB0aGlzLl90O1xuICB2YXIgaW5kZXggPSB0aGlzLl9pO1xuICB2YXIgcG9pbnQ7XG4gIGlmIChpbmRleCA+PSBPLmxlbmd0aCkgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICBwb2ludCA9ICRhdChPLCBpbmRleCk7XG4gIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICByZXR1cm4geyB2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlIH07XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///91867\n")},46840:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n// ECMAScript 6 symbols shim\nvar global = __webpack_require__(33938);\nvar has = __webpack_require__(27069);\nvar DESCRIPTORS = __webpack_require__(89666);\nvar $export = __webpack_require__(83856);\nvar redefine = __webpack_require__(57470);\nvar META = (__webpack_require__(77177).KEY);\nvar $fails = __webpack_require__(7929);\nvar shared = __webpack_require__(20250);\nvar setToStringTag = __webpack_require__(25378);\nvar uid = __webpack_require__(65730);\nvar wks = __webpack_require__(22939);\nvar wksExt = __webpack_require__(25103);\nvar wksDefine = __webpack_require__(76347);\nvar enumKeys = __webpack_require__(70337);\nvar isArray = __webpack_require__(71421);\nvar anObject = __webpack_require__(12159);\nvar isObject = __webpack_require__(36727);\nvar toObject = __webpack_require__(66530);\nvar toIObject = __webpack_require__(7932);\nvar toPrimitive = __webpack_require__(33206);\nvar createDesc = __webpack_require__(83101);\nvar _create = __webpack_require__(98989);\nvar gOPNExt = __webpack_require__(94368);\nvar $GOPD = __webpack_require__(76183);\nvar $GOPS = __webpack_require__(48195);\nvar $DP = __webpack_require__(4743);\nvar $keys = __webpack_require__(46162);\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  (__webpack_require__(33230).f) = gOPNExt.f = $getOwnPropertyNames;\n  (__webpack_require__(86274).f) = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !__webpack_require__(16227)) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(41818)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDY4NDAuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qcz8wMTRiIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0Jztcbi8vIEVDTUFTY3JpcHQgNiBzeW1ib2xzIHNoaW1cbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJyk7XG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHJlZGVmaW5lID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKTtcbnZhciBNRVRBID0gcmVxdWlyZSgnLi9fbWV0YScpLktFWTtcbnZhciAkZmFpbHMgPSByZXF1aXJlKCcuL19mYWlscycpO1xudmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKTtcbnZhciB1aWQgPSByZXF1aXJlKCcuL191aWQnKTtcbnZhciB3a3MgPSByZXF1aXJlKCcuL193a3MnKTtcbnZhciB3a3NFeHQgPSByZXF1aXJlKCcuL193a3MtZXh0Jyk7XG52YXIgd2tzRGVmaW5lID0gcmVxdWlyZSgnLi9fd2tzLWRlZmluZScpO1xudmFyIGVudW1LZXlzID0gcmVxdWlyZSgnLi9fZW51bS1rZXlzJyk7XG52YXIgaXNBcnJheSA9IHJlcXVpcmUoJy4vX2lzLWFycmF5Jyk7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0Jyk7XG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbnZhciBfY3JlYXRlID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpO1xudmFyIGdPUE5FeHQgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbi1leHQnKTtcbnZhciAkR09QRCA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJyk7XG52YXIgJEdPUFMgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpO1xudmFyICREUCA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpO1xudmFyICRrZXlzID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKTtcbnZhciBnT1BEID0gJEdPUEQuZjtcbnZhciBkUCA9ICREUC5mO1xudmFyIGdPUE4gPSBnT1BORXh0LmY7XG52YXIgJFN5bWJvbCA9IGdsb2JhbC5TeW1ib2w7XG52YXIgJEpTT04gPSBnbG9iYWwuSlNPTjtcbnZhciBfc3RyaW5naWZ5ID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5O1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xudmFyIEhJRERFTiA9IHdrcygnX2hpZGRlbicpO1xudmFyIFRPX1BSSU1JVElWRSA9IHdrcygndG9QcmltaXRpdmUnKTtcbnZhciBpc0VudW0gPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5Jyk7XG52YXIgQWxsU3ltYm9scyA9IHNoYXJlZCgnc3ltYm9scycpO1xudmFyIE9QU3ltYm9scyA9IHNoYXJlZCgnb3Atc3ltYm9scycpO1xudmFyIE9iamVjdFByb3RvID0gT2JqZWN0W1BST1RPVFlQRV07XG52YXIgVVNFX05BVElWRSA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbicgJiYgISEkR09QUy5mO1xudmFyIFFPYmplY3QgPSBnbG9iYWwuUU9iamVjdDtcbi8vIERvbid0IHVzZSBzZXR0ZXJzIGluIFF0IFNjcmlwdCwgaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzE3M1xudmFyIHNldHRlciA9ICFRT2JqZWN0IHx8ICFRT2JqZWN0W1BST1RPVFlQRV0gfHwgIVFPYmplY3RbUFJPVE9UWVBFXS5maW5kQ2hpbGQ7XG5cbi8vIGZhbGxiYWNrIGZvciBvbGQgQW5kcm9pZCwgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTY4N1xudmFyIHNldFN5bWJvbERlc2MgPSBERVNDUklQVE9SUyAmJiAkZmFpbHMoZnVuY3Rpb24gKCkge1xuICByZXR1cm4gX2NyZWF0ZShkUCh7fSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBkUCh0aGlzLCAnYScsIHsgdmFsdWU6IDcgfSkuYTsgfVxuICB9KSkuYSAhPSA3O1xufSkgPyBmdW5jdGlvbiAoaXQsIGtleSwgRCkge1xuICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcbiAgaWYgKHByb3RvRGVzYykgZGVsZXRlIE9iamVjdFByb3RvW2tleV07XG4gIGRQKGl0LCBrZXksIEQpO1xuICBpZiAocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bykgZFAoT2JqZWN0UHJvdG8sIGtleSwgcHJvdG9EZXNjKTtcbn0gOiBkUDtcblxudmFyIHdyYXAgPSBmdW5jdGlvbiAodGFnKSB7XG4gIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2xbUFJPVE9UWVBFXSk7XG4gIHN5bS5fayA9IHRhZztcbiAgcmV0dXJuIHN5bTtcbn07XG5cbnZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJztcbn0gOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGl0IGluc3RhbmNlb2YgJFN5bWJvbDtcbn07XG5cbnZhciAkZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBEKSB7XG4gIGlmIChpdCA9PT0gT2JqZWN0UHJvdG8pICRkZWZpbmVQcm9wZXJ0eShPUFN5bWJvbHMsIGtleSwgRCk7XG4gIGFuT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgYW5PYmplY3QoRCk7XG4gIGlmIChoYXMoQWxsU3ltYm9scywga2V5KSkge1xuICAgIGlmICghRC5lbnVtZXJhYmxlKSB7XG4gICAgICBpZiAoIWhhcyhpdCwgSElEREVOKSkgZFAoaXQsIEhJRERFTiwgY3JlYXRlRGVzYygxLCB7fSkpO1xuICAgICAgaXRbSElEREVOXVtrZXldID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGhhcyhpdCwgSElEREVOKSAmJiBpdFtISURERU5dW2tleV0pIGl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgRCA9IF9jcmVhdGUoRCwgeyBlbnVtZXJhYmxlOiBjcmVhdGVEZXNjKDAsIGZhbHNlKSB9KTtcbiAgICB9IHJldHVybiBzZXRTeW1ib2xEZXNjKGl0LCBrZXksIEQpO1xuICB9IHJldHVybiBkUChpdCwga2V5LCBEKTtcbn07XG52YXIgJGRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKGl0LCBQKSB7XG4gIGFuT2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9JT2JqZWN0KFApKTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgbCA9IGtleXMubGVuZ3RoO1xuICB2YXIga2V5O1xuICB3aGlsZSAobCA+IGkpICRkZWZpbmVQcm9wZXJ0eShpdCwga2V5ID0ga2V5c1tpKytdLCBQW2tleV0pO1xuICByZXR1cm4gaXQ7XG59O1xudmFyICRjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaXQsIFApIHtcbiAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xufTtcbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpIHtcbiAgdmFyIEUgPSBpc0VudW0uY2FsbCh0aGlzLCBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpKTtcbiAgaWYgKHRoaXMgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcbn07XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KSB7XG4gIGl0ID0gdG9JT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgaWYgKGl0ID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSkgcmV0dXJuO1xuICB2YXIgRCA9IGdPUEQoaXQsIGtleSk7XG4gIGlmIChEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpIEQuZW51bWVyYWJsZSA9IHRydWU7XG4gIHJldHVybiBEO1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlOYW1lcyA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoaXQpIHtcbiAgdmFyIG5hbWVzID0gZ09QTih0b0lPYmplY3QoaXQpKTtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICB2YXIgaSA9IDA7XG4gIHZhciBrZXk7XG4gIHdoaWxlIChuYW1lcy5sZW5ndGggPiBpKSB7XG4gICAgaWYgKCFoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYga2V5ICE9IEhJRERFTiAmJiBrZXkgIT0gTUVUQSkgcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KSB7XG4gIHZhciBJU19PUCA9IGl0ID09PSBPYmplY3RQcm90bztcbiAgdmFyIG5hbWVzID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpO1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBpID0gMDtcbiAgdmFyIGtleTtcbiAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIHtcbiAgICBpZiAoaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIChJU19PUCA/IGhhcyhPYmplY3RQcm90bywga2V5KSA6IHRydWUpKSByZXN1bHQucHVzaChBbGxTeW1ib2xzW2tleV0pO1xuICB9IHJldHVybiByZXN1bHQ7XG59O1xuXG4vLyAxOS40LjEuMSBTeW1ib2woW2Rlc2NyaXB0aW9uXSlcbmlmICghVVNFX05BVElWRSkge1xuICAkU3ltYm9sID0gZnVuY3Rpb24gU3ltYm9sKCkge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCkgdGhyb3cgVHlwZUVycm9yKCdTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3IhJyk7XG4gICAgdmFyIHRhZyA9IHVpZChhcmd1bWVudHMubGVuZ3RoID4gMCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZCk7XG4gICAgdmFyICRzZXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh0aGlzID09PSBPYmplY3RQcm90bykgJHNldC5jYWxsKE9QU3ltYm9scywgdmFsdWUpO1xuICAgICAgaWYgKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpIHRoaXNbSElEREVOXVt0YWddID0gZmFsc2U7XG4gICAgICBzZXRTeW1ib2xEZXNjKHRoaXMsIHRhZywgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xuICAgIH07XG4gICAgaWYgKERFU0NSSVBUT1JTICYmIHNldHRlcikgc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgc2V0OiAkc2V0IH0pO1xuICAgIHJldHVybiB3cmFwKHRhZyk7XG4gIH07XG4gIHJlZGVmaW5lKCRTeW1ib2xbUFJPVE9UWVBFXSwgJ3RvU3RyaW5nJywgZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2s7XG4gIH0pO1xuXG4gICRHT1BELmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkRFAuZiA9ICRkZWZpbmVQcm9wZXJ0eTtcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4nKS5mID0gZ09QTkV4dC5mID0gJGdldE93blByb3BlcnR5TmFtZXM7XG4gIHJlcXVpcmUoJy4vX29iamVjdC1waWUnKS5mID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICAkR09QUy5mID0gJGdldE93blByb3BlcnR5U3ltYm9scztcblxuICBpZiAoREVTQ1JJUFRPUlMgJiYgIXJlcXVpcmUoJy4vX2xpYnJhcnknKSkge1xuICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuICB9XG5cbiAgd2tzRXh0LmYgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiB3cmFwKHdrcyhuYW1lKSk7XG4gIH07XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHsgU3ltYm9sOiAkU3ltYm9sIH0pO1xuXG5mb3IgKHZhciBlczZTeW1ib2xzID0gKFxuICAvLyAxOS40LjIuMiwgMTkuNC4yLjMsIDE5LjQuMi40LCAxOS40LjIuNiwgMTkuNC4yLjgsIDE5LjQuMi45LCAxOS40LjIuMTAsIDE5LjQuMi4xMSwgMTkuNC4yLjEyLCAxOS40LjIuMTMsIDE5LjQuMi4xNFxuICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG4pLnNwbGl0KCcsJyksIGogPSAwOyBlczZTeW1ib2xzLmxlbmd0aCA+IGo7KXdrcyhlczZTeW1ib2xzW2orK10pO1xuXG5mb3IgKHZhciB3ZWxsS25vd25TeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgayA9IDA7IHdlbGxLbm93blN5bWJvbHMubGVuZ3RoID4gazspIHdrc0RlZmluZSh3ZWxsS25vd25TeW1ib2xzW2srK10pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnU3ltYm9sJywge1xuICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcbiAgJ2Zvcic6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gaGFzKFN5bWJvbFJlZ2lzdHJ5LCBrZXkgKz0gJycpXG4gICAgICA/IFN5bWJvbFJlZ2lzdHJ5W2tleV1cbiAgICAgIDogU3ltYm9sUmVnaXN0cnlba2V5XSA9ICRTeW1ib2woa2V5KTtcbiAgfSxcbiAgLy8gMTkuNC4yLjUgU3ltYm9sLmtleUZvcihzeW0pXG4gIGtleUZvcjogZnVuY3Rpb24ga2V5Rm9yKHN5bSkge1xuICAgIGlmICghaXNTeW1ib2woc3ltKSkgdGhyb3cgVHlwZUVycm9yKHN5bSArICcgaXMgbm90IGEgc3ltYm9sIScpO1xuICAgIGZvciAodmFyIGtleSBpbiBTeW1ib2xSZWdpc3RyeSkgaWYgKFN5bWJvbFJlZ2lzdHJ5W2tleV0gPT09IHN5bSkgcmV0dXJuIGtleTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbiAoKSB7IHNldHRlciA9IHRydWU7IH0sXG4gIHVzZVNpbXBsZTogZnVuY3Rpb24gKCkgeyBzZXR0ZXIgPSBmYWxzZTsgfVxufSk7XG5cbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsICdPYmplY3QnLCB7XG4gIC8vIDE5LjEuMi4yIE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcbiAgY3JlYXRlOiAkY3JlYXRlLFxuICAvLyAxOS4xLjIuNCBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcbiAgZGVmaW5lUHJvcGVydHk6ICRkZWZpbmVQcm9wZXJ0eSxcbiAgLy8gMTkuMS4yLjMgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcylcbiAgZGVmaW5lUHJvcGVydGllczogJGRlZmluZVByb3BlcnRpZXMsXG4gIC8vIDE5LjEuMi42IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTywgUClcbiAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAvLyAxOS4xLjIuNyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhPKVxuICBnZXRPd25Qcm9wZXJ0eU5hbWVzOiAkZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgLy8gMTkuMS4yLjggT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhPKVxuICBnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6ICRnZXRPd25Qcm9wZXJ0eVN5bWJvbHNcbn0pO1xuXG4vLyBDaHJvbWUgMzggYW5kIDM5IGBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzYCBmYWlscyBvbiBwcmltaXRpdmVzXG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zNDQzXG52YXIgRkFJTFNfT05fUFJJTUlUSVZFUyA9ICRmYWlscyhmdW5jdGlvbiAoKSB7ICRHT1BTLmYoMSk7IH0pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIEZBSUxTX09OX1BSSU1JVElWRVMsICdPYmplY3QnLCB7XG4gIGdldE93blByb3BlcnR5U3ltYm9sczogZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KSB7XG4gICAgcmV0dXJuICRHT1BTLmYodG9PYmplY3QoaXQpKTtcbiAgfVxufSk7XG5cbi8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuJEpTT04gJiYgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgJGZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgdmFyIFMgPSAkU3ltYm9sKCk7XG4gIC8vIE1TIEVkZ2UgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIHt9XG4gIC8vIFdlYktpdCBjb252ZXJ0cyBzeW1ib2wgdmFsdWVzIHRvIEpTT04gYXMgbnVsbFxuICAvLyBWOCB0aHJvd3Mgb24gYm94ZWQgc3ltYm9sc1xuICByZXR1cm4gX3N0cmluZ2lmeShbU10pICE9ICdbbnVsbF0nIHx8IF9zdHJpbmdpZnkoeyBhOiBTIH0pICE9ICd7fScgfHwgX3N0cmluZ2lmeShPYmplY3QoUykpICE9ICd7fSc7XG59KSksICdKU09OJywge1xuICBzdHJpbmdpZnk6IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCkge1xuICAgIHZhciBhcmdzID0gW2l0XTtcbiAgICB2YXIgaSA9IDE7XG4gICAgdmFyIHJlcGxhY2VyLCAkcmVwbGFjZXI7XG4gICAgd2hpbGUgKGFyZ3VtZW50cy5sZW5ndGggPiBpKSBhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgICRyZXBsYWNlciA9IHJlcGxhY2VyID0gYXJnc1sxXTtcbiAgICBpZiAoIWlzT2JqZWN0KHJlcGxhY2VyKSAmJiBpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSkgcmV0dXJuOyAvLyBJRTggcmV0dXJucyBzdHJpbmcgb24gdW5kZWZpbmVkXG4gICAgaWYgKCFpc0FycmF5KHJlcGxhY2VyKSkgcmVwbGFjZXIgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiAkcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykgdmFsdWUgPSAkcmVwbGFjZXIuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmICghaXNTeW1ib2wodmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICBhcmdzWzFdID0gcmVwbGFjZXI7XG4gICAgcmV0dXJuIF9zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3MpO1xuICB9XG59KTtcblxuLy8gMTkuNC4zLjQgU3ltYm9sLnByb3RvdHlwZVtAQHRvUHJpbWl0aXZlXShoaW50KVxuJFN5bWJvbFtQUk9UT1RZUEVdW1RPX1BSSU1JVElWRV0gfHwgcmVxdWlyZSgnLi9faGlkZScpKCRTeW1ib2xbUFJPVE9UWVBFXSwgVE9fUFJJTUlUSVZFLCAkU3ltYm9sW1BST1RPVFlQRV0udmFsdWVPZik7XG4vLyAxOS40LjMuNSBTeW1ib2wucHJvdG90eXBlW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZygkU3ltYm9sLCAnU3ltYm9sJyk7XG4vLyAyMC4yLjEuOSBNYXRoW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhNYXRoLCAnTWF0aCcsIHRydWUpO1xuLy8gMjQuMy4zIEpTT05bQEB0b1N0cmluZ1RhZ11cbnNldFRvU3RyaW5nVGFnKGdsb2JhbC5KU09OLCAnSlNPTicsIHRydWUpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///46840\n")},95971:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("// https://github.com/tc39/proposal-promise-finally\n\nvar $export = __webpack_require__(83856);\nvar core = __webpack_require__(34579);\nvar global = __webpack_require__(33938);\nvar speciesConstructor = __webpack_require__(32707);\nvar promiseResolve = __webpack_require__(87790);\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTU5NzEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5wcm9taXNlLmZpbmFsbHkuanM/M2MxMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wcm9taXNlLWZpbmFsbHlcbid1c2Ugc3RyaWN0JztcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL19zcGVjaWVzLWNvbnN0cnVjdG9yJyk7XG52YXIgcHJvbWlzZVJlc29sdmUgPSByZXF1aXJlKCcuL19wcm9taXNlLXJlc29sdmUnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlAgKyAkZXhwb3J0LlIsICdQcm9taXNlJywgeyAnZmluYWxseSc6IGZ1bmN0aW9uIChvbkZpbmFsbHkpIHtcbiAgdmFyIEMgPSBzcGVjaWVzQ29uc3RydWN0b3IodGhpcywgY29yZS5Qcm9taXNlIHx8IGdsb2JhbC5Qcm9taXNlKTtcbiAgdmFyIGlzRnVuY3Rpb24gPSB0eXBlb2Ygb25GaW5hbGx5ID09ICdmdW5jdGlvbic7XG4gIHJldHVybiB0aGlzLnRoZW4oXG4gICAgaXNGdW5jdGlvbiA/IGZ1bmN0aW9uICh4KSB7XG4gICAgICByZXR1cm4gcHJvbWlzZVJlc29sdmUoQywgb25GaW5hbGx5KCkpLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4geDsgfSk7XG4gICAgfSA6IG9uRmluYWxseSxcbiAgICBpc0Z1bmN0aW9uID8gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBwcm9taXNlUmVzb2x2ZShDLCBvbkZpbmFsbHkoKSkudGhlbihmdW5jdGlvbiAoKSB7IHRocm93IGU7IH0pO1xuICAgIH0gOiBvbkZpbmFsbHlcbiAgKTtcbn0gfSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///95971\n")},22526:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n// https://github.com/tc39/proposal-promise-try\nvar $export = __webpack_require__(83856);\nvar newPromiseCapability = __webpack_require__(59304);\nvar perform = __webpack_require__(10931);\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI1MjYuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnByb21pc2UudHJ5LmpzPzQzZmMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtcHJvbWlzZS10cnlcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSByZXF1aXJlKCcuL19uZXctcHJvbWlzZS1jYXBhYmlsaXR5Jyk7XG52YXIgcGVyZm9ybSA9IHJlcXVpcmUoJy4vX3BlcmZvcm0nKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMsICdQcm9taXNlJywgeyAndHJ5JzogZnVuY3Rpb24gKGNhbGxiYWNrZm4pIHtcbiAgdmFyIHByb21pc2VDYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkuZih0aGlzKTtcbiAgdmFyIHJlc3VsdCA9IHBlcmZvcm0oY2FsbGJhY2tmbik7XG4gIChyZXN1bHQuZSA/IHByb21pc2VDYXBhYmlsaXR5LnJlamVjdCA6IHByb21pc2VDYXBhYmlsaXR5LnJlc29sdmUpKHJlc3VsdC52KTtcbiAgcmV0dXJuIHByb21pc2VDYXBhYmlsaXR5LnByb21pc2U7XG59IH0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///22526\n")},8174:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(76347)('asyncIterator');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODE3NC5qcyIsIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanM/NjlkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuL193a3MtZGVmaW5lJykoJ2FzeW5jSXRlcmF0b3InKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8174\n")},36461:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(76347)('observable');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY0NjEuanMiLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUuanM/NzY1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuL193a3MtZGVmaW5lJykoJ29ic2VydmFibGUnKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///36461\n")},73871:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{eval("__webpack_require__(3882);\nvar global = __webpack_require__(33938);\nvar hide = __webpack_require__(41818);\nvar Iterators = __webpack_require__(15449);\nvar TO_STRING_TAG = __webpack_require__(22939)('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzM4NzEuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzPzZjMWMiXSwic291cmNlc0NvbnRlbnQiOlsicmVxdWlyZSgnLi9lczYuYXJyYXkuaXRlcmF0b3InKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBoaWRlID0gcmVxdWlyZSgnLi9faGlkZScpO1xudmFyIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xudmFyIFRPX1NUUklOR19UQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxudmFyIERPTUl0ZXJhYmxlcyA9ICgnQ1NTUnVsZUxpc3QsQ1NTU3R5bGVEZWNsYXJhdGlvbixDU1NWYWx1ZUxpc3QsQ2xpZW50UmVjdExpc3QsRE9NUmVjdExpc3QsRE9NU3RyaW5nTGlzdCwnICtcbiAgJ0RPTVRva2VuTGlzdCxEYXRhVHJhbnNmZXJJdGVtTGlzdCxGaWxlTGlzdCxIVE1MQWxsQ29sbGVjdGlvbixIVE1MQ29sbGVjdGlvbixIVE1MRm9ybUVsZW1lbnQsSFRNTFNlbGVjdEVsZW1lbnQsJyArXG4gICdNZWRpYUxpc3QsTWltZVR5cGVBcnJheSxOYW1lZE5vZGVNYXAsTm9kZUxpc3QsUGFpbnRSZXF1ZXN0TGlzdCxQbHVnaW4sUGx1Z2luQXJyYXksU1ZHTGVuZ3RoTGlzdCxTVkdOdW1iZXJMaXN0LCcgK1xuICAnU1ZHUGF0aFNlZ0xpc3QsU1ZHUG9pbnRMaXN0LFNWR1N0cmluZ0xpc3QsU1ZHVHJhbnNmb3JtTGlzdCxTb3VyY2VCdWZmZXJMaXN0LFN0eWxlU2hlZXRMaXN0LFRleHRUcmFja0N1ZUxpc3QsJyArXG4gICdUZXh0VHJhY2tMaXN0LFRvdWNoTGlzdCcpLnNwbGl0KCcsJyk7XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgRE9NSXRlcmFibGVzLmxlbmd0aDsgaSsrKSB7XG4gIHZhciBOQU1FID0gRE9NSXRlcmFibGVzW2ldO1xuICB2YXIgQ29sbGVjdGlvbiA9IGdsb2JhbFtOQU1FXTtcbiAgdmFyIHByb3RvID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbiAgaWYgKHByb3RvICYmICFwcm90b1tUT19TVFJJTkdfVEFHXSkgaGlkZShwcm90bywgVE9fU1RSSU5HX1RBRywgTkFNRSk7XG4gIEl0ZXJhdG9yc1tOQU1FXSA9IEl0ZXJhdG9ycy5BcnJheTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///73871\n")},50139:(module,exports)=>{"use strict";eval('\n\nexports.__esModule = true;\nexports["default"] = void 0;\n\nvar _default = !!(typeof window !== \'undefined\' && window.document && window.document.createElement);\n\nexports["default"] = _default;\nmodule.exports = exports["default"];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAxMzkuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvdXRpbC9pbkRPTS5qcz8wNjlmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2RlZmF1bHQgPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///50139\n')},44825:(module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar _interopRequireDefault = __webpack_require__(64836);\n\nexports.__esModule = true;\nexports[\"default\"] = scrollbarSize;\n\nvar _inDOM = _interopRequireDefault(__webpack_require__(50139));\n\nvar size;\n\nfunction scrollbarSize(recalc) {\n  if (!size && size !== 0 || recalc) {\n    if (_inDOM.default) {\n      var scrollDiv = document.createElement('div');\n      scrollDiv.style.position = 'absolute';\n      scrollDiv.style.top = '-9999px';\n      scrollDiv.style.width = '50px';\n      scrollDiv.style.height = '50px';\n      scrollDiv.style.overflow = 'scroll';\n      document.body.appendChild(scrollDiv);\n      size = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n      document.body.removeChild(scrollDiv);\n    }\n  }\n\n  return size;\n}\n\nmodule.exports = exports[\"default\"];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDQ4MjUuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvZG9tLWhlbHBlcnMvdXRpbC9zY3JvbGxiYXJTaXplLmpzP2M1NDYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0ID0gcmVxdWlyZShcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0XCIpO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gc2Nyb2xsYmFyU2l6ZTtcblxudmFyIF9pbkRPTSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vaW5ET01cIikpO1xuXG52YXIgc2l6ZTtcblxuZnVuY3Rpb24gc2Nyb2xsYmFyU2l6ZShyZWNhbGMpIHtcbiAgaWYgKCFzaXplICYmIHNpemUgIT09IDAgfHwgcmVjYWxjKSB7XG4gICAgaWYgKF9pbkRPTS5kZWZhdWx0KSB7XG4gICAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBzY3JvbGxEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgc2Nyb2xsRGl2LnN0eWxlLnRvcCA9ICctOTk5OXB4JztcbiAgICAgIHNjcm9sbERpdi5zdHlsZS53aWR0aCA9ICc1MHB4JztcbiAgICAgIHNjcm9sbERpdi5zdHlsZS5oZWlnaHQgPSAnNTBweCc7XG4gICAgICBzY3JvbGxEaXYuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2Nyb2xsRGl2KTtcbiAgICAgIHNpemUgPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNpemU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///44825\n")},92703:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = __webpack_require__(50414);\n\nfunction emptyFunction() {}\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTI3MDMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zLmpzP2Q3YTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG5cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBzaGltKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgaWYgKHNlY3JldCA9PT0gUmVhY3RQcm9wVHlwZXNTZWNyZXQpIHtcbiAgICAgIC8vIEl0IGlzIHN0aWxsIHNhZmUgd2hlbiBjYWxsZWQgZnJvbSBSZWFjdC5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcihcbiAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICdVc2UgUHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzKCkgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICk7XG4gICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgdGhyb3cgZXJyO1xuICB9O1xuICBzaGltLmlzUmVxdWlyZWQgPSBzaGltO1xuICBmdW5jdGlvbiBnZXRTaGltKCkge1xuICAgIHJldHVybiBzaGltO1xuICB9O1xuICAvLyBJbXBvcnRhbnQhXG4gIC8vIEtlZXAgdGhpcyBsaXN0IGluIHN5bmMgd2l0aCBwcm9kdWN0aW9uIHZlcnNpb24gaW4gYC4vZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanNgLlxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IHNoaW0sXG4gICAgYm9vbDogc2hpbSxcbiAgICBmdW5jOiBzaGltLFxuICAgIG51bWJlcjogc2hpbSxcbiAgICBvYmplY3Q6IHNoaW0sXG4gICAgc3RyaW5nOiBzaGltLFxuICAgIHN5bWJvbDogc2hpbSxcblxuICAgIGFueTogc2hpbSxcbiAgICBhcnJheU9mOiBnZXRTaGltLFxuICAgIGVsZW1lbnQ6IHNoaW0sXG4gICAgaW5zdGFuY2VPZjogZ2V0U2hpbSxcbiAgICBub2RlOiBzaGltLFxuICAgIG9iamVjdE9mOiBnZXRTaGltLFxuICAgIG9uZU9mOiBnZXRTaGltLFxuICAgIG9uZU9mVHlwZTogZ2V0U2hpbSxcbiAgICBzaGFwZTogZ2V0U2hpbSxcbiAgICBleGFjdDogZ2V0U2hpbVxuICB9O1xuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gZW1wdHlGdW5jdGlvbjtcbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///92703\n")},45697:(module,__unused_webpack_exports,__webpack_require__)=>{eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (false) { var throwOnDirectAccess, isValidElement, REACT_ELEMENT_TYPE; } else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = __webpack_require__(92703)();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDU2OTcuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvaW5kZXguanM/ZDdiYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIFN5bWJvbC5mb3IgJiZcbiAgICBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG4gICAgMHhlYWM3O1xuXG4gIHZhciBpc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgb2JqZWN0ICE9PSBudWxsICYmXG4gICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbiAgfTtcblxuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7XG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcycpKCk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///45697\n")},50414:module=>{"use strict";eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA0MTQuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanM/NTliMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///50414\n")},87774:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('/**\n * @license React\n * react-dom-server-legacy.browser.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar aa=__webpack_require__(87363);function l(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}\nvar p=Object.prototype.hasOwnProperty,fa=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,ha={},ia={};\nfunction ja(a){if(p.call(ia,a))return!0;if(p.call(ha,a))return!1;if(fa.test(a))return ia[a]=!0;ha[a]=!0;return!1}function r(a,b,c,d,f,e,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=f;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=e;this.removeEmptyString=g}var t={};\n"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){t[a]=new r(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];t[b]=new r(b,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){t[a]=new r(a,2,!1,a.toLowerCase(),null,!1,!1)});\n["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){t[a]=new r(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){t[a]=new r(a,3,!1,a.toLowerCase(),null,!1,!1)});\n["checked","multiple","muted","selected"].forEach(function(a){t[a]=new r(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){t[a]=new r(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){t[a]=new r(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){t[a]=new r(a,5,!1,a.toLowerCase(),null,!1,!1)});var ka=/[\\-:]([a-z])/g;function la(a){return a[1].toUpperCase()}\n"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=a.replace(ka,\nla);t[b]=new r(b,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(ka,la);t[b]=new r(b,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(ka,la);t[b]=new r(b,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){t[a]=new r(a,1,!1,a.toLowerCase(),null,!1,!1)});\nt.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){t[a]=new r(a,1,!1,a.toLowerCase(),null,!0,!0)});\nvar u={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,\nfillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ma=["Webkit","ms","Moz","O"];Object.keys(u).forEach(function(a){ma.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);u[b]=u[a]})});var na=/["\'&<>]/;\nfunction v(a){if("boolean"===typeof a||"number"===typeof a)return""+a;a=""+a;var b=na.exec(a);if(b){var c="",d,f=0;for(d=b.index;d<a.length;d++){switch(a.charCodeAt(d)){case 34:b="&quot;";break;case 38:b="&amp;";break;case 39:b="&#x27;";break;case 60:b="&lt;";break;case 62:b="&gt;";break;default:continue}f!==d&&(c+=a.substring(f,d));f=d+1;c+=b}a=f!==d?c+a.substring(f,d):c}return a}var oa=/([A-Z])/g,pa=/^ms-/,qa=Array.isArray;function w(a,b){return{insertionMode:a,selectedValue:b}}\nfunction ra(a,b,c){switch(b){case "select":return w(1,null!=c.value?c.value:c.defaultValue);case "svg":return w(2,null);case "math":return w(3,null);case "foreignObject":return w(1,null);case "table":return w(4,null);case "thead":case "tbody":case "tfoot":return w(5,null);case "colgroup":return w(7,null);case "tr":return w(6,null)}return 4<=a.insertionMode||0===a.insertionMode?w(1,null):a}var sa=new Map;\nfunction ta(a,b,c){if("object"!==typeof c)throw Error(l(62));b=!0;for(var d in c)if(p.call(c,d)){var f=c[d];if(null!=f&&"boolean"!==typeof f&&""!==f){if(0===d.indexOf("--")){var e=v(d);f=v((""+f).trim())}else{e=d;var g=sa.get(e);void 0!==g?e=g:(g=v(e.replace(oa,"-$1").toLowerCase().replace(pa,"-ms-")),sa.set(e,g),e=g);f="number"===typeof f?0===f||p.call(u,d)?""+f:f+"px":v((""+f).trim())}b?(b=!1,a.push(\' style="\',e,":",f)):a.push(";",e,":",f)}}b||a.push(\'"\')}\nfunction x(a,b,c,d){switch(c){case "style":ta(a,b,d);return;case "defaultValue":case "defaultChecked":case "innerHTML":case "suppressContentEditableWarning":case "suppressHydrationWarning":return}if(!(2<c.length)||"o"!==c[0]&&"O"!==c[0]||"n"!==c[1]&&"N"!==c[1])if(b=t.hasOwnProperty(c)?t[c]:null,null!==b){switch(typeof d){case "function":case "symbol":return;case "boolean":if(!b.acceptsBooleans)return}c=b.attributeName;switch(b.type){case 3:d&&a.push(" ",c,\'=""\');break;case 4:!0===d?a.push(" ",c,\'=""\'):\n!1!==d&&a.push(" ",c,\'="\',v(d),\'"\');break;case 5:isNaN(d)||a.push(" ",c,\'="\',v(d),\'"\');break;case 6:!isNaN(d)&&1<=d&&a.push(" ",c,\'="\',v(d),\'"\');break;default:b.sanitizeURL&&(d=""+d),a.push(" ",c,\'="\',v(d),\'"\')}}else if(ja(c)){switch(typeof d){case "function":case "symbol":return;case "boolean":if(b=c.toLowerCase().slice(0,5),"data-"!==b&&"aria-"!==b)return}a.push(" ",c,\'="\',v(d),\'"\')}}\nfunction y(a,b,c){if(null!=b){if(null!=c)throw Error(l(60));if("object"!==typeof b||!("__html"in b))throw Error(l(61));b=b.__html;null!==b&&void 0!==b&&a.push(""+b)}}function ua(a){var b="";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}\nfunction va(a,b,c,d){a.push(A(c));var f=c=null,e;for(e in b)if(p.call(b,e)){var g=b[e];if(null!=g)switch(e){case "children":c=g;break;case "dangerouslySetInnerHTML":f=g;break;default:x(a,d,e,g)}}a.push(">");y(a,f,c);return"string"===typeof c?(a.push(v(c)),null):c}var wa=/^[a-zA-Z][a-zA-Z:_\\.\\-\\d]*$/,xa=new Map;function A(a){var b=xa.get(a);if(void 0===b){if(!wa.test(a))throw Error(l(65,a));b="<"+a;xa.set(a,b)}return b}\nfunction ya(a,b,c,d,f){switch(b){case "select":a.push(A("select"));var e=null,g=null;for(n in c)if(p.call(c,n)){var h=c[n];if(null!=h)switch(n){case "children":e=h;break;case "dangerouslySetInnerHTML":g=h;break;case "defaultValue":case "value":break;default:x(a,d,n,h)}}a.push(">");y(a,g,e);return e;case "option":g=f.selectedValue;a.push(A("option"));var k=h=null,m=null;var n=null;for(e in c)if(p.call(c,e)){var q=c[e];if(null!=q)switch(e){case "children":h=q;break;case "selected":m=q;break;case "dangerouslySetInnerHTML":n=\nq;break;case "value":k=q;default:x(a,d,e,q)}}if(null!=g)if(c=null!==k?""+k:ua(h),qa(g))for(d=0;d<g.length;d++){if(""+g[d]===c){a.push(\' selected=""\');break}}else""+g===c&&a.push(\' selected=""\');else m&&a.push(\' selected=""\');a.push(">");y(a,n,h);return h;case "textarea":a.push(A("textarea"));n=g=e=null;for(h in c)if(p.call(c,h)&&(k=c[h],null!=k))switch(h){case "children":n=k;break;case "value":e=k;break;case "defaultValue":g=k;break;case "dangerouslySetInnerHTML":throw Error(l(91));default:x(a,d,\nh,k)}null===e&&null!==g&&(e=g);a.push(">");if(null!=n){if(null!=e)throw Error(l(92));if(qa(n)&&1<n.length)throw Error(l(93));e=""+n}"string"===typeof e&&"\\n"===e[0]&&a.push("\\n");null!==e&&a.push(v(""+e));return null;case "input":a.push(A("input"));k=n=h=e=null;for(g in c)if(p.call(c,g)&&(m=c[g],null!=m))switch(g){case "children":case "dangerouslySetInnerHTML":throw Error(l(399,"input"));case "defaultChecked":k=m;break;case "defaultValue":h=m;break;case "checked":n=m;break;case "value":e=m;break;\ndefault:x(a,d,g,m)}null!==n?x(a,d,"checked",n):null!==k&&x(a,d,"checked",k);null!==e?x(a,d,"value",e):null!==h&&x(a,d,"value",h);a.push("/>");return null;case "menuitem":a.push(A("menuitem"));for(var C in c)if(p.call(c,C)&&(e=c[C],null!=e))switch(C){case "children":case "dangerouslySetInnerHTML":throw Error(l(400));default:x(a,d,C,e)}a.push(">");return null;case "title":a.push(A("title"));e=null;for(q in c)if(p.call(c,q)&&(g=c[q],null!=g))switch(q){case "children":e=g;break;case "dangerouslySetInnerHTML":throw Error(l(434));\ndefault:x(a,d,q,g)}a.push(">");return e;case "listing":case "pre":a.push(A(b));g=e=null;for(k in c)if(p.call(c,k)&&(h=c[k],null!=h))switch(k){case "children":e=h;break;case "dangerouslySetInnerHTML":g=h;break;default:x(a,d,k,h)}a.push(">");if(null!=g){if(null!=e)throw Error(l(60));if("object"!==typeof g||!("__html"in g))throw Error(l(61));c=g.__html;null!==c&&void 0!==c&&("string"===typeof c&&0<c.length&&"\\n"===c[0]?a.push("\\n",c):a.push(""+c))}"string"===typeof e&&"\\n"===e[0]&&a.push("\\n");return e;\ncase "area":case "base":case "br":case "col":case "embed":case "hr":case "img":case "keygen":case "link":case "meta":case "param":case "source":case "track":case "wbr":a.push(A(b));for(var D in c)if(p.call(c,D)&&(e=c[D],null!=e))switch(D){case "children":case "dangerouslySetInnerHTML":throw Error(l(399,b));default:x(a,d,D,e)}a.push("/>");return null;case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return va(a,\nc,b,d);case "html":return 0===f.insertionMode&&a.push("<!DOCTYPE html>"),va(a,c,b,d);default:if(-1===b.indexOf("-")&&"string"!==typeof c.is)return va(a,c,b,d);a.push(A(b));g=e=null;for(m in c)if(p.call(c,m)&&(h=c[m],null!=h))switch(m){case "children":e=h;break;case "dangerouslySetInnerHTML":g=h;break;case "style":ta(a,d,h);break;case "suppressContentEditableWarning":case "suppressHydrationWarning":break;default:ja(m)&&"function"!==typeof h&&"symbol"!==typeof h&&a.push(" ",m,\'="\',v(h),\'"\')}a.push(">");\ny(a,g,e);return e}}function za(a,b,c){a.push(\'\\x3c!--$?--\\x3e<template id="\');if(null===c)throw Error(l(395));a.push(c);return a.push(\'"></template>\')}\nfunction Aa(a,b,c,d){switch(c.insertionMode){case 0:case 1:return a.push(\'<div hidden id="\'),a.push(b.segmentPrefix),b=d.toString(16),a.push(b),a.push(\'">\');case 2:return a.push(\'<svg aria-hidden="true" style="display:none" id="\'),a.push(b.segmentPrefix),b=d.toString(16),a.push(b),a.push(\'">\');case 3:return a.push(\'<math aria-hidden="true" style="display:none" id="\'),a.push(b.segmentPrefix),b=d.toString(16),a.push(b),a.push(\'">\');case 4:return a.push(\'<table hidden id="\'),a.push(b.segmentPrefix),\nb=d.toString(16),a.push(b),a.push(\'">\');case 5:return a.push(\'<table hidden><tbody id="\'),a.push(b.segmentPrefix),b=d.toString(16),a.push(b),a.push(\'">\');case 6:return a.push(\'<table hidden><tr id="\'),a.push(b.segmentPrefix),b=d.toString(16),a.push(b),a.push(\'">\');case 7:return a.push(\'<table hidden><colgroup id="\'),a.push(b.segmentPrefix),b=d.toString(16),a.push(b),a.push(\'">\');default:throw Error(l(397));}}\nfunction Ba(a,b){switch(b.insertionMode){case 0:case 1:return a.push("</div>");case 2:return a.push("</svg>");case 3:return a.push("</math>");case 4:return a.push("</table>");case 5:return a.push("</tbody></table>");case 6:return a.push("</tr></table>");case 7:return a.push("</colgroup></table>");default:throw Error(l(397));}}var Ca=/[<\\u2028\\u2029]/g;\nfunction Da(a){return JSON.stringify(a).replace(Ca,function(a){switch(a){case "<":return"\\\\u003c";case "\\u2028":return"\\\\u2028";case "\\u2029":return"\\\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React");}})}\nfunction Ea(a,b){b=void 0===b?"":b;return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:b+"P:",segmentPrefix:b+"S:",boundaryPrefix:b+"B:",idPrefix:b,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:a}}function Fa(a,b,c,d){if(c.generateStaticMarkup)return a.push(v(b)),!1;""===b?a=d:(d&&a.push("\\x3c!-- --\\x3e"),a.push(v(b)),a=!0);return a}\nvar B=Object.assign,Ga=Symbol.for("react.element"),Ha=Symbol.for("react.portal"),Ia=Symbol.for("react.fragment"),Ja=Symbol.for("react.strict_mode"),Ka=Symbol.for("react.profiler"),La=Symbol.for("react.provider"),Ma=Symbol.for("react.context"),Na=Symbol.for("react.forward_ref"),Oa=Symbol.for("react.suspense"),Pa=Symbol.for("react.suspense_list"),Qa=Symbol.for("react.memo"),Ra=Symbol.for("react.lazy"),Sa=Symbol.for("react.scope"),Ta=Symbol.for("react.debug_trace_mode"),Ua=Symbol.for("react.legacy_hidden"),\nVa=Symbol.for("react.default_value"),Wa=Symbol.iterator;\nfunction Xa(a){if(null==a)return null;if("function"===typeof a)return a.displayName||a.name||null;if("string"===typeof a)return a;switch(a){case Ia:return"Fragment";case Ha:return"Portal";case Ka:return"Profiler";case Ja:return"StrictMode";case Oa:return"Suspense";case Pa:return"SuspenseList"}if("object"===typeof a)switch(a.$$typeof){case Ma:return(a.displayName||"Context")+".Consumer";case La:return(a._context.displayName||"Context")+".Provider";case Na:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||"",a=""!==a?"ForwardRef("+a+")":"ForwardRef");return a;case Qa:return b=a.displayName||null,null!==b?b:Xa(a.type)||"Memo";case Ra:b=a._payload;a=a._init;try{return Xa(a(b))}catch(c){}}return null}var Ya={};function Za(a,b){a=a.contextTypes;if(!a)return Ya;var c={},d;for(d in a)c[d]=b[d];return c}var E=null;\nfunction F(a,b){if(a!==b){a.context._currentValue2=a.parentValue;a=a.parent;var c=b.parent;if(null===a){if(null!==c)throw Error(l(401));}else{if(null===c)throw Error(l(401));F(a,c)}b.context._currentValue2=b.value}}function $a(a){a.context._currentValue2=a.parentValue;a=a.parent;null!==a&&$a(a)}function ab(a){var b=a.parent;null!==b&&ab(b);a.context._currentValue2=a.value}\nfunction bb(a,b){a.context._currentValue2=a.parentValue;a=a.parent;if(null===a)throw Error(l(402));a.depth===b.depth?F(a,b):bb(a,b)}function cb(a,b){var c=b.parent;if(null===c)throw Error(l(402));a.depth===c.depth?F(a,c):cb(a,c);b.context._currentValue2=b.value}function G(a){var b=E;b!==a&&(null===b?ab(a):null===a?$a(b):b.depth===a.depth?F(b,a):b.depth>a.depth?bb(b,a):cb(b,a),E=a)}\nvar db={isMounted:function(){return!1},enqueueSetState:function(a,b){a=a._reactInternals;null!==a.queue&&a.queue.push(b)},enqueueReplaceState:function(a,b){a=a._reactInternals;a.replace=!0;a.queue=[b]},enqueueForceUpdate:function(){}};\nfunction eb(a,b,c,d){var f=void 0!==a.state?a.state:null;a.updater=db;a.props=c;a.state=f;var e={queue:[],replace:!1};a._reactInternals=e;var g=b.contextType;a.context="object"===typeof g&&null!==g?g._currentValue2:d;g=b.getDerivedStateFromProps;"function"===typeof g&&(g=g(c,f),f=null===g||void 0===g?f:B({},f,g),a.state=f);if("function"!==typeof b.getDerivedStateFromProps&&"function"!==typeof a.getSnapshotBeforeUpdate&&("function"===typeof a.UNSAFE_componentWillMount||"function"===typeof a.componentWillMount))if(b=\na.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),b!==a.state&&db.enqueueReplaceState(a,a.state,null),null!==e.queue&&0<e.queue.length)if(b=e.queue,g=e.replace,e.queue=null,e.replace=!1,g&&1===b.length)a.state=b[0];else{e=g?b[0]:a.state;f=!0;for(g=g?1:0;g<b.length;g++){var h=b[g];h="function"===typeof h?h.call(a,e,c,d):h;null!=h&&(f?(f=!1,e=B({},e,h)):B(e,h))}a.state=e}else e.queue=null}\nvar fb={id:1,overflow:""};function gb(a,b,c){var d=a.id;a=a.overflow;var f=32-H(d)-1;d&=~(1<<f);c+=1;var e=32-H(b)+f;if(30<e){var g=f-f%5;e=(d&(1<<g)-1).toString(32);d>>=g;f-=g;return{id:1<<32-H(b)+f|c<<f|d,overflow:e+a}}return{id:1<<e|c<<f|d,overflow:a}}var H=Math.clz32?Math.clz32:hb,ib=Math.log,jb=Math.LN2;function hb(a){a>>>=0;return 0===a?32:31-(ib(a)/jb|0)|0}function kb(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}\nvar lb="function"===typeof Object.is?Object.is:kb,I=null,ob=null,J=null,K=null,L=!1,M=!1,N=0,O=null,P=0;function Q(){if(null===I)throw Error(l(321));return I}function pb(){if(0<P)throw Error(l(312));return{memoizedState:null,queue:null,next:null}}function qb(){null===K?null===J?(L=!1,J=K=pb()):(L=!0,K=J):null===K.next?(L=!1,K=K.next=pb()):(L=!0,K=K.next);return K}function rb(){ob=I=null;M=!1;J=null;P=0;K=O=null}function sb(a,b){return"function"===typeof b?b(a):b}\nfunction tb(a,b,c){I=Q();K=qb();if(L){var d=K.queue;b=d.dispatch;if(null!==O&&(c=O.get(d),void 0!==c)){O.delete(d);d=K.memoizedState;do d=a(d,c.action),c=c.next;while(null!==c);K.memoizedState=d;return[d,b]}return[K.memoizedState,b]}a=a===sb?"function"===typeof b?b():b:void 0!==c?c(b):b;K.memoizedState=a;a=K.queue={last:null,dispatch:null};a=a.dispatch=ub.bind(null,I,a);return[K.memoizedState,a]}\nfunction vb(a,b){I=Q();K=qb();b=void 0===b?null:b;if(null!==K){var c=K.memoizedState;if(null!==c&&null!==b){var d=c[1];a:if(null===d)d=!1;else{for(var f=0;f<d.length&&f<b.length;f++)if(!lb(b[f],d[f])){d=!1;break a}d=!0}if(d)return c[0]}}a=a();K.memoizedState=[a,b];return a}function ub(a,b,c){if(25<=P)throw Error(l(301));if(a===I)if(M=!0,a={action:c,next:null},null===O&&(O=new Map),c=O.get(b),void 0===c)O.set(b,a);else{for(b=c;null!==b.next;)b=b.next;b.next=a}}function wb(){throw Error(l(394));}\nfunction R(){}\nvar xb={readContext:function(a){return a._currentValue2},useContext:function(a){Q();return a._currentValue2},useMemo:vb,useReducer:tb,useRef:function(a){I=Q();K=qb();var b=K.memoizedState;return null===b?(a={current:a},K.memoizedState=a):b},useState:function(a){return tb(sb,a)},useInsertionEffect:R,useLayoutEffect:function(){},useCallback:function(a,b){return vb(function(){return a},b)},useImperativeHandle:R,useEffect:R,useDebugValue:R,useDeferredValue:function(a){Q();return a},useTransition:function(){Q();return[!1,\nwb]},useId:function(){var a=ob.treeContext;var b=a.overflow;a=a.id;a=(a&~(1<<32-H(a)-1)).toString(32)+b;var c=S;if(null===c)throw Error(l(404));b=N++;a=":"+c.idPrefix+"R"+a;0<b&&(a+="H"+b.toString(32));return a+":"},useMutableSource:function(a,b){Q();return b(a._source)},useSyncExternalStore:function(a,b,c){if(void 0===c)throw Error(l(407));return c()}},S=null,yb=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function zb(a){console.error(a);return null}\nfunction T(){}\nfunction Ab(a,b,c,d,f,e,g,h,k){var m=[],n=new Set;b={destination:null,responseState:b,progressiveChunkSize:void 0===d?12800:d,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:n,pingedTasks:m,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===f?zb:f,onAllReady:void 0===e?T:e,onShellReady:void 0===g?T:g,onShellError:void 0===h?T:h,onFatalError:void 0===k?T:k};c=U(b,0,null,c,!1,!1);c.parentFlushed=\n!0;a=Bb(b,a,null,c,n,Ya,null,fb);m.push(a);return b}function Bb(a,b,c,d,f,e,g,h){a.allPendingTasks++;null===c?a.pendingRootTasks++:c.pendingTasks++;var k={node:b,ping:function(){var b=a.pingedTasks;b.push(k);1===b.length&&Cb(a)},blockedBoundary:c,blockedSegment:d,abortSet:f,legacyContext:e,context:g,treeContext:h};f.add(k);return k}function U(a,b,c,d,f,e){return{status:0,id:-1,index:b,parentFlushed:!1,chunks:[],children:[],formatContext:d,boundary:c,lastPushedText:f,textEmbedded:e}}\nfunction V(a,b){a=a.onError(b);if(null!=a&&"string"!==typeof a)throw Error(\'onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "\'+typeof a+\'" instead\');return a}function W(a,b){var c=a.onShellError;c(b);c=a.onFatalError;c(b);null!==a.destination?(a.status=2,a.destination.destroy(b)):(a.status=1,a.fatalError=b)}\nfunction Db(a,b,c,d,f){I={};ob=b;N=0;for(a=c(d,f);M;)M=!1,N=0,P+=1,K=null,a=c(d,f);rb();return a}function Eb(a,b,c,d){var f=c.render(),e=d.childContextTypes;if(null!==e&&void 0!==e){var g=b.legacyContext;if("function"!==typeof c.getChildContext)d=g;else{c=c.getChildContext();for(var h in c)if(!(h in e))throw Error(l(108,Xa(d)||"Unknown",h));d=B({},g,c)}b.legacyContext=d;X(a,b,f);b.legacyContext=g}else X(a,b,f)}\nfunction Fb(a,b){if(a&&a.defaultProps){b=B({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}\nfunction Gb(a,b,c,d,f){if("function"===typeof c)if(c.prototype&&c.prototype.isReactComponent){f=Za(c,b.legacyContext);var e=c.contextType;e=new c(d,"object"===typeof e&&null!==e?e._currentValue2:f);eb(e,c,d,f);Eb(a,b,e,c)}else{e=Za(c,b.legacyContext);f=Db(a,b,c,d,e);var g=0!==N;if("object"===typeof f&&null!==f&&"function"===typeof f.render&&void 0===f.$$typeof)eb(f,c,d,e),Eb(a,b,f,c);else if(g){d=b.treeContext;b.treeContext=gb(d,1,0);try{X(a,b,f)}finally{b.treeContext=d}}else X(a,b,f)}else if("string"===\ntypeof c){f=b.blockedSegment;e=ya(f.chunks,c,d,a.responseState,f.formatContext);f.lastPushedText=!1;g=f.formatContext;f.formatContext=ra(g,c,d);Hb(a,b,e);f.formatContext=g;switch(c){case "area":case "base":case "br":case "col":case "embed":case "hr":case "img":case "input":case "keygen":case "link":case "meta":case "param":case "source":case "track":case "wbr":break;default:f.chunks.push("</",c,">")}f.lastPushedText=!1}else{switch(c){case Ua:case Ta:case Ja:case Ka:case Ia:X(a,b,d.children);return;\ncase Pa:X(a,b,d.children);return;case Sa:throw Error(l(343));case Oa:a:{c=b.blockedBoundary;f=b.blockedSegment;e=d.fallback;d=d.children;g=new Set;var h={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:g,errorDigest:null},k=U(a,f.chunks.length,h,f.formatContext,!1,!1);f.children.push(k);f.lastPushedText=!1;var m=U(a,0,null,f.formatContext,!1,!1);m.parentFlushed=!0;b.blockedBoundary=h;b.blockedSegment=m;try{if(Hb(a,\nb,d),a.responseState.generateStaticMarkup||m.lastPushedText&&m.textEmbedded&&m.chunks.push("\\x3c!-- --\\x3e"),m.status=1,Y(h,m),0===h.pendingTasks)break a}catch(n){m.status=4,h.forceClientRender=!0,h.errorDigest=V(a,n)}finally{b.blockedBoundary=c,b.blockedSegment=f}b=Bb(a,e,c,k,g,b.legacyContext,b.context,b.treeContext);a.pingedTasks.push(b)}return}if("object"===typeof c&&null!==c)switch(c.$$typeof){case Na:d=Db(a,b,c.render,d,f);if(0!==N){c=b.treeContext;b.treeContext=gb(c,1,0);try{X(a,b,d)}finally{b.treeContext=\nc}}else X(a,b,d);return;case Qa:c=c.type;d=Fb(c,d);Gb(a,b,c,d,f);return;case La:f=d.children;c=c._context;d=d.value;e=c._currentValue2;c._currentValue2=d;g=E;E=d={parent:g,depth:null===g?0:g.depth+1,context:c,parentValue:e,value:d};b.context=d;X(a,b,f);a=E;if(null===a)throw Error(l(403));d=a.parentValue;a.context._currentValue2=d===Va?a.context._defaultValue:d;a=E=a.parent;b.context=a;return;case Ma:d=d.children;d=d(c._currentValue2);X(a,b,d);return;case Ra:f=c._init;c=f(c._payload);d=Fb(c,d);Gb(a,\nb,c,d,void 0);return}throw Error(l(130,null==c?c:typeof c,""));}}\nfunction X(a,b,c){b.node=c;if("object"===typeof c&&null!==c){switch(c.$$typeof){case Ga:Gb(a,b,c.type,c.props,c.ref);return;case Ha:throw Error(l(257));case Ra:var d=c._init;c=d(c._payload);X(a,b,c);return}if(qa(c)){Ib(a,b,c);return}null===c||"object"!==typeof c?d=null:(d=Wa&&c[Wa]||c["@@iterator"],d="function"===typeof d?d:null);if(d&&(d=d.call(c))){c=d.next();if(!c.done){var f=[];do f.push(c.value),c=d.next();while(!c.done);Ib(a,b,f)}return}a=Object.prototype.toString.call(c);throw Error(l(31,"[object Object]"===\na?"object with keys {"+Object.keys(c).join(", ")+"}":a));}"string"===typeof c?(d=b.blockedSegment,d.lastPushedText=Fa(b.blockedSegment.chunks,c,a.responseState,d.lastPushedText)):"number"===typeof c&&(d=b.blockedSegment,d.lastPushedText=Fa(b.blockedSegment.chunks,""+c,a.responseState,d.lastPushedText))}function Ib(a,b,c){for(var d=c.length,f=0;f<d;f++){var e=b.treeContext;b.treeContext=gb(e,d,f);try{Hb(a,b,c[f])}finally{b.treeContext=e}}}\nfunction Hb(a,b,c){var d=b.blockedSegment.formatContext,f=b.legacyContext,e=b.context;try{return X(a,b,c)}catch(k){if(rb(),"object"===typeof k&&null!==k&&"function"===typeof k.then){c=k;var g=b.blockedSegment,h=U(a,g.chunks.length,null,g.formatContext,g.lastPushedText,!0);g.children.push(h);g.lastPushedText=!1;a=Bb(a,b.node,b.blockedBoundary,h,b.abortSet,b.legacyContext,b.context,b.treeContext).ping;c.then(a,a);b.blockedSegment.formatContext=d;b.legacyContext=f;b.context=e;G(e)}else throw b.blockedSegment.formatContext=\nd,b.legacyContext=f,b.context=e,G(e),k;}}function Jb(a){var b=a.blockedBoundary;a=a.blockedSegment;a.status=3;Kb(this,b,a)}\nfunction Lb(a,b,c){var d=a.blockedBoundary;a.blockedSegment.status=3;null===d?(b.allPendingTasks--,2!==b.status&&(b.status=2,null!==b.destination&&b.destination.push(null))):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,a=void 0===c?Error(l(432)):c,d.errorDigest=b.onError(a),d.parentFlushed&&b.clientRenderedBoundaries.push(d)),d.fallbackAbortableTasks.forEach(function(a){return Lb(a,b,c)}),d.fallbackAbortableTasks.clear(),b.allPendingTasks--,0===b.allPendingTasks&&(d=b.onAllReady,\nd()))}function Y(a,b){if(0===b.chunks.length&&1===b.children.length&&null===b.children[0].boundary){var c=b.children[0];c.id=b.id;c.parentFlushed=!0;1===c.status&&Y(a,c)}else a.completedSegments.push(b)}\nfunction Kb(a,b,c){if(null===b){if(c.parentFlushed){if(null!==a.completedRootSegment)throw Error(l(389));a.completedRootSegment=c}a.pendingRootTasks--;0===a.pendingRootTasks&&(a.onShellError=T,b=a.onShellReady,b())}else b.pendingTasks--,b.forceClientRender||(0===b.pendingTasks?(c.parentFlushed&&1===c.status&&Y(b,c),b.parentFlushed&&a.completedBoundaries.push(b),b.fallbackAbortableTasks.forEach(Jb,a),b.fallbackAbortableTasks.clear()):c.parentFlushed&&1===c.status&&(Y(b,c),1===b.completedSegments.length&&\nb.parentFlushed&&a.partialBoundaries.push(b)));a.allPendingTasks--;0===a.allPendingTasks&&(a=a.onAllReady,a())}\nfunction Cb(a){if(2!==a.status){var b=E,c=yb.current;yb.current=xb;var d=S;S=a.responseState;try{var f=a.pingedTasks,e;for(e=0;e<f.length;e++){var g=f[e];var h=a,k=g.blockedSegment;if(0===k.status){G(g.context);try{X(h,g,g.node),h.responseState.generateStaticMarkup||k.lastPushedText&&k.textEmbedded&&k.chunks.push("\\x3c!-- --\\x3e"),g.abortSet.delete(g),k.status=1,Kb(h,g.blockedBoundary,k)}catch(z){if(rb(),"object"===typeof z&&null!==z&&"function"===typeof z.then){var m=g.ping;z.then(m,m)}else{g.abortSet.delete(g);\nk.status=4;var n=g.blockedBoundary,q=z,C=V(h,q);null===n?W(h,q):(n.pendingTasks--,n.forceClientRender||(n.forceClientRender=!0,n.errorDigest=C,n.parentFlushed&&h.clientRenderedBoundaries.push(n)));h.allPendingTasks--;if(0===h.allPendingTasks){var D=h.onAllReady;D()}}}finally{}}}f.splice(0,e);null!==a.destination&&Mb(a,a.destination)}catch(z){V(a,z),W(a,z)}finally{S=d,yb.current=c,c===xb&&G(b)}}}\nfunction Z(a,b,c){c.parentFlushed=!0;switch(c.status){case 0:var d=c.id=a.nextSegmentId++;c.lastPushedText=!1;c.textEmbedded=!1;a=a.responseState;b.push(\'<template id="\');b.push(a.placeholderPrefix);a=d.toString(16);b.push(a);return b.push(\'"></template>\');case 1:c.status=2;var f=!0;d=c.chunks;var e=0;c=c.children;for(var g=0;g<c.length;g++){for(f=c[g];e<f.index;e++)b.push(d[e]);f=Nb(a,b,f)}for(;e<d.length-1;e++)b.push(d[e]);e<d.length&&(f=b.push(d[e]));return f;default:throw Error(l(390));}}\nfunction Nb(a,b,c){var d=c.boundary;if(null===d)return Z(a,b,c);d.parentFlushed=!0;if(d.forceClientRender)return a.responseState.generateStaticMarkup||(d=d.errorDigest,b.push("\\x3c!--$!--\\x3e"),b.push("<template"),d&&(b.push(\' data-dgst="\'),d=v(d),b.push(d),b.push(\'"\')),b.push("></template>")),Z(a,b,c),a=a.responseState.generateStaticMarkup?!0:b.push("\\x3c!--/$--\\x3e"),a;if(0<d.pendingTasks){d.rootSegmentID=a.nextSegmentId++;0<d.completedSegments.length&&a.partialBoundaries.push(d);var f=a.responseState;\nvar e=f.nextSuspenseID++;f=f.boundaryPrefix+e.toString(16);d=d.id=f;za(b,a.responseState,d);Z(a,b,c);return b.push("\\x3c!--/$--\\x3e")}if(d.byteSize>a.progressiveChunkSize)return d.rootSegmentID=a.nextSegmentId++,a.completedBoundaries.push(d),za(b,a.responseState,d.id),Z(a,b,c),b.push("\\x3c!--/$--\\x3e");a.responseState.generateStaticMarkup||b.push("\\x3c!--$--\\x3e");c=d.completedSegments;if(1!==c.length)throw Error(l(391));Nb(a,b,c[0]);a=a.responseState.generateStaticMarkup?!0:b.push("\\x3c!--/$--\\x3e");\nreturn a}function Ob(a,b,c){Aa(b,a.responseState,c.formatContext,c.id);Nb(a,b,c);return Ba(b,c.formatContext)}\nfunction Pb(a,b,c){for(var d=c.completedSegments,f=0;f<d.length;f++)Qb(a,b,c,d[f]);d.length=0;a=a.responseState;d=c.id;c=c.rootSegmentID;b.push(a.startInlineScript);a.sentCompleteBoundaryFunction?b.push(\'$RC("\'):(a.sentCompleteBoundaryFunction=!0,b.push(\'function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("\'));if(null===\nd)throw Error(l(395));c=c.toString(16);b.push(d);b.push(\'","\');b.push(a.segmentPrefix);b.push(c);return b.push(\'")\\x3c/script>\')}\nfunction Qb(a,b,c,d){if(2===d.status)return!0;var f=d.id;if(-1===f){if(-1===(d.id=c.rootSegmentID))throw Error(l(392));return Ob(a,b,d)}Ob(a,b,d);a=a.responseState;b.push(a.startInlineScript);a.sentCompleteSegmentFunction?b.push(\'$RS("\'):(a.sentCompleteSegmentFunction=!0,b.push(\'function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("\'));b.push(a.segmentPrefix);\nf=f.toString(16);b.push(f);b.push(\'","\');b.push(a.placeholderPrefix);b.push(f);return b.push(\'")\\x3c/script>\')}\nfunction Mb(a,b){try{var c=a.completedRootSegment;if(null!==c&&0===a.pendingRootTasks){Nb(a,b,c);a.completedRootSegment=null;var d=a.responseState.bootstrapChunks;for(c=0;c<d.length-1;c++)b.push(d[c]);c<d.length&&b.push(d[c])}var f=a.clientRenderedBoundaries,e;for(e=0;e<f.length;e++){var g=f[e];d=b;var h=a.responseState,k=g.id,m=g.errorDigest,n=g.errorMessage,q=g.errorComponentStack;d.push(h.startInlineScript);h.sentClientRenderFunction?d.push(\'$RX("\'):(h.sentClientRenderFunction=!0,d.push(\'function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("\'));\nif(null===k)throw Error(l(395));d.push(k);d.push(\'"\');if(m||n||q){d.push(",");var C=Da(m||"");d.push(C)}if(n||q){d.push(",");var D=Da(n||"");d.push(D)}if(q){d.push(",");var z=Da(q);d.push(z)}if(!d.push(")\\x3c/script>")){a.destination=null;e++;f.splice(0,e);return}}f.splice(0,e);var ba=a.completedBoundaries;for(e=0;e<ba.length;e++)if(!Pb(a,b,ba[e])){a.destination=null;e++;ba.splice(0,e);return}ba.splice(0,e);var ca=a.partialBoundaries;for(e=0;e<ca.length;e++){var mb=ca[e];a:{f=a;g=b;var da=mb.completedSegments;\nfor(h=0;h<da.length;h++)if(!Qb(f,g,mb,da[h])){h++;da.splice(0,h);var nb=!1;break a}da.splice(0,h);nb=!0}if(!nb){a.destination=null;e++;ca.splice(0,e);return}}ca.splice(0,e);var ea=a.completedBoundaries;for(e=0;e<ea.length;e++)if(!Pb(a,b,ea[e])){a.destination=null;e++;ea.splice(0,e);return}ea.splice(0,e)}finally{0===a.allPendingTasks&&0===a.pingedTasks.length&&0===a.clientRenderedBoundaries.length&&0===a.completedBoundaries.length&&b.push(null)}}\nfunction Rb(a,b){try{var c=a.abortableTasks;c.forEach(function(c){return Lb(c,a,b)});c.clear();null!==a.destination&&Mb(a,a.destination)}catch(d){V(a,d),W(a,d)}}function Sb(){}\nfunction Tb(a,b,c,d){var f=!1,e=null,g="",h={push:function(a){null!==a&&(g+=a);return!0},destroy:function(a){f=!0;e=a}},k=!1;a=Ab(a,Ea(c,b?b.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},Infinity,Sb,void 0,function(){k=!0},void 0,void 0);Cb(a);Rb(a,d);if(1===a.status)a.status=2,h.destroy(a.fatalError);else if(2!==a.status&&null===a.destination){a.destination=h;try{Mb(a,h)}catch(m){V(a,m),W(a,m)}}if(f)throw e;if(!k)throw Error(l(426));return g}\nexports.renderToNodeStream=function(){throw Error(l(207));};exports.renderToStaticMarkup=function(a,b){return Tb(a,b,!0,\'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server\')};exports.renderToStaticNodeStream=function(){throw Error(l(208));};exports.renderToString=function(a,b){return Tb(a,b,!1,\'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server\')};\nexports.version="18.2.0";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODc3NzQuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2Nqcy9yZWFjdC1kb20tc2VydmVyLWxlZ2FjeS5icm93c2VyLnByb2R1Y3Rpb24ubWluLmpzPzk0MTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtZG9tLXNlcnZlci1sZWdhY3kuYnJvd3Nlci5wcm9kdWN0aW9uLm1pbi5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG4ndXNlIHN0cmljdCc7dmFyIGFhPXJlcXVpcmUoXCJyZWFjdFwiKTtmdW5jdGlvbiBsKGEpe2Zvcih2YXIgYj1cImh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9lcnJvci1kZWNvZGVyLmh0bWw/aW52YXJpYW50PVwiK2EsYz0xO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspYis9XCImYXJnc1tdPVwiK2VuY29kZVVSSUNvbXBvbmVudChhcmd1bWVudHNbY10pO3JldHVyblwiTWluaWZpZWQgUmVhY3QgZXJyb3IgI1wiK2ErXCI7IHZpc2l0IFwiK2IrXCIgZm9yIHRoZSBmdWxsIG1lc3NhZ2Ugb3IgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50IGZvciBmdWxsIGVycm9ycyBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLlwifVxudmFyIHA9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxmYT0vXls6QS1aX2EtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF1bOkEtWl9hLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRcXC0uMC05XFx1MDBCN1xcdTAzMDAtXFx1MDM2RlxcdTIwM0YtXFx1MjA0MF0qJC8saGE9e30saWE9e307XG5mdW5jdGlvbiBqYShhKXtpZihwLmNhbGwoaWEsYSkpcmV0dXJuITA7aWYocC5jYWxsKGhhLGEpKXJldHVybiExO2lmKGZhLnRlc3QoYSkpcmV0dXJuIGlhW2FdPSEwO2hhW2FdPSEwO3JldHVybiExfWZ1bmN0aW9uIHIoYSxiLGMsZCxmLGUsZyl7dGhpcy5hY2NlcHRzQm9vbGVhbnM9Mj09PWJ8fDM9PT1ifHw0PT09Yjt0aGlzLmF0dHJpYnV0ZU5hbWU9ZDt0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1mO3RoaXMubXVzdFVzZVByb3BlcnR5PWM7dGhpcy5wcm9wZXJ0eU5hbWU9YTt0aGlzLnR5cGU9Yjt0aGlzLnNhbml0aXplVVJMPWU7dGhpcy5yZW1vdmVFbXB0eVN0cmluZz1nfXZhciB0PXt9O1xuXCJjaGlsZHJlbiBkYW5nZXJvdXNseVNldElubmVySFRNTCBkZWZhdWx0VmFsdWUgZGVmYXVsdENoZWNrZWQgaW5uZXJIVE1MIHN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcgc3R5bGVcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihhKXt0W2FdPW5ldyByKGEsMCwhMSxhLG51bGwsITEsITEpfSk7W1tcImFjY2VwdENoYXJzZXRcIixcImFjY2VwdC1jaGFyc2V0XCJdLFtcImNsYXNzTmFtZVwiLFwiY2xhc3NcIl0sW1wiaHRtbEZvclwiLFwiZm9yXCJdLFtcImh0dHBFcXVpdlwiLFwiaHR0cC1lcXVpdlwiXV0uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hWzBdO3RbYl09bmV3IHIoYiwxLCExLGFbMV0sbnVsbCwhMSwhMSl9KTtbXCJjb250ZW50RWRpdGFibGVcIixcImRyYWdnYWJsZVwiLFwic3BlbGxDaGVja1wiLFwidmFsdWVcIl0uZm9yRWFjaChmdW5jdGlvbihhKXt0W2FdPW5ldyByKGEsMiwhMSxhLnRvTG93ZXJDYXNlKCksbnVsbCwhMSwhMSl9KTtcbltcImF1dG9SZXZlcnNlXCIsXCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXCIsXCJmb2N1c2FibGVcIixcInByZXNlcnZlQWxwaGFcIl0uZm9yRWFjaChmdW5jdGlvbihhKXt0W2FdPW5ldyByKGEsMiwhMSxhLG51bGwsITEsITEpfSk7XCJhbGxvd0Z1bGxTY3JlZW4gYXN5bmMgYXV0b0ZvY3VzIGF1dG9QbGF5IGNvbnRyb2xzIGRlZmF1bHQgZGVmZXIgZGlzYWJsZWQgZGlzYWJsZVBpY3R1cmVJblBpY3R1cmUgZGlzYWJsZVJlbW90ZVBsYXliYWNrIGZvcm1Ob1ZhbGlkYXRlIGhpZGRlbiBsb29wIG5vTW9kdWxlIG5vVmFsaWRhdGUgb3BlbiBwbGF5c0lubGluZSByZWFkT25seSByZXF1aXJlZCByZXZlcnNlZCBzY29wZWQgc2VhbWxlc3MgaXRlbVNjb3BlXCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7dFthXT1uZXcgcihhLDMsITEsYS50b0xvd2VyQ2FzZSgpLG51bGwsITEsITEpfSk7XG5bXCJjaGVja2VkXCIsXCJtdWx0aXBsZVwiLFwibXV0ZWRcIixcInNlbGVjdGVkXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7dFthXT1uZXcgcihhLDMsITAsYSxudWxsLCExLCExKX0pO1tcImNhcHR1cmVcIixcImRvd25sb2FkXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7dFthXT1uZXcgcihhLDQsITEsYSxudWxsLCExLCExKX0pO1tcImNvbHNcIixcInJvd3NcIixcInNpemVcIixcInNwYW5cIl0uZm9yRWFjaChmdW5jdGlvbihhKXt0W2FdPW5ldyByKGEsNiwhMSxhLG51bGwsITEsITEpfSk7W1wicm93U3BhblwiLFwic3RhcnRcIl0uZm9yRWFjaChmdW5jdGlvbihhKXt0W2FdPW5ldyByKGEsNSwhMSxhLnRvTG93ZXJDYXNlKCksbnVsbCwhMSwhMSl9KTt2YXIga2E9L1tcXC06XShbYS16XSkvZztmdW5jdGlvbiBsYShhKXtyZXR1cm4gYVsxXS50b1VwcGVyQ2FzZSgpfVxuXCJhY2NlbnQtaGVpZ2h0IGFsaWdubWVudC1iYXNlbGluZSBhcmFiaWMtZm9ybSBiYXNlbGluZS1zaGlmdCBjYXAtaGVpZ2h0IGNsaXAtcGF0aCBjbGlwLXJ1bGUgY29sb3ItaW50ZXJwb2xhdGlvbiBjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMgY29sb3ItcHJvZmlsZSBjb2xvci1yZW5kZXJpbmcgZG9taW5hbnQtYmFzZWxpbmUgZW5hYmxlLWJhY2tncm91bmQgZmlsbC1vcGFjaXR5IGZpbGwtcnVsZSBmbG9vZC1jb2xvciBmbG9vZC1vcGFjaXR5IGZvbnQtZmFtaWx5IGZvbnQtc2l6ZSBmb250LXNpemUtYWRqdXN0IGZvbnQtc3RyZXRjaCBmb250LXN0eWxlIGZvbnQtdmFyaWFudCBmb250LXdlaWdodCBnbHlwaC1uYW1lIGdseXBoLW9yaWVudGF0aW9uLWhvcml6b250YWwgZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwgaG9yaXotYWR2LXggaG9yaXotb3JpZ2luLXggaW1hZ2UtcmVuZGVyaW5nIGxldHRlci1zcGFjaW5nIGxpZ2h0aW5nLWNvbG9yIG1hcmtlci1lbmQgbWFya2VyLW1pZCBtYXJrZXItc3RhcnQgb3ZlcmxpbmUtcG9zaXRpb24gb3ZlcmxpbmUtdGhpY2tuZXNzIHBhaW50LW9yZGVyIHBhbm9zZS0xIHBvaW50ZXItZXZlbnRzIHJlbmRlcmluZy1pbnRlbnQgc2hhcGUtcmVuZGVyaW5nIHN0b3AtY29sb3Igc3RvcC1vcGFjaXR5IHN0cmlrZXRocm91Z2gtcG9zaXRpb24gc3RyaWtldGhyb3VnaC10aGlja25lc3Mgc3Ryb2tlLWRhc2hhcnJheSBzdHJva2UtZGFzaG9mZnNldCBzdHJva2UtbGluZWNhcCBzdHJva2UtbGluZWpvaW4gc3Ryb2tlLW1pdGVybGltaXQgc3Ryb2tlLW9wYWNpdHkgc3Ryb2tlLXdpZHRoIHRleHQtYW5jaG9yIHRleHQtZGVjb3JhdGlvbiB0ZXh0LXJlbmRlcmluZyB1bmRlcmxpbmUtcG9zaXRpb24gdW5kZXJsaW5lLXRoaWNrbmVzcyB1bmljb2RlLWJpZGkgdW5pY29kZS1yYW5nZSB1bml0cy1wZXItZW0gdi1hbHBoYWJldGljIHYtaGFuZ2luZyB2LWlkZW9ncmFwaGljIHYtbWF0aGVtYXRpY2FsIHZlY3Rvci1lZmZlY3QgdmVydC1hZHYteSB2ZXJ0LW9yaWdpbi14IHZlcnQtb3JpZ2luLXkgd29yZC1zcGFjaW5nIHdyaXRpbmctbW9kZSB4bWxuczp4bGluayB4LWhlaWdodFwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShrYSxcbmxhKTt0W2JdPW5ldyByKGIsMSwhMSxhLG51bGwsITEsITEpfSk7XCJ4bGluazphY3R1YXRlIHhsaW5rOmFyY3JvbGUgeGxpbms6cm9sZSB4bGluazpzaG93IHhsaW5rOnRpdGxlIHhsaW5rOnR5cGVcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2Uoa2EsbGEpO3RbYl09bmV3IHIoYiwxLCExLGEsXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsITEsITEpfSk7W1wieG1sOmJhc2VcIixcInhtbDpsYW5nXCIsXCJ4bWw6c3BhY2VcIl0uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2Uoa2EsbGEpO3RbYl09bmV3IHIoYiwxLCExLGEsXCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcIiwhMSwhMSl9KTtbXCJ0YWJJbmRleFwiLFwiY3Jvc3NPcmlnaW5cIl0uZm9yRWFjaChmdW5jdGlvbihhKXt0W2FdPW5ldyByKGEsMSwhMSxhLnRvTG93ZXJDYXNlKCksbnVsbCwhMSwhMSl9KTtcbnQueGxpbmtIcmVmPW5ldyByKFwieGxpbmtIcmVmXCIsMSwhMSxcInhsaW5rOmhyZWZcIixcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwhMCwhMSk7W1wic3JjXCIsXCJocmVmXCIsXCJhY3Rpb25cIixcImZvcm1BY3Rpb25cIl0uZm9yRWFjaChmdW5jdGlvbihhKXt0W2FdPW5ldyByKGEsMSwhMSxhLnRvTG93ZXJDYXNlKCksbnVsbCwhMCwhMCl9KTtcbnZhciB1PXthbmltYXRpb25JdGVyYXRpb25Db3VudDohMCxhc3BlY3RSYXRpbzohMCxib3JkZXJJbWFnZU91dHNldDohMCxib3JkZXJJbWFnZVNsaWNlOiEwLGJvcmRlckltYWdlV2lkdGg6ITAsYm94RmxleDohMCxib3hGbGV4R3JvdXA6ITAsYm94T3JkaW5hbEdyb3VwOiEwLGNvbHVtbkNvdW50OiEwLGNvbHVtbnM6ITAsZmxleDohMCxmbGV4R3JvdzohMCxmbGV4UG9zaXRpdmU6ITAsZmxleFNocmluazohMCxmbGV4TmVnYXRpdmU6ITAsZmxleE9yZGVyOiEwLGdyaWRBcmVhOiEwLGdyaWRSb3c6ITAsZ3JpZFJvd0VuZDohMCxncmlkUm93U3BhbjohMCxncmlkUm93U3RhcnQ6ITAsZ3JpZENvbHVtbjohMCxncmlkQ29sdW1uRW5kOiEwLGdyaWRDb2x1bW5TcGFuOiEwLGdyaWRDb2x1bW5TdGFydDohMCxmb250V2VpZ2h0OiEwLGxpbmVDbGFtcDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx0YWJTaXplOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMCxcbmZpbGxPcGFjaXR5OiEwLGZsb29kT3BhY2l0eTohMCxzdG9wT3BhY2l0eTohMCxzdHJva2VEYXNoYXJyYXk6ITAsc3Ryb2tlRGFzaG9mZnNldDohMCxzdHJva2VNaXRlcmxpbWl0OiEwLHN0cm9rZU9wYWNpdHk6ITAsc3Ryb2tlV2lkdGg6ITB9LG1hPVtcIldlYmtpdFwiLFwibXNcIixcIk1velwiLFwiT1wiXTtPYmplY3Qua2V5cyh1KS5mb3JFYWNoKGZ1bmN0aW9uKGEpe21hLmZvckVhY2goZnVuY3Rpb24oYil7Yj1iK2EuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHJpbmcoMSk7dVtiXT11W2FdfSl9KTt2YXIgbmE9L1tcIicmPD5dLztcbmZ1bmN0aW9uIHYoYSl7aWYoXCJib29sZWFuXCI9PT10eXBlb2YgYXx8XCJudW1iZXJcIj09PXR5cGVvZiBhKXJldHVyblwiXCIrYTthPVwiXCIrYTt2YXIgYj1uYS5leGVjKGEpO2lmKGIpe3ZhciBjPVwiXCIsZCxmPTA7Zm9yKGQ9Yi5pbmRleDtkPGEubGVuZ3RoO2QrKyl7c3dpdGNoKGEuY2hhckNvZGVBdChkKSl7Y2FzZSAzNDpiPVwiJnF1b3Q7XCI7YnJlYWs7Y2FzZSAzODpiPVwiJmFtcDtcIjticmVhaztjYXNlIDM5OmI9XCImI3gyNztcIjticmVhaztjYXNlIDYwOmI9XCImbHQ7XCI7YnJlYWs7Y2FzZSA2MjpiPVwiJmd0O1wiO2JyZWFrO2RlZmF1bHQ6Y29udGludWV9ZiE9PWQmJihjKz1hLnN1YnN0cmluZyhmLGQpKTtmPWQrMTtjKz1ifWE9ZiE9PWQ/YythLnN1YnN0cmluZyhmLGQpOmN9cmV0dXJuIGF9dmFyIG9hPS8oW0EtWl0pL2cscGE9L15tcy0vLHFhPUFycmF5LmlzQXJyYXk7ZnVuY3Rpb24gdyhhLGIpe3JldHVybntpbnNlcnRpb25Nb2RlOmEsc2VsZWN0ZWRWYWx1ZTpifX1cbmZ1bmN0aW9uIHJhKGEsYixjKXtzd2l0Y2goYil7Y2FzZSBcInNlbGVjdFwiOnJldHVybiB3KDEsbnVsbCE9Yy52YWx1ZT9jLnZhbHVlOmMuZGVmYXVsdFZhbHVlKTtjYXNlIFwic3ZnXCI6cmV0dXJuIHcoMixudWxsKTtjYXNlIFwibWF0aFwiOnJldHVybiB3KDMsbnVsbCk7Y2FzZSBcImZvcmVpZ25PYmplY3RcIjpyZXR1cm4gdygxLG51bGwpO2Nhc2UgXCJ0YWJsZVwiOnJldHVybiB3KDQsbnVsbCk7Y2FzZSBcInRoZWFkXCI6Y2FzZSBcInRib2R5XCI6Y2FzZSBcInRmb290XCI6cmV0dXJuIHcoNSxudWxsKTtjYXNlIFwiY29sZ3JvdXBcIjpyZXR1cm4gdyg3LG51bGwpO2Nhc2UgXCJ0clwiOnJldHVybiB3KDYsbnVsbCl9cmV0dXJuIDQ8PWEuaW5zZXJ0aW9uTW9kZXx8MD09PWEuaW5zZXJ0aW9uTW9kZT93KDEsbnVsbCk6YX12YXIgc2E9bmV3IE1hcDtcbmZ1bmN0aW9uIHRhKGEsYixjKXtpZihcIm9iamVjdFwiIT09dHlwZW9mIGMpdGhyb3cgRXJyb3IobCg2MikpO2I9ITA7Zm9yKHZhciBkIGluIGMpaWYocC5jYWxsKGMsZCkpe3ZhciBmPWNbZF07aWYobnVsbCE9ZiYmXCJib29sZWFuXCIhPT10eXBlb2YgZiYmXCJcIiE9PWYpe2lmKDA9PT1kLmluZGV4T2YoXCItLVwiKSl7dmFyIGU9dihkKTtmPXYoKFwiXCIrZikudHJpbSgpKX1lbHNle2U9ZDt2YXIgZz1zYS5nZXQoZSk7dm9pZCAwIT09Zz9lPWc6KGc9dihlLnJlcGxhY2Uob2EsXCItJDFcIikudG9Mb3dlckNhc2UoKS5yZXBsYWNlKHBhLFwiLW1zLVwiKSksc2Euc2V0KGUsZyksZT1nKTtmPVwibnVtYmVyXCI9PT10eXBlb2YgZj8wPT09Znx8cC5jYWxsKHUsZCk/XCJcIitmOmYrXCJweFwiOnYoKFwiXCIrZikudHJpbSgpKX1iPyhiPSExLGEucHVzaCgnIHN0eWxlPVwiJyxlLFwiOlwiLGYpKTphLnB1c2goXCI7XCIsZSxcIjpcIixmKX19Ynx8YS5wdXNoKCdcIicpfVxuZnVuY3Rpb24geChhLGIsYyxkKXtzd2l0Y2goYyl7Y2FzZSBcInN0eWxlXCI6dGEoYSxiLGQpO3JldHVybjtjYXNlIFwiZGVmYXVsdFZhbHVlXCI6Y2FzZSBcImRlZmF1bHRDaGVja2VkXCI6Y2FzZSBcImlubmVySFRNTFwiOmNhc2UgXCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIjpjYXNlIFwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCI6cmV0dXJufWlmKCEoMjxjLmxlbmd0aCl8fFwib1wiIT09Y1swXSYmXCJPXCIhPT1jWzBdfHxcIm5cIiE9PWNbMV0mJlwiTlwiIT09Y1sxXSlpZihiPXQuaGFzT3duUHJvcGVydHkoYyk/dFtjXTpudWxsLG51bGwhPT1iKXtzd2l0Y2godHlwZW9mIGQpe2Nhc2UgXCJmdW5jdGlvblwiOmNhc2UgXCJzeW1ib2xcIjpyZXR1cm47Y2FzZSBcImJvb2xlYW5cIjppZighYi5hY2NlcHRzQm9vbGVhbnMpcmV0dXJufWM9Yi5hdHRyaWJ1dGVOYW1lO3N3aXRjaChiLnR5cGUpe2Nhc2UgMzpkJiZhLnB1c2goXCIgXCIsYywnPVwiXCInKTticmVhaztjYXNlIDQ6ITA9PT1kP2EucHVzaChcIiBcIixjLCc9XCJcIicpOlxuITEhPT1kJiZhLnB1c2goXCIgXCIsYywnPVwiJyx2KGQpLCdcIicpO2JyZWFrO2Nhc2UgNTppc05hTihkKXx8YS5wdXNoKFwiIFwiLGMsJz1cIicsdihkKSwnXCInKTticmVhaztjYXNlIDY6IWlzTmFOKGQpJiYxPD1kJiZhLnB1c2goXCIgXCIsYywnPVwiJyx2KGQpLCdcIicpO2JyZWFrO2RlZmF1bHQ6Yi5zYW5pdGl6ZVVSTCYmKGQ9XCJcIitkKSxhLnB1c2goXCIgXCIsYywnPVwiJyx2KGQpLCdcIicpfX1lbHNlIGlmKGphKGMpKXtzd2l0Y2godHlwZW9mIGQpe2Nhc2UgXCJmdW5jdGlvblwiOmNhc2UgXCJzeW1ib2xcIjpyZXR1cm47Y2FzZSBcImJvb2xlYW5cIjppZihiPWMudG9Mb3dlckNhc2UoKS5zbGljZSgwLDUpLFwiZGF0YS1cIiE9PWImJlwiYXJpYS1cIiE9PWIpcmV0dXJufWEucHVzaChcIiBcIixjLCc9XCInLHYoZCksJ1wiJyl9fVxuZnVuY3Rpb24geShhLGIsYyl7aWYobnVsbCE9Yil7aWYobnVsbCE9Yyl0aHJvdyBFcnJvcihsKDYwKSk7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBifHwhKFwiX19odG1sXCJpbiBiKSl0aHJvdyBFcnJvcihsKDYxKSk7Yj1iLl9faHRtbDtudWxsIT09YiYmdm9pZCAwIT09YiYmYS5wdXNoKFwiXCIrYil9fWZ1bmN0aW9uIHVhKGEpe3ZhciBiPVwiXCI7YWEuQ2hpbGRyZW4uZm9yRWFjaChhLGZ1bmN0aW9uKGEpe251bGwhPWEmJihiKz1hKX0pO3JldHVybiBifVxuZnVuY3Rpb24gdmEoYSxiLGMsZCl7YS5wdXNoKEEoYykpO3ZhciBmPWM9bnVsbCxlO2ZvcihlIGluIGIpaWYocC5jYWxsKGIsZSkpe3ZhciBnPWJbZV07aWYobnVsbCE9Zylzd2l0Y2goZSl7Y2FzZSBcImNoaWxkcmVuXCI6Yz1nO2JyZWFrO2Nhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOmY9ZzticmVhaztkZWZhdWx0OngoYSxkLGUsZyl9fWEucHVzaChcIj5cIik7eShhLGYsYyk7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBjPyhhLnB1c2godihjKSksbnVsbCk6Y312YXIgd2E9L15bYS16QS1aXVthLXpBLVo6X1xcLlxcLVxcZF0qJC8seGE9bmV3IE1hcDtmdW5jdGlvbiBBKGEpe3ZhciBiPXhhLmdldChhKTtpZih2b2lkIDA9PT1iKXtpZighd2EudGVzdChhKSl0aHJvdyBFcnJvcihsKDY1LGEpKTtiPVwiPFwiK2E7eGEuc2V0KGEsYil9cmV0dXJuIGJ9XG5mdW5jdGlvbiB5YShhLGIsYyxkLGYpe3N3aXRjaChiKXtjYXNlIFwic2VsZWN0XCI6YS5wdXNoKEEoXCJzZWxlY3RcIikpO3ZhciBlPW51bGwsZz1udWxsO2ZvcihuIGluIGMpaWYocC5jYWxsKGMsbikpe3ZhciBoPWNbbl07aWYobnVsbCE9aClzd2l0Y2gobil7Y2FzZSBcImNoaWxkcmVuXCI6ZT1oO2JyZWFrO2Nhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOmc9aDticmVhaztjYXNlIFwiZGVmYXVsdFZhbHVlXCI6Y2FzZSBcInZhbHVlXCI6YnJlYWs7ZGVmYXVsdDp4KGEsZCxuLGgpfX1hLnB1c2goXCI+XCIpO3koYSxnLGUpO3JldHVybiBlO2Nhc2UgXCJvcHRpb25cIjpnPWYuc2VsZWN0ZWRWYWx1ZTthLnB1c2goQShcIm9wdGlvblwiKSk7dmFyIGs9aD1udWxsLG09bnVsbDt2YXIgbj1udWxsO2ZvcihlIGluIGMpaWYocC5jYWxsKGMsZSkpe3ZhciBxPWNbZV07aWYobnVsbCE9cSlzd2l0Y2goZSl7Y2FzZSBcImNoaWxkcmVuXCI6aD1xO2JyZWFrO2Nhc2UgXCJzZWxlY3RlZFwiOm09cTticmVhaztjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpuPVxucTticmVhaztjYXNlIFwidmFsdWVcIjprPXE7ZGVmYXVsdDp4KGEsZCxlLHEpfX1pZihudWxsIT1nKWlmKGM9bnVsbCE9PWs/XCJcIitrOnVhKGgpLHFhKGcpKWZvcihkPTA7ZDxnLmxlbmd0aDtkKyspe2lmKFwiXCIrZ1tkXT09PWMpe2EucHVzaCgnIHNlbGVjdGVkPVwiXCInKTticmVha319ZWxzZVwiXCIrZz09PWMmJmEucHVzaCgnIHNlbGVjdGVkPVwiXCInKTtlbHNlIG0mJmEucHVzaCgnIHNlbGVjdGVkPVwiXCInKTthLnB1c2goXCI+XCIpO3koYSxuLGgpO3JldHVybiBoO2Nhc2UgXCJ0ZXh0YXJlYVwiOmEucHVzaChBKFwidGV4dGFyZWFcIikpO249Zz1lPW51bGw7Zm9yKGggaW4gYylpZihwLmNhbGwoYyxoKSYmKGs9Y1toXSxudWxsIT1rKSlzd2l0Y2goaCl7Y2FzZSBcImNoaWxkcmVuXCI6bj1rO2JyZWFrO2Nhc2UgXCJ2YWx1ZVwiOmU9azticmVhaztjYXNlIFwiZGVmYXVsdFZhbHVlXCI6Zz1rO2JyZWFrO2Nhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOnRocm93IEVycm9yKGwoOTEpKTtkZWZhdWx0OngoYSxkLFxuaCxrKX1udWxsPT09ZSYmbnVsbCE9PWcmJihlPWcpO2EucHVzaChcIj5cIik7aWYobnVsbCE9bil7aWYobnVsbCE9ZSl0aHJvdyBFcnJvcihsKDkyKSk7aWYocWEobikmJjE8bi5sZW5ndGgpdGhyb3cgRXJyb3IobCg5MykpO2U9XCJcIitufVwic3RyaW5nXCI9PT10eXBlb2YgZSYmXCJcXG5cIj09PWVbMF0mJmEucHVzaChcIlxcblwiKTtudWxsIT09ZSYmYS5wdXNoKHYoXCJcIitlKSk7cmV0dXJuIG51bGw7Y2FzZSBcImlucHV0XCI6YS5wdXNoKEEoXCJpbnB1dFwiKSk7az1uPWg9ZT1udWxsO2ZvcihnIGluIGMpaWYocC5jYWxsKGMsZykmJihtPWNbZ10sbnVsbCE9bSkpc3dpdGNoKGcpe2Nhc2UgXCJjaGlsZHJlblwiOmNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOnRocm93IEVycm9yKGwoMzk5LFwiaW5wdXRcIikpO2Nhc2UgXCJkZWZhdWx0Q2hlY2tlZFwiOms9bTticmVhaztjYXNlIFwiZGVmYXVsdFZhbHVlXCI6aD1tO2JyZWFrO2Nhc2UgXCJjaGVja2VkXCI6bj1tO2JyZWFrO2Nhc2UgXCJ2YWx1ZVwiOmU9bTticmVhaztcbmRlZmF1bHQ6eChhLGQsZyxtKX1udWxsIT09bj94KGEsZCxcImNoZWNrZWRcIixuKTpudWxsIT09ayYmeChhLGQsXCJjaGVja2VkXCIsayk7bnVsbCE9PWU/eChhLGQsXCJ2YWx1ZVwiLGUpOm51bGwhPT1oJiZ4KGEsZCxcInZhbHVlXCIsaCk7YS5wdXNoKFwiLz5cIik7cmV0dXJuIG51bGw7Y2FzZSBcIm1lbnVpdGVtXCI6YS5wdXNoKEEoXCJtZW51aXRlbVwiKSk7Zm9yKHZhciBDIGluIGMpaWYocC5jYWxsKGMsQykmJihlPWNbQ10sbnVsbCE9ZSkpc3dpdGNoKEMpe2Nhc2UgXCJjaGlsZHJlblwiOmNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOnRocm93IEVycm9yKGwoNDAwKSk7ZGVmYXVsdDp4KGEsZCxDLGUpfWEucHVzaChcIj5cIik7cmV0dXJuIG51bGw7Y2FzZSBcInRpdGxlXCI6YS5wdXNoKEEoXCJ0aXRsZVwiKSk7ZT1udWxsO2ZvcihxIGluIGMpaWYocC5jYWxsKGMscSkmJihnPWNbcV0sbnVsbCE9Zykpc3dpdGNoKHEpe2Nhc2UgXCJjaGlsZHJlblwiOmU9ZzticmVhaztjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjp0aHJvdyBFcnJvcihsKDQzNCkpO1xuZGVmYXVsdDp4KGEsZCxxLGcpfWEucHVzaChcIj5cIik7cmV0dXJuIGU7Y2FzZSBcImxpc3RpbmdcIjpjYXNlIFwicHJlXCI6YS5wdXNoKEEoYikpO2c9ZT1udWxsO2ZvcihrIGluIGMpaWYocC5jYWxsKGMsaykmJihoPWNba10sbnVsbCE9aCkpc3dpdGNoKGspe2Nhc2UgXCJjaGlsZHJlblwiOmU9aDticmVhaztjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpnPWg7YnJlYWs7ZGVmYXVsdDp4KGEsZCxrLGgpfWEucHVzaChcIj5cIik7aWYobnVsbCE9Zyl7aWYobnVsbCE9ZSl0aHJvdyBFcnJvcihsKDYwKSk7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBnfHwhKFwiX19odG1sXCJpbiBnKSl0aHJvdyBFcnJvcihsKDYxKSk7Yz1nLl9faHRtbDtudWxsIT09YyYmdm9pZCAwIT09YyYmKFwic3RyaW5nXCI9PT10eXBlb2YgYyYmMDxjLmxlbmd0aCYmXCJcXG5cIj09PWNbMF0/YS5wdXNoKFwiXFxuXCIsYyk6YS5wdXNoKFwiXCIrYykpfVwic3RyaW5nXCI9PT10eXBlb2YgZSYmXCJcXG5cIj09PWVbMF0mJmEucHVzaChcIlxcblwiKTtyZXR1cm4gZTtcbmNhc2UgXCJhcmVhXCI6Y2FzZSBcImJhc2VcIjpjYXNlIFwiYnJcIjpjYXNlIFwiY29sXCI6Y2FzZSBcImVtYmVkXCI6Y2FzZSBcImhyXCI6Y2FzZSBcImltZ1wiOmNhc2UgXCJrZXlnZW5cIjpjYXNlIFwibGlua1wiOmNhc2UgXCJtZXRhXCI6Y2FzZSBcInBhcmFtXCI6Y2FzZSBcInNvdXJjZVwiOmNhc2UgXCJ0cmFja1wiOmNhc2UgXCJ3YnJcIjphLnB1c2goQShiKSk7Zm9yKHZhciBEIGluIGMpaWYocC5jYWxsKGMsRCkmJihlPWNbRF0sbnVsbCE9ZSkpc3dpdGNoKEQpe2Nhc2UgXCJjaGlsZHJlblwiOmNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOnRocm93IEVycm9yKGwoMzk5LGIpKTtkZWZhdWx0OngoYSxkLEQsZSl9YS5wdXNoKFwiLz5cIik7cmV0dXJuIG51bGw7Y2FzZSBcImFubm90YXRpb24teG1sXCI6Y2FzZSBcImNvbG9yLXByb2ZpbGVcIjpjYXNlIFwiZm9udC1mYWNlXCI6Y2FzZSBcImZvbnQtZmFjZS1zcmNcIjpjYXNlIFwiZm9udC1mYWNlLXVyaVwiOmNhc2UgXCJmb250LWZhY2UtZm9ybWF0XCI6Y2FzZSBcImZvbnQtZmFjZS1uYW1lXCI6Y2FzZSBcIm1pc3NpbmctZ2x5cGhcIjpyZXR1cm4gdmEoYSxcbmMsYixkKTtjYXNlIFwiaHRtbFwiOnJldHVybiAwPT09Zi5pbnNlcnRpb25Nb2RlJiZhLnB1c2goXCI8IURPQ1RZUEUgaHRtbD5cIiksdmEoYSxjLGIsZCk7ZGVmYXVsdDppZigtMT09PWIuaW5kZXhPZihcIi1cIikmJlwic3RyaW5nXCIhPT10eXBlb2YgYy5pcylyZXR1cm4gdmEoYSxjLGIsZCk7YS5wdXNoKEEoYikpO2c9ZT1udWxsO2ZvcihtIGluIGMpaWYocC5jYWxsKGMsbSkmJihoPWNbbV0sbnVsbCE9aCkpc3dpdGNoKG0pe2Nhc2UgXCJjaGlsZHJlblwiOmU9aDticmVhaztjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpnPWg7YnJlYWs7Y2FzZSBcInN0eWxlXCI6dGEoYSxkLGgpO2JyZWFrO2Nhc2UgXCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIjpjYXNlIFwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCI6YnJlYWs7ZGVmYXVsdDpqYShtKSYmXCJmdW5jdGlvblwiIT09dHlwZW9mIGgmJlwic3ltYm9sXCIhPT10eXBlb2YgaCYmYS5wdXNoKFwiIFwiLG0sJz1cIicsdihoKSwnXCInKX1hLnB1c2goXCI+XCIpO1xueShhLGcsZSk7cmV0dXJuIGV9fWZ1bmN0aW9uIHphKGEsYixjKXthLnB1c2goJ1xceDNjIS0tJD8tLVxceDNlPHRlbXBsYXRlIGlkPVwiJyk7aWYobnVsbD09PWMpdGhyb3cgRXJyb3IobCgzOTUpKTthLnB1c2goYyk7cmV0dXJuIGEucHVzaCgnXCI+PC90ZW1wbGF0ZT4nKX1cbmZ1bmN0aW9uIEFhKGEsYixjLGQpe3N3aXRjaChjLmluc2VydGlvbk1vZGUpe2Nhc2UgMDpjYXNlIDE6cmV0dXJuIGEucHVzaCgnPGRpdiBoaWRkZW4gaWQ9XCInKSxhLnB1c2goYi5zZWdtZW50UHJlZml4KSxiPWQudG9TdHJpbmcoMTYpLGEucHVzaChiKSxhLnB1c2goJ1wiPicpO2Nhc2UgMjpyZXR1cm4gYS5wdXNoKCc8c3ZnIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHN0eWxlPVwiZGlzcGxheTpub25lXCIgaWQ9XCInKSxhLnB1c2goYi5zZWdtZW50UHJlZml4KSxiPWQudG9TdHJpbmcoMTYpLGEucHVzaChiKSxhLnB1c2goJ1wiPicpO2Nhc2UgMzpyZXR1cm4gYS5wdXNoKCc8bWF0aCBhcmlhLWhpZGRlbj1cInRydWVcIiBzdHlsZT1cImRpc3BsYXk6bm9uZVwiIGlkPVwiJyksYS5wdXNoKGIuc2VnbWVudFByZWZpeCksYj1kLnRvU3RyaW5nKDE2KSxhLnB1c2goYiksYS5wdXNoKCdcIj4nKTtjYXNlIDQ6cmV0dXJuIGEucHVzaCgnPHRhYmxlIGhpZGRlbiBpZD1cIicpLGEucHVzaChiLnNlZ21lbnRQcmVmaXgpLFxuYj1kLnRvU3RyaW5nKDE2KSxhLnB1c2goYiksYS5wdXNoKCdcIj4nKTtjYXNlIDU6cmV0dXJuIGEucHVzaCgnPHRhYmxlIGhpZGRlbj48dGJvZHkgaWQ9XCInKSxhLnB1c2goYi5zZWdtZW50UHJlZml4KSxiPWQudG9TdHJpbmcoMTYpLGEucHVzaChiKSxhLnB1c2goJ1wiPicpO2Nhc2UgNjpyZXR1cm4gYS5wdXNoKCc8dGFibGUgaGlkZGVuPjx0ciBpZD1cIicpLGEucHVzaChiLnNlZ21lbnRQcmVmaXgpLGI9ZC50b1N0cmluZygxNiksYS5wdXNoKGIpLGEucHVzaCgnXCI+Jyk7Y2FzZSA3OnJldHVybiBhLnB1c2goJzx0YWJsZSBoaWRkZW4+PGNvbGdyb3VwIGlkPVwiJyksYS5wdXNoKGIuc2VnbWVudFByZWZpeCksYj1kLnRvU3RyaW5nKDE2KSxhLnB1c2goYiksYS5wdXNoKCdcIj4nKTtkZWZhdWx0OnRocm93IEVycm9yKGwoMzk3KSk7fX1cbmZ1bmN0aW9uIEJhKGEsYil7c3dpdGNoKGIuaW5zZXJ0aW9uTW9kZSl7Y2FzZSAwOmNhc2UgMTpyZXR1cm4gYS5wdXNoKFwiPC9kaXY+XCIpO2Nhc2UgMjpyZXR1cm4gYS5wdXNoKFwiPC9zdmc+XCIpO2Nhc2UgMzpyZXR1cm4gYS5wdXNoKFwiPC9tYXRoPlwiKTtjYXNlIDQ6cmV0dXJuIGEucHVzaChcIjwvdGFibGU+XCIpO2Nhc2UgNTpyZXR1cm4gYS5wdXNoKFwiPC90Ym9keT48L3RhYmxlPlwiKTtjYXNlIDY6cmV0dXJuIGEucHVzaChcIjwvdHI+PC90YWJsZT5cIik7Y2FzZSA3OnJldHVybiBhLnB1c2goXCI8L2NvbGdyb3VwPjwvdGFibGU+XCIpO2RlZmF1bHQ6dGhyb3cgRXJyb3IobCgzOTcpKTt9fXZhciBDYT0vWzxcXHUyMDI4XFx1MjAyOV0vZztcbmZ1bmN0aW9uIERhKGEpe3JldHVybiBKU09OLnN0cmluZ2lmeShhKS5yZXBsYWNlKENhLGZ1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlIFwiPFwiOnJldHVyblwiXFxcXHUwMDNjXCI7Y2FzZSBcIlxcdTIwMjhcIjpyZXR1cm5cIlxcXFx1MjAyOFwiO2Nhc2UgXCJcXHUyMDI5XCI6cmV0dXJuXCJcXFxcdTIwMjlcIjtkZWZhdWx0OnRocm93IEVycm9yKFwiZXNjYXBlSlNTdHJpbmdzRm9ySW5zdHJ1Y3Rpb25TY3JpcHRzIGVuY291bnRlcmVkIGEgbWF0Y2ggaXQgZG9lcyBub3Qga25vdyBob3cgdG8gcmVwbGFjZS4gdGhpcyBtZWFucyB0aGUgbWF0Y2ggcmVnZXggYW5kIHRoZSByZXBsYWNlbWVudCBjaGFyYWN0ZXJzIGFyZSBubyBsb25nZXIgaW4gc3luYy4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdFwiKTt9fSl9XG5mdW5jdGlvbiBFYShhLGIpe2I9dm9pZCAwPT09Yj9cIlwiOmI7cmV0dXJue2Jvb3RzdHJhcENodW5rczpbXSxzdGFydElubGluZVNjcmlwdDpcIjxzY3JpcHQ+XCIscGxhY2Vob2xkZXJQcmVmaXg6YitcIlA6XCIsc2VnbWVudFByZWZpeDpiK1wiUzpcIixib3VuZGFyeVByZWZpeDpiK1wiQjpcIixpZFByZWZpeDpiLG5leHRTdXNwZW5zZUlEOjAsc2VudENvbXBsZXRlU2VnbWVudEZ1bmN0aW9uOiExLHNlbnRDb21wbGV0ZUJvdW5kYXJ5RnVuY3Rpb246ITEsc2VudENsaWVudFJlbmRlckZ1bmN0aW9uOiExLGdlbmVyYXRlU3RhdGljTWFya3VwOmF9fWZ1bmN0aW9uIEZhKGEsYixjLGQpe2lmKGMuZ2VuZXJhdGVTdGF0aWNNYXJrdXApcmV0dXJuIGEucHVzaCh2KGIpKSwhMTtcIlwiPT09Yj9hPWQ6KGQmJmEucHVzaChcIlxceDNjIS0tIC0tXFx4M2VcIiksYS5wdXNoKHYoYikpLGE9ITApO3JldHVybiBhfVxudmFyIEI9T2JqZWN0LmFzc2lnbixHYT1TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKSxIYT1TeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLElhPVN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxKYT1TeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIiksS2E9U3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpLExhPVN5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKSxNYT1TeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKSxOYT1TeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksT2E9U3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLFBhPVN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLFFhPVN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLFJhPVN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpLFNhPVN5bWJvbC5mb3IoXCJyZWFjdC5zY29wZVwiKSxUYT1TeW1ib2wuZm9yKFwicmVhY3QuZGVidWdfdHJhY2VfbW9kZVwiKSxVYT1TeW1ib2wuZm9yKFwicmVhY3QubGVnYWN5X2hpZGRlblwiKSxcblZhPVN5bWJvbC5mb3IoXCJyZWFjdC5kZWZhdWx0X3ZhbHVlXCIpLFdhPVN5bWJvbC5pdGVyYXRvcjtcbmZ1bmN0aW9uIFhhKGEpe2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEpcmV0dXJuIGEuZGlzcGxheU5hbWV8fGEubmFtZXx8bnVsbDtpZihcInN0cmluZ1wiPT09dHlwZW9mIGEpcmV0dXJuIGE7c3dpdGNoKGEpe2Nhc2UgSWE6cmV0dXJuXCJGcmFnbWVudFwiO2Nhc2UgSGE6cmV0dXJuXCJQb3J0YWxcIjtjYXNlIEthOnJldHVyblwiUHJvZmlsZXJcIjtjYXNlIEphOnJldHVyblwiU3RyaWN0TW9kZVwiO2Nhc2UgT2E6cmV0dXJuXCJTdXNwZW5zZVwiO2Nhc2UgUGE6cmV0dXJuXCJTdXNwZW5zZUxpc3RcIn1pZihcIm9iamVjdFwiPT09dHlwZW9mIGEpc3dpdGNoKGEuJCR0eXBlb2Ype2Nhc2UgTWE6cmV0dXJuKGEuZGlzcGxheU5hbWV8fFwiQ29udGV4dFwiKStcIi5Db25zdW1lclwiO2Nhc2UgTGE6cmV0dXJuKGEuX2NvbnRleHQuZGlzcGxheU5hbWV8fFwiQ29udGV4dFwiKStcIi5Qcm92aWRlclwiO2Nhc2UgTmE6dmFyIGI9YS5yZW5kZXI7YT1hLmRpc3BsYXlOYW1lO2F8fChhPWIuZGlzcGxheU5hbWV8fFxuYi5uYW1lfHxcIlwiLGE9XCJcIiE9PWE/XCJGb3J3YXJkUmVmKFwiK2ErXCIpXCI6XCJGb3J3YXJkUmVmXCIpO3JldHVybiBhO2Nhc2UgUWE6cmV0dXJuIGI9YS5kaXNwbGF5TmFtZXx8bnVsbCxudWxsIT09Yj9iOlhhKGEudHlwZSl8fFwiTWVtb1wiO2Nhc2UgUmE6Yj1hLl9wYXlsb2FkO2E9YS5faW5pdDt0cnl7cmV0dXJuIFhhKGEoYikpfWNhdGNoKGMpe319cmV0dXJuIG51bGx9dmFyIFlhPXt9O2Z1bmN0aW9uIFphKGEsYil7YT1hLmNvbnRleHRUeXBlcztpZighYSlyZXR1cm4gWWE7dmFyIGM9e30sZDtmb3IoZCBpbiBhKWNbZF09YltkXTtyZXR1cm4gY312YXIgRT1udWxsO1xuZnVuY3Rpb24gRihhLGIpe2lmKGEhPT1iKXthLmNvbnRleHQuX2N1cnJlbnRWYWx1ZTI9YS5wYXJlbnRWYWx1ZTthPWEucGFyZW50O3ZhciBjPWIucGFyZW50O2lmKG51bGw9PT1hKXtpZihudWxsIT09Yyl0aHJvdyBFcnJvcihsKDQwMSkpO31lbHNle2lmKG51bGw9PT1jKXRocm93IEVycm9yKGwoNDAxKSk7RihhLGMpfWIuY29udGV4dC5fY3VycmVudFZhbHVlMj1iLnZhbHVlfX1mdW5jdGlvbiAkYShhKXthLmNvbnRleHQuX2N1cnJlbnRWYWx1ZTI9YS5wYXJlbnRWYWx1ZTthPWEucGFyZW50O251bGwhPT1hJiYkYShhKX1mdW5jdGlvbiBhYihhKXt2YXIgYj1hLnBhcmVudDtudWxsIT09YiYmYWIoYik7YS5jb250ZXh0Ll9jdXJyZW50VmFsdWUyPWEudmFsdWV9XG5mdW5jdGlvbiBiYihhLGIpe2EuY29udGV4dC5fY3VycmVudFZhbHVlMj1hLnBhcmVudFZhbHVlO2E9YS5wYXJlbnQ7aWYobnVsbD09PWEpdGhyb3cgRXJyb3IobCg0MDIpKTthLmRlcHRoPT09Yi5kZXB0aD9GKGEsYik6YmIoYSxiKX1mdW5jdGlvbiBjYihhLGIpe3ZhciBjPWIucGFyZW50O2lmKG51bGw9PT1jKXRocm93IEVycm9yKGwoNDAyKSk7YS5kZXB0aD09PWMuZGVwdGg/RihhLGMpOmNiKGEsYyk7Yi5jb250ZXh0Ll9jdXJyZW50VmFsdWUyPWIudmFsdWV9ZnVuY3Rpb24gRyhhKXt2YXIgYj1FO2IhPT1hJiYobnVsbD09PWI/YWIoYSk6bnVsbD09PWE/JGEoYik6Yi5kZXB0aD09PWEuZGVwdGg/RihiLGEpOmIuZGVwdGg+YS5kZXB0aD9iYihiLGEpOmNiKGIsYSksRT1hKX1cbnZhciBkYj17aXNNb3VudGVkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbihhLGIpe2E9YS5fcmVhY3RJbnRlcm5hbHM7bnVsbCE9PWEucXVldWUmJmEucXVldWUucHVzaChiKX0sZW5xdWV1ZVJlcGxhY2VTdGF0ZTpmdW5jdGlvbihhLGIpe2E9YS5fcmVhY3RJbnRlcm5hbHM7YS5yZXBsYWNlPSEwO2EucXVldWU9W2JdfSxlbnF1ZXVlRm9yY2VVcGRhdGU6ZnVuY3Rpb24oKXt9fTtcbmZ1bmN0aW9uIGViKGEsYixjLGQpe3ZhciBmPXZvaWQgMCE9PWEuc3RhdGU/YS5zdGF0ZTpudWxsO2EudXBkYXRlcj1kYjthLnByb3BzPWM7YS5zdGF0ZT1mO3ZhciBlPXtxdWV1ZTpbXSxyZXBsYWNlOiExfTthLl9yZWFjdEludGVybmFscz1lO3ZhciBnPWIuY29udGV4dFR5cGU7YS5jb250ZXh0PVwib2JqZWN0XCI9PT10eXBlb2YgZyYmbnVsbCE9PWc/Zy5fY3VycmVudFZhbHVlMjpkO2c9Yi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XCJmdW5jdGlvblwiPT09dHlwZW9mIGcmJihnPWcoYyxmKSxmPW51bGw9PT1nfHx2b2lkIDA9PT1nP2Y6Qih7fSxmLGcpLGEuc3RhdGU9Zik7aWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIGIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgYS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSYmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnR8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmNvbXBvbmVudFdpbGxNb3VudCkpaWYoYj1cbmEuc3RhdGUsXCJmdW5jdGlvblwiPT09dHlwZW9mIGEuY29tcG9uZW50V2lsbE1vdW50JiZhLmNvbXBvbmVudFdpbGxNb3VudCgpLFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQmJmEuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpLGIhPT1hLnN0YXRlJiZkYi5lbnF1ZXVlUmVwbGFjZVN0YXRlKGEsYS5zdGF0ZSxudWxsKSxudWxsIT09ZS5xdWV1ZSYmMDxlLnF1ZXVlLmxlbmd0aClpZihiPWUucXVldWUsZz1lLnJlcGxhY2UsZS5xdWV1ZT1udWxsLGUucmVwbGFjZT0hMSxnJiYxPT09Yi5sZW5ndGgpYS5zdGF0ZT1iWzBdO2Vsc2V7ZT1nP2JbMF06YS5zdGF0ZTtmPSEwO2ZvcihnPWc/MTowO2c8Yi5sZW5ndGg7ZysrKXt2YXIgaD1iW2ddO2g9XCJmdW5jdGlvblwiPT09dHlwZW9mIGg/aC5jYWxsKGEsZSxjLGQpOmg7bnVsbCE9aCYmKGY/KGY9ITEsZT1CKHt9LGUsaCkpOkIoZSxoKSl9YS5zdGF0ZT1lfWVsc2UgZS5xdWV1ZT1udWxsfVxudmFyIGZiPXtpZDoxLG92ZXJmbG93OlwiXCJ9O2Z1bmN0aW9uIGdiKGEsYixjKXt2YXIgZD1hLmlkO2E9YS5vdmVyZmxvdzt2YXIgZj0zMi1IKGQpLTE7ZCY9figxPDxmKTtjKz0xO3ZhciBlPTMyLUgoYikrZjtpZigzMDxlKXt2YXIgZz1mLWYlNTtlPShkJigxPDxnKS0xKS50b1N0cmluZygzMik7ZD4+PWc7Zi09ZztyZXR1cm57aWQ6MTw8MzItSChiKStmfGM8PGZ8ZCxvdmVyZmxvdzplK2F9fXJldHVybntpZDoxPDxlfGM8PGZ8ZCxvdmVyZmxvdzphfX12YXIgSD1NYXRoLmNsejMyP01hdGguY2x6MzI6aGIsaWI9TWF0aC5sb2csamI9TWF0aC5MTjI7ZnVuY3Rpb24gaGIoYSl7YT4+Pj0wO3JldHVybiAwPT09YT8zMjozMS0oaWIoYSkvamJ8MCl8MH1mdW5jdGlvbiBrYihhLGIpe3JldHVybiBhPT09YiYmKDAhPT1hfHwxL2E9PT0xL2IpfHxhIT09YSYmYiE9PWJ9XG52YXIgbGI9XCJmdW5jdGlvblwiPT09dHlwZW9mIE9iamVjdC5pcz9PYmplY3QuaXM6a2IsST1udWxsLG9iPW51bGwsSj1udWxsLEs9bnVsbCxMPSExLE09ITEsTj0wLE89bnVsbCxQPTA7ZnVuY3Rpb24gUSgpe2lmKG51bGw9PT1JKXRocm93IEVycm9yKGwoMzIxKSk7cmV0dXJuIEl9ZnVuY3Rpb24gcGIoKXtpZigwPFApdGhyb3cgRXJyb3IobCgzMTIpKTtyZXR1cm57bWVtb2l6ZWRTdGF0ZTpudWxsLHF1ZXVlOm51bGwsbmV4dDpudWxsfX1mdW5jdGlvbiBxYigpe251bGw9PT1LP251bGw9PT1KPyhMPSExLEo9Sz1wYigpKTooTD0hMCxLPUopOm51bGw9PT1LLm5leHQ/KEw9ITEsSz1LLm5leHQ9cGIoKSk6KEw9ITAsSz1LLm5leHQpO3JldHVybiBLfWZ1bmN0aW9uIHJiKCl7b2I9ST1udWxsO009ITE7Sj1udWxsO1A9MDtLPU89bnVsbH1mdW5jdGlvbiBzYihhLGIpe3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBiP2IoYSk6Yn1cbmZ1bmN0aW9uIHRiKGEsYixjKXtJPVEoKTtLPXFiKCk7aWYoTCl7dmFyIGQ9Sy5xdWV1ZTtiPWQuZGlzcGF0Y2g7aWYobnVsbCE9PU8mJihjPU8uZ2V0KGQpLHZvaWQgMCE9PWMpKXtPLmRlbGV0ZShkKTtkPUsubWVtb2l6ZWRTdGF0ZTtkbyBkPWEoZCxjLmFjdGlvbiksYz1jLm5leHQ7d2hpbGUobnVsbCE9PWMpO0subWVtb2l6ZWRTdGF0ZT1kO3JldHVybltkLGJdfXJldHVybltLLm1lbW9pemVkU3RhdGUsYl19YT1hPT09c2I/XCJmdW5jdGlvblwiPT09dHlwZW9mIGI/YigpOmI6dm9pZCAwIT09Yz9jKGIpOmI7Sy5tZW1vaXplZFN0YXRlPWE7YT1LLnF1ZXVlPXtsYXN0Om51bGwsZGlzcGF0Y2g6bnVsbH07YT1hLmRpc3BhdGNoPXViLmJpbmQobnVsbCxJLGEpO3JldHVybltLLm1lbW9pemVkU3RhdGUsYV19XG5mdW5jdGlvbiB2YihhLGIpe0k9USgpO0s9cWIoKTtiPXZvaWQgMD09PWI/bnVsbDpiO2lmKG51bGwhPT1LKXt2YXIgYz1LLm1lbW9pemVkU3RhdGU7aWYobnVsbCE9PWMmJm51bGwhPT1iKXt2YXIgZD1jWzFdO2E6aWYobnVsbD09PWQpZD0hMTtlbHNle2Zvcih2YXIgZj0wO2Y8ZC5sZW5ndGgmJmY8Yi5sZW5ndGg7ZisrKWlmKCFsYihiW2ZdLGRbZl0pKXtkPSExO2JyZWFrIGF9ZD0hMH1pZihkKXJldHVybiBjWzBdfX1hPWEoKTtLLm1lbW9pemVkU3RhdGU9W2EsYl07cmV0dXJuIGF9ZnVuY3Rpb24gdWIoYSxiLGMpe2lmKDI1PD1QKXRocm93IEVycm9yKGwoMzAxKSk7aWYoYT09PUkpaWYoTT0hMCxhPXthY3Rpb246YyxuZXh0Om51bGx9LG51bGw9PT1PJiYoTz1uZXcgTWFwKSxjPU8uZ2V0KGIpLHZvaWQgMD09PWMpTy5zZXQoYixhKTtlbHNle2ZvcihiPWM7bnVsbCE9PWIubmV4dDspYj1iLm5leHQ7Yi5uZXh0PWF9fWZ1bmN0aW9uIHdiKCl7dGhyb3cgRXJyb3IobCgzOTQpKTt9XG5mdW5jdGlvbiBSKCl7fVxudmFyIHhiPXtyZWFkQ29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5fY3VycmVudFZhbHVlMn0sdXNlQ29udGV4dDpmdW5jdGlvbihhKXtRKCk7cmV0dXJuIGEuX2N1cnJlbnRWYWx1ZTJ9LHVzZU1lbW86dmIsdXNlUmVkdWNlcjp0Yix1c2VSZWY6ZnVuY3Rpb24oYSl7ST1RKCk7Sz1xYigpO3ZhciBiPUsubWVtb2l6ZWRTdGF0ZTtyZXR1cm4gbnVsbD09PWI/KGE9e2N1cnJlbnQ6YX0sSy5tZW1vaXplZFN0YXRlPWEpOmJ9LHVzZVN0YXRlOmZ1bmN0aW9uKGEpe3JldHVybiB0YihzYixhKX0sdXNlSW5zZXJ0aW9uRWZmZWN0OlIsdXNlTGF5b3V0RWZmZWN0OmZ1bmN0aW9uKCl7fSx1c2VDYWxsYmFjazpmdW5jdGlvbihhLGIpe3JldHVybiB2YihmdW5jdGlvbigpe3JldHVybiBhfSxiKX0sdXNlSW1wZXJhdGl2ZUhhbmRsZTpSLHVzZUVmZmVjdDpSLHVzZURlYnVnVmFsdWU6Uix1c2VEZWZlcnJlZFZhbHVlOmZ1bmN0aW9uKGEpe1EoKTtyZXR1cm4gYX0sdXNlVHJhbnNpdGlvbjpmdW5jdGlvbigpe1EoKTtyZXR1cm5bITEsXG53Yl19LHVzZUlkOmZ1bmN0aW9uKCl7dmFyIGE9b2IudHJlZUNvbnRleHQ7dmFyIGI9YS5vdmVyZmxvdzthPWEuaWQ7YT0oYSZ+KDE8PDMyLUgoYSktMSkpLnRvU3RyaW5nKDMyKStiO3ZhciBjPVM7aWYobnVsbD09PWMpdGhyb3cgRXJyb3IobCg0MDQpKTtiPU4rKzthPVwiOlwiK2MuaWRQcmVmaXgrXCJSXCIrYTswPGImJihhKz1cIkhcIitiLnRvU3RyaW5nKDMyKSk7cmV0dXJuIGErXCI6XCJ9LHVzZU11dGFibGVTb3VyY2U6ZnVuY3Rpb24oYSxiKXtRKCk7cmV0dXJuIGIoYS5fc291cmNlKX0sdXNlU3luY0V4dGVybmFsU3RvcmU6ZnVuY3Rpb24oYSxiLGMpe2lmKHZvaWQgMD09PWMpdGhyb3cgRXJyb3IobCg0MDcpKTtyZXR1cm4gYygpfX0sUz1udWxsLHliPWFhLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVELlJlYWN0Q3VycmVudERpc3BhdGNoZXI7ZnVuY3Rpb24gemIoYSl7Y29uc29sZS5lcnJvcihhKTtyZXR1cm4gbnVsbH1cbmZ1bmN0aW9uIFQoKXt9XG5mdW5jdGlvbiBBYihhLGIsYyxkLGYsZSxnLGgsayl7dmFyIG09W10sbj1uZXcgU2V0O2I9e2Rlc3RpbmF0aW9uOm51bGwscmVzcG9uc2VTdGF0ZTpiLHByb2dyZXNzaXZlQ2h1bmtTaXplOnZvaWQgMD09PWQ/MTI4MDA6ZCxzdGF0dXM6MCxmYXRhbEVycm9yOm51bGwsbmV4dFNlZ21lbnRJZDowLGFsbFBlbmRpbmdUYXNrczowLHBlbmRpbmdSb290VGFza3M6MCxjb21wbGV0ZWRSb290U2VnbWVudDpudWxsLGFib3J0YWJsZVRhc2tzOm4scGluZ2VkVGFza3M6bSxjbGllbnRSZW5kZXJlZEJvdW5kYXJpZXM6W10sY29tcGxldGVkQm91bmRhcmllczpbXSxwYXJ0aWFsQm91bmRhcmllczpbXSxvbkVycm9yOnZvaWQgMD09PWY/emI6ZixvbkFsbFJlYWR5OnZvaWQgMD09PWU/VDplLG9uU2hlbGxSZWFkeTp2b2lkIDA9PT1nP1Q6ZyxvblNoZWxsRXJyb3I6dm9pZCAwPT09aD9UOmgsb25GYXRhbEVycm9yOnZvaWQgMD09PWs/VDprfTtjPVUoYiwwLG51bGwsYywhMSwhMSk7Yy5wYXJlbnRGbHVzaGVkPVxuITA7YT1CYihiLGEsbnVsbCxjLG4sWWEsbnVsbCxmYik7bS5wdXNoKGEpO3JldHVybiBifWZ1bmN0aW9uIEJiKGEsYixjLGQsZixlLGcsaCl7YS5hbGxQZW5kaW5nVGFza3MrKztudWxsPT09Yz9hLnBlbmRpbmdSb290VGFza3MrKzpjLnBlbmRpbmdUYXNrcysrO3ZhciBrPXtub2RlOmIscGluZzpmdW5jdGlvbigpe3ZhciBiPWEucGluZ2VkVGFza3M7Yi5wdXNoKGspOzE9PT1iLmxlbmd0aCYmQ2IoYSl9LGJsb2NrZWRCb3VuZGFyeTpjLGJsb2NrZWRTZWdtZW50OmQsYWJvcnRTZXQ6ZixsZWdhY3lDb250ZXh0OmUsY29udGV4dDpnLHRyZWVDb250ZXh0Omh9O2YuYWRkKGspO3JldHVybiBrfWZ1bmN0aW9uIFUoYSxiLGMsZCxmLGUpe3JldHVybntzdGF0dXM6MCxpZDotMSxpbmRleDpiLHBhcmVudEZsdXNoZWQ6ITEsY2h1bmtzOltdLGNoaWxkcmVuOltdLGZvcm1hdENvbnRleHQ6ZCxib3VuZGFyeTpjLGxhc3RQdXNoZWRUZXh0OmYsdGV4dEVtYmVkZGVkOmV9fVxuZnVuY3Rpb24gVihhLGIpe2E9YS5vbkVycm9yKGIpO2lmKG51bGwhPWEmJlwic3RyaW5nXCIhPT10eXBlb2YgYSl0aHJvdyBFcnJvcignb25FcnJvciByZXR1cm5lZCBzb21ldGhpbmcgd2l0aCBhIHR5cGUgb3RoZXIgdGhhbiBcInN0cmluZ1wiLiBvbkVycm9yIHNob3VsZCByZXR1cm4gYSBzdHJpbmcgYW5kIG1heSByZXR1cm4gbnVsbCBvciB1bmRlZmluZWQgYnV0IG11c3Qgbm90IHJldHVybiBhbnl0aGluZyBlbHNlLiBJdCByZWNlaXZlZCBzb21ldGhpbmcgb2YgdHlwZSBcIicrdHlwZW9mIGErJ1wiIGluc3RlYWQnKTtyZXR1cm4gYX1mdW5jdGlvbiBXKGEsYil7dmFyIGM9YS5vblNoZWxsRXJyb3I7YyhiKTtjPWEub25GYXRhbEVycm9yO2MoYik7bnVsbCE9PWEuZGVzdGluYXRpb24/KGEuc3RhdHVzPTIsYS5kZXN0aW5hdGlvbi5kZXN0cm95KGIpKTooYS5zdGF0dXM9MSxhLmZhdGFsRXJyb3I9Yil9XG5mdW5jdGlvbiBEYihhLGIsYyxkLGYpe0k9e307b2I9YjtOPTA7Zm9yKGE9YyhkLGYpO007KU09ITEsTj0wLFArPTEsSz1udWxsLGE9YyhkLGYpO3JiKCk7cmV0dXJuIGF9ZnVuY3Rpb24gRWIoYSxiLGMsZCl7dmFyIGY9Yy5yZW5kZXIoKSxlPWQuY2hpbGRDb250ZXh0VHlwZXM7aWYobnVsbCE9PWUmJnZvaWQgMCE9PWUpe3ZhciBnPWIubGVnYWN5Q29udGV4dDtpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgYy5nZXRDaGlsZENvbnRleHQpZD1nO2Vsc2V7Yz1jLmdldENoaWxkQ29udGV4dCgpO2Zvcih2YXIgaCBpbiBjKWlmKCEoaCBpbiBlKSl0aHJvdyBFcnJvcihsKDEwOCxYYShkKXx8XCJVbmtub3duXCIsaCkpO2Q9Qih7fSxnLGMpfWIubGVnYWN5Q29udGV4dD1kO1goYSxiLGYpO2IubGVnYWN5Q29udGV4dD1nfWVsc2UgWChhLGIsZil9XG5mdW5jdGlvbiBGYihhLGIpe2lmKGEmJmEuZGVmYXVsdFByb3BzKXtiPUIoe30sYik7YT1hLmRlZmF1bHRQcm9wcztmb3IodmFyIGMgaW4gYSl2b2lkIDA9PT1iW2NdJiYoYltjXT1hW2NdKTtyZXR1cm4gYn1yZXR1cm4gYn1cbmZ1bmN0aW9uIEdiKGEsYixjLGQsZil7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGMpaWYoYy5wcm90b3R5cGUmJmMucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpe2Y9WmEoYyxiLmxlZ2FjeUNvbnRleHQpO3ZhciBlPWMuY29udGV4dFR5cGU7ZT1uZXcgYyhkLFwib2JqZWN0XCI9PT10eXBlb2YgZSYmbnVsbCE9PWU/ZS5fY3VycmVudFZhbHVlMjpmKTtlYihlLGMsZCxmKTtFYihhLGIsZSxjKX1lbHNle2U9WmEoYyxiLmxlZ2FjeUNvbnRleHQpO2Y9RGIoYSxiLGMsZCxlKTt2YXIgZz0wIT09TjtpZihcIm9iamVjdFwiPT09dHlwZW9mIGYmJm51bGwhPT1mJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZi5yZW5kZXImJnZvaWQgMD09PWYuJCR0eXBlb2YpZWIoZixjLGQsZSksRWIoYSxiLGYsYyk7ZWxzZSBpZihnKXtkPWIudHJlZUNvbnRleHQ7Yi50cmVlQ29udGV4dD1nYihkLDEsMCk7dHJ5e1goYSxiLGYpfWZpbmFsbHl7Yi50cmVlQ29udGV4dD1kfX1lbHNlIFgoYSxiLGYpfWVsc2UgaWYoXCJzdHJpbmdcIj09PVxudHlwZW9mIGMpe2Y9Yi5ibG9ja2VkU2VnbWVudDtlPXlhKGYuY2h1bmtzLGMsZCxhLnJlc3BvbnNlU3RhdGUsZi5mb3JtYXRDb250ZXh0KTtmLmxhc3RQdXNoZWRUZXh0PSExO2c9Zi5mb3JtYXRDb250ZXh0O2YuZm9ybWF0Q29udGV4dD1yYShnLGMsZCk7SGIoYSxiLGUpO2YuZm9ybWF0Q29udGV4dD1nO3N3aXRjaChjKXtjYXNlIFwiYXJlYVwiOmNhc2UgXCJiYXNlXCI6Y2FzZSBcImJyXCI6Y2FzZSBcImNvbFwiOmNhc2UgXCJlbWJlZFwiOmNhc2UgXCJoclwiOmNhc2UgXCJpbWdcIjpjYXNlIFwiaW5wdXRcIjpjYXNlIFwia2V5Z2VuXCI6Y2FzZSBcImxpbmtcIjpjYXNlIFwibWV0YVwiOmNhc2UgXCJwYXJhbVwiOmNhc2UgXCJzb3VyY2VcIjpjYXNlIFwidHJhY2tcIjpjYXNlIFwid2JyXCI6YnJlYWs7ZGVmYXVsdDpmLmNodW5rcy5wdXNoKFwiPC9cIixjLFwiPlwiKX1mLmxhc3RQdXNoZWRUZXh0PSExfWVsc2V7c3dpdGNoKGMpe2Nhc2UgVWE6Y2FzZSBUYTpjYXNlIEphOmNhc2UgS2E6Y2FzZSBJYTpYKGEsYixkLmNoaWxkcmVuKTtyZXR1cm47XG5jYXNlIFBhOlgoYSxiLGQuY2hpbGRyZW4pO3JldHVybjtjYXNlIFNhOnRocm93IEVycm9yKGwoMzQzKSk7Y2FzZSBPYTphOntjPWIuYmxvY2tlZEJvdW5kYXJ5O2Y9Yi5ibG9ja2VkU2VnbWVudDtlPWQuZmFsbGJhY2s7ZD1kLmNoaWxkcmVuO2c9bmV3IFNldDt2YXIgaD17aWQ6bnVsbCxyb290U2VnbWVudElEOi0xLHBhcmVudEZsdXNoZWQ6ITEscGVuZGluZ1Rhc2tzOjAsZm9yY2VDbGllbnRSZW5kZXI6ITEsY29tcGxldGVkU2VnbWVudHM6W10sYnl0ZVNpemU6MCxmYWxsYmFja0Fib3J0YWJsZVRhc2tzOmcsZXJyb3JEaWdlc3Q6bnVsbH0saz1VKGEsZi5jaHVua3MubGVuZ3RoLGgsZi5mb3JtYXRDb250ZXh0LCExLCExKTtmLmNoaWxkcmVuLnB1c2goayk7Zi5sYXN0UHVzaGVkVGV4dD0hMTt2YXIgbT1VKGEsMCxudWxsLGYuZm9ybWF0Q29udGV4dCwhMSwhMSk7bS5wYXJlbnRGbHVzaGVkPSEwO2IuYmxvY2tlZEJvdW5kYXJ5PWg7Yi5ibG9ja2VkU2VnbWVudD1tO3RyeXtpZihIYihhLFxuYixkKSxhLnJlc3BvbnNlU3RhdGUuZ2VuZXJhdGVTdGF0aWNNYXJrdXB8fG0ubGFzdFB1c2hlZFRleHQmJm0udGV4dEVtYmVkZGVkJiZtLmNodW5rcy5wdXNoKFwiXFx4M2MhLS0gLS1cXHgzZVwiKSxtLnN0YXR1cz0xLFkoaCxtKSwwPT09aC5wZW5kaW5nVGFza3MpYnJlYWsgYX1jYXRjaChuKXttLnN0YXR1cz00LGguZm9yY2VDbGllbnRSZW5kZXI9ITAsaC5lcnJvckRpZ2VzdD1WKGEsbil9ZmluYWxseXtiLmJsb2NrZWRCb3VuZGFyeT1jLGIuYmxvY2tlZFNlZ21lbnQ9Zn1iPUJiKGEsZSxjLGssZyxiLmxlZ2FjeUNvbnRleHQsYi5jb250ZXh0LGIudHJlZUNvbnRleHQpO2EucGluZ2VkVGFza3MucHVzaChiKX1yZXR1cm59aWYoXCJvYmplY3RcIj09PXR5cGVvZiBjJiZudWxsIT09Yylzd2l0Y2goYy4kJHR5cGVvZil7Y2FzZSBOYTpkPURiKGEsYixjLnJlbmRlcixkLGYpO2lmKDAhPT1OKXtjPWIudHJlZUNvbnRleHQ7Yi50cmVlQ29udGV4dD1nYihjLDEsMCk7dHJ5e1goYSxiLGQpfWZpbmFsbHl7Yi50cmVlQ29udGV4dD1cbmN9fWVsc2UgWChhLGIsZCk7cmV0dXJuO2Nhc2UgUWE6Yz1jLnR5cGU7ZD1GYihjLGQpO0diKGEsYixjLGQsZik7cmV0dXJuO2Nhc2UgTGE6Zj1kLmNoaWxkcmVuO2M9Yy5fY29udGV4dDtkPWQudmFsdWU7ZT1jLl9jdXJyZW50VmFsdWUyO2MuX2N1cnJlbnRWYWx1ZTI9ZDtnPUU7RT1kPXtwYXJlbnQ6ZyxkZXB0aDpudWxsPT09Zz8wOmcuZGVwdGgrMSxjb250ZXh0OmMscGFyZW50VmFsdWU6ZSx2YWx1ZTpkfTtiLmNvbnRleHQ9ZDtYKGEsYixmKTthPUU7aWYobnVsbD09PWEpdGhyb3cgRXJyb3IobCg0MDMpKTtkPWEucGFyZW50VmFsdWU7YS5jb250ZXh0Ll9jdXJyZW50VmFsdWUyPWQ9PT1WYT9hLmNvbnRleHQuX2RlZmF1bHRWYWx1ZTpkO2E9RT1hLnBhcmVudDtiLmNvbnRleHQ9YTtyZXR1cm47Y2FzZSBNYTpkPWQuY2hpbGRyZW47ZD1kKGMuX2N1cnJlbnRWYWx1ZTIpO1goYSxiLGQpO3JldHVybjtjYXNlIFJhOmY9Yy5faW5pdDtjPWYoYy5fcGF5bG9hZCk7ZD1GYihjLGQpO0diKGEsXG5iLGMsZCx2b2lkIDApO3JldHVybn10aHJvdyBFcnJvcihsKDEzMCxudWxsPT1jP2M6dHlwZW9mIGMsXCJcIikpO319XG5mdW5jdGlvbiBYKGEsYixjKXtiLm5vZGU9YztpZihcIm9iamVjdFwiPT09dHlwZW9mIGMmJm51bGwhPT1jKXtzd2l0Y2goYy4kJHR5cGVvZil7Y2FzZSBHYTpHYihhLGIsYy50eXBlLGMucHJvcHMsYy5yZWYpO3JldHVybjtjYXNlIEhhOnRocm93IEVycm9yKGwoMjU3KSk7Y2FzZSBSYTp2YXIgZD1jLl9pbml0O2M9ZChjLl9wYXlsb2FkKTtYKGEsYixjKTtyZXR1cm59aWYocWEoYykpe0liKGEsYixjKTtyZXR1cm59bnVsbD09PWN8fFwib2JqZWN0XCIhPT10eXBlb2YgYz9kPW51bGw6KGQ9V2EmJmNbV2FdfHxjW1wiQEBpdGVyYXRvclwiXSxkPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBkP2Q6bnVsbCk7aWYoZCYmKGQ9ZC5jYWxsKGMpKSl7Yz1kLm5leHQoKTtpZighYy5kb25lKXt2YXIgZj1bXTtkbyBmLnB1c2goYy52YWx1ZSksYz1kLm5leHQoKTt3aGlsZSghYy5kb25lKTtJYihhLGIsZil9cmV0dXJufWE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGMpO3Rocm93IEVycm9yKGwoMzEsXCJbb2JqZWN0IE9iamVjdF1cIj09PVxuYT9cIm9iamVjdCB3aXRoIGtleXMge1wiK09iamVjdC5rZXlzKGMpLmpvaW4oXCIsIFwiKStcIn1cIjphKSk7fVwic3RyaW5nXCI9PT10eXBlb2YgYz8oZD1iLmJsb2NrZWRTZWdtZW50LGQubGFzdFB1c2hlZFRleHQ9RmEoYi5ibG9ja2VkU2VnbWVudC5jaHVua3MsYyxhLnJlc3BvbnNlU3RhdGUsZC5sYXN0UHVzaGVkVGV4dCkpOlwibnVtYmVyXCI9PT10eXBlb2YgYyYmKGQ9Yi5ibG9ja2VkU2VnbWVudCxkLmxhc3RQdXNoZWRUZXh0PUZhKGIuYmxvY2tlZFNlZ21lbnQuY2h1bmtzLFwiXCIrYyxhLnJlc3BvbnNlU3RhdGUsZC5sYXN0UHVzaGVkVGV4dCkpfWZ1bmN0aW9uIEliKGEsYixjKXtmb3IodmFyIGQ9Yy5sZW5ndGgsZj0wO2Y8ZDtmKyspe3ZhciBlPWIudHJlZUNvbnRleHQ7Yi50cmVlQ29udGV4dD1nYihlLGQsZik7dHJ5e0hiKGEsYixjW2ZdKX1maW5hbGx5e2IudHJlZUNvbnRleHQ9ZX19fVxuZnVuY3Rpb24gSGIoYSxiLGMpe3ZhciBkPWIuYmxvY2tlZFNlZ21lbnQuZm9ybWF0Q29udGV4dCxmPWIubGVnYWN5Q29udGV4dCxlPWIuY29udGV4dDt0cnl7cmV0dXJuIFgoYSxiLGMpfWNhdGNoKGspe2lmKHJiKCksXCJvYmplY3RcIj09PXR5cGVvZiBrJiZudWxsIT09ayYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGsudGhlbil7Yz1rO3ZhciBnPWIuYmxvY2tlZFNlZ21lbnQsaD1VKGEsZy5jaHVua3MubGVuZ3RoLG51bGwsZy5mb3JtYXRDb250ZXh0LGcubGFzdFB1c2hlZFRleHQsITApO2cuY2hpbGRyZW4ucHVzaChoKTtnLmxhc3RQdXNoZWRUZXh0PSExO2E9QmIoYSxiLm5vZGUsYi5ibG9ja2VkQm91bmRhcnksaCxiLmFib3J0U2V0LGIubGVnYWN5Q29udGV4dCxiLmNvbnRleHQsYi50cmVlQ29udGV4dCkucGluZztjLnRoZW4oYSxhKTtiLmJsb2NrZWRTZWdtZW50LmZvcm1hdENvbnRleHQ9ZDtiLmxlZ2FjeUNvbnRleHQ9ZjtiLmNvbnRleHQ9ZTtHKGUpfWVsc2UgdGhyb3cgYi5ibG9ja2VkU2VnbWVudC5mb3JtYXRDb250ZXh0PVxuZCxiLmxlZ2FjeUNvbnRleHQ9ZixiLmNvbnRleHQ9ZSxHKGUpLGs7fX1mdW5jdGlvbiBKYihhKXt2YXIgYj1hLmJsb2NrZWRCb3VuZGFyeTthPWEuYmxvY2tlZFNlZ21lbnQ7YS5zdGF0dXM9MztLYih0aGlzLGIsYSl9XG5mdW5jdGlvbiBMYihhLGIsYyl7dmFyIGQ9YS5ibG9ja2VkQm91bmRhcnk7YS5ibG9ja2VkU2VnbWVudC5zdGF0dXM9MztudWxsPT09ZD8oYi5hbGxQZW5kaW5nVGFza3MtLSwyIT09Yi5zdGF0dXMmJihiLnN0YXR1cz0yLG51bGwhPT1iLmRlc3RpbmF0aW9uJiZiLmRlc3RpbmF0aW9uLnB1c2gobnVsbCkpKTooZC5wZW5kaW5nVGFza3MtLSxkLmZvcmNlQ2xpZW50UmVuZGVyfHwoZC5mb3JjZUNsaWVudFJlbmRlcj0hMCxhPXZvaWQgMD09PWM/RXJyb3IobCg0MzIpKTpjLGQuZXJyb3JEaWdlc3Q9Yi5vbkVycm9yKGEpLGQucGFyZW50Rmx1c2hlZCYmYi5jbGllbnRSZW5kZXJlZEJvdW5kYXJpZXMucHVzaChkKSksZC5mYWxsYmFja0Fib3J0YWJsZVRhc2tzLmZvckVhY2goZnVuY3Rpb24oYSl7cmV0dXJuIExiKGEsYixjKX0pLGQuZmFsbGJhY2tBYm9ydGFibGVUYXNrcy5jbGVhcigpLGIuYWxsUGVuZGluZ1Rhc2tzLS0sMD09PWIuYWxsUGVuZGluZ1Rhc2tzJiYoZD1iLm9uQWxsUmVhZHksXG5kKCkpKX1mdW5jdGlvbiBZKGEsYil7aWYoMD09PWIuY2h1bmtzLmxlbmd0aCYmMT09PWIuY2hpbGRyZW4ubGVuZ3RoJiZudWxsPT09Yi5jaGlsZHJlblswXS5ib3VuZGFyeSl7dmFyIGM9Yi5jaGlsZHJlblswXTtjLmlkPWIuaWQ7Yy5wYXJlbnRGbHVzaGVkPSEwOzE9PT1jLnN0YXR1cyYmWShhLGMpfWVsc2UgYS5jb21wbGV0ZWRTZWdtZW50cy5wdXNoKGIpfVxuZnVuY3Rpb24gS2IoYSxiLGMpe2lmKG51bGw9PT1iKXtpZihjLnBhcmVudEZsdXNoZWQpe2lmKG51bGwhPT1hLmNvbXBsZXRlZFJvb3RTZWdtZW50KXRocm93IEVycm9yKGwoMzg5KSk7YS5jb21wbGV0ZWRSb290U2VnbWVudD1jfWEucGVuZGluZ1Jvb3RUYXNrcy0tOzA9PT1hLnBlbmRpbmdSb290VGFza3MmJihhLm9uU2hlbGxFcnJvcj1ULGI9YS5vblNoZWxsUmVhZHksYigpKX1lbHNlIGIucGVuZGluZ1Rhc2tzLS0sYi5mb3JjZUNsaWVudFJlbmRlcnx8KDA9PT1iLnBlbmRpbmdUYXNrcz8oYy5wYXJlbnRGbHVzaGVkJiYxPT09Yy5zdGF0dXMmJlkoYixjKSxiLnBhcmVudEZsdXNoZWQmJmEuY29tcGxldGVkQm91bmRhcmllcy5wdXNoKGIpLGIuZmFsbGJhY2tBYm9ydGFibGVUYXNrcy5mb3JFYWNoKEpiLGEpLGIuZmFsbGJhY2tBYm9ydGFibGVUYXNrcy5jbGVhcigpKTpjLnBhcmVudEZsdXNoZWQmJjE9PT1jLnN0YXR1cyYmKFkoYixjKSwxPT09Yi5jb21wbGV0ZWRTZWdtZW50cy5sZW5ndGgmJlxuYi5wYXJlbnRGbHVzaGVkJiZhLnBhcnRpYWxCb3VuZGFyaWVzLnB1c2goYikpKTthLmFsbFBlbmRpbmdUYXNrcy0tOzA9PT1hLmFsbFBlbmRpbmdUYXNrcyYmKGE9YS5vbkFsbFJlYWR5LGEoKSl9XG5mdW5jdGlvbiBDYihhKXtpZigyIT09YS5zdGF0dXMpe3ZhciBiPUUsYz15Yi5jdXJyZW50O3liLmN1cnJlbnQ9eGI7dmFyIGQ9UztTPWEucmVzcG9uc2VTdGF0ZTt0cnl7dmFyIGY9YS5waW5nZWRUYXNrcyxlO2ZvcihlPTA7ZTxmLmxlbmd0aDtlKyspe3ZhciBnPWZbZV07dmFyIGg9YSxrPWcuYmxvY2tlZFNlZ21lbnQ7aWYoMD09PWsuc3RhdHVzKXtHKGcuY29udGV4dCk7dHJ5e1goaCxnLGcubm9kZSksaC5yZXNwb25zZVN0YXRlLmdlbmVyYXRlU3RhdGljTWFya3VwfHxrLmxhc3RQdXNoZWRUZXh0JiZrLnRleHRFbWJlZGRlZCYmay5jaHVua3MucHVzaChcIlxceDNjIS0tIC0tXFx4M2VcIiksZy5hYm9ydFNldC5kZWxldGUoZyksay5zdGF0dXM9MSxLYihoLGcuYmxvY2tlZEJvdW5kYXJ5LGspfWNhdGNoKHope2lmKHJiKCksXCJvYmplY3RcIj09PXR5cGVvZiB6JiZudWxsIT09eiYmXCJmdW5jdGlvblwiPT09dHlwZW9mIHoudGhlbil7dmFyIG09Zy5waW5nO3oudGhlbihtLG0pfWVsc2V7Zy5hYm9ydFNldC5kZWxldGUoZyk7XG5rLnN0YXR1cz00O3ZhciBuPWcuYmxvY2tlZEJvdW5kYXJ5LHE9eixDPVYoaCxxKTtudWxsPT09bj9XKGgscSk6KG4ucGVuZGluZ1Rhc2tzLS0sbi5mb3JjZUNsaWVudFJlbmRlcnx8KG4uZm9yY2VDbGllbnRSZW5kZXI9ITAsbi5lcnJvckRpZ2VzdD1DLG4ucGFyZW50Rmx1c2hlZCYmaC5jbGllbnRSZW5kZXJlZEJvdW5kYXJpZXMucHVzaChuKSkpO2guYWxsUGVuZGluZ1Rhc2tzLS07aWYoMD09PWguYWxsUGVuZGluZ1Rhc2tzKXt2YXIgRD1oLm9uQWxsUmVhZHk7RCgpfX19ZmluYWxseXt9fX1mLnNwbGljZSgwLGUpO251bGwhPT1hLmRlc3RpbmF0aW9uJiZNYihhLGEuZGVzdGluYXRpb24pfWNhdGNoKHope1YoYSx6KSxXKGEseil9ZmluYWxseXtTPWQseWIuY3VycmVudD1jLGM9PT14YiYmRyhiKX19fVxuZnVuY3Rpb24gWihhLGIsYyl7Yy5wYXJlbnRGbHVzaGVkPSEwO3N3aXRjaChjLnN0YXR1cyl7Y2FzZSAwOnZhciBkPWMuaWQ9YS5uZXh0U2VnbWVudElkKys7Yy5sYXN0UHVzaGVkVGV4dD0hMTtjLnRleHRFbWJlZGRlZD0hMTthPWEucmVzcG9uc2VTdGF0ZTtiLnB1c2goJzx0ZW1wbGF0ZSBpZD1cIicpO2IucHVzaChhLnBsYWNlaG9sZGVyUHJlZml4KTthPWQudG9TdHJpbmcoMTYpO2IucHVzaChhKTtyZXR1cm4gYi5wdXNoKCdcIj48L3RlbXBsYXRlPicpO2Nhc2UgMTpjLnN0YXR1cz0yO3ZhciBmPSEwO2Q9Yy5jaHVua3M7dmFyIGU9MDtjPWMuY2hpbGRyZW47Zm9yKHZhciBnPTA7ZzxjLmxlbmd0aDtnKyspe2ZvcihmPWNbZ107ZTxmLmluZGV4O2UrKyliLnB1c2goZFtlXSk7Zj1OYihhLGIsZil9Zm9yKDtlPGQubGVuZ3RoLTE7ZSsrKWIucHVzaChkW2VdKTtlPGQubGVuZ3RoJiYoZj1iLnB1c2goZFtlXSkpO3JldHVybiBmO2RlZmF1bHQ6dGhyb3cgRXJyb3IobCgzOTApKTt9fVxuZnVuY3Rpb24gTmIoYSxiLGMpe3ZhciBkPWMuYm91bmRhcnk7aWYobnVsbD09PWQpcmV0dXJuIFooYSxiLGMpO2QucGFyZW50Rmx1c2hlZD0hMDtpZihkLmZvcmNlQ2xpZW50UmVuZGVyKXJldHVybiBhLnJlc3BvbnNlU3RhdGUuZ2VuZXJhdGVTdGF0aWNNYXJrdXB8fChkPWQuZXJyb3JEaWdlc3QsYi5wdXNoKFwiXFx4M2MhLS0kIS0tXFx4M2VcIiksYi5wdXNoKFwiPHRlbXBsYXRlXCIpLGQmJihiLnB1c2goJyBkYXRhLWRnc3Q9XCInKSxkPXYoZCksYi5wdXNoKGQpLGIucHVzaCgnXCInKSksYi5wdXNoKFwiPjwvdGVtcGxhdGU+XCIpKSxaKGEsYixjKSxhPWEucmVzcG9uc2VTdGF0ZS5nZW5lcmF0ZVN0YXRpY01hcmt1cD8hMDpiLnB1c2goXCJcXHgzYyEtLS8kLS1cXHgzZVwiKSxhO2lmKDA8ZC5wZW5kaW5nVGFza3Mpe2Qucm9vdFNlZ21lbnRJRD1hLm5leHRTZWdtZW50SWQrKzswPGQuY29tcGxldGVkU2VnbWVudHMubGVuZ3RoJiZhLnBhcnRpYWxCb3VuZGFyaWVzLnB1c2goZCk7dmFyIGY9YS5yZXNwb25zZVN0YXRlO1xudmFyIGU9Zi5uZXh0U3VzcGVuc2VJRCsrO2Y9Zi5ib3VuZGFyeVByZWZpeCtlLnRvU3RyaW5nKDE2KTtkPWQuaWQ9Zjt6YShiLGEucmVzcG9uc2VTdGF0ZSxkKTtaKGEsYixjKTtyZXR1cm4gYi5wdXNoKFwiXFx4M2MhLS0vJC0tXFx4M2VcIil9aWYoZC5ieXRlU2l6ZT5hLnByb2dyZXNzaXZlQ2h1bmtTaXplKXJldHVybiBkLnJvb3RTZWdtZW50SUQ9YS5uZXh0U2VnbWVudElkKyssYS5jb21wbGV0ZWRCb3VuZGFyaWVzLnB1c2goZCksemEoYixhLnJlc3BvbnNlU3RhdGUsZC5pZCksWihhLGIsYyksYi5wdXNoKFwiXFx4M2MhLS0vJC0tXFx4M2VcIik7YS5yZXNwb25zZVN0YXRlLmdlbmVyYXRlU3RhdGljTWFya3VwfHxiLnB1c2goXCJcXHgzYyEtLSQtLVxceDNlXCIpO2M9ZC5jb21wbGV0ZWRTZWdtZW50cztpZigxIT09Yy5sZW5ndGgpdGhyb3cgRXJyb3IobCgzOTEpKTtOYihhLGIsY1swXSk7YT1hLnJlc3BvbnNlU3RhdGUuZ2VuZXJhdGVTdGF0aWNNYXJrdXA/ITA6Yi5wdXNoKFwiXFx4M2MhLS0vJC0tXFx4M2VcIik7XG5yZXR1cm4gYX1mdW5jdGlvbiBPYihhLGIsYyl7QWEoYixhLnJlc3BvbnNlU3RhdGUsYy5mb3JtYXRDb250ZXh0LGMuaWQpO05iKGEsYixjKTtyZXR1cm4gQmEoYixjLmZvcm1hdENvbnRleHQpfVxuZnVuY3Rpb24gUGIoYSxiLGMpe2Zvcih2YXIgZD1jLmNvbXBsZXRlZFNlZ21lbnRzLGY9MDtmPGQubGVuZ3RoO2YrKylRYihhLGIsYyxkW2ZdKTtkLmxlbmd0aD0wO2E9YS5yZXNwb25zZVN0YXRlO2Q9Yy5pZDtjPWMucm9vdFNlZ21lbnRJRDtiLnB1c2goYS5zdGFydElubGluZVNjcmlwdCk7YS5zZW50Q29tcGxldGVCb3VuZGFyeUZ1bmN0aW9uP2IucHVzaCgnJFJDKFwiJyk6KGEuc2VudENvbXBsZXRlQm91bmRhcnlGdW5jdGlvbj0hMCxiLnB1c2goJ2Z1bmN0aW9uICRSQyhhLGIpe2E9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSk7Yj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChiKTtiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7aWYoYSl7YT1hLnByZXZpb3VzU2libGluZzt2YXIgZj1hLnBhcmVudE5vZGUsYz1hLm5leHRTaWJsaW5nLGU9MDtkb3tpZihjJiY4PT09Yy5ub2RlVHlwZSl7dmFyIGQ9Yy5kYXRhO2lmKFwiLyRcIj09PWQpaWYoMD09PWUpYnJlYWs7ZWxzZSBlLS07ZWxzZVwiJFwiIT09ZCYmXCIkP1wiIT09ZCYmXCIkIVwiIT09ZHx8ZSsrfWQ9Yy5uZXh0U2libGluZztmLnJlbW92ZUNoaWxkKGMpO2M9ZH13aGlsZShjKTtmb3IoO2IuZmlyc3RDaGlsZDspZi5pbnNlcnRCZWZvcmUoYi5maXJzdENoaWxkLGMpO2EuZGF0YT1cIiRcIjthLl9yZWFjdFJldHJ5JiZhLl9yZWFjdFJldHJ5KCl9fTskUkMoXCInKSk7aWYobnVsbD09PVxuZCl0aHJvdyBFcnJvcihsKDM5NSkpO2M9Yy50b1N0cmluZygxNik7Yi5wdXNoKGQpO2IucHVzaCgnXCIsXCInKTtiLnB1c2goYS5zZWdtZW50UHJlZml4KTtiLnB1c2goYyk7cmV0dXJuIGIucHVzaCgnXCIpXFx4M2Mvc2NyaXB0PicpfVxuZnVuY3Rpb24gUWIoYSxiLGMsZCl7aWYoMj09PWQuc3RhdHVzKXJldHVybiEwO3ZhciBmPWQuaWQ7aWYoLTE9PT1mKXtpZigtMT09PShkLmlkPWMucm9vdFNlZ21lbnRJRCkpdGhyb3cgRXJyb3IobCgzOTIpKTtyZXR1cm4gT2IoYSxiLGQpfU9iKGEsYixkKTthPWEucmVzcG9uc2VTdGF0ZTtiLnB1c2goYS5zdGFydElubGluZVNjcmlwdCk7YS5zZW50Q29tcGxldGVTZWdtZW50RnVuY3Rpb24/Yi5wdXNoKCckUlMoXCInKTooYS5zZW50Q29tcGxldGVTZWdtZW50RnVuY3Rpb249ITAsYi5wdXNoKCdmdW5jdGlvbiAkUlMoYSxiKXthPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpO2I9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYik7Zm9yKGEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKTthLmZpcnN0Q2hpbGQ7KWIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYS5maXJzdENoaWxkLGIpO2IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX07JFJTKFwiJykpO2IucHVzaChhLnNlZ21lbnRQcmVmaXgpO1xuZj1mLnRvU3RyaW5nKDE2KTtiLnB1c2goZik7Yi5wdXNoKCdcIixcIicpO2IucHVzaChhLnBsYWNlaG9sZGVyUHJlZml4KTtiLnB1c2goZik7cmV0dXJuIGIucHVzaCgnXCIpXFx4M2Mvc2NyaXB0PicpfVxuZnVuY3Rpb24gTWIoYSxiKXt0cnl7dmFyIGM9YS5jb21wbGV0ZWRSb290U2VnbWVudDtpZihudWxsIT09YyYmMD09PWEucGVuZGluZ1Jvb3RUYXNrcyl7TmIoYSxiLGMpO2EuY29tcGxldGVkUm9vdFNlZ21lbnQ9bnVsbDt2YXIgZD1hLnJlc3BvbnNlU3RhdGUuYm9vdHN0cmFwQ2h1bmtzO2ZvcihjPTA7YzxkLmxlbmd0aC0xO2MrKyliLnB1c2goZFtjXSk7YzxkLmxlbmd0aCYmYi5wdXNoKGRbY10pfXZhciBmPWEuY2xpZW50UmVuZGVyZWRCb3VuZGFyaWVzLGU7Zm9yKGU9MDtlPGYubGVuZ3RoO2UrKyl7dmFyIGc9ZltlXTtkPWI7dmFyIGg9YS5yZXNwb25zZVN0YXRlLGs9Zy5pZCxtPWcuZXJyb3JEaWdlc3Qsbj1nLmVycm9yTWVzc2FnZSxxPWcuZXJyb3JDb21wb25lbnRTdGFjaztkLnB1c2goaC5zdGFydElubGluZVNjcmlwdCk7aC5zZW50Q2xpZW50UmVuZGVyRnVuY3Rpb24/ZC5wdXNoKCckUlgoXCInKTooaC5zZW50Q2xpZW50UmVuZGVyRnVuY3Rpb249ITAsZC5wdXNoKCdmdW5jdGlvbiAkUlgoYixjLGQsZSl7dmFyIGE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYik7YSYmKGI9YS5wcmV2aW91c1NpYmxpbmcsYi5kYXRhPVwiJCFcIixhPWEuZGF0YXNldCxjJiYoYS5kZ3N0PWMpLGQmJihhLm1zZz1kKSxlJiYoYS5zdGNrPWUpLGIuX3JlYWN0UmV0cnkmJmIuX3JlYWN0UmV0cnkoKSl9OyRSWChcIicpKTtcbmlmKG51bGw9PT1rKXRocm93IEVycm9yKGwoMzk1KSk7ZC5wdXNoKGspO2QucHVzaCgnXCInKTtpZihtfHxufHxxKXtkLnB1c2goXCIsXCIpO3ZhciBDPURhKG18fFwiXCIpO2QucHVzaChDKX1pZihufHxxKXtkLnB1c2goXCIsXCIpO3ZhciBEPURhKG58fFwiXCIpO2QucHVzaChEKX1pZihxKXtkLnB1c2goXCIsXCIpO3ZhciB6PURhKHEpO2QucHVzaCh6KX1pZighZC5wdXNoKFwiKVxceDNjL3NjcmlwdD5cIikpe2EuZGVzdGluYXRpb249bnVsbDtlKys7Zi5zcGxpY2UoMCxlKTtyZXR1cm59fWYuc3BsaWNlKDAsZSk7dmFyIGJhPWEuY29tcGxldGVkQm91bmRhcmllcztmb3IoZT0wO2U8YmEubGVuZ3RoO2UrKylpZighUGIoYSxiLGJhW2VdKSl7YS5kZXN0aW5hdGlvbj1udWxsO2UrKztiYS5zcGxpY2UoMCxlKTtyZXR1cm59YmEuc3BsaWNlKDAsZSk7dmFyIGNhPWEucGFydGlhbEJvdW5kYXJpZXM7Zm9yKGU9MDtlPGNhLmxlbmd0aDtlKyspe3ZhciBtYj1jYVtlXTthOntmPWE7Zz1iO3ZhciBkYT1tYi5jb21wbGV0ZWRTZWdtZW50cztcbmZvcihoPTA7aDxkYS5sZW5ndGg7aCsrKWlmKCFRYihmLGcsbWIsZGFbaF0pKXtoKys7ZGEuc3BsaWNlKDAsaCk7dmFyIG5iPSExO2JyZWFrIGF9ZGEuc3BsaWNlKDAsaCk7bmI9ITB9aWYoIW5iKXthLmRlc3RpbmF0aW9uPW51bGw7ZSsrO2NhLnNwbGljZSgwLGUpO3JldHVybn19Y2Euc3BsaWNlKDAsZSk7dmFyIGVhPWEuY29tcGxldGVkQm91bmRhcmllcztmb3IoZT0wO2U8ZWEubGVuZ3RoO2UrKylpZighUGIoYSxiLGVhW2VdKSl7YS5kZXN0aW5hdGlvbj1udWxsO2UrKztlYS5zcGxpY2UoMCxlKTtyZXR1cm59ZWEuc3BsaWNlKDAsZSl9ZmluYWxseXswPT09YS5hbGxQZW5kaW5nVGFza3MmJjA9PT1hLnBpbmdlZFRhc2tzLmxlbmd0aCYmMD09PWEuY2xpZW50UmVuZGVyZWRCb3VuZGFyaWVzLmxlbmd0aCYmMD09PWEuY29tcGxldGVkQm91bmRhcmllcy5sZW5ndGgmJmIucHVzaChudWxsKX19XG5mdW5jdGlvbiBSYihhLGIpe3RyeXt2YXIgYz1hLmFib3J0YWJsZVRhc2tzO2MuZm9yRWFjaChmdW5jdGlvbihjKXtyZXR1cm4gTGIoYyxhLGIpfSk7Yy5jbGVhcigpO251bGwhPT1hLmRlc3RpbmF0aW9uJiZNYihhLGEuZGVzdGluYXRpb24pfWNhdGNoKGQpe1YoYSxkKSxXKGEsZCl9fWZ1bmN0aW9uIFNiKCl7fVxuZnVuY3Rpb24gVGIoYSxiLGMsZCl7dmFyIGY9ITEsZT1udWxsLGc9XCJcIixoPXtwdXNoOmZ1bmN0aW9uKGEpe251bGwhPT1hJiYoZys9YSk7cmV0dXJuITB9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7Zj0hMDtlPWF9fSxrPSExO2E9QWIoYSxFYShjLGI/Yi5pZGVudGlmaWVyUHJlZml4OnZvaWQgMCkse2luc2VydGlvbk1vZGU6MSxzZWxlY3RlZFZhbHVlOm51bGx9LEluZmluaXR5LFNiLHZvaWQgMCxmdW5jdGlvbigpe2s9ITB9LHZvaWQgMCx2b2lkIDApO0NiKGEpO1JiKGEsZCk7aWYoMT09PWEuc3RhdHVzKWEuc3RhdHVzPTIsaC5kZXN0cm95KGEuZmF0YWxFcnJvcik7ZWxzZSBpZigyIT09YS5zdGF0dXMmJm51bGw9PT1hLmRlc3RpbmF0aW9uKXthLmRlc3RpbmF0aW9uPWg7dHJ5e01iKGEsaCl9Y2F0Y2gobSl7VihhLG0pLFcoYSxtKX19aWYoZil0aHJvdyBlO2lmKCFrKXRocm93IEVycm9yKGwoNDI2KSk7cmV0dXJuIGd9XG5leHBvcnRzLnJlbmRlclRvTm9kZVN0cmVhbT1mdW5jdGlvbigpe3Rocm93IEVycm9yKGwoMjA3KSk7fTtleHBvcnRzLnJlbmRlclRvU3RhdGljTWFya3VwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIFRiKGEsYiwhMCwnVGhlIHNlcnZlciB1c2VkIFwicmVuZGVyVG9TdGF0aWNNYXJrdXBcIiB3aGljaCBkb2VzIG5vdCBzdXBwb3J0IFN1c3BlbnNlLiBJZiB5b3UgaW50ZW5kZWQgdG8gaGF2ZSB0aGUgc2VydmVyIHdhaXQgZm9yIHRoZSBzdXNwZW5kZWQgY29tcG9uZW50IHBsZWFzZSBzd2l0Y2ggdG8gXCJyZW5kZXJUb1JlYWRhYmxlU3RyZWFtXCIgd2hpY2ggc3VwcG9ydHMgU3VzcGVuc2Ugb24gdGhlIHNlcnZlcicpfTtleHBvcnRzLnJlbmRlclRvU3RhdGljTm9kZVN0cmVhbT1mdW5jdGlvbigpe3Rocm93IEVycm9yKGwoMjA4KSk7fTtleHBvcnRzLnJlbmRlclRvU3RyaW5nPWZ1bmN0aW9uKGEsYil7cmV0dXJuIFRiKGEsYiwhMSwnVGhlIHNlcnZlciB1c2VkIFwicmVuZGVyVG9TdHJpbmdcIiB3aGljaCBkb2VzIG5vdCBzdXBwb3J0IFN1c3BlbnNlLiBJZiB5b3UgaW50ZW5kZWQgZm9yIHRoaXMgU3VzcGVuc2UgYm91bmRhcnkgdG8gcmVuZGVyIHRoZSBmYWxsYmFjayBjb250ZW50IG9uIHRoZSBzZXJ2ZXIgY29uc2lkZXIgdGhyb3dpbmcgYW4gRXJyb3Igc29tZXdoZXJlIHdpdGhpbiB0aGUgU3VzcGVuc2UgYm91bmRhcnkuIElmIHlvdSBpbnRlbmRlZCB0byBoYXZlIHRoZSBzZXJ2ZXIgd2FpdCBmb3IgdGhlIHN1c3BlbmRlZCBjb21wb25lbnQgcGxlYXNlIHN3aXRjaCB0byBcInJlbmRlclRvUmVhZGFibGVTdHJlYW1cIiB3aGljaCBzdXBwb3J0cyBTdXNwZW5zZSBvbiB0aGUgc2VydmVyJyl9O1xuZXhwb3J0cy52ZXJzaW9uPVwiMTguMi4wXCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///87774\n')},38698:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('/**\n * @license React\n * react-dom-server.browser.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar aa=__webpack_require__(87363);function k(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=null,n=0;\nfunction p(a,b){if(0!==b.length)if(512<b.length)0<n&&(a.enqueue(new Uint8Array(l.buffer,0,n)),l=new Uint8Array(512),n=0),a.enqueue(b);else{var c=l.length-n;c<b.length&&(0===c?a.enqueue(l):(l.set(b.subarray(0,c),n),a.enqueue(l),b=b.subarray(c)),l=new Uint8Array(512),n=0);l.set(b,n);n+=b.length}}function t(a,b){p(a,b);return!0}function ba(a){l&&0<n&&(a.enqueue(new Uint8Array(l.buffer,0,n)),l=null,n=0)}var ca=new TextEncoder;function u(a){return ca.encode(a)}function w(a){return ca.encode(a)}\nfunction da(a,b){"function"===typeof a.error?a.error(b):a.close()}var x=Object.prototype.hasOwnProperty,ea=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,fa={},ha={};\nfunction ia(a){if(x.call(ha,a))return!0;if(x.call(fa,a))return!1;if(ea.test(a))return ha[a]=!0;fa[a]=!0;return!1}function y(a,b,c,d,f,e,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=f;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=e;this.removeEmptyString=g}var z={};\n"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){z[a]=new y(a,0,!1,a,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];z[b]=new y(b,1,!1,a[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){z[a]=new y(a,2,!1,a.toLowerCase(),null,!1,!1)});\n["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){z[a]=new y(a,2,!1,a,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){z[a]=new y(a,3,!1,a.toLowerCase(),null,!1,!1)});\n["checked","multiple","muted","selected"].forEach(function(a){z[a]=new y(a,3,!0,a,null,!1,!1)});["capture","download"].forEach(function(a){z[a]=new y(a,4,!1,a,null,!1,!1)});["cols","rows","size","span"].forEach(function(a){z[a]=new y(a,6,!1,a,null,!1,!1)});["rowSpan","start"].forEach(function(a){z[a]=new y(a,5,!1,a.toLowerCase(),null,!1,!1)});var ja=/[\\-:]([a-z])/g;function ka(a){return a[1].toUpperCase()}\n"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=a.replace(ja,\nka);z[b]=new y(b,1,!1,a,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(ja,ka);z[b]=new y(b,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(ja,ka);z[b]=new y(b,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(a){z[a]=new y(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(a){z[a]=new y(a,1,!1,a.toLowerCase(),null,!0,!0)});\nvar B={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,\nfillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},la=["Webkit","ms","Moz","O"];Object.keys(B).forEach(function(a){la.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);B[b]=B[a]})});var oa=/["\'&<>]/;\nfunction C(a){if("boolean"===typeof a||"number"===typeof a)return""+a;a=""+a;var b=oa.exec(a);if(b){var c="",d,f=0;for(d=b.index;d<a.length;d++){switch(a.charCodeAt(d)){case 34:b="&quot;";break;case 38:b="&amp;";break;case 39:b="&#x27;";break;case 60:b="&lt;";break;case 62:b="&gt;";break;default:continue}f!==d&&(c+=a.substring(f,d));f=d+1;c+=b}a=f!==d?c+a.substring(f,d):c}return a}\nvar pa=/([A-Z])/g,qa=/^ms-/,ra=Array.isArray,sa=w("<script>"),ta=w("\\x3c/script>"),ua=w(\'<script src="\'),va=w(\'<script type="module" src="\'),wa=w(\'" async="">\\x3c/script>\'),xa=/(<\\/|<)(s)(cript)/gi;function ya(a,b,c,d){return""+b+("s"===c?"\\\\u0073":"\\\\u0053")+d}\nfunction za(a,b,c,d,f){a=void 0===a?"":a;b=void 0===b?sa:w(\'<script nonce="\'+C(b)+\'">\');var e=[];void 0!==c&&e.push(b,u((""+c).replace(xa,ya)),ta);if(void 0!==d)for(c=0;c<d.length;c++)e.push(ua,u(C(d[c])),wa);if(void 0!==f)for(d=0;d<f.length;d++)e.push(va,u(C(f[d])),wa);return{bootstrapChunks:e,startInlineScript:b,placeholderPrefix:w(a+"P:"),segmentPrefix:w(a+"S:"),boundaryPrefix:a+"B:",idPrefix:a,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}\nfunction D(a,b){return{insertionMode:a,selectedValue:b}}function Aa(a){return D("http://www.w3.org/2000/svg"===a?2:"http://www.w3.org/1998/Math/MathML"===a?3:0,null)}\nfunction Ba(a,b,c){switch(b){case "select":return D(1,null!=c.value?c.value:c.defaultValue);case "svg":return D(2,null);case "math":return D(3,null);case "foreignObject":return D(1,null);case "table":return D(4,null);case "thead":case "tbody":case "tfoot":return D(5,null);case "colgroup":return D(7,null);case "tr":return D(6,null)}return 4<=a.insertionMode||0===a.insertionMode?D(1,null):a}var Ca=w("\\x3c!-- --\\x3e");function Da(a,b,c,d){if(""===b)return d;d&&a.push(Ca);a.push(u(C(b)));return!0}\nvar Ea=new Map,Fa=w(\' style="\'),Ga=w(":"),Ha=w(";");\nfunction Ia(a,b,c){if("object"!==typeof c)throw Error(k(62));b=!0;for(var d in c)if(x.call(c,d)){var f=c[d];if(null!=f&&"boolean"!==typeof f&&""!==f){if(0===d.indexOf("--")){var e=u(C(d));f=u(C((""+f).trim()))}else{e=d;var g=Ea.get(e);void 0!==g?e=g:(g=w(C(e.replace(pa,"-$1").toLowerCase().replace(qa,"-ms-"))),Ea.set(e,g),e=g);f="number"===typeof f?0===f||x.call(B,d)?u(""+f):u(f+"px"):u(C((""+f).trim()))}b?(b=!1,a.push(Fa,e,Ga,f)):a.push(Ha,e,Ga,f)}}b||a.push(E)}\nvar H=w(" "),I=w(\'="\'),E=w(\'"\'),Ja=w(\'=""\');\nfunction J(a,b,c,d){switch(c){case "style":Ia(a,b,d);return;case "defaultValue":case "defaultChecked":case "innerHTML":case "suppressContentEditableWarning":case "suppressHydrationWarning":return}if(!(2<c.length)||"o"!==c[0]&&"O"!==c[0]||"n"!==c[1]&&"N"!==c[1])if(b=z.hasOwnProperty(c)?z[c]:null,null!==b){switch(typeof d){case "function":case "symbol":return;case "boolean":if(!b.acceptsBooleans)return}c=u(b.attributeName);switch(b.type){case 3:d&&a.push(H,c,Ja);break;case 4:!0===d?a.push(H,c,Ja):!1!==\nd&&a.push(H,c,I,u(C(d)),E);break;case 5:isNaN(d)||a.push(H,c,I,u(C(d)),E);break;case 6:!isNaN(d)&&1<=d&&a.push(H,c,I,u(C(d)),E);break;default:b.sanitizeURL&&(d=""+d),a.push(H,c,I,u(C(d)),E)}}else if(ia(c)){switch(typeof d){case "function":case "symbol":return;case "boolean":if(b=c.toLowerCase().slice(0,5),"data-"!==b&&"aria-"!==b)return}a.push(H,u(c),I,u(C(d)),E)}}var K=w(">"),Ka=w("/>");\nfunction L(a,b,c){if(null!=b){if(null!=c)throw Error(k(60));if("object"!==typeof b||!("__html"in b))throw Error(k(61));b=b.__html;null!==b&&void 0!==b&&a.push(u(""+b))}}function La(a){var b="";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}var Ma=w(\' selected=""\');\nfunction Na(a,b,c,d){a.push(M(c));var f=c=null,e;for(e in b)if(x.call(b,e)){var g=b[e];if(null!=g)switch(e){case "children":c=g;break;case "dangerouslySetInnerHTML":f=g;break;default:J(a,d,e,g)}}a.push(K);L(a,f,c);return"string"===typeof c?(a.push(u(C(c))),null):c}var Oa=w("\\n"),Pa=/^[a-zA-Z][a-zA-Z:_\\.\\-\\d]*$/,Qa=new Map;function M(a){var b=Qa.get(a);if(void 0===b){if(!Pa.test(a))throw Error(k(65,a));b=w("<"+a);Qa.set(a,b)}return b}var Ra=w("<!DOCTYPE html>");\nfunction Sa(a,b,c,d,f){switch(b){case "select":a.push(M("select"));var e=null,g=null;for(r in c)if(x.call(c,r)){var h=c[r];if(null!=h)switch(r){case "children":e=h;break;case "dangerouslySetInnerHTML":g=h;break;case "defaultValue":case "value":break;default:J(a,d,r,h)}}a.push(K);L(a,g,e);return e;case "option":g=f.selectedValue;a.push(M("option"));var m=h=null,q=null;var r=null;for(e in c)if(x.call(c,e)){var v=c[e];if(null!=v)switch(e){case "children":h=v;break;case "selected":q=v;break;case "dangerouslySetInnerHTML":r=\nv;break;case "value":m=v;default:J(a,d,e,v)}}if(null!=g)if(c=null!==m?""+m:La(h),ra(g))for(d=0;d<g.length;d++){if(""+g[d]===c){a.push(Ma);break}}else""+g===c&&a.push(Ma);else q&&a.push(Ma);a.push(K);L(a,r,h);return h;case "textarea":a.push(M("textarea"));r=g=e=null;for(h in c)if(x.call(c,h)&&(m=c[h],null!=m))switch(h){case "children":r=m;break;case "value":e=m;break;case "defaultValue":g=m;break;case "dangerouslySetInnerHTML":throw Error(k(91));default:J(a,d,h,m)}null===e&&null!==g&&(e=g);a.push(K);\nif(null!=r){if(null!=e)throw Error(k(92));if(ra(r)&&1<r.length)throw Error(k(93));e=""+r}"string"===typeof e&&"\\n"===e[0]&&a.push(Oa);null!==e&&a.push(u(C(""+e)));return null;case "input":a.push(M("input"));m=r=h=e=null;for(g in c)if(x.call(c,g)&&(q=c[g],null!=q))switch(g){case "children":case "dangerouslySetInnerHTML":throw Error(k(399,"input"));case "defaultChecked":m=q;break;case "defaultValue":h=q;break;case "checked":r=q;break;case "value":e=q;break;default:J(a,d,g,q)}null!==r?J(a,d,"checked",\nr):null!==m&&J(a,d,"checked",m);null!==e?J(a,d,"value",e):null!==h&&J(a,d,"value",h);a.push(Ka);return null;case "menuitem":a.push(M("menuitem"));for(var A in c)if(x.call(c,A)&&(e=c[A],null!=e))switch(A){case "children":case "dangerouslySetInnerHTML":throw Error(k(400));default:J(a,d,A,e)}a.push(K);return null;case "title":a.push(M("title"));e=null;for(v in c)if(x.call(c,v)&&(g=c[v],null!=g))switch(v){case "children":e=g;break;case "dangerouslySetInnerHTML":throw Error(k(434));default:J(a,d,v,g)}a.push(K);\nreturn e;case "listing":case "pre":a.push(M(b));g=e=null;for(m in c)if(x.call(c,m)&&(h=c[m],null!=h))switch(m){case "children":e=h;break;case "dangerouslySetInnerHTML":g=h;break;default:J(a,d,m,h)}a.push(K);if(null!=g){if(null!=e)throw Error(k(60));if("object"!==typeof g||!("__html"in g))throw Error(k(61));c=g.__html;null!==c&&void 0!==c&&("string"===typeof c&&0<c.length&&"\\n"===c[0]?a.push(Oa,u(c)):a.push(u(""+c)))}"string"===typeof e&&"\\n"===e[0]&&a.push(Oa);return e;case "area":case "base":case "br":case "col":case "embed":case "hr":case "img":case "keygen":case "link":case "meta":case "param":case "source":case "track":case "wbr":a.push(M(b));\nfor(var F in c)if(x.call(c,F)&&(e=c[F],null!=e))switch(F){case "children":case "dangerouslySetInnerHTML":throw Error(k(399,b));default:J(a,d,F,e)}a.push(Ka);return null;case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return Na(a,c,b,d);case "html":return 0===f.insertionMode&&a.push(Ra),Na(a,c,b,d);default:if(-1===b.indexOf("-")&&"string"!==typeof c.is)return Na(a,c,b,d);a.push(M(b));\ng=e=null;for(q in c)if(x.call(c,q)&&(h=c[q],null!=h))switch(q){case "children":e=h;break;case "dangerouslySetInnerHTML":g=h;break;case "style":Ia(a,d,h);break;case "suppressContentEditableWarning":case "suppressHydrationWarning":break;default:ia(q)&&"function"!==typeof h&&"symbol"!==typeof h&&a.push(H,u(q),I,u(C(h)),E)}a.push(K);L(a,g,e);return e}}\nvar Ta=w("</"),Ua=w(">"),Va=w(\'<template id="\'),Wa=w(\'"></template>\'),Xa=w("\\x3c!--$--\\x3e"),Ya=w(\'\\x3c!--$?--\\x3e<template id="\'),Za=w(\'"></template>\'),$a=w("\\x3c!--$!--\\x3e"),ab=w("\\x3c!--/$--\\x3e"),bb=w("<template"),cb=w(\'"\'),db=w(\' data-dgst="\');w(\' data-msg="\');w(\' data-stck="\');var eb=w("></template>");function fb(a,b,c){p(a,Ya);if(null===c)throw Error(k(395));p(a,c);return t(a,Za)}\nvar gb=w(\'<div hidden id="\'),hb=w(\'">\'),ib=w("</div>"),jb=w(\'<svg aria-hidden="true" style="display:none" id="\'),kb=w(\'">\'),lb=w("</svg>"),mb=w(\'<math aria-hidden="true" style="display:none" id="\'),nb=w(\'">\'),ob=w("</math>"),pb=w(\'<table hidden id="\'),qb=w(\'">\'),rb=w("</table>"),sb=w(\'<table hidden><tbody id="\'),tb=w(\'">\'),ub=w("</tbody></table>"),vb=w(\'<table hidden><tr id="\'),wb=w(\'">\'),xb=w("</tr></table>"),yb=w(\'<table hidden><colgroup id="\'),zb=w(\'">\'),Ab=w("</colgroup></table>");\nfunction Bb(a,b,c,d){switch(c.insertionMode){case 0:case 1:return p(a,gb),p(a,b.segmentPrefix),p(a,u(d.toString(16))),t(a,hb);case 2:return p(a,jb),p(a,b.segmentPrefix),p(a,u(d.toString(16))),t(a,kb);case 3:return p(a,mb),p(a,b.segmentPrefix),p(a,u(d.toString(16))),t(a,nb);case 4:return p(a,pb),p(a,b.segmentPrefix),p(a,u(d.toString(16))),t(a,qb);case 5:return p(a,sb),p(a,b.segmentPrefix),p(a,u(d.toString(16))),t(a,tb);case 6:return p(a,vb),p(a,b.segmentPrefix),p(a,u(d.toString(16))),t(a,wb);case 7:return p(a,\nyb),p(a,b.segmentPrefix),p(a,u(d.toString(16))),t(a,zb);default:throw Error(k(397));}}function Cb(a,b){switch(b.insertionMode){case 0:case 1:return t(a,ib);case 2:return t(a,lb);case 3:return t(a,ob);case 4:return t(a,rb);case 5:return t(a,ub);case 6:return t(a,xb);case 7:return t(a,Ab);default:throw Error(k(397));}}\nvar Db=w(\'function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("\'),Eb=w(\'$RS("\'),Gb=w(\'","\'),Hb=w(\'")\\x3c/script>\'),Ib=w(\'function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("\'),\nJb=w(\'$RC("\'),Kb=w(\'","\'),Lb=w(\'")\\x3c/script>\'),Mb=w(\'function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("\'),Nb=w(\'$RX("\'),Ob=w(\'"\'),Pb=w(")\\x3c/script>"),Qb=w(","),Rb=/[<\\u2028\\u2029]/g;\nfunction Sb(a){return JSON.stringify(a).replace(Rb,function(a){switch(a){case "<":return"\\\\u003c";case "\\u2028":return"\\\\u2028";case "\\u2029":return"\\\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React");}})}\nvar N=Object.assign,Tb=Symbol.for("react.element"),Ub=Symbol.for("react.portal"),Vb=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),Xb=Symbol.for("react.profiler"),Yb=Symbol.for("react.provider"),Zb=Symbol.for("react.context"),$b=Symbol.for("react.forward_ref"),ac=Symbol.for("react.suspense"),bc=Symbol.for("react.suspense_list"),cc=Symbol.for("react.memo"),dc=Symbol.for("react.lazy"),ec=Symbol.for("react.scope"),fc=Symbol.for("react.debug_trace_mode"),gc=Symbol.for("react.legacy_hidden"),\nhc=Symbol.for("react.default_value"),ic=Symbol.iterator;\nfunction jc(a){if(null==a)return null;if("function"===typeof a)return a.displayName||a.name||null;if("string"===typeof a)return a;switch(a){case Vb:return"Fragment";case Ub:return"Portal";case Xb:return"Profiler";case Wb:return"StrictMode";case ac:return"Suspense";case bc:return"SuspenseList"}if("object"===typeof a)switch(a.$$typeof){case Zb:return(a.displayName||"Context")+".Consumer";case Yb:return(a._context.displayName||"Context")+".Provider";case $b:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||"",a=""!==a?"ForwardRef("+a+")":"ForwardRef");return a;case cc:return b=a.displayName||null,null!==b?b:jc(a.type)||"Memo";case dc:b=a._payload;a=a._init;try{return jc(a(b))}catch(c){}}return null}var kc={};function lc(a,b){a=a.contextTypes;if(!a)return kc;var c={},d;for(d in a)c[d]=b[d];return c}var O=null;\nfunction P(a,b){if(a!==b){a.context._currentValue=a.parentValue;a=a.parent;var c=b.parent;if(null===a){if(null!==c)throw Error(k(401));}else{if(null===c)throw Error(k(401));P(a,c)}b.context._currentValue=b.value}}function mc(a){a.context._currentValue=a.parentValue;a=a.parent;null!==a&&mc(a)}function nc(a){var b=a.parent;null!==b&&nc(b);a.context._currentValue=a.value}\nfunction oc(a,b){a.context._currentValue=a.parentValue;a=a.parent;if(null===a)throw Error(k(402));a.depth===b.depth?P(a,b):oc(a,b)}function pc(a,b){var c=b.parent;if(null===c)throw Error(k(402));a.depth===c.depth?P(a,c):pc(a,c);b.context._currentValue=b.value}function Q(a){var b=O;b!==a&&(null===b?nc(a):null===a?mc(b):b.depth===a.depth?P(b,a):b.depth>a.depth?oc(b,a):pc(b,a),O=a)}\nvar qc={isMounted:function(){return!1},enqueueSetState:function(a,b){a=a._reactInternals;null!==a.queue&&a.queue.push(b)},enqueueReplaceState:function(a,b){a=a._reactInternals;a.replace=!0;a.queue=[b]},enqueueForceUpdate:function(){}};\nfunction rc(a,b,c,d){var f=void 0!==a.state?a.state:null;a.updater=qc;a.props=c;a.state=f;var e={queue:[],replace:!1};a._reactInternals=e;var g=b.contextType;a.context="object"===typeof g&&null!==g?g._currentValue:d;g=b.getDerivedStateFromProps;"function"===typeof g&&(g=g(c,f),f=null===g||void 0===g?f:N({},f,g),a.state=f);if("function"!==typeof b.getDerivedStateFromProps&&"function"!==typeof a.getSnapshotBeforeUpdate&&("function"===typeof a.UNSAFE_componentWillMount||"function"===typeof a.componentWillMount))if(b=\na.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),b!==a.state&&qc.enqueueReplaceState(a,a.state,null),null!==e.queue&&0<e.queue.length)if(b=e.queue,g=e.replace,e.queue=null,e.replace=!1,g&&1===b.length)a.state=b[0];else{e=g?b[0]:a.state;f=!0;for(g=g?1:0;g<b.length;g++){var h=b[g];h="function"===typeof h?h.call(a,e,c,d):h;null!=h&&(f?(f=!1,e=N({},e,h)):N(e,h))}a.state=e}else e.queue=null}\nvar sc={id:1,overflow:""};function tc(a,b,c){var d=a.id;a=a.overflow;var f=32-uc(d)-1;d&=~(1<<f);c+=1;var e=32-uc(b)+f;if(30<e){var g=f-f%5;e=(d&(1<<g)-1).toString(32);d>>=g;f-=g;return{id:1<<32-uc(b)+f|c<<f|d,overflow:e+a}}return{id:1<<e|c<<f|d,overflow:a}}var uc=Math.clz32?Math.clz32:vc,wc=Math.log,xc=Math.LN2;function vc(a){a>>>=0;return 0===a?32:31-(wc(a)/xc|0)|0}function yc(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}\nvar zc="function"===typeof Object.is?Object.is:yc,R=null,Ac=null,Bc=null,S=null,T=!1,Cc=!1,U=0,V=null,Dc=0;function W(){if(null===R)throw Error(k(321));return R}function Ec(){if(0<Dc)throw Error(k(312));return{memoizedState:null,queue:null,next:null}}function Fc(){null===S?null===Bc?(T=!1,Bc=S=Ec()):(T=!0,S=Bc):null===S.next?(T=!1,S=S.next=Ec()):(T=!0,S=S.next);return S}function Gc(){Ac=R=null;Cc=!1;Bc=null;Dc=0;S=V=null}function Hc(a,b){return"function"===typeof b?b(a):b}\nfunction Ic(a,b,c){R=W();S=Fc();if(T){var d=S.queue;b=d.dispatch;if(null!==V&&(c=V.get(d),void 0!==c)){V.delete(d);d=S.memoizedState;do d=a(d,c.action),c=c.next;while(null!==c);S.memoizedState=d;return[d,b]}return[S.memoizedState,b]}a=a===Hc?"function"===typeof b?b():b:void 0!==c?c(b):b;S.memoizedState=a;a=S.queue={last:null,dispatch:null};a=a.dispatch=Jc.bind(null,R,a);return[S.memoizedState,a]}\nfunction Kc(a,b){R=W();S=Fc();b=void 0===b?null:b;if(null!==S){var c=S.memoizedState;if(null!==c&&null!==b){var d=c[1];a:if(null===d)d=!1;else{for(var f=0;f<d.length&&f<b.length;f++)if(!zc(b[f],d[f])){d=!1;break a}d=!0}if(d)return c[0]}}a=a();S.memoizedState=[a,b];return a}function Jc(a,b,c){if(25<=Dc)throw Error(k(301));if(a===R)if(Cc=!0,a={action:c,next:null},null===V&&(V=new Map),c=V.get(b),void 0===c)V.set(b,a);else{for(b=c;null!==b.next;)b=b.next;b.next=a}}\nfunction Lc(){throw Error(k(394));}function Mc(){}\nvar Oc={readContext:function(a){return a._currentValue},useContext:function(a){W();return a._currentValue},useMemo:Kc,useReducer:Ic,useRef:function(a){R=W();S=Fc();var b=S.memoizedState;return null===b?(a={current:a},S.memoizedState=a):b},useState:function(a){return Ic(Hc,a)},useInsertionEffect:Mc,useLayoutEffect:function(){},useCallback:function(a,b){return Kc(function(){return a},b)},useImperativeHandle:Mc,useEffect:Mc,useDebugValue:Mc,useDeferredValue:function(a){W();return a},useTransition:function(){W();\nreturn[!1,Lc]},useId:function(){var a=Ac.treeContext;var b=a.overflow;a=a.id;a=(a&~(1<<32-uc(a)-1)).toString(32)+b;var c=Nc;if(null===c)throw Error(k(404));b=U++;a=":"+c.idPrefix+"R"+a;0<b&&(a+="H"+b.toString(32));return a+":"},useMutableSource:function(a,b){W();return b(a._source)},useSyncExternalStore:function(a,b,c){if(void 0===c)throw Error(k(407));return c()}},Nc=null,Pc=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Qc(a){console.error(a);return null}\nfunction X(){}\nfunction Rc(a,b,c,d,f,e,g,h,m){var q=[],r=new Set;b={destination:null,responseState:b,progressiveChunkSize:void 0===d?12800:d,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:r,pingedTasks:q,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===f?Qc:f,onAllReady:void 0===e?X:e,onShellReady:void 0===g?X:g,onShellError:void 0===h?X:h,onFatalError:void 0===m?X:m};c=Sc(b,0,null,c,!1,!1);c.parentFlushed=\n!0;a=Tc(b,a,null,c,r,kc,null,sc);q.push(a);return b}function Tc(a,b,c,d,f,e,g,h){a.allPendingTasks++;null===c?a.pendingRootTasks++:c.pendingTasks++;var m={node:b,ping:function(){var b=a.pingedTasks;b.push(m);1===b.length&&Uc(a)},blockedBoundary:c,blockedSegment:d,abortSet:f,legacyContext:e,context:g,treeContext:h};f.add(m);return m}function Sc(a,b,c,d,f,e){return{status:0,id:-1,index:b,parentFlushed:!1,chunks:[],children:[],formatContext:d,boundary:c,lastPushedText:f,textEmbedded:e}}\nfunction Y(a,b){a=a.onError(b);if(null!=a&&"string"!==typeof a)throw Error(\'onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "\'+typeof a+\'" instead\');return a}function Vc(a,b){var c=a.onShellError;c(b);c=a.onFatalError;c(b);null!==a.destination?(a.status=2,da(a.destination,b)):(a.status=1,a.fatalError=b)}\nfunction Wc(a,b,c,d,f){R={};Ac=b;U=0;for(a=c(d,f);Cc;)Cc=!1,U=0,Dc+=1,S=null,a=c(d,f);Gc();return a}function Xc(a,b,c,d){var f=c.render(),e=d.childContextTypes;if(null!==e&&void 0!==e){var g=b.legacyContext;if("function"!==typeof c.getChildContext)d=g;else{c=c.getChildContext();for(var h in c)if(!(h in e))throw Error(k(108,jc(d)||"Unknown",h));d=N({},g,c)}b.legacyContext=d;Z(a,b,f);b.legacyContext=g}else Z(a,b,f)}\nfunction Yc(a,b){if(a&&a.defaultProps){b=N({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}\nfunction Zc(a,b,c,d,f){if("function"===typeof c)if(c.prototype&&c.prototype.isReactComponent){f=lc(c,b.legacyContext);var e=c.contextType;e=new c(d,"object"===typeof e&&null!==e?e._currentValue:f);rc(e,c,d,f);Xc(a,b,e,c)}else{e=lc(c,b.legacyContext);f=Wc(a,b,c,d,e);var g=0!==U;if("object"===typeof f&&null!==f&&"function"===typeof f.render&&void 0===f.$$typeof)rc(f,c,d,e),Xc(a,b,f,c);else if(g){d=b.treeContext;b.treeContext=tc(d,1,0);try{Z(a,b,f)}finally{b.treeContext=d}}else Z(a,b,f)}else if("string"===\ntypeof c){f=b.blockedSegment;e=Sa(f.chunks,c,d,a.responseState,f.formatContext);f.lastPushedText=!1;g=f.formatContext;f.formatContext=Ba(g,c,d);$c(a,b,e);f.formatContext=g;switch(c){case "area":case "base":case "br":case "col":case "embed":case "hr":case "img":case "input":case "keygen":case "link":case "meta":case "param":case "source":case "track":case "wbr":break;default:f.chunks.push(Ta,u(c),Ua)}f.lastPushedText=!1}else{switch(c){case gc:case fc:case Wb:case Xb:case Vb:Z(a,b,d.children);return;\ncase bc:Z(a,b,d.children);return;case ec:throw Error(k(343));case ac:a:{c=b.blockedBoundary;f=b.blockedSegment;e=d.fallback;d=d.children;g=new Set;var h={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:g,errorDigest:null},m=Sc(a,f.chunks.length,h,f.formatContext,!1,!1);f.children.push(m);f.lastPushedText=!1;var q=Sc(a,0,null,f.formatContext,!1,!1);q.parentFlushed=!0;b.blockedBoundary=h;b.blockedSegment=q;try{if($c(a,\nb,d),q.lastPushedText&&q.textEmbedded&&q.chunks.push(Ca),q.status=1,ad(h,q),0===h.pendingTasks)break a}catch(r){q.status=4,h.forceClientRender=!0,h.errorDigest=Y(a,r)}finally{b.blockedBoundary=c,b.blockedSegment=f}b=Tc(a,e,c,m,g,b.legacyContext,b.context,b.treeContext);a.pingedTasks.push(b)}return}if("object"===typeof c&&null!==c)switch(c.$$typeof){case $b:d=Wc(a,b,c.render,d,f);if(0!==U){c=b.treeContext;b.treeContext=tc(c,1,0);try{Z(a,b,d)}finally{b.treeContext=c}}else Z(a,b,d);return;case cc:c=\nc.type;d=Yc(c,d);Zc(a,b,c,d,f);return;case Yb:f=d.children;c=c._context;d=d.value;e=c._currentValue;c._currentValue=d;g=O;O=d={parent:g,depth:null===g?0:g.depth+1,context:c,parentValue:e,value:d};b.context=d;Z(a,b,f);a=O;if(null===a)throw Error(k(403));d=a.parentValue;a.context._currentValue=d===hc?a.context._defaultValue:d;a=O=a.parent;b.context=a;return;case Zb:d=d.children;d=d(c._currentValue);Z(a,b,d);return;case dc:f=c._init;c=f(c._payload);d=Yc(c,d);Zc(a,b,c,d,void 0);return}throw Error(k(130,\nnull==c?c:typeof c,""));}}\nfunction Z(a,b,c){b.node=c;if("object"===typeof c&&null!==c){switch(c.$$typeof){case Tb:Zc(a,b,c.type,c.props,c.ref);return;case Ub:throw Error(k(257));case dc:var d=c._init;c=d(c._payload);Z(a,b,c);return}if(ra(c)){bd(a,b,c);return}null===c||"object"!==typeof c?d=null:(d=ic&&c[ic]||c["@@iterator"],d="function"===typeof d?d:null);if(d&&(d=d.call(c))){c=d.next();if(!c.done){var f=[];do f.push(c.value),c=d.next();while(!c.done);bd(a,b,f)}return}a=Object.prototype.toString.call(c);throw Error(k(31,"[object Object]"===\na?"object with keys {"+Object.keys(c).join(", ")+"}":a));}"string"===typeof c?(d=b.blockedSegment,d.lastPushedText=Da(b.blockedSegment.chunks,c,a.responseState,d.lastPushedText)):"number"===typeof c&&(d=b.blockedSegment,d.lastPushedText=Da(b.blockedSegment.chunks,""+c,a.responseState,d.lastPushedText))}function bd(a,b,c){for(var d=c.length,f=0;f<d;f++){var e=b.treeContext;b.treeContext=tc(e,d,f);try{$c(a,b,c[f])}finally{b.treeContext=e}}}\nfunction $c(a,b,c){var d=b.blockedSegment.formatContext,f=b.legacyContext,e=b.context;try{return Z(a,b,c)}catch(m){if(Gc(),"object"===typeof m&&null!==m&&"function"===typeof m.then){c=m;var g=b.blockedSegment,h=Sc(a,g.chunks.length,null,g.formatContext,g.lastPushedText,!0);g.children.push(h);g.lastPushedText=!1;a=Tc(a,b.node,b.blockedBoundary,h,b.abortSet,b.legacyContext,b.context,b.treeContext).ping;c.then(a,a);b.blockedSegment.formatContext=d;b.legacyContext=f;b.context=e;Q(e)}else throw b.blockedSegment.formatContext=\nd,b.legacyContext=f,b.context=e,Q(e),m;}}function cd(a){var b=a.blockedBoundary;a=a.blockedSegment;a.status=3;dd(this,b,a)}\nfunction ed(a,b,c){var d=a.blockedBoundary;a.blockedSegment.status=3;null===d?(b.allPendingTasks--,2!==b.status&&(b.status=2,null!==b.destination&&b.destination.close())):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,a=void 0===c?Error(k(432)):c,d.errorDigest=b.onError(a),d.parentFlushed&&b.clientRenderedBoundaries.push(d)),d.fallbackAbortableTasks.forEach(function(a){return ed(a,b,c)}),d.fallbackAbortableTasks.clear(),b.allPendingTasks--,0===b.allPendingTasks&&(d=b.onAllReady,d()))}\nfunction ad(a,b){if(0===b.chunks.length&&1===b.children.length&&null===b.children[0].boundary){var c=b.children[0];c.id=b.id;c.parentFlushed=!0;1===c.status&&ad(a,c)}else a.completedSegments.push(b)}\nfunction dd(a,b,c){if(null===b){if(c.parentFlushed){if(null!==a.completedRootSegment)throw Error(k(389));a.completedRootSegment=c}a.pendingRootTasks--;0===a.pendingRootTasks&&(a.onShellError=X,b=a.onShellReady,b())}else b.pendingTasks--,b.forceClientRender||(0===b.pendingTasks?(c.parentFlushed&&1===c.status&&ad(b,c),b.parentFlushed&&a.completedBoundaries.push(b),b.fallbackAbortableTasks.forEach(cd,a),b.fallbackAbortableTasks.clear()):c.parentFlushed&&1===c.status&&(ad(b,c),1===b.completedSegments.length&&\nb.parentFlushed&&a.partialBoundaries.push(b)));a.allPendingTasks--;0===a.allPendingTasks&&(a=a.onAllReady,a())}\nfunction Uc(a){if(2!==a.status){var b=O,c=Pc.current;Pc.current=Oc;var d=Nc;Nc=a.responseState;try{var f=a.pingedTasks,e;for(e=0;e<f.length;e++){var g=f[e];var h=a,m=g.blockedSegment;if(0===m.status){Q(g.context);try{Z(h,g,g.node),m.lastPushedText&&m.textEmbedded&&m.chunks.push(Ca),g.abortSet.delete(g),m.status=1,dd(h,g.blockedBoundary,m)}catch(G){if(Gc(),"object"===typeof G&&null!==G&&"function"===typeof G.then){var q=g.ping;G.then(q,q)}else{g.abortSet.delete(g);m.status=4;var r=g.blockedBoundary,\nv=G,A=Y(h,v);null===r?Vc(h,v):(r.pendingTasks--,r.forceClientRender||(r.forceClientRender=!0,r.errorDigest=A,r.parentFlushed&&h.clientRenderedBoundaries.push(r)));h.allPendingTasks--;if(0===h.allPendingTasks){var F=h.onAllReady;F()}}}finally{}}}f.splice(0,e);null!==a.destination&&fd(a,a.destination)}catch(G){Y(a,G),Vc(a,G)}finally{Nc=d,Pc.current=c,c===Oc&&Q(b)}}}\nfunction gd(a,b,c){c.parentFlushed=!0;switch(c.status){case 0:var d=c.id=a.nextSegmentId++;c.lastPushedText=!1;c.textEmbedded=!1;a=a.responseState;p(b,Va);p(b,a.placeholderPrefix);a=u(d.toString(16));p(b,a);return t(b,Wa);case 1:c.status=2;var f=!0;d=c.chunks;var e=0;c=c.children;for(var g=0;g<c.length;g++){for(f=c[g];e<f.index;e++)p(b,d[e]);f=hd(a,b,f)}for(;e<d.length-1;e++)p(b,d[e]);e<d.length&&(f=t(b,d[e]));return f;default:throw Error(k(390));}}\nfunction hd(a,b,c){var d=c.boundary;if(null===d)return gd(a,b,c);d.parentFlushed=!0;if(d.forceClientRender)d=d.errorDigest,t(b,$a),p(b,bb),d&&(p(b,db),p(b,u(C(d))),p(b,cb)),t(b,eb),gd(a,b,c);else if(0<d.pendingTasks){d.rootSegmentID=a.nextSegmentId++;0<d.completedSegments.length&&a.partialBoundaries.push(d);var f=a.responseState;var e=f.nextSuspenseID++;f=w(f.boundaryPrefix+e.toString(16));d=d.id=f;fb(b,a.responseState,d);gd(a,b,c)}else if(d.byteSize>a.progressiveChunkSize)d.rootSegmentID=a.nextSegmentId++,\na.completedBoundaries.push(d),fb(b,a.responseState,d.id),gd(a,b,c);else{t(b,Xa);c=d.completedSegments;if(1!==c.length)throw Error(k(391));hd(a,b,c[0])}return t(b,ab)}function id(a,b,c){Bb(b,a.responseState,c.formatContext,c.id);hd(a,b,c);return Cb(b,c.formatContext)}\nfunction jd(a,b,c){for(var d=c.completedSegments,f=0;f<d.length;f++)kd(a,b,c,d[f]);d.length=0;a=a.responseState;d=c.id;c=c.rootSegmentID;p(b,a.startInlineScript);a.sentCompleteBoundaryFunction?p(b,Jb):(a.sentCompleteBoundaryFunction=!0,p(b,Ib));if(null===d)throw Error(k(395));c=u(c.toString(16));p(b,d);p(b,Kb);p(b,a.segmentPrefix);p(b,c);return t(b,Lb)}\nfunction kd(a,b,c,d){if(2===d.status)return!0;var f=d.id;if(-1===f){if(-1===(d.id=c.rootSegmentID))throw Error(k(392));return id(a,b,d)}id(a,b,d);a=a.responseState;p(b,a.startInlineScript);a.sentCompleteSegmentFunction?p(b,Eb):(a.sentCompleteSegmentFunction=!0,p(b,Db));p(b,a.segmentPrefix);f=u(f.toString(16));p(b,f);p(b,Gb);p(b,a.placeholderPrefix);p(b,f);return t(b,Hb)}\nfunction fd(a,b){l=new Uint8Array(512);n=0;try{var c=a.completedRootSegment;if(null!==c&&0===a.pendingRootTasks){hd(a,b,c);a.completedRootSegment=null;var d=a.responseState.bootstrapChunks;for(c=0;c<d.length-1;c++)p(b,d[c]);c<d.length&&t(b,d[c])}var f=a.clientRenderedBoundaries,e;for(e=0;e<f.length;e++){var g=f[e];d=b;var h=a.responseState,m=g.id,q=g.errorDigest,r=g.errorMessage,v=g.errorComponentStack;p(d,h.startInlineScript);h.sentClientRenderFunction?p(d,Nb):(h.sentClientRenderFunction=!0,p(d,\nMb));if(null===m)throw Error(k(395));p(d,m);p(d,Ob);if(q||r||v)p(d,Qb),p(d,u(Sb(q||"")));if(r||v)p(d,Qb),p(d,u(Sb(r||"")));v&&(p(d,Qb),p(d,u(Sb(v))));if(!t(d,Pb)){a.destination=null;e++;f.splice(0,e);return}}f.splice(0,e);var A=a.completedBoundaries;for(e=0;e<A.length;e++)if(!jd(a,b,A[e])){a.destination=null;e++;A.splice(0,e);return}A.splice(0,e);ba(b);l=new Uint8Array(512);n=0;var F=a.partialBoundaries;for(e=0;e<F.length;e++){var G=F[e];a:{f=a;g=b;var ma=G.completedSegments;for(h=0;h<ma.length;h++)if(!kd(f,\ng,G,ma[h])){h++;ma.splice(0,h);var Fb=!1;break a}ma.splice(0,h);Fb=!0}if(!Fb){a.destination=null;e++;F.splice(0,e);return}}F.splice(0,e);var na=a.completedBoundaries;for(e=0;e<na.length;e++)if(!jd(a,b,na[e])){a.destination=null;e++;na.splice(0,e);return}na.splice(0,e)}finally{ba(b),0===a.allPendingTasks&&0===a.pingedTasks.length&&0===a.clientRenderedBoundaries.length&&0===a.completedBoundaries.length&&b.close()}}\nfunction ld(a,b){try{var c=a.abortableTasks;c.forEach(function(c){return ed(c,a,b)});c.clear();null!==a.destination&&fd(a,a.destination)}catch(d){Y(a,d),Vc(a,d)}}\nexports.renderToReadableStream=function(a,b){return new Promise(function(c,d){var f,e,g=new Promise(function(a,b){e=a;f=b}),h=Rc(a,za(b?b.identifierPrefix:void 0,b?b.nonce:void 0,b?b.bootstrapScriptContent:void 0,b?b.bootstrapScripts:void 0,b?b.bootstrapModules:void 0),Aa(b?b.namespaceURI:void 0),b?b.progressiveChunkSize:void 0,b?b.onError:void 0,e,function(){var a=new ReadableStream({type:"bytes",pull:function(a){if(1===h.status)h.status=2,da(a,h.fatalError);else if(2!==h.status&&null===h.destination){h.destination=\na;try{fd(h,a)}catch(A){Y(h,A),Vc(h,A)}}},cancel:function(){ld(h)}},{highWaterMark:0});a.allReady=g;c(a)},function(a){g.catch(function(){});d(a)},f);if(b&&b.signal){var m=b.signal,q=function(){ld(h,m.reason);m.removeEventListener("abort",q)};m.addEventListener("abort",q)}Uc(h)})};exports.version="18.2.0";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg2OTguanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2Nqcy9yZWFjdC1kb20tc2VydmVyLmJyb3dzZXIucHJvZHVjdGlvbi5taW4uanM/MjAzOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1kb20tc2VydmVyLmJyb3dzZXIucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO3ZhciBhYT1yZXF1aXJlKFwicmVhY3RcIik7ZnVuY3Rpb24gayhhKXtmb3IodmFyIGI9XCJodHRwczovL3JlYWN0anMub3JnL2RvY3MvZXJyb3ItZGVjb2Rlci5odG1sP2ludmFyaWFudD1cIithLGM9MTtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWIrPVwiJmFyZ3NbXT1cIitlbmNvZGVVUklDb21wb25lbnQoYXJndW1lbnRzW2NdKTtyZXR1cm5cIk1pbmlmaWVkIFJlYWN0IGVycm9yICNcIithK1wiOyB2aXNpdCBcIitiK1wiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIn12YXIgbD1udWxsLG49MDtcbmZ1bmN0aW9uIHAoYSxiKXtpZigwIT09Yi5sZW5ndGgpaWYoNTEyPGIubGVuZ3RoKTA8biYmKGEuZW5xdWV1ZShuZXcgVWludDhBcnJheShsLmJ1ZmZlciwwLG4pKSxsPW5ldyBVaW50OEFycmF5KDUxMiksbj0wKSxhLmVucXVldWUoYik7ZWxzZXt2YXIgYz1sLmxlbmd0aC1uO2M8Yi5sZW5ndGgmJigwPT09Yz9hLmVucXVldWUobCk6KGwuc2V0KGIuc3ViYXJyYXkoMCxjKSxuKSxhLmVucXVldWUobCksYj1iLnN1YmFycmF5KGMpKSxsPW5ldyBVaW50OEFycmF5KDUxMiksbj0wKTtsLnNldChiLG4pO24rPWIubGVuZ3RofX1mdW5jdGlvbiB0KGEsYil7cChhLGIpO3JldHVybiEwfWZ1bmN0aW9uIGJhKGEpe2wmJjA8biYmKGEuZW5xdWV1ZShuZXcgVWludDhBcnJheShsLmJ1ZmZlciwwLG4pKSxsPW51bGwsbj0wKX12YXIgY2E9bmV3IFRleHRFbmNvZGVyO2Z1bmN0aW9uIHUoYSl7cmV0dXJuIGNhLmVuY29kZShhKX1mdW5jdGlvbiB3KGEpe3JldHVybiBjYS5lbmNvZGUoYSl9XG5mdW5jdGlvbiBkYShhLGIpe1wiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmVycm9yP2EuZXJyb3IoYik6YS5jbG9zZSgpfXZhciB4PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksZWE9L15bOkEtWl9hLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRdWzpBLVpfYS16XFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkZGXFx1MDM3MC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQy1cXHUyMDBEXFx1MjA3MC1cXHUyMThGXFx1MkMwMC1cXHUyRkVGXFx1MzAwMS1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkZEXFwtLjAtOVxcdTAwQjdcXHUwMzAwLVxcdTAzNkZcXHUyMDNGLVxcdTIwNDBdKiQvLGZhPXt9LGhhPXt9O1xuZnVuY3Rpb24gaWEoYSl7aWYoeC5jYWxsKGhhLGEpKXJldHVybiEwO2lmKHguY2FsbChmYSxhKSlyZXR1cm4hMTtpZihlYS50ZXN0KGEpKXJldHVybiBoYVthXT0hMDtmYVthXT0hMDtyZXR1cm4hMX1mdW5jdGlvbiB5KGEsYixjLGQsZixlLGcpe3RoaXMuYWNjZXB0c0Jvb2xlYW5zPTI9PT1ifHwzPT09Ynx8ND09PWI7dGhpcy5hdHRyaWJ1dGVOYW1lPWQ7dGhpcy5hdHRyaWJ1dGVOYW1lc3BhY2U9Zjt0aGlzLm11c3RVc2VQcm9wZXJ0eT1jO3RoaXMucHJvcGVydHlOYW1lPWE7dGhpcy50eXBlPWI7dGhpcy5zYW5pdGl6ZVVSTD1lO3RoaXMucmVtb3ZlRW1wdHlTdHJpbmc9Z312YXIgej17fTtcblwiY2hpbGRyZW4gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgZGVmYXVsdFZhbHVlIGRlZmF1bHRDaGVja2VkIGlubmVySFRNTCBzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIHN0eWxlXCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgeShhLDAsITEsYSxudWxsLCExLCExKX0pO1tbXCJhY2NlcHRDaGFyc2V0XCIsXCJhY2NlcHQtY2hhcnNldFwiXSxbXCJjbGFzc05hbWVcIixcImNsYXNzXCJdLFtcImh0bWxGb3JcIixcImZvclwiXSxbXCJodHRwRXF1aXZcIixcImh0dHAtZXF1aXZcIl1dLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YVswXTt6W2JdPW5ldyB5KGIsMSwhMSxhWzFdLG51bGwsITEsITEpfSk7W1wiY29udGVudEVkaXRhYmxlXCIsXCJkcmFnZ2FibGVcIixcInNwZWxsQ2hlY2tcIixcInZhbHVlXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgeShhLDIsITEsYS50b0xvd2VyQ2FzZSgpLG51bGwsITEsITEpfSk7XG5bXCJhdXRvUmV2ZXJzZVwiLFwiZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZFwiLFwiZm9jdXNhYmxlXCIsXCJwcmVzZXJ2ZUFscGhhXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgeShhLDIsITEsYSxudWxsLCExLCExKX0pO1wiYWxsb3dGdWxsU2NyZWVuIGFzeW5jIGF1dG9Gb2N1cyBhdXRvUGxheSBjb250cm9scyBkZWZhdWx0IGRlZmVyIGRpc2FibGVkIGRpc2FibGVQaWN0dXJlSW5QaWN0dXJlIGRpc2FibGVSZW1vdGVQbGF5YmFjayBmb3JtTm9WYWxpZGF0ZSBoaWRkZW4gbG9vcCBub01vZHVsZSBub1ZhbGlkYXRlIG9wZW4gcGxheXNJbmxpbmUgcmVhZE9ubHkgcmVxdWlyZWQgcmV2ZXJzZWQgc2NvcGVkIHNlYW1sZXNzIGl0ZW1TY29wZVwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3pbYV09bmV3IHkoYSwzLCExLGEudG9Mb3dlckNhc2UoKSxudWxsLCExLCExKX0pO1xuW1wiY2hlY2tlZFwiLFwibXVsdGlwbGVcIixcIm11dGVkXCIsXCJzZWxlY3RlZFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3pbYV09bmV3IHkoYSwzLCEwLGEsbnVsbCwhMSwhMSl9KTtbXCJjYXB0dXJlXCIsXCJkb3dubG9hZFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3pbYV09bmV3IHkoYSw0LCExLGEsbnVsbCwhMSwhMSl9KTtbXCJjb2xzXCIsXCJyb3dzXCIsXCJzaXplXCIsXCJzcGFuXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgeShhLDYsITEsYSxudWxsLCExLCExKX0pO1tcInJvd1NwYW5cIixcInN0YXJ0XCJdLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgeShhLDUsITEsYS50b0xvd2VyQ2FzZSgpLG51bGwsITEsITEpfSk7dmFyIGphPS9bXFwtOl0oW2Etel0pL2c7ZnVuY3Rpb24ga2EoYSl7cmV0dXJuIGFbMV0udG9VcHBlckNhc2UoKX1cblwiYWNjZW50LWhlaWdodCBhbGlnbm1lbnQtYmFzZWxpbmUgYXJhYmljLWZvcm0gYmFzZWxpbmUtc2hpZnQgY2FwLWhlaWdodCBjbGlwLXBhdGggY2xpcC1ydWxlIGNvbG9yLWludGVycG9sYXRpb24gY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzIGNvbG9yLXByb2ZpbGUgY29sb3ItcmVuZGVyaW5nIGRvbWluYW50LWJhc2VsaW5lIGVuYWJsZS1iYWNrZ3JvdW5kIGZpbGwtb3BhY2l0eSBmaWxsLXJ1bGUgZmxvb2QtY29sb3IgZmxvb2Qtb3BhY2l0eSBmb250LWZhbWlseSBmb250LXNpemUgZm9udC1zaXplLWFkanVzdCBmb250LXN0cmV0Y2ggZm9udC1zdHlsZSBmb250LXZhcmlhbnQgZm9udC13ZWlnaHQgZ2x5cGgtbmFtZSBnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsIGdseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsIGhvcml6LWFkdi14IGhvcml6LW9yaWdpbi14IGltYWdlLXJlbmRlcmluZyBsZXR0ZXItc3BhY2luZyBsaWdodGluZy1jb2xvciBtYXJrZXItZW5kIG1hcmtlci1taWQgbWFya2VyLXN0YXJ0IG92ZXJsaW5lLXBvc2l0aW9uIG92ZXJsaW5lLXRoaWNrbmVzcyBwYWludC1vcmRlciBwYW5vc2UtMSBwb2ludGVyLWV2ZW50cyByZW5kZXJpbmctaW50ZW50IHNoYXBlLXJlbmRlcmluZyBzdG9wLWNvbG9yIHN0b3Atb3BhY2l0eSBzdHJpa2V0aHJvdWdoLXBvc2l0aW9uIHN0cmlrZXRocm91Z2gtdGhpY2tuZXNzIHN0cm9rZS1kYXNoYXJyYXkgc3Ryb2tlLWRhc2hvZmZzZXQgc3Ryb2tlLWxpbmVjYXAgc3Ryb2tlLWxpbmVqb2luIHN0cm9rZS1taXRlcmxpbWl0IHN0cm9rZS1vcGFjaXR5IHN0cm9rZS13aWR0aCB0ZXh0LWFuY2hvciB0ZXh0LWRlY29yYXRpb24gdGV4dC1yZW5kZXJpbmcgdW5kZXJsaW5lLXBvc2l0aW9uIHVuZGVybGluZS10aGlja25lc3MgdW5pY29kZS1iaWRpIHVuaWNvZGUtcmFuZ2UgdW5pdHMtcGVyLWVtIHYtYWxwaGFiZXRpYyB2LWhhbmdpbmcgdi1pZGVvZ3JhcGhpYyB2LW1hdGhlbWF0aWNhbCB2ZWN0b3ItZWZmZWN0IHZlcnQtYWR2LXkgdmVydC1vcmlnaW4teCB2ZXJ0LW9yaWdpbi15IHdvcmQtc3BhY2luZyB3cml0aW5nLW1vZGUgeG1sbnM6eGxpbmsgeC1oZWlnaHRcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoamEsXG5rYSk7eltiXT1uZXcgeShiLDEsITEsYSxudWxsLCExLCExKX0pO1wieGxpbms6YWN0dWF0ZSB4bGluazphcmNyb2xlIHhsaW5rOnJvbGUgeGxpbms6c2hvdyB4bGluazp0aXRsZSB4bGluazp0eXBlXCIuc3BsaXQoXCIgXCIpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGphLGthKTt6W2JdPW5ldyB5KGIsMSwhMSxhLFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLCExLCExKX0pO1tcInhtbDpiYXNlXCIsXCJ4bWw6bGFuZ1wiLFwieG1sOnNwYWNlXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGphLGthKTt6W2JdPW5ldyB5KGIsMSwhMSxhLFwiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlXCIsITEsITEpfSk7W1widGFiSW5kZXhcIixcImNyb3NzT3JpZ2luXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgeShhLDEsITEsYS50b0xvd2VyQ2FzZSgpLG51bGwsITEsITEpfSk7XG56LnhsaW5rSHJlZj1uZXcgeShcInhsaW5rSHJlZlwiLDEsITEsXCJ4bGluazpocmVmXCIsXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsITAsITEpO1tcInNyY1wiLFwiaHJlZlwiLFwiYWN0aW9uXCIsXCJmb3JtQWN0aW9uXCJdLmZvckVhY2goZnVuY3Rpb24oYSl7elthXT1uZXcgeShhLDEsITEsYS50b0xvd2VyQ2FzZSgpLG51bGwsITAsITApfSk7XG52YXIgQj17YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsYXNwZWN0UmF0aW86ITAsYm9yZGVySW1hZ2VPdXRzZXQ6ITAsYm9yZGVySW1hZ2VTbGljZTohMCxib3JkZXJJbWFnZVdpZHRoOiEwLGJveEZsZXg6ITAsYm94RmxleEdyb3VwOiEwLGJveE9yZGluYWxHcm91cDohMCxjb2x1bW5Db3VudDohMCxjb2x1bW5zOiEwLGZsZXg6ITAsZmxleEdyb3c6ITAsZmxleFBvc2l0aXZlOiEwLGZsZXhTaHJpbms6ITAsZmxleE5lZ2F0aXZlOiEwLGZsZXhPcmRlcjohMCxncmlkQXJlYTohMCxncmlkUm93OiEwLGdyaWRSb3dFbmQ6ITAsZ3JpZFJvd1NwYW46ITAsZ3JpZFJvd1N0YXJ0OiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3BhbjohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZm9udFdlaWdodDohMCxsaW5lQ2xhbXA6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsdGFiU2l6ZTohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITAsXG5maWxsT3BhY2l0eTohMCxmbG9vZE9wYWNpdHk6ITAsc3RvcE9wYWNpdHk6ITAsc3Ryb2tlRGFzaGFycmF5OiEwLHN0cm9rZURhc2hvZmZzZXQ6ITAsc3Ryb2tlTWl0ZXJsaW1pdDohMCxzdHJva2VPcGFjaXR5OiEwLHN0cm9rZVdpZHRoOiEwfSxsYT1bXCJXZWJraXRcIixcIm1zXCIsXCJNb3pcIixcIk9cIl07T2JqZWN0LmtleXMoQikuZm9yRWFjaChmdW5jdGlvbihhKXtsYS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2I9YithLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyaW5nKDEpO0JbYl09QlthXX0pfSk7dmFyIG9hPS9bXCInJjw+XS87XG5mdW5jdGlvbiBDKGEpe2lmKFwiYm9vbGVhblwiPT09dHlwZW9mIGF8fFwibnVtYmVyXCI9PT10eXBlb2YgYSlyZXR1cm5cIlwiK2E7YT1cIlwiK2E7dmFyIGI9b2EuZXhlYyhhKTtpZihiKXt2YXIgYz1cIlwiLGQsZj0wO2ZvcihkPWIuaW5kZXg7ZDxhLmxlbmd0aDtkKyspe3N3aXRjaChhLmNoYXJDb2RlQXQoZCkpe2Nhc2UgMzQ6Yj1cIiZxdW90O1wiO2JyZWFrO2Nhc2UgMzg6Yj1cIiZhbXA7XCI7YnJlYWs7Y2FzZSAzOTpiPVwiJiN4Mjc7XCI7YnJlYWs7Y2FzZSA2MDpiPVwiJmx0O1wiO2JyZWFrO2Nhc2UgNjI6Yj1cIiZndDtcIjticmVhaztkZWZhdWx0OmNvbnRpbnVlfWYhPT1kJiYoYys9YS5zdWJzdHJpbmcoZixkKSk7Zj1kKzE7Yys9Yn1hPWYhPT1kP2MrYS5zdWJzdHJpbmcoZixkKTpjfXJldHVybiBhfVxudmFyIHBhPS8oW0EtWl0pL2cscWE9L15tcy0vLHJhPUFycmF5LmlzQXJyYXksc2E9dyhcIjxzY3JpcHQ+XCIpLHRhPXcoXCJcXHgzYy9zY3JpcHQ+XCIpLHVhPXcoJzxzY3JpcHQgc3JjPVwiJyksdmE9dygnPHNjcmlwdCB0eXBlPVwibW9kdWxlXCIgc3JjPVwiJyksd2E9dygnXCIgYXN5bmM9XCJcIj5cXHgzYy9zY3JpcHQ+JykseGE9Lyg8XFwvfDwpKHMpKGNyaXB0KS9naTtmdW5jdGlvbiB5YShhLGIsYyxkKXtyZXR1cm5cIlwiK2IrKFwic1wiPT09Yz9cIlxcXFx1MDA3M1wiOlwiXFxcXHUwMDUzXCIpK2R9XG5mdW5jdGlvbiB6YShhLGIsYyxkLGYpe2E9dm9pZCAwPT09YT9cIlwiOmE7Yj12b2lkIDA9PT1iP3NhOncoJzxzY3JpcHQgbm9uY2U9XCInK0MoYikrJ1wiPicpO3ZhciBlPVtdO3ZvaWQgMCE9PWMmJmUucHVzaChiLHUoKFwiXCIrYykucmVwbGFjZSh4YSx5YSkpLHRhKTtpZih2b2lkIDAhPT1kKWZvcihjPTA7YzxkLmxlbmd0aDtjKyspZS5wdXNoKHVhLHUoQyhkW2NdKSksd2EpO2lmKHZvaWQgMCE9PWYpZm9yKGQ9MDtkPGYubGVuZ3RoO2QrKyllLnB1c2godmEsdShDKGZbZF0pKSx3YSk7cmV0dXJue2Jvb3RzdHJhcENodW5rczplLHN0YXJ0SW5saW5lU2NyaXB0OmIscGxhY2Vob2xkZXJQcmVmaXg6dyhhK1wiUDpcIiksc2VnbWVudFByZWZpeDp3KGErXCJTOlwiKSxib3VuZGFyeVByZWZpeDphK1wiQjpcIixpZFByZWZpeDphLG5leHRTdXNwZW5zZUlEOjAsc2VudENvbXBsZXRlU2VnbWVudEZ1bmN0aW9uOiExLHNlbnRDb21wbGV0ZUJvdW5kYXJ5RnVuY3Rpb246ITEsc2VudENsaWVudFJlbmRlckZ1bmN0aW9uOiExfX1cbmZ1bmN0aW9uIEQoYSxiKXtyZXR1cm57aW5zZXJ0aW9uTW9kZTphLHNlbGVjdGVkVmFsdWU6Yn19ZnVuY3Rpb24gQWEoYSl7cmV0dXJuIEQoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPT09YT8yOlwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiPT09YT8zOjAsbnVsbCl9XG5mdW5jdGlvbiBCYShhLGIsYyl7c3dpdGNoKGIpe2Nhc2UgXCJzZWxlY3RcIjpyZXR1cm4gRCgxLG51bGwhPWMudmFsdWU/Yy52YWx1ZTpjLmRlZmF1bHRWYWx1ZSk7Y2FzZSBcInN2Z1wiOnJldHVybiBEKDIsbnVsbCk7Y2FzZSBcIm1hdGhcIjpyZXR1cm4gRCgzLG51bGwpO2Nhc2UgXCJmb3JlaWduT2JqZWN0XCI6cmV0dXJuIEQoMSxudWxsKTtjYXNlIFwidGFibGVcIjpyZXR1cm4gRCg0LG51bGwpO2Nhc2UgXCJ0aGVhZFwiOmNhc2UgXCJ0Ym9keVwiOmNhc2UgXCJ0Zm9vdFwiOnJldHVybiBEKDUsbnVsbCk7Y2FzZSBcImNvbGdyb3VwXCI6cmV0dXJuIEQoNyxudWxsKTtjYXNlIFwidHJcIjpyZXR1cm4gRCg2LG51bGwpfXJldHVybiA0PD1hLmluc2VydGlvbk1vZGV8fDA9PT1hLmluc2VydGlvbk1vZGU/RCgxLG51bGwpOmF9dmFyIENhPXcoXCJcXHgzYyEtLSAtLVxceDNlXCIpO2Z1bmN0aW9uIERhKGEsYixjLGQpe2lmKFwiXCI9PT1iKXJldHVybiBkO2QmJmEucHVzaChDYSk7YS5wdXNoKHUoQyhiKSkpO3JldHVybiEwfVxudmFyIEVhPW5ldyBNYXAsRmE9dygnIHN0eWxlPVwiJyksR2E9dyhcIjpcIiksSGE9dyhcIjtcIik7XG5mdW5jdGlvbiBJYShhLGIsYyl7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBjKXRocm93IEVycm9yKGsoNjIpKTtiPSEwO2Zvcih2YXIgZCBpbiBjKWlmKHguY2FsbChjLGQpKXt2YXIgZj1jW2RdO2lmKG51bGwhPWYmJlwiYm9vbGVhblwiIT09dHlwZW9mIGYmJlwiXCIhPT1mKXtpZigwPT09ZC5pbmRleE9mKFwiLS1cIikpe3ZhciBlPXUoQyhkKSk7Zj11KEMoKFwiXCIrZikudHJpbSgpKSl9ZWxzZXtlPWQ7dmFyIGc9RWEuZ2V0KGUpO3ZvaWQgMCE9PWc/ZT1nOihnPXcoQyhlLnJlcGxhY2UocGEsXCItJDFcIikudG9Mb3dlckNhc2UoKS5yZXBsYWNlKHFhLFwiLW1zLVwiKSkpLEVhLnNldChlLGcpLGU9Zyk7Zj1cIm51bWJlclwiPT09dHlwZW9mIGY/MD09PWZ8fHguY2FsbChCLGQpP3UoXCJcIitmKTp1KGYrXCJweFwiKTp1KEMoKFwiXCIrZikudHJpbSgpKSl9Yj8oYj0hMSxhLnB1c2goRmEsZSxHYSxmKSk6YS5wdXNoKEhhLGUsR2EsZil9fWJ8fGEucHVzaChFKX1cbnZhciBIPXcoXCIgXCIpLEk9dygnPVwiJyksRT13KCdcIicpLEphPXcoJz1cIlwiJyk7XG5mdW5jdGlvbiBKKGEsYixjLGQpe3N3aXRjaChjKXtjYXNlIFwic3R5bGVcIjpJYShhLGIsZCk7cmV0dXJuO2Nhc2UgXCJkZWZhdWx0VmFsdWVcIjpjYXNlIFwiZGVmYXVsdENoZWNrZWRcIjpjYXNlIFwiaW5uZXJIVE1MXCI6Y2FzZSBcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiOmNhc2UgXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIjpyZXR1cm59aWYoISgyPGMubGVuZ3RoKXx8XCJvXCIhPT1jWzBdJiZcIk9cIiE9PWNbMF18fFwiblwiIT09Y1sxXSYmXCJOXCIhPT1jWzFdKWlmKGI9ei5oYXNPd25Qcm9wZXJ0eShjKT96W2NdOm51bGwsbnVsbCE9PWIpe3N3aXRjaCh0eXBlb2YgZCl7Y2FzZSBcImZ1bmN0aW9uXCI6Y2FzZSBcInN5bWJvbFwiOnJldHVybjtjYXNlIFwiYm9vbGVhblwiOmlmKCFiLmFjY2VwdHNCb29sZWFucylyZXR1cm59Yz11KGIuYXR0cmlidXRlTmFtZSk7c3dpdGNoKGIudHlwZSl7Y2FzZSAzOmQmJmEucHVzaChILGMsSmEpO2JyZWFrO2Nhc2UgNDohMD09PWQ/YS5wdXNoKEgsYyxKYSk6ITEhPT1cbmQmJmEucHVzaChILGMsSSx1KEMoZCkpLEUpO2JyZWFrO2Nhc2UgNTppc05hTihkKXx8YS5wdXNoKEgsYyxJLHUoQyhkKSksRSk7YnJlYWs7Y2FzZSA2OiFpc05hTihkKSYmMTw9ZCYmYS5wdXNoKEgsYyxJLHUoQyhkKSksRSk7YnJlYWs7ZGVmYXVsdDpiLnNhbml0aXplVVJMJiYoZD1cIlwiK2QpLGEucHVzaChILGMsSSx1KEMoZCkpLEUpfX1lbHNlIGlmKGlhKGMpKXtzd2l0Y2godHlwZW9mIGQpe2Nhc2UgXCJmdW5jdGlvblwiOmNhc2UgXCJzeW1ib2xcIjpyZXR1cm47Y2FzZSBcImJvb2xlYW5cIjppZihiPWMudG9Mb3dlckNhc2UoKS5zbGljZSgwLDUpLFwiZGF0YS1cIiE9PWImJlwiYXJpYS1cIiE9PWIpcmV0dXJufWEucHVzaChILHUoYyksSSx1KEMoZCkpLEUpfX12YXIgSz13KFwiPlwiKSxLYT13KFwiLz5cIik7XG5mdW5jdGlvbiBMKGEsYixjKXtpZihudWxsIT1iKXtpZihudWxsIT1jKXRocm93IEVycm9yKGsoNjApKTtpZihcIm9iamVjdFwiIT09dHlwZW9mIGJ8fCEoXCJfX2h0bWxcImluIGIpKXRocm93IEVycm9yKGsoNjEpKTtiPWIuX19odG1sO251bGwhPT1iJiZ2b2lkIDAhPT1iJiZhLnB1c2godShcIlwiK2IpKX19ZnVuY3Rpb24gTGEoYSl7dmFyIGI9XCJcIjthYS5DaGlsZHJlbi5mb3JFYWNoKGEsZnVuY3Rpb24oYSl7bnVsbCE9YSYmKGIrPWEpfSk7cmV0dXJuIGJ9dmFyIE1hPXcoJyBzZWxlY3RlZD1cIlwiJyk7XG5mdW5jdGlvbiBOYShhLGIsYyxkKXthLnB1c2goTShjKSk7dmFyIGY9Yz1udWxsLGU7Zm9yKGUgaW4gYilpZih4LmNhbGwoYixlKSl7dmFyIGc9YltlXTtpZihudWxsIT1nKXN3aXRjaChlKXtjYXNlIFwiY2hpbGRyZW5cIjpjPWc7YnJlYWs7Y2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6Zj1nO2JyZWFrO2RlZmF1bHQ6SihhLGQsZSxnKX19YS5wdXNoKEspO0woYSxmLGMpO3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYz8oYS5wdXNoKHUoQyhjKSkpLG51bGwpOmN9dmFyIE9hPXcoXCJcXG5cIiksUGE9L15bYS16QS1aXVthLXpBLVo6X1xcLlxcLVxcZF0qJC8sUWE9bmV3IE1hcDtmdW5jdGlvbiBNKGEpe3ZhciBiPVFhLmdldChhKTtpZih2b2lkIDA9PT1iKXtpZighUGEudGVzdChhKSl0aHJvdyBFcnJvcihrKDY1LGEpKTtiPXcoXCI8XCIrYSk7UWEuc2V0KGEsYil9cmV0dXJuIGJ9dmFyIFJhPXcoXCI8IURPQ1RZUEUgaHRtbD5cIik7XG5mdW5jdGlvbiBTYShhLGIsYyxkLGYpe3N3aXRjaChiKXtjYXNlIFwic2VsZWN0XCI6YS5wdXNoKE0oXCJzZWxlY3RcIikpO3ZhciBlPW51bGwsZz1udWxsO2ZvcihyIGluIGMpaWYoeC5jYWxsKGMscikpe3ZhciBoPWNbcl07aWYobnVsbCE9aClzd2l0Y2gocil7Y2FzZSBcImNoaWxkcmVuXCI6ZT1oO2JyZWFrO2Nhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOmc9aDticmVhaztjYXNlIFwiZGVmYXVsdFZhbHVlXCI6Y2FzZSBcInZhbHVlXCI6YnJlYWs7ZGVmYXVsdDpKKGEsZCxyLGgpfX1hLnB1c2goSyk7TChhLGcsZSk7cmV0dXJuIGU7Y2FzZSBcIm9wdGlvblwiOmc9Zi5zZWxlY3RlZFZhbHVlO2EucHVzaChNKFwib3B0aW9uXCIpKTt2YXIgbT1oPW51bGwscT1udWxsO3ZhciByPW51bGw7Zm9yKGUgaW4gYylpZih4LmNhbGwoYyxlKSl7dmFyIHY9Y1tlXTtpZihudWxsIT12KXN3aXRjaChlKXtjYXNlIFwiY2hpbGRyZW5cIjpoPXY7YnJlYWs7Y2FzZSBcInNlbGVjdGVkXCI6cT12O2JyZWFrO2Nhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOnI9XG52O2JyZWFrO2Nhc2UgXCJ2YWx1ZVwiOm09djtkZWZhdWx0OkooYSxkLGUsdil9fWlmKG51bGwhPWcpaWYoYz1udWxsIT09bT9cIlwiK206TGEoaCkscmEoZykpZm9yKGQ9MDtkPGcubGVuZ3RoO2QrKyl7aWYoXCJcIitnW2RdPT09Yyl7YS5wdXNoKE1hKTticmVha319ZWxzZVwiXCIrZz09PWMmJmEucHVzaChNYSk7ZWxzZSBxJiZhLnB1c2goTWEpO2EucHVzaChLKTtMKGEscixoKTtyZXR1cm4gaDtjYXNlIFwidGV4dGFyZWFcIjphLnB1c2goTShcInRleHRhcmVhXCIpKTtyPWc9ZT1udWxsO2ZvcihoIGluIGMpaWYoeC5jYWxsKGMsaCkmJihtPWNbaF0sbnVsbCE9bSkpc3dpdGNoKGgpe2Nhc2UgXCJjaGlsZHJlblwiOnI9bTticmVhaztjYXNlIFwidmFsdWVcIjplPW07YnJlYWs7Y2FzZSBcImRlZmF1bHRWYWx1ZVwiOmc9bTticmVhaztjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjp0aHJvdyBFcnJvcihrKDkxKSk7ZGVmYXVsdDpKKGEsZCxoLG0pfW51bGw9PT1lJiZudWxsIT09ZyYmKGU9Zyk7YS5wdXNoKEspO1xuaWYobnVsbCE9cil7aWYobnVsbCE9ZSl0aHJvdyBFcnJvcihrKDkyKSk7aWYocmEocikmJjE8ci5sZW5ndGgpdGhyb3cgRXJyb3Ioayg5MykpO2U9XCJcIityfVwic3RyaW5nXCI9PT10eXBlb2YgZSYmXCJcXG5cIj09PWVbMF0mJmEucHVzaChPYSk7bnVsbCE9PWUmJmEucHVzaCh1KEMoXCJcIitlKSkpO3JldHVybiBudWxsO2Nhc2UgXCJpbnB1dFwiOmEucHVzaChNKFwiaW5wdXRcIikpO209cj1oPWU9bnVsbDtmb3IoZyBpbiBjKWlmKHguY2FsbChjLGcpJiYocT1jW2ddLG51bGwhPXEpKXN3aXRjaChnKXtjYXNlIFwiY2hpbGRyZW5cIjpjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjp0aHJvdyBFcnJvcihrKDM5OSxcImlucHV0XCIpKTtjYXNlIFwiZGVmYXVsdENoZWNrZWRcIjptPXE7YnJlYWs7Y2FzZSBcImRlZmF1bHRWYWx1ZVwiOmg9cTticmVhaztjYXNlIFwiY2hlY2tlZFwiOnI9cTticmVhaztjYXNlIFwidmFsdWVcIjplPXE7YnJlYWs7ZGVmYXVsdDpKKGEsZCxnLHEpfW51bGwhPT1yP0ooYSxkLFwiY2hlY2tlZFwiLFxucik6bnVsbCE9PW0mJkooYSxkLFwiY2hlY2tlZFwiLG0pO251bGwhPT1lP0ooYSxkLFwidmFsdWVcIixlKTpudWxsIT09aCYmSihhLGQsXCJ2YWx1ZVwiLGgpO2EucHVzaChLYSk7cmV0dXJuIG51bGw7Y2FzZSBcIm1lbnVpdGVtXCI6YS5wdXNoKE0oXCJtZW51aXRlbVwiKSk7Zm9yKHZhciBBIGluIGMpaWYoeC5jYWxsKGMsQSkmJihlPWNbQV0sbnVsbCE9ZSkpc3dpdGNoKEEpe2Nhc2UgXCJjaGlsZHJlblwiOmNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOnRocm93IEVycm9yKGsoNDAwKSk7ZGVmYXVsdDpKKGEsZCxBLGUpfWEucHVzaChLKTtyZXR1cm4gbnVsbDtjYXNlIFwidGl0bGVcIjphLnB1c2goTShcInRpdGxlXCIpKTtlPW51bGw7Zm9yKHYgaW4gYylpZih4LmNhbGwoYyx2KSYmKGc9Y1t2XSxudWxsIT1nKSlzd2l0Y2godil7Y2FzZSBcImNoaWxkcmVuXCI6ZT1nO2JyZWFrO2Nhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOnRocm93IEVycm9yKGsoNDM0KSk7ZGVmYXVsdDpKKGEsZCx2LGcpfWEucHVzaChLKTtcbnJldHVybiBlO2Nhc2UgXCJsaXN0aW5nXCI6Y2FzZSBcInByZVwiOmEucHVzaChNKGIpKTtnPWU9bnVsbDtmb3IobSBpbiBjKWlmKHguY2FsbChjLG0pJiYoaD1jW21dLG51bGwhPWgpKXN3aXRjaChtKXtjYXNlIFwiY2hpbGRyZW5cIjplPWg7YnJlYWs7Y2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6Zz1oO2JyZWFrO2RlZmF1bHQ6SihhLGQsbSxoKX1hLnB1c2goSyk7aWYobnVsbCE9Zyl7aWYobnVsbCE9ZSl0aHJvdyBFcnJvcihrKDYwKSk7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBnfHwhKFwiX19odG1sXCJpbiBnKSl0aHJvdyBFcnJvcihrKDYxKSk7Yz1nLl9faHRtbDtudWxsIT09YyYmdm9pZCAwIT09YyYmKFwic3RyaW5nXCI9PT10eXBlb2YgYyYmMDxjLmxlbmd0aCYmXCJcXG5cIj09PWNbMF0/YS5wdXNoKE9hLHUoYykpOmEucHVzaCh1KFwiXCIrYykpKX1cInN0cmluZ1wiPT09dHlwZW9mIGUmJlwiXFxuXCI9PT1lWzBdJiZhLnB1c2goT2EpO3JldHVybiBlO2Nhc2UgXCJhcmVhXCI6Y2FzZSBcImJhc2VcIjpjYXNlIFwiYnJcIjpjYXNlIFwiY29sXCI6Y2FzZSBcImVtYmVkXCI6Y2FzZSBcImhyXCI6Y2FzZSBcImltZ1wiOmNhc2UgXCJrZXlnZW5cIjpjYXNlIFwibGlua1wiOmNhc2UgXCJtZXRhXCI6Y2FzZSBcInBhcmFtXCI6Y2FzZSBcInNvdXJjZVwiOmNhc2UgXCJ0cmFja1wiOmNhc2UgXCJ3YnJcIjphLnB1c2goTShiKSk7XG5mb3IodmFyIEYgaW4gYylpZih4LmNhbGwoYyxGKSYmKGU9Y1tGXSxudWxsIT1lKSlzd2l0Y2goRil7Y2FzZSBcImNoaWxkcmVuXCI6Y2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6dGhyb3cgRXJyb3IoaygzOTksYikpO2RlZmF1bHQ6SihhLGQsRixlKX1hLnB1c2goS2EpO3JldHVybiBudWxsO2Nhc2UgXCJhbm5vdGF0aW9uLXhtbFwiOmNhc2UgXCJjb2xvci1wcm9maWxlXCI6Y2FzZSBcImZvbnQtZmFjZVwiOmNhc2UgXCJmb250LWZhY2Utc3JjXCI6Y2FzZSBcImZvbnQtZmFjZS11cmlcIjpjYXNlIFwiZm9udC1mYWNlLWZvcm1hdFwiOmNhc2UgXCJmb250LWZhY2UtbmFtZVwiOmNhc2UgXCJtaXNzaW5nLWdseXBoXCI6cmV0dXJuIE5hKGEsYyxiLGQpO2Nhc2UgXCJodG1sXCI6cmV0dXJuIDA9PT1mLmluc2VydGlvbk1vZGUmJmEucHVzaChSYSksTmEoYSxjLGIsZCk7ZGVmYXVsdDppZigtMT09PWIuaW5kZXhPZihcIi1cIikmJlwic3RyaW5nXCIhPT10eXBlb2YgYy5pcylyZXR1cm4gTmEoYSxjLGIsZCk7YS5wdXNoKE0oYikpO1xuZz1lPW51bGw7Zm9yKHEgaW4gYylpZih4LmNhbGwoYyxxKSYmKGg9Y1txXSxudWxsIT1oKSlzd2l0Y2gocSl7Y2FzZSBcImNoaWxkcmVuXCI6ZT1oO2JyZWFrO2Nhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOmc9aDticmVhaztjYXNlIFwic3R5bGVcIjpJYShhLGQsaCk7YnJlYWs7Y2FzZSBcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiOmNhc2UgXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIjpicmVhaztkZWZhdWx0OmlhKHEpJiZcImZ1bmN0aW9uXCIhPT10eXBlb2YgaCYmXCJzeW1ib2xcIiE9PXR5cGVvZiBoJiZhLnB1c2goSCx1KHEpLEksdShDKGgpKSxFKX1hLnB1c2goSyk7TChhLGcsZSk7cmV0dXJuIGV9fVxudmFyIFRhPXcoXCI8L1wiKSxVYT13KFwiPlwiKSxWYT13KCc8dGVtcGxhdGUgaWQ9XCInKSxXYT13KCdcIj48L3RlbXBsYXRlPicpLFhhPXcoXCJcXHgzYyEtLSQtLVxceDNlXCIpLFlhPXcoJ1xceDNjIS0tJD8tLVxceDNlPHRlbXBsYXRlIGlkPVwiJyksWmE9dygnXCI+PC90ZW1wbGF0ZT4nKSwkYT13KFwiXFx4M2MhLS0kIS0tXFx4M2VcIiksYWI9dyhcIlxceDNjIS0tLyQtLVxceDNlXCIpLGJiPXcoXCI8dGVtcGxhdGVcIiksY2I9dygnXCInKSxkYj13KCcgZGF0YS1kZ3N0PVwiJyk7dygnIGRhdGEtbXNnPVwiJyk7dygnIGRhdGEtc3Rjaz1cIicpO3ZhciBlYj13KFwiPjwvdGVtcGxhdGU+XCIpO2Z1bmN0aW9uIGZiKGEsYixjKXtwKGEsWWEpO2lmKG51bGw9PT1jKXRocm93IEVycm9yKGsoMzk1KSk7cChhLGMpO3JldHVybiB0KGEsWmEpfVxudmFyIGdiPXcoJzxkaXYgaGlkZGVuIGlkPVwiJyksaGI9dygnXCI+JyksaWI9dyhcIjwvZGl2PlwiKSxqYj13KCc8c3ZnIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHN0eWxlPVwiZGlzcGxheTpub25lXCIgaWQ9XCInKSxrYj13KCdcIj4nKSxsYj13KFwiPC9zdmc+XCIpLG1iPXcoJzxtYXRoIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHN0eWxlPVwiZGlzcGxheTpub25lXCIgaWQ9XCInKSxuYj13KCdcIj4nKSxvYj13KFwiPC9tYXRoPlwiKSxwYj13KCc8dGFibGUgaGlkZGVuIGlkPVwiJykscWI9dygnXCI+JykscmI9dyhcIjwvdGFibGU+XCIpLHNiPXcoJzx0YWJsZSBoaWRkZW4+PHRib2R5IGlkPVwiJyksdGI9dygnXCI+JyksdWI9dyhcIjwvdGJvZHk+PC90YWJsZT5cIiksdmI9dygnPHRhYmxlIGhpZGRlbj48dHIgaWQ9XCInKSx3Yj13KCdcIj4nKSx4Yj13KFwiPC90cj48L3RhYmxlPlwiKSx5Yj13KCc8dGFibGUgaGlkZGVuPjxjb2xncm91cCBpZD1cIicpLHpiPXcoJ1wiPicpLEFiPXcoXCI8L2NvbGdyb3VwPjwvdGFibGU+XCIpO1xuZnVuY3Rpb24gQmIoYSxiLGMsZCl7c3dpdGNoKGMuaW5zZXJ0aW9uTW9kZSl7Y2FzZSAwOmNhc2UgMTpyZXR1cm4gcChhLGdiKSxwKGEsYi5zZWdtZW50UHJlZml4KSxwKGEsdShkLnRvU3RyaW5nKDE2KSkpLHQoYSxoYik7Y2FzZSAyOnJldHVybiBwKGEsamIpLHAoYSxiLnNlZ21lbnRQcmVmaXgpLHAoYSx1KGQudG9TdHJpbmcoMTYpKSksdChhLGtiKTtjYXNlIDM6cmV0dXJuIHAoYSxtYikscChhLGIuc2VnbWVudFByZWZpeCkscChhLHUoZC50b1N0cmluZygxNikpKSx0KGEsbmIpO2Nhc2UgNDpyZXR1cm4gcChhLHBiKSxwKGEsYi5zZWdtZW50UHJlZml4KSxwKGEsdShkLnRvU3RyaW5nKDE2KSkpLHQoYSxxYik7Y2FzZSA1OnJldHVybiBwKGEsc2IpLHAoYSxiLnNlZ21lbnRQcmVmaXgpLHAoYSx1KGQudG9TdHJpbmcoMTYpKSksdChhLHRiKTtjYXNlIDY6cmV0dXJuIHAoYSx2YikscChhLGIuc2VnbWVudFByZWZpeCkscChhLHUoZC50b1N0cmluZygxNikpKSx0KGEsd2IpO2Nhc2UgNzpyZXR1cm4gcChhLFxueWIpLHAoYSxiLnNlZ21lbnRQcmVmaXgpLHAoYSx1KGQudG9TdHJpbmcoMTYpKSksdChhLHpiKTtkZWZhdWx0OnRocm93IEVycm9yKGsoMzk3KSk7fX1mdW5jdGlvbiBDYihhLGIpe3N3aXRjaChiLmluc2VydGlvbk1vZGUpe2Nhc2UgMDpjYXNlIDE6cmV0dXJuIHQoYSxpYik7Y2FzZSAyOnJldHVybiB0KGEsbGIpO2Nhc2UgMzpyZXR1cm4gdChhLG9iKTtjYXNlIDQ6cmV0dXJuIHQoYSxyYik7Y2FzZSA1OnJldHVybiB0KGEsdWIpO2Nhc2UgNjpyZXR1cm4gdChhLHhiKTtjYXNlIDc6cmV0dXJuIHQoYSxBYik7ZGVmYXVsdDp0aHJvdyBFcnJvcihrKDM5NykpO319XG52YXIgRGI9dygnZnVuY3Rpb24gJFJTKGEsYil7YT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKTtiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGIpO2ZvcihhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSk7YS5maXJzdENoaWxkOyliLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEuZmlyc3RDaGlsZCxiKTtiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9OyRSUyhcIicpLEViPXcoJyRSUyhcIicpLEdiPXcoJ1wiLFwiJyksSGI9dygnXCIpXFx4M2Mvc2NyaXB0PicpLEliPXcoJ2Z1bmN0aW9uICRSQyhhLGIpe2E9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSk7Yj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChiKTtiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7aWYoYSl7YT1hLnByZXZpb3VzU2libGluZzt2YXIgZj1hLnBhcmVudE5vZGUsYz1hLm5leHRTaWJsaW5nLGU9MDtkb3tpZihjJiY4PT09Yy5ub2RlVHlwZSl7dmFyIGQ9Yy5kYXRhO2lmKFwiLyRcIj09PWQpaWYoMD09PWUpYnJlYWs7ZWxzZSBlLS07ZWxzZVwiJFwiIT09ZCYmXCIkP1wiIT09ZCYmXCIkIVwiIT09ZHx8ZSsrfWQ9Yy5uZXh0U2libGluZztmLnJlbW92ZUNoaWxkKGMpO2M9ZH13aGlsZShjKTtmb3IoO2IuZmlyc3RDaGlsZDspZi5pbnNlcnRCZWZvcmUoYi5maXJzdENoaWxkLGMpO2EuZGF0YT1cIiRcIjthLl9yZWFjdFJldHJ5JiZhLl9yZWFjdFJldHJ5KCl9fTskUkMoXCInKSxcbkpiPXcoJyRSQyhcIicpLEtiPXcoJ1wiLFwiJyksTGI9dygnXCIpXFx4M2Mvc2NyaXB0PicpLE1iPXcoJ2Z1bmN0aW9uICRSWChiLGMsZCxlKXt2YXIgYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChiKTthJiYoYj1hLnByZXZpb3VzU2libGluZyxiLmRhdGE9XCIkIVwiLGE9YS5kYXRhc2V0LGMmJihhLmRnc3Q9YyksZCYmKGEubXNnPWQpLGUmJihhLnN0Y2s9ZSksYi5fcmVhY3RSZXRyeSYmYi5fcmVhY3RSZXRyeSgpKX07JFJYKFwiJyksTmI9dygnJFJYKFwiJyksT2I9dygnXCInKSxQYj13KFwiKVxceDNjL3NjcmlwdD5cIiksUWI9dyhcIixcIiksUmI9L1s8XFx1MjAyOFxcdTIwMjldL2c7XG5mdW5jdGlvbiBTYihhKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoYSkucmVwbGFjZShSYixmdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSBcIjxcIjpyZXR1cm5cIlxcXFx1MDAzY1wiO2Nhc2UgXCJcXHUyMDI4XCI6cmV0dXJuXCJcXFxcdTIwMjhcIjtjYXNlIFwiXFx1MjAyOVwiOnJldHVyblwiXFxcXHUyMDI5XCI7ZGVmYXVsdDp0aHJvdyBFcnJvcihcImVzY2FwZUpTU3RyaW5nc0Zvckluc3RydWN0aW9uU2NyaXB0cyBlbmNvdW50ZXJlZCBhIG1hdGNoIGl0IGRvZXMgbm90IGtub3cgaG93IHRvIHJlcGxhY2UuIHRoaXMgbWVhbnMgdGhlIG1hdGNoIHJlZ2V4IGFuZCB0aGUgcmVwbGFjZW1lbnQgY2hhcmFjdGVycyBhcmUgbm8gbG9uZ2VyIGluIHN5bmMuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3RcIik7fX0pfVxudmFyIE49T2JqZWN0LmFzc2lnbixUYj1TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKSxVYj1TeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLFZiPVN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxXYj1TeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIiksWGI9U3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpLFliPVN5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKSxaYj1TeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKSwkYj1TeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksYWM9U3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLGJjPVN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLGNjPVN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLGRjPVN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpLGVjPVN5bWJvbC5mb3IoXCJyZWFjdC5zY29wZVwiKSxmYz1TeW1ib2wuZm9yKFwicmVhY3QuZGVidWdfdHJhY2VfbW9kZVwiKSxnYz1TeW1ib2wuZm9yKFwicmVhY3QubGVnYWN5X2hpZGRlblwiKSxcbmhjPVN5bWJvbC5mb3IoXCJyZWFjdC5kZWZhdWx0X3ZhbHVlXCIpLGljPVN5bWJvbC5pdGVyYXRvcjtcbmZ1bmN0aW9uIGpjKGEpe2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEpcmV0dXJuIGEuZGlzcGxheU5hbWV8fGEubmFtZXx8bnVsbDtpZihcInN0cmluZ1wiPT09dHlwZW9mIGEpcmV0dXJuIGE7c3dpdGNoKGEpe2Nhc2UgVmI6cmV0dXJuXCJGcmFnbWVudFwiO2Nhc2UgVWI6cmV0dXJuXCJQb3J0YWxcIjtjYXNlIFhiOnJldHVyblwiUHJvZmlsZXJcIjtjYXNlIFdiOnJldHVyblwiU3RyaWN0TW9kZVwiO2Nhc2UgYWM6cmV0dXJuXCJTdXNwZW5zZVwiO2Nhc2UgYmM6cmV0dXJuXCJTdXNwZW5zZUxpc3RcIn1pZihcIm9iamVjdFwiPT09dHlwZW9mIGEpc3dpdGNoKGEuJCR0eXBlb2Ype2Nhc2UgWmI6cmV0dXJuKGEuZGlzcGxheU5hbWV8fFwiQ29udGV4dFwiKStcIi5Db25zdW1lclwiO2Nhc2UgWWI6cmV0dXJuKGEuX2NvbnRleHQuZGlzcGxheU5hbWV8fFwiQ29udGV4dFwiKStcIi5Qcm92aWRlclwiO2Nhc2UgJGI6dmFyIGI9YS5yZW5kZXI7YT1hLmRpc3BsYXlOYW1lO2F8fChhPWIuZGlzcGxheU5hbWV8fFxuYi5uYW1lfHxcIlwiLGE9XCJcIiE9PWE/XCJGb3J3YXJkUmVmKFwiK2ErXCIpXCI6XCJGb3J3YXJkUmVmXCIpO3JldHVybiBhO2Nhc2UgY2M6cmV0dXJuIGI9YS5kaXNwbGF5TmFtZXx8bnVsbCxudWxsIT09Yj9iOmpjKGEudHlwZSl8fFwiTWVtb1wiO2Nhc2UgZGM6Yj1hLl9wYXlsb2FkO2E9YS5faW5pdDt0cnl7cmV0dXJuIGpjKGEoYikpfWNhdGNoKGMpe319cmV0dXJuIG51bGx9dmFyIGtjPXt9O2Z1bmN0aW9uIGxjKGEsYil7YT1hLmNvbnRleHRUeXBlcztpZighYSlyZXR1cm4ga2M7dmFyIGM9e30sZDtmb3IoZCBpbiBhKWNbZF09YltkXTtyZXR1cm4gY312YXIgTz1udWxsO1xuZnVuY3Rpb24gUChhLGIpe2lmKGEhPT1iKXthLmNvbnRleHQuX2N1cnJlbnRWYWx1ZT1hLnBhcmVudFZhbHVlO2E9YS5wYXJlbnQ7dmFyIGM9Yi5wYXJlbnQ7aWYobnVsbD09PWEpe2lmKG51bGwhPT1jKXRocm93IEVycm9yKGsoNDAxKSk7fWVsc2V7aWYobnVsbD09PWMpdGhyb3cgRXJyb3Ioayg0MDEpKTtQKGEsYyl9Yi5jb250ZXh0Ll9jdXJyZW50VmFsdWU9Yi52YWx1ZX19ZnVuY3Rpb24gbWMoYSl7YS5jb250ZXh0Ll9jdXJyZW50VmFsdWU9YS5wYXJlbnRWYWx1ZTthPWEucGFyZW50O251bGwhPT1hJiZtYyhhKX1mdW5jdGlvbiBuYyhhKXt2YXIgYj1hLnBhcmVudDtudWxsIT09YiYmbmMoYik7YS5jb250ZXh0Ll9jdXJyZW50VmFsdWU9YS52YWx1ZX1cbmZ1bmN0aW9uIG9jKGEsYil7YS5jb250ZXh0Ll9jdXJyZW50VmFsdWU9YS5wYXJlbnRWYWx1ZTthPWEucGFyZW50O2lmKG51bGw9PT1hKXRocm93IEVycm9yKGsoNDAyKSk7YS5kZXB0aD09PWIuZGVwdGg/UChhLGIpOm9jKGEsYil9ZnVuY3Rpb24gcGMoYSxiKXt2YXIgYz1iLnBhcmVudDtpZihudWxsPT09Yyl0aHJvdyBFcnJvcihrKDQwMikpO2EuZGVwdGg9PT1jLmRlcHRoP1AoYSxjKTpwYyhhLGMpO2IuY29udGV4dC5fY3VycmVudFZhbHVlPWIudmFsdWV9ZnVuY3Rpb24gUShhKXt2YXIgYj1PO2IhPT1hJiYobnVsbD09PWI/bmMoYSk6bnVsbD09PWE/bWMoYik6Yi5kZXB0aD09PWEuZGVwdGg/UChiLGEpOmIuZGVwdGg+YS5kZXB0aD9vYyhiLGEpOnBjKGIsYSksTz1hKX1cbnZhciBxYz17aXNNb3VudGVkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbihhLGIpe2E9YS5fcmVhY3RJbnRlcm5hbHM7bnVsbCE9PWEucXVldWUmJmEucXVldWUucHVzaChiKX0sZW5xdWV1ZVJlcGxhY2VTdGF0ZTpmdW5jdGlvbihhLGIpe2E9YS5fcmVhY3RJbnRlcm5hbHM7YS5yZXBsYWNlPSEwO2EucXVldWU9W2JdfSxlbnF1ZXVlRm9yY2VVcGRhdGU6ZnVuY3Rpb24oKXt9fTtcbmZ1bmN0aW9uIHJjKGEsYixjLGQpe3ZhciBmPXZvaWQgMCE9PWEuc3RhdGU/YS5zdGF0ZTpudWxsO2EudXBkYXRlcj1xYzthLnByb3BzPWM7YS5zdGF0ZT1mO3ZhciBlPXtxdWV1ZTpbXSxyZXBsYWNlOiExfTthLl9yZWFjdEludGVybmFscz1lO3ZhciBnPWIuY29udGV4dFR5cGU7YS5jb250ZXh0PVwib2JqZWN0XCI9PT10eXBlb2YgZyYmbnVsbCE9PWc/Zy5fY3VycmVudFZhbHVlOmQ7Zz1iLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcztcImZ1bmN0aW9uXCI9PT10eXBlb2YgZyYmKGc9ZyhjLGYpLGY9bnVsbD09PWd8fHZvaWQgMD09PWc/ZjpOKHt9LGYsZyksYS5zdGF0ZT1mKTtpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgYi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBhLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlJiYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudHx8XCJmdW5jdGlvblwiPT09dHlwZW9mIGEuY29tcG9uZW50V2lsbE1vdW50KSlpZihiPVxuYS5zdGF0ZSxcImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5jb21wb25lbnRXaWxsTW91bnQmJmEuY29tcG9uZW50V2lsbE1vdW50KCksXCJmdW5jdGlvblwiPT09dHlwZW9mIGEuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmYS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCksYiE9PWEuc3RhdGUmJnFjLmVucXVldWVSZXBsYWNlU3RhdGUoYSxhLnN0YXRlLG51bGwpLG51bGwhPT1lLnF1ZXVlJiYwPGUucXVldWUubGVuZ3RoKWlmKGI9ZS5xdWV1ZSxnPWUucmVwbGFjZSxlLnF1ZXVlPW51bGwsZS5yZXBsYWNlPSExLGcmJjE9PT1iLmxlbmd0aClhLnN0YXRlPWJbMF07ZWxzZXtlPWc/YlswXTphLnN0YXRlO2Y9ITA7Zm9yKGc9Zz8xOjA7ZzxiLmxlbmd0aDtnKyspe3ZhciBoPWJbZ107aD1cImZ1bmN0aW9uXCI9PT10eXBlb2YgaD9oLmNhbGwoYSxlLGMsZCk6aDtudWxsIT1oJiYoZj8oZj0hMSxlPU4oe30sZSxoKSk6TihlLGgpKX1hLnN0YXRlPWV9ZWxzZSBlLnF1ZXVlPW51bGx9XG52YXIgc2M9e2lkOjEsb3ZlcmZsb3c6XCJcIn07ZnVuY3Rpb24gdGMoYSxiLGMpe3ZhciBkPWEuaWQ7YT1hLm92ZXJmbG93O3ZhciBmPTMyLXVjKGQpLTE7ZCY9figxPDxmKTtjKz0xO3ZhciBlPTMyLXVjKGIpK2Y7aWYoMzA8ZSl7dmFyIGc9Zi1mJTU7ZT0oZCYoMTw8ZyktMSkudG9TdHJpbmcoMzIpO2Q+Pj1nO2YtPWc7cmV0dXJue2lkOjE8PDMyLXVjKGIpK2Z8Yzw8ZnxkLG92ZXJmbG93OmUrYX19cmV0dXJue2lkOjE8PGV8Yzw8ZnxkLG92ZXJmbG93OmF9fXZhciB1Yz1NYXRoLmNsejMyP01hdGguY2x6MzI6dmMsd2M9TWF0aC5sb2cseGM9TWF0aC5MTjI7ZnVuY3Rpb24gdmMoYSl7YT4+Pj0wO3JldHVybiAwPT09YT8zMjozMS0od2MoYSkveGN8MCl8MH1mdW5jdGlvbiB5YyhhLGIpe3JldHVybiBhPT09YiYmKDAhPT1hfHwxL2E9PT0xL2IpfHxhIT09YSYmYiE9PWJ9XG52YXIgemM9XCJmdW5jdGlvblwiPT09dHlwZW9mIE9iamVjdC5pcz9PYmplY3QuaXM6eWMsUj1udWxsLEFjPW51bGwsQmM9bnVsbCxTPW51bGwsVD0hMSxDYz0hMSxVPTAsVj1udWxsLERjPTA7ZnVuY3Rpb24gVygpe2lmKG51bGw9PT1SKXRocm93IEVycm9yKGsoMzIxKSk7cmV0dXJuIFJ9ZnVuY3Rpb24gRWMoKXtpZigwPERjKXRocm93IEVycm9yKGsoMzEyKSk7cmV0dXJue21lbW9pemVkU3RhdGU6bnVsbCxxdWV1ZTpudWxsLG5leHQ6bnVsbH19ZnVuY3Rpb24gRmMoKXtudWxsPT09Uz9udWxsPT09QmM/KFQ9ITEsQmM9Uz1FYygpKTooVD0hMCxTPUJjKTpudWxsPT09Uy5uZXh0PyhUPSExLFM9Uy5uZXh0PUVjKCkpOihUPSEwLFM9Uy5uZXh0KTtyZXR1cm4gU31mdW5jdGlvbiBHYygpe0FjPVI9bnVsbDtDYz0hMTtCYz1udWxsO0RjPTA7Uz1WPW51bGx9ZnVuY3Rpb24gSGMoYSxiKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgYj9iKGEpOmJ9XG5mdW5jdGlvbiBJYyhhLGIsYyl7Uj1XKCk7Uz1GYygpO2lmKFQpe3ZhciBkPVMucXVldWU7Yj1kLmRpc3BhdGNoO2lmKG51bGwhPT1WJiYoYz1WLmdldChkKSx2b2lkIDAhPT1jKSl7Vi5kZWxldGUoZCk7ZD1TLm1lbW9pemVkU3RhdGU7ZG8gZD1hKGQsYy5hY3Rpb24pLGM9Yy5uZXh0O3doaWxlKG51bGwhPT1jKTtTLm1lbW9pemVkU3RhdGU9ZDtyZXR1cm5bZCxiXX1yZXR1cm5bUy5tZW1vaXplZFN0YXRlLGJdfWE9YT09PUhjP1wiZnVuY3Rpb25cIj09PXR5cGVvZiBiP2IoKTpiOnZvaWQgMCE9PWM/YyhiKTpiO1MubWVtb2l6ZWRTdGF0ZT1hO2E9Uy5xdWV1ZT17bGFzdDpudWxsLGRpc3BhdGNoOm51bGx9O2E9YS5kaXNwYXRjaD1KYy5iaW5kKG51bGwsUixhKTtyZXR1cm5bUy5tZW1vaXplZFN0YXRlLGFdfVxuZnVuY3Rpb24gS2MoYSxiKXtSPVcoKTtTPUZjKCk7Yj12b2lkIDA9PT1iP251bGw6YjtpZihudWxsIT09Uyl7dmFyIGM9Uy5tZW1vaXplZFN0YXRlO2lmKG51bGwhPT1jJiZudWxsIT09Yil7dmFyIGQ9Y1sxXTthOmlmKG51bGw9PT1kKWQ9ITE7ZWxzZXtmb3IodmFyIGY9MDtmPGQubGVuZ3RoJiZmPGIubGVuZ3RoO2YrKylpZighemMoYltmXSxkW2ZdKSl7ZD0hMTticmVhayBhfWQ9ITB9aWYoZClyZXR1cm4gY1swXX19YT1hKCk7Uy5tZW1vaXplZFN0YXRlPVthLGJdO3JldHVybiBhfWZ1bmN0aW9uIEpjKGEsYixjKXtpZigyNTw9RGMpdGhyb3cgRXJyb3IoaygzMDEpKTtpZihhPT09UilpZihDYz0hMCxhPXthY3Rpb246YyxuZXh0Om51bGx9LG51bGw9PT1WJiYoVj1uZXcgTWFwKSxjPVYuZ2V0KGIpLHZvaWQgMD09PWMpVi5zZXQoYixhKTtlbHNle2ZvcihiPWM7bnVsbCE9PWIubmV4dDspYj1iLm5leHQ7Yi5uZXh0PWF9fVxuZnVuY3Rpb24gTGMoKXt0aHJvdyBFcnJvcihrKDM5NCkpO31mdW5jdGlvbiBNYygpe31cbnZhciBPYz17cmVhZENvbnRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuX2N1cnJlbnRWYWx1ZX0sdXNlQ29udGV4dDpmdW5jdGlvbihhKXtXKCk7cmV0dXJuIGEuX2N1cnJlbnRWYWx1ZX0sdXNlTWVtbzpLYyx1c2VSZWR1Y2VyOkljLHVzZVJlZjpmdW5jdGlvbihhKXtSPVcoKTtTPUZjKCk7dmFyIGI9Uy5tZW1vaXplZFN0YXRlO3JldHVybiBudWxsPT09Yj8oYT17Y3VycmVudDphfSxTLm1lbW9pemVkU3RhdGU9YSk6Yn0sdXNlU3RhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIEljKEhjLGEpfSx1c2VJbnNlcnRpb25FZmZlY3Q6TWMsdXNlTGF5b3V0RWZmZWN0OmZ1bmN0aW9uKCl7fSx1c2VDYWxsYmFjazpmdW5jdGlvbihhLGIpe3JldHVybiBLYyhmdW5jdGlvbigpe3JldHVybiBhfSxiKX0sdXNlSW1wZXJhdGl2ZUhhbmRsZTpNYyx1c2VFZmZlY3Q6TWMsdXNlRGVidWdWYWx1ZTpNYyx1c2VEZWZlcnJlZFZhbHVlOmZ1bmN0aW9uKGEpe1coKTtyZXR1cm4gYX0sdXNlVHJhbnNpdGlvbjpmdW5jdGlvbigpe1coKTtcbnJldHVyblshMSxMY119LHVzZUlkOmZ1bmN0aW9uKCl7dmFyIGE9QWMudHJlZUNvbnRleHQ7dmFyIGI9YS5vdmVyZmxvdzthPWEuaWQ7YT0oYSZ+KDE8PDMyLXVjKGEpLTEpKS50b1N0cmluZygzMikrYjt2YXIgYz1OYztpZihudWxsPT09Yyl0aHJvdyBFcnJvcihrKDQwNCkpO2I9VSsrO2E9XCI6XCIrYy5pZFByZWZpeCtcIlJcIithOzA8YiYmKGErPVwiSFwiK2IudG9TdHJpbmcoMzIpKTtyZXR1cm4gYStcIjpcIn0sdXNlTXV0YWJsZVNvdXJjZTpmdW5jdGlvbihhLGIpe1coKTtyZXR1cm4gYihhLl9zb3VyY2UpfSx1c2VTeW5jRXh0ZXJuYWxTdG9yZTpmdW5jdGlvbihhLGIsYyl7aWYodm9pZCAwPT09Yyl0aHJvdyBFcnJvcihrKDQwNykpO3JldHVybiBjKCl9fSxOYz1udWxsLFBjPWFhLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVELlJlYWN0Q3VycmVudERpc3BhdGNoZXI7ZnVuY3Rpb24gUWMoYSl7Y29uc29sZS5lcnJvcihhKTtyZXR1cm4gbnVsbH1cbmZ1bmN0aW9uIFgoKXt9XG5mdW5jdGlvbiBSYyhhLGIsYyxkLGYsZSxnLGgsbSl7dmFyIHE9W10scj1uZXcgU2V0O2I9e2Rlc3RpbmF0aW9uOm51bGwscmVzcG9uc2VTdGF0ZTpiLHByb2dyZXNzaXZlQ2h1bmtTaXplOnZvaWQgMD09PWQ/MTI4MDA6ZCxzdGF0dXM6MCxmYXRhbEVycm9yOm51bGwsbmV4dFNlZ21lbnRJZDowLGFsbFBlbmRpbmdUYXNrczowLHBlbmRpbmdSb290VGFza3M6MCxjb21wbGV0ZWRSb290U2VnbWVudDpudWxsLGFib3J0YWJsZVRhc2tzOnIscGluZ2VkVGFza3M6cSxjbGllbnRSZW5kZXJlZEJvdW5kYXJpZXM6W10sY29tcGxldGVkQm91bmRhcmllczpbXSxwYXJ0aWFsQm91bmRhcmllczpbXSxvbkVycm9yOnZvaWQgMD09PWY/UWM6ZixvbkFsbFJlYWR5OnZvaWQgMD09PWU/WDplLG9uU2hlbGxSZWFkeTp2b2lkIDA9PT1nP1g6ZyxvblNoZWxsRXJyb3I6dm9pZCAwPT09aD9YOmgsb25GYXRhbEVycm9yOnZvaWQgMD09PW0/WDptfTtjPVNjKGIsMCxudWxsLGMsITEsITEpO2MucGFyZW50Rmx1c2hlZD1cbiEwO2E9VGMoYixhLG51bGwsYyxyLGtjLG51bGwsc2MpO3EucHVzaChhKTtyZXR1cm4gYn1mdW5jdGlvbiBUYyhhLGIsYyxkLGYsZSxnLGgpe2EuYWxsUGVuZGluZ1Rhc2tzKys7bnVsbD09PWM/YS5wZW5kaW5nUm9vdFRhc2tzKys6Yy5wZW5kaW5nVGFza3MrKzt2YXIgbT17bm9kZTpiLHBpbmc6ZnVuY3Rpb24oKXt2YXIgYj1hLnBpbmdlZFRhc2tzO2IucHVzaChtKTsxPT09Yi5sZW5ndGgmJlVjKGEpfSxibG9ja2VkQm91bmRhcnk6YyxibG9ja2VkU2VnbWVudDpkLGFib3J0U2V0OmYsbGVnYWN5Q29udGV4dDplLGNvbnRleHQ6Zyx0cmVlQ29udGV4dDpofTtmLmFkZChtKTtyZXR1cm4gbX1mdW5jdGlvbiBTYyhhLGIsYyxkLGYsZSl7cmV0dXJue3N0YXR1czowLGlkOi0xLGluZGV4OmIscGFyZW50Rmx1c2hlZDohMSxjaHVua3M6W10sY2hpbGRyZW46W10sZm9ybWF0Q29udGV4dDpkLGJvdW5kYXJ5OmMsbGFzdFB1c2hlZFRleHQ6Zix0ZXh0RW1iZWRkZWQ6ZX19XG5mdW5jdGlvbiBZKGEsYil7YT1hLm9uRXJyb3IoYik7aWYobnVsbCE9YSYmXCJzdHJpbmdcIiE9PXR5cGVvZiBhKXRocm93IEVycm9yKCdvbkVycm9yIHJldHVybmVkIHNvbWV0aGluZyB3aXRoIGEgdHlwZSBvdGhlciB0aGFuIFwic3RyaW5nXCIuIG9uRXJyb3Igc2hvdWxkIHJldHVybiBhIHN0cmluZyBhbmQgbWF5IHJldHVybiBudWxsIG9yIHVuZGVmaW5lZCBidXQgbXVzdCBub3QgcmV0dXJuIGFueXRoaW5nIGVsc2UuIEl0IHJlY2VpdmVkIHNvbWV0aGluZyBvZiB0eXBlIFwiJyt0eXBlb2YgYSsnXCIgaW5zdGVhZCcpO3JldHVybiBhfWZ1bmN0aW9uIFZjKGEsYil7dmFyIGM9YS5vblNoZWxsRXJyb3I7YyhiKTtjPWEub25GYXRhbEVycm9yO2MoYik7bnVsbCE9PWEuZGVzdGluYXRpb24/KGEuc3RhdHVzPTIsZGEoYS5kZXN0aW5hdGlvbixiKSk6KGEuc3RhdHVzPTEsYS5mYXRhbEVycm9yPWIpfVxuZnVuY3Rpb24gV2MoYSxiLGMsZCxmKXtSPXt9O0FjPWI7VT0wO2ZvcihhPWMoZCxmKTtDYzspQ2M9ITEsVT0wLERjKz0xLFM9bnVsbCxhPWMoZCxmKTtHYygpO3JldHVybiBhfWZ1bmN0aW9uIFhjKGEsYixjLGQpe3ZhciBmPWMucmVuZGVyKCksZT1kLmNoaWxkQ29udGV4dFR5cGVzO2lmKG51bGwhPT1lJiZ2b2lkIDAhPT1lKXt2YXIgZz1iLmxlZ2FjeUNvbnRleHQ7aWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIGMuZ2V0Q2hpbGRDb250ZXh0KWQ9ZztlbHNle2M9Yy5nZXRDaGlsZENvbnRleHQoKTtmb3IodmFyIGggaW4gYylpZighKGggaW4gZSkpdGhyb3cgRXJyb3IoaygxMDgsamMoZCl8fFwiVW5rbm93blwiLGgpKTtkPU4oe30sZyxjKX1iLmxlZ2FjeUNvbnRleHQ9ZDtaKGEsYixmKTtiLmxlZ2FjeUNvbnRleHQ9Z31lbHNlIFooYSxiLGYpfVxuZnVuY3Rpb24gWWMoYSxiKXtpZihhJiZhLmRlZmF1bHRQcm9wcyl7Yj1OKHt9LGIpO2E9YS5kZWZhdWx0UHJvcHM7Zm9yKHZhciBjIGluIGEpdm9pZCAwPT09YltjXSYmKGJbY109YVtjXSk7cmV0dXJuIGJ9cmV0dXJuIGJ9XG5mdW5jdGlvbiBaYyhhLGIsYyxkLGYpe2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBjKWlmKGMucHJvdG90eXBlJiZjLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KXtmPWxjKGMsYi5sZWdhY3lDb250ZXh0KTt2YXIgZT1jLmNvbnRleHRUeXBlO2U9bmV3IGMoZCxcIm9iamVjdFwiPT09dHlwZW9mIGUmJm51bGwhPT1lP2UuX2N1cnJlbnRWYWx1ZTpmKTtyYyhlLGMsZCxmKTtYYyhhLGIsZSxjKX1lbHNle2U9bGMoYyxiLmxlZ2FjeUNvbnRleHQpO2Y9V2MoYSxiLGMsZCxlKTt2YXIgZz0wIT09VTtpZihcIm9iamVjdFwiPT09dHlwZW9mIGYmJm51bGwhPT1mJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZi5yZW5kZXImJnZvaWQgMD09PWYuJCR0eXBlb2YpcmMoZixjLGQsZSksWGMoYSxiLGYsYyk7ZWxzZSBpZihnKXtkPWIudHJlZUNvbnRleHQ7Yi50cmVlQ29udGV4dD10YyhkLDEsMCk7dHJ5e1ooYSxiLGYpfWZpbmFsbHl7Yi50cmVlQ29udGV4dD1kfX1lbHNlIFooYSxiLGYpfWVsc2UgaWYoXCJzdHJpbmdcIj09PVxudHlwZW9mIGMpe2Y9Yi5ibG9ja2VkU2VnbWVudDtlPVNhKGYuY2h1bmtzLGMsZCxhLnJlc3BvbnNlU3RhdGUsZi5mb3JtYXRDb250ZXh0KTtmLmxhc3RQdXNoZWRUZXh0PSExO2c9Zi5mb3JtYXRDb250ZXh0O2YuZm9ybWF0Q29udGV4dD1CYShnLGMsZCk7JGMoYSxiLGUpO2YuZm9ybWF0Q29udGV4dD1nO3N3aXRjaChjKXtjYXNlIFwiYXJlYVwiOmNhc2UgXCJiYXNlXCI6Y2FzZSBcImJyXCI6Y2FzZSBcImNvbFwiOmNhc2UgXCJlbWJlZFwiOmNhc2UgXCJoclwiOmNhc2UgXCJpbWdcIjpjYXNlIFwiaW5wdXRcIjpjYXNlIFwia2V5Z2VuXCI6Y2FzZSBcImxpbmtcIjpjYXNlIFwibWV0YVwiOmNhc2UgXCJwYXJhbVwiOmNhc2UgXCJzb3VyY2VcIjpjYXNlIFwidHJhY2tcIjpjYXNlIFwid2JyXCI6YnJlYWs7ZGVmYXVsdDpmLmNodW5rcy5wdXNoKFRhLHUoYyksVWEpfWYubGFzdFB1c2hlZFRleHQ9ITF9ZWxzZXtzd2l0Y2goYyl7Y2FzZSBnYzpjYXNlIGZjOmNhc2UgV2I6Y2FzZSBYYjpjYXNlIFZiOlooYSxiLGQuY2hpbGRyZW4pO3JldHVybjtcbmNhc2UgYmM6WihhLGIsZC5jaGlsZHJlbik7cmV0dXJuO2Nhc2UgZWM6dGhyb3cgRXJyb3IoaygzNDMpKTtjYXNlIGFjOmE6e2M9Yi5ibG9ja2VkQm91bmRhcnk7Zj1iLmJsb2NrZWRTZWdtZW50O2U9ZC5mYWxsYmFjaztkPWQuY2hpbGRyZW47Zz1uZXcgU2V0O3ZhciBoPXtpZDpudWxsLHJvb3RTZWdtZW50SUQ6LTEscGFyZW50Rmx1c2hlZDohMSxwZW5kaW5nVGFza3M6MCxmb3JjZUNsaWVudFJlbmRlcjohMSxjb21wbGV0ZWRTZWdtZW50czpbXSxieXRlU2l6ZTowLGZhbGxiYWNrQWJvcnRhYmxlVGFza3M6ZyxlcnJvckRpZ2VzdDpudWxsfSxtPVNjKGEsZi5jaHVua3MubGVuZ3RoLGgsZi5mb3JtYXRDb250ZXh0LCExLCExKTtmLmNoaWxkcmVuLnB1c2gobSk7Zi5sYXN0UHVzaGVkVGV4dD0hMTt2YXIgcT1TYyhhLDAsbnVsbCxmLmZvcm1hdENvbnRleHQsITEsITEpO3EucGFyZW50Rmx1c2hlZD0hMDtiLmJsb2NrZWRCb3VuZGFyeT1oO2IuYmxvY2tlZFNlZ21lbnQ9cTt0cnl7aWYoJGMoYSxcbmIsZCkscS5sYXN0UHVzaGVkVGV4dCYmcS50ZXh0RW1iZWRkZWQmJnEuY2h1bmtzLnB1c2goQ2EpLHEuc3RhdHVzPTEsYWQoaCxxKSwwPT09aC5wZW5kaW5nVGFza3MpYnJlYWsgYX1jYXRjaChyKXtxLnN0YXR1cz00LGguZm9yY2VDbGllbnRSZW5kZXI9ITAsaC5lcnJvckRpZ2VzdD1ZKGEscil9ZmluYWxseXtiLmJsb2NrZWRCb3VuZGFyeT1jLGIuYmxvY2tlZFNlZ21lbnQ9Zn1iPVRjKGEsZSxjLG0sZyxiLmxlZ2FjeUNvbnRleHQsYi5jb250ZXh0LGIudHJlZUNvbnRleHQpO2EucGluZ2VkVGFza3MucHVzaChiKX1yZXR1cm59aWYoXCJvYmplY3RcIj09PXR5cGVvZiBjJiZudWxsIT09Yylzd2l0Y2goYy4kJHR5cGVvZil7Y2FzZSAkYjpkPVdjKGEsYixjLnJlbmRlcixkLGYpO2lmKDAhPT1VKXtjPWIudHJlZUNvbnRleHQ7Yi50cmVlQ29udGV4dD10YyhjLDEsMCk7dHJ5e1ooYSxiLGQpfWZpbmFsbHl7Yi50cmVlQ29udGV4dD1jfX1lbHNlIFooYSxiLGQpO3JldHVybjtjYXNlIGNjOmM9XG5jLnR5cGU7ZD1ZYyhjLGQpO1pjKGEsYixjLGQsZik7cmV0dXJuO2Nhc2UgWWI6Zj1kLmNoaWxkcmVuO2M9Yy5fY29udGV4dDtkPWQudmFsdWU7ZT1jLl9jdXJyZW50VmFsdWU7Yy5fY3VycmVudFZhbHVlPWQ7Zz1PO089ZD17cGFyZW50OmcsZGVwdGg6bnVsbD09PWc/MDpnLmRlcHRoKzEsY29udGV4dDpjLHBhcmVudFZhbHVlOmUsdmFsdWU6ZH07Yi5jb250ZXh0PWQ7WihhLGIsZik7YT1PO2lmKG51bGw9PT1hKXRocm93IEVycm9yKGsoNDAzKSk7ZD1hLnBhcmVudFZhbHVlO2EuY29udGV4dC5fY3VycmVudFZhbHVlPWQ9PT1oYz9hLmNvbnRleHQuX2RlZmF1bHRWYWx1ZTpkO2E9Tz1hLnBhcmVudDtiLmNvbnRleHQ9YTtyZXR1cm47Y2FzZSBaYjpkPWQuY2hpbGRyZW47ZD1kKGMuX2N1cnJlbnRWYWx1ZSk7WihhLGIsZCk7cmV0dXJuO2Nhc2UgZGM6Zj1jLl9pbml0O2M9ZihjLl9wYXlsb2FkKTtkPVljKGMsZCk7WmMoYSxiLGMsZCx2b2lkIDApO3JldHVybn10aHJvdyBFcnJvcihrKDEzMCxcbm51bGw9PWM/Yzp0eXBlb2YgYyxcIlwiKSk7fX1cbmZ1bmN0aW9uIFooYSxiLGMpe2Iubm9kZT1jO2lmKFwib2JqZWN0XCI9PT10eXBlb2YgYyYmbnVsbCE9PWMpe3N3aXRjaChjLiQkdHlwZW9mKXtjYXNlIFRiOlpjKGEsYixjLnR5cGUsYy5wcm9wcyxjLnJlZik7cmV0dXJuO2Nhc2UgVWI6dGhyb3cgRXJyb3IoaygyNTcpKTtjYXNlIGRjOnZhciBkPWMuX2luaXQ7Yz1kKGMuX3BheWxvYWQpO1ooYSxiLGMpO3JldHVybn1pZihyYShjKSl7YmQoYSxiLGMpO3JldHVybn1udWxsPT09Y3x8XCJvYmplY3RcIiE9PXR5cGVvZiBjP2Q9bnVsbDooZD1pYyYmY1tpY118fGNbXCJAQGl0ZXJhdG9yXCJdLGQ9XCJmdW5jdGlvblwiPT09dHlwZW9mIGQ/ZDpudWxsKTtpZihkJiYoZD1kLmNhbGwoYykpKXtjPWQubmV4dCgpO2lmKCFjLmRvbmUpe3ZhciBmPVtdO2RvIGYucHVzaChjLnZhbHVlKSxjPWQubmV4dCgpO3doaWxlKCFjLmRvbmUpO2JkKGEsYixmKX1yZXR1cm59YT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYyk7dGhyb3cgRXJyb3IoaygzMSxcIltvYmplY3QgT2JqZWN0XVwiPT09XG5hP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXMoYykuam9pbihcIiwgXCIpK1wifVwiOmEpKTt9XCJzdHJpbmdcIj09PXR5cGVvZiBjPyhkPWIuYmxvY2tlZFNlZ21lbnQsZC5sYXN0UHVzaGVkVGV4dD1EYShiLmJsb2NrZWRTZWdtZW50LmNodW5rcyxjLGEucmVzcG9uc2VTdGF0ZSxkLmxhc3RQdXNoZWRUZXh0KSk6XCJudW1iZXJcIj09PXR5cGVvZiBjJiYoZD1iLmJsb2NrZWRTZWdtZW50LGQubGFzdFB1c2hlZFRleHQ9RGEoYi5ibG9ja2VkU2VnbWVudC5jaHVua3MsXCJcIitjLGEucmVzcG9uc2VTdGF0ZSxkLmxhc3RQdXNoZWRUZXh0KSl9ZnVuY3Rpb24gYmQoYSxiLGMpe2Zvcih2YXIgZD1jLmxlbmd0aCxmPTA7ZjxkO2YrKyl7dmFyIGU9Yi50cmVlQ29udGV4dDtiLnRyZWVDb250ZXh0PXRjKGUsZCxmKTt0cnl7JGMoYSxiLGNbZl0pfWZpbmFsbHl7Yi50cmVlQ29udGV4dD1lfX19XG5mdW5jdGlvbiAkYyhhLGIsYyl7dmFyIGQ9Yi5ibG9ja2VkU2VnbWVudC5mb3JtYXRDb250ZXh0LGY9Yi5sZWdhY3lDb250ZXh0LGU9Yi5jb250ZXh0O3RyeXtyZXR1cm4gWihhLGIsYyl9Y2F0Y2gobSl7aWYoR2MoKSxcIm9iamVjdFwiPT09dHlwZW9mIG0mJm51bGwhPT1tJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgbS50aGVuKXtjPW07dmFyIGc9Yi5ibG9ja2VkU2VnbWVudCxoPVNjKGEsZy5jaHVua3MubGVuZ3RoLG51bGwsZy5mb3JtYXRDb250ZXh0LGcubGFzdFB1c2hlZFRleHQsITApO2cuY2hpbGRyZW4ucHVzaChoKTtnLmxhc3RQdXNoZWRUZXh0PSExO2E9VGMoYSxiLm5vZGUsYi5ibG9ja2VkQm91bmRhcnksaCxiLmFib3J0U2V0LGIubGVnYWN5Q29udGV4dCxiLmNvbnRleHQsYi50cmVlQ29udGV4dCkucGluZztjLnRoZW4oYSxhKTtiLmJsb2NrZWRTZWdtZW50LmZvcm1hdENvbnRleHQ9ZDtiLmxlZ2FjeUNvbnRleHQ9ZjtiLmNvbnRleHQ9ZTtRKGUpfWVsc2UgdGhyb3cgYi5ibG9ja2VkU2VnbWVudC5mb3JtYXRDb250ZXh0PVxuZCxiLmxlZ2FjeUNvbnRleHQ9ZixiLmNvbnRleHQ9ZSxRKGUpLG07fX1mdW5jdGlvbiBjZChhKXt2YXIgYj1hLmJsb2NrZWRCb3VuZGFyeTthPWEuYmxvY2tlZFNlZ21lbnQ7YS5zdGF0dXM9MztkZCh0aGlzLGIsYSl9XG5mdW5jdGlvbiBlZChhLGIsYyl7dmFyIGQ9YS5ibG9ja2VkQm91bmRhcnk7YS5ibG9ja2VkU2VnbWVudC5zdGF0dXM9MztudWxsPT09ZD8oYi5hbGxQZW5kaW5nVGFza3MtLSwyIT09Yi5zdGF0dXMmJihiLnN0YXR1cz0yLG51bGwhPT1iLmRlc3RpbmF0aW9uJiZiLmRlc3RpbmF0aW9uLmNsb3NlKCkpKTooZC5wZW5kaW5nVGFza3MtLSxkLmZvcmNlQ2xpZW50UmVuZGVyfHwoZC5mb3JjZUNsaWVudFJlbmRlcj0hMCxhPXZvaWQgMD09PWM/RXJyb3Ioayg0MzIpKTpjLGQuZXJyb3JEaWdlc3Q9Yi5vbkVycm9yKGEpLGQucGFyZW50Rmx1c2hlZCYmYi5jbGllbnRSZW5kZXJlZEJvdW5kYXJpZXMucHVzaChkKSksZC5mYWxsYmFja0Fib3J0YWJsZVRhc2tzLmZvckVhY2goZnVuY3Rpb24oYSl7cmV0dXJuIGVkKGEsYixjKX0pLGQuZmFsbGJhY2tBYm9ydGFibGVUYXNrcy5jbGVhcigpLGIuYWxsUGVuZGluZ1Rhc2tzLS0sMD09PWIuYWxsUGVuZGluZ1Rhc2tzJiYoZD1iLm9uQWxsUmVhZHksZCgpKSl9XG5mdW5jdGlvbiBhZChhLGIpe2lmKDA9PT1iLmNodW5rcy5sZW5ndGgmJjE9PT1iLmNoaWxkcmVuLmxlbmd0aCYmbnVsbD09PWIuY2hpbGRyZW5bMF0uYm91bmRhcnkpe3ZhciBjPWIuY2hpbGRyZW5bMF07Yy5pZD1iLmlkO2MucGFyZW50Rmx1c2hlZD0hMDsxPT09Yy5zdGF0dXMmJmFkKGEsYyl9ZWxzZSBhLmNvbXBsZXRlZFNlZ21lbnRzLnB1c2goYil9XG5mdW5jdGlvbiBkZChhLGIsYyl7aWYobnVsbD09PWIpe2lmKGMucGFyZW50Rmx1c2hlZCl7aWYobnVsbCE9PWEuY29tcGxldGVkUm9vdFNlZ21lbnQpdGhyb3cgRXJyb3IoaygzODkpKTthLmNvbXBsZXRlZFJvb3RTZWdtZW50PWN9YS5wZW5kaW5nUm9vdFRhc2tzLS07MD09PWEucGVuZGluZ1Jvb3RUYXNrcyYmKGEub25TaGVsbEVycm9yPVgsYj1hLm9uU2hlbGxSZWFkeSxiKCkpfWVsc2UgYi5wZW5kaW5nVGFza3MtLSxiLmZvcmNlQ2xpZW50UmVuZGVyfHwoMD09PWIucGVuZGluZ1Rhc2tzPyhjLnBhcmVudEZsdXNoZWQmJjE9PT1jLnN0YXR1cyYmYWQoYixjKSxiLnBhcmVudEZsdXNoZWQmJmEuY29tcGxldGVkQm91bmRhcmllcy5wdXNoKGIpLGIuZmFsbGJhY2tBYm9ydGFibGVUYXNrcy5mb3JFYWNoKGNkLGEpLGIuZmFsbGJhY2tBYm9ydGFibGVUYXNrcy5jbGVhcigpKTpjLnBhcmVudEZsdXNoZWQmJjE9PT1jLnN0YXR1cyYmKGFkKGIsYyksMT09PWIuY29tcGxldGVkU2VnbWVudHMubGVuZ3RoJiZcbmIucGFyZW50Rmx1c2hlZCYmYS5wYXJ0aWFsQm91bmRhcmllcy5wdXNoKGIpKSk7YS5hbGxQZW5kaW5nVGFza3MtLTswPT09YS5hbGxQZW5kaW5nVGFza3MmJihhPWEub25BbGxSZWFkeSxhKCkpfVxuZnVuY3Rpb24gVWMoYSl7aWYoMiE9PWEuc3RhdHVzKXt2YXIgYj1PLGM9UGMuY3VycmVudDtQYy5jdXJyZW50PU9jO3ZhciBkPU5jO05jPWEucmVzcG9uc2VTdGF0ZTt0cnl7dmFyIGY9YS5waW5nZWRUYXNrcyxlO2ZvcihlPTA7ZTxmLmxlbmd0aDtlKyspe3ZhciBnPWZbZV07dmFyIGg9YSxtPWcuYmxvY2tlZFNlZ21lbnQ7aWYoMD09PW0uc3RhdHVzKXtRKGcuY29udGV4dCk7dHJ5e1ooaCxnLGcubm9kZSksbS5sYXN0UHVzaGVkVGV4dCYmbS50ZXh0RW1iZWRkZWQmJm0uY2h1bmtzLnB1c2goQ2EpLGcuYWJvcnRTZXQuZGVsZXRlKGcpLG0uc3RhdHVzPTEsZGQoaCxnLmJsb2NrZWRCb3VuZGFyeSxtKX1jYXRjaChHKXtpZihHYygpLFwib2JqZWN0XCI9PT10eXBlb2YgRyYmbnVsbCE9PUcmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBHLnRoZW4pe3ZhciBxPWcucGluZztHLnRoZW4ocSxxKX1lbHNle2cuYWJvcnRTZXQuZGVsZXRlKGcpO20uc3RhdHVzPTQ7dmFyIHI9Zy5ibG9ja2VkQm91bmRhcnksXG52PUcsQT1ZKGgsdik7bnVsbD09PXI/VmMoaCx2KTooci5wZW5kaW5nVGFza3MtLSxyLmZvcmNlQ2xpZW50UmVuZGVyfHwoci5mb3JjZUNsaWVudFJlbmRlcj0hMCxyLmVycm9yRGlnZXN0PUEsci5wYXJlbnRGbHVzaGVkJiZoLmNsaWVudFJlbmRlcmVkQm91bmRhcmllcy5wdXNoKHIpKSk7aC5hbGxQZW5kaW5nVGFza3MtLTtpZigwPT09aC5hbGxQZW5kaW5nVGFza3Mpe3ZhciBGPWgub25BbGxSZWFkeTtGKCl9fX1maW5hbGx5e319fWYuc3BsaWNlKDAsZSk7bnVsbCE9PWEuZGVzdGluYXRpb24mJmZkKGEsYS5kZXN0aW5hdGlvbil9Y2F0Y2goRyl7WShhLEcpLFZjKGEsRyl9ZmluYWxseXtOYz1kLFBjLmN1cnJlbnQ9YyxjPT09T2MmJlEoYil9fX1cbmZ1bmN0aW9uIGdkKGEsYixjKXtjLnBhcmVudEZsdXNoZWQ9ITA7c3dpdGNoKGMuc3RhdHVzKXtjYXNlIDA6dmFyIGQ9Yy5pZD1hLm5leHRTZWdtZW50SWQrKztjLmxhc3RQdXNoZWRUZXh0PSExO2MudGV4dEVtYmVkZGVkPSExO2E9YS5yZXNwb25zZVN0YXRlO3AoYixWYSk7cChiLGEucGxhY2Vob2xkZXJQcmVmaXgpO2E9dShkLnRvU3RyaW5nKDE2KSk7cChiLGEpO3JldHVybiB0KGIsV2EpO2Nhc2UgMTpjLnN0YXR1cz0yO3ZhciBmPSEwO2Q9Yy5jaHVua3M7dmFyIGU9MDtjPWMuY2hpbGRyZW47Zm9yKHZhciBnPTA7ZzxjLmxlbmd0aDtnKyspe2ZvcihmPWNbZ107ZTxmLmluZGV4O2UrKylwKGIsZFtlXSk7Zj1oZChhLGIsZil9Zm9yKDtlPGQubGVuZ3RoLTE7ZSsrKXAoYixkW2VdKTtlPGQubGVuZ3RoJiYoZj10KGIsZFtlXSkpO3JldHVybiBmO2RlZmF1bHQ6dGhyb3cgRXJyb3IoaygzOTApKTt9fVxuZnVuY3Rpb24gaGQoYSxiLGMpe3ZhciBkPWMuYm91bmRhcnk7aWYobnVsbD09PWQpcmV0dXJuIGdkKGEsYixjKTtkLnBhcmVudEZsdXNoZWQ9ITA7aWYoZC5mb3JjZUNsaWVudFJlbmRlcilkPWQuZXJyb3JEaWdlc3QsdChiLCRhKSxwKGIsYmIpLGQmJihwKGIsZGIpLHAoYix1KEMoZCkpKSxwKGIsY2IpKSx0KGIsZWIpLGdkKGEsYixjKTtlbHNlIGlmKDA8ZC5wZW5kaW5nVGFza3Mpe2Qucm9vdFNlZ21lbnRJRD1hLm5leHRTZWdtZW50SWQrKzswPGQuY29tcGxldGVkU2VnbWVudHMubGVuZ3RoJiZhLnBhcnRpYWxCb3VuZGFyaWVzLnB1c2goZCk7dmFyIGY9YS5yZXNwb25zZVN0YXRlO3ZhciBlPWYubmV4dFN1c3BlbnNlSUQrKztmPXcoZi5ib3VuZGFyeVByZWZpeCtlLnRvU3RyaW5nKDE2KSk7ZD1kLmlkPWY7ZmIoYixhLnJlc3BvbnNlU3RhdGUsZCk7Z2QoYSxiLGMpfWVsc2UgaWYoZC5ieXRlU2l6ZT5hLnByb2dyZXNzaXZlQ2h1bmtTaXplKWQucm9vdFNlZ21lbnRJRD1hLm5leHRTZWdtZW50SWQrKyxcbmEuY29tcGxldGVkQm91bmRhcmllcy5wdXNoKGQpLGZiKGIsYS5yZXNwb25zZVN0YXRlLGQuaWQpLGdkKGEsYixjKTtlbHNle3QoYixYYSk7Yz1kLmNvbXBsZXRlZFNlZ21lbnRzO2lmKDEhPT1jLmxlbmd0aCl0aHJvdyBFcnJvcihrKDM5MSkpO2hkKGEsYixjWzBdKX1yZXR1cm4gdChiLGFiKX1mdW5jdGlvbiBpZChhLGIsYyl7QmIoYixhLnJlc3BvbnNlU3RhdGUsYy5mb3JtYXRDb250ZXh0LGMuaWQpO2hkKGEsYixjKTtyZXR1cm4gQ2IoYixjLmZvcm1hdENvbnRleHQpfVxuZnVuY3Rpb24gamQoYSxiLGMpe2Zvcih2YXIgZD1jLmNvbXBsZXRlZFNlZ21lbnRzLGY9MDtmPGQubGVuZ3RoO2YrKylrZChhLGIsYyxkW2ZdKTtkLmxlbmd0aD0wO2E9YS5yZXNwb25zZVN0YXRlO2Q9Yy5pZDtjPWMucm9vdFNlZ21lbnRJRDtwKGIsYS5zdGFydElubGluZVNjcmlwdCk7YS5zZW50Q29tcGxldGVCb3VuZGFyeUZ1bmN0aW9uP3AoYixKYik6KGEuc2VudENvbXBsZXRlQm91bmRhcnlGdW5jdGlvbj0hMCxwKGIsSWIpKTtpZihudWxsPT09ZCl0aHJvdyBFcnJvcihrKDM5NSkpO2M9dShjLnRvU3RyaW5nKDE2KSk7cChiLGQpO3AoYixLYik7cChiLGEuc2VnbWVudFByZWZpeCk7cChiLGMpO3JldHVybiB0KGIsTGIpfVxuZnVuY3Rpb24ga2QoYSxiLGMsZCl7aWYoMj09PWQuc3RhdHVzKXJldHVybiEwO3ZhciBmPWQuaWQ7aWYoLTE9PT1mKXtpZigtMT09PShkLmlkPWMucm9vdFNlZ21lbnRJRCkpdGhyb3cgRXJyb3IoaygzOTIpKTtyZXR1cm4gaWQoYSxiLGQpfWlkKGEsYixkKTthPWEucmVzcG9uc2VTdGF0ZTtwKGIsYS5zdGFydElubGluZVNjcmlwdCk7YS5zZW50Q29tcGxldGVTZWdtZW50RnVuY3Rpb24/cChiLEViKTooYS5zZW50Q29tcGxldGVTZWdtZW50RnVuY3Rpb249ITAscChiLERiKSk7cChiLGEuc2VnbWVudFByZWZpeCk7Zj11KGYudG9TdHJpbmcoMTYpKTtwKGIsZik7cChiLEdiKTtwKGIsYS5wbGFjZWhvbGRlclByZWZpeCk7cChiLGYpO3JldHVybiB0KGIsSGIpfVxuZnVuY3Rpb24gZmQoYSxiKXtsPW5ldyBVaW50OEFycmF5KDUxMik7bj0wO3RyeXt2YXIgYz1hLmNvbXBsZXRlZFJvb3RTZWdtZW50O2lmKG51bGwhPT1jJiYwPT09YS5wZW5kaW5nUm9vdFRhc2tzKXtoZChhLGIsYyk7YS5jb21wbGV0ZWRSb290U2VnbWVudD1udWxsO3ZhciBkPWEucmVzcG9uc2VTdGF0ZS5ib290c3RyYXBDaHVua3M7Zm9yKGM9MDtjPGQubGVuZ3RoLTE7YysrKXAoYixkW2NdKTtjPGQubGVuZ3RoJiZ0KGIsZFtjXSl9dmFyIGY9YS5jbGllbnRSZW5kZXJlZEJvdW5kYXJpZXMsZTtmb3IoZT0wO2U8Zi5sZW5ndGg7ZSsrKXt2YXIgZz1mW2VdO2Q9Yjt2YXIgaD1hLnJlc3BvbnNlU3RhdGUsbT1nLmlkLHE9Zy5lcnJvckRpZ2VzdCxyPWcuZXJyb3JNZXNzYWdlLHY9Zy5lcnJvckNvbXBvbmVudFN0YWNrO3AoZCxoLnN0YXJ0SW5saW5lU2NyaXB0KTtoLnNlbnRDbGllbnRSZW5kZXJGdW5jdGlvbj9wKGQsTmIpOihoLnNlbnRDbGllbnRSZW5kZXJGdW5jdGlvbj0hMCxwKGQsXG5NYikpO2lmKG51bGw9PT1tKXRocm93IEVycm9yKGsoMzk1KSk7cChkLG0pO3AoZCxPYik7aWYocXx8cnx8dilwKGQsUWIpLHAoZCx1KFNiKHF8fFwiXCIpKSk7aWYocnx8dilwKGQsUWIpLHAoZCx1KFNiKHJ8fFwiXCIpKSk7diYmKHAoZCxRYikscChkLHUoU2IodikpKSk7aWYoIXQoZCxQYikpe2EuZGVzdGluYXRpb249bnVsbDtlKys7Zi5zcGxpY2UoMCxlKTtyZXR1cm59fWYuc3BsaWNlKDAsZSk7dmFyIEE9YS5jb21wbGV0ZWRCb3VuZGFyaWVzO2ZvcihlPTA7ZTxBLmxlbmd0aDtlKyspaWYoIWpkKGEsYixBW2VdKSl7YS5kZXN0aW5hdGlvbj1udWxsO2UrKztBLnNwbGljZSgwLGUpO3JldHVybn1BLnNwbGljZSgwLGUpO2JhKGIpO2w9bmV3IFVpbnQ4QXJyYXkoNTEyKTtuPTA7dmFyIEY9YS5wYXJ0aWFsQm91bmRhcmllcztmb3IoZT0wO2U8Ri5sZW5ndGg7ZSsrKXt2YXIgRz1GW2VdO2E6e2Y9YTtnPWI7dmFyIG1hPUcuY29tcGxldGVkU2VnbWVudHM7Zm9yKGg9MDtoPG1hLmxlbmd0aDtoKyspaWYoIWtkKGYsXG5nLEcsbWFbaF0pKXtoKys7bWEuc3BsaWNlKDAsaCk7dmFyIEZiPSExO2JyZWFrIGF9bWEuc3BsaWNlKDAsaCk7RmI9ITB9aWYoIUZiKXthLmRlc3RpbmF0aW9uPW51bGw7ZSsrO0Yuc3BsaWNlKDAsZSk7cmV0dXJufX1GLnNwbGljZSgwLGUpO3ZhciBuYT1hLmNvbXBsZXRlZEJvdW5kYXJpZXM7Zm9yKGU9MDtlPG5hLmxlbmd0aDtlKyspaWYoIWpkKGEsYixuYVtlXSkpe2EuZGVzdGluYXRpb249bnVsbDtlKys7bmEuc3BsaWNlKDAsZSk7cmV0dXJufW5hLnNwbGljZSgwLGUpfWZpbmFsbHl7YmEoYiksMD09PWEuYWxsUGVuZGluZ1Rhc2tzJiYwPT09YS5waW5nZWRUYXNrcy5sZW5ndGgmJjA9PT1hLmNsaWVudFJlbmRlcmVkQm91bmRhcmllcy5sZW5ndGgmJjA9PT1hLmNvbXBsZXRlZEJvdW5kYXJpZXMubGVuZ3RoJiZiLmNsb3NlKCl9fVxuZnVuY3Rpb24gbGQoYSxiKXt0cnl7dmFyIGM9YS5hYm9ydGFibGVUYXNrcztjLmZvckVhY2goZnVuY3Rpb24oYyl7cmV0dXJuIGVkKGMsYSxiKX0pO2MuY2xlYXIoKTtudWxsIT09YS5kZXN0aW5hdGlvbiYmZmQoYSxhLmRlc3RpbmF0aW9uKX1jYXRjaChkKXtZKGEsZCksVmMoYSxkKX19XG5leHBvcnRzLnJlbmRlclRvUmVhZGFibGVTdHJlYW09ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oYyxkKXt2YXIgZixlLGc9bmV3IFByb21pc2UoZnVuY3Rpb24oYSxiKXtlPWE7Zj1ifSksaD1SYyhhLHphKGI/Yi5pZGVudGlmaWVyUHJlZml4OnZvaWQgMCxiP2Iubm9uY2U6dm9pZCAwLGI/Yi5ib290c3RyYXBTY3JpcHRDb250ZW50OnZvaWQgMCxiP2IuYm9vdHN0cmFwU2NyaXB0czp2b2lkIDAsYj9iLmJvb3RzdHJhcE1vZHVsZXM6dm9pZCAwKSxBYShiP2IubmFtZXNwYWNlVVJJOnZvaWQgMCksYj9iLnByb2dyZXNzaXZlQ2h1bmtTaXplOnZvaWQgMCxiP2Iub25FcnJvcjp2b2lkIDAsZSxmdW5jdGlvbigpe3ZhciBhPW5ldyBSZWFkYWJsZVN0cmVhbSh7dHlwZTpcImJ5dGVzXCIscHVsbDpmdW5jdGlvbihhKXtpZigxPT09aC5zdGF0dXMpaC5zdGF0dXM9MixkYShhLGguZmF0YWxFcnJvcik7ZWxzZSBpZigyIT09aC5zdGF0dXMmJm51bGw9PT1oLmRlc3RpbmF0aW9uKXtoLmRlc3RpbmF0aW9uPVxuYTt0cnl7ZmQoaCxhKX1jYXRjaChBKXtZKGgsQSksVmMoaCxBKX19fSxjYW5jZWw6ZnVuY3Rpb24oKXtsZChoKX19LHtoaWdoV2F0ZXJNYXJrOjB9KTthLmFsbFJlYWR5PWc7YyhhKX0sZnVuY3Rpb24oYSl7Zy5jYXRjaChmdW5jdGlvbigpe30pO2QoYSl9LGYpO2lmKGImJmIuc2lnbmFsKXt2YXIgbT1iLnNpZ25hbCxxPWZ1bmN0aW9uKCl7bGQoaCxtLnJlYXNvbik7bS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixxKX07bS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixxKX1VYyhoKX0pfTtleHBvcnRzLnZlcnNpb249XCIxOC4yLjBcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///38698\n')},20745:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("var __webpack_unused_export__;\n\n\nvar m = __webpack_require__(61533);\nif (true) {\n  __webpack_unused_export__ = m.createRoot;\n  exports.a = m.hydrateRoot;\n} else { var i; }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjA3NDUuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2NsaWVudC5qcz8xMWIxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIG0gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGV4cG9ydHMuY3JlYXRlUm9vdCA9IG0uY3JlYXRlUm9vdDtcbiAgZXhwb3J0cy5oeWRyYXRlUm9vdCA9IG0uaHlkcmF0ZVJvb3Q7XG59IGVsc2Uge1xuICB2YXIgaSA9IG0uX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG4gIGV4cG9ydHMuY3JlYXRlUm9vdCA9IGZ1bmN0aW9uKGMsIG8pIHtcbiAgICBpLnVzaW5nQ2xpZW50RW50cnlQb2ludCA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBtLmNyZWF0ZVJvb3QoYywgbyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGkudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gZmFsc2U7XG4gICAgfVxuICB9O1xuICBleHBvcnRzLmh5ZHJhdGVSb290ID0gZnVuY3Rpb24oYywgaCwgbykge1xuICAgIGkudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG0uaHlkcmF0ZVJvb3QoYywgaCwgbyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGkudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gZmFsc2U7XG4gICAgfVxuICB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20745\n")},97762:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("var __webpack_unused_export__;\n\n\nvar l, s;\nif (true) {\n  l = __webpack_require__(87774);\n  s = __webpack_require__(38698);\n} else {}\n\n__webpack_unused_export__ = l.version;\n__webpack_unused_export__ = l.renderToString;\n__webpack_unused_export__ = l.renderToStaticMarkup;\n__webpack_unused_export__ = l.renderToNodeStream;\n__webpack_unused_export__ = l.renderToStaticNodeStream;\n__webpack_unused_export__ = s.renderToReadableStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTc3NjIuanMiLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vc2VydmVyLmJyb3dzZXIuanM/MjgwYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBsLCBzO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbCA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS1zZXJ2ZXItbGVnYWN5LmJyb3dzZXIucHJvZHVjdGlvbi5taW4uanMnKTtcbiAgcyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS1zZXJ2ZXIuYnJvd3Nlci5wcm9kdWN0aW9uLm1pbi5qcycpO1xufSBlbHNlIHtcbiAgbCA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS1zZXJ2ZXItbGVnYWN5LmJyb3dzZXIuZGV2ZWxvcG1lbnQuanMnKTtcbiAgcyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS1zZXJ2ZXIuYnJvd3Nlci5kZXZlbG9wbWVudC5qcycpO1xufVxuXG5leHBvcnRzLnZlcnNpb24gPSBsLnZlcnNpb247XG5leHBvcnRzLnJlbmRlclRvU3RyaW5nID0gbC5yZW5kZXJUb1N0cmluZztcbmV4cG9ydHMucmVuZGVyVG9TdGF0aWNNYXJrdXAgPSBsLnJlbmRlclRvU3RhdGljTWFya3VwO1xuZXhwb3J0cy5yZW5kZXJUb05vZGVTdHJlYW0gPSBsLnJlbmRlclRvTm9kZVN0cmVhbTtcbmV4cG9ydHMucmVuZGVyVG9TdGF0aWNOb2RlU3RyZWFtID0gbC5yZW5kZXJUb1N0YXRpY05vZGVTdHJlYW07XG5leHBvcnRzLnJlbmRlclRvUmVhZGFibGVTdHJlYW0gPSBzLnJlbmRlclRvUmVhZGFibGVTdHJlYW07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///97762\n")},75628:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   V7: () => (/* binding */ nodeDynamicConfigCache)\n/* harmony export */ });\n/* unused harmony exports getDynamicConfig, onConfigUpdated */\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70655);\n/* harmony import */ var _shared_apis_request__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(80000);\n/* harmony import */ var _shared_lib_DataCache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21861);\n/* harmony import */ var _shared_lib_deepMerge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(49691);\n/* harmony import */ var _shared_lib_time__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(96846);\nObject(function webpackMissingModule() { var e = new Error(\"Cannot find module '../config/config'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n/* harmony import */ var _lib_local__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(96497);\n\n\n\n\n\n // Have to import config directly. Can't use getConfig. Timing issue\n\nvar listeners = [];\nvar nodeDynamicConfigCache = new _shared_lib_DataCache__WEBPACK_IMPORTED_MODULE_1__/* .DataCache */ .l(function () { return (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__awaiter */ .mG)(void 0, void 0, void 0, function () {\n    var dynamicConfig, localConfig;\n    return (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__generator */ .Jh)(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, _shared_apis_request__WEBPACK_IMPORTED_MODULE_3__/* .request */ .WY.get(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module '../config/config'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())._dynamicConfig)];\n            case 1:\n                dynamicConfig = _a.sent();\n                if ((0,_lib_local__WEBPACK_IMPORTED_MODULE_4__/* .isLocal */ .D)()) {\n                    try {\n                        localConfig = eval('require')('./local.dynamicConfig.json');\n                        if (localConfig) {\n                            dynamicConfig = (0,_shared_lib_deepMerge__WEBPACK_IMPORTED_MODULE_5__/* .deepMerge */ .R)(dynamicConfig, localConfig);\n                        }\n                    }\n                    catch (e) { }\n                }\n                return [2 /*return*/, dynamicConfig];\n        }\n    });\n}); }, {\n    autoRefresh: true,\n    ttl: (0,_shared_lib_time__WEBPACK_IMPORTED_MODULE_6__.getTimeInMs)(1, 'min'),\n    onCacheUpdated: function (changed) {\n        if (changed) {\n            var dynamicConfig_1 = nodeDynamicConfigCache.getSync();\n            listeners.forEach(function (fn) { fn(dynamicConfig_1); });\n        }\n    },\n});\nvar getDynamicConfig = function () { return nodeDynamicConfigCache.getSync(); };\nfunction onConfigUpdated(fn) {\n    listeners.push(fn);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzU2MjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTs7OztBQUVBOztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zZXJ2ZXIvY2FjaGVzL25vZGVEeW5hbWljQ29uZmlnQ2FjaGUudHM/ZDA5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXF1ZXN0IH0gZnJvbSAnLi4vLi4vc2hhcmVkL2FwaXMvcmVxdWVzdCc7XG5pbXBvcnQgeyBEeW5hbWljQ29uZmlnIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBEYXRhQ2FjaGUgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL0RhdGFDYWNoZSc7XG5pbXBvcnQgeyBkZWVwTWVyZ2UgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2RlZXBNZXJnZSc7XG5pbXBvcnQgeyBnZXRUaW1lSW5NcyB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvdGltZSc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZy9jb25maWcnOyAvLyBIYXZlIHRvIGltcG9ydCBjb25maWcgZGlyZWN0bHkuIENhbid0IHVzZSBnZXRDb25maWcuIFRpbWluZyBpc3N1ZVxuaW1wb3J0IHsgaXNMb2NhbCB9IGZyb20gJy4uL2xpYi9sb2NhbCc7XG5cbmNvbnN0IGxpc3RlbmVyczogKChjb25maWc6IER5bmFtaWNDb25maWcpID0+IHZvaWQpW10gPSBbXTtcblxuZXhwb3J0IGxldCBub2RlRHluYW1pY0NvbmZpZ0NhY2hlID0gbmV3IERhdGFDYWNoZTxEeW5hbWljQ29uZmlnPihcblx0YXN5bmMgKCkgPT4ge1xuXHRcdGxldCBkeW5hbWljQ29uZmlnOiBEeW5hbWljQ29uZmlnID0gYXdhaXQgcmVxdWVzdC5nZXQoY29uZmlnLnVybHMuX2R5bmFtaWNDb25maWcpO1xuXG5cdFx0aWYgKGlzTG9jYWwoKSkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0bGV0IGxvY2FsQ29uZmlnID0gZXZhbCgncmVxdWlyZScpKCcuL2xvY2FsLmR5bmFtaWNDb25maWcuanNvbicpO1xuXHRcdFx0XHRpZiAobG9jYWxDb25maWcpIHtcblx0XHRcdFx0XHRkeW5hbWljQ29uZmlnID0gZGVlcE1lcmdlKGR5bmFtaWNDb25maWcsIGxvY2FsQ29uZmlnKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaChlKSB7fVxuXHRcdH1cblxuXHRcdHJldHVybiBkeW5hbWljQ29uZmlnO1xuXHR9LFxuXHR7XG5cdFx0YXV0b1JlZnJlc2g6IHRydWUsXG5cdFx0dHRsOiBnZXRUaW1lSW5NcygxLCAnbWluJyksXG5cdFx0b25DYWNoZVVwZGF0ZWQoY2hhbmdlZCkge1xuXHRcdFx0aWYgKGNoYW5nZWQpIHtcblx0XHRcdFx0bGV0IGR5bmFtaWNDb25maWcgPSBub2RlRHluYW1pY0NvbmZpZ0NhY2hlLmdldFN5bmMoKTtcblx0XHRcdFx0bGlzdGVuZXJzLmZvckVhY2goZm4gPT4geyBmbihkeW5hbWljQ29uZmlnKTsgfSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0fVxuKTtcblxuZXhwb3J0IGNvbnN0IGdldER5bmFtaWNDb25maWcgPSAoKSA9PiBub2RlRHluYW1pY0NvbmZpZ0NhY2hlLmdldFN5bmMoKTtcblxuZXhwb3J0IGZ1bmN0aW9uIG9uQ29uZmlnVXBkYXRlZChmbjogKGNvbmZpZzogYW55KSA9PiB2b2lkKTogdm9pZCB7XG5cdGxpc3RlbmVycy5wdXNoKGZuKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///75628\n")},20095:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   s: () => (/* binding */ addAncestryTrackingHeaders)\n/* harmony export */ });\n/* unused harmony export ancestryTrackingMiddleware */\n/* harmony import */ var _shared_enums_headers_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(57096);\n\nvar DEFAULT_PATH = 'Unknown';\nvar NODE_STACK_ID = 'fold3-nodejs';\nvar ancestryTrackingMiddleware = function (req, res, next) {\n    addAncestryTrackingHeaders(req.headers);\n    next();\n};\nfunction addAncestryTrackingHeaders(headers) {\n    if (!headers)\n        return;\n    addClientPath(headers);\n}\nfunction addClientPath(headers) {\n    var val = headers[_shared_enums_headers_enum__WEBPACK_IMPORTED_MODULE_0__/* .HEADERS */ .o.ANC_CLIENT_PATH] || DEFAULT_PATH;\n    headers[_shared_enums_headers_enum__WEBPACK_IMPORTED_MODULE_0__/* .HEADERS */ .o.ANC_CLIENT_PATH] = \"\".concat(val, \":\").concat(NODE_STACK_ID);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAwOTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NlcnZlci9saWIvYW5jZXN0cnlUcmFja2luZ0hlYWRlcnMudHM/YmU2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGM1JlcXVlc3RIYW5kbGVyLCBPYmogfSBmcm9tICcuLi8uLi9zaGFyZWQvZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IEhFQURFUlMgfSBmcm9tICcuLi8uLi9zaGFyZWQvZW51bXMvaGVhZGVycy5lbnVtJztcblxuY29uc3QgREVGQVVMVF9QQVRIID0gJ1Vua25vd24nO1xuY29uc3QgTk9ERV9TVEFDS19JRCA9ICdmb2xkMy1ub2RlanMnO1xuXG5leHBvcnQgY29uc3QgYW5jZXN0cnlUcmFja2luZ01pZGRsZXdhcmU6IEYzUmVxdWVzdEhhbmRsZXIgPSAocmVxLCByZXMsIG5leHQpID0+IHtcblx0YWRkQW5jZXN0cnlUcmFja2luZ0hlYWRlcnMocmVxLmhlYWRlcnMpO1xuXG5cdG5leHQoKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRBbmNlc3RyeVRyYWNraW5nSGVhZGVycyhoZWFkZXJzOiBPYmopIHtcblx0aWYgKCFoZWFkZXJzKSByZXR1cm47XG5cdGFkZENsaWVudFBhdGgoaGVhZGVycyk7XG59XG5cbmZ1bmN0aW9uIGFkZENsaWVudFBhdGgoaGVhZGVyczogT2JqKSB7XG5cdGNvbnN0IHZhbCA9IGhlYWRlcnNbSEVBREVSUy5BTkNfQ0xJRU5UX1BBVEhdIHx8IERFRkFVTFRfUEFUSDtcblx0aGVhZGVyc1tIRUFERVJTLkFOQ19DTElFTlRfUEFUSF0gPSBgJHt2YWx9OiR7Tk9ERV9TVEFDS19JRH1gO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20095\n")},58161:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   k: () => (/* binding */ getServerEnvironment),\n/* harmony export */   p: () => (/* binding */ getEnvVar)\n/* harmony export */ });\n/* harmony import */ var _shared_components_ErrorString__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(36359);\n/* harmony import */ var _shared_lib_getRuntime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(51057);\n\n\nfunction getEnvVar(varName) {\n    if ((0,_shared_lib_getRuntime__WEBPACK_IMPORTED_MODULE_0__/* .isBrowserRuntime */ .wK)())\n        return;\n    try {\n        var _a = process.env, ENV = _a.ENV, SESSIONV2_SECRET = _a.SESSIONV2_SECRET, JOSEPHUS_AUTH_SECRET = _a.JOSEPHUS_AUTH_SECRET, CAPTCHA_SECRET = _a.CAPTCHA_SECRET, PQ_HASH_SECRET = _a.PQ_HASH_SECRET, MAPBOX_TOKEN = _a.MAPBOX_TOKEN, REVISION = _a.REVISION;\n        var val = void 0;\n        switch (varName) {\n            case 'ENV':\n                val = ENV;\n                break;\n            case 'SESSIONV2_SECRET':\n                val = SESSIONV2_SECRET;\n                break;\n            case 'JOSEPHUS_AUTH_SECRET':\n                val = JOSEPHUS_AUTH_SECRET;\n                break;\n            case 'PQ_HASH_SECRET':\n                val = PQ_HASH_SECRET;\n                break;\n            case 'CAPTCHA_SECRET':\n                val = CAPTCHA_SECRET;\n                break;\n            case 'MAPBOX_TOKEN':\n                val = MAPBOX_TOKEN;\n                break;\n            default:\n                // Don't use logger.error(). Circular dependency issues.\n                console.error(\"[ENVIRONMENT] Environment variable \\\"\".concat(varName, \"\\\" is not supported\"));\n        }\n        if (!val)\n            console.error(\"[ENVIRONMENT] Environment variable \\\"\".concat(varName, \"\\\" is undefined\"));\n        return val;\n    }\n    catch (e) {\n        console.error(\"[ENVIRONMENT] \".concat((0,_shared_components_ErrorString__WEBPACK_IMPORTED_MODULE_1__/* .errorToString */ .V)(e)));\n    }\n}\nfunction getServerEnvironment() {\n    return getEnvVar('ENV');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTgxNjEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFFQTtBQUlBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2VydmVyL2xpYi9lbnZpcm9ubWVudC50cz84YTE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVycm9yVG9TdHJpbmcgfSBmcm9tICcuLi8uLi9zaGFyZWQvY29tcG9uZW50cy9FcnJvclN0cmluZyc7XG5pbXBvcnQgeyBGb2xkM0Vudmlyb25tZW50IH0gZnJvbSAnLi4vLi4vc2hhcmVkL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBpc0Jyb3dzZXJSdW50aW1lIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi9nZXRSdW50aW1lJztcblxudHlwZSBFbnZWYXIgPSAnRU5WJyB8ICdTRVNTSU9OVjJfU0VDUkVUJyB8ICdDQVBUQ0hBX1NFQ1JFVCcgfCAnSk9TRVBIVVNfQVVUSF9TRUNSRVQnIHwgJ1BRX0hBU0hfU0VDUkVUJyB8ICdNQVBCT1hfVE9LRU4nO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW52VmFyKHZhck5hbWU6IEVudlZhcikge1xuXHRpZiAoaXNCcm93c2VyUnVudGltZSgpKSByZXR1cm47XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IEVOViwgU0VTU0lPTlYyX1NFQ1JFVCwgSk9TRVBIVVNfQVVUSF9TRUNSRVQsIENBUFRDSEFfU0VDUkVULCBQUV9IQVNIX1NFQ1JFVCwgTUFQQk9YX1RPS0VOLCBSRVZJU0lPTiB9ID0gcHJvY2Vzcy5lbnY7XG5cblx0XHRsZXQgdmFsO1xuXHRcdHN3aXRjaCAodmFyTmFtZSkge1xuXHRcdFx0Y2FzZSAnRU5WJzogdmFsID0gRU5WOyBicmVhaztcblx0XHRcdGNhc2UgJ1NFU1NJT05WMl9TRUNSRVQnOiB2YWwgPSBTRVNTSU9OVjJfU0VDUkVUOyBicmVhaztcblx0XHRcdGNhc2UgJ0pPU0VQSFVTX0FVVEhfU0VDUkVUJzogdmFsID0gSk9TRVBIVVNfQVVUSF9TRUNSRVQ7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnUFFfSEFTSF9TRUNSRVQnOiB2YWwgPSBQUV9IQVNIX1NFQ1JFVDsgYnJlYWs7XG5cdFx0XHRjYXNlICdDQVBUQ0hBX1NFQ1JFVCc6IHZhbCA9IENBUFRDSEFfU0VDUkVUOyBicmVhaztcblx0XHRcdGNhc2UgJ01BUEJPWF9UT0tFTic6IHZhbCA9IE1BUEJPWF9UT0tFTjsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHQvLyBEb24ndCB1c2UgbG9nZ2VyLmVycm9yKCkuIENpcmN1bGFyIGRlcGVuZGVuY3kgaXNzdWVzLlxuXHRcdFx0XHRjb25zb2xlLmVycm9yKGBbRU5WSVJPTk1FTlRdIEVudmlyb25tZW50IHZhcmlhYmxlIFwiJHt2YXJOYW1lfVwiIGlzIG5vdCBzdXBwb3J0ZWRgKTtcblx0XHR9XG5cblx0XHRpZiAoIXZhbCkgY29uc29sZS5lcnJvcihgW0VOVklST05NRU5UXSBFbnZpcm9ubWVudCB2YXJpYWJsZSBcIiR7dmFyTmFtZX1cIiBpcyB1bmRlZmluZWRgKTtcblx0XHRyZXR1cm4gdmFsO1xuXHR9IGNhdGNoKGUpIHtcblx0XHRjb25zb2xlLmVycm9yKGBbRU5WSVJPTk1FTlRdICR7ZXJyb3JUb1N0cmluZyhlKX1gKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VydmVyRW52aXJvbm1lbnQoKSB7XG5cdHJldHVybiBnZXRFbnZWYXIoJ0VOVicpIGFzIEZvbGQzRW52aXJvbm1lbnQ7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///58161\n")},96497:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   D: () => (/* binding */ isLocal)\n/* harmony export */ });\n/* harmony import */ var _environment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58161);\n\nvar isLocal = function () {\n    return (0,_environment__WEBPACK_IMPORTED_MODULE_0__/* .getServerEnvironment */ .k)().startsWith('local');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTY0OTcuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2VydmVyL2xpYi9sb2NhbC50cz8zZjNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFNlcnZlckVudmlyb25tZW50IH0gZnJvbSAnLi9lbnZpcm9ubWVudCc7XG5cbmV4cG9ydCBjb25zdCBpc0xvY2FsID0gKCkgPT4ge1xuXHRyZXR1cm4gZ2V0U2VydmVyRW52aXJvbm1lbnQoKS5zdGFydHNXaXRoKCdsb2NhbCcpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///96497\n")},55881:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   v: () => (/* binding */ addInternalAuthHeader)\n/* harmony export */ });\n/* unused harmony export addInternalAuthMiddleware */\n/* harmony import */ var _shared_enums_headers_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(57096);\n/* harmony import */ var _lib_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(58161);\n\n\nvar addInternalAuthHeader = function (headers) {\n    try {\n        headers[_shared_enums_headers_enum__WEBPACK_IMPORTED_MODULE_0__/* .HEADERS */ .o.INTERNAL_AUTH] = (0,_lib_environment__WEBPACK_IMPORTED_MODULE_1__/* .getEnvVar */ .p)('JOSEPHUS_AUTH_SECRET');\n    }\n    catch (e) { }\n};\nvar addInternalAuthMiddleware = function (req, res, next) {\n    addInternalAuthHeader(req.headers);\n    next();\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTU4ODEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2VydmVyL21pZGRsZXdhcmUvaW50ZXJuYWxBdXRoTWlkZGxld2FyZS50cz80OWJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEYzUmVxdWVzdEhhbmRsZXIsIE9iaiB9IGZyb20gJy4uLy4uL3NoYXJlZC9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgSEVBREVSUyB9IGZyb20gJy4uLy4uL3NoYXJlZC9lbnVtcy9oZWFkZXJzLmVudW0nO1xuaW1wb3J0IHsgZ2V0RW52VmFyIH0gZnJvbSAnLi4vbGliL2Vudmlyb25tZW50JztcblxuZXhwb3J0IGNvbnN0IGFkZEludGVybmFsQXV0aEhlYWRlciA9IChoZWFkZXJzOiBPYmopID0+IHtcblx0dHJ5IHtcblx0XHRoZWFkZXJzW0hFQURFUlMuSU5URVJOQUxfQVVUSF0gPSBnZXRFbnZWYXIoJ0pPU0VQSFVTX0FVVEhfU0VDUkVUJyk7XG5cdH0gY2F0Y2goZSkge31cbn07XG5cbmV4cG9ydCBjb25zdCBhZGRJbnRlcm5hbEF1dGhNaWRkbGV3YXJlOiBGM1JlcXVlc3RIYW5kbGVyID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG5cdGFkZEludGVybmFsQXV0aEhlYWRlcihyZXEuaGVhZGVycyk7XG5cdG5leHQoKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///55881\n")},80419:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   K: () => (/* binding */ F3Navbar)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(70655);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14426);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _shared_components_F3Button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(1534);\n/* harmony import */ var _shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(21655);\n/* harmony import */ var _shared_components_SiteLogo__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(1342);\n/* harmony import */ var _shared_components_Thumbnail__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(39258);\n/* harmony import */ var _shared_components_domain_SwitchDomain__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(97413);\n/* harmony import */ var _shared_components_list_PopoutLite__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(13605);\n/* harmony import */ var _shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(30915);\n/* harmony import */ var _shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(32558);\n/* harmony import */ var _shared_lib_hooks_useDataLayer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(90930);\n/* harmony import */ var _shared_lib_hooks_useDomain__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(29774);\n/* harmony import */ var _shared_lib_hooks_useThumbnail__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(15954);\n/* harmony import */ var _shared_lib_hooks_useUser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(58159);\n/* harmony import */ var _shared_lib_localization_domain__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(40315);\n/* harmony import */ var _shared_lib_templating__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(21012);\n/* harmony import */ var _shared_context_fold3PageContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(67328);\n/* harmony import */ var _shared_enums_cookies_enum__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(34700);\n/* harmony import */ var _shared_lib_classUtil__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(78697);\n/* harmony import */ var _shared_lib_clientCookies__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(68248);\n/* harmony import */ var _shared_lib_hooks_useLocalizedVariables__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(7483);\n/* harmony import */ var _shared_lib_localization_languageHelpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(15709);\n/* harmony import */ var _shared_lib_slug__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(80443);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar F3Navbar = function (props) {\n    var _a = props.fullWidth, fullWidth = _a === void 0 ? false : _a, _b = props.showNav, showNav = _b === void 0 ? true : _b, _c = props.showJoin, showJoin = _c === void 0 ? true : _c;\n    var isMobile = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_shared_context_fold3PageContext__WEBPACK_IMPORTED_MODULE_2__/* .Fold3PageContext */ .h).isMobile;\n    var _d = (0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.useTranslation)('navbar'), t = _d.t, i18n = _d.i18n;\n    var _e = (0,_shared_lib_hooks_useUser__WEBPACK_IMPORTED_MODULE_3__/* .useUser */ .a)(), institution = _e.institution, isSignedIn = _e.isSignedIn, isInstitution = _e.isInstitution, isAdmin = _e.isAdmin, isSilo = _e.isSilo, isPremium = _e.isPremium;\n    var f3Domain = (0,_shared_lib_hooks_useDomain__WEBPACK_IMPORTED_MODULE_4__/* .useDomain */ .a)().f3Domain;\n    var _f = (0,tslib__WEBPACK_IMPORTED_MODULE_5__/* .__read */ .CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!!isMobile), 2), featuredOpen = _f[0], setFeaturedOpen = _f[1];\n    var _g = (0,tslib__WEBPACK_IMPORTED_MODULE_5__/* .__read */ .CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), 2), languageOpen = _g[0], setLanguageOpen = _g[1];\n    var pushEvent = (0,_shared_lib_hooks_useDataLayer__WEBPACK_IMPORTED_MODULE_6__/* .useDataLayer */ .P)().pushEvent;\n    var languageLabel = (0,_shared_lib_localization_languageHelpers__WEBPACK_IMPORTED_MODULE_7__/* .getLanguageLabel */ .lx)(i18n.language, true);\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, { fallback: null },\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", null,\n            isInstitution &&\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'institute-ident bg-info text-white text-center' },\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { className: 'ms-1' }, t('institutionLabel', '- Library Edition at {{institutionName}} -', { institutionName: institution.name }))),\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"p-0 container\".concat(fullWidth ? '-fluid' : '-lg') },\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'row g-0 flex-nowrap align-items-center' },\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'col-auto order-2 order-md-1' },\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'logo mr-md-3', href: '/', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.LOGO)); }, target: '_self' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_SiteLogo__WEBPACK_IMPORTED_MODULE_11__/* .SiteLogo */ .S, null))),\n                    showNav &&\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'col-auto col-md order-1 order-md-2 p-0 d-print-none' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"input\", { \"aria-hidden\": 'true', autoComplete: 'off', className: 'btn-check', id: 'menu-nav', type: 'checkbox' }),\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'nav-btn d-md-none' },\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"label\", { className: 'start btn btn-secondary2 rounded-0', htmlFor: 'menu-nav', id: 'start', tabIndex: 0 },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { \"aria-hidden\": 'true', className: 'spinner diagonal part-1' }),\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { \"aria-hidden\": 'true', className: 'spinner horizontal' }),\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { \"aria-hidden\": 'true', className: 'spinner diagonal part-2' }),\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { className: 'visually-hidden' }, t('showNavigation', 'Show Navigation')))),\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"nav\", { \"aria-label\": 'main', className: 'navbar-collapse navbar-expand-md d-md-block ms-md-5', id: 'main-nav' },\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", { className: 'navbar-nav my-1' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'nav-search nav-list' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'nav-link px-lg-3', href: '/search', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.SEARCH)); } }, t('mainLinks.searchAndBrowse', 'Search & Browse'))),\n                                    (!isSilo || (isSilo && isPremium)) &&\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'nav-mem nav-list dropdown' },\n                                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_list_PopoutLite__WEBPACK_IMPORTED_MODULE_12__/* .PopoutLite */ .k, { align: 'start', ariaLabel: 'mainNavFeatured', id: 'navbar-featured', onHover: true, onToggle: setFeaturedOpen, open: featuredOpen, popoutContent: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_domain_SwitchDomain__WEBPACK_IMPORTED_MODULE_13__/* .SwitchDomain */ .A, { siteType: {\n                                                        F3: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(F3Featured, (0,tslib__WEBPACK_IMPORTED_MODULE_5__/* .__assign */ .pi)({}, props)),\n                                                        FWR: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(FWRFeatured, (0,tslib__WEBPACK_IMPORTED_MODULE_5__/* .__assign */ .pi)({}, props)),\n                                                    } }), targetContent: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Button__WEBPACK_IMPORTED_MODULE_14__/* .F3Button */ .Vk, { btnType: null, className: 'nav-link px-lg-3 dropdown-toggle border-0' }, t('mainLinks.featured', 'Featured')) })),\n                                    isAdmin &&\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'nav-admin nav-list' },\n                                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'nav-link px-lg-3 btn text-start border-0', href: '/admin' }, t('mainLinks.admin', 'Admin')))))),\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'col-auto order-3 ms-auto' }, isSignedIn ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(SessionMenu, null) : showJoin ? react__WEBPACK_IMPORTED_MODULE_0___default().createElement(JoinMenu, null) : null),\n                    !isSignedIn &&\n                        (0,_shared_lib_localization_languageHelpers__WEBPACK_IMPORTED_MODULE_7__/* .canChangeLanguage */ .Ij)(f3Domain) &&\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'col-auto order-4' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", { className: 'nav' },\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'dropdown' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_list_PopoutLite__WEBPACK_IMPORTED_MODULE_12__/* .PopoutLite */ .k, { align: 'end', ariaLabel: 'language selector', id: 'language-selector', onHover: true, onToggle: setLanguageOpen, open: languageOpen, popoutContent: (0,_shared_lib_localization_domain__WEBPACK_IMPORTED_MODULE_15__/* .getDomainLanguages */ .p_)(f3Domain)\n                                            .filter(function (lang) { return (0,_shared_lib_localization_languageHelpers__WEBPACK_IMPORTED_MODULE_7__/* .getLanguageLabel */ .lx)(lang, true) !== languageLabel; })\n                                            .map(function (lang) {\n                                            return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { key: lang },\n                                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Button__WEBPACK_IMPORTED_MODULE_14__/* .F3Button */ .Vk, { className: 'dropdown-item', onClick: function () {\n                                                        i18n.changeLanguage(lang);\n                                                        (0,_shared_lib_clientCookies__WEBPACK_IMPORTED_MODULE_16__/* .setCookie */ .d8)(_shared_enums_cookies_enum__WEBPACK_IMPORTED_MODULE_17__/* .COOKIES */ .E9.LANGUAGE, lang, {\n                                                            domain: window.location.hostname, // ensure that this cookie only applies to this specific subdomain\n                                                        });\n                                                    } }, (0,_shared_lib_localization_languageHelpers__WEBPACK_IMPORTED_MODULE_7__/* .getLanguageLabel */ .lx)(lang, true)));\n                                        }), targetContent: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Button__WEBPACK_IMPORTED_MODULE_14__/* .F3Button */ .Vk, { btnType: null, className: 'nav-link px-lg-3 dropdown-toggle border-0' }, languageLabel) }))))))));\n};\nvar SessionMenu = function () {\n    var _a = (0,_shared_lib_hooks_useUser__WEBPACK_IMPORTED_MODULE_3__/* .useUser */ .a)(), user = _a.user, institution = _a.institution, isInstitution = _a.isInstitution, isPremium = _a.isPremium;\n    var f3Domain = (0,_shared_lib_hooks_useDomain__WEBPACK_IMPORTED_MODULE_4__/* .useDomain */ .a)().f3Domain;\n    var accountStatus = user.accountStatus, username = user.username, userId = user.userId, registrationDomain = user.registrationDomain;\n    var getThumbnail = (0,_shared_lib_hooks_useThumbnail__WEBPACK_IMPORTED_MODULE_18__/* .useThumbnail */ .t)().getThumbnail;\n    var t = (0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.useTranslation)('navbar').t;\n    var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_5__/* .__read */ .CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), 2), createOpen = _b[0], setCreateOpen = _b[1];\n    var _c = (0,tslib__WEBPACK_IMPORTED_MODULE_5__/* .__read */ .CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), 2), accountOpen = _c[0], setAccountOpen = _c[1];\n    var pushEvent = (0,_shared_lib_hooks_useDataLayer__WEBPACK_IMPORTED_MODULE_6__/* .useDataLayer */ .P)().pushEvent;\n    var getAccountStatusLabel = (0,_shared_lib_hooks_useLocalizedVariables__WEBPACK_IMPORTED_MODULE_19__/* .useLocalizedVariables */ .y)().getAccountStatusLabel;\n    var accountStatusLabel = getAccountStatusLabel(user);\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", { className: 'mem-nav nav align-items-center d-print-none' },\n        ['monthly-subscriber', 'non-subscriber', 'free-trial'].includes(accountStatus) &&\n            !isInstitution &&\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'nav-item d-none d-md-block' },\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'btn btn-outline-light me-md-2 me-1', \"data-cy\": 'upgrade-btn', href: '/choose-a-plan' }, t('upgradeBtn', 'Upgrade'))),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'nav-item pe-2 pe-md-0' },\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_list_PopoutLite__WEBPACK_IMPORTED_MODULE_12__/* .PopoutLite */ .k, { ariaLabel: 'mainNavCreate', id: 'create-dropdown', onHover: true, onToggle: setCreateOpen, open: createOpen, popoutContent: react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: '/memorial/create', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.CREATE_MEMORIAL)); } }, t('createDropdown.createMemorial', 'Create a Memorial'))),\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: '/subject/create', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.CREATE_SUBJECT)); } }, t('createDropdown.createSubject', 'Create a Subject page')))), targetContent: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Button__WEBPACK_IMPORTED_MODULE_14__/* .F3Button */ .Vk, { btnType: null, className: 'dropdown-toggle bg-white text-primary' },\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-plus me-2 align-middle' }),\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { className: 'd-none d-md-inline' }, t('mainLinks.create', 'Create'))) })),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'nav-help nav-item text-white px-lg-2 d-none d-md-block' },\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'nav-link lh-1', href: '/help', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.HELP)); } },\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-help align-middle fs-4' }),\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { className: 'visually-hidden' }, t('mainLinks.help', 'Help')))),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'nav-item' },\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_list_PopoutLite__WEBPACK_IMPORTED_MODULE_12__/* .PopoutLite */ .k, { ariaLabel: 'mainNavAccount', id: 'account-dropdown', onHover: true, onToggle: setAccountOpen, open: accountOpen, popoutContent: react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item d-flex align-items-center', \"data-cy\": 'your-profile', href: \"/profile/\".concat(username), onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.PROFILE)); } },\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_Thumbnail__WEBPACK_IMPORTED_MODULE_20__/* .BaseThumbnail */ .tK, { alt: t('memberPhoto.altText', 'Member Photo'), className: 'rounded-circle avatar bg-secondary me-2', \"data-cy\": 'member-icon', size: 50, src: getThumbnail({ path: 'usericon', query: { id: userId, domain: (0,_shared_lib_localization_domain__WEBPACK_IMPORTED_MODULE_15__/* .serializeDomain */ .PI)(registrationDomain), width: 32, height: 32 } }) }),\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { className: 'flex-grow-1' },\n                                (0,_shared_lib_templating__WEBPACK_IMPORTED_MODULE_21__/* .truncate */ .$G)(username, 25),\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { className: (0,_shared_lib_classUtil__WEBPACK_IMPORTED_MODULE_22__/* .classStr */ .B)(isPremium ? 'text-primary' : 'text-muted', 'd-block'), title: accountStatusLabel }, accountStatusLabel)))),\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"hr\", { className: 'dropdown-divider' })),\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: '/gallery/content/STORY_PAGE', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.YOUR_MEMORIALS)); } }, t('userDropdown.myMemorials', 'My Memorials'))),\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: '/gallery/tags', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.TAGS)); } }, t('userDropdown.myTags', 'My Tags'))),\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: '/gallery', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.GALLERY)); } }, t('userDropdown.myGallery', 'My Gallery'))),\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"hr\", { className: 'dropdown-divider' })),\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: '/account', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.ACCOUNT)); } }, t('userDropdown.accountDetails', 'Account Details'))),\n                    (0,_shared_lib_localization_languageHelpers__WEBPACK_IMPORTED_MODULE_7__/* .canChangeLanguage */ .Ij)(f3Domain) &&\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: '/account?edit=language#account-settings-section-language', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.ACCOUNT)); } }, t('userDropdown.language', 'Language'))),\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: '/help', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.HELP)); } }, t('userDropdown.help', 'Help'))),\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"hr\", { className: 'dropdown-divider' })),\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: '/signoff', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.SIGN_OUT)); } }, t('userDropdown.signOut', 'Sign Out')))), targetContent: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Button__WEBPACK_IMPORTED_MODULE_14__/* .F3Button */ .Vk, { \"aria-expanded\": 'false', btnType: null, className: 'p-0 text-start text-white d-flex align-items-center dropdown-toggle', \"data-bs-toggle\": 'dropdown', id: 'user-name', tabIndex: 0 },\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_Thumbnail__WEBPACK_IMPORTED_MODULE_20__/* .BaseThumbnail */ .tK, { alt: t('memberPhoto.altText', 'Member Photo'), \"data-cy\": 'member-icon', imgClasses: ['rounded-circle', 'avatar', 'bg-secondary'], size: 50, src: getThumbnail({ path: 'usericon', query: { id: userId, domain: (0,_shared_lib_localization_domain__WEBPACK_IMPORTED_MODULE_15__/* .serializeDomain */ .PI)(registrationDomain), width: 32, height: 32 } }) })) })));\n};\nvar JoinMenu = function () {\n    var _a = (0,_shared_lib_hooks_useUser__WEBPACK_IMPORTED_MODULE_3__/* .useUser */ .a)(), institution = _a.institution, isInstitution = _a.isInstitution;\n    var t = (0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.useTranslation)('navbar').t;\n    var pushEvent = (0,_shared_lib_hooks_useDataLayer__WEBPACK_IMPORTED_MODULE_6__/* .useDataLayer */ .P)().pushEvent;\n    var signinText = t('signinBtn', 'Sign In', { context: 'normal' });\n    if (['proquest', 'house'].includes(institution === null || institution === void 0 ? void 0 : institution.type))\n        signinText = t('signinBtn', 'Member Login', { context: 'institution' });\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", { className: 'memberjoin nav my-1' },\n        !isInstitution &&\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'nav-item', id: 'join' },\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'nav-link px-0 px-md-2', \"data-cy\": 'join-now-btn', href: '/choose-a-plan', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.JOIN)); } }, t('joinNowBtn', 'Join Now'))),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'nav-item me-3', id: 'sign-in' },\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'nav-link text-decoration-none p-2', \"data-cy\": 'join-now-btn', href: '/login', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.SIGN_IN)); } },\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-profile rounded-circle border-white border p-1 me-md-2 ms-2 ms-md-0' }),\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { className: 'd-none d-md-inline-block' }, signinText))));\n};\nvar F3Featured = function (_a) {\n    var config = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_shared_context_fold3PageContext__WEBPACK_IMPORTED_MODULE_2__/* .Fold3PageContext */ .h).config;\n    var t = (0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.useTranslation)('navbar').t;\n    var pushEvent = (0,_shared_lib_hooks_useDataLayer__WEBPACK_IMPORTED_MODULE_6__/* .useDataLayer */ .P)().pushEvent;\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: '/collection/us-civil-war', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.WAR_STORIES)); } }, t('featuredLinks.warStories', 'War Stories'))),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: '/wall', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.WALL)); } }, t('featuredLinks.honorWall', 'Honor Wall'))),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: (0,_shared_lib_slug__WEBPACK_IMPORTED_MODULE_23__/* .getContentPath */ .kQ)('IMAGE', config.content.vietnamWall.imageId), onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.VIETNAM_WALL)); } }, t('featuredLinks.vietnamWall', 'US Vietnam Wall'))),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: (0,_shared_lib_slug__WEBPACK_IMPORTED_MODULE_23__/* .getContentPath */ .kQ)('IMAGE', config.content.arizonaMemorial.imageId), onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.ARIZONA_MEMORIAL)); } }, t('featuredLinks.arizonaMemorial', 'U.S.S. Arizona Memorial'))));\n};\nvar FWRFeatured = function (_a) {\n    var t = (0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.useTranslation)('navbar').t;\n    var pushEvent = (0,_shared_lib_hooks_useDataLayer__WEBPACK_IMPORTED_MODULE_6__/* .useDataLayer */ .P)().pushEvent;\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: '/wall', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.WALL)); } }, t('featuredLinks.dedicationWall', 'Dedication Wall'))),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: '/map/search', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.MAPS)); } }, t('featuredLinks.maps', 'Maps'))),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", null,\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_8__/* .F3Link */ .y, { className: 'dropdown-item', href: '/medals', onClick: function () { return pushEvent((0,_shared_lib_googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_9__/* .navbarEvent */ .sI)(_shared_enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_10__/* .Link */ .rU.MEDALS)); } }, t('featuredLinks.medalsPage', 'Medals Page'))));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODA0MTkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFLQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQU9BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFtQkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFBQTtBQVNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFRQTtBQUNBO0FBTUE7QUFPQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFZQTtBQVlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFNQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NlcnZlci90ZW1wbGF0aW5nL0YzTmF2YmFyLnRzeD9jNTA4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBTdXNwZW5zZSwgdXNlQ29udGV4dCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgRjNCdXR0b24gfSBmcm9tICcuLi8uLi9zaGFyZWQvY29tcG9uZW50cy9GM0J1dHRvbic7XG5pbXBvcnQgeyBGM0xpbmsgfSBmcm9tICcuLi8uLi9zaGFyZWQvY29tcG9uZW50cy9GM0xpbmsnO1xuaW1wb3J0IHsgU2l0ZUxvZ28gfSBmcm9tICcuLi8uLi9zaGFyZWQvY29tcG9uZW50cy9TaXRlTG9nbyc7XG5pbXBvcnQgeyBCYXNlVGh1bWJuYWlsIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2NvbXBvbmVudHMvVGh1bWJuYWlsJztcbmltcG9ydCB7IFN3aXRjaERvbWFpbiB9IGZyb20gJy4uLy4uL3NoYXJlZC9jb21wb25lbnRzL2RvbWFpbi9Td2l0Y2hEb21haW4nO1xuaW1wb3J0IHsgUG9wb3V0TGl0ZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9jb21wb25lbnRzL2xpc3QvUG9wb3V0TGl0ZSc7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2VudW1zL2d0bUV2ZW50LmVudW0nO1xuaW1wb3J0IHsgbmF2YmFyRXZlbnQgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2dvb2dsZUFuYWx5dGljc0V2ZW50cyc7XG5pbXBvcnQgeyB1c2VEYXRhTGF5ZXIgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2hvb2tzL3VzZURhdGFMYXllcic7XG5pbXBvcnQgeyB1c2VEb21haW4gfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2hvb2tzL3VzZURvbWFpbic7XG5pbXBvcnQgeyB1c2VUaHVtYm5haWwgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2hvb2tzL3VzZVRodW1ibmFpbCc7XG5pbXBvcnQgeyB1c2VVc2VyIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi9ob29rcy91c2VVc2VyJztcbmltcG9ydCB7IGdldERvbWFpbkxhbmd1YWdlcywgc2VyaWFsaXplRG9tYWluIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi9sb2NhbGl6YXRpb24vZG9tYWluJztcbmltcG9ydCB7IHRydW5jYXRlIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi90ZW1wbGF0aW5nJztcblxuaW1wb3J0IHsgRm9sZDNQYWdlQ29udGV4dCB9IGZyb20gJy4uLy4uL3NoYXJlZC9jb250ZXh0L2ZvbGQzUGFnZUNvbnRleHQnO1xuaW1wb3J0IHsgQ09PS0lFUyB9IGZyb20gJy4uLy4uL3NoYXJlZC9lbnVtcy9jb29raWVzLmVudW0nO1xuaW1wb3J0IHsgTEFOR1VBR0VfSVNPX0NPREUgfSBmcm9tICcuLi8uLi9zaGFyZWQvZW51bXMvbGFuZ3VhZ2VJU08uZW51bSc7XG5pbXBvcnQgeyBjbGFzc1N0ciB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvY2xhc3NVdGlsJztcbmltcG9ydCB7IHNldENvb2tpZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvY2xpZW50Q29va2llcyc7XG5pbXBvcnQgeyB1c2VMb2NhbGl6ZWRWYXJpYWJsZXMgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2hvb2tzL3VzZUxvY2FsaXplZFZhcmlhYmxlcyc7XG5pbXBvcnQgeyBjYW5DaGFuZ2VMYW5ndWFnZSwgZ2V0TGFuZ3VhZ2VMYWJlbCB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvbG9jYWxpemF0aW9uL2xhbmd1YWdlSGVscGVycyc7XG5pbXBvcnQgeyBnZXRDb250ZW50UGF0aCB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvc2x1Zyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRjNOYXZiYXJQcm9wcyB7XG5cdHNob3dOYXY/OiBib29sZWFuXG5cdHNob3dKb2luPzogYm9vbGVhblxuXHRmdWxsV2lkdGg/OiBib29sZWFuXG59XG5cbmV4cG9ydCBjb25zdCBGM05hdmJhciA9IChwcm9wczogRjNOYXZiYXJQcm9wcykgPT4ge1xuXHRjb25zdCB7IGZ1bGxXaWR0aCA9IGZhbHNlLCBzaG93TmF2ID0gdHJ1ZSwgc2hvd0pvaW4gPSB0cnVlIH0gPSBwcm9wcztcblx0Y29uc3QgeyBpc01vYmlsZSB9ID0gdXNlQ29udGV4dChGb2xkM1BhZ2VDb250ZXh0KTtcblx0Y29uc3QgeyB0LCBpMThuIH0gPSB1c2VUcmFuc2xhdGlvbignbmF2YmFyJyk7XG5cdGNvbnN0IHsgaW5zdGl0dXRpb24sIGlzU2lnbmVkSW4sIGlzSW5zdGl0dXRpb24sIGlzQWRtaW4sIGlzU2lsbywgaXNQcmVtaXVtIH0gPSB1c2VVc2VyKCk7XG5cdGNvbnN0IHsgZjNEb21haW4gfSA9IHVzZURvbWFpbigpO1xuXG5cdGNvbnN0IFtmZWF0dXJlZE9wZW4sIHNldEZlYXR1cmVkT3Blbl0gPSB1c2VTdGF0ZSghIWlzTW9iaWxlKTtcblx0Y29uc3QgW2xhbmd1YWdlT3Blbiwgc2V0TGFuZ3VhZ2VPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuXHRjb25zdCB7IHB1c2hFdmVudCB9ID0gdXNlRGF0YUxheWVyKCk7XG5cblx0Y29uc3QgbGFuZ3VhZ2VMYWJlbCA9IGdldExhbmd1YWdlTGFiZWwoaTE4bi5sYW5ndWFnZSBhcyBMQU5HVUFHRV9JU09fQ09ERSwgdHJ1ZSk7XG5cblx0cmV0dXJuIDxTdXNwZW5zZSBmYWxsYmFjaz17bnVsbH0+XG5cdFx0PGRpdj5cblx0XHRcdHtcblx0XHRcdFx0aXNJbnN0aXR1dGlvbiAmJlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0naW5zdGl0dXRlLWlkZW50IGJnLWluZm8gdGV4dC13aGl0ZSB0ZXh0LWNlbnRlcic+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSdtcy0xJz57dCgnaW5zdGl0dXRpb25MYWJlbCcsICctIExpYnJhcnkgRWRpdGlvbiBhdCB7e2luc3RpdHV0aW9uTmFtZX19IC0nLCB7IGluc3RpdHV0aW9uTmFtZTogaW5zdGl0dXRpb24ubmFtZSB9KX08L3NwYW4+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0fVxuXHRcdFx0PGRpdiBjbGFzc05hbWU9e2BwLTAgY29udGFpbmVyJHtmdWxsV2lkdGggPyAnLWZsdWlkJyA6ICctbGcnfWB9PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ncm93IGctMCBmbGV4LW5vd3JhcCBhbGlnbi1pdGVtcy1jZW50ZXInPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtYXV0byBvcmRlci0yIG9yZGVyLW1kLTEnPlxuXHRcdFx0XHRcdFx0PEYzTGlua1xuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2xvZ28gbXItbWQtMydcblx0XHRcdFx0XHRcdFx0aHJlZj0nLydcblx0XHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4gcHVzaEV2ZW50KG5hdmJhckV2ZW50KExpbmsuTE9HTykpfVxuXHRcdFx0XHRcdFx0XHR0YXJnZXQ9J19zZWxmJ1xuXHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHQ8U2l0ZUxvZ28gLz5cblx0XHRcdFx0XHRcdDwvRjNMaW5rPlxuXHRcdFx0XHRcdDwvZGl2PlxuXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0c2hvd05hdiAmJlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC1hdXRvIGNvbC1tZCBvcmRlci0xIG9yZGVyLW1kLTIgcC0wIGQtcHJpbnQtbm9uZSc+XG5cdFx0XHRcdFx0XHRcdDxpbnB1dFxuXHRcdFx0XHRcdFx0XHRcdGFyaWEtaGlkZGVuPSd0cnVlJ1xuXHRcdFx0XHRcdFx0XHRcdGF1dG9Db21wbGV0ZT0nb2ZmJ1xuXHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nYnRuLWNoZWNrJ1xuXHRcdFx0XHRcdFx0XHRcdGlkPSdtZW51LW5hdidcblx0XHRcdFx0XHRcdFx0XHR0eXBlPSdjaGVja2JveCdcblx0XHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J25hdi1idG4gZC1tZC1ub25lJz5cblx0XHRcdFx0XHRcdFx0XHQ8bGFiZWxcblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nc3RhcnQgYnRuIGJ0bi1zZWNvbmRhcnkyIHJvdW5kZWQtMCdcblx0XHRcdFx0XHRcdFx0XHRcdGh0bWxGb3I9J21lbnUtbmF2J1xuXHRcdFx0XHRcdFx0XHRcdFx0aWQ9J3N0YXJ0J1xuXHRcdFx0XHRcdFx0XHRcdFx0dGFiSW5kZXg9ezB9XG5cdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdzcGlubmVyIGRpYWdvbmFsIHBhcnQtMScgLz5cblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzTmFtZT0nc3Bpbm5lciBob3Jpem9udGFsJyAvPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdzcGlubmVyIGRpYWdvbmFsIHBhcnQtMicgLz5cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0ndmlzdWFsbHktaGlkZGVuJz57dCgnc2hvd05hdmlnYXRpb24nLCAnU2hvdyBOYXZpZ2F0aW9uJyl9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8bmF2IGFyaWEtbGFiZWw9J21haW4nIGNsYXNzTmFtZT0nbmF2YmFyLWNvbGxhcHNlIG5hdmJhci1leHBhbmQtbWQgZC1tZC1ibG9jayBtcy1tZC01JyBpZD0nbWFpbi1uYXYnPlxuXHRcdFx0XHRcdFx0XHRcdDx1bCBjbGFzc05hbWU9J25hdmJhci1uYXYgbXktMSc+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8bGkgY2xhc3NOYW1lPSduYXYtc2VhcmNoIG5hdi1saXN0Jz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PEYzTGluayBjbGFzc05hbWU9J25hdi1saW5rIHB4LWxnLTMnIGhyZWY9Jy9zZWFyY2gnIG9uQ2xpY2s9eygpID0+IHB1c2hFdmVudChuYXZiYXJFdmVudChMaW5rLlNFQVJDSCkpfT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7dCgnbWFpbkxpbmtzLnNlYXJjaEFuZEJyb3dzZScsICdTZWFyY2ggJiBCcm93c2UnKX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9GM0xpbms+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIWlzU2lsbyB8fCAoaXNTaWxvICYmIGlzUHJlbWl1bSkpICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxsaSBjbGFzc05hbWU9J25hdi1tZW0gbmF2LWxpc3QgZHJvcGRvd24nPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxQb3BvdXRMaXRlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhbGlnbj0nc3RhcnQnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmlhTGFiZWw9J21haW5OYXZGZWF0dXJlZCdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlkPSduYXZiYXItZmVhdHVyZWQnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkhvdmVyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvblRvZ2dsZT17c2V0RmVhdHVyZWRPcGVufVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3Blbj17ZmVhdHVyZWRPcGVufVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cG9wb3V0Q29udGVudD17XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxTd2l0Y2hEb21haW5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzaXRlVHlwZT17e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0RjM6IDxGM0ZlYXR1cmVkIHsuLi5wcm9wc30gLz4sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRGV1I6IDxGV1JGZWF0dXJlZCB7Li4ucHJvcHN9IC8+LFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0YXJnZXRDb250ZW50PXtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnRuVHlwZT17bnVsbH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J25hdi1saW5rIHB4LWxnLTMgZHJvcGRvd24tdG9nZ2xlIGJvcmRlci0wJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3QoJ21haW5MaW5rcy5mZWF0dXJlZCcsICdGZWF0dXJlZCcpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlzQWRtaW4gJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0nbmF2LWFkbWluIG5hdi1saXN0Jz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8RjNMaW5rIGNsYXNzTmFtZT0nbmF2LWxpbmsgcHgtbGctMyBidG4gdGV4dC1zdGFydCBib3JkZXItMCcgaHJlZj0nL2FkbWluJz57dCgnbWFpbkxpbmtzLmFkbWluJywgJ0FkbWluJyl9PC9GM0xpbms+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0PC91bD5cblx0XHRcdFx0XHRcdFx0PC9uYXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC1hdXRvIG9yZGVyLTMgbXMtYXV0byc+XG5cdFx0XHRcdFx0XHR7IGlzU2lnbmVkSW4gPyA8U2Vzc2lvbk1lbnUgLz4gOiBzaG93Sm9pbiA/IDxKb2luTWVudSAvPiA6IG51bGwgfVxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdCFpc1NpZ25lZEluICYmXG5cdFx0XHRcdFx0XHRjYW5DaGFuZ2VMYW5ndWFnZShmM0RvbWFpbikgJiZcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtYXV0byBvcmRlci00Jz5cblx0XHRcdFx0XHRcdFx0PHVsIGNsYXNzTmFtZT0nbmF2Jz5cblx0XHRcdFx0XHRcdFx0XHQ8bGkgY2xhc3NOYW1lPSdkcm9wZG93bic+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8UG9wb3V0TGl0ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhbGlnbj0nZW5kJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRhcmlhTGFiZWw9J2xhbmd1YWdlIHNlbGVjdG9yJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZD0nbGFuZ3VhZ2Utc2VsZWN0b3InXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uSG92ZXJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b25Ub2dnbGU9e3NldExhbmd1YWdlT3Blbn1cblx0XHRcdFx0XHRcdFx0XHRcdFx0b3Blbj17bGFuZ3VhZ2VPcGVufVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwb3BvdXRDb250ZW50PXtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRnZXREb21haW5MYW5ndWFnZXMoZjNEb21haW4pXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQuZmlsdGVyKGxhbmcgPT4gZ2V0TGFuZ3VhZ2VMYWJlbChsYW5nLCB0cnVlKSAhPT0gbGFuZ3VhZ2VMYWJlbClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5tYXAobGFuZyA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiA8bGkga2V5PXtsYW5nfT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nZHJvcGRvd24taXRlbSdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aTE4bi5jaGFuZ2VMYW5ndWFnZShsYW5nKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2V0Q29va2llKENPT0tJRVMuTEFOR1VBR0UsIGxhbmcsIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkb21haW46IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSwgLy8gZW5zdXJlIHRoYXQgdGhpcyBjb29raWUgb25seSBhcHBsaWVzIHRvIHRoaXMgc3BlY2lmaWMgc3ViZG9tYWluXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7Z2V0TGFuZ3VhZ2VMYWJlbChsYW5nLCB0cnVlKX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2xpPjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0Q29udGVudD17XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRidG5UeXBlPXtudWxsfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSduYXYtbGluayBweC1sZy0zIGRyb3Bkb3duLXRvZ2dsZSBib3JkZXItMCdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7bGFuZ3VhZ2VMYWJlbH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdDwvdWw+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHR9XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdDwvU3VzcGVuc2U+O1xufTtcblxuY29uc3QgU2Vzc2lvbk1lbnUgPSAoKSA9PiB7XG5cdGNvbnN0IHsgdXNlciwgaW5zdGl0dXRpb24sIGlzSW5zdGl0dXRpb24sIGlzUHJlbWl1bSB9ID0gdXNlVXNlcigpO1xuXHRjb25zdCB7IGYzRG9tYWluIH0gPSB1c2VEb21haW4oKTtcblx0bGV0IHsgYWNjb3VudFN0YXR1cywgdXNlcm5hbWUsIHVzZXJJZCwgcmVnaXN0cmF0aW9uRG9tYWluIH0gPSB1c2VyO1xuXHRjb25zdCB7IGdldFRodW1ibmFpbCB9ID0gdXNlVGh1bWJuYWlsKCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ25hdmJhcicpO1xuXHRjb25zdCBbY3JlYXRlT3Blbiwgc2V0Q3JlYXRlT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cdGNvbnN0IFthY2NvdW50T3Blbiwgc2V0QWNjb3VudE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuXG5cdGNvbnN0IHsgcHVzaEV2ZW50IH0gPSB1c2VEYXRhTGF5ZXIoKTtcblxuXHRjb25zdCB7IGdldEFjY291bnRTdGF0dXNMYWJlbCB9ID0gdXNlTG9jYWxpemVkVmFyaWFibGVzKCk7XG5cdGNvbnN0IGFjY291bnRTdGF0dXNMYWJlbCA9IGdldEFjY291bnRTdGF0dXNMYWJlbCh1c2VyKTtcblxuXHRyZXR1cm4gPHVsIGNsYXNzTmFtZT0nbWVtLW5hdiBuYXYgYWxpZ24taXRlbXMtY2VudGVyIGQtcHJpbnQtbm9uZSc+XG5cdFx0e1xuXHRcdFx0Wydtb250aGx5LXN1YnNjcmliZXInLCAnbm9uLXN1YnNjcmliZXInLCAnZnJlZS10cmlhbCddLmluY2x1ZGVzKGFjY291bnRTdGF0dXMpICYmXG5cdFx0XHQhaXNJbnN0aXR1dGlvbiAmJlxuXHRcdFx0PGxpIGNsYXNzTmFtZT0nbmF2LWl0ZW0gZC1ub25lIGQtbWQtYmxvY2snPjxGM0xpbmsgY2xhc3NOYW1lPSdidG4gYnRuLW91dGxpbmUtbGlnaHQgbWUtbWQtMiBtZS0xJyBkYXRhLWN5PSd1cGdyYWRlLWJ0bicgaHJlZj0nL2Nob29zZS1hLXBsYW4nPnt0KCd1cGdyYWRlQnRuJywgJ1VwZ3JhZGUnKX08L0YzTGluaz48L2xpPlxuXHRcdH1cblx0XHQ8bGkgY2xhc3NOYW1lPSduYXYtaXRlbSBwZS0yIHBlLW1kLTAnPlxuXHRcdFx0PFBvcG91dExpdGVcblx0XHRcdFx0YXJpYUxhYmVsPSdtYWluTmF2Q3JlYXRlJ1xuXHRcdFx0XHRpZD0nY3JlYXRlLWRyb3Bkb3duJ1xuXHRcdFx0XHRvbkhvdmVyXG5cdFx0XHRcdG9uVG9nZ2xlPXtzZXRDcmVhdGVPcGVufVxuXHRcdFx0XHRvcGVuPXtjcmVhdGVPcGVufVxuXHRcdFx0XHRwb3BvdXRDb250ZW50PXtcblx0XHRcdFx0XHQ8PlxuXHRcdFx0XHRcdFx0PGxpPjxGM0xpbmsgY2xhc3NOYW1lPSdkcm9wZG93bi1pdGVtJyBocmVmPScvbWVtb3JpYWwvY3JlYXRlJyBvbkNsaWNrPXsoKSA9PiBwdXNoRXZlbnQobmF2YmFyRXZlbnQoTGluay5DUkVBVEVfTUVNT1JJQUwpKX0+e3QoJ2NyZWF0ZURyb3Bkb3duLmNyZWF0ZU1lbW9yaWFsJywgJ0NyZWF0ZSBhIE1lbW9yaWFsJyl9PC9GM0xpbms+PC9saT5cblx0XHRcdFx0XHRcdDxsaT48RjNMaW5rIGNsYXNzTmFtZT0nZHJvcGRvd24taXRlbScgaHJlZj0nL3N1YmplY3QvY3JlYXRlJyBvbkNsaWNrPXsoKSA9PiBwdXNoRXZlbnQobmF2YmFyRXZlbnQoTGluay5DUkVBVEVfU1VCSkVDVCkpfT57dCgnY3JlYXRlRHJvcGRvd24uY3JlYXRlU3ViamVjdCcsICdDcmVhdGUgYSBTdWJqZWN0IHBhZ2UnKX08L0YzTGluaz48L2xpPlxuXHRcdFx0XHRcdFx0ey8qIDxsaT48RjNMaW5rIGNsYXNzTmFtZT0nZHJvcGRvd24taXRlbScgaHJlZj0nL3VwbG9hZCcgb25DbGljaz17KCkgPT4gcHVzaEV2ZW50KG5hdmJhckV2ZW50KExpbmsuVVBMT0FEKSl9Pnt0KCdjcmVhdGVEcm9wZG93bi51cGxvYWRJbWFnZScsICdVcGxvYWQgYW4gaW1hZ2UnKX08L0YzTGluaz48L2xpPiAqL31cblx0XHRcdFx0XHQ8Lz5cblx0XHRcdFx0fVxuXHRcdFx0XHR0YXJnZXRDb250ZW50PXtcblx0XHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRcdGJ0blR5cGU9e251bGx9XG5cdFx0XHRcdFx0XHRjbGFzc05hbWU9J2Ryb3Bkb3duLXRvZ2dsZSBiZy13aGl0ZSB0ZXh0LXByaW1hcnknXG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0PHNwYW4gYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzTmFtZT0naWNvbi1mMyBpY29uLXBsdXMgbWUtMiBhbGlnbi1taWRkbGUnIC8+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J2Qtbm9uZSBkLW1kLWlubGluZSc+e3QoJ21haW5MaW5rcy5jcmVhdGUnLCAnQ3JlYXRlJyl9PC9zcGFuPlxuXHRcdFx0XHRcdDwvRjNCdXR0b24+XG5cdFx0XHRcdH1cblx0XHRcdC8+XG5cdFx0PC9saT5cblx0XHQ8bGkgY2xhc3NOYW1lPSduYXYtaGVscCBuYXYtaXRlbSB0ZXh0LXdoaXRlIHB4LWxnLTIgZC1ub25lIGQtbWQtYmxvY2snPlxuXHRcdFx0PEYzTGluayBjbGFzc05hbWU9J25hdi1saW5rIGxoLTEnIGhyZWY9Jy9oZWxwJyBvbkNsaWNrPXsoKSA9PiBwdXNoRXZlbnQobmF2YmFyRXZlbnQoTGluay5IRUxQKSl9PlxuXHRcdFx0XHQ8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdpY29uLWYzIGljb24taGVscCBhbGlnbi1taWRkbGUgZnMtNCcgLz5cblx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd2aXN1YWxseS1oaWRkZW4nPnt0KCdtYWluTGlua3MuaGVscCcsICdIZWxwJyl9PC9zcGFuPlxuXHRcdFx0PC9GM0xpbms+XG5cdFx0PC9saT5cblx0XHQ8bGkgY2xhc3NOYW1lPSduYXYtaXRlbSc+XG5cdFx0XHQ8UG9wb3V0TGl0ZVxuXHRcdFx0XHRhcmlhTGFiZWw9J21haW5OYXZBY2NvdW50J1xuXHRcdFx0XHRpZD0nYWNjb3VudC1kcm9wZG93bidcblx0XHRcdFx0b25Ib3ZlclxuXHRcdFx0XHRvblRvZ2dsZT17c2V0QWNjb3VudE9wZW59XG5cdFx0XHRcdG9wZW49e2FjY291bnRPcGVufVxuXHRcdFx0XHRwb3BvdXRDb250ZW50PXtcblx0XHRcdFx0XHQ8PlxuXHRcdFx0XHRcdFx0PGxpPlxuXHRcdFx0XHRcdFx0XHQ8RjNMaW5rXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdkcm9wZG93bi1pdGVtIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXInXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YS1jeT0neW91ci1wcm9maWxlJ1xuXHRcdFx0XHRcdFx0XHRcdGhyZWY9e2AvcHJvZmlsZS8ke3VzZXJuYW1lfWB9XG5cdFx0XHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4gcHVzaEV2ZW50KG5hdmJhckV2ZW50KExpbmsuUFJPRklMRSkpfVxuXHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0PEJhc2VUaHVtYm5haWxcblx0XHRcdFx0XHRcdFx0XHRcdGFsdD17dCgnbWVtYmVyUGhvdG8uYWx0VGV4dCcsICdNZW1iZXIgUGhvdG8nKX1cblx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0ncm91bmRlZC1jaXJjbGUgYXZhdGFyIGJnLXNlY29uZGFyeSBtZS0yJ1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGF0YS1jeT0nbWVtYmVyLWljb24nXG5cdFx0XHRcdFx0XHRcdFx0XHRzaXplPXs1MH1cblx0XHRcdFx0XHRcdFx0XHRcdHNyYz17Z2V0VGh1bWJuYWlsKHsgcGF0aDogJ3VzZXJpY29uJywgcXVlcnk6IHsgaWQ6IHVzZXJJZCwgZG9tYWluOiBzZXJpYWxpemVEb21haW4ocmVnaXN0cmF0aW9uRG9tYWluKSwgd2lkdGg6IDMyLCBoZWlnaHQ6IDMyIH0gfSl9XG5cdFx0XHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J2ZsZXgtZ3Jvdy0xJz5cblx0XHRcdFx0XHRcdFx0XHRcdHt0cnVuY2F0ZSh1c2VybmFtZSwgMjUpfVxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPXtjbGFzc1N0cihpc1ByZW1pdW0gPyAndGV4dC1wcmltYXJ5JyA6ICd0ZXh0LW11dGVkJywgJ2QtYmxvY2snKX0gdGl0bGU9e2FjY291bnRTdGF0dXNMYWJlbH0+e2FjY291bnRTdGF0dXNMYWJlbH08L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8L0YzTGluaz5cblx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHQ8bGk+PGhyIGNsYXNzTmFtZT0nZHJvcGRvd24tZGl2aWRlcicgLz48L2xpPlxuXHRcdFx0XHRcdFx0PGxpPjxGM0xpbmsgY2xhc3NOYW1lPSdkcm9wZG93bi1pdGVtJyBocmVmPScvZ2FsbGVyeS9jb250ZW50L1NUT1JZX1BBR0UnIG9uQ2xpY2s9eygpID0+IHB1c2hFdmVudChuYXZiYXJFdmVudChMaW5rLllPVVJfTUVNT1JJQUxTKSl9Pnt0KCd1c2VyRHJvcGRvd24ubXlNZW1vcmlhbHMnLCAnTXkgTWVtb3JpYWxzJyl9PC9GM0xpbms+PC9saT5cblx0XHRcdFx0XHRcdDxsaT48RjNMaW5rIGNsYXNzTmFtZT0nZHJvcGRvd24taXRlbScgaHJlZj0nL2dhbGxlcnkvdGFncycgb25DbGljaz17KCkgPT4gcHVzaEV2ZW50KG5hdmJhckV2ZW50KExpbmsuVEFHUykpfT57dCgndXNlckRyb3Bkb3duLm15VGFncycsICdNeSBUYWdzJyl9PC9GM0xpbms+PC9saT5cblx0XHRcdFx0XHRcdDxsaT48RjNMaW5rIGNsYXNzTmFtZT0nZHJvcGRvd24taXRlbScgaHJlZj0nL2dhbGxlcnknIG9uQ2xpY2s9eygpID0+IHB1c2hFdmVudChuYXZiYXJFdmVudChMaW5rLkdBTExFUlkpKX0+e3QoJ3VzZXJEcm9wZG93bi5teUdhbGxlcnknLCAnTXkgR2FsbGVyeScpfTwvRjNMaW5rPjwvbGk+XG5cdFx0XHRcdFx0XHQ8bGk+PGhyIGNsYXNzTmFtZT0nZHJvcGRvd24tZGl2aWRlcicgLz48L2xpPlxuXHRcdFx0XHRcdFx0PGxpPjxGM0xpbmsgY2xhc3NOYW1lPSdkcm9wZG93bi1pdGVtJyBocmVmPScvYWNjb3VudCcgb25DbGljaz17KCkgPT4gcHVzaEV2ZW50KG5hdmJhckV2ZW50KExpbmsuQUNDT1VOVCkpfT57dCgndXNlckRyb3Bkb3duLmFjY291bnREZXRhaWxzJywgJ0FjY291bnQgRGV0YWlscycpfTwvRjNMaW5rPjwvbGk+XG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGNhbkNoYW5nZUxhbmd1YWdlKGYzRG9tYWluKSAmJlxuXHRcdFx0XHRcdFx0XHQ8bGk+PEYzTGluayBjbGFzc05hbWU9J2Ryb3Bkb3duLWl0ZW0nIGhyZWY9Jy9hY2NvdW50P2VkaXQ9bGFuZ3VhZ2UjYWNjb3VudC1zZXR0aW5ncy1zZWN0aW9uLWxhbmd1YWdlJyBvbkNsaWNrPXsoKSA9PiBwdXNoRXZlbnQobmF2YmFyRXZlbnQoTGluay5BQ0NPVU5UKSl9Pnt0KCd1c2VyRHJvcGRvd24ubGFuZ3VhZ2UnLCAnTGFuZ3VhZ2UnKX08L0YzTGluaz48L2xpPlxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0PGxpPjxGM0xpbmsgY2xhc3NOYW1lPSdkcm9wZG93bi1pdGVtJyBocmVmPScvaGVscCcgb25DbGljaz17KCkgPT4gcHVzaEV2ZW50KG5hdmJhckV2ZW50KExpbmsuSEVMUCkpfT57dCgndXNlckRyb3Bkb3duLmhlbHAnLCAnSGVscCcpfTwvRjNMaW5rPjwvbGk+XG5cdFx0XHRcdFx0XHQ8bGk+PGhyIGNsYXNzTmFtZT0nZHJvcGRvd24tZGl2aWRlcicgLz48L2xpPlxuXHRcdFx0XHRcdFx0PGxpPjxGM0xpbmsgY2xhc3NOYW1lPSdkcm9wZG93bi1pdGVtJyBocmVmPScvc2lnbm9mZicgb25DbGljaz17KCkgPT4gcHVzaEV2ZW50KG5hdmJhckV2ZW50KExpbmsuU0lHTl9PVVQpKX0+e3QoJ3VzZXJEcm9wZG93bi5zaWduT3V0JywgJ1NpZ24gT3V0Jyl9PC9GM0xpbms+PC9saT5cblx0XHRcdFx0XHQ8Lz5cblx0XHRcdFx0fVxuXHRcdFx0XHR0YXJnZXRDb250ZW50PXtcblx0XHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRcdGFyaWEtZXhwYW5kZWQ9J2ZhbHNlJ1xuXHRcdFx0XHRcdFx0YnRuVHlwZT17bnVsbH1cblx0XHRcdFx0XHRcdGNsYXNzTmFtZT0ncC0wIHRleHQtc3RhcnQgdGV4dC13aGl0ZSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGRyb3Bkb3duLXRvZ2dsZSdcblx0XHRcdFx0XHRcdGRhdGEtYnMtdG9nZ2xlPSdkcm9wZG93bidcblx0XHRcdFx0XHRcdGlkPSd1c2VyLW5hbWUnXG5cdFx0XHRcdFx0XHR0YWJJbmRleD17MH1cblx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHQ8QmFzZVRodW1ibmFpbFxuXHRcdFx0XHRcdFx0XHRhbHQ9e3QoJ21lbWJlclBob3RvLmFsdFRleHQnLCAnTWVtYmVyIFBob3RvJyl9XG5cdFx0XHRcdFx0XHRcdGRhdGEtY3k9J21lbWJlci1pY29uJ1xuXHRcdFx0XHRcdFx0XHRpbWdDbGFzc2VzPXtbJ3JvdW5kZWQtY2lyY2xlJywgJ2F2YXRhcicsICdiZy1zZWNvbmRhcnknXX1cblx0XHRcdFx0XHRcdFx0c2l6ZT17NTB9XG5cdFx0XHRcdFx0XHRcdHNyYz17Z2V0VGh1bWJuYWlsKHsgcGF0aDogJ3VzZXJpY29uJywgcXVlcnk6IHsgaWQ6IHVzZXJJZCwgZG9tYWluOiBzZXJpYWxpemVEb21haW4ocmVnaXN0cmF0aW9uRG9tYWluKSwgd2lkdGg6IDMyLCBoZWlnaHQ6IDMyIH0gfSl9XG5cdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdDwvRjNCdXR0b24+XG5cdFx0XHRcdH1cblx0XHRcdC8+XG5cdFx0PC9saT5cblx0PC91bD47XG59O1xuXG5jb25zdCBKb2luTWVudSA9ICgpID0+IHtcblx0Y29uc3QgeyBpbnN0aXR1dGlvbiwgaXNJbnN0aXR1dGlvbiB9ID0gdXNlVXNlcigpO1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCduYXZiYXInKTtcblx0Y29uc3QgeyBwdXNoRXZlbnQgfSA9IHVzZURhdGFMYXllcigpO1xuXG5cdGxldCBzaWduaW5UZXh0ID0gdCgnc2lnbmluQnRuJywgJ1NpZ24gSW4nLCB7IGNvbnRleHQ6ICdub3JtYWwnIH0pO1xuXHRpZiAoWydwcm9xdWVzdCcsICdob3VzZSddLmluY2x1ZGVzKGluc3RpdHV0aW9uPy50eXBlKSkgc2lnbmluVGV4dCA9IHQoJ3NpZ25pbkJ0bicsICdNZW1iZXIgTG9naW4nLCB7IGNvbnRleHQ6ICdpbnN0aXR1dGlvbicgfSk7XG5cblx0cmV0dXJuIDx1bCBjbGFzc05hbWU9J21lbWJlcmpvaW4gbmF2IG15LTEnPlxuXHRcdHtcblx0XHRcdCFpc0luc3RpdHV0aW9uICYmXG5cdFx0XHQ8bGkgY2xhc3NOYW1lPSduYXYtaXRlbScgaWQ9J2pvaW4nPlxuXHRcdFx0XHQ8RjNMaW5rXG5cdFx0XHRcdFx0Y2xhc3NOYW1lPSduYXYtbGluayBweC0wIHB4LW1kLTInXG5cdFx0XHRcdFx0ZGF0YS1jeT0nam9pbi1ub3ctYnRuJ1xuXHRcdFx0XHRcdGhyZWY9Jy9jaG9vc2UtYS1wbGFuJ1xuXHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHB1c2hFdmVudChuYXZiYXJFdmVudChMaW5rLkpPSU4pKX1cblx0XHRcdFx0PlxuXHRcdFx0XHRcdHt0KCdqb2luTm93QnRuJywgJ0pvaW4gTm93Jyl9XG5cdFx0XHRcdDwvRjNMaW5rPlxuXHRcdFx0PC9saT5cblx0XHR9XG5cdFx0PGxpIGNsYXNzTmFtZT0nbmF2LWl0ZW0gbWUtMycgaWQ9J3NpZ24taW4nPlxuXHRcdFx0PEYzTGlua1xuXHRcdFx0XHRjbGFzc05hbWU9J25hdi1saW5rIHRleHQtZGVjb3JhdGlvbi1ub25lIHAtMidcblx0XHRcdFx0ZGF0YS1jeT0nam9pbi1ub3ctYnRuJ1xuXHRcdFx0XHRocmVmPScvbG9naW4nXG5cdFx0XHRcdG9uQ2xpY2s9eygpID0+IHB1c2hFdmVudChuYXZiYXJFdmVudChMaW5rLlNJR05fSU4pKX1cblx0XHRcdD5cblx0XHRcdFx0PHNwYW4gYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzTmFtZT0naWNvbi1mMyBpY29uLXByb2ZpbGUgcm91bmRlZC1jaXJjbGUgYm9yZGVyLXdoaXRlIGJvcmRlciBwLTEgbWUtbWQtMiBtcy0yIG1zLW1kLTAnIC8+XG5cdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0nZC1ub25lIGQtbWQtaW5saW5lLWJsb2NrJz57c2lnbmluVGV4dH08L3NwYW4+XG5cdFx0XHQ8L0YzTGluaz5cblx0XHQ8L2xpPlxuXHQ8L3VsPjtcbn07XG5cbmNvbnN0IEYzRmVhdHVyZWQgPSAoe306IEYzTmF2YmFyUHJvcHMpID0+IHtcblx0Y29uc3QgeyBjb25maWcgfSA9IHVzZUNvbnRleHQoRm9sZDNQYWdlQ29udGV4dCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ25hdmJhcicpO1xuXHRjb25zdCB7IHB1c2hFdmVudCB9ID0gdXNlRGF0YUxheWVyKCk7XG5cblx0cmV0dXJuIDw+XG5cdFx0PGxpPjxGM0xpbmsgY2xhc3NOYW1lPSdkcm9wZG93bi1pdGVtJyBocmVmPScvY29sbGVjdGlvbi91cy1jaXZpbC13YXInIG9uQ2xpY2s9eygpID0+IHB1c2hFdmVudChuYXZiYXJFdmVudChMaW5rLldBUl9TVE9SSUVTKSl9Pnt0KCdmZWF0dXJlZExpbmtzLndhclN0b3JpZXMnLCAnV2FyIFN0b3JpZXMnKX08L0YzTGluaz48L2xpPlxuXHRcdDxsaT48RjNMaW5rIGNsYXNzTmFtZT0nZHJvcGRvd24taXRlbScgaHJlZj0nL3dhbGwnIG9uQ2xpY2s9eygpID0+IHB1c2hFdmVudChuYXZiYXJFdmVudChMaW5rLldBTEwpKX0+e3QoJ2ZlYXR1cmVkTGlua3MuaG9ub3JXYWxsJywgJ0hvbm9yIFdhbGwnKX08L0YzTGluaz48L2xpPlxuXHRcdDxsaT48RjNMaW5rIGNsYXNzTmFtZT0nZHJvcGRvd24taXRlbScgaHJlZj17Z2V0Q29udGVudFBhdGgoJ0lNQUdFJywgY29uZmlnLmNvbnRlbnQudmlldG5hbVdhbGwuaW1hZ2VJZCl9IG9uQ2xpY2s9eygpID0+IHB1c2hFdmVudChuYXZiYXJFdmVudChMaW5rLlZJRVROQU1fV0FMTCkpfT57dCgnZmVhdHVyZWRMaW5rcy52aWV0bmFtV2FsbCcsICdVUyBWaWV0bmFtIFdhbGwnKX08L0YzTGluaz48L2xpPlxuXHRcdDxsaT48RjNMaW5rIGNsYXNzTmFtZT0nZHJvcGRvd24taXRlbScgaHJlZj17Z2V0Q29udGVudFBhdGgoJ0lNQUdFJywgY29uZmlnLmNvbnRlbnQuYXJpem9uYU1lbW9yaWFsLmltYWdlSWQpfSBvbkNsaWNrPXsoKSA9PiBwdXNoRXZlbnQobmF2YmFyRXZlbnQoTGluay5BUklaT05BX01FTU9SSUFMKSl9Pnt0KCdmZWF0dXJlZExpbmtzLmFyaXpvbmFNZW1vcmlhbCcsICdVLlMuUy4gQXJpem9uYSBNZW1vcmlhbCcpfTwvRjNMaW5rPjwvbGk+XG5cdDwvPjtcbn07XG5cbmNvbnN0IEZXUkZlYXR1cmVkID0gKHt9OiBGM05hdmJhclByb3BzKSA9PiB7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ25hdmJhcicpO1xuXHRjb25zdCB7IHB1c2hFdmVudCB9ID0gdXNlRGF0YUxheWVyKCk7XG5cblx0cmV0dXJuIDw+XG5cdFx0PGxpPjxGM0xpbmsgY2xhc3NOYW1lPSdkcm9wZG93bi1pdGVtJyBocmVmPScvd2FsbCcgb25DbGljaz17KCkgPT4gcHVzaEV2ZW50KG5hdmJhckV2ZW50KExpbmsuV0FMTCkpfT57dCgnZmVhdHVyZWRMaW5rcy5kZWRpY2F0aW9uV2FsbCcsICdEZWRpY2F0aW9uIFdhbGwnKX08L0YzTGluaz48L2xpPlxuXHRcdDxsaT48RjNMaW5rIGNsYXNzTmFtZT0nZHJvcGRvd24taXRlbScgaHJlZj0nL21hcC9zZWFyY2gnIG9uQ2xpY2s9eygpID0+IHB1c2hFdmVudChuYXZiYXJFdmVudChMaW5rLk1BUFMpKX0+e3QoJ2ZlYXR1cmVkTGlua3MubWFwcycsICdNYXBzJyl9PC9GM0xpbms+PC9saT5cblx0XHQ8bGk+PEYzTGluayBjbGFzc05hbWU9J2Ryb3Bkb3duLWl0ZW0nIGhyZWY9Jy9tZWRhbHMnIG9uQ2xpY2s9eygpID0+IHB1c2hFdmVudChuYXZiYXJFdmVudChMaW5rLk1FREFMUykpfT57dCgnZmVhdHVyZWRMaW5rcy5tZWRhbHNQYWdlJywgJ01lZGFscyBQYWdlJyl9PC9GM0xpbms+PC9saT5cblx0PC8+O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///80419\n")},68423:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   W: () => (/* binding */ Fold3Footer)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14426);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(21655);\n/* harmony import */ var _shared_components_NumberAbbrev__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(19301);\n/* harmony import */ var _shared_components_SiteLogo__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(1342);\n/* harmony import */ var _shared_components_domain_ShowF3__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(64554);\n/* harmony import */ var _shared_components_domain_SwitchDomain__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(97413);\n/* harmony import */ var _shared_components_switch_F3Case__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(73047);\n/* harmony import */ var _shared_components_switch_F3Switch__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(48107);\n/* harmony import */ var _shared_context_fold3PageContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(67328);\n/* harmony import */ var _shared_lib_f3_query_F3Query__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(93150);\n/* harmony import */ var _shared_lib_hooks_useDomain__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(29774);\n/* harmony import */ var _shared_lib_hooks_useUser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(58159);\n/* harmony import */ var _shared_lib_localization_domain__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(40315);\n/* harmony import */ var _shared_lib_localization_languageHelpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(15709);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Fold3Footer = function (_a) {\n    var _b = _a.fullFooter, fullFooter = _b === void 0 ? true : _b, _c = _a.useOSM, useOSM = _c === void 0 ? false : _c, hideFooter = _a.hideFooter, recordCounts = _a.recordCounts;\n    var _d = react__WEBPACK_IMPORTED_MODULE_0___default().useContext(_shared_context_fold3PageContext__WEBPACK_IMPORTED_MODULE_2__/* .Fold3PageContext */ .h), environment = _d.environment, dynamicConfig = _d.dynamicConfig;\n    var _e = (0,_shared_lib_hooks_useDomain__WEBPACK_IMPORTED_MODULE_3__/* .useDomain */ .a)(), siteName = _e.siteName, regSiteName = _e.regSiteName, siteType = _e.siteType, f3Domain = _e.f3Domain;\n    var t = (0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.useTranslation)('footer').t;\n    var _f = (0,_shared_lib_hooks_useUser__WEBPACK_IMPORTED_MODULE_4__/* .useUser */ .a)(), user = _f.user, institution = _f.institution, isSignedIn = _f.isSignedIn, isInstitution = _f.isInstitution;\n    if (hideFooter)\n        return null;\n    var recordCount = (0,_shared_components_NumberAbbrev__WEBPACK_IMPORTED_MODULE_5__/* .abbreviateNumber */ .d)(recordCounts === null || recordCounts === void 0 ? void 0 : recordCounts.TOTAL);\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"footer\", { className: 'container border-top mt-5 pt-5', id: 'page-footer' },\n        fullFooter &&\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'row d-print-none' },\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'col-12 col-md-8' },\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'row' },\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'col-6 col-md-3' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h3\", { className: 'h6 fw-bold', id: 'siteLinksFooter' }, t('footer.findRecords', 'Find Records')),\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", { \"aria-labelledby\": 'siteLinksFooter', className: 'list-unstyled fs-6' },\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-home', href: '/' }, t('footer.home', 'Home'))),\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-search-records', href: '/search' }, t('footer.searchRecords', 'Search Records'))),\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-browse-records', href: '/browse/' }, t('footer.browseRecords', 'Browse Records'))),\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-list-records', href: _shared_lib_f3_query_F3Query__WEBPACK_IMPORTED_MODULE_7__/* .F3Query */ .$J.createContentTypeQuery('PUBLICATION').toUrl() }, t('footer.listAllRecords', 'List All Records'))),\n                                !isInstitution &&\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_domain_ShowF3__WEBPACK_IMPORTED_MODULE_8__/* .ShowF3 */ .G, null,\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-search-state', href: '/go/usstates' }, t('footer.searchByState', 'Search by State')))))),\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'col-6 col-md-3' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h3\", { className: 'h6 fw-bold', id: 'membershipFooter' }, t('footer.membership', 'Membership')),\n                            isSignedIn ?\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", { \"aria-labelledby\": 'membershipFooter', className: 'list-unstyled fs-6' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-account-details', href: '/account/' }, t('footer.accountDetails', 'Account Details'))),\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-your-profile', href: \"/profile/\".concat(user.username) }, t('footer.yourProfile', 'Your Profile'))),\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-bookmarks', href: '/gallery/tags/bookmarks', title: t('footer.bookmarksNotifications', 'Bookmarks & Notifications') }, t('footer.bookmarks', 'Bookmarks'))),\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-your-gallery', href: '/gallery' }, t('footer.yourGallery', 'Your Gallery'))),\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-sign-out', href: '/signoff' }, t('footer.signOut', 'Sign Out')))) :\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", { \"aria-labelledby\": 'membershipFooter', className: 'list-unstyled fs-6' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-join-f3', href: '/choose-a-plan' }, t('footer.joinSite', 'Join {{siteName}}', { siteName: siteName }))),\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-sign-in', href: '/login' }, t('footer.signIn', 'Sign In'))),\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-free-membership', href: '/choose-a-plan#freeBasic' }, t('footer.freeMembership', 'Free Membership'))),\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-getting-started', href: '/help/search' }, t('footer.gettingStarted', 'Getting Started'))),\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-membership-help', href: '/help' }, t('footer.help', 'Help'))))),\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'col-6 col-md-3' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h3\", { className: 'h6 fw-bold', id: 'moreFooter' }, t('footer.more', 'More')),\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", { \"aria-labelledby\": 'moreFooter', className: 'list-unstyled fs-6' },\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-about-fold3', href: '/about' }, t('footer.about', 'About {{siteName}}', { siteName: siteName }))),\n                                isSignedIn &&\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_domain_SwitchDomain__WEBPACK_IMPORTED_MODULE_9__/* .SwitchDomain */ .A, { domain: {\n                                            'FORCES_WAR_UK': react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,\n                                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-search-state', href: '/expert' }, t('footer.documentExpert', 'Document Expert'))),\n                                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-hire-researcher', href: '/go/hire-a-researcher' }, t('footer.hireResearcher', 'Hire a Researcher')))),\n                                        } }),\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-help-more', href: '/help' }, t('footer.helpResearch', 'Help'))),\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_domain_ShowF3__WEBPACK_IMPORTED_MODULE_8__/* .ShowF3 */ .G, null,\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-institutions', href: '/institutions' }, t('footer.institutions', 'Institutions')))),\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-affiliates', href: '/affiliates' }, t('footer.affiliates', 'Affiliates'))),\n                                (0,_shared_lib_localization_languageHelpers__WEBPACK_IMPORTED_MODULE_10__/* .canChangeLanguage */ .Ij)(f3Domain) &&\n                                    isSignedIn &&\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-affiliates', href: '/account?edit=language#account-settings-section-language' }, t('footer.language', 'Language'))))),\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'col-6 col-md-3' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h3\", { className: 'h6 fw-bold', id: 'connectFooter' }, t('footer.connect', 'Connect')),\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", { \"aria-labelledby\": 'connectFooter', className: 'list-unstyled fs-6' },\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-blog', href: (0,_shared_lib_localization_domain__WEBPACK_IMPORTED_MODULE_11__/* .getBlogHost */ .R2)(f3Domain, environment) }, t('footer.blog', 'Blog'))),\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { \"aria-label\": t('footer.linkToTwitter', 'link to X (Twitter)'), className: 'text-secondary', \"data-cy\": 'footer-twitter', href: (0,_shared_lib_localization_domain__WEBPACK_IMPORTED_MODULE_11__/* .getSocialMediaUrl */ .Fo)(siteType, 'TWITTER') }, t('footer.twitter', 'X (Twitter)'))),\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { \"aria-label\": t('footer.linkToFacebook', 'link to Facebook'), className: 'text-secondary', \"data-cy\": 'footer-facebook', href: (0,_shared_lib_localization_domain__WEBPACK_IMPORTED_MODULE_11__/* .getSocialMediaUrl */ .Fo)(siteType, 'FACEBOOK') }, t('footer.facebook', 'Facebook'))),\n                                (0,_shared_lib_localization_domain__WEBPACK_IMPORTED_MODULE_11__/* .getSocialMediaUrl */ .Fo)(siteType, 'INSTAGRAM') &&\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { \"aria-label\": t('footer.linkToInstagram', 'link to Instagram'), className: 'text-secondary', \"data-cy\": 'footer-instagram', href: (0,_shared_lib_localization_domain__WEBPACK_IMPORTED_MODULE_11__/* .getSocialMediaUrl */ .Fo)(siteType, 'INSTAGRAM') }, t('footer.instagram', 'Instagram'))),\n                                (0,_shared_lib_localization_domain__WEBPACK_IMPORTED_MODULE_11__/* .getSocialMediaUrl */ .Fo)(siteType, 'YOUTUBE') &&\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { \"aria-label\": t('footer.linkToYouTube', 'link to YouTube'), className: 'text-secondary', \"data-cy\": 'footer-youtube', href: (0,_shared_lib_localization_domain__WEBPACK_IMPORTED_MODULE_11__/* .getSocialMediaUrl */ .Fo)(siteType, 'YOUTUBE') }, t('footer.youTube', 'YouTube'))),\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'pb-2' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-secondary', \"data-cy\": 'footer-contact-us', href: '/contact?subject=Support' }, t('footer.contactUs', 'Contact Us'))))))),\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'col-12 col-md-4' },\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"blockquote\", null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_switch_F3Switch__WEBPACK_IMPORTED_MODULE_12__/* .F3Switch */ .P, { value: siteType },\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_switch_F3Case__WEBPACK_IMPORTED_MODULE_13__/* .F3Case */ .I, { switchCase: 'F3' },\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h3\", { className: 'h6 text-start fw-bold' }, t('footer.whyName', 'Why the name {{regSiteName}}?', { regSiteName: regSiteName })),\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", { className: 'text-start' }, t('footer.fold3Origin', 'Traditionally, the third fold in some flag-folding ceremonies honors and remembers veterans for their sacrifice in defending their country and promoting peace in the world.'))),\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_switch_F3Case__WEBPACK_IMPORTED_MODULE_13__/* .F3Case */ .I, { switchCase: 'FWR' },\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"h3\", { className: 'h6 text-start fw-bold' }, t('footer.whySite', 'Why {{regSiteName}}?', { regSiteName: regSiteName })),\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", { className: 'text-start' }, t('footer.recordCount', 'With {{recordCount}} military records, and military genealogy experts waiting to hear from you, we are the starting point for your military family history research.', { recordCount: recordCount }))))),\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_SiteLogo__WEBPACK_IMPORTED_MODULE_14__/* .SiteLogo */ .S, { color: { desktop: true, mobile: true } }))),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'row' },\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'col-12 text-center text-muted py-3' },\n                !isInstitution && !fullFooter &&\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-center', href: '/', target: '_self' },\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_SiteLogo__WEBPACK_IMPORTED_MODULE_14__/* .SiteLogo */ .S, { color: { desktop: true, mobile: true } })),\n                isInstitution &&\n                    f3Domain === 'FOLD3_US' &&\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'partner-ident text-muted' }, institution.type === 'proquest' ?\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { href: 'https://www.proquest.com/' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"img\", { alt: t('footer.distributedByProQuest', 'Distributed by ProQuest'), height: '27', src: '/img/pro-quest-ident.png', width: '175' })) :\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"strong\", null, t('footer.libraryEdition', ' {{regSiteName}} Library Edition ', { regSiteName: regSiteName }))),\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", { className: 'text-muted text-center' },\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"small\", null, t('footer.copyright', 'Copyright  {{newDate}} {{regSiteName}} by Ancestry. All Rights Reserved.', { newDate: new Date().getFullYear(), regSiteName: regSiteName }))),\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"small\", { className: 'd-print-none' },\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", { className: 'list-unstyled row gx-2 justify-content-center' },\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'col-auto' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-muted px-1', href: '/terms-and-conditions' }, t('footer.termsConditions', 'Terms and Conditions')),\n                            (dynamicConfig === null || dynamicConfig === void 0 ? void 0 : dynamicConfig.updated.termsAndConditions) &&\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"sup\", { className: 'text-danger' }, t('footer.updatedTC', 'Updated')),\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'ps-2' }, \"\\u00B7\")),\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'col-auto' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-muted px-1', href: '/privacy' }, t('footer.privacyStatement', 'Privacy Statement')),\n                            (dynamicConfig === null || dynamicConfig === void 0 ? void 0 : dynamicConfig.updated.privacy) &&\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"sup\", { className: 'text-danger me-2' }, t('footer.updatedPrivacy', 'Updated')),\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'ps-2' }, \"\\u00B7\")),\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_domain_ShowF3__WEBPACK_IMPORTED_MODULE_8__/* .ShowF3 */ .G, null,\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'col-auto' },\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-muted px-1', href: '/ccpa' },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"abbr\", { title: t('footer.californiaPrivacy', 'California Consumer Privacy Act') }, \"CCPA\"),\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { className: 'ms-1' }, t('footer.noticeCollection', 'Notice at Collection'))),\n                                (dynamicConfig === null || dynamicConfig === void 0 ? void 0 : dynamicConfig.updated.ccpa) && react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"sup\", { className: 'text-danger' }, t('footer.updatedCalifornia', 'Updated')),\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'ps-2' }, \"\\u00B7\"))),\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'col-auto' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-muted ps-2', href: '/sitemap' }, t('footer.siteMap', 'Site Map'))),\n                        useOSM &&\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'col-auto' },\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'px-2' }, \"\\u00B7\"),\n                                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.Trans, { i18nKey: 'footer.locationDataOSM', t: t },\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { className: 'mx-1' }, \"Location data provided by\"),\n                                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_6__/* .F3Link */ .y, { className: 'text-muted', href: 'https://www.openstreetmap.org/copyright', rel: 'nofollow', target: '_blank' }, \"OpenStreetMap\"))),\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"li\", { className: 'col-12', id: 'privacy_link', suppressHydrationWarning: true }))))));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjg0MjMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFVQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUdBO0FBTUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQU9BO0FBTUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBTUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zZXJ2ZXIvdGVtcGxhdGluZy9Gb2xkM0Zvb3Rlci50c3g/ZGZkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVHJhbnMsIHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBGM0xpbmsgfSBmcm9tICcuLi8uLi9zaGFyZWQvY29tcG9uZW50cy9GM0xpbmsnO1xuaW1wb3J0IHsgYWJicmV2aWF0ZU51bWJlciB9IGZyb20gJy4uLy4uL3NoYXJlZC9jb21wb25lbnRzL051bWJlckFiYnJldic7XG5pbXBvcnQgeyBTaXRlTG9nbyB9IGZyb20gJy4uLy4uL3NoYXJlZC9jb21wb25lbnRzL1NpdGVMb2dvJztcbmltcG9ydCB7IFNob3dGMyB9IGZyb20gJy4uLy4uL3NoYXJlZC9jb21wb25lbnRzL2RvbWFpbi9TaG93RjMnO1xuaW1wb3J0IHsgU3dpdGNoRG9tYWluIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2NvbXBvbmVudHMvZG9tYWluL1N3aXRjaERvbWFpbic7XG5pbXBvcnQgeyBGM0Nhc2UgfSBmcm9tICcuLi8uLi9zaGFyZWQvY29tcG9uZW50cy9zd2l0Y2gvRjNDYXNlJztcbmltcG9ydCB7IEYzU3dpdGNoIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2NvbXBvbmVudHMvc3dpdGNoL0YzU3dpdGNoJztcbmltcG9ydCB7IEZvbGQzUGFnZUNvbnRleHQgfSBmcm9tICcuLi8uLi9zaGFyZWQvY29udGV4dC9mb2xkM1BhZ2VDb250ZXh0JztcbmltcG9ydCB7IFJlY29yZENvdW50cyB9IGZyb20gJy4uLy4uL3NoYXJlZC9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgRjNRdWVyeSB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvZjMtcXVlcnkvRjNRdWVyeSc7XG5pbXBvcnQgeyB1c2VEb21haW4gfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2hvb2tzL3VzZURvbWFpbic7XG5pbXBvcnQgeyB1c2VVc2VyIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi9ob29rcy91c2VVc2VyJztcbmltcG9ydCB7IGdldEJsb2dIb3N0LCBnZXRTb2NpYWxNZWRpYVVybCB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvbG9jYWxpemF0aW9uL2RvbWFpbic7XG5pbXBvcnQgeyBjYW5DaGFuZ2VMYW5ndWFnZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvbG9jYWxpemF0aW9uL2xhbmd1YWdlSGVscGVycyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRm9sZDNGb290ZXJQcm9wcyB7XG5cdGhpZGVGb290ZXI/OiBib29sZWFuXG5cdGZ1bGxGb290ZXI/OiBib29sZWFuXG5cdHVzZU9TTT86IGJvb2xlYW5cblx0cmVjb3JkQ291bnRzPzogUmVjb3JkQ291bnRzXG59XG5cbmV4cG9ydCBjb25zdCBGb2xkM0Zvb3RlciA9ICh7IGZ1bGxGb290ZXIgPSB0cnVlLCB1c2VPU00gPSBmYWxzZSwgaGlkZUZvb3RlciwgcmVjb3JkQ291bnRzIH06IEZvbGQzRm9vdGVyUHJvcHMpID0+IHtcblx0Y29uc3QgeyBlbnZpcm9ubWVudCwgZHluYW1pY0NvbmZpZyB9ID0gUmVhY3QudXNlQ29udGV4dChGb2xkM1BhZ2VDb250ZXh0KTtcblx0Y29uc3QgeyBzaXRlTmFtZSwgcmVnU2l0ZU5hbWUsIHNpdGVUeXBlLCBmM0RvbWFpbiB9ID0gdXNlRG9tYWluKCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2Zvb3RlcicpO1xuXHRjb25zdCB7IHVzZXIsIGluc3RpdHV0aW9uLCBpc1NpZ25lZEluLCBpc0luc3RpdHV0aW9uIH0gPSB1c2VVc2VyKCk7XG5cblx0aWYgKGhpZGVGb290ZXIpIHJldHVybiBudWxsO1xuXG5cdGNvbnN0IHJlY29yZENvdW50ID0gYWJicmV2aWF0ZU51bWJlcihyZWNvcmRDb3VudHM/LlRPVEFMKTtcblxuXHRyZXR1cm4gPGZvb3RlciBjbGFzc05hbWU9J2NvbnRhaW5lciBib3JkZXItdG9wIG10LTUgcHQtNScgaWQ9J3BhZ2UtZm9vdGVyJz5cblx0XHR7XG5cdFx0XHRmdWxsRm9vdGVyICYmXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ncm93IGQtcHJpbnQtbm9uZSc+XG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtMTIgY29sLW1kLTgnPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdyb3cnPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC02IGNvbC1tZC0zJz5cblx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzTmFtZT0naDYgZnctYm9sZCcgaWQ9J3NpdGVMaW5rc0Zvb3Rlcic+e3QoJ2Zvb3Rlci5maW5kUmVjb3JkcycsICdGaW5kIFJlY29yZHMnKX08L2gzPlxuXHRcdFx0XHRcdFx0XHQ8dWwgYXJpYS1sYWJlbGxlZGJ5PSdzaXRlTGlua3NGb290ZXInIGNsYXNzTmFtZT0nbGlzdC11bnN0eWxlZCBmcy02Jz5cblx0XHRcdFx0XHRcdFx0XHQ8bGkgY2xhc3NOYW1lPSdwYi0yJz48RjNMaW5rIGNsYXNzTmFtZT0ndGV4dC1zZWNvbmRhcnknIGRhdGEtY3k9J2Zvb3Rlci1ob21lJyBocmVmPScvJz57dCgnZm9vdGVyLmhvbWUnLCAnSG9tZScpfTwvRjNMaW5rPjwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+PEYzTGluayBjbGFzc05hbWU9J3RleHQtc2Vjb25kYXJ5JyBkYXRhLWN5PSdmb290ZXItc2VhcmNoLXJlY29yZHMnIGhyZWY9Jy9zZWFyY2gnPnt0KCdmb290ZXIuc2VhcmNoUmVjb3JkcycsICdTZWFyY2ggUmVjb3JkcycpfTwvRjNMaW5rPjwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+PEYzTGluayBjbGFzc05hbWU9J3RleHQtc2Vjb25kYXJ5JyBkYXRhLWN5PSdmb290ZXItYnJvd3NlLXJlY29yZHMnIGhyZWY9Jy9icm93c2UvJz57dCgnZm9vdGVyLmJyb3dzZVJlY29yZHMnLCAnQnJvd3NlIFJlY29yZHMnKX08L0YzTGluaz48L2xpPlxuXHRcdFx0XHRcdFx0XHRcdDxsaSBjbGFzc05hbWU9J3BiLTInPjxGM0xpbmsgY2xhc3NOYW1lPSd0ZXh0LXNlY29uZGFyeScgZGF0YS1jeT0nZm9vdGVyLWxpc3QtcmVjb3JkcycgaHJlZj17RjNRdWVyeS5jcmVhdGVDb250ZW50VHlwZVF1ZXJ5KCdQVUJMSUNBVElPTicpLnRvVXJsKCl9Pnt0KCdmb290ZXIubGlzdEFsbFJlY29yZHMnLCAnTGlzdCBBbGwgUmVjb3JkcycpfTwvRjNMaW5rPjwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0IWlzSW5zdGl0dXRpb24gJiZcblx0XHRcdFx0XHRcdFx0XHRcdDxTaG93RjM+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxsaSBjbGFzc05hbWU9J3BiLTInPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxGM0xpbmsgY2xhc3NOYW1lPSd0ZXh0LXNlY29uZGFyeScgZGF0YS1jeT0nZm9vdGVyLXNlYXJjaC1zdGF0ZScgaHJlZj0nL2dvL3Vzc3RhdGVzJz57dCgnZm9vdGVyLnNlYXJjaEJ5U3RhdGUnLCAnU2VhcmNoIGJ5IFN0YXRlJyl9PC9GM0xpbms+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L1Nob3dGMz5cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdDwvdWw+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtNiBjb2wtbWQtMyc+XG5cdFx0XHRcdFx0XHRcdDxoMyBjbGFzc05hbWU9J2g2IGZ3LWJvbGQnIGlkPSdtZW1iZXJzaGlwRm9vdGVyJz57dCgnZm9vdGVyLm1lbWJlcnNoaXAnLCAnTWVtYmVyc2hpcCcpfTwvaDM+XG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRpc1NpZ25lZEluID9cblx0XHRcdFx0XHRcdFx0XHRcdDx1bCBhcmlhLWxhYmVsbGVkYnk9J21lbWJlcnNoaXBGb290ZXInIGNsYXNzTmFtZT0nbGlzdC11bnN0eWxlZCBmcy02Jz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+PEYzTGluayBjbGFzc05hbWU9J3RleHQtc2Vjb25kYXJ5JyBkYXRhLWN5PSdmb290ZXItYWNjb3VudC1kZXRhaWxzJyBocmVmPScvYWNjb3VudC8nPnt0KCdmb290ZXIuYWNjb3VudERldGFpbHMnLCAnQWNjb3VudCBEZXRhaWxzJyl9PC9GM0xpbms+PC9saT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+PEYzTGluayBjbGFzc05hbWU9J3RleHQtc2Vjb25kYXJ5JyBkYXRhLWN5PSdmb290ZXIteW91ci1wcm9maWxlJyBocmVmPXtgL3Byb2ZpbGUvJHt1c2VyLnVzZXJuYW1lfWB9Pnt0KCdmb290ZXIueW91clByb2ZpbGUnLCAnWW91ciBQcm9maWxlJyl9PC9GM0xpbms+PC9saT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PEYzTGlua1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSd0ZXh0LXNlY29uZGFyeSdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGEtY3k9J2Zvb3Rlci1ib29rbWFya3MnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRocmVmPScvZ2FsbGVyeS90YWdzL2Jvb2ttYXJrcydcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRpdGxlPXt0KCdmb290ZXIuYm9va21hcmtzTm90aWZpY2F0aW9ucycsICdCb29rbWFya3MgJiBOb3RpZmljYXRpb25zJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3QoJ2Zvb3Rlci5ib29rbWFya3MnLCAnQm9va21hcmtzJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9GM0xpbms+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxsaSBjbGFzc05hbWU9J3BiLTInPjxGM0xpbmsgY2xhc3NOYW1lPSd0ZXh0LXNlY29uZGFyeScgZGF0YS1jeT0nZm9vdGVyLXlvdXItZ2FsbGVyeScgaHJlZj0nL2dhbGxlcnknPnt0KCdmb290ZXIueW91ckdhbGxlcnknLCAnWW91ciBHYWxsZXJ5Jyl9PC9GM0xpbms+PC9saT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+PEYzTGluayBjbGFzc05hbWU9J3RleHQtc2Vjb25kYXJ5JyBkYXRhLWN5PSdmb290ZXItc2lnbi1vdXQnIGhyZWY9Jy9zaWdub2ZmJz57dCgnZm9vdGVyLnNpZ25PdXQnLCAnU2lnbiBPdXQnKX08L0YzTGluaz48L2xpPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC91bD4gOlxuXHRcdFx0XHRcdFx0XHRcdFx0PHVsIGFyaWEtbGFiZWxsZWRieT0nbWVtYmVyc2hpcEZvb3RlcicgY2xhc3NOYW1lPSdsaXN0LXVuc3R5bGVkIGZzLTYnPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGkgY2xhc3NOYW1lPSdwYi0yJz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8RjNMaW5rIGNsYXNzTmFtZT0ndGV4dC1zZWNvbmRhcnknIGRhdGEtY3k9J2Zvb3Rlci1qb2luLWYzJyBocmVmPScvY2hvb3NlLWEtcGxhbic+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7dCgnZm9vdGVyLmpvaW5TaXRlJywgJ0pvaW4ge3tzaXRlTmFtZX19JywgeyBzaXRlTmFtZSB9KX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0YzTGluaz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+PEYzTGluayBjbGFzc05hbWU9J3RleHQtc2Vjb25kYXJ5JyBkYXRhLWN5PSdmb290ZXItc2lnbi1pbicgaHJlZj0nL2xvZ2luJz57dCgnZm9vdGVyLnNpZ25JbicsICdTaWduIEluJyl9PC9GM0xpbms+PC9saT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+PEYzTGluayBjbGFzc05hbWU9J3RleHQtc2Vjb25kYXJ5JyBkYXRhLWN5PSdmb290ZXItZnJlZS1tZW1iZXJzaGlwJyBocmVmPScvY2hvb3NlLWEtcGxhbiNmcmVlQmFzaWMnPnt0KCdmb290ZXIuZnJlZU1lbWJlcnNoaXAnLCAnRnJlZSBNZW1iZXJzaGlwJyl9PC9GM0xpbms+PC9saT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+PEYzTGluayBjbGFzc05hbWU9J3RleHQtc2Vjb25kYXJ5JyBkYXRhLWN5PSdmb290ZXItZ2V0dGluZy1zdGFydGVkJyBocmVmPScvaGVscC9zZWFyY2gnPnt0KCdmb290ZXIuZ2V0dGluZ1N0YXJ0ZWQnLCAnR2V0dGluZyBTdGFydGVkJyl9PC9GM0xpbms+PC9saT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+PEYzTGluayBjbGFzc05hbWU9J3RleHQtc2Vjb25kYXJ5JyBkYXRhLWN5PSdmb290ZXItbWVtYmVyc2hpcC1oZWxwJyBocmVmPScvaGVscCc+e3QoJ2Zvb3Rlci5oZWxwJywgJ0hlbHAnKX08L0YzTGluaz48L2xpPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC91bD5cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLTYgY29sLW1kLTMnPlxuXHRcdFx0XHRcdFx0XHQ8aDMgY2xhc3NOYW1lPSdoNiBmdy1ib2xkJyBpZD0nbW9yZUZvb3Rlcic+e3QoJ2Zvb3Rlci5tb3JlJywgJ01vcmUnKX08L2gzPlxuXHRcdFx0XHRcdFx0XHQ8dWwgYXJpYS1sYWJlbGxlZGJ5PSdtb3JlRm9vdGVyJyBjbGFzc05hbWU9J2xpc3QtdW5zdHlsZWQgZnMtNic+XG5cdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8RjNMaW5rIGNsYXNzTmFtZT0ndGV4dC1zZWNvbmRhcnknIGRhdGEtY3k9J2Zvb3Rlci1hYm91dC1mb2xkMycgaHJlZj0nL2Fib3V0Jz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0e3QoJ2Zvb3Rlci5hYm91dCcsICdBYm91dCB7e3NpdGVOYW1lfX0nLCB7IHNpdGVOYW1lIH0pfVxuXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L0YzTGluaz5cblx0XHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdGlzU2lnbmVkSW4gJiZcblx0XHRcdFx0XHRcdFx0XHRcdDxTd2l0Y2hEb21haW4gZG9tYWluPXt7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCdGT1JDRVNfV0FSX1VLJzogPD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGkgY2xhc3NOYW1lPSdwYi0yJz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxGM0xpbmsgY2xhc3NOYW1lPSd0ZXh0LXNlY29uZGFyeScgZGF0YS1jeT0nZm9vdGVyLXNlYXJjaC1zdGF0ZScgaHJlZj0nL2V4cGVydCc+e3QoJ2Zvb3Rlci5kb2N1bWVudEV4cGVydCcsICdEb2N1bWVudCBFeHBlcnQnKX08L0YzTGluaz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsaSBjbGFzc05hbWU9J3BiLTInPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PEYzTGluayBjbGFzc05hbWU9J3RleHQtc2Vjb25kYXJ5JyBkYXRhLWN5PSdmb290ZXItaGlyZS1yZXNlYXJjaGVyJyBocmVmPScvZ28vaGlyZS1hLXJlc2VhcmNoZXInPnt0KCdmb290ZXIuaGlyZVJlc2VhcmNoZXInLCAnSGlyZSBhIFJlc2VhcmNoZXInKX08L0YzTGluaz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8Lz4sXG5cdFx0XHRcdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+PEYzTGluayBjbGFzc05hbWU9J3RleHQtc2Vjb25kYXJ5JyBkYXRhLWN5PSdmb290ZXItaGVscC1tb3JlJyBocmVmPScvaGVscCc+e3QoJ2Zvb3Rlci5oZWxwUmVzZWFyY2gnLCAnSGVscCcpfTwvRjNMaW5rPjwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0PFNob3dGMz5cblx0XHRcdFx0XHRcdFx0XHRcdDxsaSBjbGFzc05hbWU9J3BiLTInPjxGM0xpbmsgY2xhc3NOYW1lPSd0ZXh0LXNlY29uZGFyeScgZGF0YS1jeT0nZm9vdGVyLWluc3RpdHV0aW9ucycgaHJlZj0nL2luc3RpdHV0aW9ucyc+e3QoJ2Zvb3Rlci5pbnN0aXR1dGlvbnMnLCAnSW5zdGl0dXRpb25zJyl9PC9GM0xpbms+PC9saT5cblx0XHRcdFx0XHRcdFx0XHQ8L1Nob3dGMz5cblx0XHRcdFx0XHRcdFx0XHQ8bGkgY2xhc3NOYW1lPSdwYi0yJz48RjNMaW5rIGNsYXNzTmFtZT0ndGV4dC1zZWNvbmRhcnknIGRhdGEtY3k9J2Zvb3Rlci1hZmZpbGlhdGVzJyBocmVmPScvYWZmaWxpYXRlcyc+e3QoJ2Zvb3Rlci5hZmZpbGlhdGVzJywgJ0FmZmlsaWF0ZXMnKX08L0YzTGluaz48L2xpPlxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdGNhbkNoYW5nZUxhbmd1YWdlKGYzRG9tYWluKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0aXNTaWduZWRJbiAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+PEYzTGluayBjbGFzc05hbWU9J3RleHQtc2Vjb25kYXJ5JyBkYXRhLWN5PSdmb290ZXItYWZmaWxpYXRlcycgaHJlZj0nL2FjY291bnQ/ZWRpdD1sYW5ndWFnZSNhY2NvdW50LXNldHRpbmdzLXNlY3Rpb24tbGFuZ3VhZ2UnPnt0KCdmb290ZXIubGFuZ3VhZ2UnLCAnTGFuZ3VhZ2UnKX08L0YzTGluaz48L2xpPlxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0PC91bD5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC02IGNvbC1tZC0zJz5cblx0XHRcdFx0XHRcdFx0PGgzIGNsYXNzTmFtZT0naDYgZnctYm9sZCcgaWQ9J2Nvbm5lY3RGb290ZXInPnt0KCdmb290ZXIuY29ubmVjdCcsICdDb25uZWN0Jyl9PC9oMz5cblx0XHRcdFx0XHRcdFx0PHVsIGFyaWEtbGFiZWxsZWRieT0nY29ubmVjdEZvb3RlcicgY2xhc3NOYW1lPSdsaXN0LXVuc3R5bGVkIGZzLTYnPlxuXHRcdFx0XHRcdFx0XHRcdDxsaSBjbGFzc05hbWU9J3BiLTInPjxGM0xpbmsgY2xhc3NOYW1lPSd0ZXh0LXNlY29uZGFyeScgZGF0YS1jeT0nZm9vdGVyLWJsb2cnIGhyZWY9e2dldEJsb2dIb3N0KGYzRG9tYWluLCBlbnZpcm9ubWVudCl9Pnt0KCdmb290ZXIuYmxvZycsICdCbG9nJyl9PC9GM0xpbms+PC9saT5cblx0XHRcdFx0XHRcdFx0XHQ8bGkgY2xhc3NOYW1lPSdwYi0yJz5cblx0XHRcdFx0XHRcdFx0XHRcdDxGM0xpbmtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXJpYS1sYWJlbD17dCgnZm9vdGVyLmxpbmtUb1R3aXR0ZXInLCAnbGluayB0byBYIChUd2l0dGVyKScpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J3RleHQtc2Vjb25kYXJ5J1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhLWN5PSdmb290ZXItdHdpdHRlcidcblx0XHRcdFx0XHRcdFx0XHRcdFx0aHJlZj17Z2V0U29jaWFsTWVkaWFVcmwoc2l0ZVR5cGUsICdUV0lUVEVSJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt0KCdmb290ZXIudHdpdHRlcicsICdYIChUd2l0dGVyKScpfVxuXHRcdFx0XHRcdFx0XHRcdFx0PC9GM0xpbms+XG5cdFx0XHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHRcdFx0XHQ8bGkgY2xhc3NOYW1lPSdwYi0yJz5cblx0XHRcdFx0XHRcdFx0XHRcdDxGM0xpbmtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXJpYS1sYWJlbD17dCgnZm9vdGVyLmxpbmtUb0ZhY2Vib29rJywgJ2xpbmsgdG8gRmFjZWJvb2snKX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSd0ZXh0LXNlY29uZGFyeSdcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YS1jeT0nZm9vdGVyLWZhY2Vib29rJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRocmVmPXtnZXRTb2NpYWxNZWRpYVVybChzaXRlVHlwZSwgJ0ZBQ0VCT09LJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt0KCdmb290ZXIuZmFjZWJvb2snLCAnRmFjZWJvb2snKX1cblx0XHRcdFx0XHRcdFx0XHRcdDwvRjNMaW5rPlxuXHRcdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0Z2V0U29jaWFsTWVkaWFVcmwoc2l0ZVR5cGUsICdJTlNUQUdSQU0nKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxGM0xpbmtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmlhLWxhYmVsPXt0KCdmb290ZXIubGlua1RvSW5zdGFncmFtJywgJ2xpbmsgdG8gSW5zdGFncmFtJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSd0ZXh0LXNlY29uZGFyeSdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhLWN5PSdmb290ZXItaW5zdGFncmFtJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGhyZWY9e2dldFNvY2lhbE1lZGlhVXJsKHNpdGVUeXBlLCAnSU5TVEFHUkFNJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7dCgnZm9vdGVyLmluc3RhZ3JhbScsICdJbnN0YWdyYW0nKX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9GM0xpbms+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRnZXRTb2NpYWxNZWRpYVVybChzaXRlVHlwZSwgJ1lPVVRVQkUnKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncGItMic+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxGM0xpbmtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmlhLWxhYmVsPXt0KCdmb290ZXIubGlua1RvWW91VHViZScsICdsaW5rIHRvIFlvdVR1YmUnKX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J3RleHQtc2Vjb25kYXJ5J1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGEtY3k9J2Zvb3Rlci15b3V0dWJlJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGhyZWY9e2dldFNvY2lhbE1lZGlhVXJsKHNpdGVUeXBlLCAnWU9VVFVCRScpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3QoJ2Zvb3Rlci55b3VUdWJlJywgJ1lvdVR1YmUnKX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9GM0xpbms+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHQ8bGkgY2xhc3NOYW1lPSdwYi0yJz48RjNMaW5rIGNsYXNzTmFtZT0ndGV4dC1zZWNvbmRhcnknIGRhdGEtY3k9J2Zvb3Rlci1jb250YWN0LXVzJyBocmVmPScvY29udGFjdD9zdWJqZWN0PVN1cHBvcnQnPnt0KCdmb290ZXIuY29udGFjdFVzJywgJ0NvbnRhY3QgVXMnKX08L0YzTGluaz48L2xpPlxuXHRcdFx0XHRcdFx0XHQ8L3VsPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLTEyIGNvbC1tZC00Jz5cblx0XHRcdFx0XHQ8YmxvY2txdW90ZT5cblx0XHRcdFx0XHRcdDxGM1N3aXRjaCB2YWx1ZT17c2l0ZVR5cGV9PlxuXHRcdFx0XHRcdFx0XHQ8RjNDYXNlIHN3aXRjaENhc2U9J0YzJz5cblx0XHRcdFx0XHRcdFx0XHQ8aDMgY2xhc3NOYW1lPSdoNiB0ZXh0LXN0YXJ0IGZ3LWJvbGQnPlxuXHRcdFx0XHRcdFx0XHRcdFx0e3QoJ2Zvb3Rlci53aHlOYW1lJywgJ1doeSB0aGUgbmFtZSB7e3JlZ1NpdGVOYW1lfX0/JywgeyByZWdTaXRlTmFtZSB9KX1cblx0XHRcdFx0XHRcdFx0XHQ8L2gzPlxuXHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzTmFtZT0ndGV4dC1zdGFydCc+e3QoJ2Zvb3Rlci5mb2xkM09yaWdpbicsICdUcmFkaXRpb25hbGx5LCB0aGUgdGhpcmQgZm9sZCBpbiBzb21lIGZsYWctZm9sZGluZyBjZXJlbW9uaWVzIGhvbm9ycyBhbmQgcmVtZW1iZXJzIHZldGVyYW5zIGZvciB0aGVpciBzYWNyaWZpY2UgaW4gZGVmZW5kaW5nIHRoZWlyIGNvdW50cnkgYW5kIHByb21vdGluZyBwZWFjZSBpbiB0aGUgd29ybGQuJyl9PC9wPlxuXHRcdFx0XHRcdFx0XHQ8L0YzQ2FzZT5cblx0XHRcdFx0XHRcdFx0PEYzQ2FzZSBzd2l0Y2hDYXNlPSdGV1InPlxuXHRcdFx0XHRcdFx0XHRcdDxoMyBjbGFzc05hbWU9J2g2IHRleHQtc3RhcnQgZnctYm9sZCc+XG5cdFx0XHRcdFx0XHRcdFx0XHR7dCgnZm9vdGVyLndoeVNpdGUnLCAnV2h5IHt7cmVnU2l0ZU5hbWV9fT8nLCB7IHJlZ1NpdGVOYW1lIH0pfVxuXHRcdFx0XHRcdFx0XHRcdDwvaDM+XG5cdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3NOYW1lPSd0ZXh0LXN0YXJ0Jz5cblx0XHRcdFx0XHRcdFx0XHRcdHt0KCdmb290ZXIucmVjb3JkQ291bnQnLCAnV2l0aCB7e3JlY29yZENvdW50fX0gbWlsaXRhcnkgcmVjb3JkcywgYW5kIG1pbGl0YXJ5IGdlbmVhbG9neSBleHBlcnRzIHdhaXRpbmcgdG8gaGVhciBmcm9tIHlvdSwgd2UgYXJlIHRoZSBzdGFydGluZyBwb2ludCBmb3IgeW91ciBtaWxpdGFyeSBmYW1pbHkgaGlzdG9yeSByZXNlYXJjaC4nLCB7IHJlY29yZENvdW50IH0pfVxuXHRcdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdFx0PC9GM0Nhc2U+XG5cdFx0XHRcdFx0XHQ8L0YzU3dpdGNoPlxuXHRcdFx0XHRcdDwvYmxvY2txdW90ZT5cblx0XHRcdFx0XHQ8U2l0ZUxvZ28gY29sb3I9e3sgZGVza3RvcDogdHJ1ZSwgbW9iaWxlOiB0cnVlIH19IC8+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0fVxuXHRcdDxkaXYgY2xhc3NOYW1lPSdyb3cnPlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC0xMiB0ZXh0LWNlbnRlciB0ZXh0LW11dGVkIHB5LTMnPlxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0IWlzSW5zdGl0dXRpb24gJiYgIWZ1bGxGb290ZXIgJiZcblx0XHRcdFx0XHQ8RjNMaW5rIGNsYXNzTmFtZT0ndGV4dC1jZW50ZXInIGhyZWY9Jy8nIHRhcmdldD0nX3NlbGYnPlxuXHRcdFx0XHRcdFx0PFNpdGVMb2dvIGNvbG9yPXt7IGRlc2t0b3A6IHRydWUsIG1vYmlsZTogdHJ1ZSB9fSAvPlxuXHRcdFx0XHRcdDwvRjNMaW5rPlxuXHRcdFx0XHR9XG5cdFx0XHRcdHtcblx0XHRcdFx0XHRpc0luc3RpdHV0aW9uICYmXG5cdFx0XHRcdFx0ZjNEb21haW4gPT09ICdGT0xEM19VUycgJiZcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ncGFydG5lci1pZGVudCB0ZXh0LW11dGVkJz5cblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0aW5zdGl0dXRpb24udHlwZSA9PT0gJ3Byb3F1ZXN0JyA/XG5cdFx0XHRcdFx0XHRcdFx0PEYzTGluayBocmVmPSdodHRwczovL3d3dy5wcm9xdWVzdC5jb20vJz5cblx0XHRcdFx0XHRcdFx0XHRcdDxpbWdcblx0XHRcdFx0XHRcdFx0XHRcdFx0YWx0PXt0KCdmb290ZXIuZGlzdHJpYnV0ZWRCeVByb1F1ZXN0JywgJ0Rpc3RyaWJ1dGVkIGJ5IFByb1F1ZXN0wq4nKX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0aGVpZ2h0PScyNydcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3JjPScvaW1nL3Byby1xdWVzdC1pZGVudC5wbmcnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdpZHRoPScxNzUnXG5cdFx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdDwvRjNMaW5rPiA6XG5cdFx0XHRcdFx0XHRcdFx0PHN0cm9uZz5cblx0XHRcdFx0XHRcdFx0XHRcdHt0KCdmb290ZXIubGlicmFyeUVkaXRpb24nLCAn4oCUIHt7cmVnU2l0ZU5hbWV9fSBMaWJyYXJ5IEVkaXRpb24g4oCUJywgeyByZWdTaXRlTmFtZSB9KX1cblx0XHRcdFx0XHRcdFx0XHQ8L3N0cm9uZz5cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0fVxuXHRcdFx0XHQ8cCBjbGFzc05hbWU9J3RleHQtbXV0ZWQgdGV4dC1jZW50ZXInPlxuXHRcdFx0XHRcdDxzbWFsbD5cblx0XHRcdFx0XHRcdHt0KCdmb290ZXIuY29weXJpZ2h0JywgJ0NvcHlyaWdodCDCqSB7e25ld0RhdGV9fSB7e3JlZ1NpdGVOYW1lfX0gYnkgQW5jZXN0cnkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuJywgeyBuZXdEYXRlOiBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksIHJlZ1NpdGVOYW1lIH0pfVxuXHRcdFx0XHRcdDwvc21hbGw+XG5cdFx0XHRcdDwvcD5cblx0XHRcdFx0PHNtYWxsIGNsYXNzTmFtZT0nZC1wcmludC1ub25lJz5cblx0XHRcdFx0XHQ8dWwgY2xhc3NOYW1lPSdsaXN0LXVuc3R5bGVkIHJvdyBneC0yIGp1c3RpZnktY29udGVudC1jZW50ZXInPlxuXHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0nY29sLWF1dG8nPlxuXHRcdFx0XHRcdFx0XHQ8RjNMaW5rIGNsYXNzTmFtZT0ndGV4dC1tdXRlZCBweC0xJyBocmVmPScvdGVybXMtYW5kLWNvbmRpdGlvbnMnPnt0KCdmb290ZXIudGVybXNDb25kaXRpb25zJywgJ1Rlcm1zIGFuZCBDb25kaXRpb25zJyl9PC9GM0xpbms+XG5cdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRkeW5hbWljQ29uZmlnPy51cGRhdGVkLnRlcm1zQW5kQ29uZGl0aW9ucyAmJlxuXHRcdFx0XHRcdFx0XHRcdDxzdXAgY2xhc3NOYW1lPSd0ZXh0LWRhbmdlcic+e3QoJ2Zvb3Rlci51cGRhdGVkVEMnLCAnVXBkYXRlZCcpfTwvc3VwPlxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGFyaWEtaGlkZGVuPSd0cnVlJyBjbGFzc05hbWU9J3BzLTInPiZtaWRkb3Q7PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHRcdDxsaSBjbGFzc05hbWU9J2NvbC1hdXRvJz5cblx0XHRcdFx0XHRcdFx0PEYzTGluayBjbGFzc05hbWU9J3RleHQtbXV0ZWQgcHgtMScgaHJlZj0nL3ByaXZhY3knPnt0KCdmb290ZXIucHJpdmFjeVN0YXRlbWVudCcsICdQcml2YWN5IFN0YXRlbWVudCcpfTwvRjNMaW5rPlxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0ZHluYW1pY0NvbmZpZz8udXBkYXRlZC5wcml2YWN5ICYmXG5cdFx0XHRcdFx0XHRcdFx0PHN1cCBjbGFzc05hbWU9J3RleHQtZGFuZ2VyIG1lLTInPnt0KCdmb290ZXIudXBkYXRlZFByaXZhY3knLCAnVXBkYXRlZCcpfTwvc3VwPlxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGFyaWEtaGlkZGVuPSd0cnVlJyBjbGFzc05hbWU9J3BzLTInPiZtaWRkb3Q7PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHRcdDxTaG93RjM+XG5cdFx0XHRcdFx0XHRcdDxsaSBjbGFzc05hbWU9J2NvbC1hdXRvJz5cblx0XHRcdFx0XHRcdFx0XHQ8RjNMaW5rIGNsYXNzTmFtZT0ndGV4dC1tdXRlZCBweC0xJyBocmVmPScvY2NwYSc+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8YWJiciB0aXRsZT17dCgnZm9vdGVyLmNhbGlmb3JuaWFQcml2YWN5JywgJ0NhbGlmb3JuaWEgQ29uc3VtZXIgUHJpdmFjeSBBY3QnKX0+Q0NQQTwvYWJicj5cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0nbXMtMSc+e3QoJ2Zvb3Rlci5ub3RpY2VDb2xsZWN0aW9uJywgJ05vdGljZSBhdCBDb2xsZWN0aW9uJyl9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDwvRjNMaW5rPlxuXHRcdFx0XHRcdFx0XHRcdHsgZHluYW1pY0NvbmZpZz8udXBkYXRlZC5jY3BhICYmIDxzdXAgY2xhc3NOYW1lPSd0ZXh0LWRhbmdlcic+e3QoJ2Zvb3Rlci51cGRhdGVkQ2FsaWZvcm5pYScsICdVcGRhdGVkJyl9PC9zdXA+IH1cblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdwcy0yJz4mbWlkZG90Ozwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHRcdDwvU2hvd0YzPlxuXHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0nY29sLWF1dG8nPjxGM0xpbmsgY2xhc3NOYW1lPSd0ZXh0LW11dGVkIHBzLTInIGhyZWY9Jy9zaXRlbWFwJz57dCgnZm9vdGVyLnNpdGVNYXAnLCAnU2l0ZSBNYXAnKX08L0YzTGluaz48L2xpPlxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHR1c2VPU00gJiZcblx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0nY29sLWF1dG8nPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGFyaWEtaGlkZGVuPSd0cnVlJyBjbGFzc05hbWU9J3B4LTInPiZtaWRkb3Q7PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDxUcmFucyBpMThuS2V5PSdmb290ZXIubG9jYXRpb25EYXRhT1NNJyB0PXt0fT5cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0nbXgtMSc+TG9jYXRpb24gZGF0YSBwcm92aWRlZCBieTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHRcdDxGM0xpbmtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSd0ZXh0LW11dGVkJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRocmVmPSdodHRwczovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHQnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJlbD0nbm9mb2xsb3cnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRhcmdldD0nX2JsYW5rJ1xuXHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRPcGVuU3RyZWV0TWFwXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L0YzTGluaz5cblx0XHRcdFx0XHRcdFx0XHQ8L1RyYW5zPlxuXHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0nY29sLTEyJyBpZD0ncHJpdmFjeV9saW5rJyBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcgLz5cblx0XHRcdFx0XHQ8L3VsPlxuXHRcdFx0XHQ8L3NtYWxsPlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdDwvZm9vdGVyPjtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///68423\n")},60144:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ Fold3Page)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70655);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14426);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _shared_components_F3Link__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(21655);\n/* harmony import */ var _shared_components_F3Suspense__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(91847);\n/* harmony import */ var _shared_components_ads_AdSpots__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(84775);\n/* harmony import */ var _shared_components_page_TrackingScripts__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(27810);\n/* harmony import */ var _shared_components_sidebars_PageSidebars__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(52035);\n/* harmony import */ var _shared_context_fold3PageContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(67328);\n/* harmony import */ var _shared_lib_f3_query_F3Query__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(93150);\n/* harmony import */ var _shared_lib_hooks_useAlerts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(2193);\n/* harmony import */ var _shared_lib_hooks_useDialogs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(62083);\n/* harmony import */ var _shared_lib_hooks_useSidebar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(22929);\n/* harmony import */ var _F3Navbar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(80419);\n/* harmony import */ var _Fold3Footer__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(68423);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Fold3Page = function (props) {\n    var children = props.children, _session = props.session, _a = props.navbar, navbar = _a === void 0 ? {} : _a, _b = props.footer, footer = _b === void 0 ? { recordCounts: props.recordCounts } : _b, isMobile = props.isMobile, f3Domain = props.f3Domain, siteType = props.siteType, environment = props.environment, requestCountry = props.requestCountry, i18n = props.i18n, dynamicConfig = props.dynamicConfig, publications = props.publications, url = props.url, config = props.config;\n    var _c = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__read */ .CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(_session), 2), session = _c[0], setSession = _c[1];\n    var alerts = (0,_shared_lib_hooks_useAlerts__WEBPACK_IMPORTED_MODULE_3__/* .useAlertsContext */ .V)();\n    var dialogs = (0,_shared_lib_hooks_useDialogs__WEBPACK_IMPORTED_MODULE_4__/* .useDialogsContext */ ._)();\n    var sidebars = (0,_shared_lib_hooks_useSidebar__WEBPACK_IMPORTED_MODULE_5__/* .useSidebarsContext */ .V)();\n    var pageQuery = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new _shared_lib_f3_query_F3Query__WEBPACK_IMPORTED_MODULE_6__/* .F3Query */ .$J());\n    var setUser = function (user) {\n        setSession((0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)((0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({}, session), { user: user }));\n    };\n    var context = {\n        config: config,\n        session: session,\n        setUser: setUser,\n        pageQuery: pageQuery.current,\n        isMobile: isMobile,\n        alerts: alerts,\n        dialogs: dialogs,\n        sidebars: sidebars,\n        f3Domain: f3Domain,\n        siteType: siteType,\n        environment: environment,\n        requestCountry: requestCountry,\n        dynamicConfig: dynamicConfig,\n        publications: publications,\n    };\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_i18next__WEBPACK_IMPORTED_MODULE_1__.I18nextProvider, { i18n: i18n },\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_context_fold3PageContext__WEBPACK_IMPORTED_MODULE_7__/* .Fold3PageContext */ .h.Provider, { value: context },\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Suspense__WEBPACK_IMPORTED_MODULE_8__/* .F3Suspense */ .i, null,\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_F3Link__WEBPACK_IMPORTED_MODULE_9__/* .F3Link */ .y, { className: 'visually-hidden-focusable', href: '#content' }, \"Skip to content\"),\n                navbar !== null &&\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"header\", { id: 'navigation' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_F3Navbar__WEBPACK_IMPORTED_MODULE_10__/* .F3Navbar */ .K, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({}, navbar))),\n                        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_ads_AdSpots__WEBPACK_IMPORTED_MODULE_11__/* .AdSpots */ .y, { autoResize: true, locations: ['global-promo'], pageType: 'GLOBAL_BANNER' })),\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { id: 'betaBanner' }),\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'd-flex' },\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { id: _shared_components_sidebars_PageSidebars__WEBPACK_IMPORTED_MODULE_12__/* .PAGE_SIDEBAR_ID */ .F }),\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"main\", { className: 'flex-grow-1 main position-relative', id: 'content', tabIndex: -1 }, children)),\n                footer !== null &&\n                    react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_Fold3Footer__WEBPACK_IMPORTED_MODULE_13__/* .Fold3Footer */ .W, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({}, footer)),\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_shared_components_page_TrackingScripts__WEBPACK_IMPORTED_MODULE_14__/* .TrackingScripts */ .f, null))));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjAxNDQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQXlCQTtBQUVBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUdBO0FBSUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zZXJ2ZXIvdGVtcGxhdGluZy9Gb2xkM1BhZ2UudHN4PzdjZDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaTE4biB9IGZyb20gJ2kxOG5leHQnO1xuaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJMThuZXh0UHJvdmlkZXIgfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IENvbXBhY3RQdWJsaWNhdGlvbiB9IGZyb20gJy4uLy4uL3NoYXJlZC9hcGlzL3B1YmxpY2F0aW9uQXBpJztcbmltcG9ydCB7IEYzTGluayB9IGZyb20gJy4uLy4uL3NoYXJlZC9jb21wb25lbnRzL0YzTGluayc7XG5pbXBvcnQgeyBGM1N1c3BlbnNlIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2NvbXBvbmVudHMvRjNTdXNwZW5zZSc7XG5pbXBvcnQgeyBBZFNwb3RzIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2NvbXBvbmVudHMvYWRzL0FkU3BvdHMnO1xuaW1wb3J0IHsgVHJhY2tpbmdTY3JpcHRzIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2NvbXBvbmVudHMvcGFnZS9UcmFja2luZ1NjcmlwdHMnO1xuaW1wb3J0IHsgUEFHRV9TSURFQkFSX0lEIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2NvbXBvbmVudHMvc2lkZWJhcnMvUGFnZVNpZGViYXJzJztcbmltcG9ydCB7IEZvbGQzUGFnZUNvbnRleHQgfSBmcm9tICcuLi8uLi9zaGFyZWQvY29udGV4dC9mb2xkM1BhZ2VDb250ZXh0JztcbmltcG9ydCB7IERvbWFpbiwgVXNlckZ1bGwgfSBmcm9tICcuLi8uLi9zaGFyZWQvZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgRHluYW1pY0NvbmZpZywgRm9sZDNDb25maWd1cmF0aW9uLCBGb2xkM0Vudmlyb25tZW50LCBPYmosIFJlY29yZENvdW50cywgU2l0ZVR5cGUgfSBmcm9tICcuLi8uLi9zaGFyZWQvZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IENvdW50cnlDb2RlIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2VudW1zL2NvdW50cnlJU08uZW51bSc7XG5pbXBvcnQgeyBGM1F1ZXJ5IH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi9mMy1xdWVyeS9GM1F1ZXJ5JztcbmltcG9ydCB7IHVzZUFsZXJ0c0NvbnRleHQgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2hvb2tzL3VzZUFsZXJ0cyc7XG5pbXBvcnQgeyB1c2VEaWFsb2dzQ29udGV4dCB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvaG9va3MvdXNlRGlhbG9ncyc7XG5pbXBvcnQgeyB1c2VTaWRlYmFyc0NvbnRleHQgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL2hvb2tzL3VzZVNpZGViYXInO1xuaW1wb3J0IHsgU2Vzc2lvbk9iamVjdCB9IGZyb20gJy4uL3Nlc3Npb24vc2Vzc2lvbic7XG5pbXBvcnQgeyBGM05hdmJhciwgRjNOYXZiYXJQcm9wcyB9IGZyb20gJy4vRjNOYXZiYXInO1xuaW1wb3J0IHsgRm9sZDNGb290ZXIsIEZvbGQzRm9vdGVyUHJvcHMgfSBmcm9tICcuL0ZvbGQzRm9vdGVyJztcblxuZXhwb3J0IHR5cGUgRnVsbEZvbGQzUGFnZVByb3BzID0gUmVhY3QuUHJvcHNXaXRoQ2hpbGRyZW48e1xuXHRzZXNzaW9uPzogU2Vzc2lvbk9iamVjdFxuXHRzcG90bGlnaHRJZD86IG51bWJlclxuXHRyZWNvcmRDb3VudHM/OiBSZWNvcmRDb3VudHNcblx0aXNNb2JpbGU6IGJvb2xlYW5cblx0ZjNEb21haW46IERvbWFpblxuXHRzaXRlVHlwZTogU2l0ZVR5cGVcblx0ZW52aXJvbm1lbnQ6IEZvbGQzRW52aXJvbm1lbnRcblx0cmVxdWVzdENvdW50cnk6IENvdW50cnlDb2RlXG5cdGluaXRpYWxMYW5ndWFnZTogc3RyaW5nXG5cdHByZWxvYWROUz86IHN0cmluZ1tdXG5cdGkxOG46IGkxOG5cblx0ZHluYW1pY0NvbmZpZzogRHluYW1pY0NvbmZpZ1xuXHR1cmw6IHN0cmluZ1xuXHRwdWJsaWNhdGlvbnM6IE9iajxzdHJpbmcsIENvbXBhY3RQdWJsaWNhdGlvbj5cblx0Y29uZmlnOiBGb2xkM0NvbmZpZ3VyYXRpb25cbn0gJiBGb2xkM1BhZ2VQcm9wcz5cblxuZXhwb3J0IGludGVyZmFjZSBGb2xkM1BhZ2VQcm9wcyB7XG5cdG5hdmJhcj86IEYzTmF2YmFyUHJvcHNcblx0Zm9vdGVyPzogRm9sZDNGb290ZXJQcm9wc1xufVxuXG5leHBvcnQgY29uc3QgRm9sZDNQYWdlID0gKHByb3BzOiBGdWxsRm9sZDNQYWdlUHJvcHMpID0+IHtcblx0Y29uc3Qge1xuXHRcdGNoaWxkcmVuLFxuXHRcdHNlc3Npb246IF9zZXNzaW9uLFxuXHRcdG5hdmJhciA9IHt9LFxuXHRcdGZvb3RlciA9IHsgcmVjb3JkQ291bnRzOiBwcm9wcy5yZWNvcmRDb3VudHMgfSxcblx0XHRpc01vYmlsZSxcblx0XHRmM0RvbWFpbixcblx0XHRzaXRlVHlwZSxcblx0XHRlbnZpcm9ubWVudCxcblx0XHRyZXF1ZXN0Q291bnRyeSxcblx0XHRpMThuLFxuXHRcdGR5bmFtaWNDb25maWcsXG5cdFx0cHVibGljYXRpb25zLFxuXHRcdHVybCxcblx0XHRjb25maWcsXG5cdH0gPSBwcm9wcztcblxuXHRjb25zdCBbc2Vzc2lvbiwgc2V0U2Vzc2lvbl0gPSB1c2VTdGF0ZShfc2Vzc2lvbik7XG5cdGNvbnN0IGFsZXJ0cyA9IHVzZUFsZXJ0c0NvbnRleHQoKTtcblx0Y29uc3QgZGlhbG9ncyA9IHVzZURpYWxvZ3NDb250ZXh0KCk7XG5cdGNvbnN0IHNpZGViYXJzID0gdXNlU2lkZWJhcnNDb250ZXh0KCk7XG5cdGNvbnN0IHBhZ2VRdWVyeSA9IHVzZVJlZihuZXcgRjNRdWVyeSgpKTtcblxuXHRjb25zdCBzZXRVc2VyID0gKHVzZXI6IFVzZXJGdWxsKSA9PiB7XG5cdFx0c2V0U2Vzc2lvbih7IC4uLnNlc3Npb24sIHVzZXIgfSk7XG5cdH07XG5cblx0Y29uc3QgY29udGV4dDogRm9sZDNQYWdlQ29udGV4dCA9IHtcblx0XHRjb25maWcsXG5cdFx0c2Vzc2lvbixcblx0XHRzZXRVc2VyLFxuXHRcdHBhZ2VRdWVyeTogcGFnZVF1ZXJ5LmN1cnJlbnQsXG5cdFx0aXNNb2JpbGUsXG5cdFx0YWxlcnRzLFxuXHRcdGRpYWxvZ3MsXG5cdFx0c2lkZWJhcnMsXG5cdFx0ZjNEb21haW4sXG5cdFx0c2l0ZVR5cGUsXG5cdFx0ZW52aXJvbm1lbnQsXG5cdFx0cmVxdWVzdENvdW50cnksXG5cdFx0ZHluYW1pY0NvbmZpZyxcblx0XHRwdWJsaWNhdGlvbnMsXG5cdH07XG5cblx0cmV0dXJuIDxJMThuZXh0UHJvdmlkZXIgaTE4bj17aTE4bn0+XG5cdFx0PEZvbGQzUGFnZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2NvbnRleHR9PlxuXHRcdFx0PEYzU3VzcGVuc2U+XG5cdFx0XHRcdDxGM0xpbmsgY2xhc3NOYW1lPSd2aXN1YWxseS1oaWRkZW4tZm9jdXNhYmxlJyBocmVmPScjY29udGVudCc+U2tpcCB0byBjb250ZW50PC9GM0xpbms+XG5cblx0XHRcdFx0e1xuXHRcdFx0XHRcdG5hdmJhciAhPT0gbnVsbCAmJlxuXHRcdFx0XHRcdDw+XG5cdFx0XHRcdFx0XHQ8aGVhZGVyIGlkPSduYXZpZ2F0aW9uJz5cblx0XHRcdFx0XHRcdFx0PEYzTmF2YmFyIHsuLi5uYXZiYXJ9IC8+XG5cdFx0XHRcdFx0XHQ8L2hlYWRlcj5cblx0XHRcdFx0XHRcdDxBZFNwb3RzXG5cdFx0XHRcdFx0XHRcdGF1dG9SZXNpemVcblx0XHRcdFx0XHRcdFx0bG9jYXRpb25zPXtbJ2dsb2JhbC1wcm9tbyddfVxuXHRcdFx0XHRcdFx0XHRwYWdlVHlwZT0nR0xPQkFMX0JBTk5FUidcblx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0PC8+XG5cdFx0XHRcdH1cblx0XHRcdFx0PGRpdiBpZD0nYmV0YUJhbm5lcicgLz5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2QtZmxleCc+XG5cdFx0XHRcdFx0PGRpdiBpZD17UEFHRV9TSURFQkFSX0lEfSAvPlxuXHRcdFx0XHRcdDxtYWluIGNsYXNzTmFtZT0nZmxleC1ncm93LTEgbWFpbiBwb3NpdGlvbi1yZWxhdGl2ZScgaWQ9J2NvbnRlbnQnIHRhYkluZGV4PXstMX0+XG5cdFx0XHRcdFx0XHR7Y2hpbGRyZW59XG5cdFx0XHRcdFx0PC9tYWluPlxuXHRcdFx0XHQ8L2Rpdj5cblxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Zm9vdGVyICE9PSBudWxsICYmXG5cdFx0XHRcdFx0PEZvbGQzRm9vdGVyIHsuLi5mb290ZXJ9IC8+XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQ8VHJhY2tpbmdTY3JpcHRzIC8+XG5cdFx0XHQ8L0YzU3VzcGVuc2U+XG5cdFx0PC9Gb2xkM1BhZ2VDb250ZXh0LlByb3ZpZGVyPlxuXHQ8L0kxOG5leHRQcm92aWRlcj47XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///60144\n")},42219:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   D4: () => (/* binding */ F3Api),\n/* harmony export */   v$: () => (/* binding */ BackendService)\n/* harmony export */ });\n/* unused harmony export getClientServiceRoute */\n/* harmony import */ var _request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(80000);\n/* harmony import */ var _lib_getRuntime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(51057);\n/* harmony import */ var _lib_sharedConfig__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(32179);\n/* harmony import */ var _lib_localization_domain__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(40315);\n\n\n\n\nvar BackendService;\n(function (BackendService) {\n    BackendService[BackendService["FOLD31_API"] = 0] = "FOLD31_API";\n    BackendService[BackendService["COMMERCE"] = 1] = "COMMERCE";\n    BackendService[BackendService["EMAIL"] = 2] = "EMAIL";\n    BackendService[BackendService["SYS_EMAIL"] = 3] = "SYS_EMAIL";\n    BackendService[BackendService["INDEX_RECORD"] = 4] = "INDEX_RECORD";\n    BackendService[BackendService["MEMORIAL"] = 5] = "MEMORIAL";\n    BackendService[BackendService["REGIMENT"] = 6] = "REGIMENT";\n    BackendService[BackendService["SEARCH"] = 7] = "SEARCH";\n    BackendService[BackendService["IMAGE_DATA"] = 8] = "IMAGE_DATA";\n    BackendService[BackendService["FOLD31"] = 9] = "FOLD31";\n    BackendService[BackendService["IMAGE"] = 10] = "IMAGE";\n    BackendService[BackendService["INDEXER"] = 11] = "INDEXER";\n})(BackendService || (BackendService = {}));\n/**\n * F3Api can be used for both client- and server-side APIs. Extend the F3Api class by\n * specifying which BackendService is being referenced. The code below will determine\n * if the user is on client or server and will use the correct urls.\n */\nvar F3Api = /** @class */ (function () {\n    function F3Api(request) {\n        if (request === void 0) { request = null; }\n        this.req = request;\n    }\n    F3Api.prototype.get = function (url, options) {\n        return _request__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .ZP.get(url, this.processOptions(options));\n    };\n    F3Api.prototype.post = function (url, data, options) {\n        return _request__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .ZP.post(url, data, this.processOptions(options));\n    };\n    F3Api.prototype.put = function (url, data, options) {\n        if (data === void 0) { data = null; }\n        return _request__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .ZP.put(url, data, this.processOptions(options));\n    };\n    F3Api.prototype.delete = function (url, options) {\n        return _request__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .ZP.delete(url, this.processOptions(options));\n    };\n    /* To only be used in Node */\n    F3Api.prototype.download = function (url, options) {\n        if (options === void 0) { options = {}; }\n        options.responseType = \'stream\';\n        options.raw = true;\n        return _request__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .ZP.get(url, this.processOptions(options));\n    };\n    F3Api.prototype.getDomain = function () {\n        return (0,_lib_localization_domain__WEBPACK_IMPORTED_MODULE_1__/* .getDomain */ .ge)(this.req);\n    };\n    F3Api.prototype.processOptions = function (options) {\n        if (options === void 0) { options = {}; }\n        var baseURL = options.baseURL;\n        if (baseURL === undefined) {\n            baseURL = this.getServiceUrl();\n        }\n        var newOpts = {\n            req: this.req,\n            baseURL: baseURL,\n        };\n        return Object.assign(newOpts, options);\n    };\n    F3Api.prototype.getServiceUrl = function () {\n        var url;\n        switch ((0,_lib_getRuntime__WEBPACK_IMPORTED_MODULE_2__/* .getRuntime */ .OP)()) {\n            case \'BROWSER\':\n                url = getClientServiceRoute(this.service);\n                break;\n            case \'NODE\':\n                url = getServerServiceUrl(this.service);\n                break;\n        }\n        return "".concat(url).concat(this.baseUrl || \'\');\n    };\n    return F3Api;\n}());\n\nvar getClientServiceRoute = function (service) {\n    switch (service) {\n        case BackendService.FOLD31: return \'/fold31\';\n        case BackendService.FOLD31_API: return \'/fold31-api\';\n        case BackendService.COMMERCE: return \'/fold31-commerce\';\n        case BackendService.INDEX_RECORD: return \'/fold31-index-record\';\n        case BackendService.MEMORIAL: return \'/fold31-memorial\';\n        case BackendService.REGIMENT: return \'/fold31-regiment\';\n        case BackendService.SEARCH: return \'/fold31-search\';\n        case BackendService.IMAGE_DATA: return \'/fold31-image-data\';\n        case BackendService.IMAGE: return \'/fold31-image\';\n        case BackendService.INDEXER: return \'/fold31-indexer\';\n        case BackendService.SYS_EMAIL: return \'/fold31-email\';\n        case null: return \'\';\n        default:\n            throw new Error("".concat(service, " is not a supported backend service."));\n    }\n};\nvar getServerServiceUrl = function (service) {\n    var config = (0,_lib_sharedConfig__WEBPACK_IMPORTED_MODULE_3__/* .getConfig */ .iE)();\n    var services = config.backendServices;\n    switch (service) {\n        case BackendService.FOLD31: return services.fold31;\n        case BackendService.COMMERCE: return services.commerce;\n        case BackendService.FOLD31_API: return services.f3Api;\n        case BackendService.INDEX_RECORD: return services.indexRecord;\n        case BackendService.MEMORIAL: return services.memorials;\n        case BackendService.REGIMENT: return services.regiment;\n        case BackendService.SEARCH: return services.search;\n        case BackendService.IMAGE_DATA: return services.imageData;\n        case BackendService.IMAGE: return services.image;\n        case BackendService.INDEXER: return services._indexer;\n        case null: return \'\';\n        default:\n            throw new Error("".concat(service, " is not a supported backend service."));\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIyMTkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2FwaXMvRjNBcGkudHM/MTYzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmVxdWVzdCwgeyBGM1JlcXVlc3RPcHRpb25zIH0gZnJvbSAnLi9yZXF1ZXN0JztcbmltcG9ydCB7IEF4aW9zUmVzcG9uc2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBGM1JlcXVlc3QgfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgZ2V0UnVudGltZSB9IGZyb20gJy4uL2xpYi9nZXRSdW50aW1lJztcbmltcG9ydCB7IGdldENvbmZpZyB9IGZyb20gJy4uL2xpYi9zaGFyZWRDb25maWcnO1xuaW1wb3J0IHsgZ2V0RG9tYWluIH0gZnJvbSAnLi4vbGliL2xvY2FsaXphdGlvbi9kb21haW4nO1xuXG5leHBvcnQgZW51bSBCYWNrZW5kU2VydmljZSB7XG5cdCdGT0xEMzFfQVBJJyxcblx0J0NPTU1FUkNFJyxcblx0J0VNQUlMJyxcblx0J1NZU19FTUFJTCcsXG5cdCdJTkRFWF9SRUNPUkQnLFxuXHQnTUVNT1JJQUwnLFxuXHQnUkVHSU1FTlQnLFxuXHQnU0VBUkNIJyxcblx0J0lNQUdFX0RBVEEnLFxuXHQnRk9MRDMxJyxcblx0J0lNQUdFJyxcblx0J0lOREVYRVInLFxufVxuXG4vKipcbiAqIEYzQXBpIGNhbiBiZSB1c2VkIGZvciBib3RoIGNsaWVudC0gYW5kIHNlcnZlci1zaWRlIEFQSXMuIEV4dGVuZCB0aGUgRjNBcGkgY2xhc3MgYnlcbiAqIHNwZWNpZnlpbmcgd2hpY2ggQmFja2VuZFNlcnZpY2UgaXMgYmVpbmcgcmVmZXJlbmNlZC4gVGhlIGNvZGUgYmVsb3cgd2lsbCBkZXRlcm1pbmVcbiAqIGlmIHRoZSB1c2VyIGlzIG9uIGNsaWVudCBvciBzZXJ2ZXIgYW5kIHdpbGwgdXNlIHRoZSBjb3JyZWN0IHVybHMuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGM0FwaSB7XG5cdHByb3RlY3RlZCBhYnN0cmFjdCBzZXJ2aWNlOiBCYWNrZW5kU2VydmljZTtcblx0cHJvdGVjdGVkIGJhc2VVcmw6IHN0cmluZztcblxuXHRyZXE6IEYzUmVxdWVzdDtcblxuXHRjb25zdHJ1Y3RvcihyZXF1ZXN0OiBGM1JlcXVlc3QgPSBudWxsKSB7XG5cdFx0dGhpcy5yZXEgPSByZXF1ZXN0O1xuXHR9XG5cblx0Z2V0PFQ+KHVybDogc3RyaW5nLCBvcHRpb25zPzogRjNSZXF1ZXN0T3B0aW9ucykge1xuXHRcdHJldHVybiByZXF1ZXN0LmdldDxUPih1cmwsIHRoaXMucHJvY2Vzc09wdGlvbnMob3B0aW9ucykpO1xuXHR9XG5cblx0cG9zdDxUPih1cmw6IHN0cmluZywgZGF0YT86IGFueSwgb3B0aW9ucz86IEYzUmVxdWVzdE9wdGlvbnMpIHtcblx0XHRyZXR1cm4gcmVxdWVzdC5wb3N0PFQ+KHVybCwgZGF0YSwgdGhpcy5wcm9jZXNzT3B0aW9ucyhvcHRpb25zKSk7XG5cdH1cblxuXHRwdXQ8VD4odXJsOiBzdHJpbmcsIGRhdGE6IGFueSA9IG51bGwsIG9wdGlvbnM/OiBGM1JlcXVlc3RPcHRpb25zKSB7XG5cdFx0cmV0dXJuIHJlcXVlc3QucHV0PFQ+KHVybCwgZGF0YSwgdGhpcy5wcm9jZXNzT3B0aW9ucyhvcHRpb25zKSk7XG5cdH1cblxuXHRkZWxldGU8VD4odXJsOiBzdHJpbmcsIG9wdGlvbnM/OiBGM1JlcXVlc3RPcHRpb25zKSB7XG5cdFx0cmV0dXJuIHJlcXVlc3QuZGVsZXRlPFQ+KHVybCwgdGhpcy5wcm9jZXNzT3B0aW9ucyhvcHRpb25zKSk7XG5cdH1cblxuXHQvKiBUbyBvbmx5IGJlIHVzZWQgaW4gTm9kZSAqL1xuXHRkb3dubG9hZCh1cmw6IHN0cmluZywgb3B0aW9uczogRjNSZXF1ZXN0T3B0aW9ucyA9IHt9KSB7XG5cdFx0b3B0aW9ucy5yZXNwb25zZVR5cGUgPSAnc3RyZWFtJztcblx0XHRvcHRpb25zLnJhdyA9IHRydWU7XG5cblx0XHRyZXR1cm4gcmVxdWVzdC5nZXQ8QXhpb3NSZXNwb25zZTxhbnk+Pih1cmwsIHRoaXMucHJvY2Vzc09wdGlvbnMob3B0aW9ucykpO1xuXHR9XG5cblx0Z2V0RG9tYWluKCkge1xuXHRcdHJldHVybiBnZXREb21haW4odGhpcy5yZXEpO1xuXHR9XG5cblx0cHJpdmF0ZSBwcm9jZXNzT3B0aW9ucyhvcHRpb25zOiBGM1JlcXVlc3RPcHRpb25zID0ge30pIHtcblx0XHRsZXQgYmFzZVVSTCA9IG9wdGlvbnMuYmFzZVVSTDtcblx0XHRpZiAoYmFzZVVSTCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRiYXNlVVJMID0gdGhpcy5nZXRTZXJ2aWNlVXJsKCk7XG5cdFx0fVxuXG5cdFx0bGV0IG5ld09wdHMgPSB7XG5cdFx0XHRyZXE6IHRoaXMucmVxLFxuXHRcdFx0YmFzZVVSTCxcblx0XHR9O1xuXG5cdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24obmV3T3B0cywgb3B0aW9ucyk7XG5cdH1cblxuXHRwcml2YXRlIGdldFNlcnZpY2VVcmwoKSB7XG5cdFx0bGV0IHVybDtcblxuXHRcdHN3aXRjaCAoZ2V0UnVudGltZSgpKSB7XG5cdFx0XHRjYXNlICdCUk9XU0VSJzogdXJsID0gZ2V0Q2xpZW50U2VydmljZVJvdXRlKHRoaXMuc2VydmljZSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnTk9ERSc6IHVybCA9IGdldFNlcnZlclNlcnZpY2VVcmwodGhpcy5zZXJ2aWNlKTsgYnJlYWs7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGAke3VybH0ke3RoaXMuYmFzZVVybCB8fCAnJ31gO1xuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRDbGllbnRTZXJ2aWNlUm91dGUgPSAoc2VydmljZTogQmFja2VuZFNlcnZpY2UpID0+IHtcblx0c3dpdGNoIChzZXJ2aWNlKSB7XG5cdFx0Y2FzZSBCYWNrZW5kU2VydmljZS5GT0xEMzE6IHJldHVybiAnL2ZvbGQzMSc7XG5cdFx0Y2FzZSBCYWNrZW5kU2VydmljZS5GT0xEMzFfQVBJOiByZXR1cm4gJy9mb2xkMzEtYXBpJztcblx0XHRjYXNlIEJhY2tlbmRTZXJ2aWNlLkNPTU1FUkNFOiByZXR1cm4gJy9mb2xkMzEtY29tbWVyY2UnO1xuXHRcdGNhc2UgQmFja2VuZFNlcnZpY2UuSU5ERVhfUkVDT1JEOiByZXR1cm4gJy9mb2xkMzEtaW5kZXgtcmVjb3JkJztcblx0XHRjYXNlIEJhY2tlbmRTZXJ2aWNlLk1FTU9SSUFMOiByZXR1cm4gJy9mb2xkMzEtbWVtb3JpYWwnO1xuXHRcdGNhc2UgQmFja2VuZFNlcnZpY2UuUkVHSU1FTlQ6IHJldHVybiAnL2ZvbGQzMS1yZWdpbWVudCc7XG5cdFx0Y2FzZSBCYWNrZW5kU2VydmljZS5TRUFSQ0g6IHJldHVybiAnL2ZvbGQzMS1zZWFyY2gnO1xuXHRcdGNhc2UgQmFja2VuZFNlcnZpY2UuSU1BR0VfREFUQTogcmV0dXJuICcvZm9sZDMxLWltYWdlLWRhdGEnO1xuXHRcdGNhc2UgQmFja2VuZFNlcnZpY2UuSU1BR0U6IHJldHVybiAnL2ZvbGQzMS1pbWFnZSc7XG5cdFx0Y2FzZSBCYWNrZW5kU2VydmljZS5JTkRFWEVSOiByZXR1cm4gJy9mb2xkMzEtaW5kZXhlcic7XG5cdFx0Y2FzZSBCYWNrZW5kU2VydmljZS5TWVNfRU1BSUw6IHJldHVybiAnL2ZvbGQzMS1lbWFpbCc7XG5cdFx0Y2FzZSBudWxsOiByZXR1cm4gJyc7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHRocm93IG5ldyBFcnJvcihgJHtzZXJ2aWNlfSBpcyBub3QgYSBzdXBwb3J0ZWQgYmFja2VuZCBzZXJ2aWNlLmApO1xuXHR9XG59O1xuXG5cbmNvbnN0IGdldFNlcnZlclNlcnZpY2VVcmwgPSAoc2VydmljZTogQmFja2VuZFNlcnZpY2UpID0+IHtcblx0Y29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKCk7XG5cdGNvbnN0IHNlcnZpY2VzID0gY29uZmlnLmJhY2tlbmRTZXJ2aWNlcztcblxuXHRzd2l0Y2ggKHNlcnZpY2UpIHtcblx0XHRjYXNlIEJhY2tlbmRTZXJ2aWNlLkZPTEQzMTogcmV0dXJuIHNlcnZpY2VzLmZvbGQzMTtcblx0XHRjYXNlIEJhY2tlbmRTZXJ2aWNlLkNPTU1FUkNFOiByZXR1cm4gc2VydmljZXMuY29tbWVyY2U7XG5cdFx0Y2FzZSBCYWNrZW5kU2VydmljZS5GT0xEMzFfQVBJOiByZXR1cm4gc2VydmljZXMuZjNBcGk7XG5cdFx0Y2FzZSBCYWNrZW5kU2VydmljZS5JTkRFWF9SRUNPUkQ6IHJldHVybiBzZXJ2aWNlcy5pbmRleFJlY29yZDtcblx0XHRjYXNlIEJhY2tlbmRTZXJ2aWNlLk1FTU9SSUFMOiByZXR1cm4gc2VydmljZXMubWVtb3JpYWxzO1xuXHRcdGNhc2UgQmFja2VuZFNlcnZpY2UuUkVHSU1FTlQ6IHJldHVybiBzZXJ2aWNlcy5yZWdpbWVudDtcblx0XHRjYXNlIEJhY2tlbmRTZXJ2aWNlLlNFQVJDSDogcmV0dXJuIHNlcnZpY2VzLnNlYXJjaDtcblx0XHRjYXNlIEJhY2tlbmRTZXJ2aWNlLklNQUdFX0RBVEE6IHJldHVybiBzZXJ2aWNlcy5pbWFnZURhdGE7XG5cdFx0Y2FzZSBCYWNrZW5kU2VydmljZS5JTUFHRTogcmV0dXJuIHNlcnZpY2VzLmltYWdlO1xuXHRcdGNhc2UgQmFja2VuZFNlcnZpY2UuSU5ERVhFUjogcmV0dXJuIHNlcnZpY2VzLl9pbmRleGVyO1xuXHRcdGNhc2UgbnVsbDogcmV0dXJuICcnO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYCR7c2VydmljZX0gaXMgbm90IGEgc3VwcG9ydGVkIGJhY2tlbmQgc2VydmljZS5gKTtcblx0fVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///42219\n')},30539:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   p: () => (/* binding */ CampaignApi)\n/* harmony export */ });\n/* unused harmony export campaignApi */\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70655);\n/* harmony import */ var _lib_sharedConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(32179);\n/* harmony import */ var _F3Api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42219);\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/service/CampaignService.html) */\nvar CampaignApi = /** @class */ (function (_super) {\n    (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__extends */ .ZT)(CampaignApi, _super);\n    function CampaignApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = _F3Api__WEBPACK_IMPORTED_MODULE_1__/* .BackendService */ .v$.FOLD31;\n        _this.baseUrl = '/api/campaign';\n        return _this;\n    }\n    CampaignApi.prototype.createNewCampaign = function (campaign) {\n        return this.post('', campaign, { deserializeType: 'Campaign' });\n    };\n    CampaignApi.prototype.deleteCampaign = function (id) {\n        return this.delete(\"/\".concat(id));\n    };\n    CampaignApi.prototype.getCampaign = function (id) {\n        return this.get(\"/\".concat(id), {\n            deserializeType: 'Campaign',\n        });\n    };\n    CampaignApi.prototype.listAllCampaigns = function () {\n        return this.get('', { deserializeType: 'Campaign' });\n    };\n    CampaignApi.prototype.listActiveCampaigns = function () {\n        return this.get('/active', {\n            deserializeType: 'Campaign',\n        });\n    };\n    CampaignApi.prototype.listCampaignsAffectingPublication = function (pubId) {\n        return this.get(\"/publication/\".concat(pubId), {\n            deserializeType: 'Campaign',\n        });\n    };\n    CampaignApi.prototype.updateCampaign = function (id, campaign) {\n        return this.put(\"/\".concat(id), campaign, {\n            deserializeType: 'Campaign',\n        });\n    };\n    CampaignApi.prototype.getAdvertisementLayout = function (type, locations, objectId) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__awaiter */ .mG)(this, void 0, void 0, function () {\n            var url, adLayout;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__generator */ .Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = \"/ads/\".concat(type);\n                        if (!!objectId)\n                            url += \"/\".concat(objectId);\n                        return [4 /*yield*/, this.get(url, {\n                                params: { location: locations.join(',') },\n                                deserializeType: 'AdvertisementLayout',\n                            })];\n                    case 1:\n                        adLayout = _a.sent();\n                        if ((0,_lib_sharedConfig__WEBPACK_IMPORTED_MODULE_2__/* .getConfig */ .iE)().app.env === 'local') {\n                            adLayout.forEach(function (layout) {\n                                layout.advertisementUrl = layout.advertisementUrl.replace('devf3.com', 'localf3.com:9292');\n                            });\n                        }\n                        return [2 /*return*/, adLayout];\n                }\n            });\n        });\n    };\n    CampaignApi.prototype.createCampaignTestToken = function (testToken) {\n        return this.post('/test', testToken, {\n            primitive: true,\n        });\n    };\n    CampaignApi.prototype.getTokenCampaignDetails = function (tokenOrAlias) {\n        return this.get(\"/token/\".concat(tokenOrAlias));\n    };\n    CampaignApi.prototype.addToken = function (campaignId) {\n        return this.post(\"/token/\".concat(campaignId), { primitive: true });\n    };\n    CampaignApi.prototype.removeToken = function (campaignId) {\n        return this.delete(\"/token/\".concat(campaignId));\n    };\n    return CampaignApi;\n}(_F3Api__WEBPACK_IMPORTED_MODULE_1__/* .F3Api */ .D4));\n\nvar campaignApi = new CampaignApi();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA1MzkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBMkVBO0FBekVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTs7Ozs7O0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2FwaXMvY2FtcGFpZ25BcGkudHM/MTY5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZHZlcnRpc2VtZW50TGF5b3V0LCBDYW1wYWlnbiwgQ29udGVudFR5cGUsIENyZWF0ZUNhbXBhaWduVGVzdFRva2VuLCBUb2tlbkNhbXBhaWduRGV0YWlscywgVXBkYXRlQ2FtcGFpZ24gfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBnZXRDb25maWcgfSBmcm9tICcuLi9saWIvc2hhcmVkQ29uZmlnJztcbmltcG9ydCB7IEJhY2tlbmRTZXJ2aWNlLCBGM0FwaSB9IGZyb20gJy4vRjNBcGknO1xuXG4vKiogW1NlZSBEb2N1bWVudGF0aW9uXShodHRwczovL2pmb2xkMy5pYXJjaGl2ZXMuY29tL2pvYi9mMy1iYWNrZW5kL2phdmFkb2MvY29tL2FuY2VzdHJ5L2ViL2ZvbGQzMS9zZXJ2aWNlL0NhbXBhaWduU2VydmljZS5odG1sKSAqL1xuZXhwb3J0IGNsYXNzIENhbXBhaWduQXBpIGV4dGVuZHMgRjNBcGkge1xuXHRzZXJ2aWNlID0gQmFja2VuZFNlcnZpY2UuRk9MRDMxO1xuXHRiYXNlVXJsID0gJy9hcGkvY2FtcGFpZ24nO1xuXG5cdGNyZWF0ZU5ld0NhbXBhaWduKGNhbXBhaWduOiBVcGRhdGVDYW1wYWlnbik6IFByb21pc2U8Q2FtcGFpZ24+IHtcblx0XHRyZXR1cm4gdGhpcy5wb3N0KCcnLCBjYW1wYWlnbiwgeyBkZXNlcmlhbGl6ZVR5cGU6ICdDYW1wYWlnbicgfSk7XG5cdH1cblxuXHRkZWxldGVDYW1wYWlnbihpZDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIHRoaXMuZGVsZXRlKGAvJHtpZH1gKTtcblx0fVxuXG5cdGdldENhbXBhaWduKGlkOiBudW1iZXIpOiBQcm9taXNlPENhbXBhaWduPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvJHtpZH1gLCB7XG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdDYW1wYWlnbicsXG5cdFx0fSk7XG5cdH1cblxuXHRsaXN0QWxsQ2FtcGFpZ25zKCk6IFByb21pc2U8Q2FtcGFpZ25bXT4ge1xuXHRcdHJldHVybiB0aGlzLmdldCgnJywgeyBkZXNlcmlhbGl6ZVR5cGU6ICdDYW1wYWlnbicgfSk7XG5cdH1cblxuXHRsaXN0QWN0aXZlQ2FtcGFpZ25zKCk6IFByb21pc2U8Q2FtcGFpZ25bXT4ge1xuXHRcdHJldHVybiB0aGlzLmdldCgnL2FjdGl2ZScsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0NhbXBhaWduJyxcblx0XHR9KTtcblx0fVxuXG5cdGxpc3RDYW1wYWlnbnNBZmZlY3RpbmdQdWJsaWNhdGlvbihwdWJJZDogbnVtYmVyKTogUHJvbWlzZTxDYW1wYWlnbltdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvcHVibGljYXRpb24vJHtwdWJJZH1gLCB7XG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdDYW1wYWlnbicsXG5cdFx0fSk7XG5cdH1cblxuXHR1cGRhdGVDYW1wYWlnbihpZDogbnVtYmVyLCBjYW1wYWlnbjogVXBkYXRlQ2FtcGFpZ24pOiBQcm9taXNlPENhbXBhaWduPiB7XG5cdFx0cmV0dXJuIHRoaXMucHV0KGAvJHtpZH1gLCBjYW1wYWlnbiwge1xuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnQ2FtcGFpZ24nLFxuXHRcdH0pO1xuXHR9XG5cblx0YXN5bmMgZ2V0QWR2ZXJ0aXNlbWVudExheW91dCh0eXBlOiBDb250ZW50VHlwZSwgbG9jYXRpb25zOiBzdHJpbmdbXSwgb2JqZWN0SWQ6IHN0cmluZyB8IG51bWJlcik6IFByb21pc2U8QWR2ZXJ0aXNlbWVudExheW91dFtdPlxuXHRhc3luYyBnZXRBZHZlcnRpc2VtZW50TGF5b3V0KHR5cGU6IHN0cmluZywgbG9jYXRpb25zOiBzdHJpbmdbXSk6IFByb21pc2U8QWR2ZXJ0aXNlbWVudExheW91dCBbXT5cblx0YXN5bmMgZ2V0QWR2ZXJ0aXNlbWVudExheW91dCh0eXBlOiBDb250ZW50VHlwZSB8IHN0cmluZywgbG9jYXRpb25zOiBzdHJpbmdbXSwgb2JqZWN0SWQ/OiBzdHJpbmcgfCBudW1iZXIpIHtcblx0XHRsZXQgdXJsID0gYC9hZHMvJHt0eXBlfWA7XG5cdFx0aWYgKCEhb2JqZWN0SWQpIHVybCArPSBgLyR7b2JqZWN0SWR9YDtcblxuXHRcdGxldCBhZExheW91dDogQWR2ZXJ0aXNlbWVudExheW91dFtdID0gYXdhaXQgdGhpcy5nZXQodXJsLCB7XG5cdFx0XHRwYXJhbXM6IHsgbG9jYXRpb246IGxvY2F0aW9ucy5qb2luKCcsJykgfSxcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0FkdmVydGlzZW1lbnRMYXlvdXQnLFxuXHRcdH0pO1xuXG5cdFx0aWYgKGdldENvbmZpZygpLmFwcC5lbnYgPT09ICdsb2NhbCcpIHtcblx0XHRcdGFkTGF5b3V0LmZvckVhY2gobGF5b3V0ID0+IHtcblx0XHRcdFx0bGF5b3V0LmFkdmVydGlzZW1lbnRVcmwgPSBsYXlvdXQuYWR2ZXJ0aXNlbWVudFVybC5yZXBsYWNlKCdkZXZmMy5jb20nLCAnbG9jYWxmMy5jb206OTI5MicpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFkTGF5b3V0O1xuXHR9XG5cblx0Y3JlYXRlQ2FtcGFpZ25UZXN0VG9rZW4odGVzdFRva2VuOiBDcmVhdGVDYW1wYWlnblRlc3RUb2tlbik6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdCgnL3Rlc3QnLCB0ZXN0VG9rZW4sIHtcblx0XHRcdHByaW1pdGl2ZTogdHJ1ZSxcblx0XHR9KTtcblx0fVxuXG5cdGdldFRva2VuQ2FtcGFpZ25EZXRhaWxzKHRva2VuT3JBbGlhczogc3RyaW5nKTogUHJvbWlzZTxUb2tlbkNhbXBhaWduRGV0YWlscz4ge1xuXHRcdHJldHVybiB0aGlzLmdldChgL3Rva2VuLyR7dG9rZW5PckFsaWFzfWApO1xuXHR9XG5cblx0YWRkVG9rZW4oY2FtcGFpZ25JZDogbnVtYmVyKTogUHJvbWlzZTxzdHJpbmc+IHtcblx0XHRyZXR1cm4gdGhpcy5wb3N0KGAvdG9rZW4vJHtjYW1wYWlnbklkfWAsIHsgcHJpbWl0aXZlOiB0cnVlIH0pO1xuXHR9XG5cblx0cmVtb3ZlVG9rZW4oY2FtcGFpZ25JZDogbnVtYmVyKSB7XG5cdFx0cmV0dXJuIHRoaXMuZGVsZXRlKGAvdG9rZW4vJHtjYW1wYWlnbklkfWApO1xuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBjYW1wYWlnbkFwaSA9IG5ldyBDYW1wYWlnbkFwaSgpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///30539\n")},32945:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: () => (/* binding */ FilmstripApi)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70655);\n/* harmony import */ var _lib_mapUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(64528);\n/* harmony import */ var _F3Api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(42219);\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-search/javadoc/com/ancestry/eb/josephus/fold31/search/service/FilmstripService.html) */\nvar FilmstripApi = /** @class */ (function (_super) {\n    (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__extends */ .ZT)(FilmstripApi, _super);\n    function FilmstripApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = _F3Api__WEBPACK_IMPORTED_MODULE_1__/* .BackendService */ .v$.SEARCH;\n        _this.baseUrl = '/filmstrip';\n        return _this;\n    }\n    FilmstripApi.prototype.getFilmstrip = function (imageId, count, prevCount) {\n        return this.get(\"/\".concat(imageId), {\n            params: (0,_lib_mapUtil__WEBPACK_IMPORTED_MODULE_2__/* .filterUndefined */ .YU)({ count: count, prevCount: prevCount }),\n            deserializeType: 'FilmstripFragment',\n        });\n    };\n    FilmstripApi.prototype.getFilmstripByOffset = function (clusterSortKey, offset, count, prevCount) {\n        return this.post(\"/by-offset\", clusterSortKey, {\n            params: (0,_lib_mapUtil__WEBPACK_IMPORTED_MODULE_2__/* .filterUndefined */ .YU)({ offset: offset, count: count, 'prev-count': prevCount }),\n            serializeType: 'ClusterSortKey',\n            deserializeType: 'FilmstripFragment',\n        });\n    };\n    FilmstripApi.prototype.getNext = function (imageId, count) {\n        return this.get(\"/next/\".concat(imageId), {\n            params: { count: count },\n            deserializeType: 'FilmstripFragment',\n        });\n    };\n    FilmstripApi.prototype.getNextSiblings = function (anchorCluster, count) {\n        return this.post('/next-sibling', anchorCluster, {\n            params: (0,_lib_mapUtil__WEBPACK_IMPORTED_MODULE_2__/* .filterUndefined */ .YU)({ count: count }),\n            deserializeType: 'FilmstripSibling',\n        });\n    };\n    FilmstripApi.prototype.getPrevious = function (imageId, count) {\n        return this.get(\"/previous/\".concat(imageId), {\n            params: { count: count },\n            deserializeType: 'FilmstripFragment',\n        });\n    };\n    FilmstripApi.prototype.getPreviousSiblings = function (anchorCluster, count) {\n        return this.post('/previous-sibling', anchorCluster, {\n            params: (0,_lib_mapUtil__WEBPACK_IMPORTED_MODULE_2__/* .filterUndefined */ .YU)({ count: count }),\n            deserializeType: 'FilmstripSibling',\n        });\n    };\n    FilmstripApi.prototype.getBreadcrumbs = function (objRef) {\n        var contentType = objRef.contentType, objectId = objRef.objectId;\n        return this.get(\"/breadcrumbs/\".concat(contentType, \"/\").concat(objectId), {\n            deserializeType: 'Facet',\n        });\n    };\n    FilmstripApi.prototype.getCluster = function (imageId, count, prevCount) {\n        if (count === void 0) { count = 500; }\n        if (prevCount === void 0) { prevCount = 500; }\n        return this.get(\"/cluster/\".concat(imageId), {\n            params: {\n                count: count,\n                'prev-count': prevCount,\n            },\n        });\n    };\n    return FilmstripApi;\n}(_F3Api__WEBPACK_IMPORTED_MODULE_1__/* .F3Api */ .D4));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI5NDUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUE0REE7QUExREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvYXBpcy9maWxtc3RyaXBBcGkudHM/OTlhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDbHVzdGVyU29ydEtleSwgQW5jaG9yQ2x1c3RlciwgRmFjZXQsIEZpbG1zdHJpcEZyYWdtZW50LCBGaWxtc3RyaXBTaWJsaW5nLCBPYmplY3RSZWZlcmVuY2UgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBmaWx0ZXJVbmRlZmluZWQgfSBmcm9tICcuLi9saWIvbWFwVXRpbCc7XG5pbXBvcnQgeyBCYWNrZW5kU2VydmljZSwgRjNBcGkgfSBmcm9tICcuL0YzQXBpJztcblxuLyoqIFtTZWUgRG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9qZm9sZDMuaWFyY2hpdmVzLmNvbS9qb2IvZjMtc2VhcmNoL2phdmFkb2MvY29tL2FuY2VzdHJ5L2ViL2pvc2VwaHVzL2ZvbGQzMS9zZWFyY2gvc2VydmljZS9GaWxtc3RyaXBTZXJ2aWNlLmh0bWwpICovXG5leHBvcnQgY2xhc3MgRmlsbXN0cmlwQXBpIGV4dGVuZHMgRjNBcGkge1xuXHRzZXJ2aWNlID0gQmFja2VuZFNlcnZpY2UuU0VBUkNIO1xuXHRiYXNlVXJsID0gJy9maWxtc3RyaXAnO1xuXG5cdGdldEZpbG1zdHJpcChpbWFnZUlkOiBudW1iZXIsIGNvdW50OiBudW1iZXIsIHByZXZDb3VudD86IG51bWJlcik6IFByb21pc2U8RmlsbXN0cmlwRnJhZ21lbnQ+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC8ke2ltYWdlSWR9YCwge1xuXHRcdFx0cGFyYW1zOiBmaWx0ZXJVbmRlZmluZWQoeyBjb3VudCwgcHJldkNvdW50IH0pLFxuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnRmlsbXN0cmlwRnJhZ21lbnQnLFxuXHRcdH0pO1xuXHR9XG5cblx0Z2V0RmlsbXN0cmlwQnlPZmZzZXQoY2x1c3RlclNvcnRLZXk6IENsdXN0ZXJTb3J0S2V5LCBvZmZzZXQ6IG51bWJlciwgY291bnQ6IG51bWJlciwgcHJldkNvdW50PzogbnVtYmVyKTogUHJvbWlzZTxGaWxtc3RyaXBGcmFnbWVudD4ge1xuXHRcdHJldHVybiB0aGlzLnBvc3QoYC9ieS1vZmZzZXRgLCBjbHVzdGVyU29ydEtleSwge1xuXHRcdFx0cGFyYW1zOiBmaWx0ZXJVbmRlZmluZWQoeyBvZmZzZXQsIGNvdW50LCAncHJldi1jb3VudCc6IHByZXZDb3VudCB9KSxcblx0XHRcdHNlcmlhbGl6ZVR5cGU6ICdDbHVzdGVyU29ydEtleScsXG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdGaWxtc3RyaXBGcmFnbWVudCcsXG5cdFx0fSk7XG5cdH1cblxuXHRnZXROZXh0KGltYWdlSWQ6IG51bWJlciwgY291bnQ6IG51bWJlcik6IFByb21pc2U8RmlsbXN0cmlwRnJhZ21lbnQ+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9uZXh0LyR7aW1hZ2VJZH1gLCB7XG5cdFx0XHRwYXJhbXM6IHsgY291bnQgfSxcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0ZpbG1zdHJpcEZyYWdtZW50Jyxcblx0XHR9KTtcblx0fVxuXG5cdGdldE5leHRTaWJsaW5ncyhhbmNob3JDbHVzdGVyOiBBbmNob3JDbHVzdGVyLCBjb3VudD86IG51bWJlcik6IFByb21pc2U8RmlsbXN0cmlwU2libGluZ1tdPiB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdCgnL25leHQtc2libGluZycsIGFuY2hvckNsdXN0ZXIsIHtcblx0XHRcdHBhcmFtczogZmlsdGVyVW5kZWZpbmVkKHsgY291bnQgfSksXG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdGaWxtc3RyaXBTaWJsaW5nJyxcblx0XHR9KTtcblx0fVxuXG5cdGdldFByZXZpb3VzKGltYWdlSWQ6IG51bWJlciwgY291bnQ6IG51bWJlcik6IFByb21pc2U8RmlsbXN0cmlwRnJhZ21lbnQ+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9wcmV2aW91cy8ke2ltYWdlSWR9YCwge1xuXHRcdFx0cGFyYW1zOiB7IGNvdW50IH0sXG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdGaWxtc3RyaXBGcmFnbWVudCcsXG5cdFx0fSk7XG5cdH1cblxuXHRnZXRQcmV2aW91c1NpYmxpbmdzKGFuY2hvckNsdXN0ZXI6IEFuY2hvckNsdXN0ZXIsIGNvdW50PzogbnVtYmVyKTogUHJvbWlzZTxGaWxtc3RyaXBTaWJsaW5nW10+IHtcblx0XHRyZXR1cm4gdGhpcy5wb3N0KCcvcHJldmlvdXMtc2libGluZycsIGFuY2hvckNsdXN0ZXIsIHtcblx0XHRcdHBhcmFtczogZmlsdGVyVW5kZWZpbmVkKHsgY291bnQgfSksXG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdGaWxtc3RyaXBTaWJsaW5nJyxcblx0XHR9KTtcblx0fVxuXG5cdGdldEJyZWFkY3J1bWJzKG9ialJlZjogT2JqZWN0UmVmZXJlbmNlKTogUHJvbWlzZTxGYWNldFtdPiB7XG5cdFx0Y29uc3QgeyBjb250ZW50VHlwZSwgb2JqZWN0SWQgfSA9IG9ialJlZjtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9icmVhZGNydW1icy8ke2NvbnRlbnRUeXBlfS8ke29iamVjdElkfWAsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0ZhY2V0Jyxcblx0XHR9KTtcblx0fVxuXG5cdGdldENsdXN0ZXIoaW1hZ2VJZDogbnVtYmVyLCBjb3VudDogbnVtYmVyID0gNTAwLCBwcmV2Q291bnQ6IG51bWJlciA9IDUwMCk6IFByb21pc2U8bnVtYmVyW10+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9jbHVzdGVyLyR7aW1hZ2VJZH1gLCB7XG5cdFx0XHRwYXJhbXM6IHtcblx0XHRcdFx0Y291bnQsXG5cdFx0XHRcdCdwcmV2LWNvdW50JzogcHJldkNvdW50LFxuXHRcdFx0fSxcblx0XHR9KTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///32945\n")},8e4:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WY: () => (/* binding */ request),\n/* harmony export */   ZP: () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* unused harmony exports addDomainHeader, addLanguageHeader */\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(47467);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _enums_headers_enum__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(57096);\n/* harmony import */ var _lib_ObjectUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(7032);\n/* harmony import */ var _lib_deserializer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(19416);\n/* harmony import */ var _lib_getRuntime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(51057);\n/* harmony import */ var _lib_localization_domain__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(40315);\n/* harmony import */ var _lib_queryUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4781);\n/* harmony import */ var _server_lib_ancestryTrackingHeaders__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(20095);\n/* harmony import */ var _server_middleware_internalAuthMiddleware__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(55881);\n/* harmony import */ var _lib_createMultipartForm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(99143);\n\n\n\n\n\n\n\n// import { localizeContent } from '../lib/localization/localization';\n\n\n\nvar axiosInstance = axios__WEBPACK_IMPORTED_MODULE_0___default().create();\nvar defaults = { 'Content-Type': 'application/json' };\naxiosInstance.defaults.headers.put = defaults;\naxiosInstance.defaults.headers.post = defaults;\nvar request = function (options /*, axiosInstance?: AxiosInstance*/) {\n    var _a;\n    var domain;\n    if (options.headers === undefined) {\n        options.headers = {};\n    }\n    if (options.params) {\n        var params = (0,_lib_ObjectUtils__WEBPACK_IMPORTED_MODULE_1__/* .removeFalsy */ .Sk)(options.params);\n        var queryStr = (0,_lib_queryUtil__WEBPACK_IMPORTED_MODULE_2__/* .toQueryString */ .UK)(params || {}, { usePlus: false });\n        options.url = \"\".concat(options.url).concat(queryStr);\n        delete options.params;\n    }\n    if (options.serializeType && options.data) {\n        options.data = _lib_deserializer__WEBPACK_IMPORTED_MODULE_3__/* .deserializer */ .S.serialize(options.data, options.serializeType);\n    }\n    if (options.multipartForm && options.data) {\n        options.data = (0,_lib_createMultipartForm__WEBPACK_IMPORTED_MODULE_4__/* .createMultipartForm */ .N)(options.data);\n        options.headers['Content-Type'] = 'multipart/form-data';\n    }\n    if ((0,_lib_getRuntime__WEBPACK_IMPORTED_MODULE_5__/* .isNodeRuntime */ .db)() && options.req && options.headers !== null) {\n        copyHeaders(options);\n        /*\n         * There's no need to add this header on the client. All requests to the backend are proxied through Node\n         * which will examine the request and determine which domain it's coming from.\n         */\n        if (options.headers[_enums_headers_enum__WEBPACK_IMPORTED_MODULE_6__/* .HEADERS */ .o.DOMAIN] !== null) {\n            domain = (0,_lib_localization_domain__WEBPACK_IMPORTED_MODULE_7__/* .getDomain */ .ge)(options.req);\n            if (domain) {\n                addDomainHeader(options.headers, domain);\n            }\n        }\n        addLanguageHeader(options.headers, (_a = options.req.i18n) === null || _a === void 0 ? void 0 : _a.language);\n        (0,_server_middleware_internalAuthMiddleware__WEBPACK_IMPORTED_MODULE_8__/* .addInternalAuthHeader */ .v)(options.headers);\n        (0,_server_lib_ancestryTrackingHeaders__WEBPACK_IMPORTED_MODULE_9__/* .addAncestryTrackingHeaders */ .s)(options.headers);\n    }\n    return axiosInstance.request(options)\n        .then(function (response) {\n        switch ((0,_lib_getRuntime__WEBPACK_IMPORTED_MODULE_5__/* .getRuntime */ .OP)()) {\n            case 'BROWSER':\n                handleClientHeaders(response.headers);\n                break;\n            case 'NODE':\n                copyCookies(options, response);\n                var signoutHeader = response.headers['x-fold3-signout'];\n                if (signoutHeader) {\n                    throw {\n                        type: 'SIGNOUT',\n                        reason: signoutHeader,\n                    };\n                }\n                break;\n        }\n        if (options.raw) {\n            return response;\n        }\n        else if (options.deserializeType) {\n            return _lib_deserializer__WEBPACK_IMPORTED_MODULE_3__/* .deserializer */ .S.deserialize(response.data, options.deserializeType);\n            // let localized = localizeContent(deserialized, options.deserializeType, domain);\n        }\n        else if (options.primitive) {\n            return response.data.value;\n        }\n        else {\n            return response.data;\n        }\n    });\n};\nfunction copyHeaders(options) {\n    var req = options.req;\n    var headers = options.headers = options.headers || {};\n    var headerNames = ['cookie', 'user-agent', 'referer', 'accept-language', 'x-stat-uuid', 'xid', 'iid', 'sid', 'x-forwarded-for', _enums_headers_enum__WEBPACK_IMPORTED_MODULE_6__/* .HEADERS */ .o.DOMAIN, _enums_headers_enum__WEBPACK_IMPORTED_MODULE_6__/* .HEADERS */ .o.X_LANGUAGE];\n    for (var i = 0, header; header = headerNames[i], i < headerNames.length; i++) {\n        if (req.headers[header]) {\n            headers[header] = req.headers[header];\n        }\n    }\n}\nfunction handleClientHeaders(headers) {\n    var signoffHeader = headers['X-Fold3-Signout'];\n    if (signoffHeader) {\n        location.href = '/signoff?signout-reason=' + signoffHeader;\n    }\n}\nfunction copyCookies(options, response) {\n    var _a;\n    var res = (_a = options === null || options === void 0 ? void 0 : options.req) === null || _a === void 0 ? void 0 : _a.res;\n    if (res && response.headers && response.headers['Set-Cookie']) {\n        res.setHeader('Set-Cookie', response.headers['Set-Cookie']);\n    }\n}\n//convenience methods\nrequest.get = function (url, options) {\n    return request(Object.assign({}, options, { method: 'GET', url: url }));\n};\nrequest.put = function (url, data, options) {\n    return request(Object.assign({}, options, { method: 'PUT', data: data, url: url }));\n};\nrequest.post = function (url, data, options) {\n    return request(Object.assign({}, options, { method: 'POST', data: data, url: url }));\n};\nrequest.delete = function (url, options) {\n    return request(Object.assign({}, options, { method: 'DELETE', url: url }));\n};\nvar addDomainHeader = function (headers, domain) {\n    headers[_enums_headers_enum__WEBPACK_IMPORTED_MODULE_6__/* .HEADERS */ .o.DOMAIN] = (0,_lib_localization_domain__WEBPACK_IMPORTED_MODULE_7__/* .serializeDomain */ .PI)(domain);\n};\nvar addLanguageHeader = function (headers, language) {\n    if (language) {\n        headers[_enums_headers_enum__WEBPACK_IMPORTED_MODULE_6__/* .HEADERS */ .o.X_LANGUAGE] = language;\n    }\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (request);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODAwMDAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQW9EQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvYXBpcy9yZXF1ZXN0LnRzPzJjMzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zLCB7IEF4aW9zUmVxdWVzdENvbmZpZywgQXhpb3NSZXNwb25zZSB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IERlc2VyaWFsaXplVHlwZSwgRG9tYWluIH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgRjNSZXF1ZXN0LCBPYmogfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgSEVBREVSUyB9IGZyb20gJy4uL2VudW1zL2hlYWRlcnMuZW51bSc7XG5pbXBvcnQgeyByZW1vdmVGYWxzeSB9IGZyb20gJy4uL2xpYi9PYmplY3RVdGlscyc7XG5pbXBvcnQgeyBkZXNlcmlhbGl6ZXIgfSBmcm9tICcuLi9saWIvZGVzZXJpYWxpemVyJztcbmltcG9ydCB7IGdldFJ1bnRpbWUsIGlzTm9kZVJ1bnRpbWUgfSBmcm9tICcuLi9saWIvZ2V0UnVudGltZSc7XG5pbXBvcnQgeyBnZXREb21haW4sIHNlcmlhbGl6ZURvbWFpbiB9IGZyb20gJy4uL2xpYi9sb2NhbGl6YXRpb24vZG9tYWluJztcbmltcG9ydCB7IHRvUXVlcnlTdHJpbmcgfSBmcm9tICcuLi9saWIvcXVlcnlVdGlsJztcblxuLy8gaW1wb3J0IHsgbG9jYWxpemVDb250ZW50IH0gZnJvbSAnLi4vbGliL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb24nO1xuaW1wb3J0IHsgYWRkQW5jZXN0cnlUcmFja2luZ0hlYWRlcnMgfSBmcm9tICcuLi8uLi9zZXJ2ZXIvbGliL2FuY2VzdHJ5VHJhY2tpbmdIZWFkZXJzJztcbmltcG9ydCB7IGFkZEludGVybmFsQXV0aEhlYWRlciB9IGZyb20gJy4uLy4uL3NlcnZlci9taWRkbGV3YXJlL2ludGVybmFsQXV0aE1pZGRsZXdhcmUnO1xuaW1wb3J0IHsgY3JlYXRlTXVsdGlwYXJ0Rm9ybSB9IGZyb20gJy4uL2xpYi9jcmVhdGVNdWx0aXBhcnRGb3JtJztcblxudHlwZSBNZXRob2QgPSAnR0VUJyB8ICdQVVQnIHwgJ1BPU1QnIHwgJ0RFTEVURSc7XG5cbmNvbnN0IGF4aW9zSW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoKTtcbmNvbnN0IGRlZmF1bHRzID0geyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH07XG5cbmF4aW9zSW5zdGFuY2UuZGVmYXVsdHMuaGVhZGVycy5wdXQgPSBkZWZhdWx0cztcbmF4aW9zSW5zdGFuY2UuZGVmYXVsdHMuaGVhZGVycy5wb3N0ID0gZGVmYXVsdHM7XG5cbmludGVyZmFjZSBGM1JlcXVlc3RPcHRpb25zIGV4dGVuZHMgQXhpb3NSZXF1ZXN0Q29uZmlnIHtcblxuXHQvKiogdXJsIHRvIG1ha2UgcmVxdWVzdCBhdC4gTWF5IGhhdmUgdmFyaWFibGUgcGxhY2Vob2xkZXJzIHRoYXQgbmVlZCB0byBiZSBpbnRlcnBvbGF0ZWQuICovXG5cdHVybD86IHN0cmluZztcblx0bWV0aG9kPzogTWV0aG9kO1xuXHRoZWFkZXJzPzogeyBbaGVhZGVyTmFtZTogc3RyaW5nXSA6IHN0cmluZyB9XG5cblx0LyoqIGRhdGEgdG8gcG9zdC9wdXQuIFVzdWFsbHkgSlNPTiAqL1xuXHRkYXRhPzogYW55O1xuXG5cdC8qKiBwYXJhbWV0ZXJzIHRvIGFwcGVuZCBhcyBxdWVyeSBwYXJhbXMgdG8gdXJsICovXG5cdHBhcmFtcz86IG9iamVjdDtcblxuXHQvKiogdHlwZSB0byB1c2UgaW4gZGVzZXJpYWxpemVyICovXG5cdGRlc2VyaWFsaXplVHlwZT86IERlc2VyaWFsaXplVHlwZTtcblx0c2VyaWFsaXplVHlwZT86IERlc2VyaWFsaXplVHlwZTtcblxuXHQvKiogSWYgdHJ1ZSwgYm9keSB3aWxsIGJlIGNvbnZlcnRlZCB0byBGb3JtRGF0YSBhbmQgQ29udGVudC1UeXBlIHdpbGwgYmUgc2V0IHRvIG11bHRpcGFydC9mb3JtLWRhdGEqL1xuXHRtdWx0aXBhcnRGb3JtPzogYm9vbGVhbjtcblxuXHQvKiogUmV0dXJuIGVudGlyZSByZXNwb25zZSBvYmplY3Qgb3IganVzdCBzZXJpYWxpemVkIEpTT04gb2YgcmVzcG9uc2UuYm9keSAqL1xuXHRyYXc/OiBib29sZWFuO1xuXG5cdC8qKiByb290IHVybCB0byBwcmVwZW5kIHRvIHRoZSBwYXNzZWQgdXJsLiAgVGhpcyBzaG91bGQgYmUgdGhlIHBhcnQgb2YgdGhlIHVybCB0aGF0IGlzIGRpZmZlcmVudCBiZXR3ZWVuIGNsaWVudC0gYW5kIHNlcnZlci1zaWRlIHJlcXVlc3RzICovXG5cdGJhc2VVUkw/OiBzdHJpbmc7XG5cblx0LyoqIGluY29taW5nIGh0dHAgcmVxdWVzdCAtLSBmb3IgcGFzc2luZyBhbG9uZyBjb29raWVzIGFuZCBvdGhlciBoZWFkZXJzLiBBbHNvIGZvciBkZXRlcm1pbmluZyBkb21haW4uICovXG5cdHJlcT86IEYzUmVxdWVzdDtcblxuXHQvKiogd2hldGhlciB0byBjb3B5IGNvb2tpZXMgZnJvbSByZXEsIGlmIHByZXNlbnQuICBEZWZhdWx0IGlzIHRydWUgKi9cblx0aW50ZXJuYWxBdXRoPzogYm9vbGVhbjtcblx0cHJpbWl0aXZlPzogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgRjNSZXF1ZXN0Rm48VCA9IGFueT4ge1xuXHQ8VD4ob3B0aW9uczogRjNSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8VD47XG5cdGdldD86IEhlbHBlcldpdGhvdXRCb2R5PFQ+O1xuXHRwb3N0PzogSGVscGVyV2l0aEJvZHk8VD47XG5cdHB1dD86IEhlbHBlcldpdGhCb2R5PFQ+O1xuXHRkZWxldGU/OiBIZWxwZXJXaXRob3V0Qm9keTxUPjtcbn1cblxuaW50ZXJmYWNlIEhlbHBlcldpdGhvdXRCb2R5PFQ+IHtcblx0PFQ+KHVybDogc3RyaW5nLCBvcHRpb25zPzogRjNSZXF1ZXN0T3B0aW9ucyk6IFByb21pc2U8VD47XG59XG5cbmludGVyZmFjZSBIZWxwZXJXaXRoQm9keTxUPiB7XG5cdDxUPih1cmw6IHN0cmluZywgYm9keT86IGFueSwgb3B0aW9ucz86IEYzUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPFQ+O1xufVxuXG5jb25zdCByZXF1ZXN0ID0gPEYzUmVxdWVzdEZuPGFueT4+IGZ1bmN0aW9uKG9wdGlvbnM6IEYzUmVxdWVzdE9wdGlvbnMvKiwgYXhpb3NJbnN0YW5jZT86IEF4aW9zSW5zdGFuY2UqLykge1xuXHRsZXQgZG9tYWluOiBEb21haW47XG5cblx0aWYgKG9wdGlvbnMuaGVhZGVycyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5oZWFkZXJzID0ge307XG5cdH1cblxuXHRpZiAob3B0aW9ucy5wYXJhbXMpIHtcblx0XHRsZXQgcGFyYW1zID0gcmVtb3ZlRmFsc3kob3B0aW9ucy5wYXJhbXMpO1xuXHRcdGxldCBxdWVyeVN0ciA9IHRvUXVlcnlTdHJpbmcocGFyYW1zIHx8IHt9LCB7IHVzZVBsdXM6IGZhbHNlIH0pO1xuXHRcdG9wdGlvbnMudXJsID0gYCR7b3B0aW9ucy51cmx9JHtxdWVyeVN0cn1gO1xuXHRcdGRlbGV0ZSBvcHRpb25zLnBhcmFtcztcblx0fVxuXG5cdGlmIChvcHRpb25zLnNlcmlhbGl6ZVR5cGUgJiYgb3B0aW9ucy5kYXRhKSB7XG5cdFx0b3B0aW9ucy5kYXRhID0gZGVzZXJpYWxpemVyLnNlcmlhbGl6ZShvcHRpb25zLmRhdGEsIG9wdGlvbnMuc2VyaWFsaXplVHlwZSk7XG5cdH1cblxuXHRpZiAob3B0aW9ucy5tdWx0aXBhcnRGb3JtICYmIG9wdGlvbnMuZGF0YSkge1xuXHRcdG9wdGlvbnMuZGF0YSA9IGNyZWF0ZU11bHRpcGFydEZvcm0ob3B0aW9ucy5kYXRhKTtcblx0XHRvcHRpb25zLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ211bHRpcGFydC9mb3JtLWRhdGEnO1xuXHR9XG5cblx0aWYgKGlzTm9kZVJ1bnRpbWUoKSAmJiBvcHRpb25zLnJlcSAmJiBvcHRpb25zLmhlYWRlcnMgIT09IG51bGwpIHtcblx0XHRjb3B5SGVhZGVycyhvcHRpb25zKTtcblxuXHRcdC8qXG5cdFx0ICogVGhlcmUncyBubyBuZWVkIHRvIGFkZCB0aGlzIGhlYWRlciBvbiB0aGUgY2xpZW50LiBBbGwgcmVxdWVzdHMgdG8gdGhlIGJhY2tlbmQgYXJlIHByb3hpZWQgdGhyb3VnaCBOb2RlXG5cdFx0ICogd2hpY2ggd2lsbCBleGFtaW5lIHRoZSByZXF1ZXN0IGFuZCBkZXRlcm1pbmUgd2hpY2ggZG9tYWluIGl0J3MgY29taW5nIGZyb20uXG5cdFx0ICovXG5cdFx0aWYgKG9wdGlvbnMuaGVhZGVyc1tIRUFERVJTLkRPTUFJTl0gIT09IG51bGwpIHtcblx0XHRcdGRvbWFpbiA9IGdldERvbWFpbihvcHRpb25zLnJlcSk7XG5cdFx0XHRpZiAoZG9tYWluKSB7XG5cdFx0XHRcdGFkZERvbWFpbkhlYWRlcihvcHRpb25zLmhlYWRlcnMsIGRvbWFpbik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YWRkTGFuZ3VhZ2VIZWFkZXIob3B0aW9ucy5oZWFkZXJzLCBvcHRpb25zLnJlcS5pMThuPy5sYW5ndWFnZSk7XG5cdFx0YWRkSW50ZXJuYWxBdXRoSGVhZGVyKG9wdGlvbnMuaGVhZGVycyk7XG5cdFx0YWRkQW5jZXN0cnlUcmFja2luZ0hlYWRlcnMob3B0aW9ucy5oZWFkZXJzKTtcblx0fVxuXG5cdHJldHVybiBheGlvc0luc3RhbmNlLnJlcXVlc3Qob3B0aW9ucylcblx0XHQudGhlbigocmVzcG9uc2U6IEF4aW9zUmVzcG9uc2UpID0+IHtcblx0XHRcdHN3aXRjaCAoZ2V0UnVudGltZSgpKSB7XG5cdFx0XHRcdGNhc2UgJ0JST1dTRVInOlxuXHRcdFx0XHRcdGhhbmRsZUNsaWVudEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ05PREUnOlxuXHRcdFx0XHRcdGNvcHlDb29raWVzKG9wdGlvbnMsIHJlc3BvbnNlKTtcblx0XHRcdFx0XHRsZXQgc2lnbm91dEhlYWRlciA9IHJlc3BvbnNlLmhlYWRlcnNbJ3gtZm9sZDMtc2lnbm91dCddO1xuXHRcdFx0XHRcdGlmIChzaWdub3V0SGVhZGVyKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6ICdTSUdOT1VUJyxcblx0XHRcdFx0XHRcdFx0cmVhc29uOiBzaWdub3V0SGVhZGVyLFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChvcHRpb25zLnJhdykge1xuXHRcdFx0XHRyZXR1cm4gcmVzcG9uc2U7XG5cdFx0XHR9IGVsc2UgaWYgKG9wdGlvbnMuZGVzZXJpYWxpemVUeXBlKSB7XG5cdFx0XHRcdHJldHVybiBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemUocmVzcG9uc2UuZGF0YSwgb3B0aW9ucy5kZXNlcmlhbGl6ZVR5cGUpO1xuXG5cdFx0XHQvLyBsZXQgbG9jYWxpemVkID0gbG9jYWxpemVDb250ZW50KGRlc2VyaWFsaXplZCwgb3B0aW9ucy5kZXNlcmlhbGl6ZVR5cGUsIGRvbWFpbik7XG5cdFx0XHR9IGVsc2UgaWYgKG9wdGlvbnMucHJpbWl0aXZlKSB7XG5cdFx0XHRcdHJldHVybiByZXNwb25zZS5kYXRhLnZhbHVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGE7XG5cdFx0XHR9XG5cdFx0fSk7XG59O1xuXG5mdW5jdGlvbiBjb3B5SGVhZGVycyhvcHRpb25zOiBGM1JlcXVlc3RPcHRpb25zKSB7XG5cdGxldCByZXEgPSBvcHRpb25zLnJlcTtcblx0bGV0IGhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgYXMge1toZWFkZXJOYW1lOiBzdHJpbmddOiBzdHJpbmd9IHx8IHt9O1xuXG5cdHZhciBoZWFkZXJOYW1lcyA9IFsnY29va2llJywgJ3VzZXItYWdlbnQnLCAncmVmZXJlcicsICdhY2NlcHQtbGFuZ3VhZ2UnLCAneC1zdGF0LXV1aWQnLCAneGlkJywgJ2lpZCcsICdzaWQnLCAneC1mb3J3YXJkZWQtZm9yJywgSEVBREVSUy5ET01BSU4sIEhFQURFUlMuWF9MQU5HVUFHRV07XG5cdGZvciAodmFyIGkgPSAwLCBoZWFkZXI6IHN0cmluZzsgaGVhZGVyID0gaGVhZGVyTmFtZXNbaV0sIGkgPCBoZWFkZXJOYW1lcy5sZW5ndGg7IGkrKykge1xuXHRcdGlmIChyZXEuaGVhZGVyc1toZWFkZXJdKSB7XG5cdFx0XHRoZWFkZXJzW2hlYWRlcl0gPSByZXEuaGVhZGVyc1toZWFkZXJdIGFzIHN0cmluZztcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2xpZW50SGVhZGVycyhoZWFkZXJzOiBhbnkpIHtcblx0bGV0IHNpZ25vZmZIZWFkZXIgPSBoZWFkZXJzWydYLUZvbGQzLVNpZ25vdXQnXTtcblx0aWYgKHNpZ25vZmZIZWFkZXIpIHtcblx0XHRsb2NhdGlvbi5ocmVmID0gJy9zaWdub2ZmP3NpZ25vdXQtcmVhc29uPScgKyBzaWdub2ZmSGVhZGVyO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNvcHlDb29raWVzKG9wdGlvbnM6IEYzUmVxdWVzdE9wdGlvbnMsIHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlKSB7XG5cdGxldCByZXM6IGFueSA9IChvcHRpb25zPy5yZXEgYXMgYW55KT8ucmVzO1xuXG5cdGlmIChyZXMgJiYgcmVzcG9uc2UuaGVhZGVycyAmJiByZXNwb25zZS5oZWFkZXJzWydTZXQtQ29va2llJ10pIHtcblx0XHRyZXMuc2V0SGVhZGVyKCdTZXQtQ29va2llJywgcmVzcG9uc2UuaGVhZGVyc1snU2V0LUNvb2tpZSddKTtcblx0fVxufVxuXG4vL2NvbnZlbmllbmNlIG1ldGhvZHNcbnJlcXVlc3QuZ2V0ID0gZnVuY3Rpb24odXJsLCBvcHRpb25zKSB7XG5cdHJldHVybiByZXF1ZXN0KE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHsgbWV0aG9kOiAnR0VUJywgdXJsIH0pKTtcbn07XG5yZXF1ZXN0LnB1dCA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgb3B0aW9ucykge1xuXHRyZXR1cm4gcmVxdWVzdChPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLCB7IG1ldGhvZDogJ1BVVCcsIGRhdGEsIHVybCB9KSk7XG59O1xucmVxdWVzdC5wb3N0ID0gZnVuY3Rpb24odXJsLCBkYXRhLCBvcHRpb25zKSB7XG5cdHJldHVybiByZXF1ZXN0KE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHsgbWV0aG9kOiAnUE9TVCcsIGRhdGEsIHVybCB9KSk7XG59O1xucmVxdWVzdC5kZWxldGUgPSBmdW5jdGlvbih1cmwsIG9wdGlvbnMpIHtcblx0cmV0dXJuIHJlcXVlc3QoT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywgeyBtZXRob2Q6ICdERUxFVEUnLCB1cmwgfSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZERvbWFpbkhlYWRlciA9IChoZWFkZXJzOiBPYmosIGRvbWFpbjogRG9tYWluKSA9PiB7XG5cdGhlYWRlcnNbSEVBREVSUy5ET01BSU5dID0gc2VyaWFsaXplRG9tYWluKGRvbWFpbik7XG59O1xuXG5leHBvcnQgY29uc3QgYWRkTGFuZ3VhZ2VIZWFkZXIgPSAoaGVhZGVyczogT2JqLCBsYW5ndWFnZTogc3RyaW5nKSA9PiB7XG5cdGlmIChsYW5ndWFnZSkge1xuXHRcdGhlYWRlcnNbSEVBREVSUy5YX0xBTkdVQUdFXSA9IGxhbmd1YWdlO1xuXHR9XG59O1xuXG5leHBvcnQgeyBGM1JlcXVlc3RPcHRpb25zLCByZXF1ZXN0IH07XG5leHBvcnQgZGVmYXVsdCByZXF1ZXN0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///80000\n")},26483:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   T: () => (/* binding */ CopyIcon)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar CopyIcon = function (_a) {\n    var size = _a.size, color = _a.color;\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", { \"data-name\": 'Layer 1', fill: color, height: size, id: 'Layer_1', viewBox: '0 0 24 24', width: size, xmlns: 'http://www.w3.org/2000/svg' },\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", { className: 'cls-1', d: 'M12,14H6V12h6Z', \"data-name\": 'Path 340', id: 'Path_340' }),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", { className: 'cls-1', d: 'M6,18h5V16H6Z', \"data-name\": 'Path 341', id: 'Path_341' }),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", { className: 'cls-2', d: 'M16,8V22H2V4H12ZM14,9H11V6H4V20H14Z', \"data-name\": 'Path 342', id: 'Path_342' }),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"polygon\", { className: 'cls-2', points: '18 2 14 2 14 4 17 4 17 7 20 7 20 18 18 18 18 20 22 20 22 6 18 2' })));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjY0ODMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQU9BO0FBQUE7QUFDQTtBQVVBO0FBTUE7QUFNQTtBQU1BO0FBTUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9Db3B5SWNvbi50c3g/YjU2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgQ29weUljb25Qcm9wcyB7XG5cdHNpemU6IG51bWJlclxuXHRjb2xvcj86IHN0cmluZ1xufVxuXG5leHBvcnQgY29uc3QgQ29weUljb24gPSAoeyBzaXplLCBjb2xvciB9OiBDb3B5SWNvblByb3BzKSA9PiB7XG5cdHJldHVybiAoXG5cdFx0PHN2Z1xuXHRcdFx0ZGF0YS1uYW1lPSdMYXllciAxJ1xuXHRcdFx0ZmlsbD17Y29sb3J9XG5cdFx0XHRoZWlnaHQ9e3NpemV9XG5cdFx0XHRpZD0nTGF5ZXJfMSdcblx0XHRcdHZpZXdCb3g9JzAgMCAyNCAyNCdcblx0XHRcdHdpZHRoPXtzaXplfVxuXHRcdFx0eG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJ1xuXHRcdD5cblx0XHRcdDxwYXRoXG5cdFx0XHRcdGNsYXNzTmFtZT0nY2xzLTEnXG5cdFx0XHRcdGQ9J00xMiwxNEg2VjEyaDZaJ1xuXHRcdFx0XHRkYXRhLW5hbWU9J1BhdGggMzQwJ1xuXHRcdFx0XHRpZD0nUGF0aF8zNDAnXG5cdFx0XHQvPlxuXHRcdFx0PHBhdGhcblx0XHRcdFx0Y2xhc3NOYW1lPSdjbHMtMSdcblx0XHRcdFx0ZD0nTTYsMThoNVYxNkg2Widcblx0XHRcdFx0ZGF0YS1uYW1lPSdQYXRoIDM0MSdcblx0XHRcdFx0aWQ9J1BhdGhfMzQxJ1xuXHRcdFx0Lz5cblx0XHRcdDxwYXRoXG5cdFx0XHRcdGNsYXNzTmFtZT0nY2xzLTInXG5cdFx0XHRcdGQ9J00xNiw4VjIySDJWNEgxMlpNMTQsOUgxMVY2SDRWMjBIMTRaJ1xuXHRcdFx0XHRkYXRhLW5hbWU9J1BhdGggMzQyJ1xuXHRcdFx0XHRpZD0nUGF0aF8zNDInXG5cdFx0XHQvPlxuXHRcdFx0PHBvbHlnb25cblx0XHRcdFx0Y2xhc3NOYW1lPSdjbHMtMidcblx0XHRcdFx0cG9pbnRzPScxOCAyIDE0IDIgMTQgNCAxNyA0IDE3IDcgMjAgNyAyMCAxOCAxOCAxOCAxOCAyMCAyMiAyMCAyMiA2IDE4IDInXG5cdFx0XHQvPlxuXHRcdDwvc3ZnPlxuXHQpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26483\n")},68832:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   H: () => (/* binding */ DataDump)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ErrorMessage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(29319);\n\n\n/** Data Dump: Pretty print any data you wish in html */\nfunction DataDump(_a) {\n    var data = _a.data, sort = _a.sort, exclude = _a.exclude, raw = _a.raw;\n    if (data == null)\n        return null;\n    if (data instanceof Error)\n        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ErrorMessage__WEBPACK_IMPORTED_MODULE_1__/* .ErrorMessage */ .B, { error: data });\n    if (typeof data == 'function')\n        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, data.name ? '[function ' + data.name + ']' : '[function]');\n    if (typeof data !== 'object') {\n        var dataStr = (raw === true) ? String(data) : escapeHtml(String(data));\n        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, dataStr);\n    }\n    var keys = Object.keys(data);\n    if (!keys.length && typeof data.slice == 'function')\n        keys = Object.keys(data.slice());\n    if (exclude)\n        keys = keys.filter(function (key) { return !exclude.includes(key); });\n    //todo: sort\n    var items = keys.map(function (key) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { key: key },\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"b\", { className: 'me-2' },\n                key,\n                \": \"),\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(DataDump, { data: data[key], exclude: exclude, raw: raw, sort: sort }));\n    });\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"ul\", { className: 'dataDump' }, items);\n}\n;\nfunction escapeHtml(str) {\n    return str\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#039;');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjg4MzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQWlCQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUZBO0FBVUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL0RhdGFEdW1wLnRzeD8xN2M0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBFcnJvck1lc3NhZ2UgfSBmcm9tICcuL0Vycm9yTWVzc2FnZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YUR1bXBQcm9wcyB7XG5cblx0LyoqIHRoZSBkYXRhIHRvIHBhc3MgKi9cblx0ZGF0YTogYW55XG5cblx0LyoqIG5vLW9wLiBub3QgaW1wbGVtZW50ZWQgKi9cblx0c29ydD86IGJvb2xlYW5cblxuXHQvKiogdHJ1ZSBpZiB5b3UgZG9uJ3Qgd2FudCB0byBlc2NhcGUgaHRtbC4gKi9cblx0cmF3PzogYm9vbGVhblxuXG5cdC8qKiB0aGUgbmFtZSBvZiBhIHNpbmdsZSB0byB5b3Ugd2lzaCB0byBleGNsdWRlICovXG5cdGV4Y2x1ZGU/OiBzdHJpbmdbXTtcbn1cblxuLyoqIERhdGEgRHVtcDogUHJldHR5IHByaW50IGFueSBkYXRhIHlvdSB3aXNoIGluIGh0bWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBEYXRhRHVtcCh7IGRhdGEsIHNvcnQsIGV4Y2x1ZGUsIHJhdyB9OiBEYXRhRHVtcFByb3BzKSB7XG5cdGlmIChkYXRhID09IG51bGwpIHJldHVybiBudWxsO1xuXHRpZiAoZGF0YSBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gPEVycm9yTWVzc2FnZSBlcnJvcj17ZGF0YX0gLz47XG5cblx0aWYgKHR5cGVvZiBkYXRhID09ICdmdW5jdGlvbicpIHJldHVybiA8c3Bhbj57ZGF0YS5uYW1lID8gJ1tmdW5jdGlvbiAnICsgZGF0YS5uYW1lICsgJ10nIDogJ1tmdW5jdGlvbl0nfTwvc3Bhbj47XG5cdGlmICh0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpIHtcblx0XHRsZXQgZGF0YVN0ciA9IChyYXcgPT09IHRydWUpID8gU3RyaW5nKGRhdGEpIDogZXNjYXBlSHRtbChTdHJpbmcoZGF0YSkpO1xuXHRcdHJldHVybiA8c3Bhbj57ZGF0YVN0cn08L3NwYW4+O1xuXHR9XG5cblx0bGV0IGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTtcblx0aWYgKCFrZXlzLmxlbmd0aCAmJiB0eXBlb2YgZGF0YS5zbGljZSA9PSAnZnVuY3Rpb24nKSBrZXlzID0gT2JqZWN0LmtleXMoZGF0YS5zbGljZSgpKTtcblxuXHRpZiAoZXhjbHVkZSkga2V5cyA9IGtleXMuZmlsdGVyKGtleSA9PiAhZXhjbHVkZS5pbmNsdWRlcyhrZXkpKTtcblxuXHQvL3RvZG86IHNvcnRcblxuXHRjb25zdCBpdGVtczphbnlbXSA9IGtleXMubWFwKGtleSA9PlxuXHRcdDxkaXYga2V5PXtrZXl9PlxuXHRcdFx0PGIgY2xhc3NOYW1lPSdtZS0yJz57a2V5fTogPC9iPlxuXHRcdFx0PERhdGFEdW1wXG5cdFx0XHRcdGRhdGE9e2RhdGFba2V5XX1cblx0XHRcdFx0ZXhjbHVkZT17ZXhjbHVkZX1cblx0XHRcdFx0cmF3PXtyYXd9XG5cdFx0XHRcdHNvcnQ9e3NvcnR9XG5cdFx0XHQvPlxuXHRcdDwvZGl2Pik7XG5cblx0cmV0dXJuIDx1bCBjbGFzc05hbWU9J2RhdGFEdW1wJz57aXRlbXN9PC91bD47XG59O1xuXG5mdW5jdGlvbiBlc2NhcGVIdG1sKHN0cjpzdHJpbmcpIHtcblx0cmV0dXJuIHN0clxuXHRcdC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG5cdFx0LnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuXHRcdC5yZXBsYWNlKC8+L2csICcmZ3Q7Jylcblx0XHQucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG5cdFx0LnJlcGxhY2UoLycvZywgJyYjMDM5OycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///68832\n")},29319:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   B: () => (/* binding */ ErrorMessage)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ErrorString__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(36359);\n\n\nvar ErrorMessage = function (_a) {\n    var error = _a.error, message = _a.message;\n    if (!error && !message)\n        return null;\n    var debugData = null;\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'row justify-content-center g-0' },\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'col-11 col-md-5 mx-auto py-3 py-md-4' },\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"p\", { className: 'alert alertError alert-danger', role: 'alert' },\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-warning' }),\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_ErrorString__WEBPACK_IMPORTED_MODULE_1__/* .ErrorString */ .y, { error: message || error })),\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'pre-scrollable' }, debugData))));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkzMTkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL0Vycm9yTWVzc2FnZS50c3g/ZTdiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRXJyb3JTdHJpbmcgfSBmcm9tICcuL0Vycm9yU3RyaW5nJztcblxuaW50ZXJmYWNlIEVycm9yTWVzc2FnZVByb3BzIHtcblx0ZXJyb3I/OiBhbnk7XG5cdG1lc3NhZ2U/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBFcnJvck1lc3NhZ2UgPSAoeyBlcnJvciwgbWVzc2FnZSB9OiBFcnJvck1lc3NhZ2VQcm9wcykgPT4ge1xuXHRpZiAoIWVycm9yICYmICFtZXNzYWdlKSByZXR1cm4gbnVsbDtcblx0bGV0IGRlYnVnRGF0YSA9IG51bGw7XG5cdHJldHVybiAoXG5cdFx0PGRpdiBjbGFzc05hbWU9J3JvdyBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGctMCc+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLTExIGNvbC1tZC01IG14LWF1dG8gcHktMyBweS1tZC00Jz5cblx0XHRcdFx0PHAgY2xhc3NOYW1lPSdhbGVydCBhbGVydEVycm9yIGFsZXJ0LWRhbmdlcicgcm9sZT0nYWxlcnQnPlxuXHRcdFx0XHRcdDxzcGFuIGFyaWEtaGlkZGVuPSd0cnVlJyBjbGFzc05hbWU9J2ljb24tZjMgaWNvbi13YXJuaW5nJyAvPlxuXHRcdFx0XHRcdDxFcnJvclN0cmluZyBlcnJvcj17bWVzc2FnZSB8fCBlcnJvcn0gLz5cblx0XHRcdFx0PC9wPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ncHJlLXNjcm9sbGFibGUnPntkZWJ1Z0RhdGF9PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L2Rpdj5cblxuXHQpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///29319\n")},36359:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   V: () => (/* binding */ errorToString),\n/* harmony export */   y: () => (/* binding */ ErrorString)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _DataDump__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(68832);\n\n\n;\nvar ErrorString = function (_a) {\n    var error = _a.error;\n    var messageStr = errorToString(error);\n    if (messageStr)\n        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, messageStr);\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_DataDump__WEBPACK_IMPORTED_MODULE_1__/* .DataDump */ .H, { data: error.data || error });\n};\nfunction errorToString(error) {\n    if (!error)\n        return null;\n    var messageStr = '';\n    try {\n        if (typeof error == 'string') {\n            messageStr = error;\n        }\n        else if (isResponseError(error)) {\n            messageStr = error.message;\n        }\n        else if (typeof error == 'object') {\n            if (typeof error.message == 'string') {\n                messageStr = error.message;\n            }\n            else if (typeof error.data == 'string') {\n                messageStr = error.data;\n            }\n            else if (typeof error.data == 'object') {\n                if (error.data.cause) {\n                    messageStr = error.data.cause.cause || error.data.cause.message || error.data.cause;\n                }\n            }\n            messageStr = [error.status, error.statusText, messageStr].filter(function (v) { return v; }).join(': ');\n        }\n    }\n    catch (e) {\n        console.error(e);\n    }\n    return messageStr;\n}\nfunction isResponseError(error) {\n    //return error instanceof ResponseError\n    return error.response == 'object';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYzNTkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQWVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL0Vycm9yU3RyaW5nLnRzeD84OGE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSZXNwb25zZUVycm9yIH0gZnJvbSAnLi4vbGliL1Jlc3BvbnNlRXJyb3InO1xuaW1wb3J0IHsgRGF0YUR1bXAgfSBmcm9tICcuL0RhdGFEdW1wJztcbjtcblxudHlwZSBBbnlFcnJvciA9IHN0cmluZyB8IFJlc3BvbnNlRXJyb3IgfCB7XG5cdG1lc3NhZ2U6IHN0cmluZztcblx0ZGF0YTogc3RyaW5nIHwge1xuXHRcdGNhdXNlOiBhbnk7XG5cdH07XG5cdHN0YXR1czogYW55O1xuXHRzdGF0dXNUZXh0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBFcnJvclN0cmluZ1Byb3BzIHtcblx0ZXJyb3I6IEFueUVycm9yXG59XG5cbmV4cG9ydCBjb25zdCBFcnJvclN0cmluZyA9ICh7IGVycm9yIH06IEVycm9yU3RyaW5nUHJvcHMpID0+IHtcblx0bGV0IG1lc3NhZ2VTdHIgPSBlcnJvclRvU3RyaW5nKGVycm9yKTtcblx0aWYgKG1lc3NhZ2VTdHIpIHJldHVybiA8c3Bhbj57bWVzc2FnZVN0cn08L3NwYW4+O1xuXG5cdHJldHVybiA8RGF0YUR1bXAgZGF0YT17KGVycm9yIGFzIGFueSkuZGF0YSB8fCBlcnJvcn0gLz47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JUb1N0cmluZyhlcnJvcjogQW55RXJyb3IpIHtcblx0aWYgKCFlcnJvcikgcmV0dXJuIG51bGw7XG5cdGxldCBtZXNzYWdlU3RyID0gJyc7XG5cblx0dHJ5IHtcblx0XHRpZiAodHlwZW9mIGVycm9yID09ICdzdHJpbmcnKSB7XG5cdFx0XHRtZXNzYWdlU3RyID0gZXJyb3I7XG5cdFx0fSBlbHNlIGlmIChpc1Jlc3BvbnNlRXJyb3IoZXJyb3IpKSB7XG5cdFx0XHRtZXNzYWdlU3RyID0gZXJyb3IubWVzc2FnZTtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBlcnJvciA9PSAnb2JqZWN0Jykge1xuXHRcdFx0aWYgKHR5cGVvZiBlcnJvci5tZXNzYWdlID09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdG1lc3NhZ2VTdHIgPSBlcnJvci5tZXNzYWdlO1xuXHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgZXJyb3IuZGF0YSA9PSAnc3RyaW5nJykge1xuXHRcdFx0XHRtZXNzYWdlU3RyID0gZXJyb3IuZGF0YTtcblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGVycm9yLmRhdGEgPT0gJ29iamVjdCcpIHtcblx0XHRcdFx0aWYgKGVycm9yLmRhdGEuY2F1c2UpIHtcblx0XHRcdFx0XHRtZXNzYWdlU3RyID0gZXJyb3IuZGF0YS5jYXVzZS5jYXVzZSB8fCBlcnJvci5kYXRhLmNhdXNlLm1lc3NhZ2UgfHwgZXJyb3IuZGF0YS5jYXVzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRtZXNzYWdlU3RyID0gW2Vycm9yLnN0YXR1cywgZXJyb3Iuc3RhdHVzVGV4dCwgbWVzc2FnZVN0cl0uZmlsdGVyKHYgPT4gdikuam9pbignOiAnKTtcblx0XHR9XG5cdH0gY2F0Y2goZSkge1xuXHRcdGNvbnNvbGUuZXJyb3IoZSk7XG5cdH1cblxuXHRyZXR1cm4gbWVzc2FnZVN0cjtcbn1cblxuZnVuY3Rpb24gaXNSZXNwb25zZUVycm9yKGVycm9yOiBhbnkpOiBlcnJvciBpcyBSZXNwb25zZUVycm9yIHtcblx0Ly9yZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBSZXNwb25zZUVycm9yXG5cdHJldHVybiAoZXJyb3IgYXMgYW55KS5yZXNwb25zZSA9PSAnb2JqZWN0Jztcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///36359\n")},1534:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   H3: () => (/* binding */ AncestryButton),\n/* harmony export */   Mm: () => (/* binding */ SubmitButton),\n/* harmony export */   PZ: () => (/* binding */ CloseButton),\n/* harmony export */   Vk: () => (/* binding */ F3Button),\n/* harmony export */   fe: () => (/* binding */ NavButton),\n/* harmony export */   m1: () => (/* binding */ DeleteButton),\n/* harmony export */   w6: () => (/* binding */ EditButton)\n/* harmony export */ });\n/* unused harmony exports FacebookButton, TwitterButton, CopyButton, PasteButton */\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70655);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(66711);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_classUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(78697);\n/* harmony import */ var _lib_hooks_useAlerts__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(2193);\n/* harmony import */ var _lib_hooks_useDataLayer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(90930);\n/* harmony import */ var _CopyIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(26483);\n\n\n\n\n\n\n\nvar F3Button = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_a, ref) {\n    var children = _a.children, _className = _a.className, _b = _a.btnType, btnType = _b === void 0 ? \'primary\' : _b, _c = _a.outline, outline = _c === void 0 ? false : _c, _d = _a.rounded, rounded = _d === void 0 ? false : _d, size = _a.size, _e = _a.type, type = _e === void 0 ? \'button\' : _e, _f = _a.tabIndex, tabIndex = _f === void 0 ? 0 : _f, gtmEvent = _a.gtmEvent, onClick = _a.onClick, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__rest */ ._T)(_a, ["children", "className", "btnType", "outline", "rounded", "size", "type", "tabIndex", "gtmEvent", "onClick"]);\n    var className = (0,_lib_classUtil__WEBPACK_IMPORTED_MODULE_3__/* .classStr */ .B)(_className, \'btn\', btnType !== null && "btn-".concat(outline ? "outline-" : \'\').concat(btnType), size && "btn-".concat(size), rounded && \'rounded-pill\');\n    var pushEvent = (0,_lib_hooks_useDataLayer__WEBPACK_IMPORTED_MODULE_4__/* .useDataLayer */ .P)().pushEvent;\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("button", (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({ ref: ref, className: className, "data-cy": \'f3-button\', type: type }, rest, { onClick: function (e) {\n            if (gtmEvent) {\n                pushEvent(gtmEvent);\n            }\n            onClick === null || onClick === void 0 ? void 0 : onClick(e);\n        }, tabIndex: tabIndex }), children));\n});\nvar DeleteButton = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_a, ref) {\n    var children = _a.children, className = _a.className, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__rest */ ._T)(_a, ["children", "className"]);\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(F3Button, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({ className: (0,_lib_classUtil__WEBPACK_IMPORTED_MODULE_3__/* .classStr */ .B)(\'icon-f3\', \'a2-icon-delete\', className) }, rest, { ref: ref }), children));\n});\nvar EditButton = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_a, ref) {\n    var children = _a.children, className = _a.className, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__rest */ ._T)(_a, ["children", "className"]);\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(F3Button, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({ className: (0,_lib_classUtil__WEBPACK_IMPORTED_MODULE_3__/* .classStr */ .B)(\'icon-f3\', \'a2-icon-edit\', className), "data-cy": \'edit-button\' }, rest, { ref: ref }), children));\n});\nvar CloseButton = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_a, ref) {\n    var children = _a.children, className = _a.className, size = _a.size, white = _a.white, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__rest */ ._T)(_a, ["children", "className", "size", "white"]);\n    var textSize;\n    switch (size) {\n        case \'lg\':\n            textSize = \'fs-2\';\n            break;\n        case \'sm\':\n            textSize = \'fs-sm\';\n            break;\n        default:\n            textSize = \'\';\n            break;\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(F3Button, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({ "aria-label": \'Close\', btnType: null, className: (0,_lib_classUtil__WEBPACK_IMPORTED_MODULE_3__/* .classStr */ .B)(className, \'btn-close\', white && \'btn-close-white\', textSize) }, rest, { ref: ref, size: size })));\n});\nvar LogoButton = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_a, ref) {\n    var logoClass = _a.logoClass, className = _a.className, children = _a.children, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__rest */ ._T)(_a, ["logoClass", "className", "children"]);\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(F3Button, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({ btnType: null, className: className }, rest, { ref: ref }),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", { "aria-hidden": true, className: (0,_lib_classUtil__WEBPACK_IMPORTED_MODULE_3__/* .classStr */ .B)(logoClass, \'align-middle h4\'), style: {\n                fontSize: \'24px\',\n                lineHeight: \'.8\',\n            } }, "\\u00A0"),\n        children));\n});\nvar AncestryButton = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_a, ref) {\n    var className = _a.className, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__rest */ ._T)(_a, ["className"]);\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(LogoButton, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({ className: (0,_lib_classUtil__WEBPACK_IMPORTED_MODULE_3__/* .classStr */ .B)(className, \'btn-acom\'), logoClass: \'icon-f3 icon-acom\' }, rest, { ref: ref })));\n});\nvar FacebookButton = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_a, ref) {\n    var className = _a.className, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__rest */ ._T)(_a, ["className"]);\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(LogoButton, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({ "aria-hidden": \'true\', className: (0,_lib_classUtil__WEBPACK_IMPORTED_MODULE_3__/* .classStr */ .B)(className), logoClass: \'icon-f3 icon-facebook\' }, rest, { ref: ref })));\n});\nvar TwitterButton = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_a, ref) {\n    var className = _a.className, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__rest */ ._T)(_a, ["className"]);\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(LogoButton, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({ "aria-hidden": \'true\', className: (0,_lib_classUtil__WEBPACK_IMPORTED_MODULE_3__/* .classStr */ .B)(className), logoClass: \'icon-f3 icon-twitter\' }, rest, { ref: ref })));\n});\nvar SubmitButton = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_a, ref) {\n    var type = _a.type, _b = _a.children, children = _b === void 0 ? \'Save\' : _b, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__rest */ ._T)(_a, ["type", "children"]);\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(F3Button, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({}, rest, { ref: ref, type: \'submit\' }), children));\n});\nvar NavButton = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_a, ref) {\n    var className = _a.className, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__rest */ ._T)(_a, ["className"]);\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.NavLink, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({ className: function (_a) {\n            var isActive = _a.isActive;\n            return isActive ? \'btn btn-primary\' : \'btn bg-white border btn-link\';\n        }, "data-cy": \'nav-button\', role: \'button\' }, rest, { ref: ref })));\n});\nvar CopyButton = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_a, ref) {\n    var value = _a.value, children = _a.children, _b = _a.btnType, btnType = _b === void 0 ? \'transparent\' : _b, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__rest */ ._T)(_a, ["value", "children", "btnType"]);\n    var addSuccessAlert = (0,_lib_hooks_useAlerts__WEBPACK_IMPORTED_MODULE_5__/* .useAlerts */ .Z)().addSuccessAlert;\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(F3Button, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({}, rest, { ref: ref, btnType: btnType, onClick: function () {\n            navigator.clipboard\n                .writeText(\'\' + value)\n                .then(addSuccessAlert(\'Copied to clipboard!\'));\n        } }),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_CopyIcon__WEBPACK_IMPORTED_MODULE_6__/* .CopyIcon */ .T, { color: btnType === \'transparent\' ? \'#000\' : \'#fff\', size: 24 }),\n        children));\n});\nvar PasteButton = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_a, ref) {\n    var handlePaste = _a.handlePaste, children = _a.children, _b = _a.btnType, btnType = _b === void 0 ? \'transparent\' : _b, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__rest */ ._T)(_a, ["handlePaste", "children", "btnType"]);\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(F3Button, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({}, rest, { ref: ref, btnType: btnType, onClick: function () {\n            navigator.clipboard.readText().then(handlePaste);\n        } }), children ? children : \'Paste\'));\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUzNC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQW9CQTtBQUVBO0FBY0E7QUFRQTtBQUVBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBRUE7QUFBQTtBQUNBO0FBU0E7QUFFQTtBQUFBO0FBQ0E7QUFVQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBS0E7QUFBQTtBQUNBO0FBT0E7QUFJQTtBQUNBO0FBQ0E7QUFJQTtBQUdBO0FBRUE7QUFBQTtBQUNBO0FBUUE7QUFFQTtBQUFBO0FBQ0E7QUFTQTtBQUVBO0FBQUE7QUFDQTtBQVNBO0FBRUE7QUFBQTtBQUNBO0FBS0E7QUFJQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFNQTtBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBS0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9GM0J1dHRvbi50c3g/YTQ2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQnV0dG9uSFRNTEF0dHJpYnV0ZXMsIERldGFpbGVkSFRNTFByb3BzLCBSZWFjdE5vZGUsIGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBOYXZMaW5rLCBOYXZMaW5rUHJvcHMgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IGNsYXNzU3RyIH0gZnJvbSAnLi4vbGliL2NsYXNzVXRpbCc7XG5pbXBvcnQgeyBEYXRhTGF5ZXJPYmogfSBmcm9tICcuLi9saWIvZ29vZ2xlQW5hbHl0aWNzRXZlbnRzJztcbmltcG9ydCB7IHVzZUFsZXJ0cyB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VBbGVydHMnO1xuaW1wb3J0IHsgdXNlRGF0YUxheWVyIH0gZnJvbSAnLi4vbGliL2hvb2tzL3VzZURhdGFMYXllcic7XG5pbXBvcnQgeyBDb3B5SWNvbiB9IGZyb20gJy4vQ29weUljb24nO1xuXG5kZWNsYXJlIGNvbnN0IGRhdGFMYXllcjoge1xuXHRwdXNoKG9iajogRGF0YUxheWVyT2JqKTogdm9pZDtcbn07XG5cbnR5cGUgQnV0dG9uVHlwZSA9ICdwcmltYXJ5JyB8ICdzZWNvbmRhcnknIHwgJ3NlY29uZGFyeTInIHwgJ3NlY29uZGFyeTMnIHwgJ2RlZmF1bHQnIHwgJ2xpbmsnIHwgJ3N1Y2Nlc3MnIHwgJ2RhbmdlcicgfCAnd2FybmluZycgfCAnaW5mbycgfCAnbGlnaHQnIHwgJ2RhcmsnIHwgJ3RyYW5zcGFyZW50JyB8ICdhY29tMidcblxuZXhwb3J0IGludGVyZmFjZSBCdXR0b25Qcm9wc1xuXHRleHRlbmRzIERldGFpbGVkSFRNTFByb3BzPFxuXHRCdXR0b25IVE1MQXR0cmlidXRlczxIVE1MQnV0dG9uRWxlbWVudD4sXG5cdEhUTUxCdXR0b25FbGVtZW50XG5cdD4ge1xuXHRidG5UeXBlPzogQnV0dG9uVHlwZTtcblx0b3V0bGluZT86IGJvb2xlYW47XG5cdHNpemU/OiAnbGcnIHwgJ3NtJztcblx0cm91bmRlZD86IGJvb2xlYW47XG5cdGd0bUV2ZW50PzogRGF0YUxheWVyT2JqO1xufVxuXG5leHBvcnQgY29uc3QgRjNCdXR0b24gPSBmb3J3YXJkUmVmPEhUTUxCdXR0b25FbGVtZW50LCBCdXR0b25Qcm9wcz4oKFxuXHR7XG5cdFx0Y2hpbGRyZW4sXG5cdFx0Y2xhc3NOYW1lOiBfY2xhc3NOYW1lLFxuXHRcdGJ0blR5cGUgPSAncHJpbWFyeScsXG5cdFx0b3V0bGluZSA9IGZhbHNlLFxuXHRcdHJvdW5kZWQgPSBmYWxzZSxcblx0XHRzaXplLFxuXHRcdHR5cGUgPSAnYnV0dG9uJyxcblx0XHR0YWJJbmRleCA9IDAsXG5cdFx0Z3RtRXZlbnQsXG5cdFx0b25DbGljayxcblx0XHQuLi5yZXN0XG5cdH0sXG5cdHJlZlxuKSA9PiB7XG5cdGxldCBjbGFzc05hbWUgPSBjbGFzc1N0cihcblx0XHRfY2xhc3NOYW1lLFxuXHRcdCdidG4nLFxuXHRcdGJ0blR5cGUgIT09IG51bGwgJiYgYGJ0bi0ke291dGxpbmUgPyBgb3V0bGluZS1gIDogJyd9JHtidG5UeXBlfWAsXG5cdFx0c2l6ZSAmJiBgYnRuLSR7c2l6ZX1gLFxuXHRcdHJvdW5kZWQgJiYgJ3JvdW5kZWQtcGlsbCdcblx0KTtcblxuXHRjb25zdCB7IHB1c2hFdmVudCB9ID0gdXNlRGF0YUxheWVyKCk7XG5cblx0cmV0dXJuIChcblx0XHQ8YnV0dG9uXG5cdFx0XHRyZWY9e3JlZn1cblx0XHRcdGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuXHRcdFx0ZGF0YS1jeT0nZjMtYnV0dG9uJ1xuXHRcdFx0dHlwZT17dHlwZX1cblx0XHRcdHsuLi5yZXN0fVxuXHRcdFx0b25DbGljaz17ZSA9PiB7XG5cdFx0XHRcdGlmIChndG1FdmVudCkge1xuXHRcdFx0XHRcdHB1c2hFdmVudChndG1FdmVudCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0b25DbGljaz8uKGUpO1xuXHRcdFx0fX1cblx0XHRcdHRhYkluZGV4PXt0YWJJbmRleH1cblx0XHQ+XG5cdFx0XHR7Y2hpbGRyZW59XG5cdFx0PC9idXR0b24+XG5cdCk7XG59KTtcblxuZXhwb3J0IGNvbnN0IERlbGV0ZUJ1dHRvbiA9IGZvcndhcmRSZWY8SFRNTEJ1dHRvbkVsZW1lbnQsIEJ1dHRvblByb3BzPigoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCAuLi5yZXN0IH0sIHJlZikgPT4ge1xuXHRyZXR1cm4gKFxuXHRcdDxGM0J1dHRvblxuXHRcdFx0Y2xhc3NOYW1lPXtjbGFzc1N0cignaWNvbi1mMycsICdhMi1pY29uLWRlbGV0ZScsIGNsYXNzTmFtZSl9XG5cdFx0XHR7Li4ucmVzdH1cblx0XHRcdHJlZj17cmVmfVxuXHRcdD5cblx0XHRcdHtjaGlsZHJlbn1cblx0XHQ8L0YzQnV0dG9uPlxuXHQpO1xufSk7XG5cbmV4cG9ydCBjb25zdCBFZGl0QnV0dG9uID0gZm9yd2FyZFJlZjxIVE1MQnV0dG9uRWxlbWVudCwgQnV0dG9uUHJvcHM+KCh7IGNoaWxkcmVuLCBjbGFzc05hbWUsIC4uLnJlc3QgfSwgcmVmKSA9PiB7XG5cdHJldHVybiAoXG5cdFx0PEYzQnV0dG9uXG5cdFx0XHRjbGFzc05hbWU9e2NsYXNzU3RyKCdpY29uLWYzJywgJ2EyLWljb24tZWRpdCcsIGNsYXNzTmFtZSl9XG5cdFx0XHRkYXRhLWN5PSdlZGl0LWJ1dHRvbidcblx0XHRcdHsuLi5yZXN0fVxuXHRcdFx0cmVmPXtyZWZ9XG5cdFx0PlxuXHRcdFx0e2NoaWxkcmVufVxuXHRcdDwvRjNCdXR0b24+XG5cdCk7XG59KTtcblxuaW50ZXJmYWNlIENsb3NlQnV0dG9uUHJvcHMgZXh0ZW5kcyBCdXR0b25Qcm9wcyB7XG5cdHdoaXRlPzogYm9vbGVhblxufVxuXG5leHBvcnQgY29uc3QgQ2xvc2VCdXR0b24gPSBmb3J3YXJkUmVmPEhUTUxCdXR0b25FbGVtZW50LCBDbG9zZUJ1dHRvblByb3BzPigoeyBjaGlsZHJlbiwgY2xhc3NOYW1lLCBzaXplLCB3aGl0ZSwgLi4ucmVzdCB9LCByZWYpID0+IHtcblx0bGV0IHRleHRTaXplO1xuXHRzd2l0Y2ggKHNpemUpIHtcblx0XHRjYXNlICdsZyc6XG5cdFx0XHR0ZXh0U2l6ZSA9ICdmcy0yJztcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ3NtJzpcblx0XHRcdHRleHRTaXplID0gJ2ZzLXNtJztcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHR0ZXh0U2l6ZSA9ICcnO1xuXHRcdFx0YnJlYWs7XG5cdH1cblxuXHRyZXR1cm4gKFxuXHRcdDxGM0J1dHRvblxuXHRcdFx0YXJpYS1sYWJlbD0nQ2xvc2UnXG5cdFx0XHRidG5UeXBlPXtudWxsfVxuXHRcdFx0Y2xhc3NOYW1lPXtjbGFzc1N0cihjbGFzc05hbWUsICdidG4tY2xvc2UnLCB3aGl0ZSAmJiAnYnRuLWNsb3NlLXdoaXRlJywgdGV4dFNpemUpfVxuXHRcdFx0ey4uLnJlc3R9XG5cdFx0XHRyZWY9e3JlZn1cblx0XHRcdHNpemU9e3NpemV9XG5cdFx0Lz5cblx0KTtcbn0pO1xuXG5pbnRlcmZhY2UgTG9nb0J1dHRvblByb3BzIGV4dGVuZHMgQnV0dG9uUHJvcHMge1xuXHRsb2dvQ2xhc3M6IHN0cmluZztcbn1cbmNvbnN0IExvZ29CdXR0b24gPSBmb3J3YXJkUmVmPEhUTUxCdXR0b25FbGVtZW50LCBMb2dvQnV0dG9uUHJvcHM+KCh7IGxvZ29DbGFzcywgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucmVzdCB9LCByZWYpID0+IHtcblx0cmV0dXJuIChcblx0XHQ8RjNCdXR0b25cblx0XHRcdGJ0blR5cGU9e251bGx9XG5cdFx0XHRjbGFzc05hbWU9e2NsYXNzTmFtZX1cblx0XHRcdHsuLi5yZXN0fVxuXHRcdFx0cmVmPXtyZWZ9XG5cdFx0PlxuXHRcdFx0PHNwYW5cblx0XHRcdFx0YXJpYS1oaWRkZW5cblx0XHRcdFx0Y2xhc3NOYW1lPXtjbGFzc1N0cihsb2dvQ2xhc3MsICdhbGlnbi1taWRkbGUgaDQnKX1cblx0XHRcdFx0c3R5bGU9e3tcblx0XHRcdFx0XHRmb250U2l6ZTogJzI0cHgnLFxuXHRcdFx0XHRcdGxpbmVIZWlnaHQ6ICcuOCcsXG5cdFx0XHRcdH19XG5cdFx0XHQ+XG4gICAgICAgICAgJm5ic3A7XG5cdFx0XHQ8L3NwYW4+XG5cdFx0XHR7Y2hpbGRyZW4gYXMgUmVhY3ROb2RlfVxuXHRcdDwvRjNCdXR0b24+XG5cdCk7XG59KTtcblxuZXhwb3J0IGNvbnN0IEFuY2VzdHJ5QnV0dG9uID0gZm9yd2FyZFJlZjxIVE1MQnV0dG9uRWxlbWVudCwgQnV0dG9uUHJvcHM+KCh7IGNsYXNzTmFtZSwgLi4ucmVzdCB9LCByZWYpID0+IHtcblx0cmV0dXJuIChcblx0XHQ8TG9nb0J1dHRvblxuXHRcdFx0Y2xhc3NOYW1lPXtjbGFzc1N0cihjbGFzc05hbWUsICdidG4tYWNvbScpfVxuXHRcdFx0bG9nb0NsYXNzPSdpY29uLWYzIGljb24tYWNvbSdcblx0XHRcdHsuLi5yZXN0fVxuXHRcdFx0cmVmPXtyZWZ9XG5cdFx0Lz5cblx0KTtcbn0pO1xuXG5leHBvcnQgY29uc3QgRmFjZWJvb2tCdXR0b24gPSBmb3J3YXJkUmVmPEhUTUxCdXR0b25FbGVtZW50LCBCdXR0b25Qcm9wcz4oKHsgY2xhc3NOYW1lLCAuLi5yZXN0IH0sIHJlZikgPT4ge1xuXHRyZXR1cm4gKFxuXHRcdDxMb2dvQnV0dG9uXG5cdFx0XHRhcmlhLWhpZGRlbj0ndHJ1ZSdcblx0XHRcdGNsYXNzTmFtZT17Y2xhc3NTdHIoY2xhc3NOYW1lKX1cblx0XHRcdGxvZ29DbGFzcz0naWNvbi1mMyBpY29uLWZhY2Vib29rJ1xuXHRcdFx0ey4uLnJlc3R9XG5cdFx0XHRyZWY9e3JlZn1cblx0XHQvPlxuXHQpO1xufSk7XG5cbmV4cG9ydCBjb25zdCBUd2l0dGVyQnV0dG9uID0gZm9yd2FyZFJlZjxIVE1MQnV0dG9uRWxlbWVudCwgQnV0dG9uUHJvcHM+KCh7IGNsYXNzTmFtZSwgLi4ucmVzdCB9LCByZWYpID0+IHtcblx0cmV0dXJuIChcblx0XHQ8TG9nb0J1dHRvblxuXHRcdFx0YXJpYS1oaWRkZW49J3RydWUnXG5cdFx0XHRjbGFzc05hbWU9e2NsYXNzU3RyKGNsYXNzTmFtZSl9XG5cdFx0XHRsb2dvQ2xhc3M9J2ljb24tZjMgaWNvbi10d2l0dGVyJ1xuXHRcdFx0ey4uLnJlc3R9XG5cdFx0XHRyZWY9e3JlZn1cblx0XHQvPlxuXHQpO1xufSk7XG5cbmV4cG9ydCBjb25zdCBTdWJtaXRCdXR0b24gPSBmb3J3YXJkUmVmPEhUTUxCdXR0b25FbGVtZW50LCBCdXR0b25Qcm9wcz4oKHsgdHlwZSwgY2hpbGRyZW4gPSAnU2F2ZScsIC4uLnJlc3QgfSwgcmVmKSA9PiB7XG5cdHJldHVybiAoXG5cdFx0PEYzQnV0dG9uIHsuLi5yZXN0fSByZWY9e3JlZn0gdHlwZT0nc3VibWl0Jz5cblx0XHRcdHtjaGlsZHJlbn1cblx0XHQ8L0YzQnV0dG9uPlxuXHQpO1xufSk7XG5cbmludGVyZmFjZSBOYXZCdXR0b25Qcm9wcyBleHRlbmRzIE5hdkxpbmtQcm9wcyB7fVxuXG5leHBvcnQgY29uc3QgTmF2QnV0dG9uID0gZm9yd2FyZFJlZjxIVE1MQW5jaG9yRWxlbWVudCwgTmF2QnV0dG9uUHJvcHM+KCh7IGNsYXNzTmFtZSwgLi4ucmVzdCB9LCByZWYpID0+IHtcblx0cmV0dXJuIChcblx0XHQ8TmF2TGlua1xuXHRcdFx0Y2xhc3NOYW1lPXsoeyBpc0FjdGl2ZSB9KSA9PiB7XG5cdFx0XHRcdHJldHVybiBpc0FjdGl2ZSA/ICdidG4gYnRuLXByaW1hcnknIDogJ2J0biBiZy13aGl0ZSBib3JkZXIgYnRuLWxpbmsnO1xuXHRcdFx0fX1cblx0XHRcdGRhdGEtY3k9J25hdi1idXR0b24nXG5cdFx0XHRyb2xlPSdidXR0b24nXG5cdFx0XHR7Li4ucmVzdH1cblx0XHRcdHJlZj17cmVmfVxuXHRcdC8+XG5cdCk7XG59KTtcblxuaW50ZXJmYWNlIENvcHlCdXR0b25Qcm9wcyBleHRlbmRzIEJ1dHRvblByb3BzIHtcblx0dmFsdWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IENvcHlCdXR0b24gPSBmb3J3YXJkUmVmPEhUTUxCdXR0b25FbGVtZW50LCBDb3B5QnV0dG9uUHJvcHM+KCh7IHZhbHVlLCBjaGlsZHJlbiwgYnRuVHlwZSA9ICd0cmFuc3BhcmVudCcsIC4uLnJlc3QgfSwgcmVmKSA9PiB7XG5cdGNvbnN0IHsgYWRkU3VjY2Vzc0FsZXJ0IH0gPSB1c2VBbGVydHMoKTtcblx0cmV0dXJuIChcblx0XHQ8RjNCdXR0b25cblx0XHRcdHsuLi5yZXN0fVxuXHRcdFx0cmVmPXtyZWZ9XG5cdFx0XHRidG5UeXBlPXtidG5UeXBlfVxuXHRcdFx0b25DbGljaz17KCkgPT4ge1xuXHRcdFx0XHRuYXZpZ2F0b3IuY2xpcGJvYXJkXG5cdFx0XHRcdFx0LndyaXRlVGV4dCgnJyArIHZhbHVlKVxuXHRcdFx0XHRcdC50aGVuKGFkZFN1Y2Nlc3NBbGVydCgnQ29waWVkIHRvIGNsaXBib2FyZCEnKSk7XG5cdFx0XHR9fVxuXHRcdD5cblx0XHRcdDxDb3B5SWNvbiBjb2xvcj17YnRuVHlwZSA9PT0gJ3RyYW5zcGFyZW50JyA/ICcjMDAwJyA6ICcjZmZmJ30gc2l6ZT17MjR9IC8+XG5cdFx0XHR7Y2hpbGRyZW4gYXMgUmVhY3ROb2RlfVxuXHRcdDwvRjNCdXR0b24+XG5cdCk7XG59KTtcblxuaW50ZXJmYWNlIFBhc3RlQnV0dG9uUHJvcHMgZXh0ZW5kcyBCdXR0b25Qcm9wcyB7XG5cdGhhbmRsZVBhc3RlOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IFBhc3RlQnV0dG9uID0gZm9yd2FyZFJlZjxIVE1MQnV0dG9uRWxlbWVudCwgUGFzdGVCdXR0b25Qcm9wcz4oKHsgaGFuZGxlUGFzdGUsIGNoaWxkcmVuLCBidG5UeXBlID0gJ3RyYW5zcGFyZW50JywgLi4ucmVzdCB9LCByZWYpID0+IHtcblx0cmV0dXJuIChcblx0XHQ8RjNCdXR0b25cblx0XHRcdHsuLi5yZXN0fVxuXHRcdFx0cmVmPXtyZWZ9XG5cdFx0XHRidG5UeXBlPXtidG5UeXBlfVxuXHRcdFx0b25DbGljaz17KCkgPT4ge1xuXHRcdFx0XHRuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWRUZXh0KCkudGhlbihoYW5kbGVQYXN0ZSk7XG5cdFx0XHR9fVxuXHRcdD5cblx0XHRcdHtjaGlsZHJlbiA/IGNoaWxkcmVuIDogJ1Bhc3RlJ31cblx0XHQ8L0YzQnV0dG9uPlxuXHQpO1xufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1534\n')},21655:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   y: () => (/* binding */ F3Link)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(70655);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_classUtil__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(78697);\n/* harmony import */ var _lib_externalUrl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(72644);\n/* harmony import */ var _lib_googleTagManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(10415);\n/* harmony import */ var _lib_parseUrl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(43650);\n/* harmony import */ var _F3RouterLink__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(50821);\n\n\n\n\n\n\n\n/**\n **\n * if you send children props that are complex JSX (not just text)\n * and want the external link decorator in a specific paragraph tag\n * you will need to add the decorator to your JSX before passing it\n * See the usage in MemorialLink.tsx as of Bane sprint\n *\n */\nvar F3Link = function (_a) {\n    var href = _a.href, target = _a.target, title = _a.title, _b = _a.preserveQuery, preserveQuery = _b === void 0 ? false : _b, _c = _a.showExternalDecorator, showExternalDecorator = _c === void 0 ? false : _c, _d = _a.isRouter, isRouter = _d === void 0 ? false : _d, reactRouterProps = _a.reactRouterProps, className = _a.className, style = _a.style, contentType = _a.contentType, children = _a.children, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__rest */ ._T)(_a, ["href", "target", "title", "preserveQuery", "showExternalDecorator", "isRouter", "reactRouterProps", "className", "style", "contentType", "children"]);\n    var externalProps = {};\n    var external = (0,_lib_externalUrl__WEBPACK_IMPORTED_MODULE_2__/* .isExternal */ .b9)(href);\n    var _e = (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__read */ .CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\'\'), 2), gtmTag = _e[0], setGtmTag = _e[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n        if (href && contentType && external) {\n            var hostname = (0,_lib_parseUrl__WEBPACK_IMPORTED_MODULE_3__/* .toURL */ .j)(href).hostname;\n            var tag = (0,_lib_googleTagManager__WEBPACK_IMPORTED_MODULE_4__.contentTypeToGoogleTag)(\'link\', contentType, hostname);\n            setGtmTag(tag);\n        }\n    }, [href, contentType]);\n    href = (0,_lib_externalUrl__WEBPACK_IMPORTED_MODULE_2__/* .getReferralUrl */ .ce)(href);\n    if (external) {\n        externalProps = (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)((0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)({}, externalProps), { className: \'external\', target: \'_blank\', rel: \'nofollow\' });\n    }\n    if (target) {\n        externalProps = {\n            target: target,\n        };\n    }\n    var gtmProps = {};\n    if (gtmTag)\n        gtmProps[\'data-gtm-click\'] = gtmTag;\n    return isRouter && !external ?\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_F3RouterLink__WEBPACK_IMPORTED_MODULE_5__/* .F3RouterLink */ .O, (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)({ children: children, className: className, href: href, preserveQuery: preserveQuery, reactRouterProps: reactRouterProps, style: style, target: target, title: title }, rest)) :\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("a", (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)({}, gtmProps, externalProps, { className: (0,_lib_classUtil__WEBPACK_IMPORTED_MODULE_6__/* .classStr */ .B)(className), href: href, style: style, title: title }, rest),\n            children,\n            external || showExternalDecorator &&\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", { "aria-label": \'open link in new tab\', className: \'outlink ms-1\' }));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjE2NTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYUE7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFXQTtBQVNBO0FBQ0E7QUFDQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvRjNMaW5rLnRzeD8yYmQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGlua1Byb3BzIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBDb250ZW50VHlwZSB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IE9iaiB9IGZyb20gJy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBjbGFzc1N0ciB9IGZyb20gJy4uL2xpYi9jbGFzc1V0aWwnO1xuaW1wb3J0IHsgZ2V0UmVmZXJyYWxVcmwsIGlzRXh0ZXJuYWwgfSBmcm9tICcuLi9saWIvZXh0ZXJuYWxVcmwnO1xuaW1wb3J0IHsgY29udGVudFR5cGVUb0dvb2dsZVRhZyB9IGZyb20gJy4uL2xpYi9nb29nbGVUYWdNYW5hZ2VyJztcbmltcG9ydCB7IHRvVVJMIH0gZnJvbSAnLi4vbGliL3BhcnNlVXJsJztcbmltcG9ydCB7IEYzUm91dGVyTGluayB9IGZyb20gJy4vRjNSb3V0ZXJMaW5rJztcblxuZXhwb3J0IGludGVyZmFjZSBGM0xpbmtQcm9wcyBleHRlbmRzIFJlYWN0LkhUTUxQcm9wczxIVE1MQW5jaG9yRWxlbWVudD4ge1xuXHRwcmVzZXJ2ZVF1ZXJ5PzogYm9vbGVhbjtcblx0c2hvd0V4dGVybmFsRGVjb3JhdG9yPzogYm9vbGVhbjtcblx0Y2xhc3NOYW1lPzogc3RyaW5nO1xuXHRzdHlsZT86IGFueTtcblx0Y2hpbGRyZW4/OiBhbnk7XG5cdGlzUm91dGVyPzogYm9vbGVhbjtcblx0cmVhY3RSb3V0ZXJQcm9wcz86IExpbmtQcm9wcztcblx0Y29udGVudFR5cGU/OiBDb250ZW50VHlwZTsgLy9hbGxvd3MgYXV0b21hZ2ljIGdvb2dsZSB0YWcgbWFuYWdlciB0cmFja2luZ1xufVxuXG4vKipcbiAqKlxuICogaWYgeW91IHNlbmQgY2hpbGRyZW4gcHJvcHMgdGhhdCBhcmUgY29tcGxleCBKU1ggKG5vdCBqdXN0IHRleHQpXG4gKiBhbmQgd2FudCB0aGUgZXh0ZXJuYWwgbGluayBkZWNvcmF0b3IgaW4gYSBzcGVjaWZpYyBwYXJhZ3JhcGggdGFnXG4gKiB5b3Ugd2lsbCBuZWVkIHRvIGFkZCB0aGUgZGVjb3JhdG9yIHRvIHlvdXIgSlNYIGJlZm9yZSBwYXNzaW5nIGl0XG4gKiBTZWUgdGhlIHVzYWdlIGluIE1lbW9yaWFsTGluay50c3ggYXMgb2YgQmFuZSBzcHJpbnRcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBGM0xpbmsgPSAoe1xuXHRocmVmLFxuXHR0YXJnZXQsXG5cdHRpdGxlLFxuXHRwcmVzZXJ2ZVF1ZXJ5ID0gZmFsc2UsXG5cdHNob3dFeHRlcm5hbERlY29yYXRvciA9IGZhbHNlLFxuXHRpc1JvdXRlciA9IGZhbHNlLFxuXHRyZWFjdFJvdXRlclByb3BzLFxuXHRjbGFzc05hbWUsXG5cdHN0eWxlLFxuXHRjb250ZW50VHlwZSxcblx0Y2hpbGRyZW4sXG5cdC4uLnJlc3Rcbn06IEYzTGlua1Byb3BzKSA9PiB7XG5cdGxldCBleHRlcm5hbFByb3BzID0ge307XG5cdGxldCBleHRlcm5hbCA9IGlzRXh0ZXJuYWwoaHJlZik7XG5cdGNvbnN0IFtndG1UYWcsIHNldEd0bVRhZ10gPSB1c2VTdGF0ZSgnJyk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRpZiAoaHJlZiAmJiBjb250ZW50VHlwZSAmJiBleHRlcm5hbCkge1xuXHRcdFx0bGV0IHsgaG9zdG5hbWUgfSA9IHRvVVJMKGhyZWYpO1xuXHRcdFx0bGV0IHRhZyA9IGNvbnRlbnRUeXBlVG9Hb29nbGVUYWcoJ2xpbmsnLCBjb250ZW50VHlwZSwgaG9zdG5hbWUpO1xuXHRcdFx0c2V0R3RtVGFnKHRhZyk7XG5cdFx0fVxuXHR9LCBbaHJlZiwgY29udGVudFR5cGVdKTtcblxuXHRocmVmID0gZ2V0UmVmZXJyYWxVcmwoaHJlZik7XG5cblx0aWYgKGV4dGVybmFsKSB7XG5cdFx0ZXh0ZXJuYWxQcm9wcyA9IHtcblx0ICAuLi5leHRlcm5hbFByb3BzLFxuXHRcdFx0Y2xhc3NOYW1lOiAnZXh0ZXJuYWwnLFxuXHRcdFx0dGFyZ2V0OiAnX2JsYW5rJyxcblx0XHRcdHJlbDogJ25vZm9sbG93Jyxcblx0XHR9O1xuXHR9XG5cblx0aWYgKHRhcmdldCkge1xuXHRcdGV4dGVybmFsUHJvcHMgPSB7XG5cdFx0XHR0YXJnZXQsXG5cdFx0fTtcblx0fVxuXG5cdGxldCBndG1Qcm9wczogT2JqID0ge307XG5cdGlmIChndG1UYWcpIGd0bVByb3BzWydkYXRhLWd0bS1jbGljayddID0gZ3RtVGFnO1xuXG5cdHJldHVybiBpc1JvdXRlciAmJiAhZXh0ZXJuYWwgP1xuXHRcdDxGM1JvdXRlckxpbmtcblx0XHRcdGNoaWxkcmVuPXtjaGlsZHJlbn1cblx0XHRcdGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuXHRcdFx0aHJlZj17aHJlZn1cblx0XHRcdHByZXNlcnZlUXVlcnk9e3ByZXNlcnZlUXVlcnl9XG5cdFx0XHRyZWFjdFJvdXRlclByb3BzPXtyZWFjdFJvdXRlclByb3BzfVxuXHRcdFx0c3R5bGU9e3N0eWxlfVxuXHRcdFx0dGFyZ2V0PXt0YXJnZXR9XG5cdFx0XHR0aXRsZT17dGl0bGV9XG5cdFx0XHR7Li4ucmVzdH1cblx0XHQvPiAgIDpcblx0XHQ8YVxuXHRcdFx0ey4uLmd0bVByb3BzfVxuXHRcdFx0ey4uLmV4dGVybmFsUHJvcHN9XG5cdFx0XHRjbGFzc05hbWU9e2NsYXNzU3RyKGNsYXNzTmFtZSl9XG5cdFx0XHRocmVmPXtocmVmfVxuXHRcdFx0c3R5bGU9e3N0eWxlfVxuXHRcdFx0dGl0bGU9e3RpdGxlfVxuXHRcdFx0ey4uLnJlc3R9XG5cdFx0PlxuXHRcdFx0e2NoaWxkcmVufVxuXHRcdFx0e2V4dGVybmFsIHx8IHNob3dFeHRlcm5hbERlY29yYXRvciAmJlxuXHRcdFx0PHNwYW4gYXJpYS1sYWJlbD0nb3BlbiBsaW5rIGluIG5ldyB0YWInIGNsYXNzTmFtZT0nb3V0bGluayBtcy0xJyAvPn1cblx0XHQ8L2E+O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21655\n')},50821:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   O: () => (/* binding */ F3RouterLink)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70655);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(66711);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_classUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(78697);\n\n\n\n\nvar F3RouterLink = function (_a) {\n    var _b = _a.preserveQuery, preserveQuery = _b === void 0 ? false : _b, href = _a.href, className = _a.className, reactRouterProps = _a.reactRouterProps, style = _a.style, children = _a.children, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__rest */ ._T)(_a, ["preserveQuery", "href", "className", "reactRouterProps", "style", "children"]);\n    var search = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_1__.useLocation)().search;\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__.Link, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({ className: (0,_lib_classUtil__WEBPACK_IMPORTED_MODULE_3__/* .classStr */ .B)(className), to: "".concat(href).concat(preserveQuery ? search : \'\') }, reactRouterProps, { style: style }, rest), children));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA4MjEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFRQTtBQUVBO0FBV0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9GM1JvdXRlckxpbmsudHN4PzIxOGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExpbmssIHVzZUxvY2F0aW9uIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBjbGFzc1N0ciB9IGZyb20gJy4uL2xpYi9jbGFzc1V0aWwnO1xuaW1wb3J0IHsgRjNMaW5rUHJvcHMgfSBmcm9tICcuL0YzTGluayc7XG5cbmludGVyZmFjZSBGM1JvdXRlckxpbmtQcm9wcyBleHRlbmRzIEYzTGlua1Byb3BzIHtcblx0cHJlc2VydmVRdWVyeT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBGM1JvdXRlckxpbmsgPSAoe1xuXHRwcmVzZXJ2ZVF1ZXJ5ID0gZmFsc2UsXG5cdGhyZWYsXG5cdGNsYXNzTmFtZSxcblx0cmVhY3RSb3V0ZXJQcm9wcyxcblx0c3R5bGUsXG5cdGNoaWxkcmVuLFxuXHQuLi5yZXN0XG59OiBGM1JvdXRlckxpbmtQcm9wcykgPT4ge1xuXHRjb25zdCB7IHNlYXJjaCB9ID0gdXNlTG9jYXRpb24oKTtcblxuXHRyZXR1cm4gKFxuXHRcdDxMaW5rXG5cdFx0XHRjbGFzc05hbWU9e2NsYXNzU3RyKGNsYXNzTmFtZSl9XG5cdFx0XHR0bz17YCR7aHJlZn0ke3ByZXNlcnZlUXVlcnkgPyBzZWFyY2ggOiAnJ31gfVxuXHRcdFx0ey4uLnJlYWN0Um91dGVyUHJvcHN9XG5cdFx0XHRzdHlsZT17c3R5bGV9XG5cdFx0XHR7Li4uKHJlc3QgYXMgdW5rbm93bil9XG5cdFx0PlxuXHRcdFx0e2NoaWxkcmVufVxuXHRcdDwvTGluaz5cblx0KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///50821\n')},91847:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   i: () => (/* binding */ F3Suspense)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _LoadIndicator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(99172);\n\n\nvar F3Suspense = function (_a) {\n    var children = _a.children;\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, { fallback: react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_LoadIndicator__WEBPACK_IMPORTED_MODULE_1__/* .LoadIndicator */ .O, null) }, children);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTE4NDcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvRjNTdXNwZW5zZS50c3g/NzRjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgU3VzcGVuc2UgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMb2FkSW5kaWNhdG9yIH0gZnJvbSAnLi9Mb2FkSW5kaWNhdG9yJztcblxuaW50ZXJmYWNlIEYzU3VzcGVuc2VQcm9wcyB7XG5cdGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVcbn1cblxuZXhwb3J0IGNvbnN0IEYzU3VzcGVuc2UgPSAoeyBjaGlsZHJlbiB9OiBGM1N1c3BlbnNlUHJvcHMpID0+IHtcblx0cmV0dXJuIDxTdXNwZW5zZSBmYWxsYmFjaz17PExvYWRJbmRpY2F0b3IgLz59PntjaGlsZHJlbn08L1N1c3BlbnNlPjtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///91847\n")},99172:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   O: () => (/* binding */ LoadIndicator)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14426);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction LoadIndicator(props) {\n    var t = (0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.useTranslation)('components').t;\n    var className = props.className, loading = props.loading, status = props.status, _a = props.dark, dark = _a === void 0 ? true : _a, inline = props.inline, block = props.block;\n    if (typeof loading !== 'boolean')\n        loading = status == 'PENDING' || status === undefined;\n    if (!loading)\n        return null;\n    var classes = ['spinner', className || ''];\n    if (dark)\n        classes.push('dark');\n    if (block)\n        classes.push('block');\n    if (inline)\n        classes.push('inline');\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: \"d-flex justify-content-center \".concat(classes.join(' ')), role: 'status' },\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { className: 'visually-hidden' }, t('loadIndicator', 'Loading...')),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { \"aria-hidden\": 'true', className: 'bounce1' }),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { \"aria-hidden\": 'true', className: 'bounce2' }),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { \"aria-hidden\": 'true', className: 'bounce3' })));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTkxNzIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFXQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvTG9hZEluZGljYXRvci50c3g/NzI5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcblxuaW50ZXJmYWNlIExvYWRJbmRpY2F0b3JQcm9wcyB7XG5cdGxvYWRpbmc/OiBib29sZWFuO1xuXHRzdGF0dXM/OiBzdHJpbmc7XG5cdGNsYXNzTmFtZT86IHN0cmluZztcblx0YmxvY2s/OiBib29sZWFuO1xuXHRpbmxpbmU/OiBib29sZWFuO1xuXHRkYXJrPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExvYWRJbmRpY2F0b3IocHJvcHM6IExvYWRJbmRpY2F0b3JQcm9wcykge1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdjb21wb25lbnRzJyk7XG5cblx0bGV0IHsgY2xhc3NOYW1lLCBsb2FkaW5nLCBzdGF0dXMsIGRhcmsgPSB0cnVlLCBpbmxpbmUsIGJsb2NrIH0gPSBwcm9wcztcblxuXHRpZiAodHlwZW9mIGxvYWRpbmcgIT09ICdib29sZWFuJykgbG9hZGluZyA9IHN0YXR1cyA9PSAnUEVORElORycgfHwgc3RhdHVzID09PSB1bmRlZmluZWQ7XG5cdGlmICghbG9hZGluZykgcmV0dXJuIG51bGw7XG5cblx0bGV0IGNsYXNzZXMgPSBbJ3NwaW5uZXInLCBjbGFzc05hbWUgfHwgJyddO1xuXHRpZiAoZGFyaykgY2xhc3Nlcy5wdXNoKCdkYXJrJyk7XG5cdGlmIChibG9jaykgY2xhc3Nlcy5wdXNoKCdibG9jaycpO1xuXHRpZiAoaW5saW5lKSBjbGFzc2VzLnB1c2goJ2lubGluZScpO1xuXG5cdHJldHVybiAoXG5cdFx0PGRpdiBjbGFzc05hbWU9e2BkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciAke2NsYXNzZXMuam9pbignICcpfWB9IHJvbGU9J3N0YXR1cyc+XG5cdFx0XHQ8c3BhbiBjbGFzc05hbWU9J3Zpc3VhbGx5LWhpZGRlbic+e3QoJ2xvYWRJbmRpY2F0b3InLCAnTG9hZGluZy4uLicpfTwvc3Bhbj5cblx0XHRcdDxkaXYgYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzTmFtZT0nYm91bmNlMScgLz5cblx0XHRcdDxkaXYgYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzTmFtZT0nYm91bmNlMicgLz5cblx0XHRcdDxkaXYgYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzTmFtZT0nYm91bmNlMycgLz5cblx0XHQ8L2Rpdj5cblx0KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///99172\n")},19301:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ NumberAbbrev),\n/* harmony export */   d: () => (/* binding */ abbreviateNumber)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14426);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar labels = [['', ''], ['thousand', 'K'], ['million', 'M'], ['billion', 'B'], ['trillion', 'T']];\nvar NumberAbbrev = function (_a) {\n    var children = _a.children, _b = _a.sigFigs, sigFigs = _b === void 0 ? 2 : _b, _c = _a.verbose, verbose = _c === void 0 ? true : _c;\n    if (!children.count)\n        return null;\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", null, abbreviateNumber(children.count, sigFigs, verbose));\n};\nfunction abbreviateNumber(number, sigFigs, verbose) {\n    var t = (0,react_i18next__WEBPACK_IMPORTED_MODULE_1__.useTranslation)('components').t;\n    if (!number)\n        return null;\n    var numStr = '' + number;\n    if (number < 1000) {\n        return numStr;\n    }\n    var i = 0, prev = '';\n    while (numStr.length > 3) {\n        prev = numStr.slice(-3);\n        numStr = numStr.slice(0, -3);\n        ++i;\n    }\n    if (sigFigs < numStr.length) {\n        numStr = numStr.slice(0, sigFigs) + new Array(numStr.length - sigFigs + 1).join('0');\n    }\n    else if (sigFigs > numStr.length && i > 1) {\n        var decimals = prev.slice(0, sigFigs - numStr.length);\n        if (/[^0]/.test(decimals)) {\n            numStr += '.' + decimals;\n        }\n    }\n    var multiple = labels[i][verbose ? 0 : 1];\n    if (verbose) {\n        /*\n         * t('numberAbbreviation.verbose.thousand', 'over {{numStr}} thousand');\n         * t('numberAbbreviation.verbose.million', 'over {{numStr}} million');\n         * t('numberAbbreviation.verbose.billion', 'over {{numStr}} billion');\n         * t('numberAbbreviation.verbose.trillion', 'over {{numStr}} trillion');\n         */\n        return t(\"numberAbbreviation.verbose.\".concat(multiple), '{{numStr}} {{multiple}}+', { numStr: numStr, multiple: multiple });\n    }\n    else {\n        /*\n         * t('numberAbbreviation.terse.K', '{{numStr}}K+');\n         * t('numberAbbreviation.terse.M', '{{numStr}}M+');\n         * t('numberAbbreviation.terse.B', '{{numStr}}B+');\n         * t('numberAbbreviation.terse.T', '{{numStr}}T+');\n         */\n        return t(\"numberAbbreviation.terse.\".concat(multiple), '{{numStr}}{{multiple}}+', { numStr: numStr, multiple: multiple });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkzMDEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9OdW1iZXJBYmJyZXYudHN4PzlmN2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5jb25zdCBsYWJlbHMgPSBbWycnLCAnJ10sIFsndGhvdXNhbmQnLCAnSyddLCBbJ21pbGxpb24nLCAnTSddLCBbJ2JpbGxpb24nLCAnQiddLCBbJ3RyaWxsaW9uJywgJ1QnXV07XG5cbmludGVyZmFjZSBOdW1iZXJBYmJyZXZQcm9wcyB7XG5cdGNoaWxkcmVuOiB7IGNvdW50OiBudW1iZXIgfVxuXHRzaWdGaWdzPzogbnVtYmVyXG5cdHZlcmJvc2U/OiBib29sZWFuXG59XG5cbmV4cG9ydCBjb25zdCBOdW1iZXJBYmJyZXYgPSAoeyBjaGlsZHJlbiwgc2lnRmlncyA9IDIsIHZlcmJvc2UgPSB0cnVlIH06IE51bWJlckFiYnJldlByb3BzKSA9PiB7XG5cdGlmICghY2hpbGRyZW4uY291bnQpIHJldHVybiBudWxsO1xuXHRyZXR1cm4gPHNwYW4+e2FiYnJldmlhdGVOdW1iZXIoY2hpbGRyZW4uY291bnQsIHNpZ0ZpZ3MsIHZlcmJvc2UpfTwvc3Bhbj47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYWJicmV2aWF0ZU51bWJlcihudW1iZXI6IG51bWJlciwgc2lnRmlncz86IG51bWJlciwgdmVyYm9zZT86IGJvb2xlYW4pIHtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignY29tcG9uZW50cycpO1xuXG5cdGlmICghbnVtYmVyKSByZXR1cm4gbnVsbDtcblxuXHRsZXQgbnVtU3RyID0gJycgKyBudW1iZXI7XG5cblx0aWYgKG51bWJlciA8IDEwMDApIHtcblx0XHRyZXR1cm4gbnVtU3RyO1xuXHR9XG5cblx0bGV0IGkgPSAwLCBwcmV2ID0gJyc7XG5cdHdoaWxlIChudW1TdHIubGVuZ3RoID4gMykge1xuXHRcdHByZXYgPSBudW1TdHIuc2xpY2UoLTMpO1xuXHRcdG51bVN0ciA9IG51bVN0ci5zbGljZSgwLCAtMyk7XG5cdFx0KytpO1xuXHR9XG5cblx0aWYgKHNpZ0ZpZ3MgPCBudW1TdHIubGVuZ3RoKSB7XG5cdFx0bnVtU3RyID0gbnVtU3RyLnNsaWNlKDAsIHNpZ0ZpZ3MpICsgbmV3IEFycmF5KG51bVN0ci5sZW5ndGggLSBzaWdGaWdzICsgMSkuam9pbignMCcpO1xuXHR9IGVsc2UgaWYgKHNpZ0ZpZ3MgPiBudW1TdHIubGVuZ3RoICYmIGkgPiAxKSB7XG5cdFx0bGV0IGRlY2ltYWxzID0gcHJldi5zbGljZSgwLCBzaWdGaWdzIC0gbnVtU3RyLmxlbmd0aCk7XG5cdFx0aWYgKC9bXjBdLy50ZXN0KGRlY2ltYWxzKSkge1xuXHRcdFx0bnVtU3RyICs9ICcuJyArIGRlY2ltYWxzO1xuXHRcdH1cblx0fVxuXG5cdGxldCBtdWx0aXBsZSA9IGxhYmVsc1tpXVt2ZXJib3NlID8gMCA6IDFdO1xuXG5cdGlmICh2ZXJib3NlKSB7XG5cdFx0Lypcblx0XHQgKiB0KCdudW1iZXJBYmJyZXZpYXRpb24udmVyYm9zZS50aG91c2FuZCcsICdvdmVyIHt7bnVtU3RyfX0gdGhvdXNhbmQnKTtcblx0XHQgKiB0KCdudW1iZXJBYmJyZXZpYXRpb24udmVyYm9zZS5taWxsaW9uJywgJ292ZXIge3tudW1TdHJ9fSBtaWxsaW9uJyk7XG5cdFx0ICogdCgnbnVtYmVyQWJicmV2aWF0aW9uLnZlcmJvc2UuYmlsbGlvbicsICdvdmVyIHt7bnVtU3RyfX0gYmlsbGlvbicpO1xuXHRcdCAqIHQoJ251bWJlckFiYnJldmlhdGlvbi52ZXJib3NlLnRyaWxsaW9uJywgJ292ZXIge3tudW1TdHJ9fSB0cmlsbGlvbicpO1xuXHRcdCAqL1xuXHRcdHJldHVybiB0KGBudW1iZXJBYmJyZXZpYXRpb24udmVyYm9zZS4ke211bHRpcGxlfWAsICd7e251bVN0cn19IHt7bXVsdGlwbGV9fSsnLCB7IG51bVN0ciwgbXVsdGlwbGUgfSk7XG5cdH0gZWxzZSB7XG5cdFx0Lypcblx0XHQgKiB0KCdudW1iZXJBYmJyZXZpYXRpb24udGVyc2UuSycsICd7e251bVN0cn19SysnKTtcblx0XHQgKiB0KCdudW1iZXJBYmJyZXZpYXRpb24udGVyc2UuTScsICd7e251bVN0cn19TSsnKTtcblx0XHQgKiB0KCdudW1iZXJBYmJyZXZpYXRpb24udGVyc2UuQicsICd7e251bVN0cn19QisnKTtcblx0XHQgKiB0KCdudW1iZXJBYmJyZXZpYXRpb24udGVyc2UuVCcsICd7e251bVN0cn19VCsnKTtcblx0XHQgKi9cblx0XHRyZXR1cm4gdChgbnVtYmVyQWJicmV2aWF0aW9uLnRlcnNlLiR7bXVsdGlwbGV9YCwgJ3t7bnVtU3RyfX17e211bHRpcGxlfX0rJywgeyBudW1TdHIsIG11bHRpcGxlIH0pO1xuXHR9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19301\n")},1342:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   S: () => (/* binding */ SiteLogo)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_hooks_useDomain__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(29774);\n/* harmony import */ var _lib_localization_domain__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(40315);\n\n\n\nvar SiteLogo = function (_a) {\n    var _b = _a.color, color = _b === void 0 ? {} : _b, _c = _a.byAncestry, byAncestry = _c === void 0 ? true : _c, _d = _a.pdf, pdf = _d === void 0 ? false : _d, domain = _a.domain, environment = _a.environment;\n    var _e = color.desktop, desktop = _e === void 0 ? true : _e, _f = color.mobile, mobile = _f === void 0 ? false : _f;\n    var siteType = (0,_lib_hooks_useDomain__WEBPACK_IMPORTED_MODULE_1__/* .useDomain */ .a)().siteType;\n    var displaySiteType = domain ? (0,_lib_localization_domain__WEBPACK_IMPORTED_MODULE_2__/* .getSiteTypeForDomain */ .jO)(domain) : siteType;\n    var siteName = (0,_lib_localization_domain__WEBPACK_IMPORTED_MODULE_2__/* .getSiteLabelForSiteType */ .UJ)(displaySiteType);\n    if (pdf) {\n        /* Our html to pdf conversion doesn\'t like the <picture> or <source> tags */\n        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", { src: "".concat((0,_lib_localization_domain__WEBPACK_IMPORTED_MODULE_2__/* .getOrigin */ .P$)(domain, environment)).concat((0,_lib_localization_domain__WEBPACK_IMPORTED_MODULE_2__/* .getSiteLogo */ .l2)(displaySiteType, { color: true, byAncestry: byAncestry })), width: \'136\' });\n    }\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement("picture", null,\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("source", { media: \'(min-width: 768px)\', srcSet: (0,_lib_localization_domain__WEBPACK_IMPORTED_MODULE_2__/* .getSiteLogo */ .l2)(displaySiteType, { color: desktop, byAncestry: byAncestry }) }),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", { alt: "".concat(siteName, " by Ancestry"), src: (0,_lib_localization_domain__WEBPACK_IMPORTED_MODULE_2__/* .getSiteLogo */ .l2)(displaySiteType, { color: mobile, byAncestry: byAncestry }), width: \'136\' }));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM0Mi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBZUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFNQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL1NpdGVMb2dvLnRzeD8wNjExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VEb21haW4gfSBmcm9tICcuLi9saWIvaG9va3MvdXNlRG9tYWluJztcbmltcG9ydCB7IGdldE9yaWdpbiwgZ2V0U2l0ZUxhYmVsRm9yU2l0ZVR5cGUsIGdldFNpdGVMb2dvLCBnZXRTaXRlVHlwZUZvckRvbWFpbiB9IGZyb20gJy4uL2xpYi9sb2NhbGl6YXRpb24vZG9tYWluJztcbmltcG9ydCB7IERvbWFpbiB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IEZvbGQzRW52aXJvbm1lbnQgfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuXG5pbnRlcmZhY2UgU2l0ZUxvZ29Qcm9wcyB7XG5cdGJ5QW5jZXN0cnk/OiBib29sZWFuXG5cdGNvbG9yPzoge1xuXHRcdGRlc2t0b3A/OiBib29sZWFuXG5cdFx0bW9iaWxlPzogYm9vbGVhblxuXHR9XG5cdHBkZj86IGJvb2xlYW5cblx0ZG9tYWluPzogRG9tYWluXG5cdGVudmlyb25tZW50PzogRm9sZDNFbnZpcm9ubWVudFxufVxuXG5leHBvcnQgY29uc3QgU2l0ZUxvZ28gPSAoeyBjb2xvciA9IHt9LCBieUFuY2VzdHJ5ID0gdHJ1ZSwgcGRmID0gZmFsc2UsIGRvbWFpbiwgZW52aXJvbm1lbnQgfTogU2l0ZUxvZ29Qcm9wcykgPT4ge1xuXHRjb25zdCB7IGRlc2t0b3AgPSB0cnVlLCBtb2JpbGUgPSBmYWxzZSB9ID0gY29sb3I7XG5cdGNvbnN0IHsgc2l0ZVR5cGUgfSA9IHVzZURvbWFpbigpO1xuXG5cdGNvbnN0IGRpc3BsYXlTaXRlVHlwZSA9IGRvbWFpbiA/IGdldFNpdGVUeXBlRm9yRG9tYWluKGRvbWFpbikgOiBzaXRlVHlwZTtcblxuXHRjb25zdCBzaXRlTmFtZSA9IGdldFNpdGVMYWJlbEZvclNpdGVUeXBlKGRpc3BsYXlTaXRlVHlwZSk7XG5cblx0aWYgKHBkZikge1xuXHRcdC8qIE91ciBodG1sIHRvIHBkZiBjb252ZXJzaW9uIGRvZXNuJ3QgbGlrZSB0aGUgPHBpY3R1cmU+IG9yIDxzb3VyY2U+IHRhZ3MgKi9cblx0XHRyZXR1cm4gPGltZ1xuXHRcdFx0c3JjPXtgJHtnZXRPcmlnaW4oZG9tYWluLCBlbnZpcm9ubWVudCl9JHtnZXRTaXRlTG9nbyhkaXNwbGF5U2l0ZVR5cGUsIHsgY29sb3I6IHRydWUsIGJ5QW5jZXN0cnkgfSl9YH1cblx0XHRcdHdpZHRoPScxMzYnXG5cdFx0Lz47XG5cdH1cblxuXHRyZXR1cm4gPHBpY3R1cmU+XG5cdFx0PHNvdXJjZSBtZWRpYT0nKG1pbi13aWR0aDogNzY4cHgpJyBzcmNTZXQ9e2dldFNpdGVMb2dvKGRpc3BsYXlTaXRlVHlwZSwgeyBjb2xvcjogZGVza3RvcCwgYnlBbmNlc3RyeSB9KX0gLz5cblx0XHQ8aW1nXG5cdFx0XHRhbHQ9e2Ake3NpdGVOYW1lfSBieSBBbmNlc3RyeWB9XG5cdFx0XHRzcmM9e2dldFNpdGVMb2dvKGRpc3BsYXlTaXRlVHlwZSwgeyBjb2xvcjogbW9iaWxlLCBieUFuY2VzdHJ5IH0pfVxuXHRcdFx0d2lkdGg9JzEzNidcblx0XHQvPlxuXHQ8L3BpY3R1cmU+O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1342\n')},39258:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pl: () => (/* binding */ Thumbnail),\n/* harmony export */   tK: () => (/* binding */ BaseThumbnail)\n/* harmony export */ });\n/* unused harmony exports GRAPHIC_KEY, isImage, isContentObject */\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(70655);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_classUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(78697);\n/* harmony import */ var _lib_content_contentMetadata__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(93705);\n/* harmony import */ var _lib_hooks_useStorage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(62784);\n/* harmony import */ var _lib_hooks_useThumbnail__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(15954);\n\n\n\n\n\n\n/* If this gets changed, also change it in src/js/lib/graphic-images.service.js and account.tpl */\nvar GRAPHIC_KEY = \'show_graphic_images\';\nvar BaseThumbnail = function (props) {\n    var src = props.src, size = props.size, height = props.height, width = props.width, title = props.title, _a = props.alt, alt = _a === void 0 ? \'\' : _a, exact = props.exact, image = props.image, contentObject = props.contentObject, _b = props.imgClasses, imgClasses = _b === void 0 ? [] : _b, _c = props.spanClasses, spanClasses = _c === void 0 ? [] : _c, suppressHydrationWarning = props.suppressHydrationWarning, icon = props.icon, _d = props.inlineStyle, inlineStyle = _d === void 0 ? true : _d, crop = props.crop, rest = (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__rest */ ._T)(props, ["src", "size", "height", "width", "title", "alt", "exact", "image", "contentObject", "imgClasses", "spanClasses", "suppressHydrationWarning", "icon", "inlineStyle", "crop"]);\n    var style = {};\n    var spanStyle = {};\n    var _e = (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__read */ .CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true), 2), isLoading = _e[0], setIsLoading = _e[1];\n    var imageRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n        if (imageRef.current.complete)\n            setIsLoading(false);\n    }, []);\n    var _f = (0,_lib_hooks_useStorage__WEBPACK_IMPORTED_MODULE_2__/* .useStorage */ .y)([GRAPHIC_KEY]), local = _f.local, session = _f.session;\n    if (!crop && inlineStyle && (height && width || size)) {\n        if (exact) {\n            style = {\n                height: +(height || size),\n                width: +(width || size),\n            };\n        }\n        else {\n            style = {\n                maxHeight: +(height || size),\n                maxWidth: +(width || size),\n                height: \'100%\',\n                width: \'100%\',\n                objectFit: \'cover\',\n            };\n        }\n    }\n    if (crop === null || crop === void 0 ? void 0 : crop.rect) {\n        style = (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)((0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)({}, style), getCropStyles(crop, { width: width, height: height }));\n        spanStyle.width = \'100%\';\n        spanStyle.height = \'100%\';\n    }\n    var show = local.get(GRAPHIC_KEY);\n    if (show === undefined) {\n        show = session.get(GRAPHIC_KEY);\n    }\n    var imgProps = (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)({ src: src, style: style, alt: alt, title: title, className: _lib_classUtil__WEBPACK_IMPORTED_MODULE_3__/* .classStr */ .B.apply(void 0, (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__spreadArray */ .ev)([\'position-relative\'], (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__read */ .CR)(imgClasses), false)), suppressHydrationWarning: suppressHydrationWarning }, rest);\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement("span", { className: _lib_classUtil__WEBPACK_IMPORTED_MODULE_3__/* .classStr */ .B.apply(void 0, (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__spreadArray */ .ev)([\'thumbnail\', \'position-relative\', \'d-block\', \'text-center\', \'overflow-hidden\'], (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__read */ .CR)(spanClasses), false)), "data-cy": props.cypress, style: spanStyle },\n        icon ?\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement("i", { className: "".concat(icon && isLoading ? icon : \'\', " thumbnailIcon") }) :\n            null,\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("img", (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)({}, imgProps, { ref: imageRef, alt: alt, height: inlineStyle ? null : height, itemProp: \'image\', onLoad: function () { return setIsLoading(false); }, width: inlineStyle ? null : width }))));\n};\nvar Thumbnail = function (props) {\n    var _a;\n    var contentType = props.contentType, cypress = props.cypress, objectId = props.objectId, contentObject = props.contentObject, _b = props.alt, alt = _b === void 0 ? contentObject === null || contentObject === void 0 ? void 0 : contentObject.title : _b, refreshCount = props.refreshCount, wrappedContent = props.wrappedContent, imgProps = (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__rest */ ._T)(props, ["contentType", "cypress", "objectId", "contentObject", "alt", "refreshCount", "wrappedContent"]);\n    var width = props.width, height = props.height, size = props.size;\n    var getThumbnail = (0,_lib_hooks_useThumbnail__WEBPACK_IMPORTED_MODULE_4__/* .useThumbnail */ .t)().getThumbnail;\n    if (size && !(width && height)) {\n        width = size;\n        height = size;\n    }\n    if (wrappedContent) {\n        (_a = (0,_lib_content_contentMetadata__WEBPACK_IMPORTED_MODULE_5__/* .getWrappedContentRef */ .aK)(wrappedContent), contentType = _a.contentType, objectId = _a.objectId);\n    }\n    else if (contentObject) {\n        contentType = contentObject.id.contentType;\n        objectId = contentObject.id.objectId;\n    }\n    else if (!(contentType && objectId)) {\n        console.error(\'Must either provide a contentType and id or else a contentObject to Thumbnail\');\n    }\n    var query = {};\n    if (refreshCount > 0) {\n        query.refresh = refreshCount;\n    }\n    var src = getThumbnail({ path: \'reference\', ref: { contentType: contentType, objectId: objectId }, query: (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)({ width: width, height: height }, query) });\n    return (react__WEBPACK_IMPORTED_MODULE_0___default().createElement(BaseThumbnail, (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)({ alt: alt, contentObject: contentObject, src: src }, imgProps, { cypress: cypress })));\n};\nfunction isImage(image) {\n    return !isContentObject(image);\n}\nfunction isContentObject(image) {\n    return !!image.id;\n}\n/*\n * Basic Strategy:\n * ------------------- // Outer Container\n * |                 |\n * |_________________| // Full Profile Image\n * |      --------   |\n * |      |      |   | // Crop Region\n * |      |      |   |\n * |      |      |   |\n * |      --------   |\n * |_________________|\n * |_________________|\n *\n * A profile image will be displayed within an outer container.\n * The profile image will have a crop.\n * This crop should expand to fill as much of the outer container as possible\n */\nfunction getCropStyles(crop, container) {\n    var toPct = function (pct) { return "".concat(pct * 100, "%"); };\n    var original = crop.original, rect = crop.rect;\n    var imageAspectRatio = original.width / original.height;\n    var cropAspectRatio = rect.w / rect.h;\n    /* If wider than tall, use width, else, use height */\n    var imageScaleDimension = imageAspectRatio > 1 ? original.width : original.height;\n    var imageContainerDimension = imageAspectRatio > 1 ? container.width : container.height;\n    /* How much has image been scaled to fit within outer container? */\n    var imageScale = imageContainerDimension / imageScaleDimension;\n    /* Calculate rendered size of image */\n    var imageHeight = imageScale * original.height;\n    var imageWidth = imageScale * original.width;\n    /* Calculate rendered size of crop */\n    var cropWidth = imageScale * rect.w;\n    var cropHeight = imageScale * rect.h;\n    /* If crop is wider than tall, use crop width for scaling, else use height */\n    var cropScaleDimension = cropAspectRatio > 1 ? cropWidth : cropHeight;\n    var cropContainerDimension = cropAspectRatio > 1 ? container.width : container.height;\n    /* How much to scale crop by to fill container */\n    var scaleFactor = cropContainerDimension / cropScaleDimension;\n    /* Left padding rendered inside container when rendering full image */\n    var leftPadding = (container.width - imageWidth) / 2;\n    /* Coordinates of top/left corner of crop as a percent */\n    var cropXPct = rect.x / original.width;\n    var cropYPct = rect.y / original.height;\n    /* Coordinates of crop, converted to unscaled pixels */\n    var cropXPxl = cropXPct * imageWidth + leftPadding;\n    var cropYPxl = cropYPct * imageHeight;\n    /* Size of crop, once it has been scaled up */\n    var scaledCropWidth = cropWidth * scaleFactor;\n    var scaledCropHeight = cropHeight * scaleFactor;\n    /* Coordinates of top/left corner of crop once it has been scaled */\n    var scaledCropXPxl = (container.width - scaledCropWidth) / 2;\n    var scaledCropYPxl = (container.height - scaledCropHeight) / 2;\n    /* Crop box expressed as percentage strings */\n    var cropXPctStr = toPct(cropXPct);\n    var cropYPctStr = toPct(cropYPct);\n    var cropWPctStr = toPct(cropXPct + rect.w / original.width);\n    var cropHPctStr = toPct(cropYPct + rect.h / original.height);\n    return {\n        transform: "scale(".concat(scaleFactor, ")"),\n        transformOrigin: "".concat(cropXPctStr, " ").concat(cropYPctStr),\n        clipPath: "polygon(".concat(cropXPctStr, " ").concat(cropYPctStr, ", ").concat(cropXPctStr, " ").concat(cropHPctStr, ", ").concat(cropWPctStr, " ").concat(cropHPctStr, ", ").concat(cropWPctStr, " ").concat(cropYPctStr, ")"),\n        top: "".concat(scaledCropYPxl - cropYPxl, "px"),\n        left: "".concat(scaledCropXPxl - cropXPxl, "px"),\n        maxWidth: \'100%\',\n        maxHeight: \'100%\',\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkyNTguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBK0JBO0FBRUE7QUFpQkE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQVdBO0FBVUE7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQVNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvVGh1bWJuYWlsLnRzeD9jZjM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBEZXRhaWxlZEhUTUxQcm9wcywgSW1nSFRNTEF0dHJpYnV0ZXMsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENvbnRlbnRPYmplY3QsIEltYWdlLCBSZWN0YW5nbGUsIFdyYXBwZWRDb250ZW50RG9jdW1lbnQgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBJbWFnZU9yQ29udGVudE9iamVjdCwgT2JqIH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IGNsYXNzU3RyIH0gZnJvbSAnLi4vbGliL2NsYXNzVXRpbCc7XG5pbXBvcnQgeyBnZXRXcmFwcGVkQ29udGVudFJlZiB9IGZyb20gJy4uL2xpYi9jb250ZW50L2NvbnRlbnRNZXRhZGF0YSc7XG5pbXBvcnQgeyB1c2VTdG9yYWdlIH0gZnJvbSAnLi4vbGliL2hvb2tzL3VzZVN0b3JhZ2UnO1xuaW1wb3J0IHsgdXNlVGh1bWJuYWlsIH0gZnJvbSAnLi4vbGliL2hvb2tzL3VzZVRodW1ibmFpbCc7XG5pbXBvcnQgeyBSZWZlcmVuY2VUeXBlIH0gZnJvbSAnLi4vbGliL3RodW1ibmFpbCc7XG5cbi8qIElmIHRoaXMgZ2V0cyBjaGFuZ2VkLCBhbHNvIGNoYW5nZSBpdCBpbiBzcmMvanMvbGliL2dyYXBoaWMtaW1hZ2VzLnNlcnZpY2UuanMgYW5kIGFjY291bnQudHBsICovXG5leHBvcnQgY29uc3QgR1JBUEhJQ19LRVkgPSAnc2hvd19ncmFwaGljX2ltYWdlcyc7XG5cbmludGVyZmFjZSBUaHVtYm5haWxDcm9wIHtcblx0cmVjdDogUmVjdGFuZ2xlXG5cdG9yaWdpbmFsOiB7XG5cdFx0d2lkdGg6IG51bWJlclxuXHRcdGhlaWdodDogbnVtYmVyXG5cdH1cbn1cblxuaW50ZXJmYWNlIEFic3RyYWN0VGh1bWJuYWlsUHJvcHMgZXh0ZW5kcyBEZXRhaWxlZEhUTUxQcm9wczxJbWdIVE1MQXR0cmlidXRlczxIVE1MSW1hZ2VFbGVtZW50PiwgSFRNTEltYWdlRWxlbWVudD4ge1xuXHRoZWlnaHQ/OiBudW1iZXI7XG5cdHdpZHRoPzogbnVtYmVyO1xuXHRzaXplPzogbnVtYmVyO1xuXHRleGFjdD86IGJvb2xlYW47XG5cdGNvbnRlbnRPYmplY3Q/OiBDb250ZW50T2JqZWN0O1xuXHRpbWFnZT86IEltYWdlO1xuXHRpbWdDbGFzc2VzPzogc3RyaW5nW107XG5cdGljb24/OiBzdHJpbmc7XG5cdGlubGluZVN0eWxlPzogYm9vbGVhbjtcblx0c3BhbkNsYXNzZXM/OiBzdHJpbmdbXTtcblx0d3JhcHBlZENvbnRlbnQ/OiBXcmFwcGVkQ29udGVudERvY3VtZW50XG5cdGNyb3A/OiBUaHVtYm5haWxDcm9wXG59XG5cbmludGVyZmFjZSBCYXNlVGh1bWJuYWlsUHJvcHMgZXh0ZW5kcyBBYnN0cmFjdFRodW1ibmFpbFByb3BzIHtcblx0c3JjOiBzdHJpbmc7XG5cdHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz86IGJvb2xlYW47XG5cdGN5cHJlc3M/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBCYXNlVGh1bWJuYWlsOiBSZWFjdC5GdW5jdGlvbkNvbXBvbmVudDxCYXNlVGh1bWJuYWlsUHJvcHM+ID0gZnVuY3Rpb24ocHJvcHMpIHtcblx0bGV0IHtcblx0XHRzcmMsXG5cdFx0c2l6ZSxcblx0XHRoZWlnaHQsXG5cdFx0d2lkdGgsXG5cdFx0dGl0bGUsXG5cdFx0YWx0ID0gJycsXG5cdFx0ZXhhY3QsXG5cdFx0aW1hZ2UsXG5cdFx0Y29udGVudE9iamVjdCxcblx0XHRpbWdDbGFzc2VzID0gW10sXG5cdFx0c3BhbkNsYXNzZXMgPSBbXSxcblx0XHRzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcsXG5cdFx0aWNvbixcblx0XHRpbmxpbmVTdHlsZSA9IHRydWUsXG5cdFx0Y3JvcCxcblx0XHQuLi5yZXN0XG5cdH0gPSBwcm9wcztcblx0bGV0IHN0eWxlOiBhbnkgPSB7fTtcblx0bGV0IHNwYW5TdHlsZTogYW55ID0ge307XG5cdGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcblxuXHRjb25zdCBpbWFnZVJlZiA9IHVzZVJlZjxIVE1MSW1hZ2VFbGVtZW50PigpO1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0aWYgKGltYWdlUmVmLmN1cnJlbnQuY29tcGxldGUpIHNldElzTG9hZGluZyhmYWxzZSk7XG5cdH0sIFtdKTtcblxuXHRsZXQgeyBsb2NhbCwgc2Vzc2lvbiB9ID0gdXNlU3RvcmFnZShbR1JBUEhJQ19LRVldKTtcblxuXHRpZiAoIWNyb3AgJiYgaW5saW5lU3R5bGUgJiYgKGhlaWdodCAmJiB3aWR0aCB8fCBzaXplKSkge1xuXHRcdGlmIChleGFjdCkge1xuXHRcdFx0c3R5bGUgPSB7XG5cdFx0XHRcdGhlaWdodDogKyhoZWlnaHQgfHwgc2l6ZSksXG5cdFx0XHRcdHdpZHRoOiArKHdpZHRoIHx8IHNpemUpLFxuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUgPSB7XG5cdFx0XHRcdG1heEhlaWdodDogKyhoZWlnaHQgfHwgc2l6ZSksXG5cdFx0XHRcdG1heFdpZHRoOiArKHdpZHRoIHx8IHNpemUpLFxuXHRcdFx0XHRoZWlnaHQ6ICcxMDAlJyxcblx0XHRcdFx0d2lkdGg6ICcxMDAlJyxcblx0XHRcdFx0b2JqZWN0Rml0OiAnY292ZXInLFxuXHRcdFx0fTtcblx0XHR9XG5cdH1cblxuXHRpZiAoY3JvcD8ucmVjdCkge1xuXHRcdHN0eWxlID0geyAuLi5zdHlsZSwgLi4uZ2V0Q3JvcFN0eWxlcyhjcm9wLCB7IHdpZHRoLCBoZWlnaHQgfSkgfTtcblx0XHRzcGFuU3R5bGUud2lkdGggPSAnMTAwJSc7XG5cdFx0c3BhblN0eWxlLmhlaWdodCA9ICcxMDAlJztcblx0fVxuXG5cdGxldCBzaG93ID0gbG9jYWwuZ2V0KEdSQVBISUNfS0VZKTtcblx0aWYgKHNob3cgPT09IHVuZGVmaW5lZCkge1xuXHRcdHNob3cgPSBzZXNzaW9uLmdldChHUkFQSElDX0tFWSk7XG5cdH1cblxuXHRsZXQgaW1nUHJvcHMgPSB7XG5cdFx0c3JjLFxuXHRcdHN0eWxlLFxuXHRcdGFsdCxcblx0XHR0aXRsZSxcblx0XHRjbGFzc05hbWU6IGNsYXNzU3RyKCdwb3NpdGlvbi1yZWxhdGl2ZScsIC4uLmltZ0NsYXNzZXMpLFxuXHRcdHN1cHByZXNzSHlkcmF0aW9uV2FybmluZyxcblx0XHQuLi5yZXN0LFxuXHR9O1xuXG5cdHJldHVybiAoXG5cdFx0PHNwYW4gY2xhc3NOYW1lPXtjbGFzc1N0cigndGh1bWJuYWlsJywgJ3Bvc2l0aW9uLXJlbGF0aXZlJywgJ2QtYmxvY2snLCAndGV4dC1jZW50ZXInLCAnb3ZlcmZsb3ctaGlkZGVuJywgLi4uc3BhbkNsYXNzZXMpfSBkYXRhLWN5PXtwcm9wcy5jeXByZXNzfSBzdHlsZT17c3BhblN0eWxlfT5cblx0XHRcdHtcblx0XHRcdFx0aWNvbiA/XG5cdFx0XHRcdFx0PGkgY2xhc3NOYW1lPXtgJHtpY29uICYmIGlzTG9hZGluZyA/IGljb24gOiAnJ30gdGh1bWJuYWlsSWNvbmB9IC8+IDpcblx0XHRcdFx0XHRudWxsXG5cdFx0XHR9XG5cdFx0XHQ8aW1nXG5cdFx0XHRcdHsuLi5pbWdQcm9wc31cblx0XHRcdFx0cmVmPXtpbWFnZVJlZn1cblx0XHRcdFx0YWx0PXthbHR9XG5cdFx0XHRcdGhlaWdodD17aW5saW5lU3R5bGUgPyBudWxsIDogaGVpZ2h0fVxuXHRcdFx0XHRpdGVtUHJvcD0naW1hZ2UnXG5cdFx0XHRcdG9uTG9hZD17KCkgPT4gc2V0SXNMb2FkaW5nKGZhbHNlKX1cblx0XHRcdFx0d2lkdGg9e2lubGluZVN0eWxlID8gbnVsbCA6IHdpZHRofVxuXHRcdFx0Lz5cblx0XHQ8L3NwYW4+XG5cdCk7XG59O1xuXG4vKioqKioqKioqKiBUaHVtYm5haWwgKioqKioqKioqKioqKi9cbmludGVyZmFjZSBUaHVtYm5haWxQcm9wcyBleHRlbmRzIEFic3RyYWN0VGh1bWJuYWlsUHJvcHMge1xuXHRjb250ZW50VHlwZT86IFJlZmVyZW5jZVR5cGU7XG5cdG9iamVjdElkPzogbnVtYmVyIHwgc3RyaW5nO1xuXHRjeXByZXNzPzogc3RyaW5nO1xuXHRyZWZyZXNoQ291bnQ/OiBudW1iZXJcbn1cblxuZXhwb3J0IGNvbnN0IFRodW1ibmFpbDogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8VGh1bWJuYWlsUHJvcHM+ID0gZnVuY3Rpb24ocHJvcHMpIHtcblx0bGV0IHsgY29udGVudFR5cGUsIGN5cHJlc3MsIG9iamVjdElkLCBjb250ZW50T2JqZWN0LCBhbHQgPSBjb250ZW50T2JqZWN0Py50aXRsZSwgcmVmcmVzaENvdW50LCB3cmFwcGVkQ29udGVudCwgLi4uaW1nUHJvcHMgfSA9IHByb3BzO1xuXHRsZXQgeyB3aWR0aCwgaGVpZ2h0LCBzaXplIH0gPSBwcm9wcztcblx0Y29uc3QgeyBnZXRUaHVtYm5haWwgfSA9IHVzZVRodW1ibmFpbCgpO1xuXG5cdGlmIChzaXplICYmICEod2lkdGggJiYgaGVpZ2h0KSkge1xuXHRcdHdpZHRoID0gc2l6ZTtcblx0XHRoZWlnaHQgPSBzaXplO1xuXHR9XG5cblx0aWYgKHdyYXBwZWRDb250ZW50KSB7XG5cdFx0KHsgY29udGVudFR5cGUsIG9iamVjdElkIH0gPSBnZXRXcmFwcGVkQ29udGVudFJlZih3cmFwcGVkQ29udGVudCkpO1xuXHR9IGVsc2UgaWYgKGNvbnRlbnRPYmplY3QpIHtcblx0XHRjb250ZW50VHlwZSA9IGNvbnRlbnRPYmplY3QuaWQuY29udGVudFR5cGU7XG5cdFx0b2JqZWN0SWQgPSBjb250ZW50T2JqZWN0LmlkLm9iamVjdElkO1xuXHR9IGVsc2UgaWYgKCEoY29udGVudFR5cGUgJiYgb2JqZWN0SWQpKSB7XG5cdFx0Y29uc29sZS5lcnJvcignTXVzdCBlaXRoZXIgcHJvdmlkZSBhIGNvbnRlbnRUeXBlIGFuZCBpZCBvciBlbHNlIGEgY29udGVudE9iamVjdCB0byBUaHVtYm5haWwnKTtcblx0fVxuXG5cdGNvbnN0IHF1ZXJ5OiBPYmogPSB7fTtcblxuXHRpZiAocmVmcmVzaENvdW50ID4gMCkge1xuXHRcdHF1ZXJ5LnJlZnJlc2ggPSByZWZyZXNoQ291bnQ7XG5cdH1cblxuXHRjb25zdCBzcmMgPSBnZXRUaHVtYm5haWwoeyBwYXRoOiAncmVmZXJlbmNlJywgcmVmOiB7IGNvbnRlbnRUeXBlLCBvYmplY3RJZCB9LCBxdWVyeTogeyB3aWR0aCwgaGVpZ2h0LCAuLi5xdWVyeSB9IH0pO1xuXG5cdHJldHVybiAoXG5cdFx0PEJhc2VUaHVtYm5haWxcblx0XHRcdGFsdD17YWx0fVxuXHRcdFx0Y29udGVudE9iamVjdD17Y29udGVudE9iamVjdH1cblx0XHRcdHNyYz17c3JjfVxuXHRcdFx0ey4uLmltZ1Byb3BzfVxuXHRcdFx0Y3lwcmVzcz17Y3lwcmVzc31cblx0XHQvPlxuXHQpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzSW1hZ2UoaW1hZ2U6IEltYWdlT3JDb250ZW50T2JqZWN0KTogaW1hZ2UgaXMgSW1hZ2Uge1xuXHRyZXR1cm4gIWlzQ29udGVudE9iamVjdChpbWFnZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnRlbnRPYmplY3QoaW1hZ2U6IEltYWdlT3JDb250ZW50T2JqZWN0KTogaW1hZ2UgaXMgQ29udGVudE9iamVjdCB7XG5cdHJldHVybiAhIShpbWFnZSBhcyBDb250ZW50T2JqZWN0KS5pZDtcbn1cblxuLypcbiAqIEJhc2ljIFN0cmF0ZWd5OlxuICogLS0tLS0tLS0tLS0tLS0tLS0tLSAvLyBPdXRlciBDb250YWluZXJcbiAqIHwgICAgICAgICAgICAgICAgIHxcbiAqIHxfX19fX19fX19fX19fX19fX3wgLy8gRnVsbCBQcm9maWxlIEltYWdlXG4gKiB8ICAgICAgLS0tLS0tLS0gICB8XG4gKiB8ICAgICAgfCAgICAgIHwgICB8IC8vIENyb3AgUmVnaW9uXG4gKiB8ICAgICAgfCAgICAgIHwgICB8XG4gKiB8ICAgICAgfCAgICAgIHwgICB8XG4gKiB8ICAgICAgLS0tLS0tLS0gICB8XG4gKiB8X19fX19fX19fX19fX19fX198XG4gKiB8X19fX19fX19fX19fX19fX198XG4gKlxuICogQSBwcm9maWxlIGltYWdlIHdpbGwgYmUgZGlzcGxheWVkIHdpdGhpbiBhbiBvdXRlciBjb250YWluZXIuXG4gKiBUaGUgcHJvZmlsZSBpbWFnZSB3aWxsIGhhdmUgYSBjcm9wLlxuICogVGhpcyBjcm9wIHNob3VsZCBleHBhbmQgdG8gZmlsbCBhcyBtdWNoIG9mIHRoZSBvdXRlciBjb250YWluZXIgYXMgcG9zc2libGVcbiAqL1xuZnVuY3Rpb24gZ2V0Q3JvcFN0eWxlcyhjcm9wOiBUaHVtYm5haWxDcm9wLCBjb250YWluZXI6IHsgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIgfSkge1xuXHRjb25zdCB0b1BjdCA9IChwY3Q6IG51bWJlcikgPT4gYCR7cGN0ICogMTAwfSVgO1xuXG5cdGNvbnN0IHsgb3JpZ2luYWwsIHJlY3QgfSA9IGNyb3A7XG5cdGxldCBpbWFnZUFzcGVjdFJhdGlvID0gb3JpZ2luYWwud2lkdGggLyBvcmlnaW5hbC5oZWlnaHQ7XG5cdGxldCBjcm9wQXNwZWN0UmF0aW8gPSByZWN0LncgLyByZWN0Lmg7XG5cblx0LyogSWYgd2lkZXIgdGhhbiB0YWxsLCB1c2Ugd2lkdGgsIGVsc2UsIHVzZSBoZWlnaHQgKi9cblx0bGV0IGltYWdlU2NhbGVEaW1lbnNpb24gPSBpbWFnZUFzcGVjdFJhdGlvID4gMSA/IG9yaWdpbmFsLndpZHRoIDogb3JpZ2luYWwuaGVpZ2h0O1xuXHRsZXQgaW1hZ2VDb250YWluZXJEaW1lbnNpb24gPSBpbWFnZUFzcGVjdFJhdGlvID4gMSA/IGNvbnRhaW5lci53aWR0aCA6IGNvbnRhaW5lci5oZWlnaHQ7XG5cblx0LyogSG93IG11Y2ggaGFzIGltYWdlIGJlZW4gc2NhbGVkIHRvIGZpdCB3aXRoaW4gb3V0ZXIgY29udGFpbmVyPyAqL1xuXHRsZXQgaW1hZ2VTY2FsZSA9IGltYWdlQ29udGFpbmVyRGltZW5zaW9uIC8gaW1hZ2VTY2FsZURpbWVuc2lvbjtcblxuXHQvKiBDYWxjdWxhdGUgcmVuZGVyZWQgc2l6ZSBvZiBpbWFnZSAqL1xuXHRsZXQgaW1hZ2VIZWlnaHQgPSBpbWFnZVNjYWxlICogb3JpZ2luYWwuaGVpZ2h0O1xuXHRsZXQgaW1hZ2VXaWR0aCA9IGltYWdlU2NhbGUgKiBvcmlnaW5hbC53aWR0aDtcblxuXHQvKiBDYWxjdWxhdGUgcmVuZGVyZWQgc2l6ZSBvZiBjcm9wICovXG5cdGxldCBjcm9wV2lkdGggPSBpbWFnZVNjYWxlICogcmVjdC53O1xuXHRsZXQgY3JvcEhlaWdodCA9IGltYWdlU2NhbGUgKiByZWN0Lmg7XG5cblx0LyogSWYgY3JvcCBpcyB3aWRlciB0aGFuIHRhbGwsIHVzZSBjcm9wIHdpZHRoIGZvciBzY2FsaW5nLCBlbHNlIHVzZSBoZWlnaHQgKi9cblx0bGV0IGNyb3BTY2FsZURpbWVuc2lvbiA9IGNyb3BBc3BlY3RSYXRpbyA+IDEgPyBjcm9wV2lkdGggOiBjcm9wSGVpZ2h0O1xuXHRsZXQgY3JvcENvbnRhaW5lckRpbWVuc2lvbiA9IGNyb3BBc3BlY3RSYXRpbyA+IDEgPyBjb250YWluZXIud2lkdGggOiBjb250YWluZXIuaGVpZ2h0O1xuXG5cdC8qIEhvdyBtdWNoIHRvIHNjYWxlIGNyb3AgYnkgdG8gZmlsbCBjb250YWluZXIgKi9cblx0bGV0IHNjYWxlRmFjdG9yID0gY3JvcENvbnRhaW5lckRpbWVuc2lvbiAvIGNyb3BTY2FsZURpbWVuc2lvbjtcblxuXHQvKiBMZWZ0IHBhZGRpbmcgcmVuZGVyZWQgaW5zaWRlIGNvbnRhaW5lciB3aGVuIHJlbmRlcmluZyBmdWxsIGltYWdlICovXG5cdGxldCBsZWZ0UGFkZGluZyA9IChjb250YWluZXIud2lkdGggLSBpbWFnZVdpZHRoKSAvIDI7XG5cblx0LyogQ29vcmRpbmF0ZXMgb2YgdG9wL2xlZnQgY29ybmVyIG9mIGNyb3AgYXMgYSBwZXJjZW50ICovXG5cdGxldCBjcm9wWFBjdCA9IHJlY3QueCAvIG9yaWdpbmFsLndpZHRoO1xuXHRsZXQgY3JvcFlQY3QgPSByZWN0LnkgLyBvcmlnaW5hbC5oZWlnaHQ7XG5cblx0LyogQ29vcmRpbmF0ZXMgb2YgY3JvcCwgY29udmVydGVkIHRvIHVuc2NhbGVkIHBpeGVscyAqL1xuXHRsZXQgY3JvcFhQeGwgPSBjcm9wWFBjdCAqIGltYWdlV2lkdGggKyBsZWZ0UGFkZGluZztcblx0bGV0IGNyb3BZUHhsID0gY3JvcFlQY3QgKiBpbWFnZUhlaWdodDtcblxuXHQvKiBTaXplIG9mIGNyb3AsIG9uY2UgaXQgaGFzIGJlZW4gc2NhbGVkIHVwICovXG5cdGxldCBzY2FsZWRDcm9wV2lkdGggPSBjcm9wV2lkdGggKiBzY2FsZUZhY3Rvcjtcblx0bGV0IHNjYWxlZENyb3BIZWlnaHQgPSBjcm9wSGVpZ2h0ICogc2NhbGVGYWN0b3I7XG5cblx0LyogQ29vcmRpbmF0ZXMgb2YgdG9wL2xlZnQgY29ybmVyIG9mIGNyb3Agb25jZSBpdCBoYXMgYmVlbiBzY2FsZWQgKi9cblx0bGV0IHNjYWxlZENyb3BYUHhsID0gKGNvbnRhaW5lci53aWR0aCAtIHNjYWxlZENyb3BXaWR0aCkgLyAyO1xuXHRsZXQgc2NhbGVkQ3JvcFlQeGwgPSAoY29udGFpbmVyLmhlaWdodCAtIHNjYWxlZENyb3BIZWlnaHQpIC8gMjtcblxuXHQvKiBDcm9wIGJveCBleHByZXNzZWQgYXMgcGVyY2VudGFnZSBzdHJpbmdzICovXG5cdGxldCBjcm9wWFBjdFN0ciA9IHRvUGN0KGNyb3BYUGN0KTtcblx0bGV0IGNyb3BZUGN0U3RyID0gdG9QY3QoY3JvcFlQY3QpO1xuXHRsZXQgY3JvcFdQY3RTdHIgPSB0b1BjdChjcm9wWFBjdCArIHJlY3QudyAvIG9yaWdpbmFsLndpZHRoKTtcblx0bGV0IGNyb3BIUGN0U3RyID0gdG9QY3QoY3JvcFlQY3QgKyByZWN0LmggLyBvcmlnaW5hbC5oZWlnaHQpO1xuXG5cdHJldHVybiB7XG5cdFx0dHJhbnNmb3JtOiBgc2NhbGUoJHtzY2FsZUZhY3Rvcn0pYCwgLy8gU2NhbGUgaW1hZ2Ugc28gY3JvcCBmaWxscyBjb250YWluZXJcblx0XHR0cmFuc2Zvcm1PcmlnaW46IGAke2Nyb3BYUGN0U3RyfSAke2Nyb3BZUGN0U3RyfWAsIC8vIFNldCB0cmFuc2Zvcm0gb3JpZ2luIHRvIHRoZSB0b3AvbGVmdCBjb3JuZXIgb2YgdGhlIGNyb3Bcblx0XHRjbGlwUGF0aDogYHBvbHlnb24oJHtjcm9wWFBjdFN0cn0gJHtjcm9wWVBjdFN0cn0sICR7Y3JvcFhQY3RTdHJ9ICR7Y3JvcEhQY3RTdHJ9LCAke2Nyb3BXUGN0U3RyfSAke2Nyb3BIUGN0U3RyfSwgJHtjcm9wV1BjdFN0cn0gJHtjcm9wWVBjdFN0cn0pYCwgLy8gT25seSBkaXNwbGF5IHRoZSBjcm9wIHJlZ2lvbiBvZiBpbWFnZVxuXHRcdHRvcDogYCR7c2NhbGVkQ3JvcFlQeGwgLSBjcm9wWVB4bH1weGAsIC8vIE1vdmUgc2NhbGVkIGNyb3AgdG8gaXRzIG5ldyBwb3NpdGlvbiBpbiBjb250YWluZXJcblx0XHRsZWZ0OiBgJHtzY2FsZWRDcm9wWFB4bCAtIGNyb3BYUHhsfXB4YCxcblx0XHRtYXhXaWR0aDogJzEwMCUnLFxuXHRcdG1heEhlaWdodDogJzEwMCUnLFxuXHR9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///39258\n')},26762:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   p: () => (/* binding */ AdSpot)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(70655);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_ErrorBoundary__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(69195);\n/* harmony import */ var _lib_classUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(78697);\n/* harmony import */ var _lib_hooks_useDomain__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(29774);\n\n\n\n\n\nvar AdSpot = function (_a) {\n    var ad = _a.ad, _b = _a.className, className = _b === void 0 ? ad === null || ad === void 0 ? void 0 : ad.locationName : _b, _c = _a.style, style = _c === void 0 ? {} : _c, autoResize = _a.autoResize, iframeProps = (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__rest */ ._T)(_a, ["ad", "className", "style", "autoResize"]);\n    var iframeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    var observer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n        if (ad && autoResize && iframeRef.current && !observer.current) {\n            iframeRef.current.onload = function () {\n                observer.current = new ResizeObserver(function () {\n                    iframeRef.current.style.height = "".concat(iframeRef.current.contentWindow.document.body.scrollHeight, "px");\n                });\n                observer.current.observe(iframeRef.current.contentWindow.document.body);\n            };\n        }\n    }, [iframeRef.current]);\n    if (!ad)\n        return null;\n    var siteName = (0,_lib_hooks_useDomain__WEBPACK_IMPORTED_MODULE_2__/* .useDomain */ .a)().siteName;\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_lib_ErrorBoundary__WEBPACK_IMPORTED_MODULE_3__/* .ErrorBoundary */ .S, null,\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement("iframe", (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)({ ref: iframeRef, className: (0,_lib_classUtil__WEBPACK_IMPORTED_MODULE_4__/* .classStr */ .B)(\'promoad\', \'w-100\', \'d-block\', className), src: ad === null || ad === void 0 ? void 0 : ad.advertisementUrl, style: (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)({ border: \'none\' }, style), title: "".concat(siteName, " promotional area") }, iframeProps)));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjY3NjIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBU0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFTQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL2Fkcy9BZFNwb3QudHN4PzgyYzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQWR2ZXJ0aXNlbWVudExheW91dCB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi8uLi9saWIvRXJyb3JCb3VuZGFyeSc7XG5pbXBvcnQgeyBjbGFzc1N0ciB9IGZyb20gJy4uLy4uL2xpYi9jbGFzc1V0aWwnO1xuaW1wb3J0IHsgdXNlRG9tYWluIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURvbWFpbic7XG5cbnR5cGUgSWZyYW1lUHJvcHMgPSBSZWFjdC5JZnJhbWVIVE1MQXR0cmlidXRlczxIVE1MSUZyYW1lRWxlbWVudD5cblxuaW50ZXJmYWNlIEFkU3BvdFByb3BzIGV4dGVuZHMgSWZyYW1lUHJvcHMge1xuXHRhZDogQWR2ZXJ0aXNlbWVudExheW91dDtcblx0YXV0b1Jlc2l6ZT86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGNvbnN0IEFkU3BvdDogUmVhY3QuRnVuY3Rpb25Db21wb25lbnQ8QWRTcG90UHJvcHM+ID0gKHsgYWQsIGNsYXNzTmFtZSA9IGFkPy5sb2NhdGlvbk5hbWUsIHN0eWxlID0ge30sIGF1dG9SZXNpemUsIC4uLmlmcmFtZVByb3BzIH06IEFkU3BvdFByb3BzKSA9PiB7XG5cdGNvbnN0IGlmcmFtZVJlZiA9IHVzZVJlZjxIVE1MSUZyYW1lRWxlbWVudD4oKTtcblx0Y29uc3Qgb2JzZXJ2ZXIgPSB1c2VSZWY8UmVzaXplT2JzZXJ2ZXI+KG51bGwpO1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0aWYgKGFkICYmIGF1dG9SZXNpemUgJiYgaWZyYW1lUmVmLmN1cnJlbnQgJiYgIW9ic2VydmVyLmN1cnJlbnQpIHtcblx0XHRcdGlmcmFtZVJlZi5jdXJyZW50Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRvYnNlcnZlci5jdXJyZW50ID0gbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcblx0XHRcdFx0XHRpZnJhbWVSZWYuY3VycmVudC5zdHlsZS5oZWlnaHQgPSBgJHtpZnJhbWVSZWYuY3VycmVudC5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0fXB4YDtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdG9ic2VydmVyLmN1cnJlbnQub2JzZXJ2ZShpZnJhbWVSZWYuY3VycmVudC5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHkpO1xuXHRcdFx0fTtcblx0XHR9XG5cdH0sIFtpZnJhbWVSZWYuY3VycmVudF0pO1xuXG5cdGlmICghYWQpIHJldHVybiBudWxsO1xuXHRjb25zdCB7IHNpdGVOYW1lIH0gPSB1c2VEb21haW4oKTtcblxuXHRyZXR1cm4gPEVycm9yQm91bmRhcnk+XG5cdFx0PGlmcmFtZVxuXHRcdFx0cmVmPXtpZnJhbWVSZWZ9XG5cdFx0XHRjbGFzc05hbWU9e2NsYXNzU3RyKCdwcm9tb2FkJywgJ3ctMTAwJywgJ2QtYmxvY2snLCBjbGFzc05hbWUpfVxuXHRcdFx0c3JjPXthZD8uYWR2ZXJ0aXNlbWVudFVybH1cblx0XHRcdHN0eWxlPXt7IGJvcmRlcjogJ25vbmUnLCAuLi5zdHlsZSB9fVxuXHRcdFx0dGl0bGU9e2Ake3NpdGVOYW1lfSBwcm9tb3Rpb25hbCBhcmVhYH1cblx0XHRcdHsuLi5pZnJhbWVQcm9wc31cblx0XHQvPlxuXHQ8L0Vycm9yQm91bmRhcnk+O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26762\n')},84775:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  y: () => (/* binding */ AdSpots)\n});\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(70655);\n// EXTERNAL MODULE: external "React"\nvar external_React_ = __webpack_require__(87363);\nvar external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);\n;// CONCATENATED MODULE: ./node_modules/adblock-detect-react/esm/hooks/useDetectAdBlock.js\n\nconst useDetectAdBlock_useDetectAdBlock = () => {\n    const [adBlockDetected, setAdBlockDetected] = (0,external_React_.useState)(false);\n    (0,external_React_.useEffect)(() => {\n        const url = "https://www3.doubleclick.net";\n        fetch(url, {\n            method: "HEAD",\n            mode: "no-cors",\n            cache: "no-store",\n        }).catch(() => {\n            setAdBlockDetected(true);\n        });\n    }, []);\n    return adBlockDetected;\n};\n//# sourceMappingURL=useDetectAdBlock.js.map\n;// CONCATENATED MODULE: ./node_modules/adblock-detect-react/esm/components/AdBlockDetectedWrapper.js\n\n\nconst AdBlockDetectedWrapper = ({ children, }) => {\n    const adBlockDetected = useDetectAdBlock();\n    return React.createElement(React.Fragment, null, adBlockDetected && children);\n};\n//# sourceMappingURL=AdBlockDetectedWrapper.js.map\n;// CONCATENATED MODULE: ./node_modules/adblock-detect-react/esm/index.js\n\n\n//# sourceMappingURL=index.js.map\n// EXTERNAL MODULE: ./src/ts/shared/apis/campaignApi.ts\nvar campaignApi = __webpack_require__(30539);\n// EXTERNAL MODULE: ./src/ts/shared/lib/hooks/useAsyncEffect.ts\nvar useAsyncEffect = __webpack_require__(19029);\n// EXTERNAL MODULE: ./src/ts/shared/lib/hooks/useDomain.ts\nvar useDomain = __webpack_require__(29774);\n// EXTERNAL MODULE: external "ReactI18next"\nvar external_ReactI18next_ = __webpack_require__(14426);\n;// CONCATENATED MODULE: ./src/ts/shared/components/ads/AdBlockMessage.tsx\n\n\n\nvar AdBlockMessage = function (_a) {\n    var siteName = (0,useDomain/* useDomain */.a)().siteName;\n    var t = (0,external_ReactI18next_.useTranslation)(\'components\').t;\n    return (external_React_default().createElement("div", { className: \'alert alert-danger\', role: \'alert\' },\n        external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: \'adBlockMessage.messageText\', t: t },\n            external_React_default().createElement("h1", { className: \'h5\' }, "Please disable your ad blocker."),\n            external_React_default().createElement("p", { className: \'mb-0\' }, "You are not able to view all content on this page."))));\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/components/ads/AdSpot.tsx\nvar AdSpot = __webpack_require__(26762);\n;// CONCATENATED MODULE: ./src/ts/shared/components/ads/AdSpots.tsx\n\n\n\n\n\n\n\nvar AdSpots = function (props) {\n    var locations = props.locations, iframeProps = props.iframeProps, autoResize = props.autoResize, showAdBlockMessage = props.showAdBlockMessage;\n    var _a = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)([]), 2), ads = _a[0], setAds = _a[1];\n    var adBlockDetected = useDetectAdBlock_useDetectAdBlock();\n    (0,useAsyncEffect/* useAsyncEffect */.b)(function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var contentProps, pageProps, ads, e_1;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    contentProps = props;\n                    pageProps = props;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    if (!contentProps.contentType) return [3 /*break*/, 3];\n                    return [4 /*yield*/, new campaignApi/* CampaignApi */.p().getAdvertisementLayout(contentProps.contentType, locations, contentProps.objectId)];\n                case 2:\n                    ads = _a.sent();\n                    return [3 /*break*/, 5];\n                case 3: return [4 /*yield*/, new campaignApi/* CampaignApi */.p().getAdvertisementLayout(pageProps.pageType, locations)];\n                case 4:\n                    ads = _a.sent();\n                    _a.label = 5;\n                case 5:\n                    setAds(ads);\n                    return [3 /*break*/, 7];\n                case 6:\n                    e_1 = _a.sent();\n                    return [3 /*break*/, 7];\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); }, []);\n    return (external_React_default().createElement((external_React_default()).Fragment, null, ads.length > 0 &&\n        external_React_default().createElement((external_React_default()).Fragment, null, (adBlockDetected && showAdBlockMessage) ?\n            external_React_default().createElement(AdBlockMessage, null) :\n            ads.map(function (ad) {\n                var _iframeProps = {};\n                if (iframeProps) {\n                    if (typeof iframeProps === \'function\') {\n                        _iframeProps = iframeProps(ad.locationName);\n                    }\n                    else {\n                        _iframeProps = iframeProps;\n                    }\n                }\n                return (external_React_default().createElement(AdSpot/* AdSpot */.p, (0,tslib_es6/* __assign */.pi)({ key: ad.locationName, ad: ad, autoResize: autoResize }, _iframeProps)));\n            }))));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODQ3NzUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FDRkE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFJQTs7Ozs7O0FDbEJBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQW9CQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOzs7OztBQUNBO0FBQ0E7Ozs7QUFLQTtBQUNBOztBQUFBOztBQU1BOztBQUFBOzs7QUFNQTs7Ozs7Ozs7QUFFQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQUlBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvYWRibG9jay1kZXRlY3QtcmVhY3QvZXNtL2hvb2tzL3VzZURldGVjdEFkQmxvY2suanM/OWY4NSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9hZGJsb2NrLWRldGVjdC1yZWFjdC9lc20vY29tcG9uZW50cy9BZEJsb2NrRGV0ZWN0ZWRXcmFwcGVyLmpzP2UyY2EiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvYWRibG9jay1kZXRlY3QtcmVhY3QvZXNtL2luZGV4LmpzPzljMzYiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvYWRzL0FkQmxvY2tNZXNzYWdlLnRzeD8zMTJmIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL2Fkcy9BZFNwb3RzLnRzeD9mOTgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmV4cG9ydCBjb25zdCB1c2VEZXRlY3RBZEJsb2NrID0gKCkgPT4ge1xuICAgIGNvbnN0IFthZEJsb2NrRGV0ZWN0ZWQsIHNldEFkQmxvY2tEZXRlY3RlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgdXJsID0gXCJodHRwczovL3d3dzMuZG91YmxlY2xpY2submV0XCI7XG4gICAgICAgIGZldGNoKHVybCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkhFQURcIixcbiAgICAgICAgICAgIG1vZGU6IFwibm8tY29yc1wiLFxuICAgICAgICAgICAgY2FjaGU6IFwibm8tc3RvcmVcIixcbiAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgc2V0QWRCbG9ja0RldGVjdGVkKHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIGFkQmxvY2tEZXRlY3RlZDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VEZXRlY3RBZEJsb2NrLmpzLm1hcCIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZURldGVjdEFkQmxvY2sgfSBmcm9tIFwiLi4vaG9va3MvdXNlRGV0ZWN0QWRCbG9ja1wiO1xuZXhwb3J0IGNvbnN0IEFkQmxvY2tEZXRlY3RlZFdyYXBwZXIgPSAoeyBjaGlsZHJlbiwgfSkgPT4ge1xuICAgIGNvbnN0IGFkQmxvY2tEZXRlY3RlZCA9IHVzZURldGVjdEFkQmxvY2soKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgYWRCbG9ja0RldGVjdGVkICYmIGNoaWxkcmVuKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BZEJsb2NrRGV0ZWN0ZWRXcmFwcGVyLmpzLm1hcCIsImV4cG9ydCB7IEFkQmxvY2tEZXRlY3RlZFdyYXBwZXIgfSBmcm9tIFwiLi9jb21wb25lbnRzL0FkQmxvY2tEZXRlY3RlZFdyYXBwZXJcIjtcbmV4cG9ydCB7IHVzZURldGVjdEFkQmxvY2sgfSBmcm9tIFwiLi9ob29rcy91c2VEZXRlY3RBZEJsb2NrXCI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRG9tYWluIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURvbWFpbic7XG5pbXBvcnQgeyBUcmFucywgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcblxuaW50ZXJmYWNlIEFkQmxvY2tEaWFsb2dQcm9wcyB7fVxuXG5leHBvcnQgY29uc3QgQWRCbG9ja01lc3NhZ2UgPSAoe306IEFkQmxvY2tEaWFsb2dQcm9wcykgPT4ge1xuXHRjb25zdCB7IHNpdGVOYW1lIH0gPSB1c2VEb21haW4oKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignY29tcG9uZW50cycpO1xuXG5cdHJldHVybiAoXG5cdFx0PGRpdiBjbGFzc05hbWU9J2FsZXJ0IGFsZXJ0LWRhbmdlcicgcm9sZT0nYWxlcnQnPlxuXHRcdFx0PFRyYW5zIGkxOG5LZXk9eydhZEJsb2NrTWVzc2FnZS5tZXNzYWdlVGV4dCd9IHQ9e3R9PlxuXHRcdFx0XHQ8aDEgY2xhc3NOYW1lPSdoNSc+UGxlYXNlIGRpc2FibGUgeW91ciBhZCBibG9ja2VyLjwvaDE+XG5cdFx0XHRcdDxwIGNsYXNzTmFtZT0nbWItMCc+WW91IGFyZSBub3QgYWJsZSB0byB2aWV3IGFsbCBjb250ZW50IG9uIHRoaXMgcGFnZS48L3A+XG5cdFx0XHQ8L1RyYW5zPlxuXHRcdDwvZGl2PlxuXHQpO1xufTtcbiIsImltcG9ydCB7IHVzZURldGVjdEFkQmxvY2sgfSBmcm9tICdhZGJsb2NrLWRldGVjdC1yZWFjdCc7XG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDYW1wYWlnbkFwaSB9IGZyb20gJy4uLy4uL2FwaXMvY2FtcGFpZ25BcGknO1xuaW1wb3J0IHsgQWR2ZXJ0aXNlbWVudExheW91dCwgQ29udGVudFR5cGUgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyB1c2VBc3luY0VmZmVjdCB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VBc3luY0VmZmVjdCc7XG5pbXBvcnQgeyBBZEJsb2NrTWVzc2FnZSB9IGZyb20gJy4vQWRCbG9ja01lc3NhZ2UnO1xuaW1wb3J0IHsgQWRTcG90IH0gZnJvbSAnLi9BZFNwb3QnO1xuXG50eXBlIElGcmFtZUF0dHJzID0gUmVhY3QuSWZyYW1lSFRNTEF0dHJpYnV0ZXM8SFRNTElGcmFtZUVsZW1lbnQ+O1xuXG5pbnRlcmZhY2UgQWRTcG90c1Byb3BzIHtcblx0bG9jYXRpb25zOiBzdHJpbmdbXTtcblx0aWZyYW1lUHJvcHM/OiBJRnJhbWVBdHRycyB8ICgobG9jYXRpb246IHN0cmluZykgPT4gSUZyYW1lQXR0cnMpO1xuXHRhdXRvUmVzaXplPzogYm9vbGVhbjtcblx0c2hvd0FkQmxvY2tNZXNzYWdlPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEFkU3BvdHNDb250ZW50T2JqZWN0UHJvcHMgZXh0ZW5kcyBBZFNwb3RzUHJvcHMge1xuXHRjb250ZW50VHlwZTogQ29udGVudFR5cGU7XG5cdG9iamVjdElkPzogc3RyaW5nIHwgbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgQWRTcG90c1BhZ2VQcm9wcyBleHRlbmRzIEFkU3BvdHNQcm9wcyB7XG5cdHBhZ2VUeXBlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBBZFNwb3RzID0gKHByb3BzOiBBZFNwb3RzQ29udGVudE9iamVjdFByb3BzIHwgQWRTcG90c1BhZ2VQcm9wcykgPT4ge1xuXHRjb25zdCB7IGxvY2F0aW9ucywgaWZyYW1lUHJvcHMsIGF1dG9SZXNpemUsIHNob3dBZEJsb2NrTWVzc2FnZSB9ID0gcHJvcHM7XG5cdGNvbnN0IFthZHMsIHNldEFkc10gPSB1c2VTdGF0ZTxBZHZlcnRpc2VtZW50TGF5b3V0W10+KFtdKTtcblxuXHRjb25zdCBhZEJsb2NrRGV0ZWN0ZWQgPSB1c2VEZXRlY3RBZEJsb2NrKCk7XG5cblx0dXNlQXN5bmNFZmZlY3QoYXN5bmMgKCkgPT4ge1xuXHRcdGxldCBjb250ZW50UHJvcHMgPSBwcm9wcyBhcyBBZFNwb3RzQ29udGVudE9iamVjdFByb3BzO1xuXHRcdGxldCBwYWdlUHJvcHMgPSBwcm9wcyBhcyBBZFNwb3RzUGFnZVByb3BzO1xuXG5cdFx0bGV0IGFkczogQWR2ZXJ0aXNlbWVudExheW91dFtdO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGlmIChjb250ZW50UHJvcHMuY29udGVudFR5cGUpIHtcblx0XHRcdFx0YWRzID0gYXdhaXQgbmV3IENhbXBhaWduQXBpKCkuZ2V0QWR2ZXJ0aXNlbWVudExheW91dChcblx0XHRcdFx0XHRjb250ZW50UHJvcHMuY29udGVudFR5cGUsXG5cdFx0XHRcdFx0bG9jYXRpb25zLFxuXHRcdFx0XHRcdGNvbnRlbnRQcm9wcy5vYmplY3RJZFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YWRzID0gYXdhaXQgbmV3IENhbXBhaWduQXBpKCkuZ2V0QWR2ZXJ0aXNlbWVudExheW91dChcblx0XHRcdFx0XHRwYWdlUHJvcHMucGFnZVR5cGUsXG5cdFx0XHRcdFx0bG9jYXRpb25zXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdHNldEFkcyhhZHMpO1xuXHRcdH0gY2F0Y2goZSkge31cblx0fSwgW10pO1xuXG5cdHJldHVybiAoXG5cdFx0PD5cblx0XHRcdHthZHMubGVuZ3RoID4gMCAmJlxuXHRcdFx0PD5cblx0XHRcdFx0eyhhZEJsb2NrRGV0ZWN0ZWQgJiYgc2hvd0FkQmxvY2tNZXNzYWdlKSA/XG5cdFx0XHRcdFx0PEFkQmxvY2tNZXNzYWdlIC8+ICAgICAgICAgICA6XG5cdFx0XHRcdFx0YWRzLm1hcChhZCA9PiB7XG5cdFx0XHRcdFx0XHRsZXQgX2lmcmFtZVByb3BzOiBJRnJhbWVBdHRycyA9IHt9O1xuXG5cdFx0XHRcdFx0XHRpZiAoaWZyYW1lUHJvcHMpIHtcblx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBpZnJhbWVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdF9pZnJhbWVQcm9wcyA9IGlmcmFtZVByb3BzKGFkLmxvY2F0aW9uTmFtZSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0X2lmcmFtZVByb3BzID0gaWZyYW1lUHJvcHM7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0PEFkU3BvdFxuXHRcdFx0XHRcdFx0XHRcdGtleT17YWQubG9jYXRpb25OYW1lfVxuXHRcdFx0XHRcdFx0XHRcdGFkPXthZH1cblx0XHRcdFx0XHRcdFx0XHRhdXRvUmVzaXplPXthdXRvUmVzaXplfVxuXHRcdFx0XHRcdFx0XHRcdHsuLi5faWZyYW1lUHJvcHN9XG5cdFx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0pfVxuXHRcdFx0PC8+fVxuXHRcdDwvPlxuXHQpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///84775\n')},64554:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   G: () => (/* binding */ ShowF3)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _SwitchDomain__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(97413);\n\n\nvar ShowF3 = function (_a) {\n    var children = _a.children;\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_SwitchDomain__WEBPACK_IMPORTED_MODULE_1__/* .SwitchDomain */ .A, { siteType: {\n            F3: children,\n        } });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQ1NTQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL2RvbWFpbi9TaG93RjMudHN4PzljNjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFN3aXRjaERvbWFpbiB9IGZyb20gJy4vU3dpdGNoRG9tYWluJztcblxuaW50ZXJmYWNlIFNob3dGM1Byb3BzIHtcblx0Y2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVxufVxuXG5leHBvcnQgY29uc3QgU2hvd0YzID0gKHsgY2hpbGRyZW4gfTogU2hvd0YzUHJvcHMpID0+IHtcblx0cmV0dXJuIDxTd2l0Y2hEb21haW5cblx0XHRzaXRlVHlwZT17e1xuXHRcdFx0RjM6IGNoaWxkcmVuLFxuXHRcdH19XG5cdC8+O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///64554\n")},97413:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ SwitchDomain)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_hooks_useDomain__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(29774);\n\n\n/* Preference is given to the siteType prop if both it and the domain prop are passed */\nvar SwitchDomain = function (_a) {\n    var siteTypeObj = _a.siteType, domainObj = _a.domain;\n    var _b = (0,_lib_hooks_useDomain__WEBPACK_IMPORTED_MODULE_1__/* .useDomain */ .a)(), siteType = _b.siteType, f3Domain = _b.f3Domain;\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, siteTypeObj ?\n        siteTypeObj[siteType] || null :\n        domainObj ?\n            domainObj[f3Domain] || null :\n            null);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTc0MTMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFHQTtBQU9BO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvZG9tYWluL1N3aXRjaERvbWFpbi50c3g/MGVmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRG9tYWluIH0gZnJvbSAnLi4vLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgT2JqLCBTaXRlVHlwZSB9IGZyb20gJy4uLy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyB1c2VEb21haW4gfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlRG9tYWluJztcblxuaW50ZXJmYWNlIFN3aXRjaERvbWFpblByb3BzIHtcblx0c2l0ZVR5cGU/OiBPYmo8U2l0ZVR5cGUsIFJlYWN0LlJlYWN0Tm9kZT5cblx0ZG9tYWluPzogT2JqPERvbWFpbiwgUmVhY3QuUmVhY3ROb2RlPlxufVxuXG4vKiBQcmVmZXJlbmNlIGlzIGdpdmVuIHRvIHRoZSBzaXRlVHlwZSBwcm9wIGlmIGJvdGggaXQgYW5kIHRoZSBkb21haW4gcHJvcCBhcmUgcGFzc2VkICovXG5leHBvcnQgY29uc3QgU3dpdGNoRG9tYWluID0gKHsgc2l0ZVR5cGU6IHNpdGVUeXBlT2JqLCBkb21haW46IGRvbWFpbk9iaiB9OiBTd2l0Y2hEb21haW5Qcm9wcykgPT4ge1xuXHRjb25zdCB7IHNpdGVUeXBlLCBmM0RvbWFpbiB9ID0gdXNlRG9tYWluKCk7XG5cblx0cmV0dXJuIDw+XG5cdFx0e1xuXHRcdFx0c2l0ZVR5cGVPYmogP1xuXHRcdFx0XHRzaXRlVHlwZU9ialtzaXRlVHlwZV0gfHwgbnVsbCA6XG5cdFx0XHRcdGRvbWFpbk9iaiA/XG5cdFx0XHRcdFx0ZG9tYWluT2JqW2YzRG9tYWluXSB8fCBudWxsIDpcblx0XHRcdFx0XHRudWxsXG5cdFx0fVxuXHQ8Lz47XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///97413\n")},13605:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  k: () => (/* binding */ PopoutLite)\n});\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(70655);\n// EXTERNAL MODULE: external "React"\nvar external_React_ = __webpack_require__(87363);\nvar external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);\n// EXTERNAL MODULE: external "uuid"\nvar external_uuid_ = __webpack_require__(71130);\n// EXTERNAL MODULE: ./src/ts/shared/context/fold3PageContext.ts\nvar fold3PageContext = __webpack_require__(67328);\n// EXTERNAL MODULE: ./src/ts/shared/lib/classUtil.ts\nvar classUtil = __webpack_require__(78697);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useLazyRef.ts\n\nvar useLazyRef = function (fn) {\n    var ref = (0,external_React_.useRef)(null);\n    return {\n        getLazyRef: function () {\n            if (ref.current === null) {\n                ref.current = fn();\n            }\n            return ref.current;\n        },\n    };\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/components/F3Button.tsx\nvar F3Button = __webpack_require__(1534);\n;// CONCATENATED MODULE: ./src/ts/shared/components/list/PopoutLite.tsx\n\n\n\n\n\n\n\nvar DEFAULT_BLUR_TIMEOUT = 200;\nvar PopoutLite = function (_a) {\n    var _id = _a.id, popoutId = _a.popoutId, open = _a.open, onToggle = _a.onToggle, popoutContent = _a.popoutContent, _b = _a.direction, direction = _b === void 0 ? \'down\' : _b, label = _a.label, color = _a.color, icon = _a.icon, children = _a.children, targetContent = _a.targetContent, popoutClass = _a.popoutClass, onHover = _a.onHover, onTargetClick = _a.onTargetClick, className = _a.className, ariaLabel = _a.ariaLabel, noPointer = _a.noPointer, _c = _a.showCaret, showCaret = _c === void 0 ? true : _c, _d = _a.align, align = _d === void 0 ? \'end\' : _d, tabbable = _a.tabbable, inline = _a.inline, blurTimeout = _a.blurTimeout, closeOnClick = _a.closeOnClick, rest = (0,tslib_es6/* __rest */._T)(_a, ["id", "popoutId", "open", "onToggle", "popoutContent", "direction", "label", "color", "icon", "children", "targetContent", "popoutClass", "onHover", "onTargetClick", "className", "ariaLabel", "noPointer", "showCaret", "align", "tabbable", "inline", "blurTimeout", "closeOnClick"]);\n    var isMobile = (0,external_React_.useContext)(fold3PageContext/* Fold3PageContext */.h).isMobile;\n    if (isMobile)\n        onHover = false;\n    var id = useLazyRef(function () { return _id || (0,external_uuid_.v4)(); });\n    var targetClass = \'popout-target\' + (tabbable ? \'\' : \' no-tab\');\n    var parentRef = (0,external_React_.useRef)(null);\n    var toggleOpen = function (e) {\n        onToggle(!open);\n        if (typeof onTargetClick == \'function\')\n            onTargetClick(e);\n    };\n    if (!targetContent) {\n        var buttonClass = \'text-primary text-decoration-none\';\n        if (color)\n            buttonClass += \' \' + color;\n        if (icon)\n            buttonClass += \' icon-f3 \' + icon;\n        var caret = icon ?\n            null :\n            showCaret ?\n                external_React_default().createElement("span", { "aria-hidden": \'true\', className: \'dropdown-toggle ms-1\' }) :\n                null;\n        targetContent =\n            external_React_default().createElement("span", { className: targetClass },\n                external_React_default().createElement(F3Button/* F3Button */.Vk, { onKeyDown: function (event) {\n                        if (event.key === \'Enter\') {\n                            toggleOpen(event);\n                        }\n                    }, "aria-controls": id.getLazyRef(), "aria-expanded": open, "aria-haspopup": \'true\', btnType: \'link\', className: buttonClass, onClick: onHover ? null : toggleOpen },\n                    label,\n                    caret));\n    }\n    else {\n        targetContent = external_React_default().createElement("span", { onKeyDown: function (event) {\n                if (event.key === \'Enter\') {\n                    toggleOpen(event);\n                }\n            }, "aria-controls": id.getLazyRef(), "aria-expanded": open, "aria-haspopup": \'true\', className: targetClass, id: ariaLabel, onClick: onHover ? null : toggleOpen }, targetContent);\n    }\n    if (!popoutContent) {\n        popoutContent = children;\n    }\n    var popout = null;\n    if (open && popoutContent) {\n        popout = external_React_default().createElement("ul", (0,tslib_es6/* __assign */.pi)({ "aria-labelledby": ariaLabel, className: (0,classUtil/* classStr */.B)(\'popout-content f3-popout\', popoutClass, \'show\', \'dropdown-menu\', \'shadow\', "dropdown-menu-".concat(align), "".concat(noPointer ? \'no-pointer\' : \'\')), "data-bs-popper": true, id: popoutId, onClick: function () {\n                if (closeOnClick) {\n                    onToggle(false);\n                }\n            } }, rest), popoutContent);\n    }\n    className = (0,classUtil/* classStr */.B)(\'popout-target-cont\', \'d-print-none\', "drop".concat(direction), open && \'popout-open\', inline ? \'inline\' : \'d-block\', className);\n    var tabProps = tabbable ? { tabIndex: 0 } : {};\n    if (onHover) {\n        tabProps.onMouseEnter = function () { return onToggle(true); };\n        tabProps.onMouseLeave = function () { return onToggle(false); };\n    }\n    return (external_React_default().createElement("span", (0,tslib_es6/* __assign */.pi)({ ref: parentRef, id: id.getLazyRef() }, tabProps, { className: className, onBlur: function (e) {\n            /*\n             * somehow relatedTarget is missing in IE, but document.activeElement should contain the same element.\n             * see https://github.com/facebook/react/issues/3751 and https://stackoverflow.com/questions/38019140.\n             */\n            var activeElement = e.relatedTarget || document.activeElement;\n            if (open && parentRef.current && !parentRef.current.contains(activeElement)) {\n                if (blurTimeout === false) {\n                    onToggle(false);\n                }\n                else {\n                    setTimeout(function () { return onToggle(false); }, blurTimeout || DEFAULT_BLUR_TIMEOUT);\n                }\n            }\n        } }),\n        targetContent,\n        label &&\n            external_React_default().createElement("span", { className: \'visually-hidden\' }, label),\n        popout));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM2MDUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUNaQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUEwQkE7QUFPQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBT0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9ob29rcy91c2VMYXp5UmVmLnRzPzY1MjYiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvbGlzdC9Qb3BvdXRMaXRlLnRzeD9kMjg1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGNvbnN0IHVzZUxhenlSZWYgPSA8VD4oZm46ICgpID0+IFQpID0+IHtcblx0Y29uc3QgcmVmID0gdXNlUmVmPFQ+KG51bGwpO1xuXG5cdHJldHVybiB7XG5cdFx0Z2V0TGF6eVJlZigpIHtcblx0XHRcdGlmIChyZWYuY3VycmVudCA9PT0gbnVsbCkge1xuXHRcdFx0XHRyZWYuY3VycmVudCA9IGZuKCk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVmLmN1cnJlbnQ7XG5cdFx0fSxcblx0fTtcbn07XG4iLCJpbXBvcnQgZSBmcm9tICdleHByZXNzJztcbmltcG9ydCBSZWFjdCwgeyBSZWFjdE5vZGUsIHVzZUNvbnRleHQsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHY0IGFzIHV1aWRWNCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IHsgRm9sZDNQYWdlQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvZm9sZDNQYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBPYmogfSBmcm9tICcuLi8uLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgY2xhc3NTdHIgfSBmcm9tICcuLi8uLi9saWIvY2xhc3NVdGlsJztcbmltcG9ydCB7IHVzZUxhenlSZWYgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlTGF6eVJlZic7XG5pbXBvcnQgeyBGM0J1dHRvbiB9IGZyb20gJy4uL0YzQnV0dG9uJztcblxuZXhwb3J0IGludGVyZmFjZSBQb3BvdXRMaXRlQmFzZVByb3BzIHtcblx0aWQ6IHN0cmluZ1xuXHR0YXJnZXRDb250ZW50PzogUmVhY3QuUmVhY3ROb2RlO1xuXHRwb3BvdXRDb250ZW50PzogUmVhY3QuUmVhY3ROb2RlO1xuXHRvblRhcmdldENsaWNrPzogKGU/OiBSZWFjdC5TeW50aGV0aWNFdmVudDxhbnk+KSA9PiB2b2lkO1xuXHRsYWJlbD86IHN0cmluZztcblx0aWNvbj86IHN0cmluZztcblx0Y29sb3I/OiBzdHJpbmc7XG5cdGNsYXNzTmFtZT86IHN0cmluZztcblx0YXJpYUxhYmVsPzogc3RyaW5nO1xuXHRub1BvaW50ZXI/OiBib29sZWFuO1xuXHRzaG93Q2FyZXQ/OiBib29sZWFuO1xuXHRhbGlnbj86ICdlbmQnIHwgJ3N0YXJ0Jztcblx0ZGlyZWN0aW9uPzogJ3VwJyB8ICdkb3duJyB8ICdzdGFydCcgfCAnZW5kJ1xuXHR0YWJiYWJsZT86IGJvb2xlYW47XG5cdGlubGluZT86IGJvb2xlYW47XG5cdGJsdXJUaW1lb3V0PzogbnVtYmVyIHwgZmFsc2U7XG5cdG9uSG92ZXI/OiBib29sZWFuXG5cdGNoaWxkcmVuPzogUmVhY3ROb2RlIHwgUmVhY3ROb2RlW11cblx0cG9wb3V0Q2xhc3M/OiBzdHJpbmdcblx0Y2xvc2VPbkNsaWNrPzogYm9vbGVhblxuXHRwb3BvdXRJZD86IHN0cmluZ1xufVxuXG5jb25zdCBERUZBVUxUX0JMVVJfVElNRU9VVCA9IDIwMDtcblxuZXhwb3J0IGludGVyZmFjZSBQb3BvdXRMaXRlUHJvcHMgZXh0ZW5kcyBQb3BvdXRMaXRlQmFzZVByb3BzIHtcblx0b3BlbjogYm9vbGVhbjtcblx0b25Ub2dnbGUob3BlbjogYm9vbGVhbik6IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBQb3BvdXRMaXRlID0gKHsgaWQ6IF9pZCwgcG9wb3V0SWQsIG9wZW4sIG9uVG9nZ2xlLCBwb3BvdXRDb250ZW50LCBkaXJlY3Rpb24gPSAnZG93bicsIGxhYmVsLCBjb2xvciwgaWNvbiwgY2hpbGRyZW4sIHRhcmdldENvbnRlbnQsIHBvcG91dENsYXNzLCBvbkhvdmVyLCBvblRhcmdldENsaWNrLCBjbGFzc05hbWUsIGFyaWFMYWJlbCwgbm9Qb2ludGVyLCBzaG93Q2FyZXQgPSB0cnVlLCBhbGlnbiA9ICdlbmQnLCB0YWJiYWJsZSwgaW5saW5lLCBibHVyVGltZW91dCwgY2xvc2VPbkNsaWNrLCAuLi5yZXN0IH06IFBvcG91dExpdGVQcm9wcykgPT4ge1xuXHRjb25zdCB7IGlzTW9iaWxlIH0gPSB1c2VDb250ZXh0KEZvbGQzUGFnZUNvbnRleHQpO1xuXG5cdGlmIChpc01vYmlsZSkgb25Ib3ZlciA9IGZhbHNlO1xuXG5cdGNvbnN0IGlkID0gdXNlTGF6eVJlZigoKSA9PiBfaWQgfHwgdXVpZFY0KCkpO1xuXHRsZXQgdGFyZ2V0Q2xhc3MgPSAncG9wb3V0LXRhcmdldCcgKyAodGFiYmFibGUgPyAnJyA6ICcgbm8tdGFiJyk7XG5cdGNvbnN0IHBhcmVudFJlZiA9IHVzZVJlZjxIVE1MU3BhbkVsZW1lbnQ+KG51bGwpO1xuXG5cdGNvbnN0IHRvZ2dsZU9wZW4gPSAoZTogUmVhY3QuU3ludGhldGljRXZlbnQ8YW55PikgPT4ge1xuXHRcdG9uVG9nZ2xlKCFvcGVuKTtcblx0XHRpZiAodHlwZW9mIG9uVGFyZ2V0Q2xpY2sgPT0gJ2Z1bmN0aW9uJykgb25UYXJnZXRDbGljayhlKTtcblx0fTtcblxuXHRpZiAoIXRhcmdldENvbnRlbnQpIHtcblx0XHRsZXQgYnV0dG9uQ2xhc3MgPSAndGV4dC1wcmltYXJ5IHRleHQtZGVjb3JhdGlvbi1ub25lJztcblx0XHRpZiAoY29sb3IpIGJ1dHRvbkNsYXNzICs9ICcgJyArIGNvbG9yO1xuXHRcdGlmIChpY29uKSBidXR0b25DbGFzcyArPSAnIGljb24tZjMgJyArIGljb247XG5cdFx0bGV0IGNhcmV0ID0gaWNvbiA/XG5cdFx0XHRudWxsIDpcblx0XHRcdHNob3dDYXJldCA/XG5cdFx0XHRcdDxzcGFuIGFyaWEtaGlkZGVuPSd0cnVlJyBjbGFzc05hbWU9J2Ryb3Bkb3duLXRvZ2dsZSBtcy0xJyAvPiA6XG5cdFx0XHRcdG51bGw7XG5cblx0XHR0YXJnZXRDb250ZW50ID1cblx0XHRcdDxzcGFuIGNsYXNzTmFtZT17dGFyZ2V0Q2xhc3N9PlxuXHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRvbktleURvd249eyhldmVudCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGV2ZW50LmtleT09PSdFbnRlcicpIHtcblx0XHRcdFx0XHRcdFx0dG9nZ2xlT3BlbihldmVudCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRhcmlhLWNvbnRyb2xzPXtpZC5nZXRMYXp5UmVmKCl9XG5cdFx0XHRcdFx0YXJpYS1leHBhbmRlZD17b3Blbn1cblx0XHRcdFx0XHRhcmlhLWhhc3BvcHVwPSd0cnVlJ1xuXHRcdFx0XHRcdGJ0blR5cGU9J2xpbmsnXG5cdFx0XHRcdFx0Y2xhc3NOYW1lPXtidXR0b25DbGFzc31cblx0XHRcdFx0XHRvbkNsaWNrPXtvbkhvdmVyID8gbnVsbCA6IHRvZ2dsZU9wZW59XG5cdFx0XHRcdD5cblx0XHRcdFx0XHR7bGFiZWx9XG5cdFx0XHRcdFx0e2NhcmV0fVxuXHRcdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdFx0PC9zcGFuPjtcblx0fSBlbHNlIHtcblx0XHR0YXJnZXRDb250ZW50ID0gPHNwYW5cblx0XHRcdG9uS2V5RG93bj17KGV2ZW50KSA9PiB7XG5cdFx0XHRcdGlmIChldmVudC5rZXk9PT0nRW50ZXInKSB7XG5cdFx0XHRcdFx0dG9nZ2xlT3BlbihldmVudCk7XG5cdFx0XHRcdH1cblx0XHRcdH19XG5cdFx0XHRhcmlhLWNvbnRyb2xzPXtpZC5nZXRMYXp5UmVmKCl9XG5cdFx0XHRhcmlhLWV4cGFuZGVkPXtvcGVufVxuXHRcdFx0YXJpYS1oYXNwb3B1cD0ndHJ1ZSdcblx0XHRcdGNsYXNzTmFtZT17dGFyZ2V0Q2xhc3N9XG5cdFx0XHRpZD17YXJpYUxhYmVsfVxuXHRcdFx0b25DbGljaz17b25Ib3ZlciA/IG51bGwgOiB0b2dnbGVPcGVufVxuXHRcdD5cblx0XHRcdHt0YXJnZXRDb250ZW50fVxuXHRcdDwvc3Bhbj47XG5cdH1cblxuXHRpZiAoIXBvcG91dENvbnRlbnQpIHtcblx0XHRwb3BvdXRDb250ZW50ID0gY2hpbGRyZW47XG5cdH1cblxuXHRsZXQgcG9wb3V0ID0gbnVsbDtcblx0aWYgKG9wZW4gJiYgcG9wb3V0Q29udGVudCkge1xuXHRcdHBvcG91dCA9IDx1bFxuXHRcdFx0YXJpYS1sYWJlbGxlZGJ5PXthcmlhTGFiZWx9XG5cdFx0XHRjbGFzc05hbWU9e2NsYXNzU3RyKCdwb3BvdXQtY29udGVudCBmMy1wb3BvdXQnLCBwb3BvdXRDbGFzcywgJ3Nob3cnLCAnZHJvcGRvd24tbWVudScsICdzaGFkb3cnLCBgZHJvcGRvd24tbWVudS0ke2FsaWdufWAsIGAke25vUG9pbnRlciA/ICduby1wb2ludGVyJyA6ICcnfWApfVxuXHRcdFx0ZGF0YS1icy1wb3BwZXJcblx0XHRcdGlkPXtwb3BvdXRJZH1cblx0XHRcdG9uQ2xpY2s9eygpID0+IHtcblx0XHRcdFx0aWYgKGNsb3NlT25DbGljaykge1xuXHRcdFx0XHRcdG9uVG9nZ2xlKGZhbHNlKTtcblx0XHRcdFx0fVxuXHRcdFx0fX1cblx0XHRcdHsuLi5yZXN0fVxuXHRcdD5cblx0XHRcdHtwb3BvdXRDb250ZW50fVxuXHRcdDwvdWw+O1xuXHR9XG5cblx0Y2xhc3NOYW1lID0gY2xhc3NTdHIoJ3BvcG91dC10YXJnZXQtY29udCcsICdkLXByaW50LW5vbmUnLCBgZHJvcCR7ZGlyZWN0aW9ufWAsIG9wZW4gJiYgJ3BvcG91dC1vcGVuJywgaW5saW5lID8gJ2lubGluZScgOiAnZC1ibG9jaycsIGNsYXNzTmFtZSk7XG5cblx0bGV0IHRhYlByb3BzOiBPYmogPSB0YWJiYWJsZSA/IHsgdGFiSW5kZXg6IDAgfSA6IHt9O1xuXG5cdGlmIChvbkhvdmVyKSB7XG5cdFx0dGFiUHJvcHMub25Nb3VzZUVudGVyID0gKCkgPT4gb25Ub2dnbGUodHJ1ZSk7XG5cdFx0dGFiUHJvcHMub25Nb3VzZUxlYXZlID0gKCkgPT4gb25Ub2dnbGUoZmFsc2UpO1xuXHR9XG5cblx0cmV0dXJuIChcblx0XHQ8c3BhblxuXHRcdFx0cmVmPXtwYXJlbnRSZWZ9XG5cdFx0XHRpZD17aWQuZ2V0TGF6eVJlZigpfVxuXHRcdFx0ey4uLnRhYlByb3BzfVxuXHRcdFx0Y2xhc3NOYW1lPXtjbGFzc05hbWV9XG5cdFx0XHRvbkJsdXI9e2UgPT4ge1xuXHRcdFx0XHQvKlxuXHRcdFx0XHQgKiBzb21laG93IHJlbGF0ZWRUYXJnZXQgaXMgbWlzc2luZyBpbiBJRSwgYnV0IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgc2hvdWxkIGNvbnRhaW4gdGhlIHNhbWUgZWxlbWVudC5cblx0XHRcdFx0ICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMzc1MSBhbmQgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzgwMTkxNDAuXG5cdFx0XHRcdCAqL1xuXHRcdFx0XHRsZXQgYWN0aXZlRWxlbWVudCA9IGUucmVsYXRlZFRhcmdldCB8fCBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXHRcdFx0XHRpZiAob3BlbiAmJiBwYXJlbnRSZWYuY3VycmVudCAmJiAhcGFyZW50UmVmLmN1cnJlbnQuY29udGFpbnMoYWN0aXZlRWxlbWVudCBhcyBhbnkpKSB7XG5cdFx0XHRcdFx0aWYgKGJsdXJUaW1lb3V0ID09PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0b25Ub2dnbGUoZmFsc2UpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IG9uVG9nZ2xlKGZhbHNlKSwgYmx1clRpbWVvdXQgfHwgREVGQVVMVF9CTFVSX1RJTUVPVVQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fX1cblx0XHQ+XG5cdFx0XHR7dGFyZ2V0Q29udGVudH1cblx0XHRcdHtcblx0XHRcdFx0bGFiZWwgJiZcblx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J3Zpc3VhbGx5LWhpZGRlbic+e2xhYmVsfTwvc3Bhbj5cblx0XHRcdH1cblx0XHRcdHtwb3BvdXR9XG5cdFx0PC9zcGFuPlxuXHQpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13605\n')},27810:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   f: () => (/* binding */ TrackingScripts)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_hooks_useScriptTag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12507);\n\n\nvar TrackingScripts = function (_a) {\n    /* Adding script this way so it doesn't mess with React hydration */\n    (0,_lib_hooks_useScriptTag__WEBPACK_IMPORTED_MODULE_1__/* .useScriptTag */ .P)('https://cdn.privacy-mgmt.com/unified/wrapperMessagingWithoutDetection.js');\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null,\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"script\", { src: '/script/gdprTcfV2Stub.js' }),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"script\", { src: '/script/gppStub.js' }),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"script\", { src: '/script/sourcepoint.js' }));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjc4MTAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9wYWdlL1RyYWNraW5nU2NyaXB0cy50c3g/ZDJiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU2NyaXB0VGFnIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZVNjcmlwdFRhZyc7XG5cbmludGVyZmFjZSBUcmFja2luZ1NjcmlwdHNQcm9wcyB7XG5cbn1cblxuZXhwb3J0IGNvbnN0IFRyYWNraW5nU2NyaXB0cyA9ICh7ICB9OiBUcmFja2luZ1NjcmlwdHNQcm9wcykgPT4ge1xuXHQvKiBBZGRpbmcgc2NyaXB0IHRoaXMgd2F5IHNvIGl0IGRvZXNuJ3QgbWVzcyB3aXRoIFJlYWN0IGh5ZHJhdGlvbiAqL1xuXHR1c2VTY3JpcHRUYWcoJ2h0dHBzOi8vY2RuLnByaXZhY3ktbWdtdC5jb20vdW5pZmllZC93cmFwcGVyTWVzc2FnaW5nV2l0aG91dERldGVjdGlvbi5qcycpO1xuXG5cdHJldHVybiA8PlxuXHRcdDxzY3JpcHQgc3JjPScvc2NyaXB0L2dkcHJUY2ZWMlN0dWIuanMnIC8+XG5cdFx0PHNjcmlwdCBzcmM9Jy9zY3JpcHQvZ3BwU3R1Yi5qcycgLz5cblx0XHQ8c2NyaXB0IHNyYz0nL3NjcmlwdC9zb3VyY2Vwb2ludC5qcycgLz5cblx0PC8+O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///27810\n")},52035:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   F: () => (/* binding */ PAGE_SIDEBAR_ID),\n/* harmony export */   y: () => (/* binding */ PageSidebars)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(61533);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_classUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(78697);\n/* harmony import */ var _lib_hooks_useSidebar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(22929);\n\n\n\n\nvar PAGE_SIDEBAR_ID = 'pages-sidebars';\nvar PageSidebars = function () {\n    var _a = (0,_lib_hooks_useSidebar__WEBPACK_IMPORTED_MODULE_2__/* .useSidebars */ .M)(), sidebars = _a.sidebars, open = _a.open, toggleSidebar = _a.toggleSidebar;\n    var firstSidebars = sidebars.slice(0, -1);\n    var lastSidebar = sidebars[sidebars.length - 1];\n    return react_dom__WEBPACK_IMPORTED_MODULE_1___default().createPortal(react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: (0,_lib_classUtil__WEBPACK_IMPORTED_MODULE_3__/* .classStr */ .B)('sidebar-right shadow-lg', !open && 'closed') },\n        open &&\n            react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"button\", { \"aria-label\": 'close sidebar', className: 'close-tab shadow-sm', onClick: function () {\n                    toggleSidebar(false);\n                }, type: 'button' },\n                react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-arrow-right' })),\n        react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { className: 'invisible position-absolute' }, firstSidebars.map(function (sidebar, i) {\n            return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"div\", { key: i }, sidebar);\n        })),\n        lastSidebar), document.getElementById(PAGE_SIDEBAR_ID));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIwMzUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFBQTtBQUVBO0FBSUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9zaWRlYmFycy9QYWdlU2lkZWJhcnMudHN4PzAxMWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgY2xhc3NTdHIgfSBmcm9tICcuLi8uLi9saWIvY2xhc3NVdGlsJztcbmltcG9ydCB7IHVzZVNpZGViYXJzIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZVNpZGViYXInO1xuXG5leHBvcnQgY29uc3QgUEFHRV9TSURFQkFSX0lEID0gJ3BhZ2VzLXNpZGViYXJzJztcblxuZXhwb3J0IGNvbnN0IFBhZ2VTaWRlYmFycyA9ICgpID0+IHtcblx0Y29uc3QgeyBzaWRlYmFycywgb3BlbiwgdG9nZ2xlU2lkZWJhciB9ID0gdXNlU2lkZWJhcnMoKTtcblxuXHRjb25zdCBmaXJzdFNpZGViYXJzID0gc2lkZWJhcnMuc2xpY2UoMCwgLTEpO1xuXHRjb25zdCBsYXN0U2lkZWJhciA9IHNpZGViYXJzW3NpZGViYXJzLmxlbmd0aCAtIDFdO1xuXG5cdHJldHVybiBSZWFjdERPTS5jcmVhdGVQb3J0YWwoXG5cdFx0PGRpdiBjbGFzc05hbWU9e2NsYXNzU3RyKCdzaWRlYmFyLXJpZ2h0IHNoYWRvdy1sZycsICFvcGVuICYmICdjbG9zZWQnKX0+XG5cdFx0XHR7b3BlbiAmJlxuXHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRhcmlhLWxhYmVsPSdjbG9zZSBzaWRlYmFyJ1xuXHRcdFx0XHRjbGFzc05hbWU9J2Nsb3NlLXRhYiBzaGFkb3ctc20nXG5cdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHR0b2dnbGVTaWRlYmFyKGZhbHNlKTtcblx0XHRcdFx0fX1cblx0XHRcdFx0dHlwZT0nYnV0dG9uJ1xuXHRcdFx0PlxuXHRcdFx0XHQ8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdpY29uLWYzIGljb24tYXJyb3ctcmlnaHQnIC8+XG5cdFx0XHQ8L2J1dHRvbj59XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0naW52aXNpYmxlIHBvc2l0aW9uLWFic29sdXRlJz5cblx0XHRcdFx0e2ZpcnN0U2lkZWJhcnMubWFwKChzaWRlYmFyLCBpKSA9PlxuXHRcdFx0XHRcdDxkaXYga2V5PXtpfT57c2lkZWJhcn08L2Rpdj4pfVxuXHRcdFx0PC9kaXY+XG5cdFx0XHR7bGFzdFNpZGViYXJ9XG5cdFx0PC9kaXY+LFxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFBBR0VfU0lERUJBUl9JRClcblx0KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///52035\n")},73047:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   I: () => (/* binding */ F3Case)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _f3SwitchContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(35487);\n\n\nvar F3Case = function (_a) {\n    var switchCase = _a.switchCase, children = _a.children;\n    var value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_f3SwitchContext__WEBPACK_IMPORTED_MODULE_1__/* .F3SwitchContext */ .Y).value;\n    if (typeof switchCase === 'function' && switchCase(value)) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, children);\n    }\n    else if (switchCase === value) {\n        return react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().Fragment), null, children);\n    }\n    else {\n        return null;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzMwNDcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvc3dpdGNoL0YzQ2FzZS50c3g/ZWY2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEYzU3dpdGNoQ29udGV4dCB9IGZyb20gJy4vZjNTd2l0Y2hDb250ZXh0JztcblxuaW50ZXJmYWNlIEYzQ2FzZVByb3BzIHtcblx0c3dpdGNoQ2FzZTogYW55IHwgKCh2YWw6IGFueSkgPT4gYm9vbGVhbilcblx0Y2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVxufVxuXG5leHBvcnQgY29uc3QgRjNDYXNlID0gKHsgc3dpdGNoQ2FzZSwgY2hpbGRyZW4gfTogRjNDYXNlUHJvcHMpID0+IHtcblx0Y29uc3QgeyB2YWx1ZSB9ID0gdXNlQ29udGV4dChGM1N3aXRjaENvbnRleHQpO1xuXG5cdGlmICh0eXBlb2Ygc3dpdGNoQ2FzZSA9PT0gJ2Z1bmN0aW9uJyAmJiBzd2l0Y2hDYXNlKHZhbHVlKSkge1xuXHRcdHJldHVybiA8PntjaGlsZHJlbn08Lz47XG5cdH0gZWxzZSBpZiAoc3dpdGNoQ2FzZSA9PT0gdmFsdWUpIHtcblx0XHRyZXR1cm4gPD57Y2hpbGRyZW59PC8+O1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///73047\n")},48107:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   P: () => (/* binding */ F3Switch)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _f3SwitchContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(35487);\n\n\nvar F3Switch = function (_a) {\n    var value = _a.value, children = _a.children;\n    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_f3SwitchContext__WEBPACK_IMPORTED_MODULE_1__/* .F3SwitchContext */ .Y.Provider, { value: { value: value } }, children);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDgxMDcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvc3dpdGNoL0YzU3dpdGNoLnRzeD8zZDA4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGM1N3aXRjaENvbnRleHQgfSBmcm9tICcuL2YzU3dpdGNoQ29udGV4dCc7XG5cbmludGVyZmFjZSBGM1N3aXRjaFByb3BzIHtcblx0dmFsdWU6IGFueVxuXHRjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlXG59XG5cbmV4cG9ydCBjb25zdCBGM1N3aXRjaCA9ICh7IHZhbHVlLCBjaGlsZHJlbiB9OiBGM1N3aXRjaFByb3BzKSA9PiB7XG5cdHJldHVybiA8RjNTd2l0Y2hDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IHZhbHVlIH19PlxuXHRcdHtjaGlsZHJlbn1cblx0PC9GM1N3aXRjaENvbnRleHQuUHJvdmlkZXI+O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///48107\n")},35487:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Y: () => (/* binding */ F3SwitchContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar F3SwitchContext = react__WEBPACK_IMPORTED_MODULE_0___default().createContext({\n    value: null,\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzU0ODcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQU1BO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL3N3aXRjaC9mM1N3aXRjaENvbnRleHQudHM/ODcyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgRjNTd2l0Y2hDb250ZXh0IHtcblx0dmFsdWU6IGFueVxufVxuXG5leHBvcnQgY29uc3QgRjNTd2l0Y2hDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxGM1N3aXRjaENvbnRleHQ+KHtcblx0dmFsdWU6IG51bGwsXG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///35487\n")},67328:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   h: () => (/* binding */ Fold3PageContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Fold3PageContext = react__WEBPACK_IMPORTED_MODULE_0___default().createContext({\n    session: null,\n    setUser: null,\n    pageQuery: null,\n    isMobile: null,\n    alerts: null,\n    dialogs: null,\n    sidebars: null,\n    environment: null,\n    f3Domain: null,\n    siteType: null,\n    requestCountry: null,\n    dynamicConfig: null,\n    publications: null,\n    config: null,\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjczMjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQTRCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb250ZXh0L2ZvbGQzUGFnZUNvbnRleHQudHM/OGFiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU2Vzc2lvbk9iamVjdCB9IGZyb20gJy4uLy4uL3NlcnZlci9zZXNzaW9uL3Nlc3Npb24nO1xuaW1wb3J0IHsgQ29tcGFjdFB1YmxpY2F0aW9uIH0gZnJvbSAnLi4vYXBpcy9wdWJsaWNhdGlvbkFwaSc7XG5pbXBvcnQgeyBEb21haW4sIFVzZXJGdWxsIH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgRHluYW1pY0NvbmZpZywgRm9sZDNDb25maWd1cmF0aW9uLCBGb2xkM0Vudmlyb25tZW50LCBPYmosIFNpdGVUeXBlIH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IENvdW50cnlDb2RlIH0gZnJvbSAnLi4vZW51bXMvY291bnRyeUlTTy5lbnVtJztcbmltcG9ydCB7IEYzUXVlcnkgfSBmcm9tICcuLi9saWIvZjMtcXVlcnkvRjNRdWVyeSc7XG5pbXBvcnQgeyBBbGVydHNJbnRlcmZhY2UgfSBmcm9tICcuLi9saWIvaG9va3MvdXNlQWxlcnRzJztcbmltcG9ydCB7IERpYWxvZ3NJbnRlcmZhY2UgfSBmcm9tICcuLi9saWIvaG9va3MvdXNlRGlhbG9ncyc7XG5pbXBvcnQgeyBTaWRlYmFyc0ludGVyZmFjZSB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VTaWRlYmFyJztcblxuZXhwb3J0IGludGVyZmFjZSBGb2xkM1BhZ2VDb250ZXh0IHtcblx0c2Vzc2lvbjogU2Vzc2lvbk9iamVjdFxuXHRzZXRVc2VyKHVzZXI6IFVzZXJGdWxsKTogdm9pZFxuXHRwYWdlUXVlcnk6IEYzUXVlcnlcblx0aXNNb2JpbGU6IGJvb2xlYW5cblx0YWxlcnRzOiBBbGVydHNJbnRlcmZhY2Vcblx0ZGlhbG9nczogRGlhbG9nc0ludGVyZmFjZVxuXHRzaWRlYmFyczogU2lkZWJhcnNJbnRlcmZhY2Vcblx0ZW52aXJvbm1lbnQ6IEZvbGQzRW52aXJvbm1lbnRcblx0ZjNEb21haW46IERvbWFpblxuXHRzaXRlVHlwZTogU2l0ZVR5cGVcblx0cmVxdWVzdENvdW50cnk6IENvdW50cnlDb2RlXG5cdGR5bmFtaWNDb25maWc6IER5bmFtaWNDb25maWdcblx0Y29uZmlnOiBGb2xkM0NvbmZpZ3VyYXRpb25cblx0cHVibGljYXRpb25zOiBPYmo8c3RyaW5nLCBDb21wYWN0UHVibGljYXRpb24+XG59XG5cbmV4cG9ydCBjb25zdCBGb2xkM1BhZ2VDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxGb2xkM1BhZ2VDb250ZXh0Pih7XG5cdHNlc3Npb246IG51bGwsXG5cdHNldFVzZXI6IG51bGwsXG5cdHBhZ2VRdWVyeTogbnVsbCxcblx0aXNNb2JpbGU6IG51bGwsXG5cdGFsZXJ0czogbnVsbCxcblx0ZGlhbG9nczogbnVsbCxcblx0c2lkZWJhcnM6IG51bGwsXG5cdGVudmlyb25tZW50OiBudWxsLFxuXHRmM0RvbWFpbjogbnVsbCxcblx0c2l0ZVR5cGU6IG51bGwsXG5cdHJlcXVlc3RDb3VudHJ5OiBudWxsLFxuXHRkeW5hbWljQ29uZmlnOiBudWxsLFxuXHRwdWJsaWNhdGlvbnM6IG51bGwsXG5cdGNvbmZpZzogbnVsbCxcbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///67328\n")},34700:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   E9: () => (/* binding */ COOKIES),\n/* harmony export */   fV: () => (/* binding */ isNecessaryCookie)\n/* harmony export */ });\n/* unused harmony exports isTrustedCookie, CONSENT_COOKIES */\nvar COOKIES;\n(function (COOKIES) {\n    COOKIES["SESSION"] = "sess";\n    COOKIES["CHANGE_PWD"] = "f3_change_pwd";\n    COOKIES["IID"] = "lastIid";\n    COOKIES["SID"] = "lastSid";\n    COOKIES["XID"] = "lastXid";\n    COOKIES["OID"] = "lastOid";\n    COOKIES["GCLID"] = "gclid";\n    COOKIES["FREE_ACCESS"] = "fat";\n    COOKIES["PROQUEST"] = "pqd";\n    COOKIES["PROQUEST_LOGIN"] = "pqu";\n    COOKIES["PQ_SEARCH"] = "pqSearchId";\n    COOKIES["ADOPTION_VALUE"] = "f3av";\n    COOKIES["LAST_LOGIN"] = "f3ll";\n    COOKIES["DENY_PUB"] = "f3_deny_pub";\n    COOKIES["PARTNER_TOKEN"] = "f3_partner_token";\n    COOKIES["DENY_URL"] = "f3_deny_url";\n    COOKIES["GRAPHIC_KEY"] = "f3_show_graphic_images";\n    COOKIES["COMMISSION_JUNCTION"] = "cj_affiliate_id";\n    COOKIES["LINK_SHARE"] = "siteID";\n    COOKIES["CONSENT_SETTINGS"] = "f3_consent_settings";\n    COOKIES["FWR_SESSION"] = "FwrUd";\n    COOKIES["FWR_REDIRECT"] = "f3_FwrRedirect";\n    COOKIES["LANGUAGE"] = "f3_language";\n    COOKIES["CHOOSE_DOMAIN"] = "f3_choose_domain";\n    COOKIES["CAPTCHA"] = "f3_captcha";\n    /* TESTING */\n    COOKIES["TESTING"] = "f3_testing";\n    COOKIES["USER_EXPIRATION"] = "f3_user_expiration";\n    COOKIES["INST_EXPIRATION"] = "f3_inst_expiration";\n    COOKIES["PROVIDER"] = "f3_testing_provider";\n    COOKIES["TEST_IP"] = "f3_testing_ip";\n    COOKIES["TEST_COUNTRY_CODE"] = "f3_testing_country";\n    COOKIES["CAMPAIGN_TEST"] = "camp_tt";\n})(COOKIES || (COOKIES = {}));\nvar isTrustedCookie = function (key) {\n    switch (key) {\n        case COOKIES.SESSION:\n        case COOKIES.CHANGE_PWD:\n        case COOKIES.IID:\n        case COOKIES.SID:\n        case COOKIES.XID:\n        case COOKIES.OID:\n        case COOKIES.GCLID:\n        case COOKIES.FREE_ACCESS:\n        case COOKIES.PROQUEST:\n        case COOKIES.PROQUEST_LOGIN:\n        case COOKIES.ADOPTION_VALUE:\n        case COOKIES.LAST_LOGIN:\n        case COOKIES.DENY_PUB:\n        case COOKIES.CAPTCHA:\n        case COOKIES.LANGUAGE:\n        case COOKIES.CHOOSE_DOMAIN:\n        case COOKIES.CONSENT_SETTINGS:\n        /* TESTING */\n        case COOKIES.TESTING:\n        case COOKIES.USER_EXPIRATION:\n        case COOKIES.INST_EXPIRATION:\n        case COOKIES.TEST_IP:\n        case COOKIES.TEST_COUNTRY_CODE:\n        case COOKIES.CAMPAIGN_TEST:\n            return true;\n        default:\n            return false;\n    }\n};\nvar isNecessaryCookie = function (name) {\n    switch (name) {\n        case COOKIES.CHANGE_PWD:\n        case COOKIES.PARTNER_TOKEN:\n        case COOKIES.LAST_LOGIN:\n        case COOKIES.PROQUEST:\n        case COOKIES.PROQUEST_LOGIN:\n        case COOKIES.PQ_SEARCH:\n        case COOKIES.SESSION:\n        case COOKIES.LANGUAGE:\n        case COOKIES.CHOOSE_DOMAIN:\n        case COOKIES.CONSENT_SETTINGS:\n            return true;\n        default:\n            return false;\n    }\n};\nvar CONSENT_COOKIES = [COOKIES.CONSENT_SETTINGS, \'_sp_enable_dfp_personalized_ads\', \'consentUUID\', \'euconsent-v2\', \'ccpaUUID\', \'dnsDisplayed\', \'ccpaApplies\', \'signedLspa\', \'_sp_su\', \'consentDate\'];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQ3MDAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9lbnVtcy9jb29raWVzLmVudW0udHM/M2VhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBlbnVtIENPT0tJRVMge1xuXHRTRVNTSU9OID0gJ3Nlc3MnLFxuXHRDSEFOR0VfUFdEID0gJ2YzX2NoYW5nZV9wd2QnLFxuXHRJSUQgPSAnbGFzdElpZCcsXG5cdFNJRCA9ICdsYXN0U2lkJyxcblx0WElEID0gJ2xhc3RYaWQnLFxuXHRPSUQgPSAnbGFzdE9pZCcsXG5cdEdDTElEID0gJ2djbGlkJyxcblx0RlJFRV9BQ0NFU1MgPSAnZmF0Jyxcblx0UFJPUVVFU1QgPSAncHFkJyxcblx0UFJPUVVFU1RfTE9HSU4gPSAncHF1Jyxcblx0UFFfU0VBUkNIID0gJ3BxU2VhcmNoSWQnLFxuXHRBRE9QVElPTl9WQUxVRSA9ICdmM2F2Jyxcblx0TEFTVF9MT0dJTiA9ICdmM2xsJyxcblx0REVOWV9QVUIgPSAnZjNfZGVueV9wdWInLFxuXHRQQVJUTkVSX1RPS0VOID0gJ2YzX3BhcnRuZXJfdG9rZW4nLFxuXHRERU5ZX1VSTCA9ICdmM19kZW55X3VybCcsXG5cdEdSQVBISUNfS0VZID0gJ2YzX3Nob3dfZ3JhcGhpY19pbWFnZXMnLFxuXHRDT01NSVNTSU9OX0pVTkNUSU9OID0gJ2NqX2FmZmlsaWF0ZV9pZCcsXG5cdExJTktfU0hBUkUgPSAnc2l0ZUlEJyxcblx0Q09OU0VOVF9TRVRUSU5HUyA9ICdmM19jb25zZW50X3NldHRpbmdzJyxcblx0RldSX1NFU1NJT04gPSAnRndyVWQnLFxuXHRGV1JfUkVESVJFQ1QgPSAnZjNfRndyUmVkaXJlY3QnLFxuXHRMQU5HVUFHRSA9ICdmM19sYW5ndWFnZScsXG5cdENIT09TRV9ET01BSU4gPSAnZjNfY2hvb3NlX2RvbWFpbicsXG5cdENBUFRDSEEgPSAnZjNfY2FwdGNoYScsXG5cblx0LyogVEVTVElORyAqL1xuXHRURVNUSU5HID0gJ2YzX3Rlc3RpbmcnLFxuXHRVU0VSX0VYUElSQVRJT04gPSAnZjNfdXNlcl9leHBpcmF0aW9uJyxcblx0SU5TVF9FWFBJUkFUSU9OID0gJ2YzX2luc3RfZXhwaXJhdGlvbicsXG5cdFBST1ZJREVSID0gJ2YzX3Rlc3RpbmdfcHJvdmlkZXInLFxuXHRURVNUX0lQID0gJ2YzX3Rlc3RpbmdfaXAnLFxuXHRURVNUX0NPVU5UUllfQ09ERSA9ICdmM190ZXN0aW5nX2NvdW50cnknLFxuXHRDQU1QQUlHTl9URVNUID0gJ2NhbXBfdHQnLFxufVxuXG5leHBvcnQgY29uc3QgaXNUcnVzdGVkQ29va2llID0gKGtleTogc3RyaW5nKSA9PiB7XG5cdHN3aXRjaCAoa2V5KSB7XG5cdFx0Y2FzZSBDT09LSUVTLlNFU1NJT046XG5cdFx0Y2FzZSBDT09LSUVTLkNIQU5HRV9QV0Q6XG5cdFx0Y2FzZSBDT09LSUVTLklJRDpcblx0XHRjYXNlIENPT0tJRVMuU0lEOlxuXHRcdGNhc2UgQ09PS0lFUy5YSUQ6XG5cdFx0Y2FzZSBDT09LSUVTLk9JRDpcblx0XHRjYXNlIENPT0tJRVMuR0NMSUQ6XG5cdFx0Y2FzZSBDT09LSUVTLkZSRUVfQUNDRVNTOlxuXHRcdGNhc2UgQ09PS0lFUy5QUk9RVUVTVDpcblx0XHRjYXNlIENPT0tJRVMuUFJPUVVFU1RfTE9HSU46XG5cdFx0Y2FzZSBDT09LSUVTLkFET1BUSU9OX1ZBTFVFOlxuXHRcdGNhc2UgQ09PS0lFUy5MQVNUX0xPR0lOOlxuXHRcdGNhc2UgQ09PS0lFUy5ERU5ZX1BVQjpcblx0XHRjYXNlIENPT0tJRVMuQ0FQVENIQTpcblx0XHRjYXNlIENPT0tJRVMuTEFOR1VBR0U6XG5cdFx0Y2FzZSBDT09LSUVTLkNIT09TRV9ET01BSU46XG5cdFx0Y2FzZSBDT09LSUVTLkNPTlNFTlRfU0VUVElOR1M6XG5cblx0XHRcdC8qIFRFU1RJTkcgKi9cblx0XHRjYXNlIENPT0tJRVMuVEVTVElORzpcblx0XHRjYXNlIENPT0tJRVMuVVNFUl9FWFBJUkFUSU9OOlxuXHRcdGNhc2UgQ09PS0lFUy5JTlNUX0VYUElSQVRJT046XG5cdFx0Y2FzZSBDT09LSUVTLlRFU1RfSVA6XG5cdFx0Y2FzZSBDT09LSUVTLlRFU1RfQ09VTlRSWV9DT0RFOlxuXHRcdGNhc2UgQ09PS0lFUy5DQU1QQUlHTl9URVNUOlxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiBmYWxzZTtcblx0fVxufTtcblxuZXhwb3J0IGNvbnN0IGlzTmVjZXNzYXJ5Q29va2llID0gKG5hbWU6IHN0cmluZykgPT4ge1xuXHRzd2l0Y2ggKG5hbWUpIHtcblx0XHRjYXNlIENPT0tJRVMuQ0hBTkdFX1BXRDpcblx0XHRjYXNlIENPT0tJRVMuUEFSVE5FUl9UT0tFTjpcblx0XHRjYXNlIENPT0tJRVMuTEFTVF9MT0dJTjpcblx0XHRjYXNlIENPT0tJRVMuUFJPUVVFU1Q6XG5cdFx0Y2FzZSBDT09LSUVTLlBST1FVRVNUX0xPR0lOOlxuXHRcdGNhc2UgQ09PS0lFUy5QUV9TRUFSQ0g6XG5cdFx0Y2FzZSBDT09LSUVTLlNFU1NJT046XG5cdFx0Y2FzZSBDT09LSUVTLkxBTkdVQUdFOlxuXHRcdGNhc2UgQ09PS0lFUy5DSE9PU0VfRE9NQUlOOlxuXHRcdGNhc2UgQ09PS0lFUy5DT05TRU5UX1NFVFRJTkdTOlxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiBmYWxzZTtcblx0fVxufTtcblxuZXhwb3J0IGNvbnN0IENPTlNFTlRfQ09PS0lFUyA9IFtDT09LSUVTLkNPTlNFTlRfU0VUVElOR1MsICdfc3BfZW5hYmxlX2RmcF9wZXJzb25hbGl6ZWRfYWRzJywgJ2NvbnNlbnRVVUlEJywgJ2V1Y29uc2VudC12MicsICdjY3BhVVVJRCcsICdkbnNEaXNwbGF5ZWQnLCAnY2NwYUFwcGxpZXMnLCAnc2lnbmVkTHNwYScsICdfc3Bfc3UnLCAnY29uc2VudERhdGUnXTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///34700\n')},2137:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   p: () => (/* binding */ COUNTRY_ISO_CODE)\n/* harmony export */ });\n/* In order to render the labels around the site, use the Intl.DisplayNames apis. */\nvar COUNTRY_ISO_CODE;\n(function (COUNTRY_ISO_CODE) {\n    COUNTRY_ISO_CODE["AF"] = "AF";\n    COUNTRY_ISO_CODE["AX"] = "AX";\n    COUNTRY_ISO_CODE["AL"] = "AL";\n    COUNTRY_ISO_CODE["DZ"] = "DZ";\n    COUNTRY_ISO_CODE["AS"] = "AS";\n    COUNTRY_ISO_CODE["AD"] = "AD";\n    COUNTRY_ISO_CODE["AO"] = "AO";\n    COUNTRY_ISO_CODE["AI"] = "AI";\n    COUNTRY_ISO_CODE["AQ"] = "AQ";\n    COUNTRY_ISO_CODE["AG"] = "AG";\n    COUNTRY_ISO_CODE["AR"] = "AR";\n    COUNTRY_ISO_CODE["AM"] = "AM";\n    COUNTRY_ISO_CODE["AW"] = "AW";\n    COUNTRY_ISO_CODE["AU"] = "AU";\n    COUNTRY_ISO_CODE["AT"] = "AT";\n    COUNTRY_ISO_CODE["AZ"] = "AZ";\n    COUNTRY_ISO_CODE["BS"] = "BS";\n    COUNTRY_ISO_CODE["BH"] = "BH";\n    COUNTRY_ISO_CODE["BD"] = "BD";\n    COUNTRY_ISO_CODE["BB"] = "BB";\n    COUNTRY_ISO_CODE["BY"] = "BY";\n    COUNTRY_ISO_CODE["BE"] = "BE";\n    COUNTRY_ISO_CODE["BZ"] = "BZ";\n    COUNTRY_ISO_CODE["BJ"] = "BJ";\n    COUNTRY_ISO_CODE["BM"] = "BM";\n    COUNTRY_ISO_CODE["BT"] = "BT";\n    COUNTRY_ISO_CODE["BO"] = "BO";\n    COUNTRY_ISO_CODE["BQ"] = "BQ";\n    COUNTRY_ISO_CODE["BA"] = "BA";\n    COUNTRY_ISO_CODE["BW"] = "BW";\n    COUNTRY_ISO_CODE["BV"] = "BV";\n    COUNTRY_ISO_CODE["BR"] = "BR";\n    COUNTRY_ISO_CODE["IO"] = "IO";\n    COUNTRY_ISO_CODE["BN"] = "BN";\n    COUNTRY_ISO_CODE["BG"] = "BG";\n    COUNTRY_ISO_CODE["BF"] = "BF";\n    COUNTRY_ISO_CODE["BI"] = "BI";\n    COUNTRY_ISO_CODE["KH"] = "KH";\n    COUNTRY_ISO_CODE["CM"] = "CM";\n    COUNTRY_ISO_CODE["CA"] = "CA";\n    COUNTRY_ISO_CODE["CV"] = "CV";\n    COUNTRY_ISO_CODE["KY"] = "KY";\n    COUNTRY_ISO_CODE["CF"] = "CF";\n    COUNTRY_ISO_CODE["TD"] = "TD";\n    COUNTRY_ISO_CODE["CL"] = "CL";\n    COUNTRY_ISO_CODE["CN"] = "CN";\n    COUNTRY_ISO_CODE["CX"] = "CX";\n    COUNTRY_ISO_CODE["CC"] = "CC";\n    COUNTRY_ISO_CODE["CO"] = "CO";\n    COUNTRY_ISO_CODE["KM"] = "KM";\n    COUNTRY_ISO_CODE["CG"] = "CG";\n    COUNTRY_ISO_CODE["CD"] = "CD";\n    COUNTRY_ISO_CODE["CK"] = "CK";\n    COUNTRY_ISO_CODE["CR"] = "CR";\n    COUNTRY_ISO_CODE["CI"] = "CI";\n    COUNTRY_ISO_CODE["HR"] = "HR";\n    COUNTRY_ISO_CODE["CU"] = "CU";\n    COUNTRY_ISO_CODE["CW"] = "CW";\n    COUNTRY_ISO_CODE["CY"] = "CY";\n    COUNTRY_ISO_CODE["CZ"] = "CZ";\n    COUNTRY_ISO_CODE["DK"] = "DK";\n    COUNTRY_ISO_CODE["DJ"] = "DJ";\n    COUNTRY_ISO_CODE["DM"] = "DM";\n    COUNTRY_ISO_CODE["DO"] = "DO";\n    COUNTRY_ISO_CODE["EC"] = "EC";\n    COUNTRY_ISO_CODE["EG"] = "EG";\n    COUNTRY_ISO_CODE["SV"] = "SV";\n    COUNTRY_ISO_CODE["GQ"] = "GQ";\n    COUNTRY_ISO_CODE["ER"] = "ER";\n    COUNTRY_ISO_CODE["EE"] = "EE";\n    COUNTRY_ISO_CODE["ET"] = "ET";\n    COUNTRY_ISO_CODE["FK"] = "FK";\n    COUNTRY_ISO_CODE["FO"] = "FO";\n    COUNTRY_ISO_CODE["FJ"] = "FJ";\n    COUNTRY_ISO_CODE["FI"] = "FI";\n    COUNTRY_ISO_CODE["FR"] = "FR";\n    COUNTRY_ISO_CODE["GF"] = "GF";\n    COUNTRY_ISO_CODE["PF"] = "PF";\n    COUNTRY_ISO_CODE["TF"] = "TF";\n    COUNTRY_ISO_CODE["GA"] = "GA";\n    COUNTRY_ISO_CODE["GM"] = "GM";\n    COUNTRY_ISO_CODE["GE"] = "GE";\n    COUNTRY_ISO_CODE["DE"] = "DE";\n    COUNTRY_ISO_CODE["GH"] = "GH";\n    COUNTRY_ISO_CODE["GI"] = "GI";\n    COUNTRY_ISO_CODE["GR"] = "GR";\n    COUNTRY_ISO_CODE["GL"] = "GL";\n    COUNTRY_ISO_CODE["GD"] = "GD";\n    COUNTRY_ISO_CODE["GP"] = "GP";\n    COUNTRY_ISO_CODE["GU"] = "GU";\n    COUNTRY_ISO_CODE["GT"] = "GT";\n    COUNTRY_ISO_CODE["GG"] = "GG";\n    COUNTRY_ISO_CODE["GN"] = "GN";\n    COUNTRY_ISO_CODE["GW"] = "GW";\n    COUNTRY_ISO_CODE["GY"] = "GY";\n    COUNTRY_ISO_CODE["HT"] = "HT";\n    COUNTRY_ISO_CODE["HM"] = "HM";\n    COUNTRY_ISO_CODE["VA"] = "VA";\n    COUNTRY_ISO_CODE["HN"] = "HN";\n    COUNTRY_ISO_CODE["HK"] = "HK";\n    COUNTRY_ISO_CODE["HU"] = "HU";\n    COUNTRY_ISO_CODE["IS"] = "IS";\n    COUNTRY_ISO_CODE["IN"] = "IN";\n    COUNTRY_ISO_CODE["ID"] = "ID";\n    COUNTRY_ISO_CODE["IR"] = "IR";\n    COUNTRY_ISO_CODE["IQ"] = "IQ";\n    COUNTRY_ISO_CODE["IE"] = "IE";\n    COUNTRY_ISO_CODE["IM"] = "IM";\n    COUNTRY_ISO_CODE["IL"] = "IL";\n    COUNTRY_ISO_CODE["IT"] = "IT";\n    COUNTRY_ISO_CODE["JM"] = "JM";\n    COUNTRY_ISO_CODE["JP"] = "JP";\n    COUNTRY_ISO_CODE["JE"] = "JE";\n    COUNTRY_ISO_CODE["JO"] = "JO";\n    COUNTRY_ISO_CODE["KZ"] = "KZ";\n    COUNTRY_ISO_CODE["KE"] = "KE";\n    COUNTRY_ISO_CODE["KI"] = "KI";\n    COUNTRY_ISO_CODE["KP"] = "KP";\n    COUNTRY_ISO_CODE["KR"] = "KR";\n    COUNTRY_ISO_CODE["XK"] = "XK";\n    COUNTRY_ISO_CODE["KW"] = "KW";\n    COUNTRY_ISO_CODE["KG"] = "KG";\n    COUNTRY_ISO_CODE["LA"] = "LA";\n    COUNTRY_ISO_CODE["LV"] = "LV";\n    COUNTRY_ISO_CODE["LB"] = "LB";\n    COUNTRY_ISO_CODE["LS"] = "LS";\n    COUNTRY_ISO_CODE["LR"] = "LR";\n    COUNTRY_ISO_CODE["LY"] = "LY";\n    COUNTRY_ISO_CODE["LI"] = "LI";\n    COUNTRY_ISO_CODE["LT"] = "LT";\n    COUNTRY_ISO_CODE["LU"] = "LU";\n    COUNTRY_ISO_CODE["MO"] = "MO";\n    COUNTRY_ISO_CODE["MK"] = "MK";\n    COUNTRY_ISO_CODE["MG"] = "MG";\n    COUNTRY_ISO_CODE["MW"] = "MW";\n    COUNTRY_ISO_CODE["MY"] = "MY";\n    COUNTRY_ISO_CODE["MV"] = "MV";\n    COUNTRY_ISO_CODE["ML"] = "ML";\n    COUNTRY_ISO_CODE["MT"] = "MT";\n    COUNTRY_ISO_CODE["MH"] = "MH";\n    COUNTRY_ISO_CODE["MQ"] = "MQ";\n    COUNTRY_ISO_CODE["MR"] = "MR";\n    COUNTRY_ISO_CODE["MU"] = "MU";\n    COUNTRY_ISO_CODE["YT"] = "YT";\n    COUNTRY_ISO_CODE["MX"] = "MX";\n    COUNTRY_ISO_CODE["FM"] = "FM";\n    COUNTRY_ISO_CODE["MD"] = "MD";\n    COUNTRY_ISO_CODE["MC"] = "MC";\n    COUNTRY_ISO_CODE["MN"] = "MN";\n    COUNTRY_ISO_CODE["ME"] = "ME";\n    COUNTRY_ISO_CODE["MS"] = "MS";\n    COUNTRY_ISO_CODE["MA"] = "MA";\n    COUNTRY_ISO_CODE["MZ"] = "MZ";\n    COUNTRY_ISO_CODE["MM"] = "MM";\n    COUNTRY_ISO_CODE["NA"] = "NA";\n    COUNTRY_ISO_CODE["NR"] = "NR";\n    COUNTRY_ISO_CODE["NP"] = "NP";\n    COUNTRY_ISO_CODE["NL"] = "NL";\n    COUNTRY_ISO_CODE["AN"] = "AN";\n    COUNTRY_ISO_CODE["NC"] = "NC";\n    COUNTRY_ISO_CODE["NZ"] = "NZ";\n    COUNTRY_ISO_CODE["NI"] = "NI";\n    COUNTRY_ISO_CODE["NE"] = "NE";\n    COUNTRY_ISO_CODE["NG"] = "NG";\n    COUNTRY_ISO_CODE["NU"] = "NU";\n    COUNTRY_ISO_CODE["NF"] = "NF";\n    COUNTRY_ISO_CODE["MP"] = "MP";\n    COUNTRY_ISO_CODE["NO"] = "NO";\n    COUNTRY_ISO_CODE["OM"] = "OM";\n    COUNTRY_ISO_CODE["PK"] = "PK";\n    COUNTRY_ISO_CODE["PW"] = "PW";\n    COUNTRY_ISO_CODE["PS"] = "PS";\n    COUNTRY_ISO_CODE["PA"] = "PA";\n    COUNTRY_ISO_CODE["PG"] = "PG";\n    COUNTRY_ISO_CODE["PY"] = "PY";\n    COUNTRY_ISO_CODE["PE"] = "PE";\n    COUNTRY_ISO_CODE["PH"] = "PH";\n    COUNTRY_ISO_CODE["PN"] = "PN";\n    COUNTRY_ISO_CODE["PL"] = "PL";\n    COUNTRY_ISO_CODE["PT"] = "PT";\n    COUNTRY_ISO_CODE["PR"] = "PR";\n    COUNTRY_ISO_CODE["QA"] = "QA";\n    COUNTRY_ISO_CODE["RE"] = "RE";\n    COUNTRY_ISO_CODE["RO"] = "RO";\n    COUNTRY_ISO_CODE["RU"] = "RU";\n    COUNTRY_ISO_CODE["RW"] = "RW";\n    COUNTRY_ISO_CODE["BL"] = "BL";\n    COUNTRY_ISO_CODE["SH"] = "SH";\n    COUNTRY_ISO_CODE["KN"] = "KN";\n    COUNTRY_ISO_CODE["LC"] = "LC";\n    COUNTRY_ISO_CODE["MF"] = "MF";\n    COUNTRY_ISO_CODE["PM"] = "PM";\n    COUNTRY_ISO_CODE["VC"] = "VC";\n    COUNTRY_ISO_CODE["WS"] = "WS";\n    COUNTRY_ISO_CODE["SM"] = "SM";\n    COUNTRY_ISO_CODE["ST"] = "ST";\n    COUNTRY_ISO_CODE["SA"] = "SA";\n    COUNTRY_ISO_CODE["SN"] = "SN";\n    COUNTRY_ISO_CODE["RS"] = "RS";\n    COUNTRY_ISO_CODE["CS"] = "CS";\n    COUNTRY_ISO_CODE["SC"] = "SC";\n    COUNTRY_ISO_CODE["SL"] = "SL";\n    COUNTRY_ISO_CODE["SG"] = "SG";\n    COUNTRY_ISO_CODE["SX"] = "SX";\n    COUNTRY_ISO_CODE["SK"] = "SK";\n    COUNTRY_ISO_CODE["SI"] = "SI";\n    COUNTRY_ISO_CODE["SB"] = "SB";\n    COUNTRY_ISO_CODE["SO"] = "SO";\n    COUNTRY_ISO_CODE["ZA"] = "ZA";\n    COUNTRY_ISO_CODE["GS"] = "GS";\n    COUNTRY_ISO_CODE["SS"] = "SS";\n    COUNTRY_ISO_CODE["ES"] = "ES";\n    COUNTRY_ISO_CODE["LK"] = "LK";\n    COUNTRY_ISO_CODE["SD"] = "SD";\n    COUNTRY_ISO_CODE["SR"] = "SR";\n    COUNTRY_ISO_CODE["SJ"] = "SJ";\n    COUNTRY_ISO_CODE["SZ"] = "SZ";\n    COUNTRY_ISO_CODE["SE"] = "SE";\n    COUNTRY_ISO_CODE["CH"] = "CH";\n    COUNTRY_ISO_CODE["SY"] = "SY";\n    COUNTRY_ISO_CODE["TW"] = "TW";\n    COUNTRY_ISO_CODE["TJ"] = "TJ";\n    COUNTRY_ISO_CODE["TZ"] = "TZ";\n    COUNTRY_ISO_CODE["TH"] = "TH";\n    COUNTRY_ISO_CODE["TL"] = "TL";\n    COUNTRY_ISO_CODE["TG"] = "TG";\n    COUNTRY_ISO_CODE["TK"] = "TK";\n    COUNTRY_ISO_CODE["TO"] = "TO";\n    COUNTRY_ISO_CODE["TT"] = "TT";\n    COUNTRY_ISO_CODE["TN"] = "TN";\n    COUNTRY_ISO_CODE["TR"] = "TR";\n    COUNTRY_ISO_CODE["TM"] = "TM";\n    COUNTRY_ISO_CODE["TC"] = "TC";\n    COUNTRY_ISO_CODE["TV"] = "TV";\n    COUNTRY_ISO_CODE["UG"] = "UG";\n    COUNTRY_ISO_CODE["UA"] = "UA";\n    COUNTRY_ISO_CODE["AE"] = "AE";\n    COUNTRY_ISO_CODE["GB"] = "GB";\n    COUNTRY_ISO_CODE["US"] = "US";\n    COUNTRY_ISO_CODE["UM"] = "UM";\n    COUNTRY_ISO_CODE["UY"] = "UY";\n    COUNTRY_ISO_CODE["UZ"] = "UZ";\n    COUNTRY_ISO_CODE["VU"] = "VU";\n    COUNTRY_ISO_CODE["VE"] = "VE";\n    COUNTRY_ISO_CODE["VN"] = "VN";\n    COUNTRY_ISO_CODE["VG"] = "VG";\n    COUNTRY_ISO_CODE["VI"] = "VI";\n    COUNTRY_ISO_CODE["WF"] = "WF";\n    COUNTRY_ISO_CODE["EH"] = "EH";\n    COUNTRY_ISO_CODE["YE"] = "YE";\n    COUNTRY_ISO_CODE["ZM"] = "ZM";\n    COUNTRY_ISO_CODE["ZW"] = "ZW";\n})(COUNTRY_ISO_CODE || (COUNTRY_ISO_CODE = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEzNy5qcyIsIm1hcHBpbmdzIjoiOzs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9lbnVtcy9jb3VudHJ5SVNPLmVudW0udHM/YzEwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBDb3VudHJ5Q29kZSA9IGtleW9mIHR5cGVvZiBDT1VOVFJZX0lTT19DT0RFO1xuXG4vKiBJbiBvcmRlciB0byByZW5kZXIgdGhlIGxhYmVscyBhcm91bmQgdGhlIHNpdGUsIHVzZSB0aGUgSW50bC5EaXNwbGF5TmFtZXMgYXBpcy4gKi9cbmV4cG9ydCBlbnVtIENPVU5UUllfSVNPX0NPREUge1xuXHRBRiA9ICdBRicsIC8vQWZnaGFuaXN0YW5cblx0QVggPSAnQVgnLCAvL0FsYW5kIElzbGFuZHNcblx0QUwgPSAnQUwnLCAvL0FsYmFuaWFcblx0RFogPSAnRFonLCAvL0FsZ2VyaWFcblx0QVMgPSAnQVMnLCAvL0FtZXJpY2FuIFNhbW9hXG5cdEFEID0gJ0FEJywgLy9BbmRvcnJhXG5cdEFPID0gJ0FPJywgLy9BbmdvbGFcblx0QUkgPSAnQUknLCAvL0FuZ3VpbGxhXG5cdEFRID0gJ0FRJywgLy9BbnRhcmN0aWNhXG5cdEFHID0gJ0FHJywgLy9BbnRpZ3VhIGFuZCBCYXJidWRhXG5cdEFSID0gJ0FSJywgLy9BcmdlbnRpbmFcblx0QU0gPSAnQU0nLCAvL0FybWVuaWFcblx0QVcgPSAnQVcnLCAvL0FydWJhXG5cdEFVID0gJ0FVJywgLy9BdXN0cmFsaWFcblx0QVQgPSAnQVQnLCAvL0F1c3RyaWFcblx0QVogPSAnQVonLCAvL0F6ZXJiYWlqYW5cblx0QlMgPSAnQlMnLCAvL0JhaGFtYXNcblx0QkggPSAnQkgnLCAvL0JhaHJhaW5cblx0QkQgPSAnQkQnLCAvL0JhbmdsYWRlc2hcblx0QkIgPSAnQkInLCAvL0JhcmJhZG9zXG5cdEJZID0gJ0JZJywgLy9CZWxhcnVzXG5cdEJFID0gJ0JFJywgLy9CZWxnaXVtXG5cdEJaID0gJ0JaJywgLy9CZWxpemVcblx0QkogPSAnQkonLCAvL0JlbmluXG5cdEJNID0gJ0JNJywgLy9CZXJtdWRhXG5cdEJUID0gJ0JUJywgLy9CaHV0YW5cblx0Qk8gPSAnQk8nLCAvL0JvbGl2aWFcblx0QlEgPSAnQlEnLCAvL0JvbmFpcmUsIFNpbnQgRXVzdGF0aXVzIGFuZCBTYWJhXG5cdEJBID0gJ0JBJywgLy9Cb3NuaWEgYW5kIEhlcnplZ292aW5hXG5cdEJXID0gJ0JXJywgLy9Cb3Rzd2FuYVxuXHRCViA9ICdCVicsIC8vQm91dmV0IElzbGFuZFxuXHRCUiA9ICdCUicsIC8vQnJhemlsXG5cdElPID0gJ0lPJywgLy9Ccml0aXNoIEluZGlhbiBPY2VhbiBUZXJyaXRvcnlcblx0Qk4gPSAnQk4nLCAvL0JydW5laSBEYXJ1c3NhbGFtXG5cdEJHID0gJ0JHJywgLy9CdWxnYXJpYVxuXHRCRiA9ICdCRicsIC8vQnVya2luYSBGYXNvXG5cdEJJID0gJ0JJJywgLy9CdXJ1bmRpXG5cdEtIID0gJ0tIJywgLy9DYW1ib2RpYVxuXHRDTSA9ICdDTScsIC8vQ2FtZXJvb25cblx0Q0EgPSAnQ0EnLCAvL0NhbmFkYVxuXHRDViA9ICdDVicsIC8vQ2FwZSBWZXJkZVxuXHRLWSA9ICdLWScsIC8vQ2F5bWFuIElzbGFuZHNcblx0Q0YgPSAnQ0YnLCAvL0NlbnRyYWwgQWZyaWNhbiBSZXB1YmxpY1xuXHRURCA9ICdURCcsIC8vQ2hhZFxuXHRDTCA9ICdDTCcsIC8vQ2hpbGVcblx0Q04gPSAnQ04nLCAvL0NoaW5hXG5cdENYID0gJ0NYJywgLy9DaHJpc3RtYXMgSXNsYW5kXG5cdENDID0gJ0NDJywgLy9Db2NvcyAoS2VlbGluZykgSXNsYW5kc1xuXHRDTyA9ICdDTycsIC8vQ29sb21iaWFcblx0S00gPSAnS00nLCAvL0NvbW9yb3Ncblx0Q0cgPSAnQ0cnLCAvL0NvbmdvXG5cdENEID0gJ0NEJywgLy9Db25nbywgRGVtb2NyYXRpYyBSZXB1YmxpYyBvZiB0aGUgQ29uZ29cblx0Q0sgPSAnQ0snLCAvL0Nvb2sgSXNsYW5kc1xuXHRDUiA9ICdDUicsIC8vQ29zdGEgUmljYVxuXHRDSSA9ICdDSScsIC8vQ290ZSBEXFwnSXZvaXJlXG5cdEhSID0gJ0hSJywgLy9Dcm9hdGlhXG5cdENVID0gJ0NVJywgLy9DdWJhXG5cdENXID0gJ0NXJywgLy9DdXJhY2FvXG5cdENZID0gJ0NZJywgLy9DeXBydXNcblx0Q1ogPSAnQ1onLCAvL0N6ZWNoIFJlcHVibGljXG5cdERLID0gJ0RLJywgLy9EZW5tYXJrXG5cdERKID0gJ0RKJywgLy9Eamlib3V0aVxuXHRETSA9ICdETScsIC8vRG9taW5pY2Fcblx0RE8gPSAnRE8nLCAvL0RvbWluaWNhbiBSZXB1YmxpY1xuXHRFQyA9ICdFQycsIC8vRWN1YWRvclxuXHRFRyA9ICdFRycsIC8vRWd5cHRcblx0U1YgPSAnU1YnLCAvL0VsIFNhbHZhZG9yXG5cdEdRID0gJ0dRJywgLy9FcXVhdG9yaWFsIEd1aW5lYVxuXHRFUiA9ICdFUicsIC8vRXJpdHJlYVxuXHRFRSA9ICdFRScsIC8vRXN0b25pYVxuXHRFVCA9ICdFVCcsIC8vRXRoaW9waWFcblx0RksgPSAnRksnLCAvL0ZhbGtsYW5kIElzbGFuZHMgKE1hbHZpbmFzKVxuXHRGTyA9ICdGTycsIC8vRmFyb2UgSXNsYW5kc1xuXHRGSiA9ICdGSicsIC8vRmlqaVxuXHRGSSA9ICdGSScsIC8vRmlubGFuZFxuXHRGUiA9ICdGUicsIC8vRnJhbmNlXG5cdEdGID0gJ0dGJywgLy9GcmVuY2ggR3VpYW5hXG5cdFBGID0gJ1BGJywgLy9GcmVuY2ggUG9seW5lc2lhXG5cdFRGID0gJ1RGJywgLy9GcmVuY2ggU291dGhlcm4gVGVycml0b3JpZXNcblx0R0EgPSAnR0EnLCAvL0dhYm9uXG5cdEdNID0gJ0dNJywgLy9HYW1iaWFcblx0R0UgPSAnR0UnLCAvL0dlb3JnaWFcblx0REUgPSAnREUnLCAvL0dlcm1hbnlcblx0R0ggPSAnR0gnLCAvL0doYW5hXG5cdEdJID0gJ0dJJywgLy9HaWJyYWx0YXJcblx0R1IgPSAnR1InLCAvL0dyZWVjZVxuXHRHTCA9ICdHTCcsIC8vR3JlZW5sYW5kXG5cdEdEID0gJ0dEJywgLy9HcmVuYWRhXG5cdEdQID0gJ0dQJywgLy9HdWFkZWxvdXBlXG5cdEdVID0gJ0dVJywgLy9HdWFtXG5cdEdUID0gJ0dUJywgLy9HdWF0ZW1hbGFcblx0R0cgPSAnR0cnLCAvL0d1ZXJuc2V5XG5cdEdOID0gJ0dOJywgLy9HdWluZWFcblx0R1cgPSAnR1cnLCAvL0d1aW5lYS1CaXNzYXVcblx0R1kgPSAnR1knLCAvL0d1eWFuYVxuXHRIVCA9ICdIVCcsIC8vSGFpdGlcblx0SE0gPSAnSE0nLCAvL0hlYXJkIElzbGFuZCBhbmQgTWNkb25hbGQgSXNsYW5kc1xuXHRWQSA9ICdWQScsIC8vSG9seSBTZWUgKFZhdGljYW4gQ2l0eSBTdGF0ZSlcblx0SE4gPSAnSE4nLCAvL0hvbmR1cmFzXG5cdEhLID0gJ0hLJywgLy9Ib25nIEtvbmdcblx0SFUgPSAnSFUnLCAvL0h1bmdhcnlcblx0SVMgPSAnSVMnLCAvL0ljZWxhbmRcblx0SU4gPSAnSU4nLCAvL0luZGlhXG5cdElEID0gJ0lEJywgLy9JbmRvbmVzaWFcblx0SVIgPSAnSVInLCAvL0lyYW4sIElzbGFtaWMgUmVwdWJsaWMgb2Zcblx0SVEgPSAnSVEnLCAvL0lyYXFcblx0SUUgPSAnSUUnLCAvL0lyZWxhbmRcblx0SU0gPSAnSU0nLCAvL0lzbGUgb2YgTWFuXG5cdElMID0gJ0lMJywgLy9Jc3JhZWxcblx0SVQgPSAnSVQnLCAvL0l0YWx5XG5cdEpNID0gJ0pNJywgLy9KYW1haWNhXG5cdEpQID0gJ0pQJywgLy9KYXBhblxuXHRKRSA9ICdKRScsIC8vSmVyc2V5XG5cdEpPID0gJ0pPJywgLy9Kb3JkYW5cblx0S1ogPSAnS1onLCAvL0themFraHN0YW5cblx0S0UgPSAnS0UnLCAvL0tlbnlhXG5cdEtJID0gJ0tJJywgLy9LaXJpYmF0aVxuXHRLUCA9ICdLUCcsIC8vS29yZWEsIERlbW9jcmF0aWMgUGVvcGxlXFwncyBSZXB1YmxpYyBvZiAoTm9ydGggS29yZWEpXG5cdEtSID0gJ0tSJywgLy9Lb3JlYSwgUmVwdWJsaWMgb2YgKFNvdXRoIEtvcmVhKVxuXHRYSyA9ICdYSycsIC8vS29zb3ZvXG5cdEtXID0gJ0tXJywgLy9LdXdhaXRcblx0S0cgPSAnS0cnLCAvL0t5cmd5enN0YW5cblx0TEEgPSAnTEEnLCAvL0xhbyBQZW9wbGVcXCdzIERlbW9jcmF0aWMgUmVwdWJsaWNcblx0TFYgPSAnTFYnLCAvL0xhdHZpYVxuXHRMQiA9ICdMQicsIC8vTGViYW5vblxuXHRMUyA9ICdMUycsIC8vTGVzb3Rob1xuXHRMUiA9ICdMUicsIC8vTGliZXJpYVxuXHRMWSA9ICdMWScsIC8vTGlieWFuIEFyYWIgSmFtYWhpcml5YVxuXHRMSSA9ICdMSScsIC8vTGllY2h0ZW5zdGVpblxuXHRMVCA9ICdMVCcsIC8vTGl0aHVhbmlhXG5cdExVID0gJ0xVJywgLy9MdXhlbWJvdXJnXG5cdE1PID0gJ01PJywgLy9NYWNhb1xuXHRNSyA9ICdNSycsIC8vTWFjZWRvbmlhLCB0aGUgRm9ybWVyIFl1Z29zbGF2IFJlcHVibGljIG9mXG5cdE1HID0gJ01HJywgLy9NYWRhZ2FzY2FyXG5cdE1XID0gJ01XJywgLy9NYWxhd2lcblx0TVkgPSAnTVknLCAvL01hbGF5c2lhXG5cdE1WID0gJ01WJywgLy9NYWxkaXZlc1xuXHRNTCA9ICdNTCcsIC8vTWFsaVxuXHRNVCA9ICdNVCcsIC8vTWFsdGFcblx0TUggPSAnTUgnLCAvL01hcnNoYWxsIElzbGFuZHNcblx0TVEgPSAnTVEnLCAvL01hcnRpbmlxdWVcblx0TVIgPSAnTVInLCAvL01hdXJpdGFuaWFcblx0TVUgPSAnTVUnLCAvL01hdXJpdGl1c1xuXHRZVCA9ICdZVCcsIC8vTWF5b3R0ZVxuXHRNWCA9ICdNWCcsIC8vTWV4aWNvXG5cdEZNID0gJ0ZNJywgLy9NaWNyb25lc2lhLCBGZWRlcmF0ZWQgU3RhdGVzIG9mXG5cdE1EID0gJ01EJywgLy9Nb2xkb3ZhLCBSZXB1YmxpYyBvZlxuXHRNQyA9ICdNQycsIC8vTW9uYWNvXG5cdE1OID0gJ01OJywgLy9Nb25nb2xpYVxuXHRNRSA9ICdNRScsIC8vTW9udGVuZWdyb1xuXHRNUyA9ICdNUycsIC8vTW9udHNlcnJhdFxuXHRNQSA9ICdNQScsIC8vTW9yb2Njb1xuXHRNWiA9ICdNWicsIC8vTW96YW1iaXF1ZVxuXHRNTSA9ICdNTScsIC8vTXlhbm1hclxuXHROQSA9ICdOQScsIC8vTmFtaWJpYVxuXHROUiA9ICdOUicsIC8vTmF1cnVcblx0TlAgPSAnTlAnLCAvL05lcGFsXG5cdE5MID0gJ05MJywgLy9OZXRoZXJsYW5kc1xuXHRBTiA9ICdBTicsIC8vTmV0aGVybGFuZHMgQW50aWxsZXNcblx0TkMgPSAnTkMnLCAvL05ldyBDYWxlZG9uaWFcblx0TlogPSAnTlonLCAvL05ldyBaZWFsYW5kXG5cdE5JID0gJ05JJywgLy9OaWNhcmFndWFcblx0TkUgPSAnTkUnLCAvL05pZ2VyXG5cdE5HID0gJ05HJywgLy9OaWdlcmlhXG5cdE5VID0gJ05VJywgLy9OaXVlXG5cdE5GID0gJ05GJywgLy9Ob3Jmb2xrIElzbGFuZFxuXHRNUCA9ICdNUCcsIC8vTm9ydGhlcm4gTWFyaWFuYSBJc2xhbmRzXG5cdE5PID0gJ05PJywgLy9Ob3J3YXlcblx0T00gPSAnT00nLCAvL09tYW5cblx0UEsgPSAnUEsnLCAvL1Bha2lzdGFuXG5cdFBXID0gJ1BXJywgLy9QYWxhdVxuXHRQUyA9ICdQUycsIC8vUGFsZXN0aW5pYW4gVGVycml0b3J5LCBPY2N1cGllZFxuXHRQQSA9ICdQQScsIC8vUGFuYW1hXG5cdFBHID0gJ1BHJywgLy9QYXB1YSBOZXcgR3VpbmVhXG5cdFBZID0gJ1BZJywgLy9QYXJhZ3VheVxuXHRQRSA9ICdQRScsIC8vUGVydVxuXHRQSCA9ICdQSCcsIC8vUGhpbGlwcGluZXNcblx0UE4gPSAnUE4nLCAvL1BpdGNhaXJuXG5cdFBMID0gJ1BMJywgLy9Qb2xhbmRcblx0UFQgPSAnUFQnLCAvL1BvcnR1Z2FsXG5cdFBSID0gJ1BSJywgLy9QdWVydG8gUmljb1xuXHRRQSA9ICdRQScsIC8vUWF0YXJcblx0UkUgPSAnUkUnLCAvL1JldW5pb25cblx0Uk8gPSAnUk8nLCAvL1JvbWFuaWFcblx0UlUgPSAnUlUnLCAvL1J1c3NpYW4gRmVkZXJhdGlvblxuXHRSVyA9ICdSVycsIC8vUndhbmRhXG5cdEJMID0gJ0JMJywgLy9TYWludCBCYXJ0aGVsZW15XG5cdFNIID0gJ1NIJywgLy9TYWludCBIZWxlbmFcblx0S04gPSAnS04nLCAvL1NhaW50IEtpdHRzIGFuZCBOZXZpc1xuXHRMQyA9ICdMQycsIC8vU2FpbnQgTHVjaWFcblx0TUYgPSAnTUYnLCAvL1NhaW50IE1hcnRpblxuXHRQTSA9ICdQTScsIC8vU2FpbnQgUGllcnJlIGFuZCBNaXF1ZWxvblxuXHRWQyA9ICdWQycsIC8vU2FpbnQgVmluY2VudCBhbmQgdGhlIEdyZW5hZGluZXNcblx0V1MgPSAnV1MnLCAvL1NhbW9hXG5cdFNNID0gJ1NNJywgLy9TYW4gTWFyaW5vXG5cdFNUID0gJ1NUJywgLy9TYW8gVG9tZSBhbmQgUHJpbmNpcGVcblx0U0EgPSAnU0EnLCAvL1NhdWRpIEFyYWJpYVxuXHRTTiA9ICdTTicsIC8vU2VuZWdhbFxuXHRSUyA9ICdSUycsIC8vU2VyYmlhXG5cdENTID0gJ0NTJywgLy9TZXJiaWEgYW5kIE1vbnRlbmVncm9cblx0U0MgPSAnU0MnLCAvL1NleWNoZWxsZXNcblx0U0wgPSAnU0wnLCAvL1NpZXJyYSBMZW9uZVxuXHRTRyA9ICdTRycsIC8vU2luZ2Fwb3JlXG5cdFNYID0gJ1NYJywgLy9TaW50IE1hYXJ0ZW5cblx0U0sgPSAnU0snLCAvL1Nsb3Zha2lhXG5cdFNJID0gJ1NJJywgLy9TbG92ZW5pYVxuXHRTQiA9ICdTQicsIC8vU29sb21vbiBJc2xhbmRzXG5cdFNPID0gJ1NPJywgLy9Tb21hbGlhXG5cdFpBID0gJ1pBJywgLy9Tb3V0aCBBZnJpY2Fcblx0R1MgPSAnR1MnLCAvL1NvdXRoIEdlb3JnaWEgYW5kIHRoZSBTb3V0aCBTYW5kd2ljaCBJc2xhbmRzXG5cdFNTID0gJ1NTJywgLy9Tb3V0aCBTdWRhblxuXHRFUyA9ICdFUycsIC8vU3BhaW5cblx0TEsgPSAnTEsnLCAvL1NyaSBMYW5rYVxuXHRTRCA9ICdTRCcsIC8vU3VkYW5cblx0U1IgPSAnU1InLCAvL1N1cmluYW1lXG5cdFNKID0gJ1NKJywgLy9TdmFsYmFyZCBhbmQgSmFuIE1heWVuXG5cdFNaID0gJ1NaJywgLy9Td2F6aWxhbmRcblx0U0UgPSAnU0UnLCAvL1N3ZWRlblxuXHRDSCA9ICdDSCcsIC8vU3dpdHplcmxhbmRcblx0U1kgPSAnU1knLCAvL1N5cmlhbiBBcmFiIFJlcHVibGljXG5cdFRXID0gJ1RXJywgLy9UYWl3YW4sIFByb3ZpbmNlIG9mIENoaW5hXG5cdFRKID0gJ1RKJywgLy9UYWppa2lzdGFuXG5cdFRaID0gJ1RaJywgLy9UYW56YW5pYSwgVW5pdGVkIFJlcHVibGljIG9mXG5cdFRIID0gJ1RIJywgLy9UaGFpbGFuZFxuXHRUTCA9ICdUTCcsIC8vVGltb3ItTGVzdGVcblx0VEcgPSAnVEcnLCAvL1RvZ29cblx0VEsgPSAnVEsnLCAvL1Rva2VsYXVcblx0VE8gPSAnVE8nLCAvL1RvbmdhXG5cdFRUID0gJ1RUJywgLy9UcmluaWRhZCBhbmQgVG9iYWdvXG5cdFROID0gJ1ROJywgLy9UdW5pc2lhXG5cdFRSID0gJ1RSJywgLy9UdXJrZXlcblx0VE0gPSAnVE0nLCAvL1R1cmttZW5pc3RhblxuXHRUQyA9ICdUQycsIC8vVHVya3MgYW5kIENhaWNvcyBJc2xhbmRzXG5cdFRWID0gJ1RWJywgLy9UdXZhbHVcblx0VUcgPSAnVUcnLCAvL1VnYW5kYVxuXHRVQSA9ICdVQScsIC8vVWtyYWluZVxuXHRBRSA9ICdBRScsIC8vVW5pdGVkIEFyYWIgRW1pcmF0ZXNcblx0R0IgPSAnR0InLCAvL1VuaXRlZCBLaW5nZG9tXG5cdFVTID0gJ1VTJywgLy9Vbml0ZWQgU3RhdGVzXG5cdFVNID0gJ1VNJywgLy9Vbml0ZWQgU3RhdGVzIE1pbm9yIE91dGx5aW5nIElzbGFuZHNcblx0VVkgPSAnVVknLCAvL1VydWd1YXlcblx0VVogPSAnVVonLCAvL1V6YmVraXN0YW5cblx0VlUgPSAnVlUnLCAvL1ZhbnVhdHVcblx0VkUgPSAnVkUnLCAvL1ZlbmV6dWVsYVxuXHRWTiA9ICdWTicsIC8vVmlldCBOYW1cblx0VkcgPSAnVkcnLCAvL1ZpcmdpbiBJc2xhbmRzLCBCcml0aXNoXG5cdFZJID0gJ1ZJJywgLy9WaXJnaW4gSXNsYW5kcywgVS5zLlxuXHRXRiA9ICdXRicsIC8vV2FsbGlzIGFuZCBGdXR1bmFcblx0RUggPSAnRUgnLCAvL1dlc3Rlcm4gU2FoYXJhXG5cdFlFID0gJ1lFJywgLy9ZZW1lblxuXHRaTSA9ICdaTScsIC8vWmFtYmlhXG5cdFpXID0gJ1pXJywgLy9aaW1iYWJ3ZVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2137\n')},30915:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   aU: () => (/* binding */ Action),\n/* harmony export */   ju: () => (/* binding */ Event),\n/* harmony export */   rU: () => (/* binding */ Link),\n/* harmony export */   x4: () => (/* binding */ Result)\n/* harmony export */ });\nvar Event;\n(function (Event) {\n    Event["PURCHASE"] = "purchase";\n    Event["REGISTRATION"] = "registration";\n    Event["CANCEL_SUBSCRIPTION"] = "cancel_subscription";\n    Event["LOGIN"] = "login";\n    Event["RECORD"] = "record";\n    Event["SHARE"] = "share";\n    /*\n     * SEARCH = "search",\n     * BROWSE = "browse",\n     */\n    Event["SAVE_TO_ANCESTRY"] = "save_to_ancestry";\n    Event["BETA"] = "beta";\n    Event["PARTNER"] = "partner";\n    Event["NAVBAR"] = "navbar";\n})(Event || (Event = {}));\nvar Result;\n(function (Result) {\n    Result["SUCCESS"] = "success";\n    Result["FAIL"] = "fail";\n    Result["DENY"] = "deny";\n})(Result || (Result = {}));\nvar Action;\n(function (Action) {\n    Action["ADD"] = "add";\n    Action["CREATE"] = "create";\n    Action["DELETE"] = "delete";\n    Action["UPDATE"] = "update";\n    Action["VIEW"] = "view";\n    Action["UPLOAD"] = "upload";\n    Action["DOWNLOAD"] = "download";\n    Action["PRINT"] = "print";\n    Action["ANNOTATE"] = "annotation";\n    Action["CORRECTION"] = "correction";\n    Action["COMMENT"] = "comment";\n    Action["DATE"] = "date";\n    Action["TAG"] = "tag";\n    Action["COPY"] = "copy";\n    //beta/partner\n    Action["ENROLL"] = "enroll";\n    //authenticaion\n    Action["ANCESTRY"] = "ancestry";\n    Action["USERNAME_PASSWORD"] = "username_password";\n    //share\n    Action["FACEBOOK"] = "facebook";\n    Action["LINK"] = "link";\n    Action["TWITTER"] = "twitter";\n})(Action || (Action = {}));\nvar Link;\n(function (Link) {\n    Link["LOGO"] = "logo";\n    Link["HOME"] = "home";\n    Link["SEARCH"] = "search";\n    Link["BROWSE"] = "browse";\n    Link["MAPS"] = "maps";\n    Link["WALL"] = "memorial_wall";\n    Link["CREATE_MEMORIAL"] = "memorial_create";\n    Link["CREATE_SUBJECT"] = "subject_create";\n    Link["YOUR_MEMORIALS"] = "memorial_your";\n    Link["VIETNAM_WALL"] = "memorial_vietnam";\n    Link["ARIZONA_MEMORIAL"] = "memorial_arizona";\n    Link["HELP"] = "help";\n    Link["PROFILE"] = "user_profile";\n    Link["ACCOUNT"] = "user_account";\n    Link["TAGS"] = "user_tags";\n    Link["GALLERY"] = "user_gallery";\n    Link["SIGN_OUT"] = "user_signout";\n    Link["JOIN"] = "join";\n    Link["SIGN_IN"] = "signin";\n    Link["WAR_STORIES"] = "warstories";\n    Link["MEDALS"] = "medals";\n    Link["UPLOAD"] = "upload";\n})(Link || (Link = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzA5MTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvZW51bXMvZ3RtRXZlbnQuZW51bS50cz9iZGViIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIEV2ZW50IHtcblx0UFVSQ0hBU0UgPSAncHVyY2hhc2UnLFxuXHRSRUdJU1RSQVRJT04gPSAncmVnaXN0cmF0aW9uJyxcblx0Q0FOQ0VMX1NVQlNDUklQVElPTiA9ICdjYW5jZWxfc3Vic2NyaXB0aW9uJyxcblx0TE9HSU4gPSAnbG9naW4nLFxuXHRSRUNPUkQgPSAncmVjb3JkJyxcblx0U0hBUkUgPSAnc2hhcmUnLFxuXG5cdC8qXG5cdCAqIFNFQVJDSCA9IFwic2VhcmNoXCIsXG5cdCAqIEJST1dTRSA9IFwiYnJvd3NlXCIsXG5cdCAqL1xuXHRTQVZFX1RPX0FOQ0VTVFJZID0gJ3NhdmVfdG9fYW5jZXN0cnknLFxuXHRCRVRBID0gJ2JldGEnLFxuXHRQQVJUTkVSID0gJ3BhcnRuZXInLFxuXHROQVZCQVIgPSAnbmF2YmFyJyxcbn1cblxuZXhwb3J0IGVudW0gUmVzdWx0IHtcblx0U1VDQ0VTUyA9ICdzdWNjZXNzJyxcblx0RkFJTCA9ICdmYWlsJyxcblx0REVOWSA9ICdkZW55Jyxcbn1cblxuZXhwb3J0IGVudW0gQWN0aW9uIHtcblx0QUREID0gJ2FkZCcsXG5cdENSRUFURSA9ICdjcmVhdGUnLFxuXHRERUxFVEUgPSAnZGVsZXRlJyxcblx0VVBEQVRFID0gJ3VwZGF0ZScsXG5cdFZJRVcgPSAndmlldycsXG5cdFVQTE9BRCA9ICd1cGxvYWQnLFxuXHRET1dOTE9BRCA9ICdkb3dubG9hZCcsXG5cdFBSSU5UID0gJ3ByaW50Jyxcblx0QU5OT1RBVEUgPSAnYW5ub3RhdGlvbicsXG5cdENPUlJFQ1RJT04gPSAnY29ycmVjdGlvbicsXG5cdENPTU1FTlQgPSAnY29tbWVudCcsXG5cdERBVEUgPSAnZGF0ZScsXG5cdFRBRyA9ICd0YWcnLFxuXHRDT1BZID0gJ2NvcHknLFxuXG5cdC8vYmV0YS9wYXJ0bmVyXG5cdEVOUk9MTCA9ICdlbnJvbGwnLFxuXG5cdC8vYXV0aGVudGljYWlvblxuXHRBTkNFU1RSWSA9ICdhbmNlc3RyeScsXG5cdFVTRVJOQU1FX1BBU1NXT1JEID0gJ3VzZXJuYW1lX3Bhc3N3b3JkJyxcblxuXHQvL3NoYXJlXG5cdEZBQ0VCT09LID0gJ2ZhY2Vib29rJywgLy9hdXRoXG5cdExJTksgPSAnbGluaycsXG5cdFRXSVRURVIgPSAndHdpdHRlcicsXG59XG5cbmV4cG9ydCBlbnVtIExpbmsge1xuXHRMT0dPID0gJ2xvZ28nLFxuXHRIT01FID0gJ2hvbWUnLFxuXHRTRUFSQ0ggPSAnc2VhcmNoJyxcblx0QlJPV1NFID0gJ2Jyb3dzZScsXG5cdE1BUFMgPSAnbWFwcycsXG5cdFdBTEwgPSAnbWVtb3JpYWxfd2FsbCcsXG5cdENSRUFURV9NRU1PUklBTCA9ICdtZW1vcmlhbF9jcmVhdGUnLFxuXHRDUkVBVEVfU1VCSkVDVCA9ICdzdWJqZWN0X2NyZWF0ZScsXG5cdFlPVVJfTUVNT1JJQUxTID0gJ21lbW9yaWFsX3lvdXInLFxuXHRWSUVUTkFNX1dBTEwgPSAnbWVtb3JpYWxfdmlldG5hbScsXG5cdEFSSVpPTkFfTUVNT1JJQUwgPSAnbWVtb3JpYWxfYXJpem9uYScsXG5cdEhFTFAgPSAnaGVscCcsXG5cdFBST0ZJTEUgPSAndXNlcl9wcm9maWxlJyxcblx0QUNDT1VOVCA9ICd1c2VyX2FjY291bnQnLFxuXHRUQUdTID0gJ3VzZXJfdGFncycsXG5cdEdBTExFUlkgPSAndXNlcl9nYWxsZXJ5Jyxcblx0U0lHTl9PVVQgPSAndXNlcl9zaWdub3V0Jyxcblx0Sk9JTiA9ICdqb2luJyxcblx0U0lHTl9JTiA9ICdzaWduaW4nLFxuXHRXQVJfU1RPUklFUyA9ICd3YXJzdG9yaWVzJyxcblx0TUVEQUxTID0gJ21lZGFscycsXG5cdFVQTE9BRCA9ICd1cGxvYWQnXG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///30915\n')},57096:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   o: () => (/* binding */ HEADERS)\n/* harmony export */ });\nvar HEADERS;\n(function (HEADERS) {\n    HEADERS["DOMAIN"] = "x-domain";\n    HEADERS["IP_COUNTRY"] = "cf-ipcountry";\n    HEADERS["LANGUAGE"] = "accept-language";\n    HEADERS["INTERNAL_AUTH"] = "X-josephus-internal-auth";\n    HEADERS["SET_COOKIE"] = "set-cookie";\n    HEADERS["CAPTCHA_TOKEN"] = "x-captcha-token";\n    HEADERS["USER_AGENT"] = "user-agent";\n    HEADERS["ANC_CLIENT_PATH"] = "Ancestry-ClientPath";\n    HEADERS["X_LANGUAGE"] = "x-language";\n    HEADERS["PARTNER_SEARCH"] = "x-api-key";\n})(HEADERS || (HEADERS = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTcwOTYuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvZW51bXMvaGVhZGVycy5lbnVtLnRzPzA5MjUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gSEVBREVSUyB7XG5cdERPTUFJTiA9ICd4LWRvbWFpbicsXG5cdElQX0NPVU5UUlkgPSAnY2YtaXBjb3VudHJ5Jyxcblx0TEFOR1VBR0UgPSAnYWNjZXB0LWxhbmd1YWdlJyxcblx0SU5URVJOQUxfQVVUSCA9ICdYLWpvc2VwaHVzLWludGVybmFsLWF1dGgnLFxuXHRTRVRfQ09PS0lFID0gJ3NldC1jb29raWUnLFxuXHRDQVBUQ0hBX1RPS0VOID0gJ3gtY2FwdGNoYS10b2tlbicsXG5cdFVTRVJfQUdFTlQgPSAndXNlci1hZ2VudCcsXG5cdEFOQ19DTElFTlRfUEFUSCA9ICdBbmNlc3RyeS1DbGllbnRQYXRoJyxcblx0WF9MQU5HVUFHRSA9ICd4LWxhbmd1YWdlJyxcblx0UEFSVE5FUl9TRUFSQ0ggPSAneC1hcGkta2V5J1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///57096\n')},58606:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   gd: () => (/* binding */ isContentActionAllowed),\n/* harmony export */   pi: () => (/* binding */ checkContentAction)\n/* harmony export */ });\n/* unused harmony exports tryAction, isAllowed, getPermissionsForObjectReference */\n\n\n\nfunction tryAction(permissions, action) {\n    return new Promise(function (resolve, reject) {\n        var accessLevel = checkAction(permissions, action);\n        if (typeof accessLevel == 'string') {\n            var requirement = minAccountStatusToDenyRequirement(accessLevel);\n            reject(requirement);\n        }\n        else {\n            if (accessLevel) {\n                resolve(true);\n            }\n            else {\n                reject(null);\n            }\n        }\n    });\n}\nfunction isAllowed(permissions, actions) {\n    if (!Array.isArray(actions))\n        actions = [actions];\n    if (permissions && permissions.allowed) {\n        if (permissions.allowed.length) {\n            return actions.some(function (action) { return permissions.allowed.includes(action); });\n        }\n        return false;\n    }\n    else {\n        throw Error('object permissions missing');\n    }\n}\n/**\n * returns true if the action is allowed,\n * a string describing the action necessary to complete the desired action (eg. subscribe),\n * or false if the action is not allowed (eg. signed in user without access)\n *\n * the action can be passed to the deny dialog in order to show the correct version of it.\n */\nfunction checkAction(permissions, action) {\n    if (isAllowed(permissions, action))\n        return true;\n    var denial = getDenial(permissions, action);\n    if (denial)\n        return denial;\n    return false;\n}\nfunction isContentActionAllowed(permissions, actions, elementType) {\n    if (isAllowed(permissions, actions))\n        return true;\n    if (elementType) {\n        var relevantElementPermissions = getElementPermissions(permissions, elementType);\n        if (relevantElementPermissions) {\n            return isAllowed(relevantElementPermissions, actions);\n        }\n    }\n    return false;\n}\nfunction checkContentAction(permissions, action, elementType) {\n    if (isContentActionAllowed(permissions, action, elementType))\n        return true;\n    var denial = getDenial(permissions, action);\n    if (denial)\n        return denial;\n    if (elementType) {\n        var relevantElementPermissions = getElementPermissions(permissions, elementType);\n        if (relevantElementPermissions) {\n            var denial_1 = getDenial(relevantElementPermissions, action);\n            if (denial_1)\n                return denial_1;\n        }\n    }\n    return false;\n}\nfunction getDenial(permissions, action) {\n    var _a;\n    return ((_a = permissions.denied) === null || _a === void 0 ? void 0 : _a[action]) && permissions.denied[action].minAccountStatus;\n}\nfunction getElementPermissions(permissions, elementType) {\n    var _a;\n    return (_a = permissions.contentPermissions) === null || _a === void 0 ? void 0 : _a.find(function (contentPermissions) {\n        return contentPermissions.contentType === elementType;\n    });\n}\nfunction getPermissionsForObjectReference(id) {\n    var objectId = id.objectId, contentType = id.contentType;\n    var Api = getContentApi(contentType);\n    switch (contentType) {\n        case 'FILE':\n        case 'IMAGE':\n            return new ImageApi().getImagePermissions(objectId, 'image');\n        case 'SUB_IMAGE':\n            return new ImageApi().getImagePermissions(objectId, 'sub-image');\n        default: {\n            if (Api === null) {\n                return Promise.resolve(null);\n            }\n            else {\n                return new Api().getDocument(objectId, ['PERMISSIONS']);\n            }\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTg2MDYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL0FjdGlvbnMudHM/OTVlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbWFnZUFwaSB9IGZyb20gJy4uL2FwaXMvaW1hZ2VBcGknO1xuaW1wb3J0IHsgRGVueVJlcXVpcmVtZW50LCBtaW5BY2NvdW50U3RhdHVzVG9EZW55UmVxdWlyZW1lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL2RlbnkvRGVueSc7XG5pbXBvcnQgeyBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9uLCBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9ucywgRG9jdW1lbnRFbGVtZW50VHlwZSwgT2JqZWN0UmVmZXJlbmNlLCBQZXJtaXNzaW9ucyB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IGdldENvbnRlbnRBcGkgfSBmcm9tICcuL2NvbnRlbnQvZ2V0Q29udGVudEFwaSc7XG5cbmV4cG9ydCBmdW5jdGlvbiB0cnlBY3Rpb24ocGVybWlzc2lvbnM6IFBlcm1pc3Npb25zLCBhY3Rpb246IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdGNvbnN0IGFjY2Vzc0xldmVsID0gY2hlY2tBY3Rpb24ocGVybWlzc2lvbnMsIGFjdGlvbik7XG5cblx0XHRpZiAodHlwZW9mIGFjY2Vzc0xldmVsID09ICdzdHJpbmcnKSB7XG5cdFx0XHRsZXQgcmVxdWlyZW1lbnQgPSBtaW5BY2NvdW50U3RhdHVzVG9EZW55UmVxdWlyZW1lbnQoYWNjZXNzTGV2ZWwpO1xuXHRcdFx0cmVqZWN0KHJlcXVpcmVtZW50KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKGFjY2Vzc0xldmVsKSB7XG5cdFx0XHRcdHJlc29sdmUodHJ1ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZWplY3QobnVsbCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQWxsb3dlZChwZXJtaXNzaW9uczogUGVybWlzc2lvbnMsIGFjdGlvbnM6IHN0cmluZyB8IHN0cmluZ1tdKTogYm9vbGVhbiB7XG5cdGlmICghQXJyYXkuaXNBcnJheShhY3Rpb25zKSkgYWN0aW9ucyA9IFthY3Rpb25zXTtcblxuXHRpZiAocGVybWlzc2lvbnMgJiYgcGVybWlzc2lvbnMuYWxsb3dlZCkge1xuXHRcdGlmIChwZXJtaXNzaW9ucy5hbGxvd2VkLmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIGFjdGlvbnMuc29tZShhY3Rpb24gPT4gcGVybWlzc2lvbnMuYWxsb3dlZC5pbmNsdWRlcyhhY3Rpb24pKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IEVycm9yKCdvYmplY3QgcGVybWlzc2lvbnMgbWlzc2luZycpO1xuXHR9XG59XG5cbi8qKlxuICogcmV0dXJucyB0cnVlIGlmIHRoZSBhY3Rpb24gaXMgYWxsb3dlZCxcbiAqIGEgc3RyaW5nIGRlc2NyaWJpbmcgdGhlIGFjdGlvbiBuZWNlc3NhcnkgdG8gY29tcGxldGUgdGhlIGRlc2lyZWQgYWN0aW9uIChlZy4gc3Vic2NyaWJlKSxcbiAqIG9yIGZhbHNlIGlmIHRoZSBhY3Rpb24gaXMgbm90IGFsbG93ZWQgKGVnLiBzaWduZWQgaW4gdXNlciB3aXRob3V0IGFjY2VzcylcbiAqXG4gKiB0aGUgYWN0aW9uIGNhbiBiZSBwYXNzZWQgdG8gdGhlIGRlbnkgZGlhbG9nIGluIG9yZGVyIHRvIHNob3cgdGhlIGNvcnJlY3QgdmVyc2lvbiBvZiBpdC5cbiAqL1xuZnVuY3Rpb24gY2hlY2tBY3Rpb24ocGVybWlzc2lvbnM6IFBlcm1pc3Npb25zLCBhY3Rpb246IHN0cmluZyk6IGJvb2xlYW4gfCBzdHJpbmcge1xuXHRpZiAoaXNBbGxvd2VkKHBlcm1pc3Npb25zLCBhY3Rpb24pKSByZXR1cm4gdHJ1ZTtcblxuXHRsZXQgZGVuaWFsID0gZ2V0RGVuaWFsKHBlcm1pc3Npb25zLCBhY3Rpb24pO1xuXHRpZiAoZGVuaWFsKSByZXR1cm4gZGVuaWFsO1xuXG5cdHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29udGVudEFjdGlvbkFsbG93ZWQocGVybWlzc2lvbnM6IENvbnRlbnREb2N1bWVudFBlcm1pc3Npb25zLCBhY3Rpb25zOiBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9uIHwgQ29udGVudERvY3VtZW50UGVybWlzc2lvbltdLCBlbGVtZW50VHlwZT86IERvY3VtZW50RWxlbWVudFR5cGUpIHtcblx0aWYgKGlzQWxsb3dlZChwZXJtaXNzaW9ucywgYWN0aW9ucykpIHJldHVybiB0cnVlO1xuXG5cdGlmIChlbGVtZW50VHlwZSkge1xuXHRcdGxldCByZWxldmFudEVsZW1lbnRQZXJtaXNzaW9ucyA9IGdldEVsZW1lbnRQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucywgZWxlbWVudFR5cGUpO1xuXHRcdGlmIChyZWxldmFudEVsZW1lbnRQZXJtaXNzaW9ucykge1xuXHRcdFx0cmV0dXJuIGlzQWxsb3dlZChyZWxldmFudEVsZW1lbnRQZXJtaXNzaW9ucywgYWN0aW9ucyk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tDb250ZW50QWN0aW9uKHBlcm1pc3Npb25zOiBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9ucywgYWN0aW9uOiBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9uLCBlbGVtZW50VHlwZT86IERvY3VtZW50RWxlbWVudFR5cGUpIHtcblx0aWYgKGlzQ29udGVudEFjdGlvbkFsbG93ZWQocGVybWlzc2lvbnMsIGFjdGlvbiwgZWxlbWVudFR5cGUpKSByZXR1cm4gdHJ1ZTtcblxuXHRsZXQgZGVuaWFsID0gZ2V0RGVuaWFsKHBlcm1pc3Npb25zLCBhY3Rpb24pO1xuXHRpZiAoZGVuaWFsKSByZXR1cm4gZGVuaWFsO1xuXG5cdGlmIChlbGVtZW50VHlwZSkge1xuXHRcdGxldCByZWxldmFudEVsZW1lbnRQZXJtaXNzaW9ucyA9IGdldEVsZW1lbnRQZXJtaXNzaW9ucyhwZXJtaXNzaW9ucywgZWxlbWVudFR5cGUpO1xuXHRcdGlmIChyZWxldmFudEVsZW1lbnRQZXJtaXNzaW9ucykge1xuXHRcdFx0bGV0IGRlbmlhbCA9IGdldERlbmlhbChyZWxldmFudEVsZW1lbnRQZXJtaXNzaW9ucywgYWN0aW9uKTtcblx0XHRcdGlmIChkZW5pYWwpIHJldHVybiBkZW5pYWw7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXREZW5pYWwocGVybWlzc2lvbnM6IFBlcm1pc3Npb25zLCBhY3Rpb246IHN0cmluZykge1xuXHRyZXR1cm4gcGVybWlzc2lvbnMuZGVuaWVkPy5bYWN0aW9uXSAmJiBwZXJtaXNzaW9ucy5kZW5pZWRbYWN0aW9uXS5taW5BY2NvdW50U3RhdHVzIGFzIERlbnlSZXF1aXJlbWVudDtcbn1cblxuZnVuY3Rpb24gZ2V0RWxlbWVudFBlcm1pc3Npb25zKHBlcm1pc3Npb25zOiBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9ucywgZWxlbWVudFR5cGU6IERvY3VtZW50RWxlbWVudFR5cGUpIHtcblx0cmV0dXJuIHBlcm1pc3Npb25zLmNvbnRlbnRQZXJtaXNzaW9ucz8uZmluZChjb250ZW50UGVybWlzc2lvbnMgPT4ge1xuXHRcdHJldHVybiBjb250ZW50UGVybWlzc2lvbnMuY29udGVudFR5cGUgPT09IGVsZW1lbnRUeXBlO1xuXHR9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBlcm1pc3Npb25zRm9yT2JqZWN0UmVmZXJlbmNlKGlkOiBPYmplY3RSZWZlcmVuY2UpIHtcblx0bGV0IHsgb2JqZWN0SWQsIGNvbnRlbnRUeXBlIH0gPSBpZDtcblxuXHRsZXQgQXBpID0gZ2V0Q29udGVudEFwaShjb250ZW50VHlwZSk7XG5cblx0c3dpdGNoIChjb250ZW50VHlwZSkge1xuXHRcdGNhc2UgJ0ZJTEUnOlxuXHRcdGNhc2UgJ0lNQUdFJzpcblx0XHRcdHJldHVybiBuZXcgSW1hZ2VBcGkoKS5nZXRJbWFnZVBlcm1pc3Npb25zKG9iamVjdElkLCAnaW1hZ2UnKTtcblx0XHRjYXNlICdTVUJfSU1BR0UnOlxuXHRcdFx0cmV0dXJuIG5ldyBJbWFnZUFwaSgpLmdldEltYWdlUGVybWlzc2lvbnMob2JqZWN0SWQsICdzdWItaW1hZ2UnKTtcblx0XHRkZWZhdWx0OiB7XG5cdFx0XHRpZiAoQXBpID09PSBudWxsKSB7XG5cdFx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gbmV3IEFwaSgpLmdldERvY3VtZW50KG9iamVjdElkLCBbJ1BFUk1JU1NJT05TJ10pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///58606\n")},21861:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   l: () => (/* binding */ DataCache)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70655);\n/* harmony import */ var _hash__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(14064);\n\n\n/**\n * This is a simple single-value cache with expiration\n * It takes a fetch function, and will fetch the value when needed\n */\nvar DataCache = /** @class */ (function () {\n    // error: any\n    function DataCache(fetchFn, opts) {\n        this.expires = 0;\n        this.hash = null;\n        this.fetchFn = fetchFn;\n        this.opts = opts || {};\n    }\n    DataCache.prototype.getAsync = function (forceNew) {\n        if (forceNew === void 0) { forceNew = false; }\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__awaiter */ .mG)(this, void 0, void 0, function () {\n            var oldPromise, expired;\n            var _this = this;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__generator */ .Jh)(this, function (_a) {\n                oldPromise = null;\n                expired = forceNew || this.expires > 0 && this.expires < Date.now();\n                if (expired) {\n                    // we need to re-fetch the value, and possibly still return the old\n                    if (!this.opts.nullIfExpired) {\n                        //still return the old (hopefully resolved) value even though we are issuing a new request\n                        oldPromise = this.promise;\n                    }\n                    this.promise = null;\n                }\n                if (!this.promise) {\n                    this.promise = this.fetchFn();\n                    // set expires now so we don't keep rerequesting while it loads\n                    if (this.opts.ttl)\n                        this.expires = Date.now() + this.opts.ttl;\n                    this.promise\n                        .then(function (v) {\n                        // only useful for getSync since getAsync always returns the original promise\n                        _this.value = v;\n                        // set expires again to use the full expiration period\n                        if (_this.opts.ttl)\n                            _this.expires = Date.now() + _this.opts.ttl;\n                    })\n                        .catch(function (e) {\n                        _this.value = null;\n                        _this.promise = null;\n                        /*\n                         * this is only useful if we want getSync to throw the same error\n                         * this.error = e\n                         */\n                        throw e;\n                    })\n                        .finally(function () {\n                        if (_this.opts.autoRefresh) {\n                            setTimeout(function () { return _this.getAsync(true); }, _this.opts.ttl);\n                        }\n                        _this.setHash();\n                    });\n                }\n                return [2 /*return*/, oldPromise || this.promise];\n            });\n        });\n    };\n    DataCache.prototype.getSync = function () {\n        var nullified = this.opts.nullIfExpired && this.expires > 0 && this.expires < Date.now();\n        return nullified ? null : this.value;\n    };\n    DataCache.prototype.setHash = function () {\n        var newHash = String((0,_hash__WEBPACK_IMPORTED_MODULE_1__/* .createHash */ .j)(JSON.stringify(this.value)));\n        /*\n         * .update(JSON.stringify(this.value))\n         * .digest()\n         * .toString('base64');\n         */\n        if (this.opts && typeof this.opts.onCacheUpdated === 'function') {\n            this.opts.onCacheUpdated(newHash !== this.hash);\n        }\n        this.hash = newHash;\n    };\n    return DataCache;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjE4NjEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFtQkE7OztBQUdBO0FBQ0E7QUFRQTtBQUVBO0FBTkE7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7Ozs7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvRGF0YUNhY2hlLnRzPzk5NWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlSGFzaCB9IGZyb20gJy4vaGFzaCc7XG5cbmludGVyZmFjZSBEYXRhQ2FjaGVPcHRpb25zIHtcblx0bnVsbElmRXhwaXJlZD86IGJvb2xlYW5cblxuXHQvKipcblx0ICogSWYgdHJ1ZSwgY2F1c2UgdGhlIGNhY2hlIHRvIHJlLXJlcXVlc3QgdGhlIHZhbHVlIGFzIHNvb24gYXMgaXQgZXhwaXJlcy5cblx0ICogVGhpcyB3aWxsIGNhdXNlIHRoZSBjYWNoZSB0byBwZXJpb2RpY2FsbHkgYW5kIHByZWRpY3RhYmx5IGNhbGwgZmV0Y2hGblxuXHQgKlxuXHQgKiBJZiBmYWxzZSwgdGhlIHZhbHVlIHdpbGwgbm90IGJlIHJlLXJlcXVlc3RlZCB1bnRpbCBnZXRBc3luYygpIGlzIGNhbGxlZFxuXHQgKiBhZnRlciB0aGUgdmFsdWUgaGFzIGV4cGlyZWQuXG5cdCAqL1xuXHRhdXRvUmVmcmVzaD86IGJvb2xlYW5cblxuXHQvKiogdGltZSB0byBsaXZlIGluIG1pbGxpc2Vjb25kcyAqL1xuXHR0dGw/OiBudW1iZXJcblx0b25DYWNoZVVwZGF0ZWQ/KGNoYW5nZWQ6IGJvb2xlYW4pOiB2b2lkXG59XG5cbi8qKlxuICogVGhpcyBpcyBhIHNpbXBsZSBzaW5nbGUtdmFsdWUgY2FjaGUgd2l0aCBleHBpcmF0aW9uXG4gKiBJdCB0YWtlcyBhIGZldGNoIGZ1bmN0aW9uLCBhbmQgd2lsbCBmZXRjaCB0aGUgdmFsdWUgd2hlbiBuZWVkZWRcbiAqL1xuZXhwb3J0IGNsYXNzIERhdGFDYWNoZTxULyogID0gYW55ICovPiB7XG5cdHZhbHVlOiBUO1xuXHRmZXRjaEZuOiAoLi4uYXJnczogYW55W10pID0+IFByb21pc2U8VD47XG5cdHByb21pc2U6IFByb21pc2U8VD47XG5cdGV4cGlyZXM6IG51bWJlciA9IDA7XG5cdG9wdHM6IERhdGFDYWNoZU9wdGlvbnM7XG5cdGhhc2g6IHN0cmluZyA9IG51bGw7XG5cblx0Ly8gZXJyb3I6IGFueVxuXG5cdGNvbnN0cnVjdG9yKGZldGNoRm46ICgpID0+IFByb21pc2U8VD4sIG9wdHM/OiBEYXRhQ2FjaGVPcHRpb25zKSB7XG5cdFx0dGhpcy5mZXRjaEZuID0gZmV0Y2hGbjtcblx0XHR0aGlzLm9wdHMgPSBvcHRzIHx8IHt9O1xuXHR9XG5cblx0YXN5bmMgZ2V0QXN5bmMoZm9yY2VOZXcgPSBmYWxzZSkge1xuXHRcdGxldCBvbGRQcm9taXNlID0gbnVsbDtcblx0XHRsZXQgZXhwaXJlZCA9IGZvcmNlTmV3IHx8IHRoaXMuZXhwaXJlcyA+IDAgJiYgdGhpcy5leHBpcmVzIDwgRGF0ZS5ub3coKTtcblxuXHRcdGlmIChleHBpcmVkKSB7XG5cdFx0XHQvLyB3ZSBuZWVkIHRvIHJlLWZldGNoIHRoZSB2YWx1ZSwgYW5kIHBvc3NpYmx5IHN0aWxsIHJldHVybiB0aGUgb2xkXG5cdFx0XHRpZiAoIXRoaXMub3B0cy5udWxsSWZFeHBpcmVkKSB7XG5cdFx0XHRcdC8vc3RpbGwgcmV0dXJuIHRoZSBvbGQgKGhvcGVmdWxseSByZXNvbHZlZCkgdmFsdWUgZXZlbiB0aG91Z2ggd2UgYXJlIGlzc3VpbmcgYSBuZXcgcmVxdWVzdFxuXHRcdFx0XHRvbGRQcm9taXNlID0gdGhpcy5wcm9taXNlO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5wcm9taXNlID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMucHJvbWlzZSkge1xuXHRcdFx0dGhpcy5wcm9taXNlID0gdGhpcy5mZXRjaEZuKCk7XG5cblx0XHRcdC8vIHNldCBleHBpcmVzIG5vdyBzbyB3ZSBkb24ndCBrZWVwIHJlcmVxdWVzdGluZyB3aGlsZSBpdCBsb2Fkc1xuXHRcdFx0aWYgICh0aGlzLm9wdHMudHRsKSB0aGlzLmV4cGlyZXMgPSBEYXRlLm5vdygpICsgdGhpcy5vcHRzLnR0bDtcblxuXHRcdFx0dGhpcy5wcm9taXNlXG5cdFx0XHRcdC50aGVuKHYgPT4ge1xuXHRcdFx0XHQvLyBvbmx5IHVzZWZ1bCBmb3IgZ2V0U3luYyBzaW5jZSBnZXRBc3luYyBhbHdheXMgcmV0dXJucyB0aGUgb3JpZ2luYWwgcHJvbWlzZVxuXHRcdFx0XHRcdHRoaXMudmFsdWUgPSB2O1xuXG5cdFx0XHRcdFx0Ly8gc2V0IGV4cGlyZXMgYWdhaW4gdG8gdXNlIHRoZSBmdWxsIGV4cGlyYXRpb24gcGVyaW9kXG5cdFx0XHRcdFx0aWYgICh0aGlzLm9wdHMudHRsKSB0aGlzLmV4cGlyZXMgPSBEYXRlLm5vdygpICsgdGhpcy5vcHRzLnR0bDtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmNhdGNoKGUgPT4ge1xuXHRcdFx0XHRcdHRoaXMudmFsdWUgPSBudWxsO1xuXHRcdFx0XHRcdHRoaXMucHJvbWlzZSA9IG51bGw7XG5cblx0XHRcdFx0XHQvKlxuXHRcdFx0XHRcdCAqIHRoaXMgaXMgb25seSB1c2VmdWwgaWYgd2Ugd2FudCBnZXRTeW5jIHRvIHRocm93IHRoZSBzYW1lIGVycm9yXG5cdFx0XHRcdFx0ICogdGhpcy5lcnJvciA9IGVcblx0XHRcdFx0XHQgKi9cblx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuZmluYWxseSgoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKHRoaXMub3B0cy5hdXRvUmVmcmVzaCkge1xuXHRcdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB0aGlzLmdldEFzeW5jKHRydWUpLCB0aGlzLm9wdHMudHRsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhpcy5zZXRIYXNoKCk7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBvbGRQcm9taXNlIHx8IHRoaXMucHJvbWlzZTtcblx0fVxuXG5cdGdldFN5bmMoKSB7XG5cdFx0bGV0IG51bGxpZmllZCA9IHRoaXMub3B0cy5udWxsSWZFeHBpcmVkICYmIHRoaXMuZXhwaXJlcyA+IDAgJiYgdGhpcy5leHBpcmVzIDwgRGF0ZS5ub3coKTtcblxuXHRcdHJldHVybiBudWxsaWZpZWQgPyBudWxsIDogdGhpcy52YWx1ZTtcblx0fVxuXG5cdHByaXZhdGUgc2V0SGFzaCgpIHtcblx0XHRsZXQgbmV3SGFzaCA9IFN0cmluZyhjcmVhdGVIYXNoKEpTT04uc3RyaW5naWZ5KHRoaXMudmFsdWUpKSk7XG5cblx0XHQvKlxuXHRcdCAqIC51cGRhdGUoSlNPTi5zdHJpbmdpZnkodGhpcy52YWx1ZSkpXG5cdFx0ICogLmRpZ2VzdCgpXG5cdFx0ICogLnRvU3RyaW5nKCdiYXNlNjQnKTtcblx0XHQgKi9cblxuXHRcdGlmICh0aGlzLm9wdHMgJiYgdHlwZW9mIHRoaXMub3B0cy5vbkNhY2hlVXBkYXRlZCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0dGhpcy5vcHRzLm9uQ2FjaGVVcGRhdGVkKG5ld0hhc2ggIT09IHRoaXMuaGFzaCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5oYXNoID0gbmV3SGFzaDtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///21861\n")},21147:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Z: () => (/* binding */ Deserializer)\n/* harmony export */ });\n/* harmony import */ var clone__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(72604);\n/* harmony import */ var clone__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(clone__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _propertyLookup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6824);\n\n\nvar primitives = {\n    string: true,\n    boolean: true,\n    number: true,\n};\n// let nodeBtoa = false;\n/*\n * if (typeof atob == 'undefined') {\n * \tvar atob = function(str: string) {\n * \t\treturn Buffer.from(str, 'base64').toString('binary');\n * \t}\n * }\n */\n/*\n * if (typeof btoa == 'undefined') {\n * \tnodeBtoa = true;\n * \tvar btoa = function(str: string | number[]) {\n * \t\treturn Buffer.from(str as string, 'binary').toString('base64');\n * \t}\n * }\n */\n/* This should be kept up to date with WrappedContentDocument.document.abstractFieldDefinition */\nvar ContentTypeToDeserializeType = {\n    BATTLE: 'Battle',\n    STORY_PAGE: 'Memorial',\n    COMPANY: 'CompanyDetails',\n    REGIMENT: 'Regiment',\n    IMAGE: 'ImageData',\n    INDEX_RECORD: 'IndexRecord',\n    MILITARY_UNIT: 'MilitaryUnit',\n    SUB_IMAGE: 'SubImageData',\n    SUBJECT: 'Subject',\n};\nvar ElementTypeToDeserializeType = {\n    BACKGROUND_IMAGE: 'MemorialBackgroundImage',\n    COVER_IMAGE: 'MemorialCoverImage',\n    FACT: 'MemorialFact',\n    FACT_SOURCE: 'MemorialFactSource',\n    PARTNER: 'MemorialPartner',\n    SOURCE: 'MemorialSource',\n    STORY: 'MemorialStory',\n    CORRECTION: 'ContentDocumentCorrection',\n    COMMENT: 'ContentDocumentComment',\n    IMAGE_ANNOTATION: 'ImageAnnotation',\n    LINK: 'ContentDocumentLink',\n};\nvar Deserializer = /** @class */ (function () {\n    function Deserializer(mappings, logger) {\n        this.annotationTypes = {\n            n: 'name',\n            d: 'date',\n            l: 'location',\n            t: 'transcription',\n            c: 'comment',\n        };\n        this.reverseAnnotationTypes = {\n            name: 'n',\n            date: 'd',\n            location: 'l',\n            transcription: 't',\n            comment: 'c',\n        };\n        this.mappings = mappings;\n        this.reverseMappings = null;\n        this.logger = logger || console;\n        this.reverse = false;\n    }\n    Deserializer.prototype.deserialize = function (object, type) {\n        var copy = clone__WEBPACK_IMPORTED_MODULE_0___default()(object, false);\n        if (type[0] == ':') {\n            type = type.slice(1);\n            for (var k in copy) {\n                copy[k] = this.deserialize(copy[k], type);\n            }\n            return copy;\n        }\n        else if (copy instanceof Array) {\n            for (var i = 0; i < copy.length; i++) {\n                copy[i] = this.deserialize(copy[i], type);\n            }\n            return copy;\n        }\n        else {\n            return this.deserializeObject(copy, type);\n        }\n    };\n    Deserializer.prototype.serializeAbstract = function (object, type, typeMap) {\n        var serializeType = typeMap[type];\n        if (!serializeType) {\n            throw \"\".concat(type, \" is not a supported type. Add type to type map.\");\n        }\n        return this.serialize(object, serializeType);\n    };\n    Deserializer.prototype.serializeAbstractDocument = function (object, type) {\n        return this.serializeAbstract(object, type, ContentTypeToDeserializeType);\n    };\n    Deserializer.prototype.serializeAbstractElement = function (object, type) {\n        return this.serializeAbstract(object, type, ElementTypeToDeserializeType);\n    };\n    Deserializer.prototype.serialize = function (object, type) {\n        if (!this.reverseMappings) {\n            this.reverseMappings = this.createReverseMappings(this.mappings);\n        }\n        //temporary swap\n        var mappings = this.mappings;\n        this.mappings = this.reverseMappings;\n        this.reverse = true;\n        var result = this.deserialize(object, type);\n        //restore mappings\n        this.mappings = mappings;\n        this.reverse = false;\n        return result;\n    };\n    Deserializer.prototype.decode = function (data, encodingType) {\n        var fn;\n        switch (encodingType) {\n            case 'rect':\n                fn = this.decodeRect;\n                break;\n            case 'rects':\n                fn = this.decodeRects;\n                break;\n            case 'anntype':\n                fn = this.decodeAnntype;\n                break;\n            case 'date':\n                fn = this.decodeDate;\n                break;\n        }\n        if (typeof fn != 'function') {\n            throw Error('Unrecognized encoding type ' + encodingType);\n        }\n        return fn.call(this, data);\n    };\n    Deserializer.prototype.createReverseMappings = function (mappings) {\n        var reverseMappings = clone__WEBPACK_IMPORTED_MODULE_0___default()(mappings, false);\n        for (var type in reverseMappings) {\n            var mapping = reverseMappings[type];\n            //swap the short (serialized) and long (deserialized) property names\n            for (var shortName in mapping.mappedProps) {\n                var mappedProp = mapping.mappedProps[shortName];\n                var longName = mappedProp.name || shortName;\n                if (shortName != longName) {\n                    mapping.mappedProps[longName] = mappedProp;\n                    mappedProp.name = shortName;\n                    delete mapping.mappedProps[shortName];\n                }\n            }\n            // if there are mapped values, swap those too\n            if (mapping.valueMaps) {\n                for (var mapName in mapping.valueMaps) {\n                    var map = mapping.valueMaps[mapName];\n                    for (var key in map) {\n                        var value = map[key];\n                        if (key != value) {\n                            map[value] = key;\n                            delete map[key];\n                        }\n                    }\n                }\n            }\n        }\n        return reverseMappings;\n    };\n    Deserializer.prototype.deserializeObject = function (object, objectType, deserializeAbstract) {\n        if (deserializeAbstract === void 0) { deserializeAbstract = false; }\n        if (!object)\n            return object;\n        var objectMap = this.mappings[objectType];\n        if (!objectMap) {\n            return object;\n            //throw Error('Unrecognized object type: ' + objectType);\n        }\n        var foundAbstract = false;\n        var valueMaps = objectMap.valueMaps;\n        if (objectMap.inverted) {\n            var list = [];\n            for (var shortName in object) {\n                var propList = object[shortName];\n                var mapping = objectMap.mappedProps[shortName];\n                var longName = mapping && mapping.name || shortName;\n                var type = mapping && mapping.type;\n                var encoding = mapping && mapping.encoding;\n                for (var i = 0; i < propList.length; i++) {\n                    if (!list[i])\n                        list[i] = {};\n                    list[i][longName] = propList[i];\n                    if (type && !(type in primitives)) {\n                        list[i][longName] = this.deserialize(list[i][longName], type);\n                    }\n                    //certain string values (rectangles and annotation types) need to be decoded\n                    if (encoding) {\n                        list[i][longName] = this.decode(list[i][longName], encoding);\n                    }\n                }\n            }\n            if (valueMaps) {\n                this.restoreMappedValues(list, valueMaps, object);\n            }\n            return list;\n        }\n        else {\n            var _loop_1 = function (shortName) {\n                // let value = object[shortName];\n                var mapping = objectMap.mappedProps[shortName];\n                if (!mapping)\n                    return \"continue\";\n                if (mapping.type === 'abstract' && !deserializeAbstract) {\n                    foundAbstract = true;\n                    return \"continue\";\n                }\n                var longName = mapping.name || shortName;\n                var type = mapping.type;\n                var encoding = mapping.encoding;\n                if (type === 'abstract' && deserializeAbstract && !this_1.reverse) {\n                    var _a = mapping.abstractFieldDefinition, switchProperty = _a.switchProperty, map_1 = _a.map;\n                    (0,_propertyLookup__WEBPACK_IMPORTED_MODULE_1__/* .lookupProperty */ .b)(object, switchProperty, function (switchVal) {\n                        type = map_1[switchVal];\n                    });\n                }\n                if (longName !== shortName) {\n                    object[longName] = object[shortName];\n                    delete object[shortName];\n                }\n                if (type && !(type in primitives)) {\n                    if (mapping.map) {\n                        type = (':' + type);\n                    }\n                    object[longName] = this_1.deserialize(object[longName], type);\n                }\n                //certain string values (rectangles and annotation types) need to be decoded\n                if (encoding) {\n                    object[longName] = this_1.decode(object[longName], encoding);\n                }\n                if (valueMaps) {\n                    this_1.restoreMappedValues(object, valueMaps);\n                }\n            };\n            var this_1 = this;\n            for (var shortName in object) {\n                _loop_1(shortName);\n            }\n            if (!deserializeAbstract && foundAbstract) {\n                return this.deserializeObject(object, objectType, true);\n            }\n            else {\n                return object;\n            }\n        }\n    };\n    Deserializer.prototype.restoreMappedValues = function (object, maps, sourceObject) {\n        if (!object || !maps)\n            return;\n        sourceObject = sourceObject || object;\n        var _loop_2 = function (mapName) {\n            //this is the map of short values to long ones\n            var valueMap = sourceObject[mapName];\n            //this is the map of names of mapped properties and the names they map to\n            var propertyMap = maps[mapName];\n            var destPropName;\n            var mappedProp = void 0;\n            for (mappedProp in propertyMap) {\n                destPropName = propertyMap[mappedProp];\n            }\n            /*\n             * let sourcePath = propertyMap.key;\n             * let destinationName = propertyMap.value;\n             */\n            (0,_propertyLookup__WEBPACK_IMPORTED_MODULE_1__/* .lookupProperty */ .b)(object, mappedProp, function (value, parent, name) {\n                value = valueMap[value] || value;\n                var destName = destPropName || name;\n                delete parent[name];\n                parent[destName] = value;\n            });\n        };\n        for (var mapName in maps) {\n            _loop_2(mapName);\n        }\n    };\n    Deserializer.prototype.readCompressedNumber = function (bytes) {\n        var value = 0, done = false;\n        while (!done) {\n            var next = bytes.shift();\n            if (next == undefined)\n                throw Error('Unexpected end of input');\n            done = (next & 0x80) == 0;\n            value = value << 7 | next & 0x7f;\n        }\n        return value;\n    };\n    Deserializer.prototype.writeCompressedNumber = function (number, bytes) {\n        /*\n         * javascript can only do bitwise operations on 32 bit numbers,\n         * but the largest image (Vietnam wall) is 395461px wide, which\n         * is only 19-bit number, so this function is safe until we get\n         * an image that is larger than 4294967296px in a single dimension.\n         */\n        var shift = 7 * 3;\n        var mask = 0x7f << shift;\n        // skip past leading zeros\n        while ((number & mask) == 0 && shift > 0) {\n            mask >>= 7;\n            shift -= 7;\n        }\n        while (shift > 0) {\n            bytes.push((number & mask) >> shift | 0x80);\n            mask >>= 7;\n            shift -= 7;\n        }\n        bytes.push(number & mask);\n    };\n    Deserializer.prototype.decodeRects = function (type) {\n        var serializedRects = type.split(' '), deserializedRects = [];\n        /*\n         * a result of no rects is an empty string and ''.split(' ') -> ['']\n         * so, just check that the first object in the array is legitimate\n         */\n        if (serializedRects[0]) {\n            for (var i = 0, l = serializedRects.length; i < l; i++) {\n                deserializedRects.push(this.decodeRect(serializedRects[i]));\n            }\n        }\n        return deserializedRects;\n    };\n    Deserializer.prototype.decodeRect = function (r) {\n        if (!r)\n            return r;\n        if (!this.reverse) {\n            //adapted from Rectangle.fromDatabaseValue in dev-backend\n            var rot = void 0, x = void 0, y = void 0, w = void 0, h = void 0;\n            try {\n                var bytes = atob(r).split('')\n                    .map(function (c) { return c.charCodeAt(0); });\n                rot = (bytes.shift() & 3) * 90;\n                x = this.readCompressedNumber(bytes);\n                y = this.readCompressedNumber(bytes);\n                w = this.readCompressedNumber(bytes);\n                h = this.readCompressedNumber(bytes);\n            }\n            catch (e) {\n                // if we see the old format, just pretend it's 0,0,0,0,0\n                this.logger.warn('incorrectly formatted rectangle', e);\n                x = 0, y = 0, w = 0, h = 0, rot = 0;\n            }\n            var rect = {\n                rot: rot,\n                x: x,\n                y: y,\n                w: w,\n                h: h,\n            };\n            return rect;\n        }\n        else {\n            //adapted from Rectangle.fromDatabaseValue in dev-backend\n            var bytes = [];\n            r = r;\n            if (r.x < 0 || r.y < 0 || r.w < 0 || r.h < 0) {\n                throw new Error('Invalid rectangle: ' + r);\n            }\n            // encode the orientation\n            bytes.push(r.rotation / 90 | 0x80);\n            this.writeCompressedNumber(r.x, bytes);\n            this.writeCompressedNumber(r.y, bytes);\n            this.writeCompressedNumber(r.w, bytes);\n            this.writeCompressedNumber(r.h, bytes);\n            /*\n             * if (nodeBtoa) {\n             * \treturn btoa(bytes);\n             * }\n             * else {\n             */\n            var chars = bytes.map(function (b) { return String.fromCharCode(b); }).join('');\n            return btoa(chars);\n            // }\n        }\n    };\n    Deserializer.prototype.decodeAnntype = function (type) {\n        var types = this.reverse ? this.reverseAnnotationTypes : this.annotationTypes;\n        return types[type] || type;\n    };\n    Deserializer.prototype.decodeDate = function (date) {\n        /*\n         * The backend returns the date in this format: '2015-09-18T13:32:27-0600'\n         * Safari, and IE require the date like this:   '2015-09-18T13:32:27-06:00' (colon in timezone)\n         */\n        if (!this.reverse) {\n            var timezoneRegex = /[+-]\\d{4}$/;\n            if (timezoneRegex.test(date)) {\n                date = date.slice(0, -2) + ':' + date.slice(-2);\n            }\n        }\n        else {\n            var timezoneRegex = /[+-]\\d{2}:\\d{2}$/;\n            if (timezoneRegex.test(date)) {\n                //drop the colon\n                date = date.slice(0, -3) + date.slice(-2);\n            }\n        }\n        //keep dates as strings to reduce overhead and avoid them being re-serialized when passed to the client\n        return date;\n    };\n    ;\n    return Deserializer;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjExNDcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFHQTtBQXNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTs7Ozs7O0FBTUE7QUFFQTs7Ozs7OztBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQXNCQTtBQWhCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBeENBO0FBQUE7QUF5Q0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUF2QkE7QUFBQTtBQXdCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUdBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9EZXNlcmlhbGl6ZXJDbGFzcy50cz8xMDg1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbG9uZSBmcm9tICdjbG9uZSc7XG5pbXBvcnQgeyBDb250ZW50VHlwZSwgRGVzZXJpYWxpemVUeXBlLCBEb2N1bWVudEVsZW1lbnRUeXBlLCBSZWN0YW5nbGUgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBPYmogfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgbG9va3VwUHJvcGVydHkgfSBmcm9tICcuL3Byb3BlcnR5TG9va3VwJztcblxudHlwZSBNYXBwZWRQcm9wVHlwZSA9IERlc2VyaWFsaXplVHlwZSB8ICdzdHJpbmcnIHwgJ2Jvb2xlYW4nIHwgJ251bWJlcicgfCAnYWJzdHJhY3QnO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1hcHBlZFByb3Age1xuXHRuYW1lPzogc3RyaW5nXG5cdHR5cGU/OiBNYXBwZWRQcm9wVHlwZVxuXHRlbmNvZGluZz86ICdkYXRlJyB8ICdyZWN0J1xuXHRhcnJheT86IGJvb2xlYW5cblx0b3B0aW9uYWw/OiBib29sZWFuXG5cdG1hcD86IGJvb2xlYW5cblx0YWJzdHJhY3RGaWVsZERlZmluaXRpb24/OiB7XG5cdFx0c3dpdGNoUHJvcGVydHk6IHN0cmluZ1xuXHRcdG1hcDogT2JqPHN0cmluZywgRGVzZXJpYWxpemVUeXBlPlxuXHR9XG5cdGRlcHJlY2F0ZWQ/OiBib29sZWFuXG59XG5cbmludGVyZmFjZSBGcm9udGVuZE1hcHBlZFByb3AgZXh0ZW5kcyBNYXBwZWRQcm9wIHtcblx0Z2VuZXJpY1R5cGU/OiBzdHJpbmdcblx0bWFwS2V5VHlwZT86IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZyb250ZW5kTWFwcGluZyBleHRlbmRzIE1hcHBpbmcge1xuXHRnZW5lcmljPzogR2VuZXJpY01hcHBpbmdbXVxuXHR1bmlvblZhbHVlcz86IHN0cmluZ1tdXG5cdGludGVyc2VjdGlvblZhbHVlcz86IHN0cmluZ1tdXG5cdG1hcHBlZFByb3BzOiBPYmo8c3RyaW5nLCBGcm9udGVuZE1hcHBlZFByb3A+XG59XG5cbmludGVyZmFjZSBHZW5lcmljTWFwcGluZyB7XG5cdHN5bWJvbDogc3RyaW5nXG5cdGV4dGVuZHNWYWx1ZT86IHN0cmluZ1xuXHRkZWZhdWx0VmFsdWU/OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYXBwaW5nIHtcblx0bWFwcGVkUHJvcHM6IE9iajxzdHJpbmcsIE1hcHBlZFByb3A+XG5cdGVudW1WYWx1ZXM/OiBzdHJpbmdbXVxuXHRwYXJlbnQ/OiBzdHJpbmdcblx0aW52ZXJ0ZWQ/OiBib29sZWFuXG5cdHZhbHVlTWFwcz86IFZhbHVlTWFwXG5cdGRlcHJlY2F0ZWQ/OiBib29sZWFuXG5cdGRvY3M/OiBzdHJpbmdcblx0cmVwbz86IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBGcm9udGVuZE1hcHBpbmdPYmogPSBPYmo8c3RyaW5nLCBGcm9udGVuZE1hcHBpbmc+XG5leHBvcnQgdHlwZSBNYXBwaW5nT2JqID0gT2JqPHN0cmluZywgTWFwcGluZz5cbmV4cG9ydCB0eXBlIE1hcHBpbmdzQXJyID0gTWFwcGluZ09ialtdXG50eXBlIFZhbHVlTWFwID0gT2JqPHN0cmluZywgT2JqPHN0cmluZywgc3RyaW5nPj5cblxudHlwZSBEZXNlcmlhbGl6ZVJldHVybjxUPiA9IFQgfCBUW10gfCBPYmo8c3RyaW5nLCBUPlxuXG5jb25zdCBwcmltaXRpdmVzID0ge1xuXHRzdHJpbmc6IHRydWUsXG5cdGJvb2xlYW46IHRydWUsXG5cdG51bWJlcjogdHJ1ZSxcbn07XG5cbi8vIGxldCBub2RlQnRvYSA9IGZhbHNlO1xuXG4vKlxuICogaWYgKHR5cGVvZiBhdG9iID09ICd1bmRlZmluZWQnKSB7XG4gKiBcdHZhciBhdG9iID0gZnVuY3Rpb24oc3RyOiBzdHJpbmcpIHtcbiAqIFx0XHRyZXR1cm4gQnVmZmVyLmZyb20oc3RyLCAnYmFzZTY0JykudG9TdHJpbmcoJ2JpbmFyeScpO1xuICogXHR9XG4gKiB9XG4gKi9cblxuLypcbiAqIGlmICh0eXBlb2YgYnRvYSA9PSAndW5kZWZpbmVkJykge1xuICogXHRub2RlQnRvYSA9IHRydWU7XG4gKiBcdHZhciBidG9hID0gZnVuY3Rpb24oc3RyOiBzdHJpbmcgfCBudW1iZXJbXSkge1xuICogXHRcdHJldHVybiBCdWZmZXIuZnJvbShzdHIgYXMgc3RyaW5nLCAnYmluYXJ5JykudG9TdHJpbmcoJ2Jhc2U2NCcpO1xuICogXHR9XG4gKiB9XG4gKi9cblxuLyogVGhpcyBzaG91bGQgYmUga2VwdCB1cCB0byBkYXRlIHdpdGggV3JhcHBlZENvbnRlbnREb2N1bWVudC5kb2N1bWVudC5hYnN0cmFjdEZpZWxkRGVmaW5pdGlvbiAqL1xuY29uc3QgQ29udGVudFR5cGVUb0Rlc2VyaWFsaXplVHlwZTogT2JqPENvbnRlbnRUeXBlLCBEZXNlcmlhbGl6ZVR5cGU+ID0ge1xuXHRCQVRUTEU6ICdCYXR0bGUnLFxuXHRTVE9SWV9QQUdFOiAnTWVtb3JpYWwnLFxuXHRDT01QQU5ZOiAnQ29tcGFueURldGFpbHMnLFxuXHRSRUdJTUVOVDogJ1JlZ2ltZW50Jyxcblx0SU1BR0U6ICdJbWFnZURhdGEnLFxuXHRJTkRFWF9SRUNPUkQ6ICdJbmRleFJlY29yZCcsXG5cdE1JTElUQVJZX1VOSVQ6ICdNaWxpdGFyeVVuaXQnLFxuXHRTVUJfSU1BR0U6ICdTdWJJbWFnZURhdGEnLFxuXHRTVUJKRUNUOiAnU3ViamVjdCcsXG59O1xuXG5jb25zdCBFbGVtZW50VHlwZVRvRGVzZXJpYWxpemVUeXBlOiBPYmo8RG9jdW1lbnRFbGVtZW50VHlwZSwgRGVzZXJpYWxpemVUeXBlPiA9IHtcblx0QkFDS0dST1VORF9JTUFHRTogJ01lbW9yaWFsQmFja2dyb3VuZEltYWdlJyxcblx0Q09WRVJfSU1BR0U6ICdNZW1vcmlhbENvdmVySW1hZ2UnLFxuXHRGQUNUOiAnTWVtb3JpYWxGYWN0Jyxcblx0RkFDVF9TT1VSQ0U6ICdNZW1vcmlhbEZhY3RTb3VyY2UnLFxuXHRQQVJUTkVSOiAnTWVtb3JpYWxQYXJ0bmVyJyxcblx0U09VUkNFOiAnTWVtb3JpYWxTb3VyY2UnLFxuXHRTVE9SWTogJ01lbW9yaWFsU3RvcnknLFxuXHRDT1JSRUNUSU9OOiAnQ29udGVudERvY3VtZW50Q29ycmVjdGlvbicsXG5cdENPTU1FTlQ6ICdDb250ZW50RG9jdW1lbnRDb21tZW50Jyxcblx0SU1BR0VfQU5OT1RBVElPTjogJ0ltYWdlQW5ub3RhdGlvbicsXG5cdExJTks6ICdDb250ZW50RG9jdW1lbnRMaW5rJyxcbn07XG5cbmV4cG9ydCBjbGFzcyBEZXNlcmlhbGl6ZXIge1xuXHRtYXBwaW5nczogTWFwcGluZ09iajtcblx0cmV2ZXJzZU1hcHBpbmdzOiBNYXBwaW5nT2JqO1xuXHRsb2dnZXI6IHsgd2FybjogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkIH07XG5cdHJldmVyc2U6IGJvb2xlYW47XG5cblx0YW5ub3RhdGlvblR5cGVzID0ge1xuXHRcdG46ICduYW1lJyxcblx0XHRkOiAnZGF0ZScsXG5cdFx0bDogJ2xvY2F0aW9uJyxcblx0XHR0OiAndHJhbnNjcmlwdGlvbicsXG5cdFx0YzogJ2NvbW1lbnQnLFxuXHR9O1xuXG5cdHJldmVyc2VBbm5vdGF0aW9uVHlwZXMgPSB7XG5cdFx0bmFtZTogJ24nLFxuXHRcdGRhdGU6ICdkJyxcblx0XHRsb2NhdGlvbjogJ2wnLFxuXHRcdHRyYW5zY3JpcHRpb246ICd0Jyxcblx0XHRjb21tZW50OiAnYycsXG5cdH07XG5cblx0Y29uc3RydWN0b3IobWFwcGluZ3M6IE1hcHBpbmdPYmosIGxvZ2dlcj86IHsgd2FybjogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkIH0pIHtcblx0XHR0aGlzLm1hcHBpbmdzID0gbWFwcGluZ3M7XG5cdFx0dGhpcy5yZXZlcnNlTWFwcGluZ3MgPSBudWxsO1xuXHRcdHRoaXMubG9nZ2VyID0gbG9nZ2VyIHx8IGNvbnNvbGU7XG5cdFx0dGhpcy5yZXZlcnNlID0gZmFsc2U7XG5cdH1cblxuXHRkZXNlcmlhbGl6ZTxUPihvYmplY3Q6IGFueSwgdHlwZTogRGVzZXJpYWxpemVUeXBlKTogRGVzZXJpYWxpemVSZXR1cm48VD4ge1xuXHRcdGxldCBjb3B5ID0gY2xvbmUob2JqZWN0LCBmYWxzZSk7XG5cblx0XHRpZiAodHlwZVswXSA9PSAnOicpIHtcblx0XHRcdHR5cGUgPSB0eXBlLnNsaWNlKDEpIGFzIERlc2VyaWFsaXplVHlwZTtcblxuXHRcdFx0Zm9yIChsZXQgayBpbiBjb3B5KSB7XG5cdFx0XHRcdGNvcHlba10gPSB0aGlzLmRlc2VyaWFsaXplKGNvcHlba10sIHR5cGUpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gY29weSBhcyBPYmo8c3RyaW5nLCBUPjtcblx0XHR9IGVsc2UgaWYgKGNvcHkgaW5zdGFuY2VvZiBBcnJheSkge1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjb3B5Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGNvcHlbaV0gPSB0aGlzLmRlc2VyaWFsaXplKGNvcHlbaV0sIHR5cGUpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGNvcHkgYXMgVFtdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5kZXNlcmlhbGl6ZU9iamVjdChjb3B5LCB0eXBlKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHNlcmlhbGl6ZUFic3RyYWN0KG9iamVjdDogYW55LCB0eXBlOiBzdHJpbmcsIHR5cGVNYXA6IE9iajxzdHJpbmcsIERlc2VyaWFsaXplVHlwZT4pIHtcblx0XHRsZXQgc2VyaWFsaXplVHlwZSA9IHR5cGVNYXBbdHlwZV07XG5cblx0XHRpZiAoIXNlcmlhbGl6ZVR5cGUpIHtcblx0XHRcdHRocm93IGAke3R5cGV9IGlzIG5vdCBhIHN1cHBvcnRlZCB0eXBlLiBBZGQgdHlwZSB0byB0eXBlIG1hcC5gO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnNlcmlhbGl6ZShvYmplY3QsIHNlcmlhbGl6ZVR5cGUpO1xuXHR9XG5cblx0c2VyaWFsaXplQWJzdHJhY3REb2N1bWVudChvYmplY3Q6IGFueSwgdHlwZTogQ29udGVudFR5cGUpIHtcblx0XHRyZXR1cm4gdGhpcy5zZXJpYWxpemVBYnN0cmFjdChvYmplY3QsIHR5cGUsIENvbnRlbnRUeXBlVG9EZXNlcmlhbGl6ZVR5cGUpO1xuXHR9XG5cblx0c2VyaWFsaXplQWJzdHJhY3RFbGVtZW50KG9iamVjdDogYW55LCB0eXBlOiBEb2N1bWVudEVsZW1lbnRUeXBlKSB7XG5cdFx0cmV0dXJuIHRoaXMuc2VyaWFsaXplQWJzdHJhY3Qob2JqZWN0LCB0eXBlLCBFbGVtZW50VHlwZVRvRGVzZXJpYWxpemVUeXBlKTtcblx0fVxuXG5cdHNlcmlhbGl6ZShvYmplY3Q6IGFueSwgdHlwZTogRGVzZXJpYWxpemVUeXBlKTogYW55IHtcblx0XHRpZiAoIXRoaXMucmV2ZXJzZU1hcHBpbmdzKSB7XG5cdFx0XHR0aGlzLnJldmVyc2VNYXBwaW5ncyA9IHRoaXMuY3JlYXRlUmV2ZXJzZU1hcHBpbmdzKHRoaXMubWFwcGluZ3MpO1xuXHRcdH1cblxuXHRcdC8vdGVtcG9yYXJ5IHN3YXBcblx0XHRsZXQgbWFwcGluZ3MgPSB0aGlzLm1hcHBpbmdzO1xuXHRcdHRoaXMubWFwcGluZ3MgPSB0aGlzLnJldmVyc2VNYXBwaW5ncztcblx0XHR0aGlzLnJldmVyc2UgPSB0cnVlO1xuXG5cdFx0Y29uc3QgcmVzdWx0ID0gdGhpcy5kZXNlcmlhbGl6ZShvYmplY3QsIHR5cGUpO1xuXG5cdFx0Ly9yZXN0b3JlIG1hcHBpbmdzXG5cdFx0dGhpcy5tYXBwaW5ncyA9IG1hcHBpbmdzO1xuXHRcdHRoaXMucmV2ZXJzZSA9IGZhbHNlO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdGRlY29kZShkYXRhOiBhbnksIGVuY29kaW5nVHlwZTogJ3JlY3QnIHwgJ3JlY3RzJyB8ICdhbm50eXBlJyB8ICdkYXRlJykge1xuXHRcdGxldCBmbjogYW55O1xuXG5cdFx0c3dpdGNoIChlbmNvZGluZ1R5cGUpIHtcblx0XHRcdGNhc2UgJ3JlY3QnOiBmbiA9IHRoaXMuZGVjb2RlUmVjdDsgYnJlYWs7XG5cdFx0XHRjYXNlICdyZWN0cyc6IGZuID0gdGhpcy5kZWNvZGVSZWN0czsgYnJlYWs7XG5cdFx0XHRjYXNlICdhbm50eXBlJzogZm4gPSB0aGlzLmRlY29kZUFubnR5cGU7IGJyZWFrO1xuXHRcdFx0Y2FzZSAnZGF0ZSc6IGZuID0gdGhpcy5kZWNvZGVEYXRlOyBicmVhaztcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIGZuICE9ICdmdW5jdGlvbicpIHtcblx0XHRcdHRocm93IEVycm9yKCdVbnJlY29nbml6ZWQgZW5jb2RpbmcgdHlwZSAnICsgZW5jb2RpbmdUeXBlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBkYXRhKTtcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlUmV2ZXJzZU1hcHBpbmdzKG1hcHBpbmdzOiBNYXBwaW5nT2JqKSB7XG5cdFx0bGV0IHJldmVyc2VNYXBwaW5ncyA9IGNsb25lKG1hcHBpbmdzLCBmYWxzZSk7XG5cblx0XHRmb3IgKGxldCB0eXBlIGluIHJldmVyc2VNYXBwaW5ncykge1xuXHRcdFx0bGV0IG1hcHBpbmcgPSByZXZlcnNlTWFwcGluZ3NbdHlwZV07XG5cblx0XHRcdC8vc3dhcCB0aGUgc2hvcnQgKHNlcmlhbGl6ZWQpIGFuZCBsb25nIChkZXNlcmlhbGl6ZWQpIHByb3BlcnR5IG5hbWVzXG5cdFx0XHRmb3IgKGxldCBzaG9ydE5hbWUgaW4gbWFwcGluZy5tYXBwZWRQcm9wcykge1xuXHRcdFx0XHRsZXQgbWFwcGVkUHJvcCA9IG1hcHBpbmcubWFwcGVkUHJvcHNbc2hvcnROYW1lXTtcblx0XHRcdFx0bGV0IGxvbmdOYW1lID0gbWFwcGVkUHJvcC5uYW1lIHx8IHNob3J0TmFtZTtcblx0XHRcdFx0aWYgKHNob3J0TmFtZSAhPSBsb25nTmFtZSkge1xuXHRcdFx0XHRcdG1hcHBpbmcubWFwcGVkUHJvcHNbbG9uZ05hbWVdID0gbWFwcGVkUHJvcDtcblx0XHRcdFx0XHRtYXBwZWRQcm9wLm5hbWUgPSBzaG9ydE5hbWU7XG5cdFx0XHRcdFx0ZGVsZXRlIG1hcHBpbmcubWFwcGVkUHJvcHNbc2hvcnROYW1lXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZiB0aGVyZSBhcmUgbWFwcGVkIHZhbHVlcywgc3dhcCB0aG9zZSB0b29cblx0XHRcdGlmIChtYXBwaW5nLnZhbHVlTWFwcykge1xuXHRcdFx0XHRmb3IgKGxldCBtYXBOYW1lIGluIG1hcHBpbmcudmFsdWVNYXBzKSB7XG5cdFx0XHRcdFx0bGV0IG1hcCA9IG1hcHBpbmcudmFsdWVNYXBzW21hcE5hbWVdO1xuXHRcdFx0XHRcdGZvciAobGV0IGtleSBpbiBtYXApIHtcblx0XHRcdFx0XHRcdGxldCB2YWx1ZSA9IG1hcFtrZXldO1xuXHRcdFx0XHRcdFx0aWYgKGtleSAhPSB2YWx1ZSkge1xuXHRcdFx0XHRcdFx0XHRtYXBbdmFsdWVdID0ga2V5O1xuXHRcdFx0XHRcdFx0XHRkZWxldGUgbWFwW2tleV07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldmVyc2VNYXBwaW5ncztcblx0fVxuXG5cdHByaXZhdGUgZGVzZXJpYWxpemVPYmplY3Qob2JqZWN0OiBhbnksIG9iamVjdFR5cGU6IERlc2VyaWFsaXplVHlwZSwgZGVzZXJpYWxpemVBYnN0cmFjdDogYm9vbGVhbiA9IGZhbHNlKTogYW55IHtcblx0XHRpZiAoIW9iamVjdCkgcmV0dXJuIG9iamVjdDtcblx0XHRsZXQgb2JqZWN0TWFwID0gdGhpcy5tYXBwaW5nc1tvYmplY3RUeXBlXTtcblx0XHRpZiAoIW9iamVjdE1hcCkge1xuXHRcdFx0cmV0dXJuIG9iamVjdDtcblxuXHRcdFx0Ly90aHJvdyBFcnJvcignVW5yZWNvZ25pemVkIG9iamVjdCB0eXBlOiAnICsgb2JqZWN0VHlwZSk7XG5cdFx0fVxuXG5cdFx0bGV0IGZvdW5kQWJzdHJhY3QgPSBmYWxzZTtcblx0XHRsZXQgdmFsdWVNYXBzID0gb2JqZWN0TWFwLnZhbHVlTWFwcztcblxuXHRcdGlmIChvYmplY3RNYXAuaW52ZXJ0ZWQpIHtcblx0XHRcdGxldCBsaXN0OiBhbnlbXSA9IFtdO1xuXHRcdFx0Zm9yIChsZXQgc2hvcnROYW1lIGluIG9iamVjdCkge1xuXHRcdFx0XHRsZXQgcHJvcExpc3QgPSBvYmplY3Rbc2hvcnROYW1lXTtcblx0XHRcdFx0bGV0IG1hcHBpbmcgPSBvYmplY3RNYXAubWFwcGVkUHJvcHNbc2hvcnROYW1lXTtcblx0XHRcdFx0bGV0IGxvbmdOYW1lID0gbWFwcGluZyAmJiBtYXBwaW5nLm5hbWUgfHwgc2hvcnROYW1lO1xuXHRcdFx0XHRsZXQgdHlwZSA9IG1hcHBpbmcgJiYgbWFwcGluZy50eXBlO1xuXHRcdFx0XHRsZXQgZW5jb2RpbmcgPSBtYXBwaW5nICYmIG1hcHBpbmcuZW5jb2Rpbmc7XG5cblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGlmICghbGlzdFtpXSkgbGlzdFtpXSA9IHt9O1xuXHRcdFx0XHRcdGxpc3RbaV1bbG9uZ05hbWVdID0gcHJvcExpc3RbaV07XG5cblx0XHRcdFx0XHRpZiAodHlwZSAmJiAhKHR5cGUgaW4gcHJpbWl0aXZlcykpIHtcblx0XHRcdFx0XHRcdGxpc3RbaV1bbG9uZ05hbWVdID0gdGhpcy5kZXNlcmlhbGl6ZShsaXN0W2ldW2xvbmdOYW1lXSwgdHlwZSBhcyBEZXNlcmlhbGl6ZVR5cGUpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vY2VydGFpbiBzdHJpbmcgdmFsdWVzIChyZWN0YW5nbGVzIGFuZCBhbm5vdGF0aW9uIHR5cGVzKSBuZWVkIHRvIGJlIGRlY29kZWRcblx0XHRcdFx0XHRpZiAoZW5jb2RpbmcpIHtcblx0XHRcdFx0XHRcdGxpc3RbaV1bbG9uZ05hbWVdID0gdGhpcy5kZWNvZGUobGlzdFtpXVtsb25nTmFtZV0sIGVuY29kaW5nKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmICh2YWx1ZU1hcHMpIHtcblx0XHRcdFx0dGhpcy5yZXN0b3JlTWFwcGVkVmFsdWVzKGxpc3QsIHZhbHVlTWFwcywgb2JqZWN0KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBsaXN0O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKGxldCBzaG9ydE5hbWUgaW4gb2JqZWN0KSB7XG5cdFx0XHRcdC8vIGxldCB2YWx1ZSA9IG9iamVjdFtzaG9ydE5hbWVdO1xuXHRcdFx0XHRsZXQgbWFwcGluZyA9IG9iamVjdE1hcC5tYXBwZWRQcm9wc1tzaG9ydE5hbWVdO1xuXG5cdFx0XHRcdGlmICghbWFwcGluZykgY29udGludWU7XG5cdFx0XHRcdGlmIChtYXBwaW5nLnR5cGUgPT09ICdhYnN0cmFjdCcgJiYgIWRlc2VyaWFsaXplQWJzdHJhY3QpIHtcblx0XHRcdFx0XHRmb3VuZEFic3RyYWN0ID0gdHJ1ZTtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGxldCBsb25nTmFtZSA9IG1hcHBpbmcubmFtZSB8fCBzaG9ydE5hbWU7XG5cdFx0XHRcdGxldCB0eXBlID0gbWFwcGluZy50eXBlO1xuXHRcdFx0XHRsZXQgZW5jb2RpbmcgPSBtYXBwaW5nLmVuY29kaW5nO1xuXG5cdFx0XHRcdGlmICh0eXBlID09PSAnYWJzdHJhY3QnICYmIGRlc2VyaWFsaXplQWJzdHJhY3QgJiYgIXRoaXMucmV2ZXJzZSkge1xuXHRcdFx0XHRcdGNvbnN0IHsgc3dpdGNoUHJvcGVydHksIG1hcCB9ID0gbWFwcGluZy5hYnN0cmFjdEZpZWxkRGVmaW5pdGlvbjtcblx0XHRcdFx0XHRsb29rdXBQcm9wZXJ0eShvYmplY3QsIHN3aXRjaFByb3BlcnR5LCBzd2l0Y2hWYWwgPT4ge1xuXHRcdFx0XHRcdFx0dHlwZSA9IG1hcFtzd2l0Y2hWYWxdO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGxvbmdOYW1lICE9PSBzaG9ydE5hbWUpIHtcblx0XHRcdFx0XHRvYmplY3RbbG9uZ05hbWVdID0gb2JqZWN0W3Nob3J0TmFtZV07XG5cdFx0XHRcdFx0ZGVsZXRlIG9iamVjdFtzaG9ydE5hbWVdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHR5cGUgJiYgISh0eXBlIGluIHByaW1pdGl2ZXMpKSB7XG5cdFx0XHRcdFx0aWYgKG1hcHBpbmcubWFwKSB7XG5cdFx0XHRcdFx0XHR0eXBlID0gKCc6JyArIHR5cGUpIGFzIERlc2VyaWFsaXplVHlwZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0b2JqZWN0W2xvbmdOYW1lXSA9IHRoaXMuZGVzZXJpYWxpemUob2JqZWN0W2xvbmdOYW1lXSwgdHlwZSBhcyBEZXNlcmlhbGl6ZVR5cGUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly9jZXJ0YWluIHN0cmluZyB2YWx1ZXMgKHJlY3RhbmdsZXMgYW5kIGFubm90YXRpb24gdHlwZXMpIG5lZWQgdG8gYmUgZGVjb2RlZFxuXHRcdFx0XHRpZiAoZW5jb2RpbmcpIHtcblx0XHRcdFx0XHRvYmplY3RbbG9uZ05hbWVdID0gdGhpcy5kZWNvZGUob2JqZWN0W2xvbmdOYW1lXSwgZW5jb2RpbmcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHZhbHVlTWFwcykge1xuXHRcdFx0XHRcdHRoaXMucmVzdG9yZU1hcHBlZFZhbHVlcyhvYmplY3QsIHZhbHVlTWFwcyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCFkZXNlcmlhbGl6ZUFic3RyYWN0ICYmIGZvdW5kQWJzdHJhY3QpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZGVzZXJpYWxpemVPYmplY3Qob2JqZWN0LCBvYmplY3RUeXBlLCB0cnVlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBvYmplY3Q7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSByZXN0b3JlTWFwcGVkVmFsdWVzKG9iamVjdDogYW55LCBtYXBzOiBWYWx1ZU1hcCwgc291cmNlT2JqZWN0PzogYW55KSB7XG5cdFx0aWYgKCFvYmplY3QgfHwgIW1hcHMpIHJldHVybjtcblxuXHRcdHNvdXJjZU9iamVjdCA9IHNvdXJjZU9iamVjdCB8fCBvYmplY3Q7XG5cblx0XHRmb3IgKGxldCBtYXBOYW1lIGluIG1hcHMpIHtcblx0XHRcdC8vdGhpcyBpcyB0aGUgbWFwIG9mIHNob3J0IHZhbHVlcyB0byBsb25nIG9uZXNcblx0XHRcdGxldCB2YWx1ZU1hcCA9IHNvdXJjZU9iamVjdFttYXBOYW1lXTtcblxuXHRcdFx0Ly90aGlzIGlzIHRoZSBtYXAgb2YgbmFtZXMgb2YgbWFwcGVkIHByb3BlcnRpZXMgYW5kIHRoZSBuYW1lcyB0aGV5IG1hcCB0b1xuXHRcdFx0bGV0IHByb3BlcnR5TWFwID0gbWFwc1ttYXBOYW1lXTtcblxuXHRcdFx0bGV0IGRlc3RQcm9wTmFtZTogc3RyaW5nO1xuXHRcdFx0bGV0IG1hcHBlZFByb3A6IHN0cmluZztcblx0XHRcdGZvciAobWFwcGVkUHJvcCBpbiBwcm9wZXJ0eU1hcCkge1xuXHRcdFx0XHRkZXN0UHJvcE5hbWUgPSBwcm9wZXJ0eU1hcFttYXBwZWRQcm9wXTtcblx0XHRcdH1cblxuXHRcdFx0Lypcblx0XHRcdCAqIGxldCBzb3VyY2VQYXRoID0gcHJvcGVydHlNYXAua2V5O1xuXHRcdFx0ICogbGV0IGRlc3RpbmF0aW9uTmFtZSA9IHByb3BlcnR5TWFwLnZhbHVlO1xuXHRcdFx0ICovXG5cblx0XHRcdGxvb2t1cFByb3BlcnR5KG9iamVjdCwgbWFwcGVkUHJvcCwgZnVuY3Rpb24odmFsdWUsIHBhcmVudCwgbmFtZSkge1xuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlTWFwW3ZhbHVlXSB8fCB2YWx1ZTtcblx0XHRcdFx0bGV0IGRlc3ROYW1lID0gZGVzdFByb3BOYW1lIHx8IG5hbWU7XG5cdFx0XHRcdGRlbGV0ZSBwYXJlbnRbbmFtZV07XG5cdFx0XHRcdHBhcmVudFtkZXN0TmFtZV0gPSB2YWx1ZTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgcmVhZENvbXByZXNzZWROdW1iZXIoYnl0ZXM6IG51bWJlcltdKSB7XG5cdFx0bGV0IHZhbHVlID0gMCwgZG9uZSA9IGZhbHNlO1xuXHRcdHdoaWxlICghZG9uZSkge1xuXHRcdFx0bGV0IG5leHQgPSBieXRlcy5zaGlmdCgpO1xuXHRcdFx0aWYgKG5leHQgPT0gdW5kZWZpbmVkKSB0aHJvdyBFcnJvcignVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQnKTtcblxuXHRcdFx0ZG9uZSA9IChuZXh0ICYgMHg4MCkgPT0gMDtcblx0XHRcdHZhbHVlID0gdmFsdWUgPDwgNyB8IG5leHQgJiAweDdmO1xuXHRcdH1cblxuXHRcdHJldHVybiB2YWx1ZTtcblx0fVxuXG5cdHByaXZhdGUgd3JpdGVDb21wcmVzc2VkTnVtYmVyKG51bWJlcjogbnVtYmVyLCBieXRlczogbnVtYmVyW10pIHtcblx0XHQvKlxuXHRcdCAqIGphdmFzY3JpcHQgY2FuIG9ubHkgZG8gYml0d2lzZSBvcGVyYXRpb25zIG9uIDMyIGJpdCBudW1iZXJzLFxuXHRcdCAqIGJ1dCB0aGUgbGFyZ2VzdCBpbWFnZSAoVmlldG5hbSB3YWxsKSBpcyAzOTU0NjFweCB3aWRlLCB3aGljaFxuXHRcdCAqIGlzIG9ubHkgMTktYml0IG51bWJlciwgc28gdGhpcyBmdW5jdGlvbiBpcyBzYWZlIHVudGlsIHdlIGdldFxuXHRcdCAqIGFuIGltYWdlIHRoYXQgaXMgbGFyZ2VyIHRoYW4gNDI5NDk2NzI5NnB4IGluIGEgc2luZ2xlIGRpbWVuc2lvbi5cblx0XHQgKi9cblx0XHRsZXQgc2hpZnQgPSA3ICogMztcblx0XHRsZXQgbWFzayA9IDB4N2YgPDwgc2hpZnQ7XG5cblx0XHQvLyBza2lwIHBhc3QgbGVhZGluZyB6ZXJvc1xuXHRcdHdoaWxlICgobnVtYmVyICYgbWFzaykgPT0gMCAmJiBzaGlmdCA+IDApIHtcblx0XHRcdG1hc2sgPj49IDc7XG5cdFx0XHRzaGlmdCAtPSA3O1xuXHRcdH1cblxuXHRcdHdoaWxlIChzaGlmdCA+IDApIHtcblx0XHRcdGJ5dGVzLnB1c2goKG51bWJlciAmIG1hc2spID4+IHNoaWZ0IHwgMHg4MCk7XG5cdFx0XHRtYXNrID4+PSA3O1xuXHRcdFx0c2hpZnQgLT0gNztcblx0XHR9XG5cblx0XHRieXRlcy5wdXNoKG51bWJlciAmIG1hc2spO1xuXHR9XG5cblx0cHJpdmF0ZSBkZWNvZGVSZWN0cyh0eXBlOiBzdHJpbmcpIHtcblx0XHRsZXQgc2VyaWFsaXplZFJlY3RzID0gdHlwZS5zcGxpdCgnICcpLFxuXHRcdFx0ZGVzZXJpYWxpemVkUmVjdHMgPSBbXTtcblxuXHRcdC8qXG5cdFx0ICogYSByZXN1bHQgb2Ygbm8gcmVjdHMgaXMgYW4gZW1wdHkgc3RyaW5nIGFuZCAnJy5zcGxpdCgnICcpIC0+IFsnJ11cblx0XHQgKiBzbywganVzdCBjaGVjayB0aGF0IHRoZSBmaXJzdCBvYmplY3QgaW4gdGhlIGFycmF5IGlzIGxlZ2l0aW1hdGVcblx0XHQgKi9cblx0XHRpZiAoc2VyaWFsaXplZFJlY3RzWzBdKSB7XG5cdFx0XHRmb3IgKGxldCBpID0gMCwgbCA9IHNlcmlhbGl6ZWRSZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdFx0ZGVzZXJpYWxpemVkUmVjdHMucHVzaCh0aGlzLmRlY29kZVJlY3Qoc2VyaWFsaXplZFJlY3RzW2ldKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBkZXNlcmlhbGl6ZWRSZWN0cztcblx0fVxuXG5cdHByaXZhdGUgZGVjb2RlUmVjdChyOiBSZWN0YW5nbGUpOiBzdHJpbmc7XG5cdHByaXZhdGUgZGVjb2RlUmVjdChyOiBzdHJpbmcpOiBSZWN0YW5nbGU7XG5cdHByaXZhdGUgZGVjb2RlUmVjdChyOiBSZWN0YW5nbGUgfCBzdHJpbmcpOiBSZWN0YW5nbGUgfCBzdHJpbmcge1xuXHRcdGlmICghcikgcmV0dXJuIHI7XG5cblx0XHRpZiAoIXRoaXMucmV2ZXJzZSkge1xuXHRcdFx0Ly9hZGFwdGVkIGZyb20gUmVjdGFuZ2xlLmZyb21EYXRhYmFzZVZhbHVlIGluIGRldi1iYWNrZW5kXG5cdFx0XHRsZXQgcm90LCB4LCB5LCB3LCBoO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRsZXQgYnl0ZXMgPSBhdG9iKHIgYXMgc3RyaW5nKS5zcGxpdCgnJylcblx0XHRcdFx0XHQubWFwKGZ1bmN0aW9uKGMpIHsgcmV0dXJuIGMuY2hhckNvZGVBdCgwKTsgfSk7XG5cblxuXHRcdFx0XHRyb3QgPSAoYnl0ZXMuc2hpZnQoKSAmIDMpICogOTA7XG5cdFx0XHRcdHggPSB0aGlzLnJlYWRDb21wcmVzc2VkTnVtYmVyKGJ5dGVzKTtcblx0XHRcdFx0eSA9IHRoaXMucmVhZENvbXByZXNzZWROdW1iZXIoYnl0ZXMpO1xuXHRcdFx0XHR3ID0gdGhpcy5yZWFkQ29tcHJlc3NlZE51bWJlcihieXRlcyk7XG5cdFx0XHRcdGggPSB0aGlzLnJlYWRDb21wcmVzc2VkTnVtYmVyKGJ5dGVzKTtcblx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHQvLyBpZiB3ZSBzZWUgdGhlIG9sZCBmb3JtYXQsIGp1c3QgcHJldGVuZCBpdCdzIDAsMCwwLDAsMFxuXHRcdFx0XHR0aGlzLmxvZ2dlci53YXJuKCdpbmNvcnJlY3RseSBmb3JtYXR0ZWQgcmVjdGFuZ2xlJywgZSk7XG5cdFx0XHRcdHggPSAwLCB5ID0gMCwgdyA9IDAsIGggPSAwLCByb3QgPSAwO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgcmVjdCA9IHtcblx0XHRcdFx0cm90LFxuXHRcdFx0XHR4LFxuXHRcdFx0XHR5LFxuXHRcdFx0XHR3LFxuXHRcdFx0XHRoLFxuXHRcdFx0fTtcblxuXHRcdFx0cmV0dXJuIHJlY3QgYXMgYW55IGFzIFJlY3RhbmdsZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly9hZGFwdGVkIGZyb20gUmVjdGFuZ2xlLmZyb21EYXRhYmFzZVZhbHVlIGluIGRldi1iYWNrZW5kXG5cdFx0XHRsZXQgYnl0ZXMgPSBbXTtcblx0XHRcdHIgPSByIGFzIFJlY3RhbmdsZTtcblxuXHRcdFx0aWYgKHIueCA8IDAgfHwgci55IDwgMCB8fCByLncgPCAwIHx8IHIuaCA8IDApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJlY3RhbmdsZTogJyArIHIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBlbmNvZGUgdGhlIG9yaWVudGF0aW9uXG5cdFx0XHRieXRlcy5wdXNoKHIucm90YXRpb24gLyA5MCB8IDB4ODApO1xuXHRcdFx0dGhpcy53cml0ZUNvbXByZXNzZWROdW1iZXIoci54LCBieXRlcyk7XG5cdFx0XHR0aGlzLndyaXRlQ29tcHJlc3NlZE51bWJlcihyLnksIGJ5dGVzKTtcblx0XHRcdHRoaXMud3JpdGVDb21wcmVzc2VkTnVtYmVyKHIudywgYnl0ZXMpO1xuXHRcdFx0dGhpcy53cml0ZUNvbXByZXNzZWROdW1iZXIoci5oLCBieXRlcyk7XG5cblx0XHRcdC8qXG5cdFx0XHQgKiBpZiAobm9kZUJ0b2EpIHtcblx0XHRcdCAqIFx0cmV0dXJuIGJ0b2EoYnl0ZXMpO1xuXHRcdFx0ICogfVxuXHRcdFx0ICogZWxzZSB7XG5cdFx0XHQgKi9cblx0XHRcdGxldCBjaGFycyA9IGJ5dGVzLm1hcChmdW5jdGlvbihiKSB7IHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGIpOyB9KS5qb2luKCcnKTtcblx0XHRcdHJldHVybiBidG9hKGNoYXJzKTtcblxuXHRcdFx0Ly8gfVxuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgZGVjb2RlQW5udHlwZSh0eXBlOiBzdHJpbmcpIHtcblx0XHRsZXQgdHlwZXM6IE9iaiA9IHRoaXMucmV2ZXJzZSA/IHRoaXMucmV2ZXJzZUFubm90YXRpb25UeXBlcyA6IHRoaXMuYW5ub3RhdGlvblR5cGVzO1xuXHRcdHJldHVybiB0eXBlc1t0eXBlXSB8fCB0eXBlO1xuXHR9XG5cblx0cHJpdmF0ZSBkZWNvZGVEYXRlKGRhdGU6IHN0cmluZykge1xuXHRcdC8qXG5cdFx0ICogVGhlIGJhY2tlbmQgcmV0dXJucyB0aGUgZGF0ZSBpbiB0aGlzIGZvcm1hdDogJzIwMTUtMDktMThUMTM6MzI6MjctMDYwMCdcblx0XHQgKiBTYWZhcmksIGFuZCBJRSByZXF1aXJlIHRoZSBkYXRlIGxpa2UgdGhpczogICAnMjAxNS0wOS0xOFQxMzozMjoyNy0wNjowMCcgKGNvbG9uIGluIHRpbWV6b25lKVxuXHRcdCAqL1xuXHRcdGlmICghdGhpcy5yZXZlcnNlKSB7XG5cdFx0XHRsZXQgdGltZXpvbmVSZWdleCA9IC9bKy1dXFxkezR9JC87XG5cblx0XHRcdGlmICh0aW1lem9uZVJlZ2V4LnRlc3QoZGF0ZSkpIHtcblx0XHRcdFx0ZGF0ZSA9IGRhdGUuc2xpY2UoMCwgLTIpICsgJzonICsgZGF0ZS5zbGljZSgtMik7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxldCB0aW1lem9uZVJlZ2V4ID0gL1srLV1cXGR7Mn06XFxkezJ9JC87XG5cblx0XHRcdGlmICh0aW1lem9uZVJlZ2V4LnRlc3QoZGF0ZSkpIHtcblx0XHRcdFx0Ly9kcm9wIHRoZSBjb2xvblxuXHRcdFx0XHRkYXRlID0gZGF0ZS5zbGljZSgwLCAtMykgKyBkYXRlLnNsaWNlKC0yKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvL2tlZXAgZGF0ZXMgYXMgc3RyaW5ncyB0byByZWR1Y2Ugb3ZlcmhlYWQgYW5kIGF2b2lkIHRoZW0gYmVpbmcgcmUtc2VyaWFsaXplZCB3aGVuIHBhc3NlZCB0byB0aGUgY2xpZW50XG5cdFx0cmV0dXJuIGRhdGU7XG5cdH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///21147\n")},69195:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   S: () => (/* binding */ ErrorBoundary)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(70655);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_ErrorMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(29319);\n\n\n;\n\nvar ErrorBoundary = /** @class */ (function (_super) {\n    (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__extends */ .ZT)(ErrorBoundary, _super);\n    function ErrorBoundary() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            renderError: null,\n        };\n        return _this;\n    }\n    ErrorBoundary.prototype.componentDidCatch = function (error, info) {\n        this.setState({\n            renderError: { error: error, info: info },\n        });\n    };\n    ErrorBoundary.prototype.render = function () {\n        if (!this.state.renderError) {\n            return this.props.children;\n        }\n        var _a = this.state.renderError, error = _a.error, info = _a.info;\n        if (error) {\n            var message = 'Something unexpected happened here.';\n            return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_components_ErrorMessage__WEBPACK_IMPORTED_MODULE_2__/* .ErrorMessage */ .B, { error: {\n                    name: error.name,\n                    message: error.message,\n                    componentStack: info.componentStack.replace(/^\\s+|\\s+$/g, '').split('\\n'),\n                }, message: message });\n        }\n    };\n    return ErrorBoundary;\n}((react__WEBPACK_IMPORTED_MODULE_0___default().Component)));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjkxOTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUFBO0FBRUE7QUFVQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUEyQkE7QUF6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9FcnJvckJvdW5kYXJ5LnRzeD83OGZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7IDtcbmltcG9ydCB7IEVycm9ySW5mbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEVycm9yTWVzc2FnZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvRXJyb3JNZXNzYWdlJztcblxuaW50ZXJmYWNlIEVycm9yQm91bmRhcnlTdGF0ZSB7XG5cdHJlbmRlckVycm9yOiB7IGVycm9yOiBFcnJvcjsgaW5mbzogRXJyb3JJbmZvIH1cbn1cblxuaW50ZXJmYWNlIEVycm9yQm91bmRhcnlQcm9wcyB7XG5cdGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVcbn1cblxuZXhwb3J0IGNsYXNzIEVycm9yQm91bmRhcnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8RXJyb3JCb3VuZGFyeVByb3BzPiB7XG5cdHN0YXRlOiBFcnJvckJvdW5kYXJ5U3RhdGUgPSB7XG5cdFx0cmVuZGVyRXJyb3I6IG51bGwsXG5cdH07XG5cblx0Y29tcG9uZW50RGlkQ2F0Y2goZXJyb3I6IEVycm9yLCBpbmZvOiBFcnJvckluZm8pIHtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdHJlbmRlckVycm9yOiB7IGVycm9yLCBpbmZvIH0sXG5cdFx0fSk7XG5cdH1cblxuXHRyZW5kZXIoKSB7XG5cdFx0aWYgKCF0aGlzLnN0YXRlLnJlbmRlckVycm9yKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcblx0XHR9XG5cblx0XHRsZXQgeyBlcnJvciwgaW5mbyB9ID0gdGhpcy5zdGF0ZS5yZW5kZXJFcnJvcjtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0bGV0IG1lc3NhZ2UgPSAnU29tZXRoaW5nIHVuZXhwZWN0ZWQgaGFwcGVuZWQgaGVyZS4nO1xuXHRcdFx0cmV0dXJuIDxFcnJvck1lc3NhZ2Vcblx0XHRcdFx0ZXJyb3I9e3tcblx0XHRcdFx0XHRuYW1lOiBlcnJvci5uYW1lLFxuXHRcdFx0XHRcdG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG5cdFx0XHRcdFx0Y29tcG9uZW50U3RhY2s6IGluZm8uY29tcG9uZW50U3RhY2sucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpLnNwbGl0KCdcXG4nKSxcblx0XHRcdFx0fX1cblx0XHRcdFx0bWVzc2FnZT17bWVzc2FnZX1cblx0XHRcdC8+O1xuXHRcdH1cblx0fVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///69195\n")},7032:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HI: () => (/* binding */ filterDefaultValues),\n/* harmony export */   Sk: () => (/* binding */ removeFalsy),\n/* harmony export */   hS: () => (/* binding */ reverseObj)\n/* harmony export */ });\n/* unused harmony exports deepSortKeys, sortKeys */\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70655);\n/* harmony import */ var _deepCompare__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(85695);\n\n\nvar deepSortKeys = function (obj) {\n    if (typeof obj === 'object' && obj !== null && !Array.isArray(obj)) {\n        var newObj = {};\n        for (var key in obj) {\n            newObj[key] = deepSortKeys(obj[key]);\n        }\n        return sortKeys(newObj);\n    }\n    else {\n        return obj;\n    }\n};\nvar sortKeys = function (obj) {\n    var keys = Object.keys(obj).sort();\n    return keys.reduce(function (finalObj, key) {\n        finalObj[key] = obj[key];\n        return finalObj;\n    }, {});\n};\nvar removeFalsy = function (obj) {\n    return Object.keys(obj).filter(function (k) {\n        return obj[k] !== null && obj[k] !== undefined;\n    })\n        .reduce(function (a, k) {\n        var _a;\n        return ((0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__assign */ .pi)((0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__assign */ .pi)({}, a), (_a = {}, _a[k] = obj[k], _a)));\n    }, {});\n};\nfunction filterDefaultValues(defaultObj, obj, filterNested) {\n    var e_1, _a;\n    var copy = JSON.parse(JSON.stringify(obj));\n    try {\n        for (var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__values */ .XA)(Object.entries(copy)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var _d = (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__read */ .CR)(_c.value, 2), key = _d[0], val = _d[1];\n            if (val === null ||\n                Array.isArray(val) && val.length === 0 ||\n                typeof val === 'string' && val === '' ||\n                (0,_deepCompare__WEBPACK_IMPORTED_MODULE_1__/* [\"default\"] */ .Z)(defaultObj[key], val)) {\n                delete copy[key];\n            }\n            else if (typeof val === 'object' && typeof filterNested === 'function') {\n                var handled = filterNested(key, val);\n                if (handled !== false) {\n                    copy[key] = handled;\n                }\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return copy;\n}\nfunction reverseObj(obj) {\n    return Object.entries(obj).reduce(function (finalObj, _a) {\n        var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__read */ .CR)(_a, 2), key = _b[0], val = _b[1];\n        finalObj[val] = key;\n        return finalObj;\n    }, {});\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzAzMi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUFBO0FBSEE7QUFLQTs7QUFDQTs7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvT2JqZWN0VXRpbHMudHM/MTMyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYmogfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IGRlZXBDb21wYXJlIGZyb20gJy4vZGVlcENvbXBhcmUnO1xuXG5leHBvcnQgY29uc3QgZGVlcFNvcnRLZXlzID0gPFQ+KG9iajogVCkgPT4ge1xuXHRpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsICYmICFBcnJheS5pc0FycmF5KG9iaikpIHtcblx0XHRsZXQgbmV3T2JqOiBPYmogPSB7fTtcblx0XHRmb3IgKGxldCBrZXkgaW4gb2JqKSB7XG5cdFx0XHRuZXdPYmpba2V5XSA9IGRlZXBTb3J0S2V5cyhvYmpba2V5XSk7XG5cdFx0fVxuXHRcdHJldHVybiBzb3J0S2V5cyhuZXdPYmopO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBvYmo7XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCBzb3J0S2V5cyA9IDxUPihvYmo6IFQpID0+IHtcblx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaikuc29ydCgpO1xuXG5cdHJldHVybiBrZXlzLnJlZHVjZSgoZmluYWxPYmosIGtleSkgPT4ge1xuXHRcdChmaW5hbE9iaiBhcyBhbnkpW2tleV0gPSAob2JqIGFzIGFueSlba2V5XTtcblx0XHRyZXR1cm4gZmluYWxPYmo7XG5cdH0sIHt9IGFzIFQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZUZhbHN5ID0gKG9iajogYW55KSA9PlxuXHRPYmplY3Qua2V5cyhvYmopLmZpbHRlcihrID0+IHtcblx0XHRyZXR1cm4gb2JqW2tdICE9PSBudWxsICYmIG9ialtrXSAhPT0gdW5kZWZpbmVkO1xuXHR9KVxuXHRcdC5yZWR1Y2UoKGEsIGspID0+ICh7IC4uLmEsIFtrXTogb2JqW2tdIH0pLCB7fSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJEZWZhdWx0VmFsdWVzPFQgZXh0ZW5kcyBPYmo+KGRlZmF1bHRPYmo6IE9iaiwgb2JqOiBULCBmaWx0ZXJOZXN0ZWQ/OiAoa2V5OiBzdHJpbmcsIHZhbDogYW55KSA9PiBhbnkpOiBUIHtcblx0bGV0IGNvcHkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xuXG5cdGZvciAobGV0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoY29weSkpIHtcblx0XHRpZiAoXG5cdFx0XHR2YWwgPT09IG51bGwgfHxcblx0XHRcdEFycmF5LmlzQXJyYXkodmFsKSAmJiB2YWwubGVuZ3RoID09PSAwIHx8XG5cdFx0XHR0eXBlb2YgdmFsID09PSAnc3RyaW5nJyAmJiB2YWwgPT09ICcnIHx8XG5cdFx0XHRkZWVwQ29tcGFyZShkZWZhdWx0T2JqW2tleV0sIHZhbClcblx0XHQpIHtcblx0XHRcdGRlbGV0ZSBjb3B5W2tleV07XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgZmlsdGVyTmVzdGVkID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRsZXQgaGFuZGxlZCA9IGZpbHRlck5lc3RlZChrZXksIHZhbCk7XG5cdFx0XHRpZiAoaGFuZGxlZCAhPT0gZmFsc2UpIHtcblx0XHRcdFx0Y29weVtrZXldID0gaGFuZGxlZDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY29weTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJldmVyc2VPYmo8SyBleHRlbmRzIHN0cmluZywgViBleHRlbmRzIHN0cmluZz4ob2JqOiBPYmo8SywgVj4pOiBPYmo8ViwgSz4ge1xuXHRyZXR1cm4gT2JqZWN0LmVudHJpZXMob2JqKS5yZWR1Y2UoKGZpbmFsT2JqLCBba2V5LCB2YWxdKSA9PiB7XG5cdFx0ZmluYWxPYmpbdmFsIGFzIHN0cmluZ10gPSBrZXk7XG5cdFx0cmV0dXJuIGZpbmFsT2JqO1xuXHR9LCB7fSBhcyBPYmopO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7032\n")},52953:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   p: () => (/* binding */ PubSub)\n/* harmony export */ });\nvar PubSub = /** @class */ (function () {\n    function PubSub() {\n        this.handlers = {};\n    }\n    Object.defineProperty(PubSub.prototype, "on", {\n        get: function () { return this.subscribe; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PubSub.prototype, "off", {\n        get: function () { return this.unsubscribe; },\n        enumerable: false,\n        configurable: true\n    });\n    PubSub.prototype.getListenerCount = function (event) {\n        var _a;\n        return ((_a = this.handlers[event]) === null || _a === void 0 ? void 0 : _a.length) || 0;\n    };\n    PubSub.prototype.subscribe = function (event, handler) {\n        this.handlers[event] = this.handlers[event] || [];\n        this.handlers[event].push(handler);\n        return this.unsubscribe.bind(this, event, handler);\n    };\n    PubSub.prototype.unsubscribe = function (event, handler) {\n        if (!this.handlers[event])\n            return;\n        if (!handler) {\n            delete this.handlers[event];\n        }\n        else {\n            for (var i = 0, h; i < this.handlers[event].length; i++) {\n                if (this.handlers[event][i] === handler) {\n                    this.handlers[event].splice(i, 1);\n                }\n            }\n        }\n    };\n    PubSub.prototype.publish = function (event) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var eventHandlers = this.handlers[event];\n        if (!eventHandlers || eventHandlers.length === 0)\n            return;\n        for (var i = 0; i < eventHandlers.length; i++) {\n            eventHandlers[i].apply(this, args);\n        }\n    };\n    PubSub.prototype.destroy = function () {\n        for (var event in this.handlers) {\n            this.unsubscribe(event);\n        }\n    };\n    return PubSub;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTI5NTMuanMiLCJtYXBwaW5ncyI6Ijs7O0FBTUE7QUFBQTtBQUNBO0FBNENBO0FBMUNBO0FBQUE7OztBQUFBO0FBQ0E7QUFBQTs7O0FBQUE7QUFFQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9QdWJTdWIudHM/OWE4NSJdLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIEhhbmRsZXIgPSAoLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG5cbnR5cGUgSGFuZGxlck1hcDxUIGV4dGVuZHMgc3RyaW5nPiA9IHtcblx0W2sgaW4gVF0/OiBIYW5kbGVyW107XG59XG5cbmV4cG9ydCBjbGFzcyBQdWJTdWI8VCBleHRlbmRzIHN0cmluZyA9IHN0cmluZz4ge1xuXHRoYW5kbGVyczogSGFuZGxlck1hcDxUPiA9IHt9O1xuXG5cdGdldCBvbigpIHsgcmV0dXJuIHRoaXMuc3Vic2NyaWJlOyB9XG5cdGdldCBvZmYoKSB7IHJldHVybiB0aGlzLnVuc3Vic2NyaWJlOyB9XG5cblx0Z2V0TGlzdGVuZXJDb3VudChldmVudDogVCkge1xuXHRcdHJldHVybiB0aGlzLmhhbmRsZXJzW2V2ZW50XT8ubGVuZ3RoIHx8IDA7XG5cdH1cblxuXHRzdWJzY3JpYmUoZXZlbnQ6IFQsIGhhbmRsZXI6IEhhbmRsZXIpOiAoKSA9PiBhbnkge1xuXHRcdHRoaXMuaGFuZGxlcnNbZXZlbnRdID0gdGhpcy5oYW5kbGVyc1tldmVudF0gfHwgW107XG5cdFx0dGhpcy5oYW5kbGVyc1tldmVudF0ucHVzaChoYW5kbGVyKTtcblxuXHRcdHJldHVybiB0aGlzLnVuc3Vic2NyaWJlLmJpbmQodGhpcywgZXZlbnQsIGhhbmRsZXIpO1xuXHR9XG5cblx0dW5zdWJzY3JpYmUoZXZlbnQ6IFQsIGhhbmRsZXI/OiBIYW5kbGVyKSB7XG5cdFx0aWYgKCF0aGlzLmhhbmRsZXJzW2V2ZW50XSkgcmV0dXJuO1xuXG5cdFx0aWYgKCFoYW5kbGVyKSB7XG5cdFx0XHRkZWxldGUgdGhpcy5oYW5kbGVyc1tldmVudF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAodmFyIGkgPSAwLCBoOyBpIDwgdGhpcy5oYW5kbGVyc1tldmVudF0ubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHRoaXMuaGFuZGxlcnNbZXZlbnRdW2ldID09PSBoYW5kbGVyKSB7XG5cdFx0XHRcdFx0dGhpcy5oYW5kbGVyc1tldmVudF0uc3BsaWNlKGksIDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHVibGlzaChldmVudDogVCwgLi4uYXJnczogYW55W10pIHtcblx0XHR2YXIgZXZlbnRIYW5kbGVycyA9IHRoaXMuaGFuZGxlcnNbZXZlbnRdO1xuXHRcdGlmICghZXZlbnRIYW5kbGVycyB8fCBldmVudEhhbmRsZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBldmVudEhhbmRsZXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRldmVudEhhbmRsZXJzW2ldLmFwcGx5KHRoaXMsIGFyZ3MpO1xuXHRcdH1cblx0fVxuXG5cdGRlc3Ryb3koKSB7XG5cdFx0Zm9yICh2YXIgZXZlbnQgaW4gdGhpcy5oYW5kbGVycykge1xuXHRcdFx0dGhpcy51bnN1YnNjcmliZShldmVudCk7XG5cdFx0fVxuXHR9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///52953\n')},10751:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $: () => (/* binding */ getSsoQueryParams),\n/* harmony export */   g: () => (/* binding */ getAncestryHostname)\n/* harmony export */ });\n/* harmony import */ var _sharedConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(32179);\n/* harmony import */ var _getUrl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(74174);\n\n\nfunction getAncestryHostname(domain, opts) {\n    if (domain === void 0) { domain = 'FOLD3_US'; }\n    if (opts === void 0) { opts = {}; }\n    var _a = (0,_sharedConfig__WEBPACK_IMPORTED_MODULE_0__/* .getConfig */ .iE)().ancestry, host = _a.host, subdomains = _a.subdomains, tld = _a.tld;\n    if (opts.internal) {\n        return host._internal;\n    }\n    var subdomain = opts.search ? subdomains.search : subdomains.default;\n    var hostname = opts.sta ? host.sta : host.default;\n    var topLevelDomain = tld[domain];\n    return \"https://\".concat(subdomain).concat(hostname).concat(topLevelDomain);\n}\nvar getSsoQueryParams = function (config, state, prompt) {\n    if (state === void 0) { state = {}; }\n    var ancestry = config.ancestry;\n    var clientId = ancestry.clientId;\n    var redirectHost = (0,_getUrl__WEBPACK_IMPORTED_MODULE_1__/* .getUrl */ .G)().origin;\n    var params = {\n        response_type: 'code',\n        client_id: clientId,\n        scope: 'openid',\n        redirect_uri: \"\".concat(redirectHost).concat(ancestry.paths.redirect),\n    };\n    if (state)\n        params.state = JSON.stringify(state);\n    if (prompt === false)\n        params.prompt = 'none';\n    return params;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA3NTEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7QUFFQTtBQVFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2FuY2VzdHJ5SGVscGVycy50cz9iNGU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERvbWFpbiB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IGdldENvbmZpZyB9IGZyb20gJy4vc2hhcmVkQ29uZmlnJztcbmltcG9ydCB7IEZvbGQzQ29uZmlndXJhdGlvbiwgT2JqIH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IGdldFVybCB9IGZyb20gJy4vZ2V0VXJsJztcblxuaW50ZXJmYWNlIEhvc3RuYW1lT3B0cyB7XG5cdGludGVybmFsPzogYm9vbGVhblxuXHRzZWFyY2g/OiBib29sZWFuXG5cdHN0YT86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFuY2VzdHJ5SG9zdG5hbWUoZG9tYWluOiBEb21haW4gPSAnRk9MRDNfVVMnLCBvcHRzOiBIb3N0bmFtZU9wdHMgPSB7fSkge1xuXHRjb25zdCB7IGhvc3QsIHN1YmRvbWFpbnMsIHRsZCB9ID0gZ2V0Q29uZmlnKCkuYW5jZXN0cnk7XG5cblx0aWYgKG9wdHMuaW50ZXJuYWwpIHtcblx0XHRyZXR1cm4gaG9zdC5faW50ZXJuYWw7XG5cdH1cblxuXHRsZXQgc3ViZG9tYWluID0gb3B0cy5zZWFyY2ggPyBzdWJkb21haW5zLnNlYXJjaCA6IHN1YmRvbWFpbnMuZGVmYXVsdDtcblx0bGV0IGhvc3RuYW1lID0gb3B0cy5zdGEgPyBob3N0LnN0YSA6IGhvc3QuZGVmYXVsdDtcblx0bGV0IHRvcExldmVsRG9tYWluID0gdGxkW2RvbWFpbl07XG5cblx0cmV0dXJuIGBodHRwczovLyR7c3ViZG9tYWlufSR7aG9zdG5hbWV9JHt0b3BMZXZlbERvbWFpbn1gO1xufVxuXG5leHBvcnQgY29uc3QgZ2V0U3NvUXVlcnlQYXJhbXMgPSAoY29uZmlnOiBGb2xkM0NvbmZpZ3VyYXRpb24sIHN0YXRlOiBPYmogPSB7fSwgcHJvbXB0PzogYm9vbGVhbikgPT4ge1xuXHRsZXQgeyBhbmNlc3RyeSB9ID0gY29uZmlnO1xuXHRsZXQgeyBjbGllbnRJZCB9ID0gYW5jZXN0cnk7XG5cblx0Y29uc3QgcmVkaXJlY3RIb3N0ID0gZ2V0VXJsKCkub3JpZ2luO1xuXG5cdGxldCBwYXJhbXM6IE9iaiA9IHtcblx0XHRyZXNwb25zZV90eXBlOiAnY29kZScsXG5cdFx0Y2xpZW50X2lkOiBjbGllbnRJZCxcblx0XHRzY29wZTogJ29wZW5pZCcsXG5cdFx0cmVkaXJlY3RfdXJpOiBgJHtyZWRpcmVjdEhvc3R9JHthbmNlc3RyeS5wYXRocy5yZWRpcmVjdH1gLFxuXHR9O1xuXG5cdGlmIChzdGF0ZSkgcGFyYW1zLnN0YXRlID0gSlNPTi5zdHJpbmdpZnkoc3RhdGUpO1xuXHRpZiAocHJvbXB0ID09PSBmYWxzZSkgcGFyYW1zLnByb21wdCA9ICdub25lJztcblxuXHRyZXR1cm4gcGFyYW1zO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///10751\n")},78697:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   B: () => (/* binding */ classStr)\n/* harmony export */ });\n/** Concats a list of strings into a single space-delimited list, deduping and filtering out falsey values */\nfunction classStr() {\n    var classes = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        classes[_i] = arguments[_i];\n    }\n    return Array.from(new Set(classes))\n        .filter(function (v) { return v; })\n        .join(' ') || '';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzg2OTcuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvY2xhc3NVdGlsLnRzPzU4MDMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIENvbmNhdHMgYSBsaXN0IG9mIHN0cmluZ3MgaW50byBhIHNpbmdsZSBzcGFjZS1kZWxpbWl0ZWQgbGlzdCwgZGVkdXBpbmcgYW5kIGZpbHRlcmluZyBvdXQgZmFsc2V5IHZhbHVlcyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYXNzU3RyKC4uLmNsYXNzZXM6IHN0cmluZ1tdKSB7XG5cdHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQoY2xhc3NlcykpXG5cdFx0LmZpbHRlcih2ID0+IHYpXG5cdFx0LmpvaW4oJyAnKSB8fCAnJztcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///78697\n")},68248:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   d8: () => (/* binding */ setCookie),\n/* harmony export */   ej: () => (/* binding */ getCookie)\n/* harmony export */ });\n/* unused harmony export deleteCookie */\n/* harmony import */ var _enums_cookies_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(34700);\n\n\n/**\n * set a cookie, with convenient path/domain options\n *\n * WARNING: multiple cookies can exist at different paths and domains.\n * If you create a cookie with the same name and path as another, both will exist\n * simultaneously, and the one with the more specific path/domain will override the other.\n */\nfunction setCookie(name, value, opts) {\n    if (value === void 0) { value = ''; }\n    if (opts === void 0) { opts = {}; }\n    if (allowedToSetCookie(name)) {\n        var params = [];\n        /*\n         * note: this is not universal!  this is how fold3 sets its cookies.\n         * If this code gets borrowed for another site, it may need be changed.\n         */\n        var cookieDomain = '.' + location.hostname.split('.').slice(-2)\n            .join('.');\n        if (!opts.raw)\n            value = encodeURIComponent(value);\n        params.push(name + '=' + (value || ''));\n        if (opts.expires) {\n            var date = new Date(opts.expires < 0 ? -1 : Date.now() + opts.expires * 1000);\n            params.push('expires=' + date.toUTCString());\n        }\n        // allow unsetting (as well as changing) domain using opts.domain\n        var domain = cookieDomain;\n        if (typeof opts.domain !== 'undefined') {\n            domain = opts.domain;\n        }\n        if (domain) {\n            params.push('domain=' + domain);\n        }\n        params.push('path=' + (opts.path || '/'));\n        document.cookie = params.join('; ');\n    }\n}\nfunction escapeRegExp(string) {\n    return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n/**\n * get a cookie\n *\n * WARNING: multiple cookies can exist at different paths and domains.\n * Only the most specific will be visible\n */\nfunction getCookie(name, raw) {\n    if (raw === void 0) { raw = false; }\n    var match = document.cookie.match(new RegExp('(^| )' + escapeRegExp(name) + '=([^;]+)'));\n    var cookie = match && match[2];\n    if (cookie && !raw)\n        cookie = decodeURIComponent(cookie);\n    return cookie;\n}\n/**\n * delete a cookie, with convenient path/domain defaults\n *\n * WARNING: This will only work if the path and domain match the set cookie!\n */\nfunction deleteCookie(name, opts) {\n    if (opts === void 0) { opts = {}; }\n    setCookie(name, '', __assign({ expires: -1 }, opts));\n}\nvar allowedToSetCookie = function (name) {\n    if ((0,_enums_cookies_enum__WEBPACK_IMPORTED_MODULE_0__/* .isNecessaryCookie */ .fV)(name)) {\n        return true;\n    }\n    try {\n        var consentSettings = JSON.parse(getCookie(_enums_cookies_enum__WEBPACK_IMPORTED_MODULE_0__/* .COOKIES */ .E9.CONSENT_SETTINGS));\n        if (consentSettings.gdpr.applies === true) {\n            if (consentSettings.gdpr.source === 'sourcepoint') {\n                return consentSettings.gdpr.consentedVendors.includes('Ancestry');\n            }\n            else {\n                return false; // Be on the safe side if sourcepoint hasn't verified consent and gdpr applies\n            }\n        }\n        else {\n            return true;\n        }\n    }\n    catch (e) {\n        console.error(e);\n        return true;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjgyNDguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBYUE7Ozs7OztBQU1BO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2NsaWVudENvb2tpZXMudHM/MzBkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDT09LSUVTLCBpc05lY2Vzc2FyeUNvb2tpZSB9IGZyb20gJy4uL2VudW1zL2Nvb2tpZXMuZW51bSc7XG5cbmludGVyZmFjZSBDb29raWVPcHRzIGV4dGVuZHMgRGVsZXRlQ29va2llT3B0cyB7XG5cdGV4cGlyZXM/OiBudW1iZXI7IC8vIG51bWJlciBpbiBzZWNvbmRzXG5cdC8qKiBkb2VzIG5vdCBVUkkgZW5jb2RlIHRoZSBjb29raWUgdmFsdWUgKi9cblx0cmF3PzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIERlbGV0ZUNvb2tpZU9wdHMge1xuXHRwYXRoPzogc3RyaW5nO1xuXHRkb21haW4/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogc2V0IGEgY29va2llLCB3aXRoIGNvbnZlbmllbnQgcGF0aC9kb21haW4gb3B0aW9uc1xuICpcbiAqIFdBUk5JTkc6IG11bHRpcGxlIGNvb2tpZXMgY2FuIGV4aXN0IGF0IGRpZmZlcmVudCBwYXRocyBhbmQgZG9tYWlucy5cbiAqIElmIHlvdSBjcmVhdGUgYSBjb29raWUgd2l0aCB0aGUgc2FtZSBuYW1lIGFuZCBwYXRoIGFzIGFub3RoZXIsIGJvdGggd2lsbCBleGlzdFxuICogc2ltdWx0YW5lb3VzbHksIGFuZCB0aGUgb25lIHdpdGggdGhlIG1vcmUgc3BlY2lmaWMgcGF0aC9kb21haW4gd2lsbCBvdmVycmlkZSB0aGUgb3RoZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb29raWUoXG5cdG5hbWU6IHN0cmluZyxcblx0dmFsdWU6IHN0cmluZyB8IG51bWJlciA9ICcnLFxuXHRvcHRzOiBDb29raWVPcHRzID0ge31cbikge1xuXHRpZiAoYWxsb3dlZFRvU2V0Q29va2llKG5hbWUpKSB7XG5cdFx0bGV0IHBhcmFtczogc3RyaW5nW10gPSBbXTtcblxuXHRcdC8qXG5cdFx0ICogbm90ZTogdGhpcyBpcyBub3QgdW5pdmVyc2FsISAgdGhpcyBpcyBob3cgZm9sZDMgc2V0cyBpdHMgY29va2llcy5cblx0XHQgKiBJZiB0aGlzIGNvZGUgZ2V0cyBib3Jyb3dlZCBmb3IgYW5vdGhlciBzaXRlLCBpdCBtYXkgbmVlZCBiZSBjaGFuZ2VkLlxuXHRcdCAqL1xuXHRcdGNvbnN0IGNvb2tpZURvbWFpbiA9ICcuJyArIGxvY2F0aW9uLmhvc3RuYW1lLnNwbGl0KCcuJykuc2xpY2UoLTIpXG5cdFx0XHQuam9pbignLicpO1xuXG5cdFx0aWYgKCFvcHRzLnJhdykgdmFsdWUgPSBlbmNvZGVVUklDb21wb25lbnQodmFsdWUgYXMgc3RyaW5nKTtcblx0XHRwYXJhbXMucHVzaChuYW1lICsgJz0nICsgKHZhbHVlIHx8ICcnKSk7XG5cblx0XHRpZiAob3B0cy5leHBpcmVzKSB7XG5cdFx0XHRsZXQgZGF0ZSA9IG5ldyBEYXRlKG9wdHMuZXhwaXJlcyA8IDAgPyAtMSA6IERhdGUubm93KCkgKyBvcHRzLmV4cGlyZXMgKiAxMDAwKTtcblx0XHRcdHBhcmFtcy5wdXNoKCdleHBpcmVzPScgKyBkYXRlLnRvVVRDU3RyaW5nKCkpO1xuXHRcdH1cblxuXHRcdC8vIGFsbG93IHVuc2V0dGluZyAoYXMgd2VsbCBhcyBjaGFuZ2luZykgZG9tYWluIHVzaW5nIG9wdHMuZG9tYWluXG5cdFx0bGV0IGRvbWFpbiA9IGNvb2tpZURvbWFpbjtcblx0XHRpZiAodHlwZW9mIG9wdHMuZG9tYWluICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0ZG9tYWluID0gb3B0cy5kb21haW47XG5cdFx0fVxuXHRcdGlmIChkb21haW4pIHtcblx0XHRcdHBhcmFtcy5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG5cdFx0fVxuXG5cdFx0cGFyYW1zLnB1c2goJ3BhdGg9JyArIChvcHRzLnBhdGggfHwgJy8nKSk7XG5cblx0XHRkb2N1bWVudC5jb29raWUgPSBwYXJhbXMuam9pbignOyAnKTtcblx0fVxufVxuXG5mdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nOiBzdHJpbmcpIHtcblx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpO1xufVxuXG4vKipcbiAqIGdldCBhIGNvb2tpZVxuICpcbiAqIFdBUk5JTkc6IG11bHRpcGxlIGNvb2tpZXMgY2FuIGV4aXN0IGF0IGRpZmZlcmVudCBwYXRocyBhbmQgZG9tYWlucy5cbiAqIE9ubHkgdGhlIG1vc3Qgc3BlY2lmaWMgd2lsbCBiZSB2aXNpYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb29raWUobmFtZTogc3RyaW5nLCByYXcgPSBmYWxzZSkge1xuXHRsZXQgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58ICknICsgZXNjYXBlUmVnRXhwKG5hbWUpICsgJz0oW147XSspJykpO1xuXHRsZXQgY29va2llID0gbWF0Y2ggJiYgbWF0Y2hbMl07XG5cdGlmIChjb29raWUgJiYgIXJhdykgY29va2llID0gZGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZSk7XG5cblx0cmV0dXJuIGNvb2tpZTtcbn1cblxuLyoqXG4gKiBkZWxldGUgYSBjb29raWUsIHdpdGggY29udmVuaWVudCBwYXRoL2RvbWFpbiBkZWZhdWx0c1xuICpcbiAqIFdBUk5JTkc6IFRoaXMgd2lsbCBvbmx5IHdvcmsgaWYgdGhlIHBhdGggYW5kIGRvbWFpbiBtYXRjaCB0aGUgc2V0IGNvb2tpZSFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNvb2tpZShuYW1lOiBzdHJpbmcsIG9wdHM6IERlbGV0ZUNvb2tpZU9wdHMgPSB7fSkge1xuXHRzZXRDb29raWUobmFtZSwgJycsIHsgZXhwaXJlczogLTEsIC4uLm9wdHMgfSk7XG59XG5cbmNvbnN0IGFsbG93ZWRUb1NldENvb2tpZSA9IChuYW1lOiBzdHJpbmcpID0+IHtcblx0aWYgKGlzTmVjZXNzYXJ5Q29va2llKG5hbWUpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHR0cnkge1xuXHRcdGxldCBjb25zZW50U2V0dGluZ3MgPSBKU09OLnBhcnNlKGdldENvb2tpZShDT09LSUVTLkNPTlNFTlRfU0VUVElOR1MpKTtcblx0XHRpZiAoY29uc2VudFNldHRpbmdzLmdkcHIuYXBwbGllcyA9PT0gdHJ1ZSkge1xuXHRcdFx0aWYgKGNvbnNlbnRTZXR0aW5ncy5nZHByLnNvdXJjZSA9PT0gJ3NvdXJjZXBvaW50Jykge1xuXHRcdFx0XHRyZXR1cm4gY29uc2VudFNldHRpbmdzLmdkcHIuY29uc2VudGVkVmVuZG9ycy5pbmNsdWRlcygnQW5jZXN0cnknKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTsgLy8gQmUgb24gdGhlIHNhZmUgc2lkZSBpZiBzb3VyY2Vwb2ludCBoYXNuJ3QgdmVyaWZpZWQgY29uc2VudCBhbmQgZ2RwciBhcHBsaWVzXG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fSBjYXRjaChlKSB7XG5cdFx0Y29uc29sZS5lcnJvcihlKTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///68248\n")},16701:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   F: () => (/* binding */ computed),\n/* harmony export */   M: () => (/* binding */ isComputed)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70655);\n\nvar COMPUTED_SYMBOL = Symbol('computed');\nvar computed = function (fn, initialVal) {\n    var _a;\n    var valid = initialVal !== undefined;\n    var cached = initialVal || null;\n    return _a = {},\n        _a[COMPUTED_SYMBOL] = true,\n        _a.setInvalid = function () {\n            valid = false;\n            cached = null;\n        },\n        _a.getValue = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            if (!valid) {\n                valid = true;\n                cached = fn.apply(void 0, (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__spreadArray */ .ev)([], (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__read */ .CR)(args), false));\n            }\n            return cached;\n        },\n        _a;\n};\nvar isComputed = function (thing) {\n    try {\n        return COMPUTED_SYMBOL in thing;\n    }\n    catch (e) {\n        return false;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY3MDEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBS0E7QUFFQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2NvbXB1dGVkLnRzPzYxNzEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBDb21wdXRlZDxUPiB7XG5cdHNldEludmFsaWQoKTogdm9pZFxuXHRnZXRWYWx1ZSguLi5hcmdzOiBhbnlbXSk6IFRcbn1cblxuY29uc3QgQ09NUFVURURfU1lNQk9MID0gU3ltYm9sKCdjb21wdXRlZCcpO1xuXG5leHBvcnQgY29uc3QgY29tcHV0ZWQgPSA8VD4oZm46ICguLi5hcmdzOiBhbnlbXSkgPT4gVCwgaW5pdGlhbFZhbD86IFQpOiBDb21wdXRlZDxUPiA9PiB7XG5cdGxldCB2YWxpZCA9IGluaXRpYWxWYWwgIT09IHVuZGVmaW5lZDtcblx0bGV0IGNhY2hlZCA9IGluaXRpYWxWYWwgfHwgbnVsbDtcblxuXHRyZXR1cm4ge1xuXHRcdFtDT01QVVRFRF9TWU1CT0xdOiB0cnVlLFxuXHRcdHNldEludmFsaWQoKSB7XG5cdFx0XHR2YWxpZCA9IGZhbHNlO1xuXHRcdFx0Y2FjaGVkID0gbnVsbDtcblx0XHR9LFxuXHRcdGdldFZhbHVlKC4uLmFyZ3M6IGFueVtdKSB7XG5cdFx0XHRpZiAoIXZhbGlkKSB7XG5cdFx0XHRcdHZhbGlkID0gdHJ1ZTtcblx0XHRcdFx0Y2FjaGVkID0gZm4oLi4uYXJncyk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gY2FjaGVkO1xuXHRcdH0sXG5cdH0gYXMgQ29tcHV0ZWQ8VD47XG59O1xuXG5leHBvcnQgY29uc3QgaXNDb21wdXRlZCA9ICh0aGluZzogYW55KSA9PiB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIENPTVBVVEVEX1NZTUJPTCBpbiB0aGluZztcblx0fSBjYXRjaChlKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16701\n")},93705:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OW: () => (/* binding */ getWrappedContentId),\n/* harmony export */   Rf: () => (/* binding */ getWrappedContentType),\n/* harmony export */   aK: () => (/* binding */ getWrappedContentRef),\n/* harmony export */   e7: () => (/* binding */ getModified)\n/* harmony export */ });\n/* unused harmony exports getMetadata, getCreated, getExternalId, getContentForwardInfo */\n\nvar getMetadata = function (content) {\n    return content.metadata;\n};\nvar getWrappedContentRef = function (content) {\n    return getMetadata(content).id;\n};\nvar getWrappedContentType = function (content) {\n    return getWrappedContentRef(content).contentType;\n};\nvar getWrappedContentId = function (content) {\n    return getWrappedContentRef(content).objectId;\n};\nvar getCreated = function (content) {\n    return getMetadata(content).created;\n};\nvar getModified = function (content) {\n    return getMetadata(content).lastModified;\n};\nvar getExternalId = function (content) {\n    return getMetadata(content).externalId;\n};\nvar getContentForwardInfo = function (content) {\n    var _a = getMetadata(content), forwardReason = _a.forwardReason, forwardTo = _a.forwardTo, forwardSearch = _a.forwardSearch;\n    return filterUndefined({ forwardReason: forwardReason, forwardTo: forwardTo, forwardSearch: forwardSearch });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTM3MDUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2NvbnRlbnQvY29udGVudE1ldGFkYXRhLnRzPzg0NjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udGVudERvY3VtZW50TWV0YWRhdGFfRm9yd2FyZFJlYXNvbiwgQ29udGVudFR5cGUsIERvY3VtZW50UXVlcnksIE9iamVjdFJlZmVyZW5jZSwgV3JhcHBlZENvbnRlbnREb2N1bWVudCwgV3JhcHBlZENvbnRlbnREb2N1bWVudEFic3RyYWN0RG9jdW1lbnQsIFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50QWJzdHJhY3RFbGVtZW50IH0gZnJvbSAnLi4vLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgZmlsdGVyVW5kZWZpbmVkIH0gZnJvbSAnLi4vbWFwVXRpbCc7XG5cbmV4cG9ydCBjb25zdCBnZXRNZXRhZGF0YSA9IDxEIGV4dGVuZHMgV3JhcHBlZENvbnRlbnREb2N1bWVudEFic3RyYWN0RG9jdW1lbnQsIEUgZXh0ZW5kcyBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudEFic3RyYWN0RWxlbWVudCwgTz4oY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudDxELCBFLCBPPikgPT4ge1xuXHRyZXR1cm4gY29udGVudC5tZXRhZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRXcmFwcGVkQ29udGVudFJlZiA9IChjb250ZW50OiBXcmFwcGVkQ29udGVudERvY3VtZW50KSA9PiB7XG5cdHJldHVybiBnZXRNZXRhZGF0YShjb250ZW50KS5pZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRXcmFwcGVkQ29udGVudFR5cGUgPSAoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCkgPT4ge1xuXHRyZXR1cm4gZ2V0V3JhcHBlZENvbnRlbnRSZWYoY29udGVudCkuY29udGVudFR5cGU7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0V3JhcHBlZENvbnRlbnRJZCA9IChjb250ZW50OiBXcmFwcGVkQ29udGVudERvY3VtZW50KSA9PiB7XG5cdHJldHVybiBnZXRXcmFwcGVkQ29udGVudFJlZihjb250ZW50KS5vYmplY3RJZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDcmVhdGVkID0gKGNvbnRlbnQ6IFdyYXBwZWRDb250ZW50RG9jdW1lbnQpID0+IHtcblx0cmV0dXJuIGdldE1ldGFkYXRhKGNvbnRlbnQpLmNyZWF0ZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TW9kaWZpZWQgPSAoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCkgPT4ge1xuXHRyZXR1cm4gZ2V0TWV0YWRhdGEoY29udGVudCkubGFzdE1vZGlmaWVkO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEV4dGVybmFsSWQgPSAoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCkgPT4ge1xuXHRyZXR1cm4gZ2V0TWV0YWRhdGEoY29udGVudCkuZXh0ZXJuYWxJZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb250ZW50Rm9yd2FyZEluZm8gPSAoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCk6IHsgZm9yd2FyZFJlYXNvbj86IENvbnRlbnREb2N1bWVudE1ldGFkYXRhX0ZvcndhcmRSZWFzb24sIGZvcndhcmRUbz86IE9iamVjdFJlZmVyZW5jZSwgZm9yd2FyZFNlYXJjaD86IERvY3VtZW50UXVlcnkgfSA9PiB7XG5cdGNvbnN0IHsgZm9yd2FyZFJlYXNvbiwgZm9yd2FyZFRvLCBmb3J3YXJkU2VhcmNoIH0gPSBnZXRNZXRhZGF0YShjb250ZW50KTtcblx0cmV0dXJuIGZpbHRlclVuZGVmaW5lZCh7IGZvcndhcmRSZWFzb24sIGZvcndhcmRUbywgZm9yd2FyZFNlYXJjaCB9KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///93705\n")},31042:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  ap: () => (/* binding */ EXTERNAL_CONTENT_TYPES),\n  y0: () => (/* binding */ areSameObject),\n  Xu: () => (/* binding */ getContentObjId),\n  Wk: () => (/* binding */ getContentParentType),\n  iN: () => (/* binding */ getContentTypeLabel),\n  ll: () => (/* binding */ isContentParentType),\n  o6: () => (/* binding */ isContentSubType),\n  eV: () => (/* binding */ objectRefToString),\n  jO: () => (/* binding */ refStringToObjectRef),\n  XW: () => (/* binding */ sortContentObjects)\n});\n\n// UNUSED EXPORTS: getContentKey, getContentObjType, getContentSubTypes, getPublicationId, getTitle, isTypeChildOfParent\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(70655);\n// EXTERNAL MODULE: ./src/ts/mappings/content-sub-type-mappings.json\nvar content_sub_type_mappings = __webpack_require__(26951);\n// EXTERNAL MODULE: ./src/ts/shared/lib/mapUtil.ts\nvar mapUtil = __webpack_require__(64528);\n// EXTERNAL MODULE: ./src/ts/shared/lib/sortUtil.ts\nvar sortUtil = __webpack_require__(15394);\n// EXTERNAL MODULE: ./src/ts/shared/lib/templating.ts\nvar templating = __webpack_require__(21012);\n;// CONCATENATED MODULE: ./src/ts/mappings/doc-type-labels.json\nconst doc_type_labels_namespaceObject = JSON.parse(\'[{"value":"IMAGE","label":"Image"},{"value":"SUB_IMAGE","label":"Child Record"},{"value":"STORY_PAGE","label":"Memorial"},{"value":"INDEX_RECORD","label":"Index Record"},{"value":"FILE","label":"Multi-image File"},{"value":"PUBLICATION","label":"Publication"},{"value":"TITLE_COLLECTION","label":"Collection"},{"value":"NOTE","label":"Note"},{"value":"PARTNER","label":"Partner"},{"value":"POST","label":"Post"},{"value":"BATTLE","label":"Engagement"},{"value":"REGIMENT","label":"Regiment"},{"value":"COMPANY","label":"Company"},{"value":"ANCESTRY_DOCUMENT","label":"Ancestry Document"},{"value":"ARCHIVES_DOCUMENT","label":"Archives Document"},{"value":"FGV_DOCUMENT","label":"Fgv Document"},{"value":"NEWSPAPERS_DOCUMENT","label":"Newspapers Document"},{"value":"MILITARY_UNIT","label":"Military Unit"},{"value":"SUBJECT","label":"Subject"},{"value":"MEDIA","label":"Media"}]\');\n;// CONCATENATED MODULE: ./src/ts/mappings/sub-type-labels.json\nconst sub_type_labels_namespaceObject = JSON.parse(\'[{"value":"BATTLE","label":"Battle"},{"value":"SKIRMISH","label":"Skirmish"},{"value":"REGIMENT","label":"Regiment"},{"value":"COMPANY","label":"Company"},{"value":"UNIT","label":"Unit"},{"value":"BATTERY","label":"Battery"},{"value":"SQUADRON","label":"Squadron"},{"value":"PERSON","label":"Person"},{"value":"SERVICEPERSON","label":"Serviceperson"},{"value":"EVENT","label":"Event"},{"value":"ORGANIZATION","label":"Organization"},{"value":"PLACE","label":"Place"},{"value":"TOPIC","label":"Topic"},{"value":"IMAGE","label":"Image"},{"value":"SUB_IMAGE","label":"Child Record"},{"value":"FILE","label":"Multi-image File"},{"value":"AWARD","label":"Award"}]\');\n;// CONCATENATED MODULE: ./src/ts/shared/lib/content/contentObject.ts\n\n\n\n\n\n\n\nvar CONTENT_TYPE_LABELS = (0,mapUtil/* mapArrayToObject */.sB)((0,tslib_es6/* __spreadArray */.ev)((0,tslib_es6/* __spreadArray */.ev)([], (0,tslib_es6/* __read */.CR)(doc_type_labels_namespaceObject), false), (0,tslib_es6/* __read */.CR)(sub_type_labels_namespaceObject), false), \'value\', \'label\');\nvar refStringToObjectRef = function (str) {\n    try {\n        var _a = (0,tslib_es6/* __read */.CR)(str.split(\':\'), 2), contentType = _a[0], objectId = _a[1];\n        if (!contentType || !objectId)\n            throw new Error(\'Invalid string\');\n        return { contentType: contentType, objectId: objectId };\n    }\n    catch (e) {\n        console.error(e);\n        return null;\n    }\n};\nvar objectRefToString = function (ref) {\n    try {\n        if (typeof ref !== \'object\' || Array.isArray(ref) || ref === null) {\n            throw new Error("Invalid ref");\n        }\n        var contentType = ref.contentType, objectId = ref.objectId;\n        return "".concat(contentType, ":").concat(objectId);\n    }\n    catch (e) {\n        console.error(e);\n        return \'\';\n    }\n};\nvar getContentKey = function (obj) { return objectRefToString(obj.id); };\nvar getTitle = function (obj) {\n    return obj.title;\n};\nvar getContentObjId = function (obj) {\n    return getContentObjTypeAndId(obj).objectId;\n};\nvar getContentObjType = function (obj) {\n    return getContentObjTypeAndId(obj).contentType;\n};\nvar getContentObjTypeAndId = function (obj) {\n    return obj.id;\n};\nvar getPublicationId = function (obj) {\n    var _a;\n    return (obj === null || obj === void 0 ? void 0 : obj.publicationId) || ((_a = obj === null || obj === void 0 ? void 0 : obj.publication) === null || _a === void 0 ? void 0 : _a.publicationId);\n};\nvar getContentTypeLabel = function (type) {\n    if (!type)\n        return \'\';\n    var label = CONTENT_TYPE_LABELS[type];\n    if (!label) {\n        console.warn("".concat(type, " is not yet handled in labels"));\n        label = (0,templating/* strToLabel */.JC)(type.toLowerCase());\n    }\n    return label;\n};\nvar EXTERNAL_CONTENT_TYPES = [\'ANCESTRY_DOCUMENT\', \'ARCHIVES_DOCUMENT\', \'FGV_DOCUMENT\', \'NEWSPAPERS_DOCUMENT\'];\nvar areSameObject = function (ref1, ref2) {\n    return (ref1 === null || ref1 === void 0 ? void 0 : ref1.objectId) == (ref2 === null || ref2 === void 0 ? void 0 : ref2.objectId) && (ref1 === null || ref1 === void 0 ? void 0 : ref1.contentType) == (ref2 === null || ref2 === void 0 ? void 0 : ref2.contentType);\n};\nvar getContentSubTypes = function (contentType) {\n    return CONTENT_TYPE_SUB_MAP[contentType];\n};\nvar getContentParentType = function (contentSubType) {\n    var e_1, _a;\n    try {\n        for (var _b = (0,tslib_es6/* __values */.XA)(Object.entries(content_sub_type_mappings)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var _d = (0,tslib_es6/* __read */.CR)(_c.value, 2), contentType = _d[0], contentSubTypes = _d[1];\n            if (contentSubTypes.includes(contentSubType)) {\n                return contentType;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n};\nvar isContentSubType = function (contentSubType) {\n    return Object.values(content_sub_type_mappings).some(function (subTypes) { return subTypes.includes(contentSubType); });\n};\nvar isContentParentType = function (contentType) {\n    return contentType in content_sub_type_mappings;\n};\nvar isTypeChildOfParent = function (contentType, contentSubType) {\n    var _a;\n    return !!((_a = getContentSubTypes(contentType)) === null || _a === void 0 ? void 0 : _a.includes(contentSubType));\n};\nvar sortContentObjects = function (objectRefs, contentObjects) {\n    var refIndices = (0,mapUtil/* mapArrayToObject */.sB)(objectRefs, objectRefToString, function (ref, i) { return i; });\n    return contentObjects.sort(function (objA, objB) {\n        var aKey = objectRefToString(objA.id);\n        var bKey = objectRefToString(objB.id);\n        return (0,sortUtil/* alphaNumericSort */.R_)(refIndices[aKey], refIndices[bKey]);\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEwNDIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9jb250ZW50L2NvbnRlbnRPYmplY3QudHM/YzU4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ09OVEVOVF9UWVBFX1NVQl9NQVAgZnJvbSAnLi4vLi4vLi4vbWFwcGluZ3MvY29udGVudC1zdWItdHlwZS1tYXBwaW5ncy5qc29uJztcbmltcG9ydCB7IENvbnRlbnRPYmplY3QsIENvbnRlbnRTdWJUeXBlLCBDb250ZW50VHlwZSwgT2JqZWN0UmVmZXJlbmNlIH0gZnJvbSAnLi4vLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgbWFwQXJyYXlUb09iamVjdCB9IGZyb20gJy4uL21hcFV0aWwnO1xuaW1wb3J0IHsgYWxwaGFOdW1lcmljU29ydCB9IGZyb20gJy4uL3NvcnRVdGlsJztcbmltcG9ydCB7IHN0clRvTGFiZWwgfSBmcm9tICcuLi90ZW1wbGF0aW5nJztcblxuaW1wb3J0IGRvY1R5cGVMYWJlbHMgZnJvbSAnLi4vLi4vLi4vbWFwcGluZ3MvZG9jLXR5cGUtbGFiZWxzLmpzb24nO1xuaW1wb3J0IHN1YlR5cGVMYWJlbHMgZnJvbSAnLi4vLi4vLi4vbWFwcGluZ3Mvc3ViLXR5cGUtbGFiZWxzLmpzb24nO1xuXG5jb25zdCBDT05URU5UX1RZUEVfTEFCRUxTID0gbWFwQXJyYXlUb09iamVjdDx7IHZhbHVlOiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcgfSwgc3RyaW5nPihbLi4uZG9jVHlwZUxhYmVscywgLi4uc3ViVHlwZUxhYmVsc10sICd2YWx1ZScsICdsYWJlbCcpO1xuXG5leHBvcnQgY29uc3QgcmVmU3RyaW5nVG9PYmplY3RSZWYgPSAoc3RyOiBzdHJpbmcpOiBPYmplY3RSZWZlcmVuY2UgPT4ge1xuXHR0cnkge1xuXHRcdGxldCBbY29udGVudFR5cGUsIG9iamVjdElkXSA9IHN0ci5zcGxpdCgnOicpO1xuXHRcdGlmICghY29udGVudFR5cGUgfHwgIW9iamVjdElkKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nJyk7XG5cblx0XHRyZXR1cm4geyBjb250ZW50VHlwZTogY29udGVudFR5cGUgYXMgQ29udGVudFR5cGUsIG9iamVjdElkIH07XG5cdH0gY2F0Y2goZSkge1xuXHRcdGNvbnNvbGUuZXJyb3IoZSk7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCBvYmplY3RSZWZUb1N0cmluZyA9IChyZWY6IE9iamVjdFJlZmVyZW5jZSkgPT4ge1xuXHR0cnkge1xuXHRcdGlmICh0eXBlb2YgcmVmICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHJlZikgfHwgcmVmID09PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcmVmYCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBjb250ZW50VHlwZSwgb2JqZWN0SWQgfSA9IHJlZjtcblx0XHRyZXR1cm4gYCR7Y29udGVudFR5cGV9OiR7b2JqZWN0SWR9YDtcblx0fSBjYXRjaChlKSB7XG5cdFx0Y29uc29sZS5lcnJvcihlKTtcblx0XHRyZXR1cm4gJyc7XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb250ZW50S2V5ID0gKG9iajogQ29udGVudE9iamVjdCkgPT4gb2JqZWN0UmVmVG9TdHJpbmcob2JqLmlkKTtcblxuZXhwb3J0IGNvbnN0IGdldFRpdGxlID0gKG9iajogQ29udGVudE9iamVjdCkgPT4ge1xuXHRyZXR1cm4gb2JqLnRpdGxlO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENvbnRlbnRPYmpJZCA9IChvYmo6IENvbnRlbnRPYmplY3QpID0+IHtcblx0cmV0dXJuIGdldENvbnRlbnRPYmpUeXBlQW5kSWQob2JqKS5vYmplY3RJZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb250ZW50T2JqVHlwZSA9IChvYmo6IENvbnRlbnRPYmplY3QpID0+IHtcblx0cmV0dXJuIGdldENvbnRlbnRPYmpUeXBlQW5kSWQob2JqKS5jb250ZW50VHlwZTtcbn07XG5cbmNvbnN0IGdldENvbnRlbnRPYmpUeXBlQW5kSWQgPSAob2JqOiBDb250ZW50T2JqZWN0KSA9PiB7XG5cdHJldHVybiBvYmouaWQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UHVibGljYXRpb25JZCA9IChvYmo6IENvbnRlbnRPYmplY3QpID0+IHtcblx0cmV0dXJuIG9iaj8ucHVibGljYXRpb25JZCB8fCBvYmo/LnB1YmxpY2F0aW9uPy5wdWJsaWNhdGlvbklkO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENvbnRlbnRUeXBlTGFiZWwgPSAodHlwZTogQ29udGVudFR5cGUgfCBDb250ZW50U3ViVHlwZSkgPT4ge1xuXHRpZiAoIXR5cGUpIHJldHVybiAnJztcblxuXHRsZXQgbGFiZWwgPSBDT05URU5UX1RZUEVfTEFCRUxTW3R5cGVdO1xuXG5cdGlmICghbGFiZWwpIHtcblx0XHRjb25zb2xlLndhcm4oYCR7dHlwZX0gaXMgbm90IHlldCBoYW5kbGVkIGluIGxhYmVsc2ApO1xuXHRcdGxhYmVsID0gc3RyVG9MYWJlbCh0eXBlLnRvTG93ZXJDYXNlKCkpO1xuXHR9XG5cblx0cmV0dXJuIGxhYmVsO1xufTtcblxuZXhwb3J0IGNvbnN0IEVYVEVSTkFMX0NPTlRFTlRfVFlQRVM6IENvbnRlbnRUeXBlW10gPSBbJ0FOQ0VTVFJZX0RPQ1VNRU5UJywgJ0FSQ0hJVkVTX0RPQ1VNRU5UJywgJ0ZHVl9ET0NVTUVOVCcsICdORVdTUEFQRVJTX0RPQ1VNRU5UJ107XG5cbmV4cG9ydCBjb25zdCBhcmVTYW1lT2JqZWN0ID0gKHJlZjE6IE9iamVjdFJlZmVyZW5jZSwgcmVmMjogT2JqZWN0UmVmZXJlbmNlKSA9PiB7XG5cdHJldHVybiByZWYxPy5vYmplY3RJZCA9PSByZWYyPy5vYmplY3RJZCAmJiByZWYxPy5jb250ZW50VHlwZSA9PSByZWYyPy5jb250ZW50VHlwZTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb250ZW50U3ViVHlwZXMgPSAoY29udGVudFR5cGU6IENvbnRlbnRUeXBlKTogQ29udGVudFN1YlR5cGVbXSA9PiB7XG5cdHJldHVybiAoQ09OVEVOVF9UWVBFX1NVQl9NQVAgYXMgYW55KVtjb250ZW50VHlwZV07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q29udGVudFBhcmVudFR5cGUgPSAoY29udGVudFN1YlR5cGU6IHN0cmluZyk6IENvbnRlbnRUeXBlID0+IHtcblx0Zm9yIChsZXQgW2NvbnRlbnRUeXBlLCBjb250ZW50U3ViVHlwZXNdIG9mIE9iamVjdC5lbnRyaWVzKENPTlRFTlRfVFlQRV9TVUJfTUFQKSkge1xuXHRcdGlmIChjb250ZW50U3ViVHlwZXMuaW5jbHVkZXMoY29udGVudFN1YlR5cGUpKSB7XG5cdFx0XHRyZXR1cm4gY29udGVudFR5cGUgYXMgQ29udGVudFR5cGU7XG5cdFx0fVxuXHR9XG59O1xuXG5leHBvcnQgY29uc3QgaXNDb250ZW50U3ViVHlwZSA9IChjb250ZW50U3ViVHlwZTogc3RyaW5nKSA9PiB7XG5cdHJldHVybiBPYmplY3QudmFsdWVzKENPTlRFTlRfVFlQRV9TVUJfTUFQKS5zb21lKHN1YlR5cGVzID0+IHN1YlR5cGVzLmluY2x1ZGVzKGNvbnRlbnRTdWJUeXBlKSk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNDb250ZW50UGFyZW50VHlwZSA9IChjb250ZW50VHlwZTogc3RyaW5nKSA9PiB7XG5cdHJldHVybiBjb250ZW50VHlwZSBpbiBDT05URU5UX1RZUEVfU1VCX01BUDtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1R5cGVDaGlsZE9mUGFyZW50ID0gKGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSwgY29udGVudFN1YlR5cGU6IENvbnRlbnRTdWJUeXBlKSA9PiB7XG5cdHJldHVybiAhIWdldENvbnRlbnRTdWJUeXBlcyhjb250ZW50VHlwZSk/LmluY2x1ZGVzKGNvbnRlbnRTdWJUeXBlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzb3J0Q29udGVudE9iamVjdHMgPSAob2JqZWN0UmVmczogT2JqZWN0UmVmZXJlbmNlW10sIGNvbnRlbnRPYmplY3RzOiBDb250ZW50T2JqZWN0W10pID0+IHtcblx0bGV0IHJlZkluZGljZXMgPSBtYXBBcnJheVRvT2JqZWN0KG9iamVjdFJlZnMsIG9iamVjdFJlZlRvU3RyaW5nLCAocmVmLCBpKSA9PiBpKTtcblxuXHRyZXR1cm4gY29udGVudE9iamVjdHMuc29ydCgob2JqQSwgb2JqQikgPT4ge1xuXHRcdGxldCBhS2V5ID0gb2JqZWN0UmVmVG9TdHJpbmcob2JqQS5pZCk7XG5cdFx0bGV0IGJLZXkgPSBvYmplY3RSZWZUb1N0cmluZyhvYmpCLmlkKTtcblxuXHRcdHJldHVybiBhbHBoYU51bWVyaWNTb3J0KHJlZkluZGljZXNbYUtleV0sIHJlZkluZGljZXNbYktleV0pO1xuXHR9KTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///31042\n')},16695:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   An: () => (/* binding */ mergeRuntimeProperties),\n/* harmony export */   F0: () => (/* binding */ getPartners),\n/* harmony export */   R: () => (/* binding */ getPublicationId),\n/* harmony export */   Rf: () => (/* binding */ getUsers),\n/* harmony export */   Rj: () => (/* binding */ checkAction),\n/* harmony export */   a2: () => (/* binding */ getContentSlug),\n/* harmony export */   uF: () => (/* binding */ getViewCount),\n/* harmony export */   yy: () => (/* binding */ isAllowed)\n/* harmony export */ });\n/* unused harmony exports getRuntime, getNormalizedPlaces, getContentPermissions, userHasContent, getRuntimeOther, getExternalIdComponents */\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(70655);\n/* harmony import */ var _Actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(58606);\n\n\nvar FOLD3_USER_ID = 2;\nvar getRuntime = function (content) {\n    if (!content) {\n        return null;\n    }\n    return content.runtimeProperties;\n};\nvar getNormalizedPlaces = function (content) {\n    var _a;\n    return (_a = getRuntime(content)) === null || _a === void 0 ? void 0 : _a.normalizedPlaces;\n};\nvar getContentSlug = function (content) {\n    var _a;\n    return (_a = getRuntime(content)) === null || _a === void 0 ? void 0 : _a.slug;\n};\nvar getContentPermissions = function (content) {\n    return getRuntime(content).permissions;\n};\nvar getViewCount = function (content) {\n    return getRuntime(content).viewCount;\n};\nvar userHasContent = function (content, user) {\n    var users = getRuntime(content).users;\n    return users.filter(function (u) { return u.userId === (user === null || user === void 0 ? void 0 : user.userId); }).length > 0 ? true : false;\n};\nvar isAllowed = function (content, actions, elementType) {\n    return (0,_Actions__WEBPACK_IMPORTED_MODULE_0__/* .isContentActionAllowed */ .gd)(getContentPermissions(content), actions, elementType);\n};\nvar checkAction = function (content, action, elementType) {\n    return (0,_Actions__WEBPACK_IMPORTED_MODULE_0__/* .checkContentAction */ .pi)(getContentPermissions(content), action, elementType);\n};\nvar getPartners = function (content) {\n    return getRuntime(content).partners;\n};\n/*\n * export const isBookmarked = (content: WrappedContentDocument) => {\n * \treturn getRuntime(content).bookmarked;\n * }\n */\n/*\n * export const setBookmarked = (content: WrappedContentDocument, bookmarked: boolean) => {\n * \tgetRuntime(content).bookmarked = bookmarked;\n * \treturn content;\n * }\n */\nvar getUsers = function (content) {\n    return getRuntime(content).users;\n};\nfunction mergeRuntimeProperties(content, newProps) {\n    if (newProps === void 0) { newProps = {}; }\n    content.runtimeProperties = (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)((0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)({}, content.runtimeProperties), newProps);\n}\nfunction getRuntimeOther(content) {\n    return getRuntime(content).other;\n}\nfunction getExternalIdComponents(content) {\n    var _a;\n    var components = ((_a = getRuntime(content)) === null || _a === void 0 ? void 0 : _a.externalIdComponents) || {};\n    if (!(components === null || components === void 0 ? void 0 : components.contentType)) {\n        components.contentType = content.metadata.id.contentType;\n    }\n    if (!components.collectionObjectId) {\n        components.collectionObjectId = 0;\n    }\n    return components;\n}\nfunction getPublicationId(content) {\n    var components = getExternalIdComponents(content);\n    if (components && components.collectionType === 'PUBLICATION') {\n        return components.collectionObjectId ? components.collectionObjectId : 0;\n    }\n    else\n        return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTY2OTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFFQTs7Ozs7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9jb250ZW50L2NvbnRlbnRSdW50aW1lLnRzPzkwMDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udGVudERvY3VtZW50UGVybWlzc2lvbiwgQ29udGVudERvY3VtZW50UnVudGltZVByb3BlcnRpZXMsIERvY3VtZW50RWxlbWVudFR5cGUsIEV4dGVybmFsSWRDb21wb25lbnRzLCBVc2VyRnVsbCwgV3JhcHBlZENvbnRlbnREb2N1bWVudCwgV3JhcHBlZENvbnRlbnREb2N1bWVudEFic3RyYWN0RG9jdW1lbnQsIFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50QWJzdHJhY3RFbGVtZW50IH0gZnJvbSAnLi4vLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgY2hlY2tDb250ZW50QWN0aW9uLCBpc0NvbnRlbnRBY3Rpb25BbGxvd2VkIH0gZnJvbSAnLi4vQWN0aW9ucyc7XG5jb25zdCBGT0xEM19VU0VSX0lEID0gMjtcblxuZXhwb3J0IGNvbnN0IGdldFJ1bnRpbWUgPSA8RCBleHRlbmRzIFdyYXBwZWRDb250ZW50RG9jdW1lbnRBYnN0cmFjdERvY3VtZW50LCBFIGV4dGVuZHMgV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnRBYnN0cmFjdEVsZW1lbnQsIE8+KGNvbnRlbnQ6IFdyYXBwZWRDb250ZW50RG9jdW1lbnQ8RCwgRSwgTz4pID0+IHtcblx0aWYgKCFjb250ZW50KSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gY29udGVudC5ydW50aW1lUHJvcGVydGllcztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXROb3JtYWxpemVkUGxhY2VzID0gKGNvbnRlbnQ6IFdyYXBwZWRDb250ZW50RG9jdW1lbnQpID0+IHtcblx0cmV0dXJuIGdldFJ1bnRpbWUoY29udGVudCk/Lm5vcm1hbGl6ZWRQbGFjZXM7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q29udGVudFNsdWcgPSAoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCkgPT4ge1xuXHRyZXR1cm4gZ2V0UnVudGltZShjb250ZW50KT8uc2x1Zztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb250ZW50UGVybWlzc2lvbnMgPSAoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCkgPT4ge1xuXHRyZXR1cm4gZ2V0UnVudGltZShjb250ZW50KS5wZXJtaXNzaW9ucztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRWaWV3Q291bnQgPSAoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCkgPT4ge1xuXHRyZXR1cm4gZ2V0UnVudGltZShjb250ZW50KS52aWV3Q291bnQ7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlckhhc0NvbnRlbnQgPSAoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCwgdXNlcjogVXNlckZ1bGwpID0+IHtcblx0bGV0IHVzZXJzID0gZ2V0UnVudGltZShjb250ZW50KS51c2Vycztcblx0cmV0dXJuIHVzZXJzLmZpbHRlcih1ID0+IHUudXNlcklkID09PSB1c2VyPy51c2VySWQpLmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XG59O1xuXG5leHBvcnQgY29uc3QgaXNBbGxvd2VkID0gPFAgZXh0ZW5kcyBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9uID0gQ29udGVudERvY3VtZW50UGVybWlzc2lvbj4oY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCwgYWN0aW9uczogUFtdLCBlbGVtZW50VHlwZT86IERvY3VtZW50RWxlbWVudFR5cGUpID0+IHtcblx0cmV0dXJuIGlzQ29udGVudEFjdGlvbkFsbG93ZWQoZ2V0Q29udGVudFBlcm1pc3Npb25zKGNvbnRlbnQpLCBhY3Rpb25zLCBlbGVtZW50VHlwZSk7XG59O1xuXG5leHBvcnQgY29uc3QgY2hlY2tBY3Rpb24gPSA8UCBleHRlbmRzIENvbnRlbnREb2N1bWVudFBlcm1pc3Npb24gPSBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9uPihjb250ZW50OiBXcmFwcGVkQ29udGVudERvY3VtZW50LCBhY3Rpb246IFAsIGVsZW1lbnRUeXBlPzogRG9jdW1lbnRFbGVtZW50VHlwZSkgPT4ge1xuXHRyZXR1cm4gY2hlY2tDb250ZW50QWN0aW9uKGdldENvbnRlbnRQZXJtaXNzaW9ucyhjb250ZW50KSwgYWN0aW9uLCBlbGVtZW50VHlwZSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UGFydG5lcnMgPSAoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCkgPT4ge1xuXHRyZXR1cm4gZ2V0UnVudGltZShjb250ZW50KS5wYXJ0bmVycztcbn07XG5cbi8qXG4gKiBleHBvcnQgY29uc3QgaXNCb29rbWFya2VkID0gKGNvbnRlbnQ6IFdyYXBwZWRDb250ZW50RG9jdW1lbnQpID0+IHtcbiAqIFx0cmV0dXJuIGdldFJ1bnRpbWUoY29udGVudCkuYm9va21hcmtlZDtcbiAqIH1cbiAqL1xuXG4vKlxuICogZXhwb3J0IGNvbnN0IHNldEJvb2ttYXJrZWQgPSAoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCwgYm9va21hcmtlZDogYm9vbGVhbikgPT4ge1xuICogXHRnZXRSdW50aW1lKGNvbnRlbnQpLmJvb2ttYXJrZWQgPSBib29rbWFya2VkO1xuICogXHRyZXR1cm4gY29udGVudDtcbiAqIH1cbiAqL1xuXG5leHBvcnQgY29uc3QgZ2V0VXNlcnMgPSAoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCkgPT4ge1xuXHRyZXR1cm4gZ2V0UnVudGltZShjb250ZW50KS51c2Vycztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVJ1bnRpbWVQcm9wZXJ0aWVzKGNvbnRlbnQ6IFdyYXBwZWRDb250ZW50RG9jdW1lbnQsIG5ld1Byb3BzOiBQYXJ0aWFsPENvbnRlbnREb2N1bWVudFJ1bnRpbWVQcm9wZXJ0aWVzPiA9IHt9KSB7XG5cdGNvbnRlbnQucnVudGltZVByb3BlcnRpZXMgPSB7IC4uLmNvbnRlbnQucnVudGltZVByb3BlcnRpZXMsIC4uLm5ld1Byb3BzIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSdW50aW1lT3RoZXI8Tz4oY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudDxhbnksIGFueSwgTz4pIHtcblx0cmV0dXJuIGdldFJ1bnRpbWUoY29udGVudCkub3RoZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHRlcm5hbElkQ29tcG9uZW50cyhjb250ZW50OiBXcmFwcGVkQ29udGVudERvY3VtZW50KTogRXh0ZXJuYWxJZENvbXBvbmVudHMge1xuXHRsZXQgY29tcG9uZW50cyA9IGdldFJ1bnRpbWUoY29udGVudCk/LmV4dGVybmFsSWRDb21wb25lbnRzIHx8IHt9IGFzIEV4dGVybmFsSWRDb21wb25lbnRzO1xuXG5cdGlmICghY29tcG9uZW50cz8uY29udGVudFR5cGUpIHtcblx0XHRjb21wb25lbnRzLmNvbnRlbnRUeXBlID0gY29udGVudC5tZXRhZGF0YS5pZC5jb250ZW50VHlwZTtcblx0fVxuXG5cdGlmICghY29tcG9uZW50cy5jb2xsZWN0aW9uT2JqZWN0SWQpIHtcblx0XHRjb21wb25lbnRzLmNvbGxlY3Rpb25PYmplY3RJZCA9IDA7XG5cdH1cblxuXHRyZXR1cm4gY29tcG9uZW50cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFB1YmxpY2F0aW9uSWQoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCk6IG51bWJlciB7XG5cdGxldCBjb21wb25lbnRzID0gZ2V0RXh0ZXJuYWxJZENvbXBvbmVudHMoY29udGVudCk7XG5cblx0aWYgKGNvbXBvbmVudHMgJiYgY29tcG9uZW50cy5jb2xsZWN0aW9uVHlwZSA9PT0gJ1BVQkxJQ0FUSU9OJykge1xuXHRcdHJldHVybiBjb21wb25lbnRzLmNvbGxlY3Rpb25PYmplY3RJZCA/IGNvbXBvbmVudHMuY29sbGVjdGlvbk9iamVjdElkIDogMDtcblx0fSBlbHNlIHJldHVybiBudWxsO1xufVxuXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16695\n")},99143:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   N: () => (/* binding */ createMultipartForm)\n/* harmony export */ });\nvar createMultipartForm = function (obj) {\n    var formData = new FormData();\n    for (var name in obj) {\n        formData.append(name, obj[name]);\n    }\n    return formData;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTkxNDMuanMiLCJtYXBwaW5ncyI6Ijs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2NyZWF0ZU11bHRpcGFydEZvcm0udHM/NjA5MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYmogfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlTXVsdGlwYXJ0Rm9ybSA9IChvYmo6IE9iaikgPT4ge1xuXHRjb25zdCBmb3JtRGF0YTogRm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcblx0Zm9yIChjb25zdCBuYW1lIGluIG9iaikge1xuXHRcdGZvcm1EYXRhLmFwcGVuZChuYW1lLCBvYmpbbmFtZV0pO1xuXHR9XG5cdHJldHVybiBmb3JtRGF0YTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///99143\n")},6084:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _p: () => (/* binding */ getLocaleDateStr)\n/* harmony export */ });\n/* unused harmony exports getLocaleMonthLabels, getLocaleDayLabels, separateDates, dateArrToLocaleString, toLocaleDateString, datePartsToLocaleString, datePartsToDate, getDateParts, sortDateRange, dateArrToDate, dateToDateArr, lastDayOfMonth, isValidYear, sortDateArr */\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70655);\n\n\nvar getLocaleMonthLabels = function (locale) {\n    var names = [];\n    var i = 0;\n    var _loop_1 = function () {\n        var date = new Date('1/1/2000');\n        date.setMonth(i);\n        var monthFormats = ['2-digit', 'long', 'narrow', 'numeric', 'short'];\n        var monthLabels = monthFormats.reduce(function (finalObj, monthFormat) {\n            finalObj[monthFormat] = date.toLocaleDateString(locale, { month: monthFormat });\n            return finalObj;\n        }, {});\n        names.push(monthLabels);\n        i++;\n    };\n    while (i < 12) {\n        _loop_1();\n    }\n    return names;\n};\nvar getLocaleDayLabels = function (locale) {\n    var sundayDate = new Date('12-31-2023'); // this is an arbitrary date, but is on a Sunday\n    var names = [];\n    var i = 0;\n    var _loop_2 = function () {\n        var date = new Date();\n        date.setDate(sundayDate.getDay() + i);\n        var dayFormats = ['long', 'narrow', 'short'];\n        var dayLabels = dayFormats.reduce(function (finalObj, dayFormat) {\n            finalObj[dayFormat] = date.toLocaleDateString(locale, { weekday: dayFormat });\n            return finalObj;\n        }, {});\n        names.push(dayLabels);\n        i++;\n    };\n    while (i < 7) {\n        _loop_2();\n    }\n    return names;\n};\nvar separateDates = function (dateStr) {\n    var parts = dateStr.split(/[\\W]+/);\n    var dates = [];\n    if (parts.length === 1) {\n        dates.push(parts[0]);\n    }\n    else if (parts.length === 2) {\n        var _a = __read(parts, 2), part1 = _a[0], part2 = _a[1];\n        var yearRe = /\\d{4}/;\n        if (part1.match(yearRe) && part2.match(yearRe)) {\n            dates.push.apply(dates, __spreadArray([], __read(parts), false));\n        }\n        else {\n            dates.push(parts.join(' '));\n        }\n    }\n    else if (parts.length === 3) {\n        dates.push(parts.join(' '));\n    }\n    else if (parts.length === 4 || parts.length === 6) {\n        var date1 = parts.slice(0, parts.length / 2).join(' ');\n        var date2 = parts.slice(parts.length / 2).join(' ');\n        dates.push(date1, date2);\n    }\n    else if (parts.length === 5) {\n        // Do nothing. Two dates without equal components (e.g. 'Jan 1 2001 - Jan 2002')\n    }\n    else if (parts.length > 6) {\n        // Do nothing. More than two dates (e.g. 'Jan 1 2001 - Jan 1 2002 - Jan 1 2003')\n    }\n    return dates;\n};\nvar getLocaleDateStr = function (dateStr, locale) {\n    var parts = getDateParts(dateStr, locale);\n    if (parts === null)\n        return null;\n    return toLocaleDateString(datePartsToDate(parts), locale);\n};\nvar dateArrToLocaleString = function (dateArr, locale) {\n    switch (dateArr.length) {\n        case 3:\n            return toLocaleDateString(dateArrToDate(dateArr), locale);\n        case 2:\n            var monthLabel = getLocaleMonthLabels(locale)[dateArr[1]].short;\n            return \"\".concat(monthLabel, \" \").concat(dateArr[0]);\n        case 1:\n            return dateArr[0].toString();\n    }\n};\nvar toLocaleDateString = function (date, locale) {\n    return Intl.DateTimeFormat(locale, {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n    }).format(date);\n};\nvar datePartsToLocaleString = function (dateParts, locale) {\n    var year = dateParts.year, month = dateParts.month, day = dateParts.day;\n    if (year === null) {\n        return '';\n    }\n    else {\n        if (month === null) {\n            return year.toString();\n        }\n        else {\n            if (day === null) {\n                var monthLabel = getLocaleMonthLabels(locale)[month - 1].short;\n                return \"\".concat(monthLabel, \" \").concat(year);\n            }\n            else {\n                return toLocaleDateString(datePartsToDate(dateParts), locale);\n            }\n        }\n    }\n};\nvar datePartsToDate = function (dateParts) {\n    var year = dateParts.year, month = dateParts.month, day = dateParts.day;\n    var date = null;\n    if (year !== null) {\n        date = new Date('1/1/2000');\n        date.setFullYear(year);\n        if (month !== null) {\n            date.setMonth(month - 1);\n            if (day !== null) {\n                date.setDate(day);\n            }\n        }\n    }\n    return date || null;\n};\nvar getDateParts = function (dateStr, locale) {\n    var e_1, _a, e_2, _b;\n    var parts = dateStr.split(/[^0-9a-zA-Z]+/).filter(function (x) { return !!x; }); // split 10/21/1990 into ['10','21','1990']\n    var dateParts = {\n        year: null,\n        month: null,\n        day: null,\n    };\n    // if (parts.length !== 3) return null; // without a year, month, and day, it's invalid\n    var yearIndex = parts.findIndex(function (str) { return str.match(/\\d{4}/); }); // find the one with 4 digits. That's the year\n    if (yearIndex === -1)\n        return null; // if there's not a year, it's invalid\n    dateParts.year = +parts[yearIndex];\n    parts.splice(yearIndex, 1);\n    if (parts.length === 0)\n        return dateParts;\n    var monthIndex = parts.findIndex(function (str) { return str.match(/([a-zA-Z]+)/); }); // find a month written with letters\n    if (monthIndex >= 0) {\n        var month = parts[monthIndex];\n        var localeMonths = getLocaleMonthLabels(locale);\n        var monthFormats = ['long', 'narrow', 'short'];\n        try {\n            /* Look for the most verbose months first, then to less verbose */\n            for (var monthFormats_1 = (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__values */ .XA)(monthFormats), monthFormats_1_1 = monthFormats_1.next(); !monthFormats_1_1.done; monthFormats_1_1 = monthFormats_1.next()) {\n                var monthFormat = monthFormats_1_1.value;\n                try {\n                    for (var localeMonths_1 = (e_2 = void 0, (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__values */ .XA)(localeMonths)), localeMonths_1_1 = localeMonths_1.next(); !localeMonths_1_1.done; localeMonths_1_1 = localeMonths_1.next()) {\n                        var labels = localeMonths_1_1.value;\n                        var numeric = labels.numeric;\n                        if (labels[monthFormat].toLowerCase().startsWith(month.toLowerCase())) { // found a valid month string for this locale\n                            dateParts.month = +numeric;\n                            parts.splice(monthIndex, 1);\n                            break;\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (localeMonths_1_1 && !localeMonths_1_1.done && (_b = localeMonths_1.return)) _b.call(localeMonths_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n                if (dateParts.month !== null)\n                    break;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (monthFormats_1_1 && !monthFormats_1_1.done && (_a = monthFormats_1.return)) _a.call(monthFormats_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (dateParts.month === null) { // had letters for the month, but couldn't find a match in this locale\n            return null;\n        }\n        else {\n            if (+parts[0] > 0 && +parts[0] < 31) { // if remaining day is valid\n                dateParts.day = +parts[0];\n            } /*  else {\n                return null;\n            } */\n            return dateParts;\n        }\n    }\n    var dayIndex = parts.findIndex(function (str) { return +str > 12 && +str <= 31; }); // Only a day can be > 12, so if it is, it's the day part\n    if (dayIndex >= 0) {\n        dateParts.day = +parts[dayIndex];\n        parts.splice(dayIndex, 1);\n    }\n    if (parts.length > 1) { // Still ambiguous day and month\n        var dateFormat = getDateFormat(locale);\n        /* Determine if months or days are written first in this locale. */\n        var mIndex = dateFormat.indexOf('M');\n        var dIndex = dateFormat.indexOf('D');\n        var month = void 0, day = void 0;\n        if (mIndex < dIndex) {\n            month = +parts[0];\n            day = +parts[1];\n        }\n        else {\n            day = +parts[0];\n            month = +parts[1];\n        }\n        dateParts.month = month;\n        dateParts.day = day;\n    }\n    else {\n        var month = +parts[0];\n        if (month > 0 && month <= 12) {\n            dateParts.month = month;\n        }\n    }\n    return dateParts;\n};\n/* This function will help determine if months or days are written first in this locale */\nfunction getDateFormat(locale) {\n    var formatted = new Intl.DateTimeFormat(locale).format(new Date(2000, 0, 2));\n    return formatted\n        .replace('2000', 'YYYY')\n        .replace('01', 'MM')\n        .replace('1', 'M')\n        .replace('02', 'DD')\n        .replace('2', 'D');\n}\nfunction sortDateRange(dates) {\n    return dates.sort(dateSort);\n}\nfunction dateArrToDate(dateArr) {\n    if (dateArr.filter(function (val) { return val != undefined; }).length !== 3)\n        return null;\n    var date = new Date('1/1/2000');\n    date.setFullYear(dateArr[0]);\n    date.setMonth(dateArr[1]);\n    date.setDate(dateArr[2]);\n    return date;\n}\nfunction dateToDateArr(date) {\n    return [date.getFullYear(), date.getMonth(), date.getDate()];\n}\nfunction lastDayOfMonth(year, month) {\n    /*\n     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date\n     * Note: Where Date is called as a constructor with more than one argument, if values are greater (or less than) than their logical range\n     * (e.g. 13 is provided as the month value or 70 for the minute value), the adjacent value will be adjusted. E.g. new Date(2013, 13, 1)\n     * is equivalent to new Date(2014, 1, 1), both create a date for 2014-02-01 (note that the month is 0-based).\n     * Similarly for other values: new Date(2013, 2, 1, 0, 70) is equivalent to new Date(2013, 2, 1, 1, 10)\n     * which both create a date for 2013-03-01T01:10:00.\n     *\n     * By adding 1 to the month and passing 0 as the day, we are getting the last day of the month which is\n     * before the month following the month passed to generateDays\n     */\n    return new Date(year, month + 1, 0).getDate();\n}\nvar isValidYear = function (yearStr) {\n    return yearStr.length === 4 && +yearStr > 1400 && +yearStr < new Date().getFullYear();\n};\nfunction sortDateArr(dateArrays) {\n    var _a = __read(dateArrays, 2), arr1 = _a[0], arr2 = _a[1];\n    var arr1IsBefore = true;\n    if (!arr1 || !arr2) {\n        arr1IsBefore = true;\n    }\n    else if (!arr1[0]) {\n        arr1IsBefore = false;\n    }\n    else if (!arr2[0]) {\n        arr1IsBefore = true;\n    }\n    else if (arr1[0] < arr2[0]) {\n        arr1IsBefore = true;\n    }\n    else if (arr1[0] === arr2[0]) {\n        if (arr1[1] < arr2[1]) {\n            arr1IsBefore = true;\n        }\n        else if (arr1[1] === arr2[1]) {\n            if (arr1[2] < arr2[2]) {\n                arr1IsBefore = true;\n            }\n            else {\n                arr1IsBefore = false;\n            }\n        }\n        else {\n            arr1IsBefore = false;\n        }\n    }\n    else {\n        arr1IsBefore = false;\n    }\n    if (arr1IsBefore)\n        return dateArrays.slice();\n    else\n        return [arr2, arr1];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjA4NC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQTtBQU9BO0FBQ0E7QUFDQTs7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7O0FBYkE7O0FBY0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7O0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOztBQWJBOztBQWNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUFBOztBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBQ0E7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTs7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9kYXRlSGVscGVycy50cz8wZjkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9iaiB9IGZyb20gJy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBkYXRlU29ydCB9IGZyb20gJy4vc29ydFV0aWwnO1xuXG50eXBlIERheUZvcm1hdCA9ICdsb25nJyB8ICdzaG9ydCcgfCAnbmFycm93JztcbnR5cGUgTW9udGhGb3JtYXQgPSAnMi1kaWdpdCcgfCAnbG9uZycgfCAnbmFycm93JyB8ICdudW1lcmljJyB8ICdzaG9ydCc7XG5cbmV4cG9ydCB0eXBlIERhdGVBcnIgPSBudW1iZXJbXTtcblxuZXhwb3J0IGNvbnN0IGdldExvY2FsZU1vbnRoTGFiZWxzID0gKGxvY2FsZTogc3RyaW5nKSA9PiB7XG5cdGxldCBuYW1lcyA9IFtdO1xuXHRsZXQgaSA9IDA7XG5cblx0d2hpbGUgKGkgPCAxMikge1xuXHRcdGxldCBkYXRlID0gbmV3IERhdGUoJzEvMS8yMDAwJyk7XG5cdFx0ZGF0ZS5zZXRNb250aChpKTtcblxuXHRcdGNvbnN0IG1vbnRoRm9ybWF0czogTW9udGhGb3JtYXRbXSA9IFsnMi1kaWdpdCcsICdsb25nJywgJ25hcnJvdycsICdudW1lcmljJywgJ3Nob3J0J107XG5cblx0XHRsZXQgbW9udGhMYWJlbHMgPSBtb250aEZvcm1hdHMucmVkdWNlKChmaW5hbE9iaiwgbW9udGhGb3JtYXQpID0+IHtcblx0XHRcdGZpbmFsT2JqW21vbnRoRm9ybWF0XSA9IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKGxvY2FsZSwgeyBtb250aDogbW9udGhGb3JtYXQgfSk7XG5cdFx0XHRyZXR1cm4gZmluYWxPYmo7XG5cdFx0fSwge30gYXMgT2JqPE1vbnRoRm9ybWF0LCBzdHJpbmc+KTtcblxuXHRcdG5hbWVzLnB1c2gobW9udGhMYWJlbHMpO1xuXG5cdFx0aSsrO1xuXHR9XG5cblx0cmV0dXJuIG5hbWVzO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldExvY2FsZURheUxhYmVscyA9IChsb2NhbGU6IHN0cmluZykgPT4ge1xuXHRjb25zdCBzdW5kYXlEYXRlID0gbmV3IERhdGUoJzEyLTMxLTIwMjMnKTsgLy8gdGhpcyBpcyBhbiBhcmJpdHJhcnkgZGF0ZSwgYnV0IGlzIG9uIGEgU3VuZGF5XG5cblx0bGV0IG5hbWVzID0gW107XG5cdGxldCBpID0gMDtcblxuXHR3aGlsZSAoaSA8IDcpIHtcblx0XHRsZXQgZGF0ZSA9IG5ldyBEYXRlKCk7XG5cdFx0ZGF0ZS5zZXREYXRlKHN1bmRheURhdGUuZ2V0RGF5KCkgKyBpKTtcblxuXHRcdGNvbnN0IGRheUZvcm1hdHM6IERheUZvcm1hdFtdID0gWydsb25nJywgJ25hcnJvdycsICdzaG9ydCddO1xuXG5cdFx0bGV0IGRheUxhYmVscyA9IGRheUZvcm1hdHMucmVkdWNlKChmaW5hbE9iaiwgZGF5Rm9ybWF0KSA9PiB7XG5cdFx0XHRmaW5hbE9ialtkYXlGb3JtYXRdID0gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcobG9jYWxlLCB7IHdlZWtkYXk6IGRheUZvcm1hdCB9KTtcblx0XHRcdHJldHVybiBmaW5hbE9iajtcblx0XHR9LCB7fSBhcyBPYmo8RGF5Rm9ybWF0LCBzdHJpbmc+KTtcblxuXHRcdG5hbWVzLnB1c2goZGF5TGFiZWxzKTtcblxuXHRcdGkrKztcblx0fVxuXG5cdHJldHVybiBuYW1lcztcbn07XG5cbmV4cG9ydCBjb25zdCBzZXBhcmF0ZURhdGVzID0gKGRhdGVTdHI6IHN0cmluZykgPT4ge1xuXHRjb25zdCBwYXJ0cyA9IGRhdGVTdHIuc3BsaXQoL1tcXFddKy8pO1xuXHRjb25zdCBkYXRlczogc3RyaW5nW10gPSBbXTtcblxuXHRpZiAocGFydHMubGVuZ3RoID09PSAxKSB7XG5cdFx0ZGF0ZXMucHVzaChwYXJ0c1swXSk7XG5cdH0gZWxzZSBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7XG5cdFx0Y29uc3QgW3BhcnQxLCBwYXJ0Ml0gPSBwYXJ0cztcblx0XHRjb25zdCB5ZWFyUmUgPSAvXFxkezR9Lztcblx0XHRpZiAocGFydDEubWF0Y2goeWVhclJlKSAmJiBwYXJ0Mi5tYXRjaCh5ZWFyUmUpKSB7XG5cdFx0XHRkYXRlcy5wdXNoKC4uLnBhcnRzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0ZXMucHVzaChwYXJ0cy5qb2luKCcgJykpO1xuXHRcdH1cblx0fSBlbHNlIGlmIChwYXJ0cy5sZW5ndGggPT09IDMpIHtcblx0XHRkYXRlcy5wdXNoKHBhcnRzLmpvaW4oJyAnKSk7XG5cdH0gZWxzZSBpZiAocGFydHMubGVuZ3RoID09PSA0IHx8IHBhcnRzLmxlbmd0aCA9PT0gNikge1xuXHRcdGNvbnN0IGRhdGUxID0gcGFydHMuc2xpY2UoMCwgcGFydHMubGVuZ3RoIC8gMikuam9pbignICcpO1xuXHRcdGNvbnN0IGRhdGUyID0gcGFydHMuc2xpY2UocGFydHMubGVuZ3RoIC8gMikuam9pbignICcpO1xuXHRcdGRhdGVzLnB1c2goZGF0ZTEsIGRhdGUyKTtcblx0fSBlbHNlIGlmIChwYXJ0cy5sZW5ndGggPT09IDUpIHtcblx0XHQvLyBEbyBub3RoaW5nLiBUd28gZGF0ZXMgd2l0aG91dCBlcXVhbCBjb21wb25lbnRzIChlLmcuICdKYW4gMSAyMDAxIC0gSmFuIDIwMDInKVxuXHR9IGVsc2UgaWYgKHBhcnRzLmxlbmd0aCA+IDYpIHtcblx0XHQvLyBEbyBub3RoaW5nLiBNb3JlIHRoYW4gdHdvIGRhdGVzIChlLmcuICdKYW4gMSAyMDAxIC0gSmFuIDEgMjAwMiAtIEphbiAxIDIwMDMnKVxuXHR9XG5cblx0cmV0dXJuIGRhdGVzO1xufTtcblxuaW50ZXJmYWNlIERhdGVQYXJ0cyB7XG5cdHllYXI6IG51bWJlclxuXHRtb250aDogbnVtYmVyXG5cdGRheTogbnVtYmVyXG59XG5cbmV4cG9ydCBjb25zdCBnZXRMb2NhbGVEYXRlU3RyID0gKGRhdGVTdHI6IHN0cmluZywgbG9jYWxlOiBzdHJpbmcpID0+IHtcblx0Y29uc3QgcGFydHMgPSBnZXREYXRlUGFydHMoZGF0ZVN0ciwgbG9jYWxlKTtcblx0aWYgKHBhcnRzID09PSBudWxsKSByZXR1cm4gbnVsbDtcblx0cmV0dXJuIHRvTG9jYWxlRGF0ZVN0cmluZyhkYXRlUGFydHNUb0RhdGUocGFydHMpLCBsb2NhbGUpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRhdGVBcnJUb0xvY2FsZVN0cmluZyA9IChkYXRlQXJyOiBEYXRlQXJyLCBsb2NhbGU6IHN0cmluZykgPT4ge1xuXHRzd2l0Y2ggKGRhdGVBcnIubGVuZ3RoKSB7XG5cdFx0Y2FzZSAzOlxuXHRcdFx0cmV0dXJuIHRvTG9jYWxlRGF0ZVN0cmluZyhkYXRlQXJyVG9EYXRlKGRhdGVBcnIpLCBsb2NhbGUpO1xuXHRcdGNhc2UgMjpcblx0XHRcdGNvbnN0IG1vbnRoTGFiZWwgPSBnZXRMb2NhbGVNb250aExhYmVscyhsb2NhbGUpW2RhdGVBcnJbMV1dLnNob3J0O1xuXHRcdFx0cmV0dXJuIGAke21vbnRoTGFiZWx9ICR7ZGF0ZUFyclswXX1gO1xuXHRcdGNhc2UgMTpcblx0XHRcdHJldHVybiBkYXRlQXJyWzBdLnRvU3RyaW5nKCk7XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCB0b0xvY2FsZURhdGVTdHJpbmcgPSAoZGF0ZTogRGF0ZSwgbG9jYWxlOiBzdHJpbmcpID0+IHtcblx0cmV0dXJuIEludGwuRGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7XG5cdFx0eWVhcjogJ251bWVyaWMnLFxuXHRcdG1vbnRoOiAnc2hvcnQnLFxuXHRcdGRheTogJ251bWVyaWMnLFxuXHR9KS5mb3JtYXQoZGF0ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGF0ZVBhcnRzVG9Mb2NhbGVTdHJpbmcgPSAoZGF0ZVBhcnRzOiBEYXRlUGFydHMsIGxvY2FsZTogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IHsgeWVhciwgbW9udGgsIGRheSB9ID0gZGF0ZVBhcnRzO1xuXG5cdGlmICh5ZWFyID09PSBudWxsKSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9IGVsc2Uge1xuXHRcdGlmIChtb250aCA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIHllYXIudG9TdHJpbmcoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKGRheSA9PT0gbnVsbCkge1xuXHRcdFx0XHRjb25zdCBtb250aExhYmVsID0gZ2V0TG9jYWxlTW9udGhMYWJlbHMobG9jYWxlKVttb250aCAtIDFdLnNob3J0O1xuXHRcdFx0XHRyZXR1cm4gYCR7bW9udGhMYWJlbH0gJHt5ZWFyfWA7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdG9Mb2NhbGVEYXRlU3RyaW5nKGRhdGVQYXJ0c1RvRGF0ZShkYXRlUGFydHMpLCBsb2NhbGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblxuZXhwb3J0IGNvbnN0IGRhdGVQYXJ0c1RvRGF0ZSA9IChkYXRlUGFydHM6IERhdGVQYXJ0cykgPT4ge1xuXHRjb25zdCB7IHllYXIsIG1vbnRoLCBkYXkgfSA9IGRhdGVQYXJ0cztcblx0bGV0IGRhdGU6IERhdGUgPSBudWxsO1xuXG5cdGlmICh5ZWFyICE9PSBudWxsKSB7XG5cdFx0ZGF0ZSA9IG5ldyBEYXRlKCcxLzEvMjAwMCcpO1xuXHRcdGRhdGUuc2V0RnVsbFllYXIoeWVhcik7XG5cdFx0aWYgKG1vbnRoICE9PSBudWxsKSB7XG5cdFx0XHRkYXRlLnNldE1vbnRoKG1vbnRoIC0gMSk7XG5cdFx0XHRpZiAoZGF5ICE9PSBudWxsKSB7XG5cdFx0XHRcdGRhdGUuc2V0RGF0ZShkYXkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBkYXRlIHx8IG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RGF0ZVBhcnRzID0gKGRhdGVTdHI6IHN0cmluZywgbG9jYWxlOiBzdHJpbmcpOiBEYXRlUGFydHMgPT4ge1xuXHRjb25zdCBwYXJ0cyA9IGRhdGVTdHIuc3BsaXQoL1teMC05YS16QS1aXSsvKS5maWx0ZXIoeCA9PiAhIXgpOyAvLyBzcGxpdCAxMC8yMS8xOTkwIGludG8gWycxMCcsJzIxJywnMTk5MCddXG5cblx0Y29uc3QgZGF0ZVBhcnRzOiBEYXRlUGFydHMgPSB7XG5cdFx0eWVhcjogbnVsbCxcblx0XHRtb250aDogbnVsbCxcblx0XHRkYXk6IG51bGwsXG5cdH07XG5cblx0Ly8gaWYgKHBhcnRzLmxlbmd0aCAhPT0gMykgcmV0dXJuIG51bGw7IC8vIHdpdGhvdXQgYSB5ZWFyLCBtb250aCwgYW5kIGRheSwgaXQncyBpbnZhbGlkXG5cblx0Y29uc3QgeWVhckluZGV4ID0gcGFydHMuZmluZEluZGV4KHN0ciA9PiBzdHIubWF0Y2goL1xcZHs0fS8pKTsgLy8gZmluZCB0aGUgb25lIHdpdGggNCBkaWdpdHMuIFRoYXQncyB0aGUgeWVhclxuXHRpZiAoeWVhckluZGV4ID09PSAtMSkgcmV0dXJuIG51bGw7IC8vIGlmIHRoZXJlJ3Mgbm90IGEgeWVhciwgaXQncyBpbnZhbGlkXG5cblx0ZGF0ZVBhcnRzLnllYXIgPSArcGFydHNbeWVhckluZGV4XTtcblx0cGFydHMuc3BsaWNlKHllYXJJbmRleCwgMSk7XG5cblx0aWYgKHBhcnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGRhdGVQYXJ0cztcblxuXHRjb25zdCBtb250aEluZGV4ID0gcGFydHMuZmluZEluZGV4KHN0ciA9PiBzdHIubWF0Y2goLyhbYS16QS1aXSspLykpOyAvLyBmaW5kIGEgbW9udGggd3JpdHRlbiB3aXRoIGxldHRlcnNcblx0aWYgKG1vbnRoSW5kZXggPj0gMCkge1xuXHRcdGNvbnN0IG1vbnRoID0gcGFydHNbbW9udGhJbmRleF07XG5cdFx0Y29uc3QgbG9jYWxlTW9udGhzID0gZ2V0TG9jYWxlTW9udGhMYWJlbHMobG9jYWxlKTtcblxuXHRcdGNvbnN0IG1vbnRoRm9ybWF0czogTW9udGhGb3JtYXRbXSA9IFsnbG9uZycsICduYXJyb3cnLCAnc2hvcnQnXTtcblxuXHRcdC8qIExvb2sgZm9yIHRoZSBtb3N0IHZlcmJvc2UgbW9udGhzIGZpcnN0LCB0aGVuIHRvIGxlc3MgdmVyYm9zZSAqL1xuXHRcdGZvciAobGV0IG1vbnRoRm9ybWF0IG9mIG1vbnRoRm9ybWF0cykge1xuXHRcdFx0Zm9yIChsZXQgbGFiZWxzIG9mIGxvY2FsZU1vbnRocykge1xuXHRcdFx0XHRjb25zdCB7IG51bWVyaWMgfSA9IGxhYmVscztcblx0XHRcdFx0aWYgKGxhYmVsc1ttb250aEZvcm1hdF0udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKG1vbnRoLnRvTG93ZXJDYXNlKCkpKSB7IC8vIGZvdW5kIGEgdmFsaWQgbW9udGggc3RyaW5nIGZvciB0aGlzIGxvY2FsZVxuXHRcdFx0XHRcdGRhdGVQYXJ0cy5tb250aCA9ICtudW1lcmljO1xuXHRcdFx0XHRcdHBhcnRzLnNwbGljZShtb250aEluZGV4LCAxKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGRhdGVQYXJ0cy5tb250aCAhPT0gbnVsbCkgYnJlYWs7XG5cdFx0fVxuXG5cdFx0aWYgKGRhdGVQYXJ0cy5tb250aCA9PT0gbnVsbCkgeyAvLyBoYWQgbGV0dGVycyBmb3IgdGhlIG1vbnRoLCBidXQgY291bGRuJ3QgZmluZCBhIG1hdGNoIGluIHRoaXMgbG9jYWxlXG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCtwYXJ0c1swXSA+IDAgJiYgK3BhcnRzWzBdIDwgMzEpIHsgLy8gaWYgcmVtYWluaW5nIGRheSBpcyB2YWxpZFxuXHRcdFx0XHRkYXRlUGFydHMuZGF5ID0gK3BhcnRzWzBdO1xuXHRcdFx0fS8qICBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9ICovXG5cdFx0XHRyZXR1cm4gZGF0ZVBhcnRzO1xuXHRcdH1cblx0fVxuXG5cdGNvbnN0IGRheUluZGV4ID0gcGFydHMuZmluZEluZGV4KHN0ciA9PiArc3RyID4gMTIgJiYgK3N0ciA8PSAzMSk7IC8vIE9ubHkgYSBkYXkgY2FuIGJlID4gMTIsIHNvIGlmIGl0IGlzLCBpdCdzIHRoZSBkYXkgcGFydFxuXHRpZiAoZGF5SW5kZXggPj0gMCkge1xuXHRcdGRhdGVQYXJ0cy5kYXkgPSArcGFydHNbZGF5SW5kZXhdO1xuXHRcdHBhcnRzLnNwbGljZShkYXlJbmRleCwgMSk7XG5cdH1cblxuXHRpZiAocGFydHMubGVuZ3RoID4gMSkgeyAvLyBTdGlsbCBhbWJpZ3VvdXMgZGF5IGFuZCBtb250aFxuXHRcdGNvbnN0IGRhdGVGb3JtYXQgPSBnZXREYXRlRm9ybWF0KGxvY2FsZSk7XG5cdFx0LyogRGV0ZXJtaW5lIGlmIG1vbnRocyBvciBkYXlzIGFyZSB3cml0dGVuIGZpcnN0IGluIHRoaXMgbG9jYWxlLiAqL1xuXHRcdGxldCBtSW5kZXggPSBkYXRlRm9ybWF0LmluZGV4T2YoJ00nKTtcblx0XHRsZXQgZEluZGV4ID0gZGF0ZUZvcm1hdC5pbmRleE9mKCdEJyk7XG5cblx0XHRsZXQgbW9udGgsIGRheTtcblxuXHRcdGlmIChtSW5kZXggPCBkSW5kZXgpIHtcblx0XHRcdG1vbnRoID0gK3BhcnRzWzBdO1xuXHRcdFx0ZGF5ID0gK3BhcnRzWzFdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXkgPSArcGFydHNbMF07XG5cdFx0XHRtb250aCA9ICtwYXJ0c1sxXTtcblx0XHR9XG5cblx0XHRkYXRlUGFydHMubW9udGggPSBtb250aDtcblx0XHRkYXRlUGFydHMuZGF5ID0gZGF5O1xuXHR9IGVsc2Uge1xuXHRcdGNvbnN0IG1vbnRoID0gK3BhcnRzWzBdO1xuXHRcdGlmIChtb250aCA+IDAgJiYgbW9udGggPD0gMTIpIHtcblx0XHRcdGRhdGVQYXJ0cy5tb250aCA9IG1vbnRoO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBkYXRlUGFydHM7XG59O1xuXG4vKiBUaGlzIGZ1bmN0aW9uIHdpbGwgaGVscCBkZXRlcm1pbmUgaWYgbW9udGhzIG9yIGRheXMgYXJlIHdyaXR0ZW4gZmlyc3QgaW4gdGhpcyBsb2NhbGUgKi9cbmZ1bmN0aW9uIGdldERhdGVGb3JtYXQobG9jYWxlOiBzdHJpbmcpIHtcblx0Y29uc3QgZm9ybWF0dGVkID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQobG9jYWxlKS5mb3JtYXQobmV3IERhdGUoMjAwMCwgMCwgMikpO1xuXHRyZXR1cm4gZm9ybWF0dGVkXG5cdFx0LnJlcGxhY2UoJzIwMDAnLCAnWVlZWScpXG5cdFx0LnJlcGxhY2UoJzAxJywgJ01NJylcblx0XHQucmVwbGFjZSgnMScsICdNJylcblx0XHQucmVwbGFjZSgnMDInLCAnREQnKVxuXHRcdC5yZXBsYWNlKCcyJywgJ0QnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvcnREYXRlUmFuZ2UoZGF0ZXM6IERhdGVbXSkge1xuXHRyZXR1cm4gZGF0ZXMuc29ydChkYXRlU29ydCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXRlQXJyVG9EYXRlKGRhdGVBcnI6IERhdGVBcnIpIHtcblx0aWYgKGRhdGVBcnIuZmlsdGVyKHZhbCA9PiB2YWwgIT0gdW5kZWZpbmVkKS5sZW5ndGggIT09IDMpIHJldHVybiBudWxsO1xuXG5cdGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgnMS8xLzIwMDAnKTtcblx0ZGF0ZS5zZXRGdWxsWWVhcihkYXRlQXJyWzBdKTtcblx0ZGF0ZS5zZXRNb250aChkYXRlQXJyWzFdKTtcblx0ZGF0ZS5zZXREYXRlKGRhdGVBcnJbMl0pO1xuXHRyZXR1cm4gZGF0ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRhdGVUb0RhdGVBcnIoZGF0ZTogRGF0ZSk6IERhdGVBcnIge1xuXHRyZXR1cm4gW2RhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsYXN0RGF5T2ZNb250aCh5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIpOiBudW1iZXIge1xuXHQvKlxuXHQgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlXG5cdCAqIE5vdGU6IFdoZXJlIERhdGUgaXMgY2FsbGVkIGFzIGEgY29uc3RydWN0b3Igd2l0aCBtb3JlIHRoYW4gb25lIGFyZ3VtZW50LCBpZiB2YWx1ZXMgYXJlIGdyZWF0ZXIgKG9yIGxlc3MgdGhhbikgdGhhbiB0aGVpciBsb2dpY2FsIHJhbmdlXG5cdCAqIChlLmcuIDEzIGlzIHByb3ZpZGVkIGFzIHRoZSBtb250aCB2YWx1ZSBvciA3MCBmb3IgdGhlIG1pbnV0ZSB2YWx1ZSksIHRoZSBhZGphY2VudCB2YWx1ZSB3aWxsIGJlIGFkanVzdGVkLiBFLmcuIG5ldyBEYXRlKDIwMTMsIDEzLCAxKVxuXHQgKiBpcyBlcXVpdmFsZW50IHRvIG5ldyBEYXRlKDIwMTQsIDEsIDEpLCBib3RoIGNyZWF0ZSBhIGRhdGUgZm9yIDIwMTQtMDItMDEgKG5vdGUgdGhhdCB0aGUgbW9udGggaXMgMC1iYXNlZCkuXG5cdCAqIFNpbWlsYXJseSBmb3Igb3RoZXIgdmFsdWVzOiBuZXcgRGF0ZSgyMDEzLCAyLCAxLCAwLCA3MCkgaXMgZXF1aXZhbGVudCB0byBuZXcgRGF0ZSgyMDEzLCAyLCAxLCAxLCAxMClcblx0ICogd2hpY2ggYm90aCBjcmVhdGUgYSBkYXRlIGZvciAyMDEzLTAzLTAxVDAxOjEwOjAwLlxuXHQgKlxuXHQgKiBCeSBhZGRpbmcgMSB0byB0aGUgbW9udGggYW5kIHBhc3NpbmcgMCBhcyB0aGUgZGF5LCB3ZSBhcmUgZ2V0dGluZyB0aGUgbGFzdCBkYXkgb2YgdGhlIG1vbnRoIHdoaWNoIGlzXG5cdCAqIGJlZm9yZSB0aGUgbW9udGggZm9sbG93aW5nIHRoZSBtb250aCBwYXNzZWQgdG8gZ2VuZXJhdGVEYXlzXG5cdCAqL1xuXHRyZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGggKyAxLCAwKS5nZXREYXRlKCk7XG59XG5cbmV4cG9ydCBjb25zdCBpc1ZhbGlkWWVhciA9ICh5ZWFyU3RyOiBzdHJpbmcpID0+IHtcblx0cmV0dXJuIHllYXJTdHIubGVuZ3RoID09PSA0ICYmICt5ZWFyU3RyID4gMTQwMCAmJiAreWVhclN0ciA8IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3J0RGF0ZUFycihkYXRlQXJyYXlzOiBEYXRlQXJyW10pIHtcblx0bGV0IFthcnIxLCBhcnIyXSA9IGRhdGVBcnJheXM7XG5cdGxldCBhcnIxSXNCZWZvcmUgPSB0cnVlO1xuXG5cdGlmICghYXJyMSB8fCAhYXJyMikge1xuXHRcdGFycjFJc0JlZm9yZSA9IHRydWU7XG5cdH0gZWxzZSBpZiAoIWFycjFbMF0pIHtcblx0XHRhcnIxSXNCZWZvcmUgPSBmYWxzZTtcblx0fSBlbHNlIGlmICghYXJyMlswXSkge1xuXHRcdGFycjFJc0JlZm9yZSA9IHRydWU7XG5cdH0gZWxzZSBpZiAoYXJyMVswXSA8IGFycjJbMF0pIHtcblx0XHRhcnIxSXNCZWZvcmUgPSB0cnVlO1xuXHR9IGVsc2UgaWYgKGFycjFbMF0gPT09IGFycjJbMF0pIHtcblx0XHRpZiAoYXJyMVsxXSA8IGFycjJbMV0pIHtcblx0XHRcdGFycjFJc0JlZm9yZSA9IHRydWU7XG5cdFx0fSBlbHNlIGlmIChhcnIxWzFdID09PSBhcnIyWzFdKSB7XG5cdFx0XHRpZiAoYXJyMVsyXSA8IGFycjJbMl0pIHtcblx0XHRcdFx0YXJyMUlzQmVmb3JlID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGFycjFJc0JlZm9yZSA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRhcnIxSXNCZWZvcmUgPSBmYWxzZTtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0YXJyMUlzQmVmb3JlID0gZmFsc2U7XG5cdH1cblxuXHRpZiAoYXJyMUlzQmVmb3JlKSByZXR1cm4gZGF0ZUFycmF5cy5zbGljZSgpO1xuXHRlbHNlIHJldHVybiBbYXJyMiwgYXJyMV07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6084\n")},26487:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Ur: () => (/* binding */ getDaysAgo),\n/* harmony export */   um: () => (/* binding */ toJavaDate)\n/* harmony export */ });\n/* unused harmony exports ISOToDatetimeLocal, datetimeLocalToISO, datetimeLocalToTimezone */\n/* harmony import */ var _time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(96846);\n\nvar ISOToDatetimeLocal = function (isoDateStr) {\n    return isoDateStr.slice(0, 19);\n};\nvar datetimeLocalToISO = function (dtLocalStr) {\n    return \"\".concat(dtLocalStr, \":00-\").concat(getUTCTZ(dtLocalStr));\n};\nfunction datetimeLocalToTimezone(localDatetime, timezone) {\n    var timeZone;\n    switch (timezone) {\n        case Timezones.ACST:\n            timeZone = 'Australia/Adelaide';\n            break;\n        case Timezones.AEST:\n            timeZone = 'Australia/Sydney';\n            break;\n        case Timezones.CST:\n            timeZone = 'America/Chicago';\n            break;\n        case Timezones.EST:\n            timeZone = 'America/New_York';\n            break;\n        case Timezones.GMT:\n            timeZone = 'Europe/London';\n            break;\n        case Timezones.NZST:\n            timeZone = 'Pacific/Auckland';\n            break;\n        case Timezones.PST:\n            timeZone = 'America/Los_Angeles';\n            break;\n        case Timezones.MST:\n        default:\n            timeZone = 'America/Denver';\n            break;\n    }\n    var dateTimeWithTZ = new Date(localDatetime).toLocaleString('en-US', { timeZone: timeZone });\n    var isoDateString = new Date(dateTimeWithTZ).toISOString();\n    return ISOToDatetimeLocal(isoDateString);\n}\nvar getUTCTZ = function (dateStr) {\n    var tz = new Date(dateStr).getTimezoneOffset();\n    if (Number.isNaN(tz))\n        return '0000';\n    var hours = tz / 60;\n    if (hours === 0) {\n        hours = '00';\n    }\n    else if (hours < 10) {\n        hours = '0' + hours;\n    }\n    return \"\".concat(hours, \":00\");\n};\nvar toJavaDate = function (date) {\n    if (!(date instanceof Date)) {\n        date = new Date(date);\n    }\n    if (isNaN(date.getMilliseconds()))\n        return null;\n    //chop off the milliseconds\n    return date.toJSON().slice(0, 19) + 'Z';\n};\nvar getDaysAgo = function (pastDate) {\n    var today = new Date();\n    var diff = today.getTime() - pastDate.getTime();\n    return (0,_time__WEBPACK_IMPORTED_MODULE_0__.getTimeInDays)(diff, 'ms');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjY0ODcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2RhdGVVdGlsLnRzP2M1YzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGltZXpvbmVzLCBnZXRUaW1lSW5EYXlzIH0gZnJvbSAnLi90aW1lJztcblxuZXhwb3J0IGNvbnN0IElTT1RvRGF0ZXRpbWVMb2NhbCA9IChpc29EYXRlU3RyOiBzdHJpbmcpID0+IHtcblx0cmV0dXJuIGlzb0RhdGVTdHIuc2xpY2UoMCwgMTkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRhdGV0aW1lTG9jYWxUb0lTTyA9IChkdExvY2FsU3RyOiBzdHJpbmcpID0+IHtcblx0cmV0dXJuIGAke2R0TG9jYWxTdHJ9OjAwLSR7Z2V0VVRDVFooZHRMb2NhbFN0cil9YDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXRldGltZUxvY2FsVG9UaW1lem9uZShsb2NhbERhdGV0aW1lOiBzdHJpbmcsIHRpbWV6b25lOiBUaW1lem9uZXMpOiBzdHJpbmcge1xuXHRsZXQgdGltZVpvbmU6IHN0cmluZztcblxuXHRzd2l0Y2ggKHRpbWV6b25lKSB7XG5cdFx0Y2FzZSBUaW1lem9uZXMuQUNTVDpcblx0XHRcdHRpbWVab25lID0gJ0F1c3RyYWxpYS9BZGVsYWlkZSc7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFRpbWV6b25lcy5BRVNUOlxuXHRcdFx0dGltZVpvbmUgPSAnQXVzdHJhbGlhL1N5ZG5leSc7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFRpbWV6b25lcy5DU1Q6XG5cdFx0XHR0aW1lWm9uZSA9ICdBbWVyaWNhL0NoaWNhZ28nO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBUaW1lem9uZXMuRVNUOlxuXHRcdFx0dGltZVpvbmUgPSAnQW1lcmljYS9OZXdfWW9yayc7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFRpbWV6b25lcy5HTVQ6XG5cdFx0XHR0aW1lWm9uZSA9ICdFdXJvcGUvTG9uZG9uJztcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgVGltZXpvbmVzLk5aU1Q6XG5cdFx0XHR0aW1lWm9uZSA9ICdQYWNpZmljL0F1Y2tsYW5kJztcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgVGltZXpvbmVzLlBTVDpcblx0XHRcdHRpbWVab25lID0gJ0FtZXJpY2EvTG9zX0FuZ2VsZXMnO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBUaW1lem9uZXMuTVNUOlxuXHRcdGRlZmF1bHQ6XG5cdFx0XHR0aW1lWm9uZSA9ICdBbWVyaWNhL0RlbnZlcic7XG5cdFx0XHRicmVhaztcblx0fVxuXG5cdGNvbnN0IGRhdGVUaW1lV2l0aFRaID0gbmV3IERhdGUobG9jYWxEYXRldGltZSkudG9Mb2NhbGVTdHJpbmcoJ2VuLVVTJywgeyB0aW1lWm9uZSB9KTtcblx0Y29uc3QgaXNvRGF0ZVN0cmluZyA9IG5ldyBEYXRlKGRhdGVUaW1lV2l0aFRaKS50b0lTT1N0cmluZygpO1xuXG5cdHJldHVybiBJU09Ub0RhdGV0aW1lTG9jYWwoaXNvRGF0ZVN0cmluZyk7XG59XG5cbmNvbnN0IGdldFVUQ1RaID0gKGRhdGVTdHI6IHN0cmluZykgPT4ge1xuXHRsZXQgdHogPSBuZXcgRGF0ZShkYXRlU3RyKS5nZXRUaW1lem9uZU9mZnNldCgpO1xuXHRpZiAoTnVtYmVyLmlzTmFOKHR6KSkgcmV0dXJuICcwMDAwJztcblxuXHRsZXQgaG91cnM6IHN0cmluZyB8IG51bWJlciA9IHR6IC8gNjA7XG5cdGlmIChob3VycyA9PT0gMCkge1xuXHRcdGhvdXJzID0gJzAwJztcblx0fSBlbHNlIGlmIChob3VycyA8IDEwKSB7XG5cdFx0aG91cnMgPSAnMCcgKyBob3Vycztcblx0fVxuXHRyZXR1cm4gYCR7aG91cnN9OjAwYDtcbn07XG5cbmV4cG9ydCBjb25zdCB0b0phdmFEYXRlID0gKGRhdGU6IHN0cmluZyB8IERhdGUpID0+IHtcblx0aWYgKCEoZGF0ZSBpbnN0YW5jZW9mIERhdGUpKSB7XG5cdFx0ZGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuXHR9XG5cblx0aWYgKGlzTmFOKGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkpKSByZXR1cm4gbnVsbDtcblxuXHQvL2Nob3Agb2ZmIHRoZSBtaWxsaXNlY29uZHNcblx0cmV0dXJuIGRhdGUudG9KU09OKCkuc2xpY2UoMCwgMTkpICsgJ1onO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldERheXNBZ28gPSAocGFzdERhdGU6IERhdGUpID0+IHtcblx0bGV0IHRvZGF5ID0gbmV3IERhdGUoKTtcblx0bGV0IGRpZmYgPSB0b2RheS5nZXRUaW1lKCkgLSBwYXN0RGF0ZS5nZXRUaW1lKCk7XG5cdHJldHVybiBnZXRUaW1lSW5EYXlzKGRpZmYsICdtcycpO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26487\n")},85695:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  Z: () => (/* binding */ deepCompare)\n});\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/typeOf.ts\n/* harmony default export */ function typeOf(thing) {\n    return /\\[object (\\w+)\\]/.exec(Object.prototype.toString.call(thing))[1].toLowerCase();\n}\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/deepCompare.ts\n\n/*\n *With allowPartial === true, the following objects would match because\n *every key/value pair in target is equal to those in comparator\n *\n *target = { a: 1 },\n *comparator = { a: 1, b: 2 }\n *\n *with allowPartial === false, the following objects wouldn't match because\n *the objects don't contain all the same key/value pairs\n *target = { a: 1 },\n *comparator = { a: 1, b: 2 }\n */\nfunction deepCompare(target, comparator, allowPartial) {\n    if (allowPartial === void 0) { allowPartial = false; }\n    var targetType = typeOf(target), comparatorType = typeOf(comparator);\n    if (targetType !== comparatorType)\n        return false;\n    switch (targetType) {\n        case 'array':\n            return compareArray(target, comparator, allowPartial);\n        case 'object':\n            return compareObject(target, comparator, allowPartial);\n        default:\n            return strictCompare(target, comparator);\n    }\n}\nfunction compareObject(obj1, obj2, allowPartial) {\n    if (allowPartial === void 0) { allowPartial = false; }\n    var obj1Keys = Object.keys(obj1), obj2Keys = Object.keys(obj2);\n    if (!allowPartial) {\n        if (obj1Keys.length != obj2Keys.length)\n            return false;\n        if (obj1Keys.sort().join() != obj2Keys.sort().join())\n            return false;\n    }\n    return Object.keys(obj1).every(function (key) { return deepCompare(obj1[key], obj2[key], allowPartial); });\n}\nfunction compareArray(arr1, arr2, allowPartial) {\n    if (allowPartial === void 0) { allowPartial = false; }\n    if (!allowPartial) {\n        if (arr1.length != arr2.length)\n            return false;\n    }\n    return arr1.every(function (val, index) { return deepCompare(val, arr2[index], allowPartial); });\n}\nfunction strictCompare(val1, val2) {\n    if (Number.isNaN(val1) && Number.isNaN(val2))\n        return true;\n    return val1 === val2;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODU2OTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7O0FDRkE7QUFNQTs7Ozs7Ozs7Ozs7QUFXQTtBQUVBO0FBQUE7QUFDQTtBQUdBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL3R5cGVPZi50cz80NTIwIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvZGVlcENvbXBhcmUudHM/N2IxOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih0aGluZzogYW55KSB7XG5cdHJldHVybiAvXFxbb2JqZWN0IChcXHcrKVxcXS8uZXhlYyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpbmcpKVsxXS50b0xvd2VyQ2FzZSgpO1xufVxuIiwiaW1wb3J0IHR5cGVPZiBmcm9tICcuL3R5cGVPZic7XG5cbmludGVyZmFjZSBHZW5lcmljT2JqZWN0IHtcblx0W2tleTogc3RyaW5nXTogYW55XG59XG5cbi8qXG4gKldpdGggYWxsb3dQYXJ0aWFsID09PSB0cnVlLCB0aGUgZm9sbG93aW5nIG9iamVjdHMgd291bGQgbWF0Y2ggYmVjYXVzZVxuICpldmVyeSBrZXkvdmFsdWUgcGFpciBpbiB0YXJnZXQgaXMgZXF1YWwgdG8gdGhvc2UgaW4gY29tcGFyYXRvclxuICpcbiAqdGFyZ2V0ID0geyBhOiAxIH0sXG4gKmNvbXBhcmF0b3IgPSB7IGE6IDEsIGI6IDIgfVxuICpcbiAqd2l0aCBhbGxvd1BhcnRpYWwgPT09IGZhbHNlLCB0aGUgZm9sbG93aW5nIG9iamVjdHMgd291bGRuJ3QgbWF0Y2ggYmVjYXVzZVxuICp0aGUgb2JqZWN0cyBkb24ndCBjb250YWluIGFsbCB0aGUgc2FtZSBrZXkvdmFsdWUgcGFpcnNcbiAqdGFyZ2V0ID0geyBhOiAxIH0sXG4gKmNvbXBhcmF0b3IgPSB7IGE6IDEsIGI6IDIgfVxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZXBDb21wYXJlKHRhcmdldDogYW55LCBjb21wYXJhdG9yOiBhbnksIGFsbG93UGFydGlhbDogYm9vbGVhbiA9IGZhbHNlKTogYm9vbGVhbiB7XG5cdGNvbnN0IHRhcmdldFR5cGUgPSB0eXBlT2YodGFyZ2V0KSxcblx0XHQgIGNvbXBhcmF0b3JUeXBlID0gdHlwZU9mKGNvbXBhcmF0b3IpO1xuXG5cdGlmICh0YXJnZXRUeXBlICE9PSBjb21wYXJhdG9yVHlwZSkgcmV0dXJuIGZhbHNlO1xuXG5cdHN3aXRjaCAodGFyZ2V0VHlwZSkge1xuXHRcdGNhc2UgJ2FycmF5Jzpcblx0XHRcdHJldHVybiBjb21wYXJlQXJyYXkodGFyZ2V0IGFzIEFycmF5PGFueT4sIGNvbXBhcmF0b3IsIGFsbG93UGFydGlhbCk7XG5cdFx0Y2FzZSAnb2JqZWN0Jzpcblx0XHRcdHJldHVybiBjb21wYXJlT2JqZWN0KHRhcmdldCBhcyBHZW5lcmljT2JqZWN0LCBjb21wYXJhdG9yLCBhbGxvd1BhcnRpYWwpO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gc3RyaWN0Q29tcGFyZSh0YXJnZXQsIGNvbXBhcmF0b3IpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVPYmplY3Qob2JqMTogR2VuZXJpY09iamVjdCwgb2JqMjogR2VuZXJpY09iamVjdCwgYWxsb3dQYXJ0aWFsOiBib29sZWFuID0gZmFsc2UpOiBib29sZWFuIHtcblx0dmFyIG9iajFLZXlzID0gT2JqZWN0LmtleXMob2JqMSksXG5cdFx0b2JqMktleXMgPSBPYmplY3Qua2V5cyhvYmoyKTtcblxuXHRpZiAoIWFsbG93UGFydGlhbCkge1xuXHRcdGlmIChvYmoxS2V5cy5sZW5ndGggIT0gb2JqMktleXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cdFx0aWYgKG9iajFLZXlzLnNvcnQoKS5qb2luKCkgIT0gb2JqMktleXMuc29ydCgpLmpvaW4oKSkgcmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdC5rZXlzKG9iajEpLmV2ZXJ5KGtleSA9PiBkZWVwQ29tcGFyZShvYmoxW2tleV0sIG9iajJba2V5XSwgYWxsb3dQYXJ0aWFsKSk7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVBcnJheShhcnIxOiBBcnJheTxhbnk+LCBhcnIyOiBBcnJheTxhbnk+LCBhbGxvd1BhcnRpYWw6IGJvb2xlYW4gPSBmYWxzZSk6IGJvb2xlYW4ge1xuXHRpZiAoIWFsbG93UGFydGlhbCkge1xuXHRcdGlmIChhcnIxLmxlbmd0aCAhPSBhcnIyLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdHJldHVybiBhcnIxLmV2ZXJ5KCh2YWwsIGluZGV4KSA9PiBkZWVwQ29tcGFyZSh2YWwsIGFycjJbaW5kZXhdLCBhbGxvd1BhcnRpYWwpKTtcbn1cblxuZnVuY3Rpb24gc3RyaWN0Q29tcGFyZSh2YWwxOiBhbnksIHZhbDI6IGFueSk6IGJvb2xlYW4ge1xuXHRpZiAoTnVtYmVyLmlzTmFOKHZhbDEpICYmIE51bWJlci5pc05hTih2YWwyKSkgcmV0dXJuIHRydWU7XG5cdHJldHVybiB2YWwxID09PSB2YWwyO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///85695\n")},49691:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   R: () => (/* binding */ deepMerge)\n/* harmony export */ });\nfunction deepMerge(target, src, mergeArrays) {\n    if (mergeArrays === void 0) { mergeArrays = true; }\n    var array = Array.isArray(src);\n    var result;\n    var t1 = target, t2 = src;\n    if (array) {\n        if (mergeArrays) {\n            result = [];\n            t1 = t1 || [];\n            result = result.concat(t1);\n            t2.forEach(function (item, index) {\n                if (typeof result[index] === 'undefined') {\n                    result[index] = item;\n                }\n                else if (typeof item === 'object') {\n                    result[index] = deepMerge(t1[index], item, mergeArrays);\n                }\n                else {\n                    if (t1.indexOf(item) === -1) {\n                        result.push(item);\n                    }\n                }\n            });\n        }\n        else {\n            result = src;\n        }\n    }\n    else {\n        result = {};\n        if (t1 && typeof t1 === 'object') {\n            Object.keys(t1).forEach(function (key) {\n                result[key] = t1[key];\n            });\n        }\n        Object.keys(t2).forEach(function (key) {\n            if (typeof t2[key] !== 'object' || !t2[key]) {\n                result[key] = t2[key];\n            }\n            else {\n                if (!t1[key]) {\n                    result[key] = t2[key];\n                }\n                else {\n                    result[key] = deepMerge(t1[key], t2[key], mergeArrays);\n                }\n            }\n        });\n    }\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDk2OTEuanMiLCJtYXBwaW5ncyI6Ijs7O0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9kZWVwTWVyZ2UudHM/MWM4YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0t5bGVBTWF0aGV3cy9kZWVwbWVyZ2VcbnR5cGUgT2JqZWN0T3JBcnJheSA9IE9iamVjdCB8IEFycmF5PGFueT47XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWVwTWVyZ2U8VDEgZXh0ZW5kcyBPYmplY3RPckFycmF5LCBUMiBleHRlbmRzIE9iamVjdE9yQXJyYXk+KHRhcmdldDogVDEsIHNyYzogVDIsIG1lcmdlQXJyYXlzOiBib29sZWFuID0gdHJ1ZSk6IFQxICYgVDIge1xuXHR2YXIgYXJyYXkgPSBBcnJheS5pc0FycmF5KHNyYyk7XG5cdHZhciByZXN1bHQ6IGFueTtcblxuXHRsZXQgdDEgPSB0YXJnZXQgYXMgYW55LCB0MiA9IHNyYyBhcyBhbnk7XG5cblx0aWYgKGFycmF5KSB7XG5cdFx0aWYgKG1lcmdlQXJyYXlzKSB7XG5cdFx0XHRyZXN1bHQgPSBbXTtcblx0XHRcdHQxID0gdDEgfHwgW107XG5cdFx0XHRyZXN1bHQgPSByZXN1bHQuY29uY2F0KHQxKTtcblx0XHRcdCh0MiBhcyBhbnkpLmZvckVhY2goZnVuY3Rpb24oaXRlbTogYW55LCBpbmRleDogYW55KSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgcmVzdWx0W2luZGV4XSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRyZXN1bHRbaW5kZXhdID0gaXRlbTtcblx0XHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdFx0XHRyZXN1bHRbaW5kZXhdID0gZGVlcE1lcmdlKHQxW2luZGV4XSwgaXRlbSwgbWVyZ2VBcnJheXMpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICh0MS5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuXHRcdFx0XHRcdFx0cmVzdWx0LnB1c2goaXRlbSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gc3JjO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRyZXN1bHQgPSB7fTtcblx0XHRpZiAodDEgJiYgdHlwZW9mIHQxID09PSAnb2JqZWN0Jykge1xuXHRcdFx0T2JqZWN0LmtleXModDEpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG5cdFx0XHRcdHJlc3VsdFtrZXldID0gdDFba2V5XTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRPYmplY3Qua2V5cyh0MikuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdGlmICh0eXBlb2YgdDJba2V5XSAhPT0gJ29iamVjdCcgfHwgIXQyW2tleV0pIHtcblx0XHRcdFx0cmVzdWx0W2tleV0gPSB0MltrZXldO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCF0MVtrZXldKSB7XG5cdFx0XHRcdFx0cmVzdWx0W2tleV0gPSB0MltrZXldO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHJlc3VsdFtrZXldID0gZGVlcE1lcmdlKHQxW2tleV0sIHQyW2tleV0sIG1lcmdlQXJyYXlzKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIHJlc3VsdCBhcyBUMSAmIFQyO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///49691\n")},19416:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   S: () => (/* binding */ deserializer)\n/* harmony export */ });\n/* harmony import */ var _DeserializerClass__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21147);\n/* harmony import */ var _mappings_mappings_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(58736);\n\n\nvar deserializer = new _DeserializerClass__WEBPACK_IMPORTED_MODULE_0__/* .Deserializer */ .Z(_mappings_mappings_json__WEBPACK_IMPORTED_MODULE_1__);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTk0MTYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2Rlc2VyaWFsaXplci50cz82NjNlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERlc2VyaWFsaXplciwgTWFwcGluZ09iaiB9IGZyb20gJy4vRGVzZXJpYWxpemVyQ2xhc3MnO1xuaW1wb3J0IG1hcHBpbmdzIGZyb20gJy4uLy4uL21hcHBpbmdzL21hcHBpbmdzLmpzb24nO1xuXG5leHBvcnQgY29uc3QgZGVzZXJpYWxpemVyID0gbmV3IERlc2VyaWFsaXplcihtYXBwaW5ncyBhcyBhbnkgYXMgTWFwcGluZ09iaik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19416\n")},37421:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   z: () => (/* binding */ getEnvironment)\n/* harmony export */ });\n/* harmony import */ var _getRuntime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(51057);\n\nfunction getEnvironment() {\n    switch ((0,_getRuntime__WEBPACK_IMPORTED_MODULE_0__/* .getRuntime */ .OP)()) {\n        case 'BROWSER':\n            return window.F3.page.environment;\n        case 'NODE':\n            return process.env.ENV;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc0MjEuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvZW52aXJvbm1lbnQudHM/MGVjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGb2xkM0Vudmlyb25tZW50IH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IGdldFJ1bnRpbWUgfSBmcm9tICcuL2dldFJ1bnRpbWUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW52aXJvbm1lbnQoKTogRm9sZDNFbnZpcm9ubWVudCB7XG5cdHN3aXRjaCAoZ2V0UnVudGltZSgpKSB7XG5cdFx0Y2FzZSAnQlJPV1NFUic6XG5cdFx0XHRyZXR1cm4gKHdpbmRvdyBhcyBhbnkpLkYzLnBhZ2UuZW52aXJvbm1lbnQ7XG5cdFx0Y2FzZSAnTk9ERSc6XG5cdFx0XHRyZXR1cm4gcHJvY2Vzcy5lbnYuRU5WIGFzIEZvbGQzRW52aXJvbm1lbnQ7XG5cdH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///37421\n")},66682:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   L: () => (/* binding */ RISON_DEFAULTS),\n/* harmony export */   v: () => (/* binding */ Rison)\n/* harmony export */ });\n/* eslint-disable */\n/*\n *COPIED following MIT license from https://github.com/lmangani/rison.js\n *Turned it into a class and added TS to make it much easier to maintain and understand\n */\nvar RISON_DEFAULTS = {\n    NOT_ID_CHAR: \" '!:(),*@$\",\n    NOT_ID_START: '-0123456789',\n    WHITESPACE: '',\n};\nvar Rison = /** @class */ (function () {\n    function Rison(opts) {\n        if (opts === void 0) { opts = {}; }\n        this.not_idchar = RISON_DEFAULTS.NOT_ID_CHAR;\n        this.not_idstart = RISON_DEFAULTS.NOT_ID_START; // Characters that are illegal as the start of an id. This is so ids can't look like numbers.\n        this.whitespace = RISON_DEFAULTS.WHITESPACE;\n        this.no_quote = /^[-A-Za-z0-9~!*()_.',:@$&\\/]*$/;\n        this.decode_array = function (r) {\n            /**\n             * parse a rison string into a javascript structure.\n             * this simply adds array markup around the string before parsing.\n             */\n            return this.decode('!(' + r + ')');\n        };\n        if (opts.notIdChar)\n            this.not_idchar = opts.notIdChar;\n        if (opts.notIdStart)\n            this.not_idstart = opts.notIdStart;\n        if (opts.whitespace)\n            this.whitespace = opts.whitespace;\n        if (opts.replaceWhitespace)\n            this.replaceWhitespace = opts.replaceWhitespace;\n        this.id_regex_str = \"[^\".concat(this.not_idstart).concat(this.not_idchar, \"][^\").concat(this.not_idchar, \"]*\");\n        this.id_ok = new RegExp(\"^\".concat(this.id_regex_str, \"$\"));\n        this.next_id = new RegExp(this.id_regex_str, 'g'); // regexp to find the end of an id when parsing\n    }\n    Rison.prototype.encode = function (x) {\n        if (x && typeof x.toJSON === 'function')\n            x = x.toJSON();\n        var type = typeof x;\n        switch (type) {\n            case 'boolean': return this.encodeBoolean(x);\n            case 'number': return this.encodeNumber(x);\n            case 'object': return this.INTERNAL_encodeObject(x);\n            case 'string': return this.encodeString(x);\n            case 'undefined': return;\n            default:\n                throw new Error(\"\".concat(type, \" is an unsupported rison type\"));\n        }\n    };\n    Rison.prototype.encodeObject = function (v) {\n        /* encode a javascript object without surrounding parens */\n        if (typeof v != 'object' || v === null || v instanceof Array) {\n            throw new Error('rison.encode_object expects an object argument');\n        }\n        var r = this.encode(v);\n        return r.substring(1, r.length - 1);\n    };\n    ;\n    Rison.prototype.encodeArray = function (arr) {\n        /* encode a javascript array without surrounding parens */\n        if (!(arr instanceof Array)) {\n            throw new Error('rison.encode_array expects an array argument');\n        }\n        var r = this.encode(arr);\n        return r.substring(2, r.length - 1);\n    };\n    ;\n    Rison.prototype.encodeUri = function (v) {\n        /* encode and uri-encode a javascript structure */\n        return this.quote(this.encode(v));\n    };\n    ;\n    Rison.prototype.quote = function (str) {\n        if (this.no_quote.test(str)) {\n            return str;\n        }\n        return encodeURIComponent(str)\n            .replaceAll(/%2C/g, ',')\n            .replaceAll(/%3A/g, ':')\n            .replaceAll(/%40/g, '@')\n            .replaceAll(/%24/g, '$')\n            .replaceAll(/%2F/g, '/')\n            .replaceAll(/%20/g, '+')\n            .replaceAll(/%2B/g, '+');\n    };\n    Rison.prototype.decode = function (str) {\n        str = decodeURIComponent(str);\n        return new RisonParser({\n            nextId: this.next_id,\n            whitespace: this.whitespace,\n        }).parse(str);\n    };\n    Rison.prototype.decode_object = function (r) {\n        /*\n         * parse a rison string into a javascript structure.\n         * this simply adds parentheses around the string before parsing.\n         */\n        return this.decode('(' + r + ')');\n    };\n    Rison.prototype.encodeString = function (str) {\n        if (str === '')\n            return \"''\";\n        if (this.replaceWhitespace) {\n            str = this.replaceWhitespace(str);\n        }\n        if (this.id_ok.test(str))\n            return str;\n        str = str.replace(/(['!])/g, function (_, subStr) {\n            if (subStr === \"'\" || subStr === '!') {\n                return \"!\".concat(subStr);\n            }\n            return subStr;\n        });\n        return \"'\".concat(str, \"'\");\n    };\n    Rison.prototype.encodeNull = function () {\n        return '!n';\n    };\n    Rison.prototype.INTERNAL_encodeObject = function (obj) {\n        if (obj) {\n            if (obj instanceof Array) {\n                return this.INTERNAL_encodeArray(obj);\n            }\n            var arr = ['('];\n            var notFirst = false;\n            var keys = Object.keys(obj).sort();\n            for (var i = 0; i < keys.length; i++) {\n                var key = keys[i];\n                var val = this.encode(obj[key]);\n                if (typeof val === 'string') {\n                    if (notFirst)\n                        arr.push(',');\n                    arr.push(this.encodeString(key), ':', val);\n                    notFirst = true;\n                }\n            }\n            arr.push(')');\n            return arr.join('');\n        }\n        else {\n            return this.encodeNull();\n        }\n    };\n    Rison.prototype.INTERNAL_encodeArray = function (arr) {\n        var returnArr = ['!('];\n        var notFirst = false;\n        for (var i = 0; i < arr.length; i += 1) {\n            var v = this.encode(arr[i]);\n            if (typeof v == 'string') {\n                if (notFirst)\n                    returnArr.push(',');\n                returnArr.push(v);\n                notFirst = true;\n            }\n        }\n        returnArr.push(')');\n        return returnArr.join('');\n    };\n    Rison.prototype.encodeNumber = function (num) {\n        if (!isFinite(num))\n            return '!n';\n        return String(num).replace(/\\+/, ''); // strip '+' out of exponent, '-' is ok though\n    };\n    Rison.prototype.encodeBoolean = function (bool) {\n        return bool ? '!t' : '!f';\n    };\n    return Rison;\n}());\n\nvar RisonParser = /** @class */ (function () {\n    function RisonParser(opts) {\n        /**\n         * A string containing acceptable whitespace characters.\n         * By default the rison decoder tolerates no whitespace.\n         * To accept whitespace set RisonParser.WHITESPACE = \" \\t\\n\\r\\f\";\n         */\n        this.whitespace = RISON_DEFAULTS.WHITESPACE;\n        this.nextIdRegEx = opts.nextId;\n        if ('whitespace' in opts)\n            this.whitespace = opts.whitespace;\n    }\n    RisonParser.prototype.parse = function (str) {\n        this.string = str;\n        this.index = 0;\n        this.message = null;\n        var value = this.readValue();\n        if (!this.message && this.next()) {\n            this.error(\"unable to parse string as rison: '\" + new Rison().encode(str) + \"'\");\n        }\n        if (this.message) {\n            throw Error('rison decoder error: ' + this.message);\n        }\n        return value;\n    };\n    RisonParser.prototype.error = function (message) {\n        console.log('rison parser error: ', message);\n        this.message = message;\n    };\n    RisonParser.prototype.readValue = function () {\n        var char = this.next();\n        switch (char) {\n            case '!':\n                return this.parseExclamation();\n            case '(':\n                return this.parseParen();\n            case \"'\":\n                return this.parseQuote();\n            case '-':\n            case '0':\n            case '1':\n            case '2':\n            case '3':\n            case '4':\n            case '5':\n            case '6':\n            case '7':\n            case '8':\n            case '9':\n                return this.parseNumber();\n            default:\n                return this.parseOther(char);\n        }\n    };\n    RisonParser.prototype.parseArray = function () {\n        var arr = [];\n        var char;\n        while ((char = this.next()) != ')') {\n            if (!char)\n                return this.error(\"unmatched '!('\");\n            if (arr.length) {\n                if (char != ',')\n                    this.error(\"missing ','\");\n            }\n            else if (char == ',') {\n                return this.error(\"extra ','\");\n            }\n            else {\n                --this.index;\n            }\n            var val = this.readValue();\n            if (val === undefined)\n                return;\n            arr.push(val);\n        }\n        return arr;\n    };\n    RisonParser.prototype.next = function () {\n        var char;\n        do {\n            if (this.index == this.string.length)\n                return;\n            char = this.string.charAt(this.index++);\n        } while (this.whitespace.indexOf(char) >= 0);\n        return char;\n    };\n    RisonParser.prototype.parseOther = function (char) {\n        var i = this.index - 1;\n        // g flag on the regexp is necessary\n        this.nextIdRegEx.lastIndex = i;\n        var m = this.nextIdRegEx.exec(this.string);\n        if (m.length > 0) {\n            var id = m[0];\n            this.index = i + id.length;\n            return id; // a string\n        }\n        if (char)\n            this.error(\"invalid character: '\" + char + \"'\");\n        else\n            this.error('empty expression');\n    };\n    RisonParser.prototype.parseExclamation = function () {\n        var s = this.string;\n        var c = s.charAt(this.index++);\n        if (!c) {\n            this.error('\"!\" at end of input');\n            return;\n        }\n        switch (c) {\n            case 't': return true;\n            case 'f': return false;\n            case 'n': return null;\n            case '(': return this.parseArray();\n            default: {\n                this.error('unknown literal: \"!' + c + '\"');\n                return;\n            }\n        }\n    };\n    RisonParser.prototype.parseNumber = function () {\n        var s = this.string;\n        var i = this.index;\n        var start = i - 1;\n        var state = 'int';\n        var permittedSigns = '-';\n        var transitions = {\n            'int+.': 'frac',\n            'int+e': 'exp',\n            'frac+e': 'exp',\n        };\n        do {\n            var c = s.charAt(i++);\n            if (!c)\n                break;\n            if ('0' <= c && c <= '9')\n                continue;\n            if (permittedSigns.indexOf(c) >= 0) {\n                permittedSigns = '';\n                continue;\n            }\n            state = transitions[state + '+' + c.toLowerCase()];\n            if (state == 'exp')\n                permittedSigns = '-';\n        } while (state);\n        this.index = --i;\n        s = s.slice(start, i);\n        if (s == '-') {\n            this.error('invalid number');\n            return;\n        }\n        return Number(s);\n    };\n    RisonParser.prototype.parseQuote = function () {\n        var s = this.string;\n        var i = this.index;\n        var start = i;\n        var segments = [];\n        var c;\n        while ((c = s.charAt(i++)) != \"'\") {\n            if (!c) {\n                this.error('unmatched \"\\'\"');\n                return;\n            }\n            if (c == '!') {\n                if (start < i - 1)\n                    segments.push(s.slice(start, i - 1));\n                c = s.charAt(i++);\n                if (\"!'\".indexOf(c) >= 0) {\n                    segments.push(c);\n                }\n                else {\n                    this.error('invalid string escape: \"!' + c + '\"');\n                    return;\n                }\n                start = i;\n            }\n        }\n        if (start < i - 1)\n            segments.push(s.slice(start, i - 1));\n        this.index = i;\n        return segments.length == 1 ? segments[0] : segments.join('');\n    };\n    RisonParser.prototype.parseParen = function () {\n        var o = {};\n        var c;\n        var count = 0;\n        while ((c = this.next()) != ')') {\n            if (count) {\n                if (c != ',') {\n                    this.error(\"missing ','\");\n                }\n            }\n            else if (c == ',') {\n                this.error(\"extra ','\");\n                return;\n            }\n            else {\n                --this.index;\n            }\n            var k = this.readValue();\n            if (k === undefined) {\n                return;\n            }\n            if (this.next() != ':') {\n                this.error(\"missing ':'\");\n                return;\n            }\n            var v = this.readValue();\n            if (v === undefined) {\n                return;\n            }\n            o[k] = v;\n            count++;\n        }\n        return o;\n    };\n    return RisonParser;\n}());\n/* jshint ignore:start */\n/* jscs: disable */\n//////////////////////////////////////////////////\n//\n//  the stringifier is based on\n//    http://json.org/json.js as of 2006-04-28 from json.org\n//  the parser is based on\n//    http://osteele.com/sources/openlaszlo/json\n//\n// interface Rison {\n/*\n * \t[other: string]: any\n * }\n */\n/*\n * interface RisonParser {\n * \t[other: string]: any\n * }\n */\n// var rison: Rison = {} as Rison;\n/**\n *  rules for an uri encoder that is more tolerant than encodeURIComponent\n *\n *  encodeURIComponent passes  ~!*()-_.'\n *\n *  we also allow              ,:@$/\n *\n */\n/*\n * rison.uri_ok = { // ok in url paths and in form query args\n * \t'~': true,\n * \t'!': true,\n * \t'*': true,\n * \t'(': true,\n * \t')': true,\n * \t'-': true,\n * \t'_': true,\n * \t'.': true,\n * \t',': true,\n * \t':': true,\n * \t'@': true,\n * \t'$': true,\n * \t\"'\": true,\n * \t'/': true\n * };\n */\n/*\n * we divide the uri-safe glyphs into three sets\n *   <rison> - used by rison                         ' ! : ( ) ,\n *   <reserved> - not common in strings, reserved    * @ $ & ; =\n *\n * we define <identifier> as anything that's not forbidden\n */\n/**\n * punctuation characters that are legal inside ids.\n */\n// (function () {\n// \tvar l = [];\n// \tfor (var hi = 0; hi < 16; hi++) {\n// \t\tfor (var lo = 0; lo < 16; lo++) {\n// \t\t\tif (hi + lo == 0) continue;\n// \t\t\tvar c = String.fromCharCode(hi * 16 + lo);\n// \t\t\tif (!/\\w|[-_.\\/~]/.test(c))\n// \t\t\t\tl.push('\\\\u00' + hi.toString(16) + lo.toString(16));\n// \t\t}\n// \t}\n// \t/**\n// \t * characters that are illegal inside ids.\n// \t * <rison> and <reserved> classes are illegal in ids.\n// \t *\n// \t */\n// \trison.not_idchar = l.join('')\n// })();\n// rison.not_idchar = \" \\t'!:(),*@$\";\n// /**\n//  * characters that are illegal as the start of an id\n//  * this is so ids can't look like numbers.\n//  */\n// rison.not_idstart = \"-0123456789\";\n/*\n * (function () {\n * \tvar idrx = '[^' + rison.not_idstart + rison.not_idchar +\n * \t\t'][^' + rison.not_idchar + ']*';\n */\n// \trison.id_ok = new RegExp('^' + idrx + '$');\n/*\n * \t// regexp to find the end of an id when parsing\n * \t// g flag on the regexp is necessary for iterative regexp.exec()\n * \trison.next_id = new RegExp(idrx, 'g');\n * })();\n */\n/**\n * this is like encodeURIComponent() but quotes fewer characters.\n *\n * @see rison.uri_ok\n *\n * encodeURIComponent passes   ~!*()-_.'\n * rison.quote also passes   ,:@$/\n *   and quotes \" \" as \"+\" instead of \"%20\"\n */\n/*\n * rison.quote = function (x: string) {\n * \tif (/^[-A-Za-z0-9~!*()_.',:@$\\/]*$/.test(x))\n * \t\treturn x;\n */\n/*\n * \treturn encodeURIComponent(x)\n * \t\t.replaceAll(/%2C/g, ',')\n * \t\t.replaceAll(/%3A/g, ':')\n * \t\t.replaceAll(/%40/g, '@')\n * \t\t.replaceAll(/%24/g, '$')\n * \t\t.replaceAll(/%2F/g, '/')\n * \t\t.replaceAll(/%20/g, '+');\n * };\n */\n/*\n *\n *  based on json.js 2006-04-28 from json.org\n *  license: http://www.json.org/license.html\n *\n *  hacked by nix for use in uris.\n *\n */\n/*\n * (function () {\n * var sq = { // url-ok but quoted in strings\n * \t\"'\": true,\n * \t'!': true\n * }\n * var enc = function (v: any) {\n * \tif (v && typeof v.toJSON === 'function') v = v.toJSON();\n * \tvar fn = s[typeof v];\n * \tif (fn) return fn(v);\n * };\n * var s: any = {\n * array: function (x: any[]) {\n * \tvar a = ['!('],\n * \t\tb, f, i, l = x.length,\n * \t\tv;\n * \tfor (i = 0; i < l; i += 1) {\n * \t\tv = enc(x[i]);\n * \t\tif (typeof v == 'string') {\n * \t\t\tif (b) {\n * \t\t\t\ta[a.length] = ',';\n * \t\t\t}\n * \t\t\ta[a.length] = v;\n * \t\t\tb = true;\n * \t\t}\n * \t}\n * \ta[a.length] = ')';\n * \treturn a.join('');\n * },\n * 'boolean': function (x: boolean) {\n * \tif (x)\n * \t\treturn '!t';\n * \treturn '!f'\n * },\n * 'null': function (x: null) {\n * \treturn \"!n\";\n * },\n * number: function (x: number) {\n * \tif (!isFinite(x))\n * \t\treturn '!n';\n * \t// strip '+' out of exponent, '-' is ok though\n * \treturn String(x).replace(/\\+/, '');\n * },\n * object: function (x: Obj | any[]) {\n * \tif (x) {\n * \t\tif (x instanceof Array) {\n * \t\t\treturn s.array(x);\n * \t\t}\n */\n/*\n * \t\tvar a = ['('],\n * \t\t\tb, f, i, v, ki, ks = [];\n * \t\tfor (i in x)\n * \t\t\tks[ks.length] = i;\n * \t\tks.sort();\n * \t\tfor (ki = 0; ki < ks.length; ki++) {\n * \t\t\ti = ks[ki];\n * \t\t\tv = enc(x[i]);\n * \t\t\tif (typeof v == 'string') {\n * \t\t\t\tif (b) {\n * \t\t\t\t\ta[a.length] = ',';\n * \t\t\t\t}\n * \t\t\t\ta.push(s.string(i), ':', v);\n * \t\t\t\tb = true;\n * \t\t\t}\n * \t\t}\n * \t\ta[a.length] = ')';\n * \t\treturn a.join('');\n * \t}\n * \treturn '!n';\n * },\n * string: function (x: string) {\n * \tif (x == '')\n * \t\treturn \"''\";\n */\n/*\n * \tif (rison.id_ok.test(x))\n * \t\treturn x;\n */\n/*\n * \tx = x.replace(/(['!])/g, function (a, b) {\n * \t\tif ((sq as any)[b]) return '!' + b;\n * \t\treturn b;\n * \t});\n * \treturn \"'\" + x + \"'\";\n * },\n * undefined: function (x: undefined) {\n * \t// ignore undefined just like JSON\n * \t// throw new Error(\"rison can't encode the undefined value\");\n * }\n * };\n */\n/**\n * rison-encode a javascript structure\n *\n *  implemementation based on Douglas Crockford's json.js:\n *    http://json.org/json.js as of 2006-04-28 from json.org\n *\n */\n/*\n * rison.encode = function (v: any) {\n * \treturn enc(v);\n * };\n */\n/**\n * rison-encode a javascript object without surrounding parens\n *\n */\n/*\n * rison.encode_object = function (v: Obj) {\n * \tif (typeof v != 'object' || v === null || v instanceof Array)\n * \t\tthrow new Error(\"rison.encode_object expects an object argument\");\n * \tvar r = s[typeof v](v);\n * \treturn r.substring(1, r.length - 1);\n * };\n */\n// /**\n//  * rison-encode a javascript array without surrounding parens\n//  *\n//  */\n// rison.encode_array = function (v: any[]) {\n// \tif (!(v instanceof Array))\n// \t\tthrow new Error(\"rison.encode_array expects an array argument\");\n// \tvar r = s[typeof v](v);\n// \treturn r.substring(2, r.length - 1);\n// };\n// /**\n//  * rison-encode and uri-encode a javascript structure\n//  *\n//  */\n// rison.encode_uri = function (v: any) {\n// \treturn rison.quote(s[typeof v](v));\n// };\n// })();\n/*\n *\n * based on openlaszlo-json and hacked by nix for use in uris.\n *\n * Author: Oliver Steele\n * Copyright: Copyright 2006 Oliver Steele.  All rights reserved.\n * Homepage: http://osteele.com/sources/openlaszlo/json\n * License: MIT License.\n * Version: 1.0\n */\n/**\n * parse a rison string into a javascript structure.\n *\n * this is the simplest decoder entry point.\n *\n *  based on Oliver Steele's OpenLaszlo-JSON\n *     http://osteele.com/sources/openlaszlo/json\n */\n/*\n * rison.decode = function (r: string) {\n * \tr = decodeURIComponent(r);\n * \tvar errcb = function (e: any) {\n * \t\tthrow Error('rison decoder error: ' + e);\n * \t};\n * \tvar p = new rison.parser(errcb);\n * \treturn p.parse(r);\n * };\n */\n// /**\n//  * parse an o-rison string into a javascript structure.\n//  *\n//  * this simply adds parentheses around the string before parsing.\n//  */\n// rison.decode_object = function (r: string) {\n// \treturn rison.decode('(' + r + ')');\n// };\n// /**\n//  * parse an a-rison string into a javascript structure.\n//  *\n//  * this simply adds array markup around the string before parsing.\n//  */\n// rison.decode_array = function (r: string) {\n// \treturn rison.decode('!(' + r + ')');\n// };\n/**\n * construct a new parser object for reuse.\n *\n * @constructor\n * @class A Rison parser class.  You should probably\n *        use rison.decode instead.\n * @see rison.decode\n */\n/*\n * rison.parser = function (errcb: (...args: any[]) => any) {\n * \tthis.errorHandler = errcb;\n * };\n */\n/**\n * a string containing acceptable whitespace characters.\n * by default the rison decoder tolerates no whitespace.\n * to accept whitespace set rison.parser.WHITESPACE = \" \\t\\n\\r\\f\";\n */\n// rison.parser.WHITESPACE = \"\";\n/*\n * expose this as-is?\n * rison.parser.prototype.setOptions = function (options?: { errorHandler?: () => any }) {\n * \tif (options['errorHandler'])\n * \t\tthis.errorHandler = options.errorHandler;\n * };\n */\n/**\n * parse a rison string into a javascript structure.\n */\n/*\n * rison.parser.prototype.parse = function (str: string) {\n * \tthis.string = str;\n * \tthis.index = 0;\n * \tthis.message = null;\n * \tvar value = this.readValue();\n * \tif (!this.message && this.next())\n * \t\tvalue = this.error(\"unable to parse string as rison: '\" + rison.encode(str) + \"'\");\n * \tif (this.message && this.errorHandler)\n * \t\tthis.errorHandler(this.message, this.index);\n * \treturn value;\n * };\n */\n/*\n * rison.parser.prototype.error = function (message: string): undefined {\n * \tif (typeof (console) != 'undefined')\n * \t\tconsole.log('rison parser error: ', message);\n * \tthis.message = message;\n * \treturn undefined;\n * }\n */\n/*\n * rison.parser.prototype.readValue = function () {\n * \tvar c = this.next();\n * \tvar fn = c && this.table[c];\n */\n/*\n * \tif (fn)\n * \t\treturn fn.apply(this);\n */\n// \t// fell through table, parse as an id\n/*\n * \tvar s = this.string;\n * \tvar i = this.index - 1;\n */\n/*\n * \t// Regexp.lastIndex may not work right in IE before 5.5?\n * \t// g flag on the regexp is also necessary\n * \trison.next_id.lastIndex = i;\n * \tvar m = rison.next_id.exec(s);\n */\n/*\n * \tif (m.length > 0) {\n * \t\tvar id = m[0];\n * \t\tthis.index = i + id.length;\n * \t\treturn id; // a string\n * \t}\n */\n/*\n * \tif (c) return this.error(\"invalid character: '\" + c + \"'\");\n * \treturn this.error(\"empty expression\");\n * }\n */\n/*\n * rison.parser.parse_array = function (parser: RisonParser) {\n * \tvar ar = [];\n * \tvar c;\n * \twhile ((c = parser.next()) != ')') {\n * \t\tif (!c) return parser.error(\"unmatched '!('\");\n * \t\tif (ar.length) {\n * \t\t\tif (c != ',')\n * \t\t\t\tparser.error(\"missing ','\");\n * \t\t} else if (c == ',') {\n * \t\t\treturn parser.error(\"extra ','\");\n * \t\t} else\n * \t\t\t--parser.index;\n * \t\tvar n = parser.readValue();\n * \t\tif (typeof n == \"undefined\") return undefined;\n * \t\tar.push(n);\n * \t}\n * \treturn ar;\n * };\n */\n/*\n * rison.parser.bangs = {\n * \tt: true,\n * \tf: false,\n * \tn: null,\n * \t'(': rison.parser.parse_array\n * }\n */\n/*\n * rison.parser.prototype.table = {\n * '!': function () {\n * \tvar s = this.string;\n * \tvar c = s.charAt(this.index++);\n * \tif (!c) return this.error('\"!\" at end of input');\n * \tvar x = rison.parser.bangs[c];\n * \tif (typeof (x) == 'function') {\n * \t\treturn x.call(null, this);\n * \t} else if (typeof (x) == 'undefined') {\n * \t\treturn this.error('unknown literal: \"!' + c + '\"');\n * \t}\n * \treturn x;\n * },\n * '(': function () {\n * \tvar o = {};\n * \tvar c;\n * \tvar count = 0;\n * \twhile ((c = this.next()) != ')') {\n * \t\tif (count) {\n * \t\t\tif (c != ',')\n * \t\t\t\tthis.error(\"missing ','\");\n * \t\t} else if (c == ',') {\n * \t\t\treturn this.error(\"extra ','\");\n * \t\t} else\n * \t\t\t--this.index;\n * \t\tvar k = this.readValue();\n * \t\tif (typeof k == \"undefined\") return undefined;\n * \t\tif (this.next() != ':') return this.error(\"missing ':'\");\n * \t\tvar v = this.readValue();\n * \t\tif (typeof v == \"undefined\") return undefined;\n * \t\t(o as any)[k] = v;\n * \t\tcount++;\n * \t}\n * \treturn o;\n * },\n * \"'\": function () {\n * \tvar s = this.string;\n * \tvar i = this.index;\n * \tvar start = i;\n * \tvar segments = [];\n * \tvar c;\n * \twhile ((c = s.charAt(i++)) != \"'\") {\n * \t\tif (!c) return this.error('unmatched \"\\'\"');\n * \t\tif (c == '!') {\n * \t\t\tif (start < i - 1)\n * \t\t\t\tsegments.push(s.slice(start, i - 1));\n * \t\t\tc = s.charAt(i++);\n * \t\t\tif (\"!'\".indexOf(c) >= 0) {\n * \t\t\t\tsegments.push(c);\n * \t\t\t} else {\n * \t\t\t\treturn this.error('invalid string escape: \"!' + c + '\"');\n * \t\t\t}\n * \t\t\tstart = i;\n * \t\t}\n * \t}\n * \tif (start < i - 1)\n * \t\tsegments.push(s.slice(start, i - 1));\n * \tthis.index = i;\n * \treturn segments.length == 1 ? segments[0] : segments.join('');\n * },\n * Also any digit.  The statement that follows this table\n * definition fills in the digits.\n * '-': function () {\n * \tvar s = this.string;\n * \tvar i = this.index;\n * \tvar start = i - 1;\n * \tvar state = 'int';\n * \tvar permittedSigns = '-';\n * \tvar transitions = {\n * \t\t'int+.': 'frac',\n * \t\t'int+e': 'exp',\n * \t\t'frac+e': 'exp'\n * \t};\n * \tdo {\n * \t\tvar c = s.charAt(i++);\n * \t\tif (!c) break;\n * \t\tif ('0' <= c && c <= '9') continue;\n * \t\tif (permittedSigns.indexOf(c) >= 0) {\n * \t\t\tpermittedSigns = '';\n * \t\t\tcontinue;\n * \t\t}\n * \t\tstate = (transitions as any)[state + '+' + c.toLowerCase()];\n * \t\tif (state == 'exp') permittedSigns = '-';\n * \t} while (state);\n * \tthis.index = --i;\n * \ts = s.slice(start, i)\n * \tif (s == '-') return this.error(\"invalid number\");\n * \treturn Number(s);\n * }\n * };\n * copy table['-'] to each of table[i] | i <- '0'..'9':\n * (function (table) {\n * \tfor (var i = 0; i <= 9; i++)\n * \t\ttable[String(i)] = table['-'];\n * })(rison.parser.prototype.table);\n */\n/*\n * return the next non-whitespace character, or undefined\n * rison.parser.prototype.next = function () {\n * \tvar s = this.string;\n * \tvar i = this.index;\n * \tdo {\n * \t\tif (i == s.length) return undefined;\n * \t\tvar c = s.charAt(i++);\n * \t} while (rison.parser.WHITESPACE.indexOf(c) >= 0);\n * \tthis.index = i;\n * \treturn c;\n * };\n */\n/*\n * export const risonEncode = rison.encode;\n * export const risonDecode = rison.decode;\n */\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjY2ODIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7OztBQUdBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFBQTtBQVRBO0FBQ0E7QUFDQTtBQUlBO0FBdUZBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQXpGQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7O0FBT0E7QUFjQTtBQVJBOzs7O0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTs7O0FBR0E7QUFFQTs7OztBQUlBO0FBRUE7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBO0FBRUE7Ozs7OztBQU1BO0FBRUE7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7Ozs7QUFJQTtBQUVBO0FBRUE7Ozs7O0FBS0E7QUFFQTs7Ozs7Ozs7QUFRQTtBQUNBOzs7O0FBSUE7QUFFQTs7Ozs7Ozs7O0FBU0E7QUFHQTs7Ozs7OztBQU9BO0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWdEQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBeUJBO0FBRUE7OztBQUdBO0FBRUE7Ozs7Ozs7Ozs7OztBQVlBO0FBR0E7Ozs7OztBQU1BO0FBQ0E7Ozs7QUFJQTtBQUVBOzs7QUFHQTtBQUNBOzs7Ozs7O0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTs7Ozs7Ozs7O0FBU0E7QUFHQTs7Ozs7OztBQU9BO0FBQ0E7Ozs7Ozs7OztBQVNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7Ozs7QUFJQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUVBOzs7Ozs7QUFNQTtBQUVBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7OztBQVlBO0FBRUE7Ozs7Ozs7QUFPQTtBQUVBOzs7O0FBSUE7QUFFQTs7O0FBR0E7QUFFQTtBQUVBOzs7QUFHQTtBQUVBOzs7OztBQUtBO0FBRUE7Ozs7OztBQU1BO0FBRUE7Ozs7QUFJQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBbUJBO0FBRUE7Ozs7Ozs7QUFPQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnR0E7QUFFQTs7Ozs7Ozs7Ozs7O0FBWUE7QUFFQTs7O0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2V4dC9SaXNvbi50cz85YjY4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG4vKlxuICpDT1BJRUQgZm9sbG93aW5nIE1JVCBsaWNlbnNlIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2xtYW5nYW5pL3Jpc29uLmpzXG4gKlR1cm5lZCBpdCBpbnRvIGEgY2xhc3MgYW5kIGFkZGVkIFRTIHRvIG1ha2UgaXQgbXVjaCBlYXNpZXIgdG8gbWFpbnRhaW4gYW5kIHVuZGVyc3RhbmRcbiAqL1xuXG5pbXBvcnQgeyBPYmogfSBmcm9tICcuLi8uLi9kdG8vZjMtdHlwZXMnO1xuXG5pbnRlcmZhY2UgUmlzb25PcHRzIHtcblx0bm90SWRDaGFyPzogc3RyaW5nXG5cdG5vdElkU3RhcnQ/OiBzdHJpbmdcblx0d2hpdGVzcGFjZT86IHN0cmluZ1xuXHRyZXBsYWNlV2hpdGVzcGFjZT86IChzdHI6IHN0cmluZykgPT4gc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBSSVNPTl9ERUZBVUxUUyA9IHtcblx0Tk9UX0lEX0NIQVI6IFwiICchOigpLCpAJFwiLFxuXHROT1RfSURfU1RBUlQ6ICctMDEyMzQ1Njc4OScsXG5cdFdISVRFU1BBQ0U6ICcnLFxufTtcblxuZXhwb3J0IGNsYXNzIFJpc29uIHtcblx0cHJpdmF0ZSBub3RfaWRjaGFyOiBzdHJpbmcgPSBSSVNPTl9ERUZBVUxUUy5OT1RfSURfQ0hBUjtcblx0cHJpdmF0ZSBub3RfaWRzdGFydDogc3RyaW5nID0gUklTT05fREVGQVVMVFMuTk9UX0lEX1NUQVJUOyAvLyBDaGFyYWN0ZXJzIHRoYXQgYXJlIGlsbGVnYWwgYXMgdGhlIHN0YXJ0IG9mIGFuIGlkLiBUaGlzIGlzIHNvIGlkcyBjYW4ndCBsb29rIGxpa2UgbnVtYmVycy5cblx0cHJpdmF0ZSB3aGl0ZXNwYWNlOiBzdHJpbmcgPSBSSVNPTl9ERUZBVUxUUy5XSElURVNQQUNFO1xuXHRwcml2YXRlIGlkX3JlZ2V4X3N0cjogc3RyaW5nO1xuXHRwcml2YXRlIGlkX29rOiBSZWdFeHA7XG5cdHByaXZhdGUgbmV4dF9pZDogUmVnRXhwO1xuXHRwcml2YXRlIG5vX3F1b3RlID0gL15bLUEtWmEtejAtOX4hKigpXy4nLDpAJCZcXC9dKiQvO1xuXHRwcml2YXRlIHJlcGxhY2VXaGl0ZXNwYWNlOiAoc3RyOiBzdHJpbmcpID0+IHN0cmluZztcblxuXHRjb25zdHJ1Y3RvcihvcHRzOiBSaXNvbk9wdHMgPSB7fSkge1xuXHRcdGlmIChvcHRzLm5vdElkQ2hhcikgdGhpcy5ub3RfaWRjaGFyID0gb3B0cy5ub3RJZENoYXI7XG5cdFx0aWYgKG9wdHMubm90SWRTdGFydCkgdGhpcy5ub3RfaWRzdGFydCA9IG9wdHMubm90SWRTdGFydDtcblx0XHRpZiAob3B0cy53aGl0ZXNwYWNlKSB0aGlzLndoaXRlc3BhY2UgPSBvcHRzLndoaXRlc3BhY2U7XG5cdFx0aWYgKG9wdHMucmVwbGFjZVdoaXRlc3BhY2UpIHRoaXMucmVwbGFjZVdoaXRlc3BhY2UgPSBvcHRzLnJlcGxhY2VXaGl0ZXNwYWNlO1xuXG5cdFx0dGhpcy5pZF9yZWdleF9zdHIgPSBgW14ke3RoaXMubm90X2lkc3RhcnR9JHt0aGlzLm5vdF9pZGNoYXJ9XVteJHt0aGlzLm5vdF9pZGNoYXJ9XSpgO1xuXHRcdHRoaXMuaWRfb2sgPSBuZXcgUmVnRXhwKGBeJHt0aGlzLmlkX3JlZ2V4X3N0cn0kYCk7XG5cdFx0dGhpcy5uZXh0X2lkID0gbmV3IFJlZ0V4cCh0aGlzLmlkX3JlZ2V4X3N0ciwgJ2cnKTsgLy8gcmVnZXhwIHRvIGZpbmQgdGhlIGVuZCBvZiBhbiBpZCB3aGVuIHBhcnNpbmdcblx0fVxuXG5cdGVuY29kZSh4OiBhbnkpIHtcblx0XHRpZiAoeCAmJiB0eXBlb2YgeC50b0pTT04gPT09ICdmdW5jdGlvbicpIHggPSB4LnRvSlNPTigpO1xuXG5cdFx0Y29uc3QgdHlwZSA9IHR5cGVvZiB4O1xuXG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdib29sZWFuJzogcmV0dXJuIHRoaXMuZW5jb2RlQm9vbGVhbih4KTtcblx0XHRcdGNhc2UgJ251bWJlcic6IHJldHVybiB0aGlzLmVuY29kZU51bWJlcih4KTtcblx0XHRcdGNhc2UgJ29iamVjdCc6IHJldHVybiB0aGlzLklOVEVSTkFMX2VuY29kZU9iamVjdCh4KTtcblx0XHRcdGNhc2UgJ3N0cmluZyc6IHJldHVybiB0aGlzLmVuY29kZVN0cmluZyh4KTtcblx0XHRcdGNhc2UgJ3VuZGVmaW5lZCc6IHJldHVybjtcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgJHt0eXBlfSBpcyBhbiB1bnN1cHBvcnRlZCByaXNvbiB0eXBlYCk7XG5cdFx0fVxuXHR9XG5cblx0ZW5jb2RlT2JqZWN0KHY6IE9iaikge1xuXHRcdC8qIGVuY29kZSBhIGphdmFzY3JpcHQgb2JqZWN0IHdpdGhvdXQgc3Vycm91bmRpbmcgcGFyZW5zICovXG5cdFx0aWYgKHR5cGVvZiB2ICE9ICdvYmplY3QnIHx8IHYgPT09IG51bGwgfHwgdiBpbnN0YW5jZW9mIEFycmF5KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ3Jpc29uLmVuY29kZV9vYmplY3QgZXhwZWN0cyBhbiBvYmplY3QgYXJndW1lbnQnKTtcblx0XHR9XG5cblx0XHR2YXIgciA9IHRoaXMuZW5jb2RlKHYpO1xuXHRcdHJldHVybiByLnN1YnN0cmluZygxLCByLmxlbmd0aCAtIDEpO1xuXHR9O1xuXG5cdGVuY29kZUFycmF5KGFycjogYW55W10pIHtcblx0XHQvKiBlbmNvZGUgYSBqYXZhc2NyaXB0IGFycmF5IHdpdGhvdXQgc3Vycm91bmRpbmcgcGFyZW5zICovXG5cdFx0aWYgKCEoYXJyIGluc3RhbmNlb2YgQXJyYXkpKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ3Jpc29uLmVuY29kZV9hcnJheSBleHBlY3RzIGFuIGFycmF5IGFyZ3VtZW50Jyk7XG5cdFx0fVxuXG5cdFx0dmFyIHIgPSB0aGlzLmVuY29kZShhcnIpO1xuXHRcdHJldHVybiByLnN1YnN0cmluZygyLCByLmxlbmd0aCAtIDEpO1xuXHR9O1xuXG5cdGVuY29kZVVyaSh2OiBhbnkpIHtcblx0XHQvKiBlbmNvZGUgYW5kIHVyaS1lbmNvZGUgYSBqYXZhc2NyaXB0IHN0cnVjdHVyZSAqL1xuXHRcdHJldHVybiB0aGlzLnF1b3RlKHRoaXMuZW5jb2RlKHYpKTtcblx0fTtcblxuXHRxdW90ZShzdHI6IHN0cmluZykge1xuXHRcdGlmICh0aGlzLm5vX3F1b3RlLnRlc3Qoc3RyKSkge1xuXHRcdFx0cmV0dXJuIHN0cjtcblx0XHR9XG5cblx0XHRyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cilcblx0XHRcdC5yZXBsYWNlQWxsKC8lMkMvZywgJywnKVxuXHRcdFx0LnJlcGxhY2VBbGwoLyUzQS9nLCAnOicpXG5cdFx0XHQucmVwbGFjZUFsbCgvJTQwL2csICdAJylcblx0XHRcdC5yZXBsYWNlQWxsKC8lMjQvZywgJyQnKVxuXHRcdFx0LnJlcGxhY2VBbGwoLyUyRi9nLCAnLycpXG5cdFx0XHQucmVwbGFjZUFsbCgvJTIwL2csICcrJylcblx0XHRcdC5yZXBsYWNlQWxsKC8lMkIvZywgJysnKTtcblx0fVxuXG5cdGRlY29kZTxUPihzdHI6IHN0cmluZyk6IFQge1xuXHRcdHN0ciA9IGRlY29kZVVSSUNvbXBvbmVudChzdHIpO1xuXG5cdFx0cmV0dXJuIG5ldyBSaXNvblBhcnNlcih7XG5cdFx0XHRuZXh0SWQ6IHRoaXMubmV4dF9pZCxcblx0XHRcdHdoaXRlc3BhY2U6IHRoaXMud2hpdGVzcGFjZSxcblx0XHR9KS5wYXJzZTxUPihzdHIpO1xuXHR9XG5cblx0ZGVjb2RlX29iamVjdChyOiBzdHJpbmcpIHtcblx0XHQvKlxuXHRcdCAqIHBhcnNlIGEgcmlzb24gc3RyaW5nIGludG8gYSBqYXZhc2NyaXB0IHN0cnVjdHVyZS5cblx0XHQgKiB0aGlzIHNpbXBseSBhZGRzIHBhcmVudGhlc2VzIGFyb3VuZCB0aGUgc3RyaW5nIGJlZm9yZSBwYXJzaW5nLlxuXHRcdCAqL1xuXHRcdHJldHVybiB0aGlzLmRlY29kZSgnKCcgKyByICsgJyknKTtcblx0fVxuXG5cdGRlY29kZV9hcnJheSA9IGZ1bmN0aW9uKHI6IHN0cmluZykge1xuXHRcdC8qKlxuXHRcdCAqIHBhcnNlIGEgcmlzb24gc3RyaW5nIGludG8gYSBqYXZhc2NyaXB0IHN0cnVjdHVyZS5cblx0XHQgKiB0aGlzIHNpbXBseSBhZGRzIGFycmF5IG1hcmt1cCBhcm91bmQgdGhlIHN0cmluZyBiZWZvcmUgcGFyc2luZy5cblx0XHQgKi9cblx0XHRyZXR1cm4gdGhpcy5kZWNvZGUoJyEoJyArIHIgKyAnKScpO1xuXHR9O1xuXG5cdHByaXZhdGUgZW5jb2RlU3RyaW5nKHN0cjogc3RyaW5nKSB7XG5cdFx0aWYgKHN0ciA9PT0gJycpIHJldHVybiBcIicnXCI7XG5cblx0XHRpZiAodGhpcy5yZXBsYWNlV2hpdGVzcGFjZSkge1xuXHRcdFx0c3RyID0gdGhpcy5yZXBsYWNlV2hpdGVzcGFjZShzdHIpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmlkX29rLnRlc3Qoc3RyKSkgcmV0dXJuIHN0cjtcblxuXHRcdHN0ciA9IHN0ci5yZXBsYWNlKC8oWychXSkvZywgZnVuY3Rpb24oXywgc3ViU3RyKSB7XG5cdFx0XHRpZiAoc3ViU3RyID09PSBcIidcIiB8fCBzdWJTdHIgPT09ICchJykge1xuXHRcdFx0XHRyZXR1cm4gYCEke3N1YlN0cn1gO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHN1YlN0cjtcblx0XHR9KTtcblxuXHRcdHJldHVybiBgJyR7c3RyfSdgO1xuXHR9XG5cblx0cHJpdmF0ZSBlbmNvZGVOdWxsKCkge1xuXHRcdHJldHVybiAnIW4nO1xuXHR9XG5cblx0cHJpdmF0ZSBJTlRFUk5BTF9lbmNvZGVPYmplY3Qob2JqOiBPYmogfCBhbnlbXSkge1xuXHRcdGlmIChvYmopIHtcblx0XHRcdGlmIChvYmogaW5zdGFuY2VvZiBBcnJheSkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5JTlRFUk5BTF9lbmNvZGVBcnJheShvYmopO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgYXJyID0gWycoJ107XG5cdFx0XHRsZXQgbm90Rmlyc3QgPSBmYWxzZTtcblx0XHRcdGxldCBrZXlzID0gT2JqZWN0LmtleXMob2JqKS5zb3J0KCk7XG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRsZXQga2V5ID0ga2V5c1tpXTtcblx0XHRcdFx0bGV0IHZhbCA9IHRoaXMuZW5jb2RlKG9ialtrZXldKTtcblxuXHRcdFx0XHRpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0XHRpZiAobm90Rmlyc3QpIGFyci5wdXNoKCcsJyk7XG5cdFx0XHRcdFx0YXJyLnB1c2godGhpcy5lbmNvZGVTdHJpbmcoa2V5KSwgJzonLCB2YWwpO1xuXHRcdFx0XHRcdG5vdEZpcnN0ID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0YXJyLnB1c2goJyknKTtcblx0XHRcdHJldHVybiBhcnIuam9pbignJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0aGlzLmVuY29kZU51bGwoKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIElOVEVSTkFMX2VuY29kZUFycmF5KGFycjogYW55W10pIHtcblx0XHR2YXIgcmV0dXJuQXJyID0gWychKCddO1xuXHRcdGxldCBub3RGaXJzdCA9IGZhbHNlO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGxldCB2ID0gdGhpcy5lbmNvZGUoYXJyW2ldKTtcblxuXHRcdFx0aWYgKHR5cGVvZiB2ID09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdGlmIChub3RGaXJzdCkgcmV0dXJuQXJyLnB1c2goJywnKTtcblx0XHRcdFx0cmV0dXJuQXJyLnB1c2godik7XG5cdFx0XHRcdG5vdEZpcnN0ID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm5BcnIucHVzaCgnKScpO1xuXHRcdHJldHVybiByZXR1cm5BcnIuam9pbignJyk7XG5cdH1cblxuXHRwcml2YXRlIGVuY29kZU51bWJlcihudW06IG51bWJlcikge1xuXHRcdGlmICghaXNGaW5pdGUobnVtKSkgcmV0dXJuICchbic7XG5cdFx0cmV0dXJuIFN0cmluZyhudW0pLnJlcGxhY2UoL1xcKy8sICcnKTsgLy8gc3RyaXAgJysnIG91dCBvZiBleHBvbmVudCwgJy0nIGlzIG9rIHRob3VnaFxuXHR9XG5cblx0cHJpdmF0ZSBlbmNvZGVCb29sZWFuKGJvb2w6IGJvb2xlYW4pIHtcblx0XHRyZXR1cm4gYm9vbCA/ICchdCcgOiAnIWYnO1xuXHR9XG59XG5cbmludGVyZmFjZSBSaXNvblBhcnNlck9wdHMge1xuXHR3aGl0ZXNwYWNlPzogc3RyaW5nXG5cdG5leHRJZDogUmVnRXhwXG59XG5cbmNsYXNzIFJpc29uUGFyc2VyIHtcblx0cHJpdmF0ZSBzdHJpbmc6IHN0cmluZztcblx0cHJpdmF0ZSBpbmRleDogbnVtYmVyO1xuXHRwcml2YXRlIG1lc3NhZ2U6IHN0cmluZztcblx0cHJpdmF0ZSBuZXh0SWRSZWdFeDogUmVnRXhwO1xuXG5cdC8qKlxuXHQgKiBBIHN0cmluZyBjb250YWluaW5nIGFjY2VwdGFibGUgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzLlxuXHQgKiBCeSBkZWZhdWx0IHRoZSByaXNvbiBkZWNvZGVyIHRvbGVyYXRlcyBubyB3aGl0ZXNwYWNlLlxuXHQgKiBUbyBhY2NlcHQgd2hpdGVzcGFjZSBzZXQgUmlzb25QYXJzZXIuV0hJVEVTUEFDRSA9IFwiIFxcdFxcblxcclxcZlwiO1xuXHQgKi9cblx0cHJpdmF0ZSB3aGl0ZXNwYWNlOiBzdHJpbmcgPSBSSVNPTl9ERUZBVUxUUy5XSElURVNQQUNFO1xuXG5cblx0Y29uc3RydWN0b3Iob3B0czogUmlzb25QYXJzZXJPcHRzKSB7XG5cdFx0dGhpcy5uZXh0SWRSZWdFeCA9IG9wdHMubmV4dElkO1xuXHRcdGlmICgnd2hpdGVzcGFjZScgaW4gb3B0cykgdGhpcy53aGl0ZXNwYWNlID0gb3B0cy53aGl0ZXNwYWNlO1xuXHR9XG5cblx0cGFyc2U8VD4oc3RyOiBzdHJpbmcpOiBUIHtcblx0XHR0aGlzLnN0cmluZyA9IHN0cjtcblx0XHR0aGlzLmluZGV4ID0gMDtcblx0XHR0aGlzLm1lc3NhZ2UgPSBudWxsO1xuXG5cdFx0dmFyIHZhbHVlID0gdGhpcy5yZWFkVmFsdWUoKTtcblxuXHRcdGlmICghdGhpcy5tZXNzYWdlICYmIHRoaXMubmV4dCgpKSB7XG5cdFx0XHR0aGlzLmVycm9yKFwidW5hYmxlIHRvIHBhcnNlIHN0cmluZyBhcyByaXNvbjogJ1wiICsgbmV3IFJpc29uKCkuZW5jb2RlKHN0cikgKyBcIidcIik7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMubWVzc2FnZSkge1xuXHRcdFx0dGhyb3cgRXJyb3IoJ3Jpc29uIGRlY29kZXIgZXJyb3I6ICcgKyB0aGlzLm1lc3NhZ2UpO1xuXHRcdH1cblxuXHRcdHJldHVybiB2YWx1ZSBhcyBUO1xuXHR9XG5cblx0cHJpdmF0ZSBlcnJvcihtZXNzYWdlOiBzdHJpbmcpIHtcblx0XHRjb25zb2xlLmxvZygncmlzb24gcGFyc2VyIGVycm9yOiAnLCBtZXNzYWdlKTtcblx0XHR0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHR9XG5cblx0cHJpdmF0ZSByZWFkVmFsdWUoKSB7XG5cdFx0dmFyIGNoYXIgPSB0aGlzLm5leHQoKTtcblxuXHRcdHN3aXRjaCAoY2hhcikge1xuXHRcdFx0Y2FzZSAnISc6XG5cdFx0XHRcdHJldHVybiB0aGlzLnBhcnNlRXhjbGFtYXRpb24oKTtcblx0XHRcdGNhc2UgJygnOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5wYXJzZVBhcmVuKCk7XG5cdFx0XHRjYXNlIFwiJ1wiOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5wYXJzZVF1b3RlKCk7XG5cdFx0XHRjYXNlICctJzpcblx0XHRcdGNhc2UgJzAnOlxuXHRcdFx0Y2FzZSAnMSc6XG5cdFx0XHRjYXNlICcyJzpcblx0XHRcdGNhc2UgJzMnOlxuXHRcdFx0Y2FzZSAnNCc6XG5cdFx0XHRjYXNlICc1Jzpcblx0XHRcdGNhc2UgJzYnOlxuXHRcdFx0Y2FzZSAnNyc6XG5cdFx0XHRjYXNlICc4Jzpcblx0XHRcdGNhc2UgJzknOlxuXHRcdFx0XHRyZXR1cm4gdGhpcy5wYXJzZU51bWJlcigpO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIHRoaXMucGFyc2VPdGhlcihjaGFyKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHBhcnNlQXJyYXkoKSB7XG5cdFx0dmFyIGFyciA9IFtdO1xuXHRcdHZhciBjaGFyO1xuXG5cdFx0d2hpbGUgKChjaGFyID0gdGhpcy5uZXh0KCkpICE9ICcpJykge1xuXHRcdFx0aWYgKCFjaGFyKSByZXR1cm4gdGhpcy5lcnJvcihcInVubWF0Y2hlZCAnISgnXCIpO1xuXG5cdFx0XHRpZiAoYXJyLmxlbmd0aCkge1xuXHRcdFx0XHRpZiAoY2hhciAhPSAnLCcpIHRoaXMuZXJyb3IoXCJtaXNzaW5nICcsJ1wiKTtcblx0XHRcdH0gZWxzZSBpZiAoY2hhciA9PSAnLCcpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZXJyb3IoXCJleHRyYSAnLCdcIik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQtLXRoaXMuaW5kZXg7XG5cdFx0XHR9XG5cblx0XHRcdHZhciB2YWwgPSB0aGlzLnJlYWRWYWx1ZSgpO1xuXHRcdFx0aWYgKHZhbCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XG5cdFx0XHRhcnIucHVzaCh2YWwpO1xuXHRcdH1cblxuXHRcdHJldHVybiBhcnI7XG5cdH1cblxuXHRwcml2YXRlIG5leHQoKSB7XG5cdFx0bGV0IGNoYXI7XG5cblx0XHRkbyB7XG5cdFx0XHRpZiAodGhpcy5pbmRleCA9PSB0aGlzLnN0cmluZy5sZW5ndGgpIHJldHVybjtcblx0XHRcdGNoYXIgPSB0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5pbmRleCsrKTtcblx0XHR9XG5cdFx0d2hpbGUgKHRoaXMud2hpdGVzcGFjZS5pbmRleE9mKGNoYXIpID49IDApO1xuXG5cdFx0cmV0dXJuIGNoYXI7XG5cdH1cblxuXHRwcml2YXRlIHBhcnNlT3RoZXIoY2hhcjogc3RyaW5nKSB7XG5cdFx0dmFyIGkgPSB0aGlzLmluZGV4IC0gMTtcblxuXHRcdC8vIGcgZmxhZyBvbiB0aGUgcmVnZXhwIGlzIG5lY2Vzc2FyeVxuXHRcdHRoaXMubmV4dElkUmVnRXgubGFzdEluZGV4ID0gaTtcblx0XHR2YXIgbSA9IHRoaXMubmV4dElkUmVnRXguZXhlYyh0aGlzLnN0cmluZyk7XG5cblx0XHRpZiAobS5sZW5ndGggPiAwKSB7XG5cdFx0XHR2YXIgaWQgPSBtWzBdO1xuXHRcdFx0dGhpcy5pbmRleCA9IGkgKyBpZC5sZW5ndGg7XG5cdFx0XHRyZXR1cm4gaWQ7IC8vIGEgc3RyaW5nXG5cdFx0fVxuXG5cdFx0aWYgKGNoYXIpIHRoaXMuZXJyb3IoXCJpbnZhbGlkIGNoYXJhY3RlcjogJ1wiICsgY2hhciArIFwiJ1wiKTtcblx0XHRlbHNlIHRoaXMuZXJyb3IoJ2VtcHR5IGV4cHJlc3Npb24nKTtcblx0fVxuXG5cdHByaXZhdGUgcGFyc2VFeGNsYW1hdGlvbigpOiBhbnkge1xuXHRcdHZhciBzID0gdGhpcy5zdHJpbmc7XG5cdFx0dmFyIGMgPSBzLmNoYXJBdCh0aGlzLmluZGV4KyspO1xuXHRcdGlmICghYykge1xuXHRcdFx0dGhpcy5lcnJvcignXCIhXCIgYXQgZW5kIG9mIGlucHV0Jyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0c3dpdGNoIChjKSB7XG5cdFx0XHRjYXNlICd0JzogcmV0dXJuIHRydWU7XG5cdFx0XHRjYXNlICdmJzogcmV0dXJuIGZhbHNlO1xuXHRcdFx0Y2FzZSAnbic6IHJldHVybiBudWxsO1xuXHRcdFx0Y2FzZSAnKCc6IHJldHVybiB0aGlzLnBhcnNlQXJyYXkoKTtcblx0XHRcdGRlZmF1bHQ6IHtcblx0XHRcdFx0dGhpcy5lcnJvcigndW5rbm93biBsaXRlcmFsOiBcIiEnICsgYyArICdcIicpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBwYXJzZU51bWJlcigpIHtcblx0XHR2YXIgcyA9IHRoaXMuc3RyaW5nO1xuXHRcdHZhciBpID0gdGhpcy5pbmRleDtcblx0XHR2YXIgc3RhcnQgPSBpIC0gMTtcblx0XHR2YXIgc3RhdGUgPSAnaW50Jztcblx0XHR2YXIgcGVybWl0dGVkU2lnbnMgPSAnLSc7XG5cdFx0dmFyIHRyYW5zaXRpb25zID0ge1xuXHRcdFx0J2ludCsuJzogJ2ZyYWMnLFxuXHRcdFx0J2ludCtlJzogJ2V4cCcsXG5cdFx0XHQnZnJhYytlJzogJ2V4cCcsXG5cdFx0fTtcblx0XHRkbyB7XG5cdFx0XHR2YXIgYyA9IHMuY2hhckF0KGkrKyk7XG5cdFx0XHRpZiAoIWMpIGJyZWFrO1xuXHRcdFx0aWYgKCcwJyA8PSBjICYmIGMgPD0gJzknKSBjb250aW51ZTtcblx0XHRcdGlmIChwZXJtaXR0ZWRTaWducy5pbmRleE9mKGMpID49IDApIHtcblx0XHRcdFx0cGVybWl0dGVkU2lnbnMgPSAnJztcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRzdGF0ZSA9ICh0cmFuc2l0aW9ucyBhcyBhbnkpW3N0YXRlICsgJysnICsgYy50b0xvd2VyQ2FzZSgpXTtcblx0XHRcdGlmIChzdGF0ZSA9PSAnZXhwJykgcGVybWl0dGVkU2lnbnMgPSAnLSc7XG5cdFx0fSB3aGlsZSAoc3RhdGUpO1xuXHRcdHRoaXMuaW5kZXggPSAtLWk7XG5cdFx0cyA9IHMuc2xpY2Uoc3RhcnQsIGkpO1xuXHRcdGlmIChzID09ICctJykge1xuXHRcdFx0dGhpcy5lcnJvcignaW52YWxpZCBudW1iZXInKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0cmV0dXJuIE51bWJlcihzKTtcblx0fVxuXG5cdHByaXZhdGUgcGFyc2VRdW90ZSgpIHtcblx0XHR2YXIgcyA9IHRoaXMuc3RyaW5nO1xuXHRcdHZhciBpID0gdGhpcy5pbmRleDtcblx0XHR2YXIgc3RhcnQgPSBpO1xuXHRcdHZhciBzZWdtZW50cyA9IFtdO1xuXHRcdHZhciBjO1xuXHRcdHdoaWxlICgoYyA9IHMuY2hhckF0KGkrKykpICE9IFwiJ1wiKSB7XG5cdFx0XHRpZiAoIWMpIHtcblx0XHRcdFx0dGhpcy5lcnJvcigndW5tYXRjaGVkIFwiXFwnXCInKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGMgPT0gJyEnKSB7XG5cdFx0XHRcdGlmIChzdGFydCA8IGkgLSAxKSBzZWdtZW50cy5wdXNoKHMuc2xpY2Uoc3RhcnQsIGkgLSAxKSk7XG5cdFx0XHRcdGMgPSBzLmNoYXJBdChpKyspO1xuXHRcdFx0XHRpZiAoXCIhJ1wiLmluZGV4T2YoYykgPj0gMCkge1xuXHRcdFx0XHRcdHNlZ21lbnRzLnB1c2goYyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5lcnJvcignaW52YWxpZCBzdHJpbmcgZXNjYXBlOiBcIiEnICsgYyArICdcIicpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRzdGFydCA9IGk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmIChzdGFydCA8IGkgLSAxKSBzZWdtZW50cy5wdXNoKHMuc2xpY2Uoc3RhcnQsIGkgLSAxKSk7XG5cdFx0dGhpcy5pbmRleCA9IGk7XG5cdFx0cmV0dXJuIHNlZ21lbnRzLmxlbmd0aCA9PSAxID8gc2VnbWVudHNbMF0gOiBzZWdtZW50cy5qb2luKCcnKTtcblx0fVxuXG5cdHByaXZhdGUgcGFyc2VQYXJlbigpIHtcblx0XHR2YXIgbyA9IHt9O1xuXHRcdHZhciBjO1xuXHRcdHZhciBjb3VudCA9IDA7XG5cblx0XHR3aGlsZSAoKGMgPSB0aGlzLm5leHQoKSkgIT0gJyknKSB7XG5cdFx0XHRpZiAoY291bnQpIHtcblx0XHRcdFx0aWYgKGMgIT0gJywnKSB7XG5cdFx0XHRcdFx0dGhpcy5lcnJvcihcIm1pc3NpbmcgJywnXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGMgPT0gJywnKSB7XG5cdFx0XHRcdHRoaXMuZXJyb3IoXCJleHRyYSAnLCdcIik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC0tdGhpcy5pbmRleDtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGsgPSB0aGlzLnJlYWRWYWx1ZSgpO1xuXHRcdFx0aWYgKGsgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLm5leHQoKSAhPSAnOicpIHtcblx0XHRcdFx0dGhpcy5lcnJvcihcIm1pc3NpbmcgJzonXCIpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHZhciB2ID0gdGhpcy5yZWFkVmFsdWUoKTtcblx0XHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQobyBhcyBhbnkpW2sgYXMgc3RyaW5nXSA9IHY7XG5cdFx0XHRjb3VudCsrO1xuXHRcdH1cblxuXHRcdHJldHVybiBvO1xuXHR9XG59XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbi8qIGpzY3M6IGRpc2FibGUgKi9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vL1xuLy8gIHRoZSBzdHJpbmdpZmllciBpcyBiYXNlZCBvblxuLy8gICAgaHR0cDovL2pzb24ub3JnL2pzb24uanMgYXMgb2YgMjAwNi0wNC0yOCBmcm9tIGpzb24ub3JnXG4vLyAgdGhlIHBhcnNlciBpcyBiYXNlZCBvblxuLy8gICAgaHR0cDovL29zdGVlbGUuY29tL3NvdXJjZXMvb3Blbmxhc3psby9qc29uXG4vL1xuXG4vLyBpbnRlcmZhY2UgUmlzb24ge1xuXG4vKlxuICogXHRbb3RoZXI6IHN0cmluZ106IGFueVxuICogfVxuICovXG5cbi8qXG4gKiBpbnRlcmZhY2UgUmlzb25QYXJzZXIge1xuICogXHRbb3RoZXI6IHN0cmluZ106IGFueVxuICogfVxuICovXG5cbi8vIHZhciByaXNvbjogUmlzb24gPSB7fSBhcyBSaXNvbjtcblxuLyoqXG4gKiAgcnVsZXMgZm9yIGFuIHVyaSBlbmNvZGVyIHRoYXQgaXMgbW9yZSB0b2xlcmFudCB0aGFuIGVuY29kZVVSSUNvbXBvbmVudFxuICpcbiAqICBlbmNvZGVVUklDb21wb25lbnQgcGFzc2VzICB+ISooKS1fLidcbiAqXG4gKiAgd2UgYWxzbyBhbGxvdyAgICAgICAgICAgICAgLDpAJC9cbiAqXG4gKi9cbi8qXG4gKiByaXNvbi51cmlfb2sgPSB7IC8vIG9rIGluIHVybCBwYXRocyBhbmQgaW4gZm9ybSBxdWVyeSBhcmdzXG4gKiBcdCd+JzogdHJ1ZSxcbiAqIFx0JyEnOiB0cnVlLFxuICogXHQnKic6IHRydWUsXG4gKiBcdCcoJzogdHJ1ZSxcbiAqIFx0JyknOiB0cnVlLFxuICogXHQnLSc6IHRydWUsXG4gKiBcdCdfJzogdHJ1ZSxcbiAqIFx0Jy4nOiB0cnVlLFxuICogXHQnLCc6IHRydWUsXG4gKiBcdCc6JzogdHJ1ZSxcbiAqIFx0J0AnOiB0cnVlLFxuICogXHQnJCc6IHRydWUsXG4gKiBcdFwiJ1wiOiB0cnVlLFxuICogXHQnLyc6IHRydWVcbiAqIH07XG4gKi9cblxuLypcbiAqIHdlIGRpdmlkZSB0aGUgdXJpLXNhZmUgZ2x5cGhzIGludG8gdGhyZWUgc2V0c1xuICogICA8cmlzb24+IC0gdXNlZCBieSByaXNvbiAgICAgICAgICAgICAgICAgICAgICAgICAnICEgOiAoICkgLFxuICogICA8cmVzZXJ2ZWQ+IC0gbm90IGNvbW1vbiBpbiBzdHJpbmdzLCByZXNlcnZlZCAgICAqIEAgJCAmIDsgPVxuICpcbiAqIHdlIGRlZmluZSA8aWRlbnRpZmllcj4gYXMgYW55dGhpbmcgdGhhdCdzIG5vdCBmb3JiaWRkZW5cbiAqL1xuXG4vKipcbiAqIHB1bmN0dWF0aW9uIGNoYXJhY3RlcnMgdGhhdCBhcmUgbGVnYWwgaW5zaWRlIGlkcy5cbiAqL1xuXG4vLyAoZnVuY3Rpb24gKCkge1xuLy8gXHR2YXIgbCA9IFtdO1xuLy8gXHRmb3IgKHZhciBoaSA9IDA7IGhpIDwgMTY7IGhpKyspIHtcbi8vIFx0XHRmb3IgKHZhciBsbyA9IDA7IGxvIDwgMTY7IGxvKyspIHtcbi8vIFx0XHRcdGlmIChoaSArIGxvID09IDApIGNvbnRpbnVlO1xuLy8gXHRcdFx0dmFyIGMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGhpICogMTYgKyBsbyk7XG4vLyBcdFx0XHRpZiAoIS9cXHd8Wy1fLlxcL35dLy50ZXN0KGMpKVxuLy8gXHRcdFx0XHRsLnB1c2goJ1xcXFx1MDAnICsgaGkudG9TdHJpbmcoMTYpICsgbG8udG9TdHJpbmcoMTYpKTtcbi8vIFx0XHR9XG4vLyBcdH1cbi8vIFx0LyoqXG4vLyBcdCAqIGNoYXJhY3RlcnMgdGhhdCBhcmUgaWxsZWdhbCBpbnNpZGUgaWRzLlxuLy8gXHQgKiA8cmlzb24+IGFuZCA8cmVzZXJ2ZWQ+IGNsYXNzZXMgYXJlIGlsbGVnYWwgaW4gaWRzLlxuLy8gXHQgKlxuLy8gXHQgKi9cbi8vIFx0cmlzb24ubm90X2lkY2hhciA9IGwuam9pbignJylcbi8vIH0pKCk7XG4vLyByaXNvbi5ub3RfaWRjaGFyID0gXCIgXFx0JyE6KCksKkAkXCI7XG5cblxuLy8gLyoqXG4vLyAgKiBjaGFyYWN0ZXJzIHRoYXQgYXJlIGlsbGVnYWwgYXMgdGhlIHN0YXJ0IG9mIGFuIGlkXG4vLyAgKiB0aGlzIGlzIHNvIGlkcyBjYW4ndCBsb29rIGxpa2UgbnVtYmVycy5cbi8vICAqL1xuLy8gcmlzb24ubm90X2lkc3RhcnQgPSBcIi0wMTIzNDU2Nzg5XCI7XG5cblxuLypcbiAqIChmdW5jdGlvbiAoKSB7XG4gKiBcdHZhciBpZHJ4ID0gJ1teJyArIHJpc29uLm5vdF9pZHN0YXJ0ICsgcmlzb24ubm90X2lkY2hhciArXG4gKiBcdFx0J11bXicgKyByaXNvbi5ub3RfaWRjaGFyICsgJ10qJztcbiAqL1xuXG4vLyBcdHJpc29uLmlkX29rID0gbmV3IFJlZ0V4cCgnXicgKyBpZHJ4ICsgJyQnKTtcblxuLypcbiAqIFx0Ly8gcmVnZXhwIHRvIGZpbmQgdGhlIGVuZCBvZiBhbiBpZCB3aGVuIHBhcnNpbmdcbiAqIFx0Ly8gZyBmbGFnIG9uIHRoZSByZWdleHAgaXMgbmVjZXNzYXJ5IGZvciBpdGVyYXRpdmUgcmVnZXhwLmV4ZWMoKVxuICogXHRyaXNvbi5uZXh0X2lkID0gbmV3IFJlZ0V4cChpZHJ4LCAnZycpO1xuICogfSkoKTtcbiAqL1xuXG4vKipcbiAqIHRoaXMgaXMgbGlrZSBlbmNvZGVVUklDb21wb25lbnQoKSBidXQgcXVvdGVzIGZld2VyIGNoYXJhY3RlcnMuXG4gKlxuICogQHNlZSByaXNvbi51cmlfb2tcbiAqXG4gKiBlbmNvZGVVUklDb21wb25lbnQgcGFzc2VzICAgfiEqKCktXy4nXG4gKiByaXNvbi5xdW90ZSBhbHNvIHBhc3NlcyAgICw6QCQvXG4gKiAgIGFuZCBxdW90ZXMgXCIgXCIgYXMgXCIrXCIgaW5zdGVhZCBvZiBcIiUyMFwiXG4gKi9cbi8qXG4gKiByaXNvbi5xdW90ZSA9IGZ1bmN0aW9uICh4OiBzdHJpbmcpIHtcbiAqIFx0aWYgKC9eWy1BLVphLXowLTl+ISooKV8uJyw6QCRcXC9dKiQvLnRlc3QoeCkpXG4gKiBcdFx0cmV0dXJuIHg7XG4gKi9cblxuLypcbiAqIFx0cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh4KVxuICogXHRcdC5yZXBsYWNlQWxsKC8lMkMvZywgJywnKVxuICogXHRcdC5yZXBsYWNlQWxsKC8lM0EvZywgJzonKVxuICogXHRcdC5yZXBsYWNlQWxsKC8lNDAvZywgJ0AnKVxuICogXHRcdC5yZXBsYWNlQWxsKC8lMjQvZywgJyQnKVxuICogXHRcdC5yZXBsYWNlQWxsKC8lMkYvZywgJy8nKVxuICogXHRcdC5yZXBsYWNlQWxsKC8lMjAvZywgJysnKTtcbiAqIH07XG4gKi9cblxuXG4vKlxuICpcbiAqICBiYXNlZCBvbiBqc29uLmpzIDIwMDYtMDQtMjggZnJvbSBqc29uLm9yZ1xuICogIGxpY2Vuc2U6IGh0dHA6Ly93d3cuanNvbi5vcmcvbGljZW5zZS5odG1sXG4gKlxuICogIGhhY2tlZCBieSBuaXggZm9yIHVzZSBpbiB1cmlzLlxuICpcbiAqL1xuXG4vKlxuICogKGZ1bmN0aW9uICgpIHtcbiAqIHZhciBzcSA9IHsgLy8gdXJsLW9rIGJ1dCBxdW90ZWQgaW4gc3RyaW5nc1xuICogXHRcIidcIjogdHJ1ZSxcbiAqIFx0JyEnOiB0cnVlXG4gKiB9XG4gKiB2YXIgZW5jID0gZnVuY3Rpb24gKHY6IGFueSkge1xuICogXHRpZiAodiAmJiB0eXBlb2Ygdi50b0pTT04gPT09ICdmdW5jdGlvbicpIHYgPSB2LnRvSlNPTigpO1xuICogXHR2YXIgZm4gPSBzW3R5cGVvZiB2XTtcbiAqIFx0aWYgKGZuKSByZXR1cm4gZm4odik7XG4gKiB9O1xuICogdmFyIHM6IGFueSA9IHtcbiAqIGFycmF5OiBmdW5jdGlvbiAoeDogYW55W10pIHtcbiAqIFx0dmFyIGEgPSBbJyEoJ10sXG4gKiBcdFx0YiwgZiwgaSwgbCA9IHgubGVuZ3RoLFxuICogXHRcdHY7XG4gKiBcdGZvciAoaSA9IDA7IGkgPCBsOyBpICs9IDEpIHtcbiAqIFx0XHR2ID0gZW5jKHhbaV0pO1xuICogXHRcdGlmICh0eXBlb2YgdiA9PSAnc3RyaW5nJykge1xuICogXHRcdFx0aWYgKGIpIHtcbiAqIFx0XHRcdFx0YVthLmxlbmd0aF0gPSAnLCc7XG4gKiBcdFx0XHR9XG4gKiBcdFx0XHRhW2EubGVuZ3RoXSA9IHY7XG4gKiBcdFx0XHRiID0gdHJ1ZTtcbiAqIFx0XHR9XG4gKiBcdH1cbiAqIFx0YVthLmxlbmd0aF0gPSAnKSc7XG4gKiBcdHJldHVybiBhLmpvaW4oJycpO1xuICogfSxcbiAqICdib29sZWFuJzogZnVuY3Rpb24gKHg6IGJvb2xlYW4pIHtcbiAqIFx0aWYgKHgpXG4gKiBcdFx0cmV0dXJuICchdCc7XG4gKiBcdHJldHVybiAnIWYnXG4gKiB9LFxuICogJ251bGwnOiBmdW5jdGlvbiAoeDogbnVsbCkge1xuICogXHRyZXR1cm4gXCIhblwiO1xuICogfSxcbiAqIG51bWJlcjogZnVuY3Rpb24gKHg6IG51bWJlcikge1xuICogXHRpZiAoIWlzRmluaXRlKHgpKVxuICogXHRcdHJldHVybiAnIW4nO1xuICogXHQvLyBzdHJpcCAnKycgb3V0IG9mIGV4cG9uZW50LCAnLScgaXMgb2sgdGhvdWdoXG4gKiBcdHJldHVybiBTdHJpbmcoeCkucmVwbGFjZSgvXFwrLywgJycpO1xuICogfSxcbiAqIG9iamVjdDogZnVuY3Rpb24gKHg6IE9iaiB8IGFueVtdKSB7XG4gKiBcdGlmICh4KSB7XG4gKiBcdFx0aWYgKHggaW5zdGFuY2VvZiBBcnJheSkge1xuICogXHRcdFx0cmV0dXJuIHMuYXJyYXkoeCk7XG4gKiBcdFx0fVxuICovXG5cbi8qXG4gKiBcdFx0dmFyIGEgPSBbJygnXSxcbiAqIFx0XHRcdGIsIGYsIGksIHYsIGtpLCBrcyA9IFtdO1xuICogXHRcdGZvciAoaSBpbiB4KVxuICogXHRcdFx0a3Nba3MubGVuZ3RoXSA9IGk7XG4gKiBcdFx0a3Muc29ydCgpO1xuICogXHRcdGZvciAoa2kgPSAwOyBraSA8IGtzLmxlbmd0aDsga2krKykge1xuICogXHRcdFx0aSA9IGtzW2tpXTtcbiAqIFx0XHRcdHYgPSBlbmMoeFtpXSk7XG4gKiBcdFx0XHRpZiAodHlwZW9mIHYgPT0gJ3N0cmluZycpIHtcbiAqIFx0XHRcdFx0aWYgKGIpIHtcbiAqIFx0XHRcdFx0XHRhW2EubGVuZ3RoXSA9ICcsJztcbiAqIFx0XHRcdFx0fVxuICogXHRcdFx0XHRhLnB1c2gocy5zdHJpbmcoaSksICc6Jywgdik7XG4gKiBcdFx0XHRcdGIgPSB0cnVlO1xuICogXHRcdFx0fVxuICogXHRcdH1cbiAqIFx0XHRhW2EubGVuZ3RoXSA9ICcpJztcbiAqIFx0XHRyZXR1cm4gYS5qb2luKCcnKTtcbiAqIFx0fVxuICogXHRyZXR1cm4gJyFuJztcbiAqIH0sXG4gKiBzdHJpbmc6IGZ1bmN0aW9uICh4OiBzdHJpbmcpIHtcbiAqIFx0aWYgKHggPT0gJycpXG4gKiBcdFx0cmV0dXJuIFwiJydcIjtcbiAqL1xuXG4vKlxuICogXHRpZiAocmlzb24uaWRfb2sudGVzdCh4KSlcbiAqIFx0XHRyZXR1cm4geDtcbiAqL1xuXG4vKlxuICogXHR4ID0geC5yZXBsYWNlKC8oWychXSkvZywgZnVuY3Rpb24gKGEsIGIpIHtcbiAqIFx0XHRpZiAoKHNxIGFzIGFueSlbYl0pIHJldHVybiAnIScgKyBiO1xuICogXHRcdHJldHVybiBiO1xuICogXHR9KTtcbiAqIFx0cmV0dXJuIFwiJ1wiICsgeCArIFwiJ1wiO1xuICogfSxcbiAqIHVuZGVmaW5lZDogZnVuY3Rpb24gKHg6IHVuZGVmaW5lZCkge1xuICogXHQvLyBpZ25vcmUgdW5kZWZpbmVkIGp1c3QgbGlrZSBKU09OXG4gKiBcdC8vIHRocm93IG5ldyBFcnJvcihcInJpc29uIGNhbid0IGVuY29kZSB0aGUgdW5kZWZpbmVkIHZhbHVlXCIpO1xuICogfVxuICogfTtcbiAqL1xuXG5cbi8qKlxuICogcmlzb24tZW5jb2RlIGEgamF2YXNjcmlwdCBzdHJ1Y3R1cmVcbiAqXG4gKiAgaW1wbGVtZW1lbnRhdGlvbiBiYXNlZCBvbiBEb3VnbGFzIENyb2NrZm9yZCdzIGpzb24uanM6XG4gKiAgICBodHRwOi8vanNvbi5vcmcvanNvbi5qcyBhcyBvZiAyMDA2LTA0LTI4IGZyb20ganNvbi5vcmdcbiAqXG4gKi9cbi8qXG4gKiByaXNvbi5lbmNvZGUgPSBmdW5jdGlvbiAodjogYW55KSB7XG4gKiBcdHJldHVybiBlbmModik7XG4gKiB9O1xuICovXG5cbi8qKlxuICogcmlzb24tZW5jb2RlIGEgamF2YXNjcmlwdCBvYmplY3Qgd2l0aG91dCBzdXJyb3VuZGluZyBwYXJlbnNcbiAqXG4gKi9cbi8qXG4gKiByaXNvbi5lbmNvZGVfb2JqZWN0ID0gZnVuY3Rpb24gKHY6IE9iaikge1xuICogXHRpZiAodHlwZW9mIHYgIT0gJ29iamVjdCcgfHwgdiA9PT0gbnVsbCB8fCB2IGluc3RhbmNlb2YgQXJyYXkpXG4gKiBcdFx0dGhyb3cgbmV3IEVycm9yKFwicmlzb24uZW5jb2RlX29iamVjdCBleHBlY3RzIGFuIG9iamVjdCBhcmd1bWVudFwiKTtcbiAqIFx0dmFyIHIgPSBzW3R5cGVvZiB2XSh2KTtcbiAqIFx0cmV0dXJuIHIuc3Vic3RyaW5nKDEsIHIubGVuZ3RoIC0gMSk7XG4gKiB9O1xuICovXG5cbi8vIC8qKlxuLy8gICogcmlzb24tZW5jb2RlIGEgamF2YXNjcmlwdCBhcnJheSB3aXRob3V0IHN1cnJvdW5kaW5nIHBhcmVuc1xuLy8gICpcbi8vICAqL1xuLy8gcmlzb24uZW5jb2RlX2FycmF5ID0gZnVuY3Rpb24gKHY6IGFueVtdKSB7XG4vLyBcdGlmICghKHYgaW5zdGFuY2VvZiBBcnJheSkpXG4vLyBcdFx0dGhyb3cgbmV3IEVycm9yKFwicmlzb24uZW5jb2RlX2FycmF5IGV4cGVjdHMgYW4gYXJyYXkgYXJndW1lbnRcIik7XG4vLyBcdHZhciByID0gc1t0eXBlb2Ygdl0odik7XG4vLyBcdHJldHVybiByLnN1YnN0cmluZygyLCByLmxlbmd0aCAtIDEpO1xuLy8gfTtcblxuLy8gLyoqXG4vLyAgKiByaXNvbi1lbmNvZGUgYW5kIHVyaS1lbmNvZGUgYSBqYXZhc2NyaXB0IHN0cnVjdHVyZVxuLy8gICpcbi8vICAqL1xuLy8gcmlzb24uZW5jb2RlX3VyaSA9IGZ1bmN0aW9uICh2OiBhbnkpIHtcbi8vIFx0cmV0dXJuIHJpc29uLnF1b3RlKHNbdHlwZW9mIHZdKHYpKTtcbi8vIH07XG5cbi8vIH0pKCk7XG5cblxuLypcbiAqXG4gKiBiYXNlZCBvbiBvcGVubGFzemxvLWpzb24gYW5kIGhhY2tlZCBieSBuaXggZm9yIHVzZSBpbiB1cmlzLlxuICpcbiAqIEF1dGhvcjogT2xpdmVyIFN0ZWVsZVxuICogQ29weXJpZ2h0OiBDb3B5cmlnaHQgMjAwNiBPbGl2ZXIgU3RlZWxlLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEhvbWVwYWdlOiBodHRwOi8vb3N0ZWVsZS5jb20vc291cmNlcy9vcGVubGFzemxvL2pzb25cbiAqIExpY2Vuc2U6IE1JVCBMaWNlbnNlLlxuICogVmVyc2lvbjogMS4wXG4gKi9cblxuXG4vKipcbiAqIHBhcnNlIGEgcmlzb24gc3RyaW5nIGludG8gYSBqYXZhc2NyaXB0IHN0cnVjdHVyZS5cbiAqXG4gKiB0aGlzIGlzIHRoZSBzaW1wbGVzdCBkZWNvZGVyIGVudHJ5IHBvaW50LlxuICpcbiAqICBiYXNlZCBvbiBPbGl2ZXIgU3RlZWxlJ3MgT3Blbkxhc3psby1KU09OXG4gKiAgICAgaHR0cDovL29zdGVlbGUuY29tL3NvdXJjZXMvb3Blbmxhc3psby9qc29uXG4gKi9cbi8qXG4gKiByaXNvbi5kZWNvZGUgPSBmdW5jdGlvbiAocjogc3RyaW5nKSB7XG4gKiBcdHIgPSBkZWNvZGVVUklDb21wb25lbnQocik7XG4gKiBcdHZhciBlcnJjYiA9IGZ1bmN0aW9uIChlOiBhbnkpIHtcbiAqIFx0XHR0aHJvdyBFcnJvcigncmlzb24gZGVjb2RlciBlcnJvcjogJyArIGUpO1xuICogXHR9O1xuICogXHR2YXIgcCA9IG5ldyByaXNvbi5wYXJzZXIoZXJyY2IpO1xuICogXHRyZXR1cm4gcC5wYXJzZShyKTtcbiAqIH07XG4gKi9cblxuLy8gLyoqXG4vLyAgKiBwYXJzZSBhbiBvLXJpc29uIHN0cmluZyBpbnRvIGEgamF2YXNjcmlwdCBzdHJ1Y3R1cmUuXG4vLyAgKlxuLy8gICogdGhpcyBzaW1wbHkgYWRkcyBwYXJlbnRoZXNlcyBhcm91bmQgdGhlIHN0cmluZyBiZWZvcmUgcGFyc2luZy5cbi8vICAqL1xuLy8gcmlzb24uZGVjb2RlX29iamVjdCA9IGZ1bmN0aW9uIChyOiBzdHJpbmcpIHtcbi8vIFx0cmV0dXJuIHJpc29uLmRlY29kZSgnKCcgKyByICsgJyknKTtcbi8vIH07XG5cbi8vIC8qKlxuLy8gICogcGFyc2UgYW4gYS1yaXNvbiBzdHJpbmcgaW50byBhIGphdmFzY3JpcHQgc3RydWN0dXJlLlxuLy8gICpcbi8vICAqIHRoaXMgc2ltcGx5IGFkZHMgYXJyYXkgbWFya3VwIGFyb3VuZCB0aGUgc3RyaW5nIGJlZm9yZSBwYXJzaW5nLlxuLy8gICovXG4vLyByaXNvbi5kZWNvZGVfYXJyYXkgPSBmdW5jdGlvbiAocjogc3RyaW5nKSB7XG4vLyBcdHJldHVybiByaXNvbi5kZWNvZGUoJyEoJyArIHIgKyAnKScpO1xuLy8gfTtcblxuLyoqXG4gKiBjb25zdHJ1Y3QgYSBuZXcgcGFyc2VyIG9iamVjdCBmb3IgcmV1c2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAY2xhc3MgQSBSaXNvbiBwYXJzZXIgY2xhc3MuICBZb3Ugc2hvdWxkIHByb2JhYmx5XG4gKiAgICAgICAgdXNlIHJpc29uLmRlY29kZSBpbnN0ZWFkLlxuICogQHNlZSByaXNvbi5kZWNvZGVcbiAqL1xuLypcbiAqIHJpc29uLnBhcnNlciA9IGZ1bmN0aW9uIChlcnJjYjogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkpIHtcbiAqIFx0dGhpcy5lcnJvckhhbmRsZXIgPSBlcnJjYjtcbiAqIH07XG4gKi9cblxuLyoqXG4gKiBhIHN0cmluZyBjb250YWluaW5nIGFjY2VwdGFibGUgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzLlxuICogYnkgZGVmYXVsdCB0aGUgcmlzb24gZGVjb2RlciB0b2xlcmF0ZXMgbm8gd2hpdGVzcGFjZS5cbiAqIHRvIGFjY2VwdCB3aGl0ZXNwYWNlIHNldCByaXNvbi5wYXJzZXIuV0hJVEVTUEFDRSA9IFwiIFxcdFxcblxcclxcZlwiO1xuICovXG4vLyByaXNvbi5wYXJzZXIuV0hJVEVTUEFDRSA9IFwiXCI7XG5cbi8qXG4gKiBleHBvc2UgdGhpcyBhcy1pcz9cbiAqIHJpc29uLnBhcnNlci5wcm90b3R5cGUuc2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zPzogeyBlcnJvckhhbmRsZXI/OiAoKSA9PiBhbnkgfSkge1xuICogXHRpZiAob3B0aW9uc1snZXJyb3JIYW5kbGVyJ10pXG4gKiBcdFx0dGhpcy5lcnJvckhhbmRsZXIgPSBvcHRpb25zLmVycm9ySGFuZGxlcjtcbiAqIH07XG4gKi9cblxuLyoqXG4gKiBwYXJzZSBhIHJpc29uIHN0cmluZyBpbnRvIGEgamF2YXNjcmlwdCBzdHJ1Y3R1cmUuXG4gKi9cbi8qXG4gKiByaXNvbi5wYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKHN0cjogc3RyaW5nKSB7XG4gKiBcdHRoaXMuc3RyaW5nID0gc3RyO1xuICogXHR0aGlzLmluZGV4ID0gMDtcbiAqIFx0dGhpcy5tZXNzYWdlID0gbnVsbDtcbiAqIFx0dmFyIHZhbHVlID0gdGhpcy5yZWFkVmFsdWUoKTtcbiAqIFx0aWYgKCF0aGlzLm1lc3NhZ2UgJiYgdGhpcy5uZXh0KCkpXG4gKiBcdFx0dmFsdWUgPSB0aGlzLmVycm9yKFwidW5hYmxlIHRvIHBhcnNlIHN0cmluZyBhcyByaXNvbjogJ1wiICsgcmlzb24uZW5jb2RlKHN0cikgKyBcIidcIik7XG4gKiBcdGlmICh0aGlzLm1lc3NhZ2UgJiYgdGhpcy5lcnJvckhhbmRsZXIpXG4gKiBcdFx0dGhpcy5lcnJvckhhbmRsZXIodGhpcy5tZXNzYWdlLCB0aGlzLmluZGV4KTtcbiAqIFx0cmV0dXJuIHZhbHVlO1xuICogfTtcbiAqL1xuXG4vKlxuICogcmlzb24ucGFyc2VyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChtZXNzYWdlOiBzdHJpbmcpOiB1bmRlZmluZWQge1xuICogXHRpZiAodHlwZW9mIChjb25zb2xlKSAhPSAndW5kZWZpbmVkJylcbiAqIFx0XHRjb25zb2xlLmxvZygncmlzb24gcGFyc2VyIGVycm9yOiAnLCBtZXNzYWdlKTtcbiAqIFx0dGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAqIFx0cmV0dXJuIHVuZGVmaW5lZDtcbiAqIH1cbiAqL1xuXG4vKlxuICogcmlzb24ucGFyc2VyLnByb3RvdHlwZS5yZWFkVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gKiBcdHZhciBjID0gdGhpcy5uZXh0KCk7XG4gKiBcdHZhciBmbiA9IGMgJiYgdGhpcy50YWJsZVtjXTtcbiAqL1xuXG4vKlxuICogXHRpZiAoZm4pXG4gKiBcdFx0cmV0dXJuIGZuLmFwcGx5KHRoaXMpO1xuICovXG5cbi8vIFx0Ly8gZmVsbCB0aHJvdWdoIHRhYmxlLCBwYXJzZSBhcyBhbiBpZFxuXG4vKlxuICogXHR2YXIgcyA9IHRoaXMuc3RyaW5nO1xuICogXHR2YXIgaSA9IHRoaXMuaW5kZXggLSAxO1xuICovXG5cbi8qXG4gKiBcdC8vIFJlZ2V4cC5sYXN0SW5kZXggbWF5IG5vdCB3b3JrIHJpZ2h0IGluIElFIGJlZm9yZSA1LjU/XG4gKiBcdC8vIGcgZmxhZyBvbiB0aGUgcmVnZXhwIGlzIGFsc28gbmVjZXNzYXJ5XG4gKiBcdHJpc29uLm5leHRfaWQubGFzdEluZGV4ID0gaTtcbiAqIFx0dmFyIG0gPSByaXNvbi5uZXh0X2lkLmV4ZWMocyk7XG4gKi9cblxuLypcbiAqIFx0aWYgKG0ubGVuZ3RoID4gMCkge1xuICogXHRcdHZhciBpZCA9IG1bMF07XG4gKiBcdFx0dGhpcy5pbmRleCA9IGkgKyBpZC5sZW5ndGg7XG4gKiBcdFx0cmV0dXJuIGlkOyAvLyBhIHN0cmluZ1xuICogXHR9XG4gKi9cblxuLypcbiAqIFx0aWYgKGMpIHJldHVybiB0aGlzLmVycm9yKFwiaW52YWxpZCBjaGFyYWN0ZXI6ICdcIiArIGMgKyBcIidcIik7XG4gKiBcdHJldHVybiB0aGlzLmVycm9yKFwiZW1wdHkgZXhwcmVzc2lvblwiKTtcbiAqIH1cbiAqL1xuXG4vKlxuICogcmlzb24ucGFyc2VyLnBhcnNlX2FycmF5ID0gZnVuY3Rpb24gKHBhcnNlcjogUmlzb25QYXJzZXIpIHtcbiAqIFx0dmFyIGFyID0gW107XG4gKiBcdHZhciBjO1xuICogXHR3aGlsZSAoKGMgPSBwYXJzZXIubmV4dCgpKSAhPSAnKScpIHtcbiAqIFx0XHRpZiAoIWMpIHJldHVybiBwYXJzZXIuZXJyb3IoXCJ1bm1hdGNoZWQgJyEoJ1wiKTtcbiAqIFx0XHRpZiAoYXIubGVuZ3RoKSB7XG4gKiBcdFx0XHRpZiAoYyAhPSAnLCcpXG4gKiBcdFx0XHRcdHBhcnNlci5lcnJvcihcIm1pc3NpbmcgJywnXCIpO1xuICogXHRcdH0gZWxzZSBpZiAoYyA9PSAnLCcpIHtcbiAqIFx0XHRcdHJldHVybiBwYXJzZXIuZXJyb3IoXCJleHRyYSAnLCdcIik7XG4gKiBcdFx0fSBlbHNlXG4gKiBcdFx0XHQtLXBhcnNlci5pbmRleDtcbiAqIFx0XHR2YXIgbiA9IHBhcnNlci5yZWFkVmFsdWUoKTtcbiAqIFx0XHRpZiAodHlwZW9mIG4gPT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIHVuZGVmaW5lZDtcbiAqIFx0XHRhci5wdXNoKG4pO1xuICogXHR9XG4gKiBcdHJldHVybiBhcjtcbiAqIH07XG4gKi9cblxuLypcbiAqIHJpc29uLnBhcnNlci5iYW5ncyA9IHtcbiAqIFx0dDogdHJ1ZSxcbiAqIFx0ZjogZmFsc2UsXG4gKiBcdG46IG51bGwsXG4gKiBcdCcoJzogcmlzb24ucGFyc2VyLnBhcnNlX2FycmF5XG4gKiB9XG4gKi9cblxuLypcbiAqIHJpc29uLnBhcnNlci5wcm90b3R5cGUudGFibGUgPSB7XG4gKiAnISc6IGZ1bmN0aW9uICgpIHtcbiAqIFx0dmFyIHMgPSB0aGlzLnN0cmluZztcbiAqIFx0dmFyIGMgPSBzLmNoYXJBdCh0aGlzLmluZGV4KyspO1xuICogXHRpZiAoIWMpIHJldHVybiB0aGlzLmVycm9yKCdcIiFcIiBhdCBlbmQgb2YgaW5wdXQnKTtcbiAqIFx0dmFyIHggPSByaXNvbi5wYXJzZXIuYmFuZ3NbY107XG4gKiBcdGlmICh0eXBlb2YgKHgpID09ICdmdW5jdGlvbicpIHtcbiAqIFx0XHRyZXR1cm4geC5jYWxsKG51bGwsIHRoaXMpO1xuICogXHR9IGVsc2UgaWYgKHR5cGVvZiAoeCkgPT0gJ3VuZGVmaW5lZCcpIHtcbiAqIFx0XHRyZXR1cm4gdGhpcy5lcnJvcigndW5rbm93biBsaXRlcmFsOiBcIiEnICsgYyArICdcIicpO1xuICogXHR9XG4gKiBcdHJldHVybiB4O1xuICogfSxcbiAqICcoJzogZnVuY3Rpb24gKCkge1xuICogXHR2YXIgbyA9IHt9O1xuICogXHR2YXIgYztcbiAqIFx0dmFyIGNvdW50ID0gMDtcbiAqIFx0d2hpbGUgKChjID0gdGhpcy5uZXh0KCkpICE9ICcpJykge1xuICogXHRcdGlmIChjb3VudCkge1xuICogXHRcdFx0aWYgKGMgIT0gJywnKVxuICogXHRcdFx0XHR0aGlzLmVycm9yKFwibWlzc2luZyAnLCdcIik7XG4gKiBcdFx0fSBlbHNlIGlmIChjID09ICcsJykge1xuICogXHRcdFx0cmV0dXJuIHRoaXMuZXJyb3IoXCJleHRyYSAnLCdcIik7XG4gKiBcdFx0fSBlbHNlXG4gKiBcdFx0XHQtLXRoaXMuaW5kZXg7XG4gKiBcdFx0dmFyIGsgPSB0aGlzLnJlYWRWYWx1ZSgpO1xuICogXHRcdGlmICh0eXBlb2YgayA9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gdW5kZWZpbmVkO1xuICogXHRcdGlmICh0aGlzLm5leHQoKSAhPSAnOicpIHJldHVybiB0aGlzLmVycm9yKFwibWlzc2luZyAnOidcIik7XG4gKiBcdFx0dmFyIHYgPSB0aGlzLnJlYWRWYWx1ZSgpO1xuICogXHRcdGlmICh0eXBlb2YgdiA9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gdW5kZWZpbmVkO1xuICogXHRcdChvIGFzIGFueSlba10gPSB2O1xuICogXHRcdGNvdW50Kys7XG4gKiBcdH1cbiAqIFx0cmV0dXJuIG87XG4gKiB9LFxuICogXCInXCI6IGZ1bmN0aW9uICgpIHtcbiAqIFx0dmFyIHMgPSB0aGlzLnN0cmluZztcbiAqIFx0dmFyIGkgPSB0aGlzLmluZGV4O1xuICogXHR2YXIgc3RhcnQgPSBpO1xuICogXHR2YXIgc2VnbWVudHMgPSBbXTtcbiAqIFx0dmFyIGM7XG4gKiBcdHdoaWxlICgoYyA9IHMuY2hhckF0KGkrKykpICE9IFwiJ1wiKSB7XG4gKiBcdFx0aWYgKCFjKSByZXR1cm4gdGhpcy5lcnJvcigndW5tYXRjaGVkIFwiXFwnXCInKTtcbiAqIFx0XHRpZiAoYyA9PSAnIScpIHtcbiAqIFx0XHRcdGlmIChzdGFydCA8IGkgLSAxKVxuICogXHRcdFx0XHRzZWdtZW50cy5wdXNoKHMuc2xpY2Uoc3RhcnQsIGkgLSAxKSk7XG4gKiBcdFx0XHRjID0gcy5jaGFyQXQoaSsrKTtcbiAqIFx0XHRcdGlmIChcIiEnXCIuaW5kZXhPZihjKSA+PSAwKSB7XG4gKiBcdFx0XHRcdHNlZ21lbnRzLnB1c2goYyk7XG4gKiBcdFx0XHR9IGVsc2Uge1xuICogXHRcdFx0XHRyZXR1cm4gdGhpcy5lcnJvcignaW52YWxpZCBzdHJpbmcgZXNjYXBlOiBcIiEnICsgYyArICdcIicpO1xuICogXHRcdFx0fVxuICogXHRcdFx0c3RhcnQgPSBpO1xuICogXHRcdH1cbiAqIFx0fVxuICogXHRpZiAoc3RhcnQgPCBpIC0gMSlcbiAqIFx0XHRzZWdtZW50cy5wdXNoKHMuc2xpY2Uoc3RhcnQsIGkgLSAxKSk7XG4gKiBcdHRoaXMuaW5kZXggPSBpO1xuICogXHRyZXR1cm4gc2VnbWVudHMubGVuZ3RoID09IDEgPyBzZWdtZW50c1swXSA6IHNlZ21lbnRzLmpvaW4oJycpO1xuICogfSxcbiAqIEFsc28gYW55IGRpZ2l0LiAgVGhlIHN0YXRlbWVudCB0aGF0IGZvbGxvd3MgdGhpcyB0YWJsZVxuICogZGVmaW5pdGlvbiBmaWxscyBpbiB0aGUgZGlnaXRzLlxuICogJy0nOiBmdW5jdGlvbiAoKSB7XG4gKiBcdHZhciBzID0gdGhpcy5zdHJpbmc7XG4gKiBcdHZhciBpID0gdGhpcy5pbmRleDtcbiAqIFx0dmFyIHN0YXJ0ID0gaSAtIDE7XG4gKiBcdHZhciBzdGF0ZSA9ICdpbnQnO1xuICogXHR2YXIgcGVybWl0dGVkU2lnbnMgPSAnLSc7XG4gKiBcdHZhciB0cmFuc2l0aW9ucyA9IHtcbiAqIFx0XHQnaW50Ky4nOiAnZnJhYycsXG4gKiBcdFx0J2ludCtlJzogJ2V4cCcsXG4gKiBcdFx0J2ZyYWMrZSc6ICdleHAnXG4gKiBcdH07XG4gKiBcdGRvIHtcbiAqIFx0XHR2YXIgYyA9IHMuY2hhckF0KGkrKyk7XG4gKiBcdFx0aWYgKCFjKSBicmVhaztcbiAqIFx0XHRpZiAoJzAnIDw9IGMgJiYgYyA8PSAnOScpIGNvbnRpbnVlO1xuICogXHRcdGlmIChwZXJtaXR0ZWRTaWducy5pbmRleE9mKGMpID49IDApIHtcbiAqIFx0XHRcdHBlcm1pdHRlZFNpZ25zID0gJyc7XG4gKiBcdFx0XHRjb250aW51ZTtcbiAqIFx0XHR9XG4gKiBcdFx0c3RhdGUgPSAodHJhbnNpdGlvbnMgYXMgYW55KVtzdGF0ZSArICcrJyArIGMudG9Mb3dlckNhc2UoKV07XG4gKiBcdFx0aWYgKHN0YXRlID09ICdleHAnKSBwZXJtaXR0ZWRTaWducyA9ICctJztcbiAqIFx0fSB3aGlsZSAoc3RhdGUpO1xuICogXHR0aGlzLmluZGV4ID0gLS1pO1xuICogXHRzID0gcy5zbGljZShzdGFydCwgaSlcbiAqIFx0aWYgKHMgPT0gJy0nKSByZXR1cm4gdGhpcy5lcnJvcihcImludmFsaWQgbnVtYmVyXCIpO1xuICogXHRyZXR1cm4gTnVtYmVyKHMpO1xuICogfVxuICogfTtcbiAqIGNvcHkgdGFibGVbJy0nXSB0byBlYWNoIG9mIHRhYmxlW2ldIHwgaSA8LSAnMCcuLic5JzpcbiAqIChmdW5jdGlvbiAodGFibGUpIHtcbiAqIFx0Zm9yICh2YXIgaSA9IDA7IGkgPD0gOTsgaSsrKVxuICogXHRcdHRhYmxlW1N0cmluZyhpKV0gPSB0YWJsZVsnLSddO1xuICogfSkocmlzb24ucGFyc2VyLnByb3RvdHlwZS50YWJsZSk7XG4gKi9cblxuLypcbiAqIHJldHVybiB0aGUgbmV4dCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIsIG9yIHVuZGVmaW5lZFxuICogcmlzb24ucGFyc2VyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICogXHR2YXIgcyA9IHRoaXMuc3RyaW5nO1xuICogXHR2YXIgaSA9IHRoaXMuaW5kZXg7XG4gKiBcdGRvIHtcbiAqIFx0XHRpZiAoaSA9PSBzLmxlbmd0aCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAqIFx0XHR2YXIgYyA9IHMuY2hhckF0KGkrKyk7XG4gKiBcdH0gd2hpbGUgKHJpc29uLnBhcnNlci5XSElURVNQQUNFLmluZGV4T2YoYykgPj0gMCk7XG4gKiBcdHRoaXMuaW5kZXggPSBpO1xuICogXHRyZXR1cm4gYztcbiAqIH07XG4gKi9cblxuLypcbiAqIGV4cG9ydCBjb25zdCByaXNvbkVuY29kZSA9IHJpc29uLmVuY29kZTtcbiAqIGV4cG9ydCBjb25zdCByaXNvbkRlY29kZSA9IHJpc29uLmRlY29kZTtcbiAqL1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///66682\n")},27948:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ql: () => (/* binding */ getArchivesRecordId)\n/* harmony export */ });\n/* unused harmony exports getAncestryCollectionId, getAncestryCollectionName, getAncestryDocUrl, getAncestryCollectionUrl, archivesRecordLabel, getArchivesRecordUrl */\n\n\n\nvar ANC_COLLECTION_NAME = \'Ancestry Collection\';\nvar getAncestryDocIdParts = function (docId) {\n    var _a = __read(docId.split(\':\'), 2), documentId = _a[0], collectionId = _a[1];\n    return { documentId: documentId, collectionId: collectionId };\n};\nvar getAncestryCollectionId = function (docId) {\n    return getAncestryDocIdParts(docId).collectionId;\n};\nvar getAncestryCollectionName = function (obj) {\n    var _a, _b;\n    return (_b = (_a = obj.metadata) === null || _a === void 0 ? void 0 : _a.find(function (md) { return md.name === ANC_COLLECTION_NAME; })) === null || _b === void 0 ? void 0 : _b.value;\n};\nvar getAncestryDocUrl = function (docId, external) {\n    if (external) {\n        return "".concat(getAncestryHostname(), "/discoveryui-content/view/").concat(docId);\n    }\n    else {\n        return getContentPath(\'ANCESTRY_DOCUMENT\', docId);\n    }\n};\nvar getAncestryCollectionUrl = function (collectionId, external) {\n    if (external) {\n        return "".concat(getAncestryHostname(), "/search/collections/").concat(collectionId);\n    }\n    else {\n        return getContentPath(\'ANCESTRY_DOCUMENT\', collectionId);\n    }\n};\nvar getArchivesRecordId = function (objectId) {\n    var recordMap = objectId.split(\'.\');\n    return {\n        recordType: recordMap[0],\n        uniqueId: recordMap[1],\n    };\n};\nvar archivesRecordLabel = function (objectId) {\n    var recordId = getArchivesRecordId(objectId);\n    var recordType = recordId.recordType;\n    return recordType;\n};\nvar getArchivesRecordUrl = function (objectId) {\n    var recordId = getArchivesRecordId(objectId);\n    var recordType = recordId.recordType, uniqueId = recordId.uniqueId;\n    return "https://www.archives.com/search/".concat(recordType, "/record?UniqueId=").concat(uniqueId);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjc5NDguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2V4dGVybmFsRG9jdW1lbnRzLnRzPzZiMjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udGVudE9iamVjdCB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IGdldEFuY2VzdHJ5SG9zdG5hbWUgfSBmcm9tICcuL2FuY2VzdHJ5SGVscGVycyc7XG5pbXBvcnQgeyBnZXRDb250ZW50UGF0aCB9IGZyb20gJy4vc2x1Zyc7XG5cbmNvbnN0IEFOQ19DT0xMRUNUSU9OX05BTUUgPSAnQW5jZXN0cnkgQ29sbGVjdGlvbic7XG5cbmNvbnN0IGdldEFuY2VzdHJ5RG9jSWRQYXJ0cyA9IChkb2NJZDogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IFtkb2N1bWVudElkLCBjb2xsZWN0aW9uSWRdID0gZG9jSWQuc3BsaXQoJzonKTtcblx0cmV0dXJuIHsgZG9jdW1lbnRJZCwgY29sbGVjdGlvbklkIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QW5jZXN0cnlDb2xsZWN0aW9uSWQgPSAoZG9jSWQ6IHN0cmluZykgPT4ge1xuXHRyZXR1cm4gZ2V0QW5jZXN0cnlEb2NJZFBhcnRzKGRvY0lkKS5jb2xsZWN0aW9uSWQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QW5jZXN0cnlDb2xsZWN0aW9uTmFtZSA9IChvYmo6IENvbnRlbnRPYmplY3QpID0+IHtcblx0cmV0dXJuIG9iai5tZXRhZGF0YVxuXHRcdD8uZmluZChtZCA9PiBtZC5uYW1lID09PSBBTkNfQ09MTEVDVElPTl9OQU1FKVxuXHRcdD8udmFsdWU7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QW5jZXN0cnlEb2NVcmwgPSAoZG9jSWQ6IHN0cmluZywgZXh0ZXJuYWw6IGJvb2xlYW4pID0+IHtcblx0aWYgKGV4dGVybmFsKSB7XG5cdFx0cmV0dXJuIGAke2dldEFuY2VzdHJ5SG9zdG5hbWUoKX0vZGlzY292ZXJ5dWktY29udGVudC92aWV3LyR7ZG9jSWR9YDtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gZ2V0Q29udGVudFBhdGgoJ0FOQ0VTVFJZX0RPQ1VNRU5UJywgZG9jSWQpO1xuXHR9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QW5jZXN0cnlDb2xsZWN0aW9uVXJsID0gKGNvbGxlY3Rpb25JZDogc3RyaW5nLCBleHRlcm5hbDogYm9vbGVhbikgPT4ge1xuXHRpZiAoZXh0ZXJuYWwpIHtcblx0XHRyZXR1cm4gYCR7Z2V0QW5jZXN0cnlIb3N0bmFtZSgpfS9zZWFyY2gvY29sbGVjdGlvbnMvJHtjb2xsZWN0aW9uSWR9YDtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gZ2V0Q29udGVudFBhdGgoJ0FOQ0VTVFJZX0RPQ1VNRU5UJywgY29sbGVjdGlvbklkKTtcblx0fVxufTtcblxuZXhwb3J0IGNvbnN0IGdldEFyY2hpdmVzUmVjb3JkSWQgPSAob2JqZWN0SWQ6IHN0cmluZykgPT4ge1xuXHRsZXQgcmVjb3JkTWFwID0gb2JqZWN0SWQuc3BsaXQoJy4nKTtcblxuXHRyZXR1cm4ge1xuXHRcdHJlY29yZFR5cGU6IHJlY29yZE1hcFswXSxcblx0XHR1bmlxdWVJZDogcmVjb3JkTWFwWzFdLFxuXHR9O1xufTtcblxuZXhwb3J0IGNvbnN0IGFyY2hpdmVzUmVjb3JkTGFiZWwgPSAob2JqZWN0SWQ6IHN0cmluZykgPT4ge1xuXHRsZXQgcmVjb3JkSWQgPSBnZXRBcmNoaXZlc1JlY29yZElkKG9iamVjdElkKTtcblx0bGV0IHsgcmVjb3JkVHlwZSB9ID0gcmVjb3JkSWQ7XG5cblx0cmV0dXJuIHJlY29yZFR5cGU7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QXJjaGl2ZXNSZWNvcmRVcmwgPSAob2JqZWN0SWQ6IHN0cmluZykgPT4ge1xuXHRsZXQgcmVjb3JkSWQgPSBnZXRBcmNoaXZlc1JlY29yZElkKG9iamVjdElkKTtcblx0bGV0IHsgcmVjb3JkVHlwZSwgdW5pcXVlSWQgfSA9IHJlY29yZElkO1xuXG5cdHJldHVybiBgaHR0cHM6Ly93d3cuYXJjaGl2ZXMuY29tL3NlYXJjaC8ke3JlY29yZFR5cGV9L3JlY29yZD9VbmlxdWVJZD0ke3VuaXF1ZUlkfWA7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///27948\n')},72644:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   b9: () => (/* binding */ isExternal),\n/* harmony export */   ce: () => (/* binding */ getReferralUrl)\n/* harmony export */ });\n/* unused harmony exports isAncestry, isArchives, isFindAGrave, isNewspapers, getExternalUrl */\n/* harmony import */ var _ancestryHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10751);\n/* harmony import */ var _getUrl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(74174);\n/* harmony import */ var _localization_domain__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(40315);\n/* harmony import */ var _sharedConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(32179);\n\n\n\n\n\nvar absoluteUrlPattern = /^(?:https?:)?\\/\\/\\/*([^:/]*)(?:\\/|$)/;\nvar relativeHostPattern = /^\\/(external)?/; //capture the 'external' path and treat as external\nvar domIdPattern = /^\\#/;\nvar getAcomReferralUrl = function () {\n    return \"\".concat((0,_ancestryHelpers__WEBPACK_IMPORTED_MODULE_0__/* .getAncestryHostname */ .g)(), \"/s115786/KEY/rd.ashx?key=U\");\n};\nvar GOOGLE_ANALYTICS_REFERRAL_URL = 'utm_source=fold3.com&utm_medium=referral&utm_campaign=Fold3';\nvar isExternal = function (href) {\n    if (!href) {\n        return false;\n    }\n    var domId = domIdPattern.exec(href);\n    var relativeHost = relativeHostPattern.exec(href);\n    if (domId || relativeHost) {\n        return false;\n    }\n    return !(0,_localization_domain__WEBPACK_IMPORTED_MODULE_1__/* .isF3Url */ .FL)(href);\n};\nvar matchesUrl = function (targetUrl, url) {\n    var match = absoluteUrlPattern.exec(url);\n    if (match) {\n        return match[0].startsWith(targetUrl);\n    }\n    else\n        return false;\n};\nvar isAncestry = function (url) {\n    var config = (0,_sharedConfig__WEBPACK_IMPORTED_MODULE_2__/* .getConfig */ .iE)();\n    var ancHostname = config.ancestry.host.default;\n    var originBase = (0,_getUrl__WEBPACK_IMPORTED_MODULE_3__/* .getUrlParts */ .A)(url).originBase;\n    return ancHostname === originBase;\n};\nvar isArchives = function (url) {\n    var config = (0,_sharedConfig__WEBPACK_IMPORTED_MODULE_2__/* .getConfig */ .iE)();\n    return matchesUrl(config.urls.archives, url);\n};\nvar isFindAGrave = function (url) {\n    var config = (0,_sharedConfig__WEBPACK_IMPORTED_MODULE_2__/* .getConfig */ .iE)();\n    return matchesUrl(config.urls.findagrave, url);\n};\nvar isNewspapers = function (url) {\n    var config = (0,_sharedConfig__WEBPACK_IMPORTED_MODULE_2__/* .getConfig */ .iE)();\n    return matchesUrl(config.urls.newspapers, url);\n};\nvar isWeRemember = function (url) {\n    var config = (0,_sharedConfig__WEBPACK_IMPORTED_MODULE_2__/* .getConfig */ .iE)();\n    return matchesUrl(config.urls.weRemember, url);\n};\nvar getExternalSource = function (href) {\n    var source;\n    if (!isExternal(href)) {\n        source = 'fold3';\n    }\n    else if (isAncestry(href)) {\n        source = 'acom';\n    }\n    else if (isArchives(href)) {\n        source = 'archives';\n    }\n    else if (isFindAGrave(href)) {\n        source = 'fgv';\n    }\n    else if (isNewspapers(href)) {\n        source = 'news';\n    }\n    else if (isWeRemember(href)) {\n        source = 'werem';\n    }\n    else\n        source = 'external';\n    return source;\n};\nvar getReferralUrl = function (href) {\n    var source = getExternalSource(href);\n    switch (source) {\n        case 'acom':\n            href = getAcomReferralUrl() + href;\n            break;\n        case 'fgv':\n        case 'news':\n        case 'archives':\n            if (/\\?/.test(href)) {\n                href = href + '&';\n            }\n            else {\n                href = href + '?';\n            }\n            href = href + GOOGLE_ANALYTICS_REFERRAL_URL;\n            break;\n    }\n    return href;\n};\nvar getExternalUrl = function (contentObject) {\n    var _a = contentObject.id, contentType = _a.contentType, objectId = _a.objectId;\n    var config = getConfig();\n    switch (contentType) {\n        case 'ANCESTRY_DOCUMENT':\n            return \"\".concat(getAncestryHostname(), \"/discoveryui-content/view/\").concat(objectId);\n        case 'ARCHIVES_DOCUMENT':\n            var _b = getArchivesRecordId(objectId), recordType = _b.recordType, uniqueId = _b.uniqueId;\n            return \"\".concat(config.urls.archives, \"/search/\").concat(recordType, \"/record?UniqueId=\").concat(uniqueId);\n        case 'FGV_DOCUMENT':\n            return \"\".concat(config.urls.findagrave, \"/memorial/\").concat(objectId);\n        case 'NEWSPAPERS_DOCUMENT':\n            return \"\".concat(config.urls.newspapers, \"/image/\").concat(objectId);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzI2NDQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9leHRlcm5hbFVybC50cz9hMGE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnRlbnRPYmplY3QgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBnZXRBbmNlc3RyeUhvc3RuYW1lIH0gZnJvbSAnLi9hbmNlc3RyeUhlbHBlcnMnO1xuaW1wb3J0IHsgZ2V0QXJjaGl2ZXNSZWNvcmRJZCB9IGZyb20gJy4vZXh0ZXJuYWxEb2N1bWVudHMnO1xuaW1wb3J0IHsgZ2V0VXJsUGFydHMgfSBmcm9tICcuL2dldFVybCc7XG5pbXBvcnQgeyBpc0YzVXJsIH0gZnJvbSAnLi9sb2NhbGl6YXRpb24vZG9tYWluJztcbmltcG9ydCB7IGdldENvbmZpZyB9IGZyb20gJy4vc2hhcmVkQ29uZmlnJztcblxuY29uc3QgYWJzb2x1dGVVcmxQYXR0ZXJuID0gL14oPzpodHRwcz86KT9cXC9cXC9cXC8qKFteOi9dKikoPzpcXC98JCkvO1xuY29uc3QgcmVsYXRpdmVIb3N0UGF0dGVybiA9IC9eXFwvKGV4dGVybmFsKT8vOyAvL2NhcHR1cmUgdGhlICdleHRlcm5hbCcgcGF0aCBhbmQgdHJlYXQgYXMgZXh0ZXJuYWxcbmNvbnN0IGRvbUlkUGF0dGVybiA9IC9eXFwjLztcblxuY29uc3QgZ2V0QWNvbVJlZmVycmFsVXJsID0gKCkgPT4ge1xuXHRyZXR1cm4gYCR7Z2V0QW5jZXN0cnlIb3N0bmFtZSgpfS9zMTE1Nzg2L0tFWS9yZC5hc2h4P2tleT1VYDtcbn07XG5jb25zdCBHT09HTEVfQU5BTFlUSUNTX1JFRkVSUkFMX1VSTCA9ICd1dG1fc291cmNlPWZvbGQzLmNvbSZ1dG1fbWVkaXVtPXJlZmVycmFsJnV0bV9jYW1wYWlnbj1Gb2xkMyc7XG5cbmV4cG9ydCBjb25zdCBpc0V4dGVybmFsID0gKGhyZWY6IHN0cmluZykgPT4ge1xuXHRpZiAoIWhyZWYpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRsZXQgZG9tSWQgPSBkb21JZFBhdHRlcm4uZXhlYyhocmVmKTtcblx0bGV0IHJlbGF0aXZlSG9zdCA9IHJlbGF0aXZlSG9zdFBhdHRlcm4uZXhlYyhocmVmKTtcblxuXHRpZiAoZG9tSWQgfHwgcmVsYXRpdmVIb3N0KSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuICFpc0YzVXJsKGhyZWYpO1xufTtcblxuY29uc3QgbWF0Y2hlc1VybCA9ICh0YXJnZXRVcmw6IHN0cmluZywgdXJsOiBzdHJpbmcpID0+IHtcblx0bGV0IG1hdGNoID0gYWJzb2x1dGVVcmxQYXR0ZXJuLmV4ZWModXJsKTtcblx0aWYgKG1hdGNoKSB7XG5cdFx0cmV0dXJuIG1hdGNoWzBdLnN0YXJ0c1dpdGgodGFyZ2V0VXJsKTtcblx0fSBlbHNlIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0FuY2VzdHJ5ID0gKHVybDogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZygpO1xuXHRjb25zdCBhbmNIb3N0bmFtZSA9IGNvbmZpZy5hbmNlc3RyeS5ob3N0LmRlZmF1bHQ7XG5cdGNvbnN0IHsgb3JpZ2luQmFzZSB9ID0gZ2V0VXJsUGFydHModXJsKTtcblx0cmV0dXJuIGFuY0hvc3RuYW1lID09PSBvcmlnaW5CYXNlO1xufTtcbmV4cG9ydCBjb25zdCBpc0FyY2hpdmVzID0gKHVybDogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZygpO1xuXHRyZXR1cm4gbWF0Y2hlc1VybChjb25maWcudXJscy5hcmNoaXZlcywgdXJsKTtcbn07XG5leHBvcnQgY29uc3QgaXNGaW5kQUdyYXZlID0gKHVybDogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZygpO1xuXHRyZXR1cm4gbWF0Y2hlc1VybChjb25maWcudXJscy5maW5kYWdyYXZlLCB1cmwpO1xufTtcbmV4cG9ydCBjb25zdCBpc05ld3NwYXBlcnMgPSAodXJsOiBzdHJpbmcpID0+IHtcblx0Y29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKCk7XG5cdHJldHVybiBtYXRjaGVzVXJsKGNvbmZpZy51cmxzLm5ld3NwYXBlcnMsIHVybCk7XG59O1xuY29uc3QgaXNXZVJlbWVtYmVyID0gKHVybDogc3RyaW5nKSA9PiB7XG5cdGNvbnN0IGNvbmZpZyA9IGdldENvbmZpZygpO1xuXHRyZXR1cm4gbWF0Y2hlc1VybChjb25maWcudXJscy53ZVJlbWVtYmVyLCB1cmwpO1xufTtcblxuY29uc3QgZ2V0RXh0ZXJuYWxTb3VyY2UgPSAoaHJlZjogc3RyaW5nKTogc3RyaW5nID0+IHtcblx0bGV0IHNvdXJjZTtcblx0aWYgKCFpc0V4dGVybmFsKGhyZWYpKSB7XG5cdFx0c291cmNlID0gJ2ZvbGQzJztcblx0fSBlbHNlIGlmIChpc0FuY2VzdHJ5KGhyZWYpKSB7XG5cdFx0c291cmNlID0gJ2Fjb20nO1xuXHR9IGVsc2UgaWYgKGlzQXJjaGl2ZXMoaHJlZikpIHtcblx0XHRzb3VyY2UgPSAnYXJjaGl2ZXMnO1xuXHR9IGVsc2UgaWYgKGlzRmluZEFHcmF2ZShocmVmKSkge1xuXHRcdHNvdXJjZSA9ICdmZ3YnO1xuXHR9IGVsc2UgaWYgKGlzTmV3c3BhcGVycyhocmVmKSkge1xuXHRcdHNvdXJjZSA9ICduZXdzJztcblx0fSBlbHNlIGlmIChpc1dlUmVtZW1iZXIoaHJlZikpIHtcblx0XHRzb3VyY2UgPSAnd2VyZW0nO1xuXHR9IGVsc2Ugc291cmNlID0gJ2V4dGVybmFsJztcblxuXHRyZXR1cm4gc291cmNlO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFJlZmVycmFsVXJsID0gKGhyZWY6IHN0cmluZykgPT4ge1xuXHRsZXQgc291cmNlID0gZ2V0RXh0ZXJuYWxTb3VyY2UoaHJlZik7XG5cblx0c3dpdGNoIChzb3VyY2UpIHtcblx0XHRjYXNlICdhY29tJzpcblx0XHRcdGhyZWYgPSBnZXRBY29tUmVmZXJyYWxVcmwoKSArIGhyZWY7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdmZ3YnOlxuXHRcdGNhc2UgJ25ld3MnOlxuXHRcdGNhc2UgJ2FyY2hpdmVzJzpcblx0XHRcdGlmICgvXFw/Ly50ZXN0KGhyZWYpKSB7XG5cdFx0XHRcdGhyZWYgPSBocmVmICsgJyYnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aHJlZiA9IGhyZWYgKyAnPyc7XG5cdFx0XHR9XG5cblx0XHRcdGhyZWYgPSBocmVmICsgR09PR0xFX0FOQUxZVElDU19SRUZFUlJBTF9VUkw7XG5cdFx0XHRicmVhaztcblx0fVxuXHRyZXR1cm4gaHJlZjtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRFeHRlcm5hbFVybCA9IChjb250ZW50T2JqZWN0OiBDb250ZW50T2JqZWN0KSA9PiB7XG5cdGxldCB7IGNvbnRlbnRUeXBlLCBvYmplY3RJZCB9ID0gY29udGVudE9iamVjdC5pZDtcblxuXHRjb25zdCBjb25maWcgPSBnZXRDb25maWcoKTtcblxuXHRzd2l0Y2ggKGNvbnRlbnRUeXBlKSB7XG5cdFx0Y2FzZSAnQU5DRVNUUllfRE9DVU1FTlQnOlxuXHRcdFx0cmV0dXJuIGAke2dldEFuY2VzdHJ5SG9zdG5hbWUoKX0vZGlzY292ZXJ5dWktY29udGVudC92aWV3LyR7b2JqZWN0SWR9YDtcblx0XHRjYXNlICdBUkNISVZFU19ET0NVTUVOVCc6XG5cdFx0XHRsZXQgeyByZWNvcmRUeXBlLCB1bmlxdWVJZCB9ID0gZ2V0QXJjaGl2ZXNSZWNvcmRJZChvYmplY3RJZCk7XG5cblx0XHRcdHJldHVybiBgJHtjb25maWcudXJscy5hcmNoaXZlc30vc2VhcmNoLyR7cmVjb3JkVHlwZX0vcmVjb3JkP1VuaXF1ZUlkPSR7dW5pcXVlSWR9YDtcblx0XHRjYXNlICdGR1ZfRE9DVU1FTlQnOlxuXHRcdFx0cmV0dXJuIGAke2NvbmZpZy51cmxzLmZpbmRhZ3JhdmV9L21lbW9yaWFsLyR7b2JqZWN0SWR9YDtcblx0XHRjYXNlICdORVdTUEFQRVJTX0RPQ1VNRU5UJzpcblx0XHRcdHJldHVybiBgJHtjb25maWcudXJscy5uZXdzcGFwZXJzfS9pbWFnZS8ke29iamVjdElkfWA7XG5cdH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///72644\n")},93150:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  $J: () => (/* binding */ F3Query),\n  $n: () => (/* binding */ MAX_QUERY_SIZE),\n  $g: () => (/* binding */ NO_FILTER_VALUE)\n});\n\n// UNUSED EXPORTS: HIT_REQUEST_SIZE\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(70655);\n// EXTERNAL MODULE: ./src/ts/shared/pages/browse/browseHelpers.ts\nvar browseHelpers = __webpack_require__(13999);\n// EXTERNAL MODULE: ./src/ts/shared/pages/search/facetTypes.ts + 2 modules\nvar search_facetTypes = __webpack_require__(88503);\n// EXTERNAL MODULE: ./src/ts/shared/lib/ObjectUtils.ts\nvar ObjectUtils = __webpack_require__(7032);\n// EXTERNAL MODULE: ./src/ts/shared/lib/PubSub.ts\nvar PubSub = __webpack_require__(52953);\n// EXTERNAL MODULE: ./src/ts/shared/lib/computed.ts\nvar computed = __webpack_require__(16701);\n// EXTERNAL MODULE: ./src/ts/shared/lib/content/contentObject.ts + 2 modules\nvar contentObject = __webpack_require__(31042);\n// EXTERNAL MODULE: ./src/ts/shared/lib/dateHelpers.ts\nvar dateHelpers = __webpack_require__(6084);\n// EXTERNAL MODULE: ./src/ts/shared/lib/dateUtil.ts\nvar dateUtil = __webpack_require__(26487);\n// EXTERNAL MODULE: ./src/ts/shared/lib/deepCompare.ts + 1 modules\nvar deepCompare = __webpack_require__(85695);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/deepFreeze.ts\nfunction deepFreeze(o) {\n    Object.freeze(o);\n    Object.getOwnPropertyNames(o).forEach(function (prop) {\n        if (o.hasOwnProperty(prop) &&\n            o[prop] !== null &&\n            (typeof o[prop] === 'object' || typeof o[prop] === 'function') &&\n            !Object.isFrozen(o[prop])) {\n            deepFreeze(o[prop]);\n        }\n    });\n    return o;\n}\n;\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/ext/Rison.ts\nvar Rison = __webpack_require__(66682);\n// EXTERNAL MODULE: ./src/ts/shared/lib/mapUtil.ts\nvar mapUtil = __webpack_require__(64528);\n// EXTERNAL MODULE: ./src/ts/shared/lib/place-abbreviations.ts\nvar place_abbreviations = __webpack_require__(43480);\n// EXTERNAL MODULE: ./src/ts/shared/lib/queryUtil.ts\nvar queryUtil = __webpack_require__(4781);\n// EXTERNAL MODULE: ./src/ts/shared/lib/templating.ts\nvar templating = __webpack_require__(21012);\n// EXTERNAL MODULE: ./src/ts/shared/lib/deepMerge.ts\nvar deepMerge = __webpack_require__(49691);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/f3-query/F3QueryArray.ts\n\n\n\n\nvar F3QueryArray = /** @class */ (function () {\n    function F3QueryArray(opts) {\n        this._getArr = opts.getArr;\n        this._setArr = opts.setArr;\n        this.defaultItem = opts.defaultItem;\n        this.flattenItems = opts.flattenItems;\n        this.mergeItems = opts.mergeItems;\n    }\n    /* Shallow copy to prevent accidental/premature array modifications. */\n    F3QueryArray.prototype.getArr = function () {\n        var original = this._getArr();\n        if (this.flattenItems)\n            return this.flattenItems(original);\n        else\n            return (0,tslib_es6/* __spreadArray */.ev)([], (0,tslib_es6/* __read */.CR)(original), false);\n    };\n    F3QueryArray.prototype.setArr = function (arr, publish) {\n        if (this.mergeItems) {\n            arr = this.mergeItems(arr);\n        }\n        this._setArr(arr, publish);\n    };\n    F3QueryArray.prototype.find = function (item) {\n        return this.getArr()[this.findIndex(item)];\n    };\n    F3QueryArray.prototype.findIndex = function (item) {\n        return this.getArr().findIndex(function (_item) {\n            return (0,deepCompare/* default */.Z)(item, _item, true);\n        });\n    };\n    F3QueryArray.prototype.filter = function (cb) {\n        return this.getArr().filter(cb);\n    };\n    F3QueryArray.prototype.has = function (item) {\n        return this.findIndex(item) >= 0;\n    };\n    F3QueryArray.prototype.toggleItem = function (item, publish) {\n        if (this.has(item)) {\n            this.removeItem(item, publish);\n        }\n        else {\n            this.addItem(item, publish);\n        }\n    };\n    F3QueryArray.prototype.addItem = function (item, publish) {\n        var arr = this.getArr();\n        var newItem = this.createDefaultItem(item);\n        if (!this.has(newItem)) {\n            arr.push(newItem);\n            this.setArr(arr, publish);\n        }\n        return this;\n    };\n    F3QueryArray.prototype.updateItem = function (item, cb, publish) {\n        var found = this.find(item);\n        var newItem = cb(found || this.createDefaultItem(item));\n        this.removeItem(item, false);\n        this.addItem(newItem, publish);\n    };\n    F3QueryArray.prototype.removeItem = function (item, publish) {\n        var filtered = this.getArr()\n            .filter(function (_item) { return !(0,deepCompare/* default */.Z)(item, _item, true); });\n        this.setArr(filtered, publish);\n        return this;\n    };\n    /* If you return true from the callback, the item will be removed */\n    F3QueryArray.prototype.removeItems = function (cb, publish) {\n        var filtered = this.getArr().filter(function (item) { return !cb(item); });\n        this.setArr(filtered, publish);\n        return this;\n    };\n    F3QueryArray.prototype.clear = function (publish) {\n        this.setArr([], publish);\n    };\n    F3QueryArray.prototype.createDefaultItem = function (item) {\n        if (this.defaultItem) {\n            return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, this.defaultItem), item);\n        }\n        else {\n            return item;\n        }\n    };\n    return F3QueryArray;\n}());\n\nfunction createFacetRequestsArray(f3Query) {\n    return new F3QueryArray({\n        getArr: function () { return f3Query.query.facetRequests; },\n        setArr: function (facetRequests, publish) { f3Query.updateQuery({ facetRequests: facetRequests }, publish); },\n        defaultItem: F3Query.DEFAULT_FACET_REQUEST,\n        mergeItems: function (facetRequests) {\n            var e_1, _a;\n            var reqObj = {};\n            try {\n                for (var facetRequests_1 = (0,tslib_es6/* __values */.XA)(facetRequests), facetRequests_1_1 = facetRequests_1.next(); !facetRequests_1_1.done; facetRequests_1_1 = facetRequests_1.next()) {\n                    var request = facetRequests_1_1.value;\n                    if (!(request.type in reqObj)) {\n                        reqObj[request.type] = request;\n                    }\n                    else {\n                        reqObj[request.type] = (0,deepMerge/* deepMerge */.R)(reqObj[request.type], request);\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (facetRequests_1_1 && !facetRequests_1_1.done && (_a = facetRequests_1.return)) _a.call(facetRequests_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return Object.values(reqObj);\n        },\n    });\n}\nfunction createFieldedKeywordsArray(f3Query) {\n    return new F3QueryArray({\n        getArr: function () { return f3Query.query.fieldedKeywords; },\n        setArr: function (fieldedKeywords, publish) { f3Query.updateQuery({ fieldedKeywords: fieldedKeywords }, publish); },\n        defaultItem: F3Query.DEFAULT_FIELDED_KEYWORD,\n        flattenItems: function (fieldedKeywords) {\n            return fieldedKeywords.flatMap(function (fKeyword) {\n                return fKeyword.texts.map(function (text) {\n                    return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, fKeyword), { texts: [text] });\n                });\n            });\n        },\n        mergeItems: function (fieldedKeywords) {\n            var e_2, _a;\n            var items = {};\n            var _loop_1 = function (fieldedKeyword) {\n                if (!(fieldedKeyword.type in items)) {\n                    items[fieldedKeyword.type] = fieldedKeyword;\n                }\n                else {\n                    items[fieldedKeyword.type].texts = dedupeArrayItems(items[fieldedKeyword.type].texts);\n                    fieldedKeyword.texts.forEach(function (text) {\n                        if (!items[fieldedKeyword.type].texts.includes(text)) {\n                            items[fieldedKeyword.type].texts.push(text);\n                        }\n                    });\n                }\n            };\n            try {\n                for (var fieldedKeywords_1 = (0,tslib_es6/* __values */.XA)(fieldedKeywords), fieldedKeywords_1_1 = fieldedKeywords_1.next(); !fieldedKeywords_1_1.done; fieldedKeywords_1_1 = fieldedKeywords_1.next()) {\n                    var fieldedKeyword = fieldedKeywords_1_1.value;\n                    _loop_1(fieldedKeyword);\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (fieldedKeywords_1_1 && !fieldedKeywords_1_1.done && (_a = fieldedKeywords_1.return)) _a.call(fieldedKeywords_1);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            return Object.values(items);\n        },\n    });\n}\nfunction createFiltersArray(f3Query) {\n    return new F3QueryArray({\n        getArr: function () { return f3Query.query.filters; },\n        setArr: function (filters, publish) { f3Query.updateQuery({ filters: filters }, publish); },\n        defaultItem: F3Query.DEFAULT_FILTER,\n        flattenItems: function (filters) {\n            return filters.flatMap(function (filter) {\n                return filter.values.map(function (value) {\n                    return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, filter), { values: [value] });\n                });\n            });\n        },\n        mergeItems: function (filters) {\n            var e_3, _a;\n            var items = {};\n            try {\n                for (var filters_1 = (0,tslib_es6/* __values */.XA)(filters), filters_1_1 = filters_1.next(); !filters_1_1.done; filters_1_1 = filters_1.next()) {\n                    var filter = filters_1_1.value;\n                    var key = \"\".concat(filter.type, \":\").concat(filter.exclude);\n                    if (!(key in items)) {\n                        items[key] = filter;\n                    }\n                    else {\n                        items[key].values = dedupeArrayItems(items[key].values, filter.values);\n                    }\n                }\n            }\n            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n            finally {\n                try {\n                    if (filters_1_1 && !filters_1_1.done && (_a = filters_1.return)) _a.call(filters_1);\n                }\n                finally { if (e_3) throw e_3.error; }\n            }\n            return Object.values(items);\n        },\n    });\n}\nfunction createInArray(f3Query) {\n    return new F3QueryArray({\n        getArr: function () { return f3Query.query.in; },\n        setArr: function (inArr, publish) { f3Query.updateQuery({ in: inArr }, publish); },\n        defaultItem: F3Query.DEFAULT_OBJ_REF,\n        mergeItems: function (items) {\n            return dedupeArrayItems(items);\n        },\n    });\n}\nfunction createRegimentConnectionsArray(f3Query) {\n    return new F3QueryArray({\n        getArr: function () { return f3Query.query.regimentConnections; },\n        setArr: function (regimentConnections, publish) { f3Query.updateQuery({ regimentConnections: regimentConnections }, publish); },\n        defaultItem: F3Query.DEFAULT_OBJ_REF,\n        mergeItems: function (items) {\n            return dedupeArrayItems(items);\n        },\n    });\n}\nfunction createTagsArray(f3Query) {\n    return new F3QueryArray({\n        getArr: function () { return f3Query.query.tags; },\n        setArr: function (tags, publish) { f3Query.updateQuery({ tags: tags }, publish); },\n        defaultItem: F3Query.DEFAULT_TAG_QUERY,\n        mergeItems: function (tags) {\n            var e_4, _a;\n            var tagsObj = {};\n            try {\n                for (var tags_1 = (0,tslib_es6/* __values */.XA)(tags), tags_1_1 = tags_1.next(); !tags_1_1.done; tags_1_1 = tags_1.next()) {\n                    var tag = tags_1_1.value;\n                    if (!(tag.name in tagsObj)) {\n                        tagsObj[tag.name] = tag;\n                    }\n                    else {\n                        tagsObj[tag.name] = (0,deepMerge/* deepMerge */.R)(tagsObj[tag.name], tag);\n                    }\n                }\n            }\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\n            finally {\n                try {\n                    if (tags_1_1 && !tags_1_1.done && (_a = tags_1.return)) _a.call(tags_1);\n                }\n                finally { if (e_4) throw e_4.error; }\n            }\n            return Object.values(tagsObj);\n        },\n    });\n}\nfunction createKeywordsArray(f3Query) {\n    return new F3QueryArray({\n        getArr: function () {\n            if (f3Query.query.keywords === '')\n                return [];\n            else\n                return f3Query.query.keywords.split(',');\n        },\n        setArr: function (keywords, publish) {\n            f3Query.updateQuery({ keywords: keywords.join(',') }, publish);\n        },\n    });\n}\nfunction createWithinArray(f3Query) {\n    return new F3QueryArray({\n        getArr: function () { return f3Query.query.within; },\n        setArr: function (within, publish) { f3Query.updateQuery({ within: within }, publish); },\n    });\n}\nfunction createCommanderConnectionsArray(f3Query) {\n    return new F3QueryArray({\n        getArr: function () { return f3Query.query.commanderConnections; },\n        setArr: function (commanderConnections, publish) { f3Query.updateQuery({ commanderConnections: commanderConnections }, publish); },\n        defaultItem: F3Query.DEFAULT_OBJ_REF,\n        mergeItems: function (items) {\n            return dedupeArrayItems(items);\n        },\n    });\n}\n/*\n * This function is pretty inefficient, but it deeply compares partial items with full items\n * and handles the use cases of these arrays specifically.\n *\n * Fortunately, these operations won't happen often, and will always be a result of user interaction.\n * Also, it would be rare for any of these arrays to exceed 5 or 6 items, so it will still be pretty fast.\n */\nfunction dedupeArrayItems() {\n    var arrays = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        arrays[_i] = arguments[_i];\n    }\n    var dedupedArr = [];\n    arrays.forEach(function (arr) {\n        arr.forEach(function (item) {\n            if (!dedupedArr.some(function (_item) { return (0,deepCompare/* default */.Z)(item, _item, true); })) {\n                dedupedArr.push(item);\n            }\n        });\n    });\n    return dedupedArr;\n}\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/f3-query/F3Query.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar KEYS_TO_DIFF = ['backwardConnection', 'forwardConnection', 'maxCount', 'ocr', 'offset', 'sortOrder', 'strictMode', 'lastUpdated'];\nvar HIT_REQUEST_SIZE = 100;\nvar MAX_QUERY_SIZE = 10000;\nvar NO_FILTER_VALUE = 'NO_FILTER';\nvar rison = new Rison/* Rison */.v({\n    notIdChar: Rison/* RISON_DEFAULTS */.L.NOT_ID_CHAR.replace(' ', '') + '\\t',\n    whitespace: ' \\t',\n    /*\n     * replaceWhitespace(str) {\n     * \treturn str.replaceAll(/[^\\S\\t]/g, '+')\n     * }\n     */\n});\nvar F3Query = /** @class */ (function () {\n    function F3Query(query) {\n        if (query === void 0) { query = {}; }\n        var _this = this;\n        this.pubsub = new PubSub/* PubSub */.p();\n        this.FacetRequests = createFacetRequestsArray(this);\n        this.FieldedKeywords = createFieldedKeywordsArray(this);\n        this.Filters = createFiltersArray(this);\n        this.In = createInArray(this);\n        this.RegimentConnections = createRegimentConnectionsArray(this);\n        this.Tags = createTagsArray(this);\n        this.Keywords = createKeywordsArray(this);\n        this.Within = createWithinArray(this);\n        this.CommanderConnections = createCommanderConnectionsArray(this);\n        this.queryString = (0,computed/* computed */.F)(function () {\n            var docQuery = F3Query.filterDocumentQuery(_this.query);\n            if (Object.keys(docQuery).length === 0)\n                return '';\n            // let compressed = F3Query.compressDocumentQuery(docQuery);\n            return rison.encodeUri(docQuery)\n                .replaceAll(browseHelpers/* TAB_CHARACTER */.cC, browseHelpers/* TAB_REPLACEMENT_CHARACTER */.BZ);\n        });\n        var newQuery = F3Query.createDefaultQuery(query);\n        this._initialQuery = F3Query.clone(newQuery);\n        this.query = F3Query.clone(newQuery);\n    }\n    F3Query.prototype.updateInitialQuery = function () {\n        this._initialQuery = F3Query.clone(this.query);\n    };\n    F3Query.prototype.setQuery = function (fn, publish) {\n        if (publish === void 0) { publish = true; }\n        var oldQuery = this.copy();\n        this.query = fn(this.query);\n        var diff = F3Query.diffAppliedParams(this, oldQuery);\n        var changed = Object.keys(diff.modified).length > 0 || diff.added.length > 0 || diff.removed.length > 0;\n        /*\n         * Automatically reset offset back to 0 if it isn't explicitly being set and something has changed.\n         * i.e. If a facet is applied or a keyword is removed or the sort order is changed, we need to automatically\n         * display the first set of results.\n         */\n        if (changed) {\n            this.queryString.setInvalid();\n            if (!('offset' in diff.modified)) {\n                this.query.offset = 0;\n            }\n            if (publish) {\n                if (this.pubsub.getListenerCount('QueryModified') === 0) {\n                    return;\n                }\n                this.pubsub.publish('QueryModified', diff);\n            }\n        }\n    };\n    F3Query.prototype.updateQuery = function (partialQuery, publish) {\n        if (publish === void 0) { publish = true; }\n        this.setQuery(function (query) { return ((0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, query), partialQuery)); }, publish);\n    };\n    F3Query.prototype.onModified = function (cb, opts) {\n        var _this = this;\n        if (opts === void 0) { opts = {}; }\n        var _a = opts.ignoreFacetTypes, ignoreFacetTypes = _a === void 0 ? [] : _a, _b = opts.ignoreKeys, ignoreKeys = _b === void 0 ? [] : _b;\n        var modifiedCb = function (diff) {\n            var _a, _b;\n            if (!opts) {\n                cb(diff);\n                return;\n            }\n            var modifiedKeys = Object.keys(diff.modified);\n            if (modifiedKeys.some(function (key) { return !ignoreKeys.includes(key); })) {\n                cb(diff);\n                return;\n            }\n            var addedFacetTypes = ((_a = diff === null || diff === void 0 ? void 0 : diff.added) === null || _a === void 0 ? void 0 : _a.map(function (added) { return added.facetType; })) || [];\n            var removedFacetTypes = ((_b = diff === null || diff === void 0 ? void 0 : diff.removed) === null || _b === void 0 ? void 0 : _b.map(function (removed) { return removed.facetType; })) || [];\n            if ((0,tslib_es6/* __spreadArray */.ev)((0,tslib_es6/* __spreadArray */.ev)([], (0,tslib_es6/* __read */.CR)(addedFacetTypes), false), (0,tslib_es6/* __read */.CR)(removedFacetTypes), false).some(function (key) { return !ignoreFacetTypes.includes(key); })) {\n                cb(diff);\n                return;\n            }\n        };\n        this.pubsub.on('QueryModified', modifiedCb);\n        return function () { return _this.pubsub.off('QueryModified', modifiedCb); };\n    };\n    F3Query.prototype.offModified = function (cb) {\n        this.pubsub.off('QueryModified', cb);\n    };\n    F3Query.prototype.resetQuery = function (keys) {\n        var _this = this;\n        if (keys === true) {\n            this.setQuery(function () { return F3Query.createDefaultQuery({}); }, true);\n        }\n        else if (Array.isArray(keys)) {\n            var toUpdate = keys.reduce(function (finalObj, key) {\n                finalObj[key] = _this._initialQuery[key];\n                return finalObj;\n            }, {});\n            this.updateQuery(toUpdate);\n        }\n        else {\n            this.setQuery(function () { return _this._initialQuery; }, true);\n        }\n    };\n    F3Query.prototype.isEmpty = function () {\n        var _a = this.query, lastUpdated = _a.lastUpdated, keywords = _a.keywords, filters = _a.filters, fieldedKeywords = _a.fieldedKeywords, within = _a.within, regimentConnections = _a.regimentConnections, commanderConnections = _a.commanderConnections, tags = _a.tags, inTag = _a.inTag;\n        if (lastUpdated ||\n            (keywords === null || keywords === void 0 ? void 0 : keywords.length) > 0 ||\n            (filters === null || filters === void 0 ? void 0 : filters.length) > 0 ||\n            (fieldedKeywords === null || fieldedKeywords === void 0 ? void 0 : fieldedKeywords.length) > 0 ||\n            (within === null || within === void 0 ? void 0 : within.length) > 0 ||\n            (regimentConnections === null || regimentConnections === void 0 ? void 0 : regimentConnections.length) > 0 ||\n            (tags === null || tags === void 0 ? void 0 : tags.length) > 0 ||\n            (commanderConnections === null || commanderConnections === void 0 ? void 0 : commanderConnections.length) > 0 ||\n            inTag) {\n            return false;\n        }\n        return true;\n    };\n    /*\n     * The purpose of this function is to just take this.query and remove the labels\n     * to make it a real DocumentQuery\n     */\n    F3Query.prototype.toDocumentQuery = function ( /* prefixFilter: boolean = true */) {\n        var offset = Math.floor(this.query.offset / HIT_REQUEST_SIZE) * HIT_REQUEST_SIZE;\n        return F3Query.filterDocumentQuery((0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, this.query), { offset: offset, filters: this.query.filters\n                .map(function (filter) {\n                return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, filter), { values: filter.values\n                        .filter(function (val) { return val.value !== NO_FILTER_VALUE; })\n                        .map(function (val) { return String(val.value); }) });\n            })\n                .filter(function (filter) {\n                return filter.values.length > 0;\n            }), regimentConnections: this.query.regimentConnections.map(function (_a) {\n                var contentType = _a.contentType, objectId = _a.objectId;\n                return { contentType: contentType, objectId: objectId };\n            }), commanderConnections: this.query.commanderConnections.map(function (_a) {\n                var contentType = _a.contentType, objectId = _a.objectId;\n                return { contentType: contentType, objectId: objectId };\n            }), in: this.query.in.map(function (_a) {\n                var contentType = _a.contentType, objectId = _a.objectId;\n                return { contentType: contentType, objectId: objectId };\n            }), lastUpdated: F3Query.lastUpdatedToDate(this.query.lastUpdated), within: this.query.within.map(function (_a) {\n                var value = _a.value;\n                return value;\n            }).join(','), fieldedKeywords: this.query.fieldedKeywords.map(function (keyword) {\n                return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, keyword), { texts: keyword.texts.map(function (text) {\n                        /* if (prefixFilter) */ return F3Query.fieldedKeywordPrefix(text);\n                        // else return text;\n                    }) });\n            }) }));\n    };\n    F3Query.prototype.toFacetQuery = function () {\n        var documentQuery = this.toDocumentQuery( /* true */);\n        return F3Query.filterDocumentQuery((0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, documentQuery), { maxCount: 0, offset: 0, sortOrder: F3Query.DEFAULT_SORT_ORDER, dateSpan: false, environment: null }));\n    };\n    F3Query.prototype.toHitQuery = function (offset, maxCount) {\n        if (maxCount === void 0) { maxCount = this.query.maxCount || HIT_REQUEST_SIZE; }\n        var documentQuery = this.toDocumentQuery();\n        return F3Query.filterDocumentQuery((0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, documentQuery), { offset: offset !== undefined ? offset : documentQuery.offset, maxCount: maxCount, facetRequests: [], dateSpan: false, environment: null, targetThumbHeight: 200, targetThumbWidth: 200, highlight: {\n                highlight: true,\n                fragmentSize: null,\n            } }));\n    };\n    F3Query.prototype.getSearchQueries = function (facetTypes, maxCount) {\n        if (maxCount === void 0) { maxCount = 0; }\n        var appliedFacets = []; // all queries for applied and non-applied facets\n        var queryCopy = this.copy();\n        var otherFacets = queryCopy.copy(); // query for all non-applied facets with all filters/fieldedKeywords applied\n        otherFacets.updateQuery({\n            maxCount: maxCount,\n            highlight: { highlight: true },\n        }, false);\n        facetTypes.forEach(function (facetType) {\n            var facetRequests = F3Query.getFacetRequests(facetType);\n            if (facetRequests.length === 0)\n                return;\n            var relatedFacetType = (0,search_facetTypes/* getRelatedFacetType */.FL)(facetType);\n            var existingFilter = queryCopy.Filters.find({ type: facetType });\n            var existingRelatedFilter = queryCopy.Filters.find({ type: relatedFacetType });\n            // let existingFilter = queryCopy.query.filters.find(filter => filter.type === facetType);\n            if (existingFilter || existingRelatedFilter) {\n                var appliedQuery = queryCopy.copy();\n                appliedQuery.filterFacetTypes([facetType]);\n                if (relatedFacetType) {\n                    appliedQuery.filterFacetTypes([relatedFacetType]);\n                }\n                appliedQuery.setQuery(function (currQuery) {\n                    return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, currQuery), { facetRequests: facetRequests, maxCount: 0 });\n                }, false);\n                appliedFacets.push(appliedQuery);\n            }\n            else {\n                otherFacets.setQuery(function (currQuery) {\n                    return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, currQuery), { facetRequests: (0,tslib_es6/* __spreadArray */.ev)((0,tslib_es6/* __spreadArray */.ev)([], (0,tslib_es6/* __read */.CR)(currQuery.facetRequests), false), (0,tslib_es6/* __read */.CR)(facetRequests), false) });\n                }, false);\n            }\n        });\n        /*\n         * Adding facetRequests to otherFacets above resets the offset back to 0.\n         * We need to preserve that because the otherFacets query is used for hits.\n         */\n        otherFacets.updateQuery({\n            offset: this.query.offset,\n            maxCount: otherFacets.isEmpty() ? 0 : otherFacets.query.maxCount, // don't request hits if search is empty\n        });\n        return {\n            applied: appliedFacets,\n            other: otherFacets,\n        };\n    };\n    /*\n     * getBrowseQueries() {\n     * \tlet queries: F3Query[] = [];\n     */\n    /*\n     * \tlet filteredQuery = this.copy();\n     * \tfilteredQuery.filterFacetTypes(NON_BROWSE_FACET_TYPES);\n     */\n    /*\n     * \tfor (let i = 0; i < BROWSE_FACET_TYPES.length; i++) {\n     * \t\tlet facetType = BROWSE_FACET_TYPES[i];\n     * \t\tif (!filteredQuery.FacetRequests.has({ type: facetType })) continue;\n     */\n    /*\n     * \t\tlet childFacets = BROWSE_FACET_TYPES.slice(i + 1);\n     * \t\tlet otherFacets = BROWSE_FACET_TYPES.filter(_facetType => _facetType !== facetType);\n     */\n    /*\n     * \t\tlet newQuery = filteredQuery.copy();\n     * \t\tnewQuery.filterFacetTypes(childFacets);\n     */\n    // \t\tnewQuery.FacetRequests.removeItems(item => otherFacets.includes(item.type as BrowseColumnFacetType), false);\n    // \t\tnewQuery.Filters.removeItem({ type: facetType });\n    /*\n     * \t\tqueries.push(newQuery);\n     * \t}\n     */\n    /*\n     * \treturn queries;\n     * }\n     */\n    /*\n     * updateBrowseFacet({ facetType, filter, value, label }: { facetType: BrowseColumnFacetType, filter?: string, value?: string, label?: string }, publish?: boolean) {\n     * \tlet i = BROWSE_FACET_TYPES.indexOf(facetType);\n     * \tlet childFacets = BROWSE_FACET_TYPES.slice(i + 1);\n     */\n    // \t/* Remove all child browse column stuff from query */\n    // \tlet copy = this.copy();\n    // \tcopy.filterFacetTypes(childFacets);\n    /*\n     * \tif (filter !== undefined) {\n     * \t\tcopy.FieldedKeywords.updateItem(\n     * \t\t\t{ type: facetType },\n     * \t\t\titem => ({ ...item, texts: [filter] }) as Keywords,\n     * \t\t\tfalse\n     * \t\t);\n     */\n    /*\n     * \t\tcopy.Filters.removeItem({ type: facetType }, false);\n     * \t}\n     */\n    /*\n     * \tif (value !== undefined) {\n     * \t\tcopy.Filters.updateItem(\n     * \t\t\t{ type: facetType },\n     * \t\t\titem => ({ ...item, values: [{ value, label }] }) as FilterWithLabel,\n     * \t\t\tfalse,\n     * \t\t);\n     * \t}\n     */\n    /*\n     * \tthis.setQuery(() => copy.query, publish);\n     * }\n     */\n    F3Query.prototype.getFacetQueries = function (facetTypes, maxHitCount) {\n        var _a = this.getSearchQueries(facetTypes, maxHitCount), applied = _a.applied, other = _a.other;\n        return applied.concat(other).map(function (q) { return q.toFacetQuery(); });\n    };\n    F3Query.prototype.toQueryParams = function () {\n        var queryStr = this.queryString.getValue();\n        return queryStr ? \"?docQuery=\".concat(queryStr) : '';\n    };\n    F3Query.prototype.toUrl = function () {\n        return \"/search\".concat(this.toQueryParams());\n    };\n    F3Query.prototype.toBrowseUrl = function () {\n        var params = this.toQueryParams();\n        return \"/search\".concat(params ? \"\".concat(params, \"&\") : '?', \"view=BROWSE\");\n    };\n    F3Query.prototype.copy = function () {\n        return new F3Query(this.query);\n    };\n    F3Query.prototype.hasParam = function (param) {\n        var _a = F3Query.appliedParamToItem(param), type = _a.type, item = _a.item;\n        switch (type) {\n            case 'fieldedKeywords': return this.FieldedKeywords.has(item);\n            case 'filters': return this.Filters.has(item);\n            case 'keywords': return this.Keywords.has(item);\n            case 'lastUpdated': return this.query.lastUpdated === item;\n            case 'regimentConnections': return this.RegimentConnections.has(item);\n            case 'commanderConnections': return this.CommanderConnections.has(item);\n            case 'tags': return this.Tags.has(item);\n            case 'within': return this.Within.has(item);\n            default:\n                throw new Error(\"type \".concat(type, \" is an unhandled type\"));\n        }\n    };\n    F3Query.prototype.addApiKey = function (key) {\n        this.updateQuery({ environment: { origin: key } });\n    };\n    F3Query.prototype.filterFacetTypes = function (facetTypes, publish) {\n        var copy = this.copy();\n        copy.Filters.removeItems(function (item) { return facetTypes.includes(item.type); }, false);\n        copy.FacetRequests.removeItems(function (item) { return facetTypes.includes(item.type); }, false);\n        copy.FieldedKeywords.removeItems(function (item) { return facetTypes.includes(item.type); }, false);\n        this.setQuery(function () { return copy.query; }, publish);\n        return this;\n    };\n    F3Query.prototype.toAppliedParams = function () {\n        return (0,tslib_es6/* __spreadArray */.ev)((0,tslib_es6/* __spreadArray */.ev)((0,tslib_es6/* __spreadArray */.ev)((0,tslib_es6/* __spreadArray */.ev)((0,tslib_es6/* __spreadArray */.ev)((0,tslib_es6/* __spreadArray */.ev)((0,tslib_es6/* __spreadArray */.ev)([], (0,tslib_es6/* __read */.CR)(this.Keywords.getArr()\n            .map(function (keyword) { return F3Query.itemToAppliedParams('keywords', keyword); })), false), (0,tslib_es6/* __read */.CR)(this.FieldedKeywords.getArr()\n            .flatMap(function (fKeyword) { return F3Query.itemToAppliedParams('fieldedKeywords', fKeyword); })), false), (0,tslib_es6/* __read */.CR)(this.Filters.getArr()\n            .flatMap(function (filter) { return F3Query.itemToAppliedParams('filters', filter); })), false), (0,tslib_es6/* __read */.CR)(this.RegimentConnections.getArr()\n            .map(function (connection) { return F3Query.itemToAppliedParams('regimentConnections', connection); })), false), (0,tslib_es6/* __read */.CR)(this.CommanderConnections.getArr()\n            .map(function (connection) { return F3Query.itemToAppliedParams('commanderConnections', connection); })), false), (0,tslib_es6/* __read */.CR)(this.Tags.getArr()\n            .map(function (tag) { return F3Query.itemToAppliedParams('tags', tag); })), false), (0,tslib_es6/* __read */.CR)(this.Within.getArr()\n            .map(function (within) { return F3Query.itemToAppliedParams('within', within); })), false);\n    };\n    F3Query.prototype.addParam = function (param, publish) {\n        var _a = F3Query.appliedParamToItem(param), type = _a.type, item = _a.item;\n        switch (type) {\n            case 'keywords':\n                this.Keywords.addItem(item, publish);\n                break;\n            case 'filters':\n                this.Filters.addItem(item, publish);\n                break;\n            case 'fieldedKeywords':\n                this.FieldedKeywords.addItem(item, publish);\n                break;\n            case 'regimentConnections':\n                this.RegimentConnections.addItem(item, publish);\n                break;\n            case 'commanderConnections':\n                this.CommanderConnections.addItem(item, publish);\n                break;\n            case 'tags':\n                this.Tags.addItem(item, publish);\n                break;\n            case 'within':\n                this.Within.addItem(item, publish);\n                break;\n            default:\n                throw new Error(\"\".concat(type, \" is an unsupported type\"));\n        }\n    };\n    F3Query.prototype.removeParam = function (param, publish) {\n        var _a = F3Query.appliedParamToItem(param), type = _a.type, item = _a.item;\n        switch (type) {\n            case 'keywords':\n                this.Keywords.removeItem(item, publish);\n                break;\n            case 'filters':\n                this.Filters.removeItem(item, publish);\n                break;\n            case 'fieldedKeywords':\n                this.FieldedKeywords.removeItem(item, publish);\n                break;\n            case 'regimentConnections':\n                this.RegimentConnections.removeItem(item, publish);\n                break;\n            case 'commanderConnections':\n                this.CommanderConnections.removeItem(item, publish);\n                break;\n            case 'tags':\n                this.Tags.removeItem(item, publish);\n                break;\n            case 'within':\n                this.Within.removeItem(item, publish);\n                break;\n            default:\n                throw new Error(\"\".concat(type, \" is an unsupported type\"));\n        }\n    };\n    F3Query.filterDocumentQuery = function (query, toFilter) {\n        if (toFilter === void 0) { toFilter = []; }\n        return (0,ObjectUtils/* filterDefaultValues */.HI)(F3Query.DEFAULT_QUERY, query, function (key, val) {\n            switch (key) {\n                case 'filters':\n                    return val\n                        .filter(function (filter) { return !toFilter.includes(filter.type); })\n                        .map(function (filter) {\n                        return (0,ObjectUtils/* filterDefaultValues */.HI)(F3Query.DEFAULT_FILTER, filter);\n                    });\n                case 'facetRequests':\n                    return val\n                        .filter(function (filter) { return !toFilter.includes(filter.type); })\n                        .map(function (req) {\n                        return (0,ObjectUtils/* filterDefaultValues */.HI)(F3Query.DEFAULT_FACET_REQUEST, req);\n                    });\n                case 'fieldedKeywords':\n                    return val\n                        .filter(function (filter) { return !toFilter.includes(filter.type); })\n                        .map(function (fKeyword) {\n                        return (0,ObjectUtils/* filterDefaultValues */.HI)(F3Query.DEFAULT_FIELDED_KEYWORD, fKeyword);\n                    });\n                case 'tags':\n                    return val.map(function (tagQuery) {\n                        return (0,ObjectUtils/* filterDefaultValues */.HI)(F3Query.DEFAULT_TAG_QUERY, tagQuery);\n                    });\n                default:\n                    return false;\n            }\n        });\n    };\n    F3Query.expandFilteredDocumentQuery = function (query) {\n        var copy = F3Query.createDefaultQuery(JSON.parse(JSON.stringify(query)));\n        copy.facetRequests = copy.facetRequests.map(function (val) { return F3Query.createDefaultFacetRequest(val); });\n        copy.filters = copy.filters.map(function (val) { return F3Query.createDefaultFilter(val); });\n        copy.fieldedKeywords = copy.fieldedKeywords.map(function (val) { return F3Query.createDefaultFieldedKeyword(val); });\n        copy.tags = copy.tags.map(function (val) { return F3Query.createDefaultTagQuery(val); });\n        return copy;\n    };\n    F3Query.fromQuery = function (query) {\n        var _a = query.toCombinedQuery(), fieldedKeywords = _a.fieldedKeywords, filters = _a.filters, keywords = _a.keywords, lastUpdated = _a.lastUpdated, regimentConnections = _a.regimentConnections, commanderConnections = _a.commanderConnections, tags = _a.tags, within = _a.within, rest = (0,tslib_es6/* __rest */._T)(_a, [\"fieldedKeywords\", \"filters\", \"keywords\", \"lastUpdated\", \"regimentConnections\", \"commanderConnections\", \"tags\", \"within\"]);\n        var newAppliedParams = query.appliedParams.reduce(function (finalArr, searchParam) {\n            finalArr.push.apply(finalArr, (0,tslib_es6/* __spreadArray */.ev)([], (0,tslib_es6/* __read */.CR)(F3Query.searchParamToAppliedParams(searchParam)), false));\n            return finalArr;\n        }, []);\n        var newQuery = new F3Query(rest);\n        newAppliedParams.forEach(function (param) { newQuery.addParam(param); });\n        if (lastUpdated) {\n            var val = query.lastUpdated;\n            newQuery.query.lastUpdated = F3Query.dateToLastUpdated(val.values[0].value);\n        }\n        return newQuery;\n    };\n    F3Query.fromDocumentQuery = function (query) {\n        return new F3Query(F3Query.addLabelsToDocumentQuery(query));\n    };\n    F3Query.fromUrl = function (str) {\n        var _a = (0,tslib_es6/* __read */.CR)(str.split('?'), 2), path = _a[0], queryStrings = _a[1];\n        var docQuery = (0,queryUtil/* parseQueryString */.dD)(queryStrings || '').docQuery;\n        if (!docQuery)\n            return new F3Query();\n        else\n            return F3Query.fromQueryString(docQuery);\n    };\n    F3Query.fromQueryString = function (str) {\n        if (str === '')\n            return new F3Query();\n        try {\n            var queryStr = str\n                .replaceAll(browseHelpers/* TAB_REPLACEMENT_CHARACTER */.BZ, browseHelpers/* TAB_CHARACTER */.cC)\n                .replaceAll('+', ' ');\n            var queryObj = rison.decode(queryStr);\n            var expanded = F3Query.expandFilteredDocumentQuery(queryObj);\n            return new F3Query(expanded);\n        }\n        catch (e) {\n            // console.warn(e);\n            return new F3Query();\n        }\n    };\n    F3Query.fromTags = function (tags) {\n        var f3Query = new F3Query();\n        tags.forEach(function (tag) {\n            f3Query.Filters.addItem({\n                type: tag.type,\n                values: [{ value: tag.enumValue, label: tag.label }],\n            });\n        });\n        return f3Query;\n    };\n    F3Query.mergeQueries = function (query1, query2) {\n        var query1Params = query1.toAppliedParams();\n        var query2Params = query2.toAppliedParams();\n        var newQuery = new F3Query();\n        query1Params.forEach(function (param) { newQuery.addParam(param); });\n        query2Params.forEach(function (param) { newQuery.addParam(param); });\n        return newQuery;\n    };\n    F3Query.createDefaultObjRef = function (ref) {\n        return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, F3Query.DEFAULT_OBJ_REF), ref);\n    };\n    F3Query.createDefaultQuery = function (query) {\n        return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, F3Query.DEFAULT_QUERY), query);\n    };\n    F3Query.createDefaultFacetRequest = function (facetRequest) {\n        return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, F3Query.DEFAULT_FACET_REQUEST), facetRequest);\n    };\n    F3Query.createDefaultFilter = function (filter) {\n        return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, F3Query.DEFAULT_FILTER), filter);\n    };\n    F3Query.createDefaultFieldedKeyword = function (keyword) {\n        return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, F3Query.DEFAULT_FIELDED_KEYWORD), keyword);\n    };\n    F3Query.createDefaultTagQuery = function (tagQuery) {\n        return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, F3Query.DEFAULT_TAG_QUERY), tagQuery);\n    };\n    F3Query.createContentTypeQuery = function (contentType) {\n        var label = (0,contentObject/* getContentTypeLabel */.iN)(contentType);\n        var f3Query = new F3Query();\n        f3Query.Filters.addItem({ type: 'general.title.content.doc-type', values: [{ value: contentType, label: label }] });\n        return f3Query;\n    };\n    F3Query.lastUpdatedToDate = function (lastUpdated) {\n        var daysAgo;\n        switch (lastUpdated) {\n            case '1_MONTH':\n                daysAgo = 30;\n                break;\n            case '3_MONTHS':\n                daysAgo = 90;\n                break;\n            case '6_MONTHS':\n                daysAgo = 180;\n                break;\n            case '1_YEAR':\n                daysAgo = 365;\n                break;\n            default: return null;\n        }\n        var pastDate = new Date();\n        pastDate.setDate(pastDate.getDate() - daysAgo);\n        return (0,dateUtil/* toJavaDate */.um)(pastDate);\n    };\n    F3Query.dateToLastUpdated = function (_date) {\n        var date = new Date(_date);\n        if (isNaN(date.getTime()))\n            return null;\n        var daysAgo = (0,dateUtil/* getDaysAgo */.Ur)(date);\n        if (daysAgo > 365 || daysAgo <= 0)\n            return null;\n        if (daysAgo > 180)\n            return '1_YEAR';\n        if (daysAgo > 90)\n            return '6_MONTHS';\n        if (daysAgo > 30)\n            return '3_MONTHS';\n        if (daysAgo > 0)\n            return '1_MONTH';\n        return null;\n    };\n    F3Query.lastUpdatedLabel = function (type) {\n        switch (type) {\n            case '1_MONTH': return 'Past Month';\n            case '3_MONTHS': return 'Past 3 Months';\n            case '6_MONTHS': return 'Past 6 Months';\n            case '1_YEAR': return 'Past Year';\n            default: return 'Any Time';\n        }\n    };\n    F3Query.getFacetRequests = function (facetType) {\n        var requests = [];\n        if (facetType.startsWith('date'))\n            return requests;\n        if (search_facetTypes/* NON_TOKEN_FACETS */.$N.includes(facetType))\n            return requests;\n        var baseFacetRequest = {\n            type: facetType,\n            mode: 'NONE',\n            maxCount: facetType === 'general.title.id' ? F3Query.PUB_FACET_REQUEST_SIZE : F3Query.FACET_REQUEST_SIZE,\n        };\n        if (facetType.startsWith('place')) {\n            var countryRequest = (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, baseFacetRequest), { placeLevel: 'COUNTRY' });\n            var stateRequest = (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, baseFacetRequest), { placeLevel: 'STATE', placeParents: [place_abbreviations/* USA_PLACE_ID */.uK] });\n            requests.push(countryRequest, stateRequest);\n        }\n        else {\n            requests.push(baseFacetRequest);\n        }\n        /*\n         * let childType = getChildFacetType(facetType);\n         * if (childType) {\n         * \trequests.push({ ...baseFacetRequest, type: childType })\n         * }\n         */\n        return requests;\n    };\n    F3Query.fieldedKeywordPrefix = function (keyword) {\n        return \"\".concat(keyword.replace(new RegExp('-', 'g'), ' '), \"*\");\n    };\n    /*\n     * static compressDocumentQuery(query: DocumentQueryWithLabels) {\n     * \tif (query.in) {\n     * \t\t(query as any).in = query.in.map(i => `${i.contentType}/${i.objectId}/${i.label}`)\n     * \t}\n     */\n    /*\n     * \treturn query;\n     * }\n     */\n    /*\n     * static decompressDocumentQuery(query: DocumentQueryWithLabels) {\n     * \tif (query.in) {\n     * \t\tquery.in = query.in.map(i => {\n     * \t\t\tlet [contentType, objectId, label] = (i as any as string).split('/');\n     * \t\t\treturn { contentType: contentType as ContentType, objectId, label };\n     * \t\t})\n     * \t}\n     */\n    /*\n     * \treturn query;\n     * }\n     */\n    F3Query.clone = function (query) {\n        return JSON.parse(JSON.stringify(query));\n    };\n    F3Query.addLabelsToDocumentQuery = function (query) {\n        return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, query), { filters: (query.filters || []).map(function (filter) {\n                return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, filter), { values: filter.values.map(function (value) { return ({ value: value, label: '' }); }) });\n            }), regimentConnections: (query.regimentConnections || []).map(function (objRef) {\n                return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, objRef), { label: '' });\n            }), commanderConnections: (query.commanderConnections || []).map(function (objRef) {\n                return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, objRef), { label: '' });\n            }), in: (query.in || []).map(function (objRef) {\n                return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, objRef), { label: '' });\n            }), lastUpdated: F3Query.dateToLastUpdated(query.lastUpdated), within: query.within ?\n                query.within.split(',').map(function (withinHash) {\n                    return { value: withinHash, label: '' };\n                }) :\n                [] });\n    };\n    F3Query.itemToAppliedParams = function (paramType, item) {\n        switch (paramType) {\n            case 'fieldedKeywords': {\n                var _a = item, exclude_1 = _a.exclude, texts = _a.texts, type_1 = _a.type;\n                return texts.map(function (text) {\n                    return (0,mapUtil/* filterUndefined */.YU)({\n                        paramType: paramType,\n                        value: text,\n                        exclude: exclude_1,\n                        facetType: type_1,\n                        label: text,\n                    });\n                });\n            }\n            case 'filters': {\n                var _b = item, exclude_2 = _b.exclude, type_2 = _b.type, values = _b.values, strict_1 = _b.strict, filterType_1 = _b.filterType;\n                return values.map(function (_a) {\n                    var value = _a.value, label = _a.label;\n                    return (0,mapUtil/* filterUndefined */.YU)({\n                        paramType: paramType,\n                        value: value,\n                        label: label,\n                        exclude: exclude_2,\n                        facetType: type_2,\n                        strict: strict_1,\n                        filterType: filterType_1,\n                    });\n                });\n            }\n            case 'regimentConnections':\n            case 'commanderConnections': {\n                var _c = item, contentType = _c.contentType, objectId = _c.objectId, label = _c.label;\n                return (0,mapUtil/* filterUndefined */.YU)({\n                    paramType: paramType,\n                    value: (0,contentObject/* objectRefToString */.eV)({ contentType: contentType, objectId: objectId }),\n                    label: label,\n                });\n            }\n            case 'keywords': {\n                return {\n                    paramType: paramType,\n                    value: item,\n                };\n            }\n            case 'tags': {\n                var _d = item, exclude = _d.exclude, name = _d.name, privateTagUserId = _d.privateTagUserId;\n                var value = name;\n                if (privateTagUserId)\n                    value += \":\".concat(privateTagUserId);\n                return (0,mapUtil/* filterUndefined */.YU)({\n                    paramType: paramType,\n                    exclude: exclude,\n                    value: value,\n                    label: (0,templating/* capitalizeFirst */.Ez)(name),\n                });\n            }\n            case 'lastUpdated': {\n                return {\n                    paramType: 'lastUpdated',\n                    value: item,\n                    label: F3Query.lastUpdatedLabel(item),\n                };\n            }\n            case 'within': {\n                var _e = item, value = _e.value, label = _e.label;\n                return {\n                    paramType: 'within',\n                    value: value,\n                    label: label,\n                };\n            }\n            default:\n                throw new Error(\"\".concat(paramType, \" is an unsupported type\"));\n        }\n    };\n    F3Query.appliedParamToItem = function (param) {\n        var item;\n        switch (param.paramType) {\n            case 'keywords':\n                return {\n                    item: param.value,\n                    type: 'keywords',\n                };\n            case 'filters':\n                item = {\n                    type: param.facetType,\n                    values: [(0,mapUtil/* filterUndefined */.YU)({ value: param.value, label: param.label })],\n                    exclude: param.exclude,\n                    strict: param.strict,\n                    filterType: param.filterType,\n                };\n                break;\n            case 'fieldedKeywords':\n                item = {\n                    type: param.facetType,\n                    texts: [param.value],\n                    exclude: param.exclude,\n                };\n                break;\n            case 'regimentConnections':\n            case 'commanderConnections':\n                item = (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, (0,contentObject/* refStringToObjectRef */.jO)(param.value)), { label: param.label });\n                break;\n            case 'tags': {\n                var _a = (0,tslib_es6/* __read */.CR)(param.value.split(':'), 2), name = _a[0], privateTagUserId = _a[1];\n                item = {\n                    name: name,\n                    privateTagUserId: privateTagUserId ? +privateTagUserId : null,\n                    exclude: param.exclude,\n                };\n                break;\n            }\n            case 'lastUpdated':\n                item = param.value;\n                break;\n            case 'within':\n                item = {\n                    value: param.value,\n                    label: param.label,\n                };\n                break;\n            default:\n                throw new Error(\"\".concat(param.paramType, \" is an unsupported type\"));\n        }\n        return {\n            type: param.paramType,\n            item: (0,mapUtil/* filterUndefined */.YU)(item),\n        };\n    };\n    F3Query.suggestionToAppliedParam = function (suggestion, input, facetType, locale) {\n        var appliedParam;\n        if (suggestion) {\n            if (suggestion.facetType == 'Keywords') {\n                appliedParam = {\n                    paramType: 'keywords',\n                    value: input,\n                };\n            }\n            else {\n                var valueSuggestion = suggestion;\n                var facet = valueSuggestion.facet;\n                var type = suggestion.source === 'generated' ?\n                    suggestion.facetType.startsWith('date') ? 'filters' : 'fieldedKeywords' :\n                    'filters';\n                appliedParam = {\n                    label: suggestion.label || (0,search_facetTypes/* getFacetLabel */.xJ)(suggestion.facetType),\n                    facetType: suggestion.facetType,\n                    paramType: type,\n                    value: facet.value,\n                };\n            }\n        }\n        else {\n            if (!facetType || facetType == 'Keywords') {\n                appliedParam = {\n                    paramType: 'keywords',\n                    value: input,\n                };\n            }\n            else {\n                var type = void 0;\n                var label = void 0;\n                if (facetType.startsWith('date')) {\n                    type = 'filters';\n                    var dateStr = (0,dateHelpers/* getLocaleDateStr */._p)(input, locale);\n                    if (!dateStr)\n                        return null;\n                    label = (0,dateHelpers/* getLocaleDateStr */._p)(input, 'en-US');\n                    input = dateStr;\n                }\n                else {\n                    var facetDef = (0,search_facetTypes/* getFacetType */.VV)(facetType);\n                    if (facetDef.analyzed) {\n                        type = 'fieldedKeywords';\n                    }\n                    else {\n                        return null;\n                    }\n                }\n                appliedParam = {\n                    paramType: type,\n                    facetType: facetType,\n                    value: input,\n                    label: label,\n                };\n            }\n        }\n        return appliedParam;\n    };\n    F3Query.diffAppliedParams = function (newQuery, oldQuery) {\n        var e_1, _a;\n        var oldQueryAppliedParams = oldQuery.toAppliedParams();\n        var newQueryAppliedParams = newQuery.toAppliedParams();\n        var changed = {\n            added: oldQueryAppliedParams.filter(function (param) { return !newQuery.hasParam(param); }),\n            removed: newQueryAppliedParams.filter(function (param) { return !oldQuery.hasParam(param); }),\n            modified: {},\n        };\n        try {\n            for (var KEYS_TO_DIFF_1 = (0,tslib_es6/* __values */.XA)(KEYS_TO_DIFF), KEYS_TO_DIFF_1_1 = KEYS_TO_DIFF_1.next(); !KEYS_TO_DIFF_1_1.done; KEYS_TO_DIFF_1_1 = KEYS_TO_DIFF_1.next()) {\n                var _key = KEYS_TO_DIFF_1_1.value;\n                var key = _key;\n                if (!(0,deepCompare/* default */.Z)(oldQuery.query[key], newQuery.query[key])) {\n                    changed.modified[key] = newQuery.query[key];\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (KEYS_TO_DIFF_1_1 && !KEYS_TO_DIFF_1_1.done && (_a = KEYS_TO_DIFF_1.return)) _a.call(KEYS_TO_DIFF_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return changed;\n    };\n    F3Query.isOldQueryUrl = function (queryStr) {\n        var _a = (0,queryUtil/* parseQueryString */.dD)(queryStr), docQuery = _a.docQuery, rest = (0,tslib_es6/* __rest */._T)(_a, [\"docQuery\"]);\n        var oldKeys = ['keywords', 'ocr', 'strict', 'lastUpdated', 'offset', 'sort', 'within', 'index', 'tags', 'tag', 'regimentConnections', 'commanderConnections'];\n        return Object.keys(rest).some(function (key) {\n            if (key.startsWith('~'))\n                return true;\n            if ((0,search_facetTypes/* isFacetType */.m9)(key))\n                return true;\n            return oldKeys.includes(key);\n        });\n    };\n    F3Query.searchParamToAppliedParams = function (searchParam) {\n        var paramType;\n        switch (searchParam.type) {\n            case 'date':\n            case 'facet':\n                paramType = 'filters';\n                break;\n            case 'fieldedKeyword':\n                paramType = 'fieldedKeywords';\n                break;\n            case 'keyword':\n                paramType = 'keywords';\n                break;\n            case 'lastUpdated':\n            case 'tags':\n            case 'within':\n                paramType = searchParam.type;\n                break;\n            case 'regimentRef':\n                paramType = 'regimentConnections';\n                break;\n        }\n        return searchParam.values.map(function (_value) {\n            var value = _value.value, label = _value.label;\n            if (paramType === 'lastUpdated') {\n                label = null;\n                value = F3Query.dateToLastUpdated(value);\n            }\n            return {\n                paramType: paramType,\n                value: value,\n                label: label,\n                exclude: searchParam.exclude,\n                facetType: searchParam.facetType,\n            };\n        });\n    };\n    F3Query.DEFAULT_SORT_ORDER = 'RELEVANCE';\n    F3Query.FACET_REQUEST_SIZE = 200;\n    F3Query.BROWSE_FACET_REQUEST_SIZE = 500;\n    F3Query.PUB_FACET_REQUEST_SIZE = 10000;\n    F3Query.DEFAULT_FILTER = deepFreeze({\n        exclude: false,\n        strict: true,\n        filterType: 'TERM',\n        type: null,\n        values: [],\n    });\n    F3Query.DEFAULT_QUERY = deepFreeze({\n        backwardConnection: null,\n        clearCache: false,\n        commanderConnections: [],\n        dateSpan: false,\n        debugQuery: false,\n        environment: null,\n        explain: false,\n        facetRequests: [],\n        fieldedKeywords: [],\n        filters: [],\n        forwardConnection: null,\n        highlight: null,\n        in: [],\n        index: null,\n        inTag: null,\n        keywords: '',\n        lastUpdated: null,\n        maxCount: null,\n        ocr: true,\n        offset: 0,\n        regimentConnections: [],\n        retrievePrivateTagUserId: null,\n        sortOrder: F3Query.DEFAULT_SORT_ORDER,\n        strictMode: 'ALL',\n        tags: [],\n        targetThumbHeight: null,\n        targetThumbWidth: null,\n        timeout: null,\n        within: [],\n    });\n    F3Query.DEFAULT_FACET_REQUEST = Object.freeze({\n        maxCount: null,\n        mode: 'NONE',\n        placeLevel: null,\n        placeParents: null,\n        requiredValues: null,\n        type: null,\n        sort: null,\n    });\n    F3Query.DEFAULT_FIELDED_KEYWORD = Object.freeze({\n        exclude: false,\n        strict: true,\n        texts: [],\n        type: null,\n    });\n    F3Query.DEFAULT_OBJ_REF = Object.freeze({\n        contentType: null,\n        objectId: null,\n        label: '',\n    });\n    F3Query.DEFAULT_TAG_QUERY = Object.freeze({\n        exclude: false,\n        name: '',\n        privateTagUserId: null,\n    });\n    return F3Query;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTMxNTAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7O0FDYkE7QUFDQTtBQUNBO0FBV0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBOztBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBVkE7QUFBQTtBQUFBO0FBV0E7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTs7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7OztBQU1BO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7Ozs7QUNsU0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFjQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUVBO0FBZ0JBO0FBQUE7QUFBQTtBQVpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQWRBO0FBRUE7QUFDQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBUUE7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQVVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFFQTs7O0FBR0E7QUFFQTs7OztBQUlBO0FBRUE7OztBQUdBO0FBRUE7OztBQUdBO0FBRUE7QUFFQTtBQUVBOzs7QUFHQTtBQUVBOzs7QUFHQTtBQUVBOzs7O0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBRUE7OztBQUdBO0FBRUE7Ozs7Ozs7O0FBUUE7QUFFQTs7O0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBMkVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUtBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUtBO0FBRUE7OztBQUdBO0FBRUE7Ozs7Ozs7O0FBUUE7QUFFQTs7O0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEwYkE7QUFBQTtBQWxtQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2RlZXBGcmVlemUudHM/YjE3OCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2YzLXF1ZXJ5L0YzUXVlcnlBcnJheS50cz9jODlhIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvZjMtcXVlcnkvRjNRdWVyeS50cz83NDMwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBkZWVwRnJlZXplPFQgPSBhbnk+KG86IFQpOiBSZWFkb25seTxUPiB7XG5cdE9iamVjdC5mcmVlemUobyk7XG5cblx0T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobykuZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7XG5cdFx0aWYgKFxuXHRcdFx0by5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJlxuXHRcdFx0KG8gYXMgYW55KVtwcm9wXSAhPT0gbnVsbCAmJlxuXHRcdFx0KHR5cGVvZiAobyBhcyBhbnkpW3Byb3BdID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgKG8gYXMgYW55KVtwcm9wXSA9PT0gJ2Z1bmN0aW9uJykgJiZcblx0XHRcdCFPYmplY3QuaXNGcm96ZW4oKG8gYXMgYW55KVtwcm9wXSlcblx0XHQpIHtcblx0XHRcdGRlZXBGcmVlemUoKG8gYXMgYW55KVtwcm9wXSk7XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gbztcbn07XG4iLCJpbXBvcnQgeyBGYWNldFJlcXVlc3QsIEZhY2V0VHlwZSwgS2V5d29yZHMsIFRhZ1F1ZXJ5IH0gZnJvbSAnLi4vLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgT2JqIH0gZnJvbSAnLi4vLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCBkZWVwQ29tcGFyZSBmcm9tICcuLi9kZWVwQ29tcGFyZSc7XG5pbXBvcnQgeyBkZWVwTWVyZ2UgfSBmcm9tICcuLi9kZWVwTWVyZ2UnO1xuaW1wb3J0IHsgRjNRdWVyeSB9IGZyb20gJy4vRjNRdWVyeSc7XG5pbXBvcnQgeyBGaWx0ZXJXaXRoTGFiZWwsIE9ialJlZldpdGhMYWJlbCB9IGZyb20gJy4vZjNRdWVyeVR5cGVzJztcblxuaW50ZXJmYWNlIEYzUXVlcnlBcnJheU9wdHM8VD4ge1xuXHRnZXRBcnIoKTogVFtdXG5cdHNldEFycihhcnI6IFRbXSwgcHVibGlzaD86IGJvb2xlYW4pOiB2b2lkXG5cdGRlZmF1bHRJdGVtPzogVFxuXHRmbGF0dGVuSXRlbXM/KGl0ZW1zOiBUW10pOiBUW11cblx0bWVyZ2VJdGVtcz8oaXRlbXM6IFRbXSk6IFRbXVxufVxuXG5leHBvcnQgY2xhc3MgRjNRdWVyeUFycmF5PFQ+IHtcblx0cHJpdmF0ZSBfZ2V0QXJyOiAoKSA9PiBUW107XG5cdHByaXZhdGUgX3NldEFycjogKGFycjogVFtdLCBwdWJsaXNoPzogYm9vbGVhbikgPT4gdm9pZDtcblx0cHJpdmF0ZSBkZWZhdWx0SXRlbTogVDtcblx0cHJpdmF0ZSBmbGF0dGVuSXRlbXM6IChpdGVtczogVFtdKSA9PiBUW107XG5cdHByaXZhdGUgbWVyZ2VJdGVtczogKGl0ZW1zOiBUW10pID0+IFRbXTtcblxuXHRjb25zdHJ1Y3RvcihvcHRzOiBGM1F1ZXJ5QXJyYXlPcHRzPFQ+KSB7XG5cdFx0dGhpcy5fZ2V0QXJyID0gb3B0cy5nZXRBcnI7XG5cdFx0dGhpcy5fc2V0QXJyID0gb3B0cy5zZXRBcnI7XG5cdFx0dGhpcy5kZWZhdWx0SXRlbSA9IG9wdHMuZGVmYXVsdEl0ZW07XG5cdFx0dGhpcy5mbGF0dGVuSXRlbXMgPSBvcHRzLmZsYXR0ZW5JdGVtcztcblx0XHR0aGlzLm1lcmdlSXRlbXMgPSBvcHRzLm1lcmdlSXRlbXM7XG5cdH1cblxuXHQvKiBTaGFsbG93IGNvcHkgdG8gcHJldmVudCBhY2NpZGVudGFsL3ByZW1hdHVyZSBhcnJheSBtb2RpZmljYXRpb25zLiAqL1xuXHRnZXRBcnIoKSB7XG5cdFx0bGV0IG9yaWdpbmFsID0gdGhpcy5fZ2V0QXJyKCk7XG5cdFx0aWYgKHRoaXMuZmxhdHRlbkl0ZW1zKSByZXR1cm4gdGhpcy5mbGF0dGVuSXRlbXMob3JpZ2luYWwpO1xuXHRcdGVsc2UgcmV0dXJuIFsuLi5vcmlnaW5hbF07XG5cdH1cblxuXHRzZXRBcnIoYXJyOiBUW10sIHB1Ymxpc2g/OiBib29sZWFuKSB7XG5cdFx0aWYgKHRoaXMubWVyZ2VJdGVtcykge1xuXHRcdFx0YXJyID0gdGhpcy5tZXJnZUl0ZW1zKGFycik7XG5cdFx0fVxuXHRcdHRoaXMuX3NldEFycihhcnIsIHB1Ymxpc2gpO1xuXHR9XG5cblx0ZmluZChpdGVtOiBQYXJ0aWFsPFQ+KSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0QXJyKClbdGhpcy5maW5kSW5kZXgoaXRlbSldO1xuXHR9XG5cblx0ZmluZEluZGV4KGl0ZW06IFBhcnRpYWw8VD4pIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRBcnIoKS5maW5kSW5kZXgoX2l0ZW0gPT4ge1xuXHRcdFx0cmV0dXJuIGRlZXBDb21wYXJlKGl0ZW0sIF9pdGVtLCB0cnVlKTtcblx0XHR9KTtcblx0fVxuXG5cdGZpbHRlcihjYjogKGl0ZW06IFQpID0+IGJvb2xlYW4pIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRBcnIoKS5maWx0ZXIoY2IpO1xuXHR9XG5cblx0aGFzKGl0ZW06IFBhcnRpYWw8VD4pIHtcblx0XHRyZXR1cm4gdGhpcy5maW5kSW5kZXgoaXRlbSkgPj0gMDtcblx0fVxuXG5cdHRvZ2dsZUl0ZW0oaXRlbTogUGFydGlhbDxUPiwgcHVibGlzaD86IGJvb2xlYW4pIHtcblx0XHRpZiAodGhpcy5oYXMoaXRlbSkpIHtcblx0XHRcdHRoaXMucmVtb3ZlSXRlbShpdGVtLCBwdWJsaXNoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5hZGRJdGVtKGl0ZW0sIHB1Ymxpc2gpO1xuXHRcdH1cblx0fVxuXG5cdGFkZEl0ZW0oaXRlbTogUGFydGlhbDxUPiwgcHVibGlzaD86IGJvb2xlYW4pIHtcblx0XHRsZXQgYXJyID0gdGhpcy5nZXRBcnIoKTtcblxuXHRcdGxldCBuZXdJdGVtID0gdGhpcy5jcmVhdGVEZWZhdWx0SXRlbShpdGVtKTtcblxuXHRcdGlmICghdGhpcy5oYXMobmV3SXRlbSkpIHtcblx0XHRcdGFyci5wdXNoKG5ld0l0ZW0pO1xuXHRcdFx0dGhpcy5zZXRBcnIoYXJyLCBwdWJsaXNoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHVwZGF0ZUl0ZW0oaXRlbTogUGFydGlhbDxUPiwgY2I6IChpdGVtOiBUKSA9PiBULCBwdWJsaXNoPzogYm9vbGVhbikge1xuXHRcdGxldCBmb3VuZCA9IHRoaXMuZmluZChpdGVtKTtcblx0XHRsZXQgbmV3SXRlbSA9IGNiKGZvdW5kIHx8IHRoaXMuY3JlYXRlRGVmYXVsdEl0ZW0oaXRlbSkpO1xuXHRcdHRoaXMucmVtb3ZlSXRlbShpdGVtLCBmYWxzZSk7XG5cdFx0dGhpcy5hZGRJdGVtKG5ld0l0ZW0sIHB1Ymxpc2gpO1xuXHR9XG5cblx0cmVtb3ZlSXRlbShpdGVtOiBQYXJ0aWFsPFQ+LCBwdWJsaXNoPzogYm9vbGVhbikge1xuXHRcdGxldCBmaWx0ZXJlZCA9IHRoaXMuZ2V0QXJyKClcblx0XHRcdC5maWx0ZXIoX2l0ZW0gPT4gIWRlZXBDb21wYXJlKGl0ZW0sIF9pdGVtLCB0cnVlKSk7XG5cblx0XHR0aGlzLnNldEFycihmaWx0ZXJlZCwgcHVibGlzaCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qIElmIHlvdSByZXR1cm4gdHJ1ZSBmcm9tIHRoZSBjYWxsYmFjaywgdGhlIGl0ZW0gd2lsbCBiZSByZW1vdmVkICovXG5cdHJlbW92ZUl0ZW1zKGNiOiAoaXRlbTogVCkgPT4gYm9vbGVhbiwgcHVibGlzaD86IGJvb2xlYW4pIHtcblx0XHRsZXQgZmlsdGVyZWQgPSB0aGlzLmdldEFycigpLmZpbHRlcihpdGVtID0+ICFjYihpdGVtKSk7XG5cdFx0dGhpcy5zZXRBcnIoZmlsdGVyZWQsIHB1Ymxpc2gpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0Y2xlYXIocHVibGlzaD86IGJvb2xlYW4pIHtcblx0XHR0aGlzLnNldEFycihbXSwgcHVibGlzaCk7XG5cdH1cblxuXHRjcmVhdGVEZWZhdWx0SXRlbShpdGVtOiBQYXJ0aWFsPFQ+KTogVCB7XG5cdFx0aWYgKHRoaXMuZGVmYXVsdEl0ZW0pIHtcblx0XHRcdHJldHVybiB7IC4uLnRoaXMuZGVmYXVsdEl0ZW0sIC4uLml0ZW0gfTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIGl0ZW0gYXMgVDtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZhY2V0UmVxdWVzdHNBcnJheShmM1F1ZXJ5OiBGM1F1ZXJ5KSB7XG5cdHJldHVybiBuZXcgRjNRdWVyeUFycmF5PEZhY2V0UmVxdWVzdD4oe1xuXHRcdGdldEFycigpIHsgcmV0dXJuIGYzUXVlcnkucXVlcnkuZmFjZXRSZXF1ZXN0czsgfSxcblx0XHRzZXRBcnIoZmFjZXRSZXF1ZXN0cywgcHVibGlzaCkgeyBmM1F1ZXJ5LnVwZGF0ZVF1ZXJ5KHsgZmFjZXRSZXF1ZXN0cyB9LCBwdWJsaXNoKTsgfSxcblx0XHRkZWZhdWx0SXRlbTogRjNRdWVyeS5ERUZBVUxUX0ZBQ0VUX1JFUVVFU1QsXG5cdFx0bWVyZ2VJdGVtcyhmYWNldFJlcXVlc3RzKSB7XG5cdFx0XHRsZXQgcmVxT2JqOiBPYmo8c3RyaW5nLCBGYWNldFJlcXVlc3Q+ID0ge307XG5cdFx0XHRmb3IgKGxldCByZXF1ZXN0IG9mIGZhY2V0UmVxdWVzdHMpIHtcblx0XHRcdFx0aWYgKCEocmVxdWVzdC50eXBlIGluIHJlcU9iaikpIHtcblx0XHRcdFx0XHRyZXFPYmpbcmVxdWVzdC50eXBlXSA9IHJlcXVlc3Q7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmVxT2JqW3JlcXVlc3QudHlwZV0gPSBkZWVwTWVyZ2UocmVxT2JqW3JlcXVlc3QudHlwZV0sIHJlcXVlc3QpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gT2JqZWN0LnZhbHVlcyhyZXFPYmopO1xuXHRcdH0sXG5cdH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmllbGRlZEtleXdvcmRzQXJyYXkoZjNRdWVyeTogRjNRdWVyeSkge1xuXHRyZXR1cm4gbmV3IEYzUXVlcnlBcnJheTxLZXl3b3Jkcz4oe1xuXHRcdGdldEFycigpIHsgcmV0dXJuIGYzUXVlcnkucXVlcnkuZmllbGRlZEtleXdvcmRzOyB9LFxuXHRcdHNldEFycihmaWVsZGVkS2V5d29yZHMsIHB1Ymxpc2gpIHsgZjNRdWVyeS51cGRhdGVRdWVyeSh7IGZpZWxkZWRLZXl3b3JkcyB9LCBwdWJsaXNoKTsgfSxcblx0XHRkZWZhdWx0SXRlbTogRjNRdWVyeS5ERUZBVUxUX0ZJRUxERURfS0VZV09SRCxcblx0XHRmbGF0dGVuSXRlbXMoZmllbGRlZEtleXdvcmRzKSB7XG5cdFx0XHRyZXR1cm4gZmllbGRlZEtleXdvcmRzLmZsYXRNYXAoZktleXdvcmQgPT4ge1xuXHRcdFx0XHRyZXR1cm4gZktleXdvcmQudGV4dHMubWFwKHRleHQgPT4ge1xuXHRcdFx0XHRcdHJldHVybiB7IC4uLmZLZXl3b3JkLCB0ZXh0czogW3RleHRdIH07XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHRtZXJnZUl0ZW1zKGZpZWxkZWRLZXl3b3Jkcykge1xuXHRcdFx0bGV0IGl0ZW1zOiBPYmo8RmFjZXRUeXBlLCBLZXl3b3Jkcz4gPSB7fTtcblxuXHRcdFx0Zm9yIChsZXQgZmllbGRlZEtleXdvcmQgb2YgZmllbGRlZEtleXdvcmRzKSB7XG5cdFx0XHRcdGlmICghKGZpZWxkZWRLZXl3b3JkLnR5cGUgaW4gaXRlbXMpKSB7XG5cdFx0XHRcdFx0aXRlbXNbZmllbGRlZEtleXdvcmQudHlwZV0gPSBmaWVsZGVkS2V5d29yZDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpdGVtc1tmaWVsZGVkS2V5d29yZC50eXBlXS50ZXh0cyA9IGRlZHVwZUFycmF5SXRlbXMoaXRlbXNbZmllbGRlZEtleXdvcmQudHlwZV0udGV4dHMpO1xuXHRcdFx0XHRcdGZpZWxkZWRLZXl3b3JkLnRleHRzLmZvckVhY2godGV4dCA9PiB7XG5cdFx0XHRcdFx0XHRpZiAoIWl0ZW1zW2ZpZWxkZWRLZXl3b3JkLnR5cGVdLnRleHRzLmluY2x1ZGVzKHRleHQpKSB7XG5cdFx0XHRcdFx0XHRcdGl0ZW1zW2ZpZWxkZWRLZXl3b3JkLnR5cGVdLnRleHRzLnB1c2godGV4dCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIE9iamVjdC52YWx1ZXMoaXRlbXMpO1xuXHRcdH0sXG5cdH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRmlsdGVyc0FycmF5KGYzUXVlcnk6IEYzUXVlcnkpIHtcblx0cmV0dXJuIG5ldyBGM1F1ZXJ5QXJyYXk8RmlsdGVyV2l0aExhYmVsPih7XG5cdFx0Z2V0QXJyKCkgeyByZXR1cm4gZjNRdWVyeS5xdWVyeS5maWx0ZXJzOyB9LFxuXHRcdHNldEFycihmaWx0ZXJzLCBwdWJsaXNoKSB7IGYzUXVlcnkudXBkYXRlUXVlcnkoeyBmaWx0ZXJzIH0sIHB1Ymxpc2gpOyB9LFxuXHRcdGRlZmF1bHRJdGVtOiBGM1F1ZXJ5LkRFRkFVTFRfRklMVEVSLFxuXHRcdGZsYXR0ZW5JdGVtcyhmaWx0ZXJzKSB7XG5cdFx0XHRyZXR1cm4gZmlsdGVycy5mbGF0TWFwKGZpbHRlciA9PiB7XG5cdFx0XHRcdHJldHVybiBmaWx0ZXIudmFsdWVzLm1hcCh2YWx1ZSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHsgLi4uZmlsdGVyLCB2YWx1ZXM6IFt2YWx1ZV0gfTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdG1lcmdlSXRlbXMoZmlsdGVycykge1xuXHRcdFx0bGV0IGl0ZW1zOiBPYmo8c3RyaW5nLCBGaWx0ZXJXaXRoTGFiZWw+ID0ge307XG5cblx0XHRcdGZvciAobGV0IGZpbHRlciBvZiBmaWx0ZXJzKSB7XG5cdFx0XHRcdGxldCBrZXkgPSBgJHtmaWx0ZXIudHlwZX06JHtmaWx0ZXIuZXhjbHVkZX1gO1xuXG5cdFx0XHRcdGlmICghKGtleSBpbiBpdGVtcykpIHtcblx0XHRcdFx0XHRpdGVtc1trZXldID0gZmlsdGVyO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGl0ZW1zW2tleV0udmFsdWVzID0gZGVkdXBlQXJyYXlJdGVtcyhpdGVtc1trZXldLnZhbHVlcywgZmlsdGVyLnZhbHVlcyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIE9iamVjdC52YWx1ZXMoaXRlbXMpO1xuXHRcdH0sXG5cdH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5BcnJheShmM1F1ZXJ5OiBGM1F1ZXJ5KSB7XG5cdHJldHVybiBuZXcgRjNRdWVyeUFycmF5PE9ialJlZldpdGhMYWJlbD4oe1xuXHRcdGdldEFycigpIHsgcmV0dXJuIGYzUXVlcnkucXVlcnkuaW47IH0sXG5cdFx0c2V0QXJyOiAoaW5BcnIsIHB1Ymxpc2gpID0+IHsgZjNRdWVyeS51cGRhdGVRdWVyeSh7IGluOiBpbkFyciB9LCBwdWJsaXNoKTsgfSxcblx0XHRkZWZhdWx0SXRlbTogRjNRdWVyeS5ERUZBVUxUX09CSl9SRUYsXG5cdFx0bWVyZ2VJdGVtcyhpdGVtcykge1xuXHRcdFx0cmV0dXJuIGRlZHVwZUFycmF5SXRlbXMoaXRlbXMpO1xuXHRcdH0sXG5cdH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUmVnaW1lbnRDb25uZWN0aW9uc0FycmF5KGYzUXVlcnk6IEYzUXVlcnkpIHtcblx0cmV0dXJuIG5ldyBGM1F1ZXJ5QXJyYXk8T2JqUmVmV2l0aExhYmVsPih7XG5cdFx0Z2V0QXJyKCkgeyByZXR1cm4gZjNRdWVyeS5xdWVyeS5yZWdpbWVudENvbm5lY3Rpb25zOyB9LFxuXHRcdHNldEFycjogKHJlZ2ltZW50Q29ubmVjdGlvbnMsIHB1Ymxpc2gpID0+IHsgZjNRdWVyeS51cGRhdGVRdWVyeSh7IHJlZ2ltZW50Q29ubmVjdGlvbnMgfSwgcHVibGlzaCk7IH0sXG5cdFx0ZGVmYXVsdEl0ZW06IEYzUXVlcnkuREVGQVVMVF9PQkpfUkVGLFxuXHRcdG1lcmdlSXRlbXMoaXRlbXMpIHtcblx0XHRcdHJldHVybiBkZWR1cGVBcnJheUl0ZW1zKGl0ZW1zKTtcblx0XHR9LFxuXHR9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRhZ3NBcnJheShmM1F1ZXJ5OiBGM1F1ZXJ5KSB7XG5cdHJldHVybiBuZXcgRjNRdWVyeUFycmF5PFRhZ1F1ZXJ5Pih7XG5cdFx0Z2V0QXJyKCkgeyByZXR1cm4gZjNRdWVyeS5xdWVyeS50YWdzOyB9LFxuXHRcdHNldEFycih0YWdzLCBwdWJsaXNoKSB7IGYzUXVlcnkudXBkYXRlUXVlcnkoeyB0YWdzIH0sIHB1Ymxpc2gpOyB9LFxuXHRcdGRlZmF1bHRJdGVtOiBGM1F1ZXJ5LkRFRkFVTFRfVEFHX1FVRVJZLFxuXHRcdG1lcmdlSXRlbXModGFncykge1xuXHRcdFx0bGV0IHRhZ3NPYmo6IE9iajxzdHJpbmcsIFRhZ1F1ZXJ5PiA9IHt9O1xuXHRcdFx0Zm9yIChsZXQgdGFnIG9mIHRhZ3MpIHtcblx0XHRcdFx0aWYgKCEodGFnLm5hbWUgaW4gdGFnc09iaikpIHtcblx0XHRcdFx0XHR0YWdzT2JqW3RhZy5uYW1lXSA9IHRhZztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0YWdzT2JqW3RhZy5uYW1lXSA9IGRlZXBNZXJnZSh0YWdzT2JqW3RhZy5uYW1lXSwgdGFnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIE9iamVjdC52YWx1ZXModGFnc09iaik7XG5cdFx0fSxcblx0fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVLZXl3b3Jkc0FycmF5KGYzUXVlcnk6IEYzUXVlcnkpIHtcblx0cmV0dXJuIG5ldyBGM1F1ZXJ5QXJyYXk8c3RyaW5nPih7XG5cdFx0Z2V0QXJyKCkge1xuXHRcdFx0aWYgKGYzUXVlcnkucXVlcnkua2V5d29yZHMgPT09ICcnKSByZXR1cm4gW107XG5cdFx0XHRlbHNlIHJldHVybiBmM1F1ZXJ5LnF1ZXJ5LmtleXdvcmRzLnNwbGl0KCcsJyk7XG5cdFx0fSxcblx0XHRzZXRBcnIoa2V5d29yZHMsIHB1Ymxpc2gpIHtcblx0XHRcdGYzUXVlcnkudXBkYXRlUXVlcnkoeyBrZXl3b3Jkczoga2V5d29yZHMuam9pbignLCcpIH0sIHB1Ymxpc2gpO1xuXHRcdH0sXG5cdH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlV2l0aGluQXJyYXkoZjNRdWVyeTogRjNRdWVyeSkge1xuXHRyZXR1cm4gbmV3IEYzUXVlcnlBcnJheTx7IHZhbHVlOiBzdHJpbmcsIGxhYmVsPzogc3RyaW5nIH0+KHtcblx0XHRnZXRBcnIoKSB7IHJldHVybiBmM1F1ZXJ5LnF1ZXJ5LndpdGhpbjsgfSxcblx0XHRzZXRBcnIod2l0aGluLCBwdWJsaXNoKSB7IGYzUXVlcnkudXBkYXRlUXVlcnkoeyB3aXRoaW4gfSwgcHVibGlzaCk7IH0sXG5cdH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29tbWFuZGVyQ29ubmVjdGlvbnNBcnJheShmM1F1ZXJ5OiBGM1F1ZXJ5KSB7XG5cdHJldHVybiBuZXcgRjNRdWVyeUFycmF5PE9ialJlZldpdGhMYWJlbD4oe1xuXHRcdGdldEFycigpIHsgcmV0dXJuIGYzUXVlcnkucXVlcnkuY29tbWFuZGVyQ29ubmVjdGlvbnM7IH0sXG5cdFx0c2V0QXJyOiAoY29tbWFuZGVyQ29ubmVjdGlvbnMsIHB1Ymxpc2gpID0+IHsgZjNRdWVyeS51cGRhdGVRdWVyeSh7IGNvbW1hbmRlckNvbm5lY3Rpb25zIH0sIHB1Ymxpc2gpOyB9LFxuXHRcdGRlZmF1bHRJdGVtOiBGM1F1ZXJ5LkRFRkFVTFRfT0JKX1JFRixcblx0XHRtZXJnZUl0ZW1zKGl0ZW1zKSB7XG5cdFx0XHRyZXR1cm4gZGVkdXBlQXJyYXlJdGVtcyhpdGVtcyk7XG5cdFx0fSxcblx0fSk7XG59XG5cbi8qXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHByZXR0eSBpbmVmZmljaWVudCwgYnV0IGl0IGRlZXBseSBjb21wYXJlcyBwYXJ0aWFsIGl0ZW1zIHdpdGggZnVsbCBpdGVtc1xuICogYW5kIGhhbmRsZXMgdGhlIHVzZSBjYXNlcyBvZiB0aGVzZSBhcnJheXMgc3BlY2lmaWNhbGx5LlxuICpcbiAqIEZvcnR1bmF0ZWx5LCB0aGVzZSBvcGVyYXRpb25zIHdvbid0IGhhcHBlbiBvZnRlbiwgYW5kIHdpbGwgYWx3YXlzIGJlIGEgcmVzdWx0IG9mIHVzZXIgaW50ZXJhY3Rpb24uXG4gKiBBbHNvLCBpdCB3b3VsZCBiZSByYXJlIGZvciBhbnkgb2YgdGhlc2UgYXJyYXlzIHRvIGV4Y2VlZCA1IG9yIDYgaXRlbXMsIHNvIGl0IHdpbGwgc3RpbGwgYmUgcHJldHR5IGZhc3QuXG4gKi9cbmZ1bmN0aW9uIGRlZHVwZUFycmF5SXRlbXM8VD4oLi4uYXJyYXlzOiBUW11bXSk6IFRbXSB7XG5cdGxldCBkZWR1cGVkQXJyOiBUW10gPSBbXTtcblxuXHRhcnJheXMuZm9yRWFjaChhcnIgPT4ge1xuXHRcdGFyci5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRcdFx0aWYgKCFkZWR1cGVkQXJyLnNvbWUoX2l0ZW0gPT4gZGVlcENvbXBhcmUoaXRlbSwgX2l0ZW0sIHRydWUpKSkge1xuXHRcdFx0XHRkZWR1cGVkQXJyLnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXG5cdHJldHVybiBkZWR1cGVkQXJyO1xufVxuIiwiaW1wb3J0IHsgQ29udGVudFR5cGUsIERvY3VtZW50UXVlcnksIERvY3VtZW50UXVlcnlfU29ydCwgRmFjZXRSZXF1ZXN0LCBGYWNldFR5cGUsIEZpbHRlciwgSGlnaGxpZ2h0LCBLZXl3b3JkcywgU2VhcmNoVGFnSW5mbywgVGFnUXVlcnkgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBUQUJfQ0hBUkFDVEVSLCBUQUJfUkVQTEFDRU1FTlRfQ0hBUkFDVEVSIH0gZnJvbSAnLi4vLi4vcGFnZXMvYnJvd3NlL2Jyb3dzZUhlbHBlcnMnO1xuaW1wb3J0IHsgU2VhcmNoUGFyYW1PYmogfSBmcm9tICcuLi8uLi9wYWdlcy9zZWFyY2gvU2VhcmNoUGFyYW0nO1xuaW1wb3J0IHsgTk9OX1RPS0VOX0ZBQ0VUUywgZ2V0RmFjZXRMYWJlbCwgZ2V0RmFjZXRUeXBlLCBnZXRSZWxhdGVkRmFjZXRUeXBlLCBpc0ZhY2V0VHlwZSB9IGZyb20gJy4uLy4uL3BhZ2VzL3NlYXJjaC9mYWNldFR5cGVzJztcbmltcG9ydCB7IFN1Z2dlc3Rpb24sIFZhbHVlU3VnZ2VzdGlvbiB9IGZyb20gJy4uLy4uL3BhZ2VzL3NlYXJjaC9zZWFyY2gtYm94L3NlYXJjaGJveFR5cGVzJztcbmltcG9ydCB7IGZpbHRlckRlZmF1bHRWYWx1ZXMgfSBmcm9tICcuLi9PYmplY3RVdGlscyc7XG5pbXBvcnQgeyBQdWJTdWIgfSBmcm9tICcuLi9QdWJTdWInO1xuaW1wb3J0IHsgUXVlcnkgfSBmcm9tICcuLi9RdWVyeSc7XG5pbXBvcnQgeyBjb21wdXRlZCB9IGZyb20gJy4uL2NvbXB1dGVkJztcbmltcG9ydCB7IGdldENvbnRlbnRUeXBlTGFiZWwsIG9iamVjdFJlZlRvU3RyaW5nLCByZWZTdHJpbmdUb09iamVjdFJlZiB9IGZyb20gJy4uL2NvbnRlbnQvY29udGVudE9iamVjdCc7XG5pbXBvcnQgeyBnZXRMb2NhbGVEYXRlU3RyIH0gZnJvbSAnLi4vZGF0ZUhlbHBlcnMnO1xuaW1wb3J0IHsgZ2V0RGF5c0FnbywgdG9KYXZhRGF0ZSB9IGZyb20gJy4uL2RhdGVVdGlsJztcbmltcG9ydCBkZWVwQ29tcGFyZSBmcm9tICcuLi9kZWVwQ29tcGFyZSc7XG5pbXBvcnQgeyBkZWVwRnJlZXplIH0gZnJvbSAnLi4vZGVlcEZyZWV6ZSc7XG5pbXBvcnQgeyBSSVNPTl9ERUZBVUxUUywgUmlzb24gfSBmcm9tICcuLi9leHQvUmlzb24nO1xuaW1wb3J0IHsgZmlsdGVyVW5kZWZpbmVkIH0gZnJvbSAnLi4vbWFwVXRpbCc7XG5pbXBvcnQgeyBVU0FfUExBQ0VfSUQgfSBmcm9tICcuLi9wbGFjZS1hYmJyZXZpYXRpb25zJztcbmltcG9ydCB7IHBhcnNlUXVlcnlTdHJpbmcgfSBmcm9tICcuLi9xdWVyeVV0aWwnO1xuaW1wb3J0IHsgY2FwaXRhbGl6ZUZpcnN0IH0gZnJvbSAnLi4vdGVtcGxhdGluZyc7XG5pbXBvcnQgeyBjcmVhdGVDb21tYW5kZXJDb25uZWN0aW9uc0FycmF5LCBjcmVhdGVGYWNldFJlcXVlc3RzQXJyYXksIGNyZWF0ZUZpZWxkZWRLZXl3b3Jkc0FycmF5LCBjcmVhdGVGaWx0ZXJzQXJyYXksIGNyZWF0ZUluQXJyYXksIGNyZWF0ZUtleXdvcmRzQXJyYXksIGNyZWF0ZVJlZ2ltZW50Q29ubmVjdGlvbnNBcnJheSwgY3JlYXRlVGFnc0FycmF5LCBjcmVhdGVXaXRoaW5BcnJheSB9IGZyb20gJy4vRjNRdWVyeUFycmF5JztcbmltcG9ydCB7IEFwcGxpZWRQYXJhbSwgQXBwbGllZFBhcmFtVHlwZSwgRG9jdW1lbnRRdWVyeVdpdGhMYWJlbHMsIEYzUXVlcnlFdmVudHMsIEZpbHRlcldpdGhMYWJlbCwgT2JqUmVmV2l0aExhYmVsLCBRVUVSWV9MQVNUX1VQREFURUQsIFdpdGhpbldpdGhMYWJlbCB9IGZyb20gJy4vZjNRdWVyeVR5cGVzJztcblxuaW50ZXJmYWNlIEFwcGxpZWRQYXJhbUl0ZW1SZXR1cm4ge1xuXHR0eXBlOiBBcHBsaWVkUGFyYW1UeXBlXG5cdGl0ZW06IGFueVxufVxuXG5pbnRlcmZhY2UgRjNRdWVyeURpZmYge1xuXHRtb2RpZmllZDogUGFydGlhbDxEb2N1bWVudFF1ZXJ5PlxuXHRhZGRlZDogQXBwbGllZFBhcmFtW11cblx0cmVtb3ZlZDogQXBwbGllZFBhcmFtW11cbn1cblxuY29uc3QgS0VZU19UT19ESUZGOiAoa2V5b2YgRG9jdW1lbnRRdWVyeSlbXSA9IFsnYmFja3dhcmRDb25uZWN0aW9uJywgJ2ZvcndhcmRDb25uZWN0aW9uJywgJ21heENvdW50JywgJ29jcicsICdvZmZzZXQnLCAnc29ydE9yZGVyJywgJ3N0cmljdE1vZGUnLCAnbGFzdFVwZGF0ZWQnXTtcblxuZXhwb3J0IGNvbnN0IEhJVF9SRVFVRVNUX1NJWkUgPSAxMDA7XG5leHBvcnQgY29uc3QgTUFYX1FVRVJZX1NJWkUgPSAxMDAwMDtcbmV4cG9ydCBjb25zdCBOT19GSUxURVJfVkFMVUUgPSAnTk9fRklMVEVSJztcblxuY29uc3Qgcmlzb24gPSBuZXcgUmlzb24oe1xuXHRub3RJZENoYXI6IFJJU09OX0RFRkFVTFRTLk5PVF9JRF9DSEFSLnJlcGxhY2UoJyAnLCAnJykgKyAnXFx0Jyxcblx0d2hpdGVzcGFjZTogJyBcXHQnLFxuXG5cdC8qXG5cdCAqIHJlcGxhY2VXaGl0ZXNwYWNlKHN0cikge1xuXHQgKiBcdHJldHVybiBzdHIucmVwbGFjZUFsbCgvW15cXFNcXHRdL2csICcrJylcblx0ICogfVxuXHQgKi9cbn0pO1xuXG5leHBvcnQgY2xhc3MgRjNRdWVyeSB7XG5cdHByaXZhdGUgX2luaXRpYWxRdWVyeTogRG9jdW1lbnRRdWVyeVdpdGhMYWJlbHM7XG5cblx0cXVlcnk6IERvY3VtZW50UXVlcnlXaXRoTGFiZWxzO1xuXHRwdWJzdWI6IFB1YlN1YjxGM1F1ZXJ5RXZlbnRzPiA9IG5ldyBQdWJTdWIoKTtcblx0RmFjZXRSZXF1ZXN0cyA9IGNyZWF0ZUZhY2V0UmVxdWVzdHNBcnJheSh0aGlzKTtcblx0RmllbGRlZEtleXdvcmRzID0gY3JlYXRlRmllbGRlZEtleXdvcmRzQXJyYXkodGhpcyk7XG5cdEZpbHRlcnMgPSBjcmVhdGVGaWx0ZXJzQXJyYXkodGhpcyk7XG5cdEluID0gY3JlYXRlSW5BcnJheSh0aGlzKTtcblx0UmVnaW1lbnRDb25uZWN0aW9ucyA9IGNyZWF0ZVJlZ2ltZW50Q29ubmVjdGlvbnNBcnJheSh0aGlzKTtcblx0VGFncyA9IGNyZWF0ZVRhZ3NBcnJheSh0aGlzKTtcblx0S2V5d29yZHMgPSBjcmVhdGVLZXl3b3Jkc0FycmF5KHRoaXMpO1xuXHRXaXRoaW4gPSBjcmVhdGVXaXRoaW5BcnJheSh0aGlzKTtcblx0Q29tbWFuZGVyQ29ubmVjdGlvbnMgPSBjcmVhdGVDb21tYW5kZXJDb25uZWN0aW9uc0FycmF5KHRoaXMpO1xuXHRicm93c2VGYWNldFR5cGVzOiBGYWNldFR5cGVbXTtcblxuXHRjb25zdHJ1Y3RvcihxdWVyeTogUGFydGlhbDxEb2N1bWVudFF1ZXJ5V2l0aExhYmVscz4gPSB7fSkge1xuXHRcdGxldCBuZXdRdWVyeSA9IEYzUXVlcnkuY3JlYXRlRGVmYXVsdFF1ZXJ5KHF1ZXJ5KTtcblxuXHRcdHRoaXMuX2luaXRpYWxRdWVyeSA9IEYzUXVlcnkuY2xvbmUobmV3UXVlcnkpO1xuXHRcdHRoaXMucXVlcnkgPSBGM1F1ZXJ5LmNsb25lKG5ld1F1ZXJ5KTtcblx0fVxuXG5cdCBxdWVyeVN0cmluZyA9IGNvbXB1dGVkKCgpID0+IHtcblx0XHRsZXQgZG9jUXVlcnkgPSBGM1F1ZXJ5LmZpbHRlckRvY3VtZW50UXVlcnkodGhpcy5xdWVyeSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKGRvY1F1ZXJ5KS5sZW5ndGggPT09IDApIHJldHVybiAnJztcblxuXHRcdC8vIGxldCBjb21wcmVzc2VkID0gRjNRdWVyeS5jb21wcmVzc0RvY3VtZW50UXVlcnkoZG9jUXVlcnkpO1xuXG5cdFx0cmV0dXJuIHJpc29uLmVuY29kZVVyaShkb2NRdWVyeSlcblx0XHRcdC5yZXBsYWNlQWxsKFRBQl9DSEFSQUNURVIsIFRBQl9SRVBMQUNFTUVOVF9DSEFSQUNURVIpO1xuXHR9KTtcblxuXHR1cGRhdGVJbml0aWFsUXVlcnkoKSB7XG5cdFx0dGhpcy5faW5pdGlhbFF1ZXJ5ID0gRjNRdWVyeS5jbG9uZSh0aGlzLnF1ZXJ5KTtcblx0fVxuXG5cdHNldFF1ZXJ5KGZuOiAoY3VycmVudFF1ZXJ5OiBEb2N1bWVudFF1ZXJ5V2l0aExhYmVscykgPT4gRG9jdW1lbnRRdWVyeVdpdGhMYWJlbHMsIHB1Ymxpc2g6IGJvb2xlYW4gPSB0cnVlKSB7XG5cdFx0bGV0IG9sZFF1ZXJ5ID0gdGhpcy5jb3B5KCk7XG5cdFx0dGhpcy5xdWVyeSA9IGZuKHRoaXMucXVlcnkpO1xuXG5cdFx0bGV0IGRpZmYgPSBGM1F1ZXJ5LmRpZmZBcHBsaWVkUGFyYW1zKHRoaXMsIG9sZFF1ZXJ5KTtcblx0XHRsZXQgY2hhbmdlZCA9IE9iamVjdC5rZXlzKGRpZmYubW9kaWZpZWQpLmxlbmd0aCA+IDAgfHwgZGlmZi5hZGRlZC5sZW5ndGggPiAwIHx8IGRpZmYucmVtb3ZlZC5sZW5ndGggPiAwO1xuXG5cdFx0Lypcblx0XHQgKiBBdXRvbWF0aWNhbGx5IHJlc2V0IG9mZnNldCBiYWNrIHRvIDAgaWYgaXQgaXNuJ3QgZXhwbGljaXRseSBiZWluZyBzZXQgYW5kIHNvbWV0aGluZyBoYXMgY2hhbmdlZC5cblx0XHQgKiBpLmUuIElmIGEgZmFjZXQgaXMgYXBwbGllZCBvciBhIGtleXdvcmQgaXMgcmVtb3ZlZCBvciB0aGUgc29ydCBvcmRlciBpcyBjaGFuZ2VkLCB3ZSBuZWVkIHRvIGF1dG9tYXRpY2FsbHlcblx0XHQgKiBkaXNwbGF5IHRoZSBmaXJzdCBzZXQgb2YgcmVzdWx0cy5cblx0XHQgKi9cblx0XHRpZiAoY2hhbmdlZCkge1xuXHRcdFx0dGhpcy5xdWVyeVN0cmluZy5zZXRJbnZhbGlkKCk7XG5cblx0XHRcdGlmICghKCdvZmZzZXQnIGluIGRpZmYubW9kaWZpZWQpKSB7XG5cdFx0XHRcdHRoaXMucXVlcnkub2Zmc2V0ID0gMDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHB1Ymxpc2gpIHtcblx0XHRcdFx0aWYgKHRoaXMucHVic3ViLmdldExpc3RlbmVyQ291bnQoJ1F1ZXJ5TW9kaWZpZWQnKSA9PT0gMCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMucHVic3ViLnB1Ymxpc2goJ1F1ZXJ5TW9kaWZpZWQnLCBkaWZmKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHR1cGRhdGVRdWVyeShwYXJ0aWFsUXVlcnk6IFBhcnRpYWw8RG9jdW1lbnRRdWVyeVdpdGhMYWJlbHM+LCBwdWJsaXNoOiBib29sZWFuID0gdHJ1ZSkge1xuXHRcdHRoaXMuc2V0UXVlcnkocXVlcnkgPT4gKHsgLi4ucXVlcnksIC4uLnBhcnRpYWxRdWVyeSB9KSwgcHVibGlzaCk7XG5cdH1cblxuXHRvbk1vZGlmaWVkKGNiOiAoZGlmZjogRjNRdWVyeURpZmYpID0+IHZvaWQsIG9wdHM6IHsgaWdub3JlRmFjZXRUeXBlcz86IEZhY2V0VHlwZVtdLCBpZ25vcmVLZXlzPzogKGtleW9mIERvY3VtZW50UXVlcnkpW10gfSA9IHt9KSB7XG5cdFx0Y29uc3QgeyBpZ25vcmVGYWNldFR5cGVzID0gW10sIGlnbm9yZUtleXMgPSBbXSB9ID0gb3B0cztcblxuXHRcdGxldCBtb2RpZmllZENiID0gKGRpZmY6IEYzUXVlcnlEaWZmKSA9PiB7XG5cdFx0XHRpZiAoIW9wdHMpIHtcblx0XHRcdFx0Y2IoZGlmZik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0bGV0IG1vZGlmaWVkS2V5cyA9IE9iamVjdC5rZXlzKGRpZmYubW9kaWZpZWQpO1xuXHRcdFx0aWYgKG1vZGlmaWVkS2V5cy5zb21lKGtleSA9PiAhaWdub3JlS2V5cy5pbmNsdWRlcyhrZXkgYXMgYW55KSkpIHtcblx0XHRcdFx0Y2IoZGlmZik7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0bGV0IGFkZGVkRmFjZXRUeXBlcyA9IGRpZmY/LmFkZGVkPy5tYXAoYWRkZWQgPT4gYWRkZWQuZmFjZXRUeXBlKSB8fCBbXTtcblx0XHRcdGxldCByZW1vdmVkRmFjZXRUeXBlcyA9IGRpZmY/LnJlbW92ZWQ/Lm1hcChyZW1vdmVkID0+IHJlbW92ZWQuZmFjZXRUeXBlKSB8fCBbXTtcblxuXHRcdFx0aWYgKFsuLi5hZGRlZEZhY2V0VHlwZXMsIC4uLnJlbW92ZWRGYWNldFR5cGVzXS5zb21lKGtleSA9PiAhaWdub3JlRmFjZXRUeXBlcy5pbmNsdWRlcyhrZXkpKSkge1xuXHRcdFx0XHRjYihkaWZmKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHR0aGlzLnB1YnN1Yi5vbignUXVlcnlNb2RpZmllZCcsIG1vZGlmaWVkQ2IpO1xuXHRcdHJldHVybiAoKSA9PiB0aGlzLnB1YnN1Yi5vZmYoJ1F1ZXJ5TW9kaWZpZWQnLCBtb2RpZmllZENiKTtcblx0fVxuXG5cdG9mZk1vZGlmaWVkKGNiOiAoZGlmZjogRjNRdWVyeURpZmYpID0+IHZvaWQpIHtcblx0XHR0aGlzLnB1YnN1Yi5vZmYoJ1F1ZXJ5TW9kaWZpZWQnLCBjYik7XG5cdH1cblxuXHRyZXNldFF1ZXJ5KGFsbD86IHRydWUpOiB2b2lkO1xuXHRyZXNldFF1ZXJ5KGtleXM/OiAoa2V5b2YgRG9jdW1lbnRRdWVyeSlbXSk6IHZvaWQ7XG5cdHJlc2V0UXVlcnkoa2V5cz86IChrZXlvZiBEb2N1bWVudFF1ZXJ5KVtdIHwgYm9vbGVhbikge1xuXHRcdGlmIChrZXlzID09PSB0cnVlKSB7XG5cdFx0XHR0aGlzLnNldFF1ZXJ5KCgpID0+IEYzUXVlcnkuY3JlYXRlRGVmYXVsdFF1ZXJ5KHt9KSwgdHJ1ZSk7XG5cdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGtleXMpKSB7XG5cdFx0XHRsZXQgdG9VcGRhdGUgPSBrZXlzLnJlZHVjZSgoZmluYWxPYmosIGtleSkgPT4ge1xuXHRcdFx0XHQoZmluYWxPYmogYXMgYW55KVtrZXldID0gdGhpcy5faW5pdGlhbFF1ZXJ5W2tleV07XG5cdFx0XHRcdHJldHVybiBmaW5hbE9iajtcblx0XHRcdH0sIHt9IGFzIERvY3VtZW50UXVlcnlXaXRoTGFiZWxzKTtcblxuXHRcdFx0dGhpcy51cGRhdGVRdWVyeSh0b1VwZGF0ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc2V0UXVlcnkoKCkgPT4gdGhpcy5faW5pdGlhbFF1ZXJ5LCB0cnVlKTtcblx0XHR9XG5cdH1cblxuXHRpc0VtcHR5KCkge1xuXHRcdGNvbnN0IHsgbGFzdFVwZGF0ZWQsIGtleXdvcmRzLCBmaWx0ZXJzLCBmaWVsZGVkS2V5d29yZHMsIHdpdGhpbiwgcmVnaW1lbnRDb25uZWN0aW9ucywgY29tbWFuZGVyQ29ubmVjdGlvbnMsIHRhZ3MsIGluVGFnIH0gPSB0aGlzLnF1ZXJ5O1xuXG5cdFx0aWYgKFxuXHRcdFx0bGFzdFVwZGF0ZWQgfHxcblx0XHRcdGtleXdvcmRzPy5sZW5ndGggPiAwIHx8XG5cdFx0XHRmaWx0ZXJzPy5sZW5ndGggPiAwIHx8XG5cdFx0XHRmaWVsZGVkS2V5d29yZHM/Lmxlbmd0aCA+IDAgfHxcblx0XHRcdHdpdGhpbj8ubGVuZ3RoID4gMCB8fFxuXHRcdFx0cmVnaW1lbnRDb25uZWN0aW9ucz8ubGVuZ3RoID4gMCB8fFxuXHRcdFx0dGFncz8ubGVuZ3RoID4gMCB8fFxuXHRcdFx0Y29tbWFuZGVyQ29ubmVjdGlvbnM/Lmxlbmd0aCA+IDAgfHxcblx0XHRcdGluVGFnXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvKlxuXHQgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGZ1bmN0aW9uIGlzIHRvIGp1c3QgdGFrZSB0aGlzLnF1ZXJ5IGFuZCByZW1vdmUgdGhlIGxhYmVsc1xuXHQgKiB0byBtYWtlIGl0IGEgcmVhbCBEb2N1bWVudFF1ZXJ5XG5cdCAqL1xuXHR0b0RvY3VtZW50UXVlcnkoLyogcHJlZml4RmlsdGVyOiBib29sZWFuID0gdHJ1ZSAqLyk6IERvY3VtZW50UXVlcnkge1xuXHRcdGxldCBvZmZzZXQgPSBNYXRoLmZsb29yKHRoaXMucXVlcnkub2Zmc2V0IC8gSElUX1JFUVVFU1RfU0laRSkgKiBISVRfUkVRVUVTVF9TSVpFO1xuXG5cdFx0cmV0dXJuIEYzUXVlcnkuZmlsdGVyRG9jdW1lbnRRdWVyeSh7XG5cdFx0XHQuLi50aGlzLnF1ZXJ5LFxuXHRcdFx0b2Zmc2V0LFxuXHRcdFx0ZmlsdGVyczogdGhpcy5xdWVyeS5maWx0ZXJzXG5cdFx0XHRcdC5tYXAoZmlsdGVyID0+IHtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0Li4uZmlsdGVyLFxuXHRcdFx0XHRcdFx0dmFsdWVzOiBmaWx0ZXIudmFsdWVzXG5cdFx0XHRcdFx0XHRcdC5maWx0ZXIodmFsID0+IHZhbC52YWx1ZSAhPT0gTk9fRklMVEVSX1ZBTFVFKVxuXHRcdFx0XHRcdFx0XHQubWFwKHZhbCA9PiBTdHJpbmcodmFsLnZhbHVlKSksXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmZpbHRlcihmaWx0ZXIgPT4ge1xuXHRcdFx0XHRcdHJldHVybiBmaWx0ZXIudmFsdWVzLmxlbmd0aCA+IDA7XG5cdFx0XHRcdH0pLFxuXHRcdFx0cmVnaW1lbnRDb25uZWN0aW9uczogdGhpcy5xdWVyeS5yZWdpbWVudENvbm5lY3Rpb25zLm1hcCgoeyBjb250ZW50VHlwZSwgb2JqZWN0SWQgfSkgPT4ge1xuXHRcdFx0XHRyZXR1cm4geyBjb250ZW50VHlwZSwgb2JqZWN0SWQgfTtcblx0XHRcdH0pLFxuXHRcdFx0Y29tbWFuZGVyQ29ubmVjdGlvbnM6IHRoaXMucXVlcnkuY29tbWFuZGVyQ29ubmVjdGlvbnMubWFwKCh7IGNvbnRlbnRUeXBlLCBvYmplY3RJZCB9KSA9PiB7XG5cdFx0XHRcdHJldHVybiB7IGNvbnRlbnRUeXBlLCBvYmplY3RJZCB9O1xuXHRcdFx0fSksXG5cdFx0XHRpbjogdGhpcy5xdWVyeS5pbi5tYXAoKHsgY29udGVudFR5cGUsIG9iamVjdElkIH0pID0+IHtcblx0XHRcdFx0cmV0dXJuIHsgY29udGVudFR5cGUsIG9iamVjdElkIH07XG5cdFx0XHR9KSxcblx0XHRcdGxhc3RVcGRhdGVkOiBGM1F1ZXJ5Lmxhc3RVcGRhdGVkVG9EYXRlKHRoaXMucXVlcnkubGFzdFVwZGF0ZWQpLFxuXHRcdFx0d2l0aGluOiB0aGlzLnF1ZXJ5LndpdGhpbi5tYXAoKHsgdmFsdWUgfSkgPT4gdmFsdWUpLmpvaW4oJywnKSxcblx0XHRcdGZpZWxkZWRLZXl3b3JkczogdGhpcy5xdWVyeS5maWVsZGVkS2V5d29yZHMubWFwKGtleXdvcmQgPT4ge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdC4uLmtleXdvcmQsXG5cdFx0XHRcdFx0dGV4dHM6IGtleXdvcmQudGV4dHMubWFwKHRleHQgPT4ge1xuXHRcdFx0XHRcdFx0LyogaWYgKHByZWZpeEZpbHRlcikgKi8gcmV0dXJuIEYzUXVlcnkuZmllbGRlZEtleXdvcmRQcmVmaXgodGV4dCk7XG5cdFx0XHRcdFx0XHQvLyBlbHNlIHJldHVybiB0ZXh0O1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHR9O1xuXHRcdFx0fSksXG5cdFx0fSk7XG5cdH1cblxuXHR0b0ZhY2V0UXVlcnkoKTogRG9jdW1lbnRRdWVyeSB7XG5cdFx0bGV0IGRvY3VtZW50UXVlcnkgPSB0aGlzLnRvRG9jdW1lbnRRdWVyeSgvKiB0cnVlICovKTtcblxuXHRcdHJldHVybiBGM1F1ZXJ5LmZpbHRlckRvY3VtZW50UXVlcnkoe1xuXHRcdFx0Li4uZG9jdW1lbnRRdWVyeSxcblx0XHRcdG1heENvdW50OiAwLFxuXHRcdFx0b2Zmc2V0OiAwLFxuXHRcdFx0c29ydE9yZGVyOiBGM1F1ZXJ5LkRFRkFVTFRfU09SVF9PUkRFUixcblx0XHRcdGRhdGVTcGFuOiBmYWxzZSxcblx0XHRcdGVudmlyb25tZW50OiBudWxsLFxuXHRcdH0pO1xuXHR9XG5cblx0dG9IaXRRdWVyeShvZmZzZXQ/OiBudW1iZXIsIG1heENvdW50ID0gdGhpcy5xdWVyeS5tYXhDb3VudCB8fCBISVRfUkVRVUVTVF9TSVpFKTogRG9jdW1lbnRRdWVyeSB7XG5cdFx0bGV0IGRvY3VtZW50UXVlcnkgPSB0aGlzLnRvRG9jdW1lbnRRdWVyeSgpO1xuXG5cdFx0cmV0dXJuIEYzUXVlcnkuZmlsdGVyRG9jdW1lbnRRdWVyeSh7XG5cdFx0XHQuLi5kb2N1bWVudFF1ZXJ5LFxuXHRcdFx0b2Zmc2V0OiBvZmZzZXQgIT09IHVuZGVmaW5lZCA/IG9mZnNldCA6IGRvY3VtZW50UXVlcnkub2Zmc2V0LFxuXHRcdFx0bWF4Q291bnQsXG5cdFx0XHRmYWNldFJlcXVlc3RzOiBbXSxcblx0XHRcdGRhdGVTcGFuOiBmYWxzZSxcblx0XHRcdGVudmlyb25tZW50OiBudWxsLFxuXHRcdFx0dGFyZ2V0VGh1bWJIZWlnaHQ6IDIwMCxcblx0XHRcdHRhcmdldFRodW1iV2lkdGg6IDIwMCxcblx0XHRcdGhpZ2hsaWdodDoge1xuXHRcdFx0XHRoaWdobGlnaHQ6IHRydWUsXG5cdFx0XHRcdGZyYWdtZW50U2l6ZTogbnVsbCxcblx0XHRcdH0sXG5cdFx0fSk7XG5cdH1cblxuXHRnZXRTZWFyY2hRdWVyaWVzKGZhY2V0VHlwZXM6IEZhY2V0VHlwZVtdLCBtYXhDb3VudDogbnVtYmVyID0gMCkge1xuXHRcdGxldCBhcHBsaWVkRmFjZXRzOiBGM1F1ZXJ5W10gPSBbXTsgLy8gYWxsIHF1ZXJpZXMgZm9yIGFwcGxpZWQgYW5kIG5vbi1hcHBsaWVkIGZhY2V0c1xuXHRcdGxldCBxdWVyeUNvcHkgPSB0aGlzLmNvcHkoKTtcblx0XHRsZXQgb3RoZXJGYWNldHMgPSBxdWVyeUNvcHkuY29weSgpOyAvLyBxdWVyeSBmb3IgYWxsIG5vbi1hcHBsaWVkIGZhY2V0cyB3aXRoIGFsbCBmaWx0ZXJzL2ZpZWxkZWRLZXl3b3JkcyBhcHBsaWVkXG5cblx0XHRvdGhlckZhY2V0cy51cGRhdGVRdWVyeSh7XG5cdFx0XHRtYXhDb3VudCxcblx0XHRcdGhpZ2hsaWdodDogeyBoaWdobGlnaHQ6IHRydWUgfSBhcyBIaWdobGlnaHQsXG5cdFx0fSwgZmFsc2UpO1xuXG5cdFx0ZmFjZXRUeXBlcy5mb3JFYWNoKGZhY2V0VHlwZSA9PiB7XG5cdFx0XHRsZXQgZmFjZXRSZXF1ZXN0cyA9IEYzUXVlcnkuZ2V0RmFjZXRSZXF1ZXN0cyhmYWNldFR5cGUpO1xuXG5cdFx0XHRpZiAoZmFjZXRSZXF1ZXN0cy5sZW5ndGggPT09IDApIHJldHVybjtcblxuXHRcdFx0bGV0IHJlbGF0ZWRGYWNldFR5cGUgPSBnZXRSZWxhdGVkRmFjZXRUeXBlKGZhY2V0VHlwZSk7XG5cdFx0XHRsZXQgZXhpc3RpbmdGaWx0ZXIgPSBxdWVyeUNvcHkuRmlsdGVycy5maW5kKHsgdHlwZTogZmFjZXRUeXBlIH0pO1xuXHRcdFx0bGV0IGV4aXN0aW5nUmVsYXRlZEZpbHRlciA9IHF1ZXJ5Q29weS5GaWx0ZXJzLmZpbmQoeyB0eXBlOiByZWxhdGVkRmFjZXRUeXBlIH0pO1xuXG5cdFx0XHQvLyBsZXQgZXhpc3RpbmdGaWx0ZXIgPSBxdWVyeUNvcHkucXVlcnkuZmlsdGVycy5maW5kKGZpbHRlciA9PiBmaWx0ZXIudHlwZSA9PT0gZmFjZXRUeXBlKTtcblxuXHRcdFx0aWYgKGV4aXN0aW5nRmlsdGVyIHx8IGV4aXN0aW5nUmVsYXRlZEZpbHRlcikge1xuXHRcdFx0XHRsZXQgYXBwbGllZFF1ZXJ5ID0gcXVlcnlDb3B5LmNvcHkoKTtcblxuXHRcdFx0XHRhcHBsaWVkUXVlcnkuZmlsdGVyRmFjZXRUeXBlcyhbZmFjZXRUeXBlXSk7XG5cblx0XHRcdFx0aWYgKHJlbGF0ZWRGYWNldFR5cGUpIHtcblx0XHRcdFx0XHRhcHBsaWVkUXVlcnkuZmlsdGVyRmFjZXRUeXBlcyhbcmVsYXRlZEZhY2V0VHlwZV0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YXBwbGllZFF1ZXJ5LnNldFF1ZXJ5KGN1cnJRdWVyeSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdC4uLmN1cnJRdWVyeSxcblx0XHRcdFx0XHRcdGZhY2V0UmVxdWVzdHMsXG5cdFx0XHRcdFx0XHRtYXhDb3VudDogMCxcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9LCBmYWxzZSk7XG5cblx0XHRcdFx0YXBwbGllZEZhY2V0cy5wdXNoKGFwcGxpZWRRdWVyeSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdGhlckZhY2V0cy5zZXRRdWVyeShjdXJyUXVlcnkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHQuLi5jdXJyUXVlcnksXG5cdFx0XHRcdFx0XHRmYWNldFJlcXVlc3RzOiBbLi4uY3VyclF1ZXJ5LmZhY2V0UmVxdWVzdHMsIC4uLmZhY2V0UmVxdWVzdHNdLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0sIGZhbHNlKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8qXG5cdFx0ICogQWRkaW5nIGZhY2V0UmVxdWVzdHMgdG8gb3RoZXJGYWNldHMgYWJvdmUgcmVzZXRzIHRoZSBvZmZzZXQgYmFjayB0byAwLlxuXHRcdCAqIFdlIG5lZWQgdG8gcHJlc2VydmUgdGhhdCBiZWNhdXNlIHRoZSBvdGhlckZhY2V0cyBxdWVyeSBpcyB1c2VkIGZvciBoaXRzLlxuXHRcdCAqL1xuXHRcdG90aGVyRmFjZXRzLnVwZGF0ZVF1ZXJ5KHtcblx0XHRcdG9mZnNldDogdGhpcy5xdWVyeS5vZmZzZXQsXG5cdFx0XHRtYXhDb3VudDogb3RoZXJGYWNldHMuaXNFbXB0eSgpID8gMCA6IG90aGVyRmFjZXRzLnF1ZXJ5Lm1heENvdW50LCAvLyBkb24ndCByZXF1ZXN0IGhpdHMgaWYgc2VhcmNoIGlzIGVtcHR5XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0YXBwbGllZDogYXBwbGllZEZhY2V0cyxcblx0XHRcdG90aGVyOiBvdGhlckZhY2V0cyxcblx0XHR9O1xuXHR9XG5cblx0Lypcblx0ICogZ2V0QnJvd3NlUXVlcmllcygpIHtcblx0ICogXHRsZXQgcXVlcmllczogRjNRdWVyeVtdID0gW107XG5cdCAqL1xuXG5cdC8qXG5cdCAqIFx0bGV0IGZpbHRlcmVkUXVlcnkgPSB0aGlzLmNvcHkoKTtcblx0ICogXHRmaWx0ZXJlZFF1ZXJ5LmZpbHRlckZhY2V0VHlwZXMoTk9OX0JST1dTRV9GQUNFVF9UWVBFUyk7XG5cdCAqL1xuXG5cdC8qXG5cdCAqIFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBCUk9XU0VfRkFDRVRfVFlQRVMubGVuZ3RoOyBpKyspIHtcblx0ICogXHRcdGxldCBmYWNldFR5cGUgPSBCUk9XU0VfRkFDRVRfVFlQRVNbaV07XG5cdCAqIFx0XHRpZiAoIWZpbHRlcmVkUXVlcnkuRmFjZXRSZXF1ZXN0cy5oYXMoeyB0eXBlOiBmYWNldFR5cGUgfSkpIGNvbnRpbnVlO1xuXHQgKi9cblxuXHQvKlxuXHQgKiBcdFx0bGV0IGNoaWxkRmFjZXRzID0gQlJPV1NFX0ZBQ0VUX1RZUEVTLnNsaWNlKGkgKyAxKTtcblx0ICogXHRcdGxldCBvdGhlckZhY2V0cyA9IEJST1dTRV9GQUNFVF9UWVBFUy5maWx0ZXIoX2ZhY2V0VHlwZSA9PiBfZmFjZXRUeXBlICE9PSBmYWNldFR5cGUpO1xuXHQgKi9cblxuXHQvKlxuXHQgKiBcdFx0bGV0IG5ld1F1ZXJ5ID0gZmlsdGVyZWRRdWVyeS5jb3B5KCk7XG5cdCAqIFx0XHRuZXdRdWVyeS5maWx0ZXJGYWNldFR5cGVzKGNoaWxkRmFjZXRzKTtcblx0ICovXG5cblx0Ly8gXHRcdG5ld1F1ZXJ5LkZhY2V0UmVxdWVzdHMucmVtb3ZlSXRlbXMoaXRlbSA9PiBvdGhlckZhY2V0cy5pbmNsdWRlcyhpdGVtLnR5cGUgYXMgQnJvd3NlQ29sdW1uRmFjZXRUeXBlKSwgZmFsc2UpO1xuXG5cdC8vIFx0XHRuZXdRdWVyeS5GaWx0ZXJzLnJlbW92ZUl0ZW0oeyB0eXBlOiBmYWNldFR5cGUgfSk7XG5cblx0Lypcblx0ICogXHRcdHF1ZXJpZXMucHVzaChuZXdRdWVyeSk7XG5cdCAqIFx0fVxuXHQgKi9cblxuXHQvKlxuXHQgKiBcdHJldHVybiBxdWVyaWVzO1xuXHQgKiB9XG5cdCAqL1xuXG5cdC8qXG5cdCAqIHVwZGF0ZUJyb3dzZUZhY2V0KHsgZmFjZXRUeXBlLCBmaWx0ZXIsIHZhbHVlLCBsYWJlbCB9OiB7IGZhY2V0VHlwZTogQnJvd3NlQ29sdW1uRmFjZXRUeXBlLCBmaWx0ZXI/OiBzdHJpbmcsIHZhbHVlPzogc3RyaW5nLCBsYWJlbD86IHN0cmluZyB9LCBwdWJsaXNoPzogYm9vbGVhbikge1xuXHQgKiBcdGxldCBpID0gQlJPV1NFX0ZBQ0VUX1RZUEVTLmluZGV4T2YoZmFjZXRUeXBlKTtcblx0ICogXHRsZXQgY2hpbGRGYWNldHMgPSBCUk9XU0VfRkFDRVRfVFlQRVMuc2xpY2UoaSArIDEpO1xuXHQgKi9cblxuXHQvLyBcdC8qIFJlbW92ZSBhbGwgY2hpbGQgYnJvd3NlIGNvbHVtbiBzdHVmZiBmcm9tIHF1ZXJ5ICovXG5cdC8vIFx0bGV0IGNvcHkgPSB0aGlzLmNvcHkoKTtcblx0Ly8gXHRjb3B5LmZpbHRlckZhY2V0VHlwZXMoY2hpbGRGYWNldHMpO1xuXG5cdC8qXG5cdCAqIFx0aWYgKGZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG5cdCAqIFx0XHRjb3B5LkZpZWxkZWRLZXl3b3Jkcy51cGRhdGVJdGVtKFxuXHQgKiBcdFx0XHR7IHR5cGU6IGZhY2V0VHlwZSB9LFxuXHQgKiBcdFx0XHRpdGVtID0+ICh7IC4uLml0ZW0sIHRleHRzOiBbZmlsdGVyXSB9KSBhcyBLZXl3b3Jkcyxcblx0ICogXHRcdFx0ZmFsc2Vcblx0ICogXHRcdCk7XG5cdCAqL1xuXG5cdC8qXG5cdCAqIFx0XHRjb3B5LkZpbHRlcnMucmVtb3ZlSXRlbSh7IHR5cGU6IGZhY2V0VHlwZSB9LCBmYWxzZSk7XG5cdCAqIFx0fVxuXHQgKi9cblxuXHQvKlxuXHQgKiBcdGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdCAqIFx0XHRjb3B5LkZpbHRlcnMudXBkYXRlSXRlbShcblx0ICogXHRcdFx0eyB0eXBlOiBmYWNldFR5cGUgfSxcblx0ICogXHRcdFx0aXRlbSA9PiAoeyAuLi5pdGVtLCB2YWx1ZXM6IFt7IHZhbHVlLCBsYWJlbCB9XSB9KSBhcyBGaWx0ZXJXaXRoTGFiZWwsXG5cdCAqIFx0XHRcdGZhbHNlLFxuXHQgKiBcdFx0KTtcblx0ICogXHR9XG5cdCAqL1xuXG5cdC8qXG5cdCAqIFx0dGhpcy5zZXRRdWVyeSgoKSA9PiBjb3B5LnF1ZXJ5LCBwdWJsaXNoKTtcblx0ICogfVxuXHQgKi9cblxuXHRnZXRGYWNldFF1ZXJpZXMoZmFjZXRUeXBlczogRmFjZXRUeXBlW10sIG1heEhpdENvdW50OiBudW1iZXIpIHtcblx0XHRsZXQgeyBhcHBsaWVkLCBvdGhlciB9ID0gdGhpcy5nZXRTZWFyY2hRdWVyaWVzKGZhY2V0VHlwZXMsIG1heEhpdENvdW50KTtcblx0XHRyZXR1cm4gYXBwbGllZC5jb25jYXQob3RoZXIpLm1hcChxID0+IHEudG9GYWNldFF1ZXJ5KCkpO1xuXHR9XG5cblx0dG9RdWVyeVBhcmFtcygpIHtcblx0XHRsZXQgcXVlcnlTdHIgPSB0aGlzLnF1ZXJ5U3RyaW5nLmdldFZhbHVlKCk7XG5cdFx0cmV0dXJuIHF1ZXJ5U3RyID8gYD9kb2NRdWVyeT0ke3F1ZXJ5U3RyfWAgOiAnJztcblx0fVxuXG5cdHRvVXJsKCkge1xuXHRcdHJldHVybiBgL3NlYXJjaCR7dGhpcy50b1F1ZXJ5UGFyYW1zKCl9YDtcblx0fVxuXG5cdHRvQnJvd3NlVXJsKCkge1xuXHRcdGxldCBwYXJhbXMgPSB0aGlzLnRvUXVlcnlQYXJhbXMoKTtcblx0XHRyZXR1cm4gYC9zZWFyY2gke3BhcmFtcyA/IGAke3BhcmFtc30mYCA6ICc/J312aWV3PUJST1dTRWA7XG5cdH1cblxuXHRjb3B5KCkge1xuXHRcdHJldHVybiBuZXcgRjNRdWVyeSh0aGlzLnF1ZXJ5KTtcblx0fVxuXG5cdGhhc1BhcmFtKHBhcmFtOiBBcHBsaWVkUGFyYW0pIHtcblx0XHRsZXQgeyB0eXBlLCBpdGVtIH0gPSBGM1F1ZXJ5LmFwcGxpZWRQYXJhbVRvSXRlbShwYXJhbSk7XG5cblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgJ2ZpZWxkZWRLZXl3b3Jkcyc6IHJldHVybiB0aGlzLkZpZWxkZWRLZXl3b3Jkcy5oYXMoaXRlbSk7XG5cdFx0XHRjYXNlICdmaWx0ZXJzJzogcmV0dXJuIHRoaXMuRmlsdGVycy5oYXMoaXRlbSk7XG5cdFx0XHRjYXNlICdrZXl3b3Jkcyc6IHJldHVybiB0aGlzLktleXdvcmRzLmhhcyhpdGVtKTtcblx0XHRcdGNhc2UgJ2xhc3RVcGRhdGVkJzogcmV0dXJuIHRoaXMucXVlcnkubGFzdFVwZGF0ZWQgPT09IGl0ZW07XG5cdFx0XHRjYXNlICdyZWdpbWVudENvbm5lY3Rpb25zJzogcmV0dXJuIHRoaXMuUmVnaW1lbnRDb25uZWN0aW9ucy5oYXMoaXRlbSk7XG5cdFx0XHRjYXNlICdjb21tYW5kZXJDb25uZWN0aW9ucyc6IHJldHVybiB0aGlzLkNvbW1hbmRlckNvbm5lY3Rpb25zLmhhcyhpdGVtKTtcblx0XHRcdGNhc2UgJ3RhZ3MnOiByZXR1cm4gdGhpcy5UYWdzLmhhcyhpdGVtKTtcblx0XHRcdGNhc2UgJ3dpdGhpbic6IHJldHVybiB0aGlzLldpdGhpbi5oYXMoaXRlbSk7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYHR5cGUgJHt0eXBlfSBpcyBhbiB1bmhhbmRsZWQgdHlwZWApO1xuXHRcdH1cblx0fVxuXG5cdGFkZEFwaUtleShrZXk6IHN0cmluZykge1xuXHRcdHRoaXMudXBkYXRlUXVlcnkoeyBlbnZpcm9ubWVudDogeyBvcmlnaW46IGtleSB9IH0pO1xuXHR9XG5cblx0ZmlsdGVyRmFjZXRUeXBlcyhmYWNldFR5cGVzOiBGYWNldFR5cGVbXSwgcHVibGlzaD86IGJvb2xlYW4pIHtcblx0XHRsZXQgY29weSA9IHRoaXMuY29weSgpO1xuXG5cdFx0Y29weS5GaWx0ZXJzLnJlbW92ZUl0ZW1zKGl0ZW0gPT4gZmFjZXRUeXBlcy5pbmNsdWRlcyhpdGVtLnR5cGUpLCBmYWxzZSk7XG5cdFx0Y29weS5GYWNldFJlcXVlc3RzLnJlbW92ZUl0ZW1zKGl0ZW0gPT4gZmFjZXRUeXBlcy5pbmNsdWRlcyhpdGVtLnR5cGUpLCBmYWxzZSk7XG5cdFx0Y29weS5GaWVsZGVkS2V5d29yZHMucmVtb3ZlSXRlbXMoaXRlbSA9PiBmYWNldFR5cGVzLmluY2x1ZGVzKGl0ZW0udHlwZSksIGZhbHNlKTtcblxuXHRcdHRoaXMuc2V0UXVlcnkoKCkgPT4gY29weS5xdWVyeSwgcHVibGlzaCk7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdHRvQXBwbGllZFBhcmFtcygpOiBBcHBsaWVkUGFyYW1bXSB7XG5cdFx0cmV0dXJuIFtcblx0XHRcdC4uLnRoaXMuS2V5d29yZHMuZ2V0QXJyKClcblx0XHRcdFx0Lm1hcChrZXl3b3JkID0+IEYzUXVlcnkuaXRlbVRvQXBwbGllZFBhcmFtcygna2V5d29yZHMnLCBrZXl3b3JkKSksXG5cdFx0XHQuLi50aGlzLkZpZWxkZWRLZXl3b3Jkcy5nZXRBcnIoKVxuXHRcdFx0XHQuZmxhdE1hcChmS2V5d29yZCA9PiBGM1F1ZXJ5Lml0ZW1Ub0FwcGxpZWRQYXJhbXMoJ2ZpZWxkZWRLZXl3b3JkcycsIGZLZXl3b3JkKSksXG5cdFx0XHQuLi50aGlzLkZpbHRlcnMuZ2V0QXJyKClcblx0XHRcdFx0LmZsYXRNYXAoZmlsdGVyID0+IEYzUXVlcnkuaXRlbVRvQXBwbGllZFBhcmFtcygnZmlsdGVycycsIGZpbHRlcikpLFxuXHRcdFx0Li4udGhpcy5SZWdpbWVudENvbm5lY3Rpb25zLmdldEFycigpXG5cdFx0XHRcdC5tYXAoY29ubmVjdGlvbiA9PiBGM1F1ZXJ5Lml0ZW1Ub0FwcGxpZWRQYXJhbXMoJ3JlZ2ltZW50Q29ubmVjdGlvbnMnLCBjb25uZWN0aW9uKSksXG5cdFx0XHQuLi50aGlzLkNvbW1hbmRlckNvbm5lY3Rpb25zLmdldEFycigpXG5cdFx0XHRcdC5tYXAoY29ubmVjdGlvbiA9PiBGM1F1ZXJ5Lml0ZW1Ub0FwcGxpZWRQYXJhbXMoJ2NvbW1hbmRlckNvbm5lY3Rpb25zJywgY29ubmVjdGlvbikpLFxuXHRcdFx0Li4udGhpcy5UYWdzLmdldEFycigpXG5cdFx0XHRcdC5tYXAodGFnID0+IEYzUXVlcnkuaXRlbVRvQXBwbGllZFBhcmFtcygndGFncycsIHRhZykpLFxuXHRcdFx0Li4udGhpcy5XaXRoaW4uZ2V0QXJyKClcblx0XHRcdFx0Lm1hcCh3aXRoaW4gPT4gRjNRdWVyeS5pdGVtVG9BcHBsaWVkUGFyYW1zKCd3aXRoaW4nLCB3aXRoaW4pKSxcblx0XHRdO1xuXHR9XG5cblx0YWRkUGFyYW0ocGFyYW06IEFwcGxpZWRQYXJhbSwgcHVibGlzaD86IGJvb2xlYW4pIHtcblx0XHRjb25zdCB7IHR5cGUsIGl0ZW0gfSA9IEYzUXVlcnkuYXBwbGllZFBhcmFtVG9JdGVtKHBhcmFtKTtcblxuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSAna2V5d29yZHMnOlxuXHRcdFx0XHR0aGlzLktleXdvcmRzLmFkZEl0ZW0oaXRlbSwgcHVibGlzaCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnZmlsdGVycyc6XG5cdFx0XHRcdHRoaXMuRmlsdGVycy5hZGRJdGVtKGl0ZW0sIHB1Ymxpc2gpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2ZpZWxkZWRLZXl3b3Jkcyc6XG5cdFx0XHRcdHRoaXMuRmllbGRlZEtleXdvcmRzLmFkZEl0ZW0oaXRlbSwgcHVibGlzaCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAncmVnaW1lbnRDb25uZWN0aW9ucyc6XG5cdFx0XHRcdHRoaXMuUmVnaW1lbnRDb25uZWN0aW9ucy5hZGRJdGVtKGl0ZW0sIHB1Ymxpc2gpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2NvbW1hbmRlckNvbm5lY3Rpb25zJzpcblx0XHRcdFx0dGhpcy5Db21tYW5kZXJDb25uZWN0aW9ucy5hZGRJdGVtKGl0ZW0sIHB1Ymxpc2gpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3RhZ3MnOlxuXHRcdFx0XHR0aGlzLlRhZ3MuYWRkSXRlbShpdGVtLCBwdWJsaXNoKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICd3aXRoaW4nOlxuXHRcdFx0XHR0aGlzLldpdGhpbi5hZGRJdGVtKGl0ZW0sIHB1Ymxpc2gpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgJHt0eXBlfSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlYCk7XG5cdFx0fVxuXHR9XG5cblx0cmVtb3ZlUGFyYW0ocGFyYW06IEFwcGxpZWRQYXJhbSwgcHVibGlzaD86IGJvb2xlYW4pIHtcblx0XHRjb25zdCB7IHR5cGUsIGl0ZW0gfSA9IEYzUXVlcnkuYXBwbGllZFBhcmFtVG9JdGVtKHBhcmFtKTtcblxuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSAna2V5d29yZHMnOlxuXHRcdFx0XHR0aGlzLktleXdvcmRzLnJlbW92ZUl0ZW0oaXRlbSwgcHVibGlzaCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnZmlsdGVycyc6XG5cdFx0XHRcdHRoaXMuRmlsdGVycy5yZW1vdmVJdGVtKGl0ZW0sIHB1Ymxpc2gpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2ZpZWxkZWRLZXl3b3Jkcyc6XG5cdFx0XHRcdHRoaXMuRmllbGRlZEtleXdvcmRzLnJlbW92ZUl0ZW0oaXRlbSwgcHVibGlzaCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAncmVnaW1lbnRDb25uZWN0aW9ucyc6XG5cdFx0XHRcdHRoaXMuUmVnaW1lbnRDb25uZWN0aW9ucy5yZW1vdmVJdGVtKGl0ZW0sIHB1Ymxpc2gpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2NvbW1hbmRlckNvbm5lY3Rpb25zJzpcblx0XHRcdFx0dGhpcy5Db21tYW5kZXJDb25uZWN0aW9ucy5yZW1vdmVJdGVtKGl0ZW0sIHB1Ymxpc2gpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3RhZ3MnOlxuXHRcdFx0XHR0aGlzLlRhZ3MucmVtb3ZlSXRlbShpdGVtLCBwdWJsaXNoKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICd3aXRoaW4nOlxuXHRcdFx0XHR0aGlzLldpdGhpbi5yZW1vdmVJdGVtKGl0ZW0sIHB1Ymxpc2gpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgJHt0eXBlfSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlYCk7XG5cdFx0fVxuXHR9XG5cblx0c3RhdGljIGZpbHRlckRvY3VtZW50UXVlcnkocXVlcnk6IERvY3VtZW50UXVlcnksIHRvRmlsdGVyPzogRmFjZXRUeXBlW10pOiBEb2N1bWVudFF1ZXJ5O1xuXHRzdGF0aWMgZmlsdGVyRG9jdW1lbnRRdWVyeShxdWVyeTogRG9jdW1lbnRRdWVyeVdpdGhMYWJlbHMsIHRvRmlsdGVyPzogRmFjZXRUeXBlW10pOiBEb2N1bWVudFF1ZXJ5V2l0aExhYmVscztcblx0c3RhdGljIGZpbHRlckRvY3VtZW50UXVlcnkocXVlcnk6IERvY3VtZW50UXVlcnkgfCBEb2N1bWVudFF1ZXJ5V2l0aExhYmVscywgdG9GaWx0ZXI6IEZhY2V0VHlwZVtdID0gW10pIHtcblx0XHRyZXR1cm4gZmlsdGVyRGVmYXVsdFZhbHVlcyhGM1F1ZXJ5LkRFRkFVTFRfUVVFUlksIHF1ZXJ5LCAoa2V5LCB2YWwpID0+IHtcblx0XHRcdHN3aXRjaCAoa2V5IGFzIGtleW9mIERvY3VtZW50UXVlcnkpIHtcblx0XHRcdFx0Y2FzZSAnZmlsdGVycyc6XG5cdFx0XHRcdFx0cmV0dXJuICh2YWwgYXMgRmlsdGVyW10pXG5cdFx0XHRcdFx0XHQuZmlsdGVyKGZpbHRlciA9PiAhdG9GaWx0ZXIuaW5jbHVkZXMoZmlsdGVyLnR5cGUpKVxuXHRcdFx0XHRcdFx0Lm1hcChmaWx0ZXIgPT4ge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmlsdGVyRGVmYXVsdFZhbHVlcyhGM1F1ZXJ5LkRFRkFVTFRfRklMVEVSLCBmaWx0ZXIpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdGNhc2UgJ2ZhY2V0UmVxdWVzdHMnOlxuXHRcdFx0XHRcdHJldHVybiAodmFsIGFzIEZhY2V0UmVxdWVzdFtdKVxuXHRcdFx0XHRcdFx0LmZpbHRlcihmaWx0ZXIgPT4gIXRvRmlsdGVyLmluY2x1ZGVzKGZpbHRlci50eXBlKSlcblx0XHRcdFx0XHRcdC5tYXAocmVxID0+IHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZpbHRlckRlZmF1bHRWYWx1ZXMoRjNRdWVyeS5ERUZBVUxUX0ZBQ0VUX1JFUVVFU1QsIHJlcSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0Y2FzZSAnZmllbGRlZEtleXdvcmRzJzpcblx0XHRcdFx0XHRyZXR1cm4gKHZhbCBhcyBLZXl3b3Jkc1tdKVxuXHRcdFx0XHRcdFx0LmZpbHRlcihmaWx0ZXIgPT4gIXRvRmlsdGVyLmluY2x1ZGVzKGZpbHRlci50eXBlKSlcblx0XHRcdFx0XHRcdC5tYXAoZktleXdvcmQgPT4ge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZmlsdGVyRGVmYXVsdFZhbHVlcyhGM1F1ZXJ5LkRFRkFVTFRfRklFTERFRF9LRVlXT1JELCBmS2V5d29yZCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0Y2FzZSAndGFncyc6XG5cdFx0XHRcdFx0cmV0dXJuICh2YWwgYXMgVGFnUXVlcnlbXSkubWFwKHRhZ1F1ZXJ5ID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiBmaWx0ZXJEZWZhdWx0VmFsdWVzKEYzUXVlcnkuREVGQVVMVF9UQUdfUVVFUlksIHRhZ1F1ZXJ5KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRzdGF0aWMgZXhwYW5kRmlsdGVyZWREb2N1bWVudFF1ZXJ5KHF1ZXJ5OiBEb2N1bWVudFF1ZXJ5V2l0aExhYmVscykge1xuXHRcdGxldCBjb3B5ID0gRjNRdWVyeS5jcmVhdGVEZWZhdWx0UXVlcnkoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShxdWVyeSkpKTtcblxuXHRcdGNvcHkuZmFjZXRSZXF1ZXN0cyA9IGNvcHkuZmFjZXRSZXF1ZXN0cy5tYXAodmFsID0+IEYzUXVlcnkuY3JlYXRlRGVmYXVsdEZhY2V0UmVxdWVzdCh2YWwpKTtcblx0XHRjb3B5LmZpbHRlcnMgPSBjb3B5LmZpbHRlcnMubWFwKHZhbCA9PiBGM1F1ZXJ5LmNyZWF0ZURlZmF1bHRGaWx0ZXIodmFsIGFzIGFueSBhcyBGaWx0ZXJXaXRoTGFiZWwpKTtcblx0XHRjb3B5LmZpZWxkZWRLZXl3b3JkcyA9IGNvcHkuZmllbGRlZEtleXdvcmRzLm1hcCh2YWwgPT4gRjNRdWVyeS5jcmVhdGVEZWZhdWx0RmllbGRlZEtleXdvcmQodmFsKSk7XG5cdFx0Y29weS50YWdzID0gY29weS50YWdzLm1hcCh2YWwgPT4gRjNRdWVyeS5jcmVhdGVEZWZhdWx0VGFnUXVlcnkodmFsKSk7XG5cblx0XHRyZXR1cm4gY29weTtcblx0fVxuXG5cdHN0YXRpYyBmcm9tUXVlcnkocXVlcnk6IFF1ZXJ5KTogRjNRdWVyeSB7XG5cdFx0bGV0IHsgZmllbGRlZEtleXdvcmRzLCBmaWx0ZXJzLCBrZXl3b3JkcywgbGFzdFVwZGF0ZWQsIHJlZ2ltZW50Q29ubmVjdGlvbnMsIGNvbW1hbmRlckNvbm5lY3Rpb25zLCB0YWdzLCB3aXRoaW4sIC4uLnJlc3QgfSA9IHF1ZXJ5LnRvQ29tYmluZWRRdWVyeSgpO1xuXG5cdFx0bGV0IG5ld0FwcGxpZWRQYXJhbXMgPSBxdWVyeS5hcHBsaWVkUGFyYW1zLnJlZHVjZSgoZmluYWxBcnIsIHNlYXJjaFBhcmFtKSA9PiB7XG5cdFx0XHRmaW5hbEFyci5wdXNoKC4uLkYzUXVlcnkuc2VhcmNoUGFyYW1Ub0FwcGxpZWRQYXJhbXMoc2VhcmNoUGFyYW0pKTtcblx0XHRcdHJldHVybiBmaW5hbEFycjtcblx0XHR9LCBbXSBhcyBBcHBsaWVkUGFyYW1bXSk7XG5cblx0XHRsZXQgbmV3UXVlcnkgPSBuZXcgRjNRdWVyeShyZXN0KTtcblx0XHRuZXdBcHBsaWVkUGFyYW1zLmZvckVhY2gocGFyYW0gPT4geyBuZXdRdWVyeS5hZGRQYXJhbShwYXJhbSk7IH0pO1xuXG5cdFx0aWYgKGxhc3RVcGRhdGVkKSB7XG5cdFx0XHRsZXQgdmFsID0gcXVlcnkubGFzdFVwZGF0ZWQ7XG5cdFx0XHRuZXdRdWVyeS5xdWVyeS5sYXN0VXBkYXRlZCA9IEYzUXVlcnkuZGF0ZVRvTGFzdFVwZGF0ZWQodmFsLnZhbHVlc1swXS52YWx1ZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5ld1F1ZXJ5O1xuXHR9XG5cblx0c3RhdGljIGZyb21Eb2N1bWVudFF1ZXJ5KHF1ZXJ5OiBEb2N1bWVudFF1ZXJ5KSB7XG5cdFx0cmV0dXJuIG5ldyBGM1F1ZXJ5KEYzUXVlcnkuYWRkTGFiZWxzVG9Eb2N1bWVudFF1ZXJ5KHF1ZXJ5KSk7XG5cdH1cblxuXHRzdGF0aWMgZnJvbVVybChzdHI6IHN0cmluZyk6IEYzUXVlcnkge1xuXHRcdGxldCBbcGF0aCwgcXVlcnlTdHJpbmdzXSA9IHN0ci5zcGxpdCgnPycpO1xuXG5cdFx0bGV0IHsgZG9jUXVlcnkgfSA9IHBhcnNlUXVlcnlTdHJpbmcocXVlcnlTdHJpbmdzIHx8ICcnKTtcblx0XHRpZiAoIWRvY1F1ZXJ5KSByZXR1cm4gbmV3IEYzUXVlcnkoKTtcblx0XHRlbHNlIHJldHVybiBGM1F1ZXJ5LmZyb21RdWVyeVN0cmluZyhkb2NRdWVyeSk7XG5cdH1cblxuXHRzdGF0aWMgZnJvbVF1ZXJ5U3RyaW5nKHN0cjogc3RyaW5nKTogRjNRdWVyeSB7XG5cdFx0aWYgKHN0ciA9PT0gJycpIHJldHVybiBuZXcgRjNRdWVyeSgpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGxldCBxdWVyeVN0ciA9IHN0clxuXHRcdFx0XHQucmVwbGFjZUFsbChUQUJfUkVQTEFDRU1FTlRfQ0hBUkFDVEVSLCBUQUJfQ0hBUkFDVEVSKVxuXHRcdFx0XHQucmVwbGFjZUFsbCgnKycsICcgJyk7XG5cblx0XHRcdGxldCBxdWVyeU9iaiA9IHJpc29uLmRlY29kZTxEb2N1bWVudFF1ZXJ5V2l0aExhYmVscz4ocXVlcnlTdHIpO1xuXHRcdFx0bGV0IGV4cGFuZGVkID0gRjNRdWVyeS5leHBhbmRGaWx0ZXJlZERvY3VtZW50UXVlcnkocXVlcnlPYmopO1xuXG5cdFx0XHRyZXR1cm4gbmV3IEYzUXVlcnkoZXhwYW5kZWQpO1xuXHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0Ly8gY29uc29sZS53YXJuKGUpO1xuXHRcdFx0cmV0dXJuIG5ldyBGM1F1ZXJ5KCk7XG5cdFx0fVxuXHR9XG5cblx0c3RhdGljIGZyb21UYWdzKHRhZ3M6IFNlYXJjaFRhZ0luZm9bXSkge1xuXHRcdGNvbnN0IGYzUXVlcnkgPSBuZXcgRjNRdWVyeSgpO1xuXHRcdHRhZ3MuZm9yRWFjaCh0YWcgPT4ge1xuXHRcdFx0ZjNRdWVyeS5GaWx0ZXJzLmFkZEl0ZW0oe1xuXHRcdFx0XHR0eXBlOiB0YWcudHlwZSBhcyBGYWNldFR5cGUsXG5cdFx0XHRcdHZhbHVlczogW3sgdmFsdWU6IHRhZy5lbnVtVmFsdWUsIGxhYmVsOiB0YWcubGFiZWwgfV0sXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRyZXR1cm4gZjNRdWVyeTtcblx0fVxuXG5cdHN0YXRpYyBtZXJnZVF1ZXJpZXMocXVlcnkxOiBGM1F1ZXJ5LCBxdWVyeTI6IEYzUXVlcnkpIHtcblx0XHRsZXQgcXVlcnkxUGFyYW1zID0gcXVlcnkxLnRvQXBwbGllZFBhcmFtcygpO1xuXHRcdGxldCBxdWVyeTJQYXJhbXMgPSBxdWVyeTIudG9BcHBsaWVkUGFyYW1zKCk7XG5cblx0XHRsZXQgbmV3UXVlcnkgPSBuZXcgRjNRdWVyeSgpO1xuXHRcdHF1ZXJ5MVBhcmFtcy5mb3JFYWNoKHBhcmFtID0+IHsgbmV3UXVlcnkuYWRkUGFyYW0ocGFyYW0pOyB9KTtcblx0XHRxdWVyeTJQYXJhbXMuZm9yRWFjaChwYXJhbSA9PiB7IG5ld1F1ZXJ5LmFkZFBhcmFtKHBhcmFtKTsgfSk7XG5cblx0XHRyZXR1cm4gbmV3UXVlcnk7XG5cdH1cblxuXHRzdGF0aWMgREVGQVVMVF9TT1JUX09SREVSOiBEb2N1bWVudFF1ZXJ5X1NvcnQgPSAnUkVMRVZBTkNFJztcblx0c3RhdGljIEZBQ0VUX1JFUVVFU1RfU0laRSA9IDIwMDtcblx0c3RhdGljIEJST1dTRV9GQUNFVF9SRVFVRVNUX1NJWkUgPSA1MDA7XG5cdHN0YXRpYyBQVUJfRkFDRVRfUkVRVUVTVF9TSVpFID0gMTAwMDA7XG5cdHN0YXRpYyBERUZBVUxUX0ZJTFRFUjogRmlsdGVyV2l0aExhYmVsID0gZGVlcEZyZWV6ZSh7XG5cdFx0ZXhjbHVkZTogZmFsc2UsXG5cdFx0c3RyaWN0OiB0cnVlLFxuXHRcdGZpbHRlclR5cGU6ICdURVJNJyxcblx0XHR0eXBlOiBudWxsLFxuXHRcdHZhbHVlczogW10sXG5cdH0pO1xuXG5cdHN0YXRpYyBERUZBVUxUX1FVRVJZOiBEb2N1bWVudFF1ZXJ5V2l0aExhYmVscyA9IGRlZXBGcmVlemUoe1xuXHRcdGJhY2t3YXJkQ29ubmVjdGlvbjogbnVsbCxcblx0XHRjbGVhckNhY2hlOiBmYWxzZSxcblx0XHRjb21tYW5kZXJDb25uZWN0aW9uczogW10sXG5cdFx0ZGF0ZVNwYW46IGZhbHNlLFxuXHRcdGRlYnVnUXVlcnk6IGZhbHNlLFxuXHRcdGVudmlyb25tZW50OiBudWxsLFxuXHRcdGV4cGxhaW46IGZhbHNlLFxuXHRcdGZhY2V0UmVxdWVzdHM6IFtdLFxuXHRcdGZpZWxkZWRLZXl3b3JkczogW10sXG5cdFx0ZmlsdGVyczogW10sXG5cdFx0Zm9yd2FyZENvbm5lY3Rpb246IG51bGwsXG5cdFx0aGlnaGxpZ2h0OiBudWxsLFxuXHRcdGluOiBbXSxcblx0XHRpbmRleDogbnVsbCxcblx0XHRpblRhZzogbnVsbCxcblx0XHRrZXl3b3JkczogJycsXG5cdFx0bGFzdFVwZGF0ZWQ6IG51bGwsXG5cdFx0bWF4Q291bnQ6IG51bGwsXG5cdFx0b2NyOiB0cnVlLFxuXHRcdG9mZnNldDogMCxcblx0XHRyZWdpbWVudENvbm5lY3Rpb25zOiBbXSxcblx0XHRyZXRyaWV2ZVByaXZhdGVUYWdVc2VySWQ6IG51bGwsXG5cdFx0c29ydE9yZGVyOiBGM1F1ZXJ5LkRFRkFVTFRfU09SVF9PUkRFUixcblx0XHRzdHJpY3RNb2RlOiAnQUxMJyxcblx0XHR0YWdzOiBbXSxcblx0XHR0YXJnZXRUaHVtYkhlaWdodDogbnVsbCxcblx0XHR0YXJnZXRUaHVtYldpZHRoOiBudWxsLFxuXHRcdHRpbWVvdXQ6IG51bGwsXG5cdFx0d2l0aGluOiBbXSxcblx0fSk7XG5cblx0c3RhdGljIERFRkFVTFRfRkFDRVRfUkVRVUVTVDogRmFjZXRSZXF1ZXN0ID0gT2JqZWN0LmZyZWV6ZSh7XG5cdFx0bWF4Q291bnQ6IG51bGwsXG5cdFx0bW9kZTogJ05PTkUnLFxuXHRcdHBsYWNlTGV2ZWw6IG51bGwsXG5cdFx0cGxhY2VQYXJlbnRzOiBudWxsLFxuXHRcdHJlcXVpcmVkVmFsdWVzOiBudWxsLFxuXHRcdHR5cGU6IG51bGwsXG5cdFx0c29ydDogbnVsbCxcblx0fSk7XG5cblx0c3RhdGljIERFRkFVTFRfRklFTERFRF9LRVlXT1JEOiBLZXl3b3JkcyA9IE9iamVjdC5mcmVlemUoe1xuXHRcdGV4Y2x1ZGU6IGZhbHNlLFxuXHRcdHN0cmljdDogdHJ1ZSxcblx0XHR0ZXh0czogW10sXG5cdFx0dHlwZTogbnVsbCxcblx0fSk7XG5cblx0c3RhdGljIERFRkFVTFRfT0JKX1JFRjogT2JqUmVmV2l0aExhYmVsID0gT2JqZWN0LmZyZWV6ZSh7XG5cdFx0Y29udGVudFR5cGU6IG51bGwsXG5cdFx0b2JqZWN0SWQ6IG51bGwsXG5cdFx0bGFiZWw6ICcnLFxuXHR9KTtcblxuXHRzdGF0aWMgREVGQVVMVF9UQUdfUVVFUlk6IFRhZ1F1ZXJ5ID0gT2JqZWN0LmZyZWV6ZSh7XG5cdFx0ZXhjbHVkZTogZmFsc2UsXG5cdFx0bmFtZTogJycsXG5cdFx0cHJpdmF0ZVRhZ1VzZXJJZDogbnVsbCxcblx0fSk7XG5cblx0c3RhdGljIGNyZWF0ZURlZmF1bHRPYmpSZWYocmVmOiBQYXJ0aWFsPE9ialJlZldpdGhMYWJlbD4pIHtcblx0XHRyZXR1cm4geyAuLi5GM1F1ZXJ5LkRFRkFVTFRfT0JKX1JFRiwgLi4ucmVmIH07XG5cdH1cblxuXHRzdGF0aWMgY3JlYXRlRGVmYXVsdFF1ZXJ5KHF1ZXJ5OiBQYXJ0aWFsPERvY3VtZW50UXVlcnlXaXRoTGFiZWxzPikge1xuXHRcdHJldHVybiB7IC4uLkYzUXVlcnkuREVGQVVMVF9RVUVSWSwgLi4ucXVlcnkgfTtcblx0fVxuXG5cdHN0YXRpYyBjcmVhdGVEZWZhdWx0RmFjZXRSZXF1ZXN0KGZhY2V0UmVxdWVzdDogUGFydGlhbDxGYWNldFJlcXVlc3Q+KSB7XG5cdFx0cmV0dXJuIHsgLi4uRjNRdWVyeS5ERUZBVUxUX0ZBQ0VUX1JFUVVFU1QsIC4uLmZhY2V0UmVxdWVzdCB9O1xuXHR9XG5cblx0c3RhdGljIGNyZWF0ZURlZmF1bHRGaWx0ZXIoZmlsdGVyOiBQYXJ0aWFsPEZpbHRlcldpdGhMYWJlbD4pIHtcblx0XHRyZXR1cm4geyAuLi5GM1F1ZXJ5LkRFRkFVTFRfRklMVEVSLCAuLi5maWx0ZXIgfTtcblx0fVxuXG5cdHN0YXRpYyBjcmVhdGVEZWZhdWx0RmllbGRlZEtleXdvcmQoa2V5d29yZDogUGFydGlhbDxLZXl3b3Jkcz4pIHtcblx0XHRyZXR1cm4geyAuLi5GM1F1ZXJ5LkRFRkFVTFRfRklFTERFRF9LRVlXT1JELCAuLi5rZXl3b3JkIH07XG5cdH1cblxuXHRzdGF0aWMgY3JlYXRlRGVmYXVsdFRhZ1F1ZXJ5KHRhZ1F1ZXJ5OiBQYXJ0aWFsPFRhZ1F1ZXJ5Pikge1xuXHRcdHJldHVybiB7IC4uLkYzUXVlcnkuREVGQVVMVF9UQUdfUVVFUlksIC4uLnRhZ1F1ZXJ5IH07XG5cdH1cblxuXHRzdGF0aWMgY3JlYXRlQ29udGVudFR5cGVRdWVyeShjb250ZW50VHlwZTogQ29udGVudFR5cGUpIHtcblx0XHRjb25zdCBsYWJlbCA9IGdldENvbnRlbnRUeXBlTGFiZWwoY29udGVudFR5cGUpO1xuXHRcdGxldCBmM1F1ZXJ5ID0gbmV3IEYzUXVlcnkoKTtcblx0XHRmM1F1ZXJ5LkZpbHRlcnMuYWRkSXRlbSh7IHR5cGU6ICdnZW5lcmFsLnRpdGxlLmNvbnRlbnQuZG9jLXR5cGUnLCB2YWx1ZXM6IFt7IHZhbHVlOiBjb250ZW50VHlwZSwgbGFiZWwgfV0gfSk7XG5cdFx0cmV0dXJuIGYzUXVlcnk7XG5cdH1cblxuXHRzdGF0aWMgbGFzdFVwZGF0ZWRUb0RhdGUobGFzdFVwZGF0ZWQ6IFFVRVJZX0xBU1RfVVBEQVRFRCkge1xuXHRcdGxldCBkYXlzQWdvOiBudW1iZXI7XG5cblx0XHRzd2l0Y2ggKGxhc3RVcGRhdGVkKSB7XG5cdFx0XHRjYXNlICcxX01PTlRIJzogZGF5c0FnbyA9IDMwOyBicmVhaztcblx0XHRcdGNhc2UgJzNfTU9OVEhTJzogZGF5c0FnbyA9IDkwOyBicmVhaztcblx0XHRcdGNhc2UgJzZfTU9OVEhTJzogZGF5c0FnbyA9IDE4MDsgYnJlYWs7XG5cdFx0XHRjYXNlICcxX1lFQVInOiBkYXlzQWdvID0gMzY1OyBicmVhaztcblx0XHRcdGRlZmF1bHQ6IHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdGxldCBwYXN0RGF0ZSA9IG5ldyBEYXRlKCk7XG5cdFx0cGFzdERhdGUuc2V0RGF0ZShwYXN0RGF0ZS5nZXREYXRlKCkgLSBkYXlzQWdvKTtcblxuXHRcdHJldHVybiB0b0phdmFEYXRlKHBhc3REYXRlKTtcblx0fVxuXG5cdHN0YXRpYyBkYXRlVG9MYXN0VXBkYXRlZChfZGF0ZTogc3RyaW5nIHwgRGF0ZSk6IFFVRVJZX0xBU1RfVVBEQVRFRCB7XG5cdFx0bGV0IGRhdGUgPSBuZXcgRGF0ZShfZGF0ZSk7XG5cdFx0aWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkgcmV0dXJuIG51bGw7XG5cblx0XHRsZXQgZGF5c0FnbyA9IGdldERheXNBZ28oZGF0ZSk7XG5cblx0XHRpZiAoZGF5c0FnbyA+IDM2NSB8fCBkYXlzQWdvIDw9IDApIHJldHVybiBudWxsO1xuXHRcdGlmIChkYXlzQWdvID4gMTgwKSByZXR1cm4gJzFfWUVBUic7XG5cdFx0aWYgKGRheXNBZ28gPiA5MCkgcmV0dXJuICc2X01PTlRIUyc7XG5cdFx0aWYgKGRheXNBZ28gPiAzMCkgcmV0dXJuICczX01PTlRIUyc7XG5cdFx0aWYgKGRheXNBZ28gPiAwKSByZXR1cm4gJzFfTU9OVEgnO1xuXG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRzdGF0aWMgbGFzdFVwZGF0ZWRMYWJlbCh0eXBlOiBRVUVSWV9MQVNUX1VQREFURUQpIHtcblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgJzFfTU9OVEgnOiByZXR1cm4gJ1Bhc3QgTW9udGgnO1xuXHRcdFx0Y2FzZSAnM19NT05USFMnOiByZXR1cm4gJ1Bhc3QgMyBNb250aHMnO1xuXHRcdFx0Y2FzZSAnNl9NT05USFMnOiByZXR1cm4gJ1Bhc3QgNiBNb250aHMnO1xuXHRcdFx0Y2FzZSAnMV9ZRUFSJzogcmV0dXJuICdQYXN0IFllYXInO1xuXHRcdFx0ZGVmYXVsdDogcmV0dXJuICdBbnkgVGltZSc7XG5cdFx0fVxuXHR9XG5cblx0c3RhdGljIGdldEZhY2V0UmVxdWVzdHMoZmFjZXRUeXBlOiBGYWNldFR5cGUpOiBGYWNldFJlcXVlc3RbXSB7XG5cdFx0bGV0IHJlcXVlc3RzOiBGYWNldFJlcXVlc3RbXSA9IFtdO1xuXG5cdFx0aWYgKGZhY2V0VHlwZS5zdGFydHNXaXRoKCdkYXRlJykpIHJldHVybiByZXF1ZXN0cztcblx0XHRpZiAoTk9OX1RPS0VOX0ZBQ0VUUy5pbmNsdWRlcyhmYWNldFR5cGUpKSByZXR1cm4gcmVxdWVzdHM7XG5cblx0XHRsZXQgYmFzZUZhY2V0UmVxdWVzdCA9IHtcblx0XHRcdHR5cGU6IGZhY2V0VHlwZSxcblx0XHRcdG1vZGU6ICdOT05FJyxcblx0XHRcdG1heENvdW50OiBmYWNldFR5cGUgPT09ICdnZW5lcmFsLnRpdGxlLmlkJyA/IEYzUXVlcnkuUFVCX0ZBQ0VUX1JFUVVFU1RfU0laRSA6IEYzUXVlcnkuRkFDRVRfUkVRVUVTVF9TSVpFLFxuXHRcdH0gYXMgRmFjZXRSZXF1ZXN0O1xuXG5cdFx0aWYgKGZhY2V0VHlwZS5zdGFydHNXaXRoKCdwbGFjZScpKSB7XG5cdFx0XHRsZXQgY291bnRyeVJlcXVlc3Q6IEZhY2V0UmVxdWVzdCA9IHsgLi4uYmFzZUZhY2V0UmVxdWVzdCwgcGxhY2VMZXZlbDogJ0NPVU5UUlknIH07XG5cdFx0XHRsZXQgc3RhdGVSZXF1ZXN0OiBGYWNldFJlcXVlc3QgPSB7IC4uLmJhc2VGYWNldFJlcXVlc3QsIHBsYWNlTGV2ZWw6ICdTVEFURScsIHBsYWNlUGFyZW50czogW1VTQV9QTEFDRV9JRF0gfTtcblx0XHRcdHJlcXVlc3RzLnB1c2goY291bnRyeVJlcXVlc3QsIHN0YXRlUmVxdWVzdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlcXVlc3RzLnB1c2goYmFzZUZhY2V0UmVxdWVzdCk7XG5cdFx0fVxuXG5cdFx0Lypcblx0XHQgKiBsZXQgY2hpbGRUeXBlID0gZ2V0Q2hpbGRGYWNldFR5cGUoZmFjZXRUeXBlKTtcblx0XHQgKiBpZiAoY2hpbGRUeXBlKSB7XG5cdFx0ICogXHRyZXF1ZXN0cy5wdXNoKHsgLi4uYmFzZUZhY2V0UmVxdWVzdCwgdHlwZTogY2hpbGRUeXBlIH0pXG5cdFx0ICogfVxuXHRcdCAqL1xuXG5cdFx0cmV0dXJuIHJlcXVlc3RzO1xuXHR9XG5cblx0c3RhdGljIGZpZWxkZWRLZXl3b3JkUHJlZml4KGtleXdvcmQ6IHN0cmluZykge1xuXHRcdHJldHVybiBgJHtrZXl3b3JkLnJlcGxhY2UobmV3IFJlZ0V4cCgnLScsICdnJyksICcgJyl9KmA7XG5cdH1cblxuXHQvKlxuXHQgKiBzdGF0aWMgY29tcHJlc3NEb2N1bWVudFF1ZXJ5KHF1ZXJ5OiBEb2N1bWVudFF1ZXJ5V2l0aExhYmVscykge1xuXHQgKiBcdGlmIChxdWVyeS5pbikge1xuXHQgKiBcdFx0KHF1ZXJ5IGFzIGFueSkuaW4gPSBxdWVyeS5pbi5tYXAoaSA9PiBgJHtpLmNvbnRlbnRUeXBlfS8ke2kub2JqZWN0SWR9LyR7aS5sYWJlbH1gKVxuXHQgKiBcdH1cblx0ICovXG5cblx0Lypcblx0ICogXHRyZXR1cm4gcXVlcnk7XG5cdCAqIH1cblx0ICovXG5cblx0Lypcblx0ICogc3RhdGljIGRlY29tcHJlc3NEb2N1bWVudFF1ZXJ5KHF1ZXJ5OiBEb2N1bWVudFF1ZXJ5V2l0aExhYmVscykge1xuXHQgKiBcdGlmIChxdWVyeS5pbikge1xuXHQgKiBcdFx0cXVlcnkuaW4gPSBxdWVyeS5pbi5tYXAoaSA9PiB7XG5cdCAqIFx0XHRcdGxldCBbY29udGVudFR5cGUsIG9iamVjdElkLCBsYWJlbF0gPSAoaSBhcyBhbnkgYXMgc3RyaW5nKS5zcGxpdCgnLycpO1xuXHQgKiBcdFx0XHRyZXR1cm4geyBjb250ZW50VHlwZTogY29udGVudFR5cGUgYXMgQ29udGVudFR5cGUsIG9iamVjdElkLCBsYWJlbCB9O1xuXHQgKiBcdFx0fSlcblx0ICogXHR9XG5cdCAqL1xuXG5cdC8qXG5cdCAqIFx0cmV0dXJuIHF1ZXJ5O1xuXHQgKiB9XG5cdCAqL1xuXG5cdHN0YXRpYyBjbG9uZTxUPihxdWVyeTogVCk6IFQge1xuXHRcdHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHF1ZXJ5KSk7XG5cdH1cblxuXHRzdGF0aWMgYWRkTGFiZWxzVG9Eb2N1bWVudFF1ZXJ5KHF1ZXJ5OiBEb2N1bWVudFF1ZXJ5KTogRG9jdW1lbnRRdWVyeVdpdGhMYWJlbHMge1xuXHRcdHJldHVybiB7XG5cdFx0XHQuLi5xdWVyeSxcblx0XHRcdGZpbHRlcnM6IChxdWVyeS5maWx0ZXJzIHx8IFtdKS5tYXAoZmlsdGVyID0+IHtcblx0XHRcdFx0cmV0dXJuIHsgLi4uZmlsdGVyLCB2YWx1ZXM6IGZpbHRlci52YWx1ZXMubWFwKHZhbHVlID0+ICh7IHZhbHVlLCBsYWJlbDogJycgfSkpIH07XG5cdFx0XHR9KSxcblx0XHRcdHJlZ2ltZW50Q29ubmVjdGlvbnM6IChxdWVyeS5yZWdpbWVudENvbm5lY3Rpb25zIHx8IFtdKS5tYXAob2JqUmVmID0+IHtcblx0XHRcdFx0cmV0dXJuIHsgLi4ub2JqUmVmLCBsYWJlbDogJycgfTtcblx0XHRcdH0pLFxuXHRcdFx0Y29tbWFuZGVyQ29ubmVjdGlvbnM6IChxdWVyeS5jb21tYW5kZXJDb25uZWN0aW9ucyB8fCBbXSkubWFwKG9ialJlZiA9PiB7XG5cdFx0XHRcdHJldHVybiB7IC4uLm9ialJlZiwgbGFiZWw6ICcnIH07XG5cdFx0XHR9KSxcblx0XHRcdGluOiAocXVlcnkuaW4gfHwgW10pLm1hcChvYmpSZWYgPT4ge1xuXHRcdFx0XHRyZXR1cm4geyAuLi5vYmpSZWYsIGxhYmVsOiAnJyB9O1xuXHRcdFx0fSksXG5cdFx0XHRsYXN0VXBkYXRlZDogRjNRdWVyeS5kYXRlVG9MYXN0VXBkYXRlZChxdWVyeS5sYXN0VXBkYXRlZCksXG5cdFx0XHR3aXRoaW46IHF1ZXJ5LndpdGhpbiA/XG5cdFx0XHRcdHF1ZXJ5LndpdGhpbi5zcGxpdCgnLCcpLm1hcCh3aXRoaW5IYXNoID0+IHtcblx0XHRcdFx0XHRyZXR1cm4geyB2YWx1ZTogd2l0aGluSGFzaCwgbGFiZWw6ICcnIH07XG5cdFx0XHRcdH0pIDpcblx0XHRcdFx0W10sXG5cdFx0fTtcblx0fVxuXG5cdHN0YXRpYyBpdGVtVG9BcHBsaWVkUGFyYW1zKHBhcmFtVHlwZTogJ3dpdGhpbicsIGl0ZW06IFdpdGhpbldpdGhMYWJlbCk6IEFwcGxpZWRQYXJhbTtcblx0c3RhdGljIGl0ZW1Ub0FwcGxpZWRQYXJhbXMocGFyYW1UeXBlOiAnbGFzdFVwZGF0ZWQnLCBpdGVtOiBRVUVSWV9MQVNUX1VQREFURUQpOiBBcHBsaWVkUGFyYW1bXTtcblx0c3RhdGljIGl0ZW1Ub0FwcGxpZWRQYXJhbXMocGFyYW1UeXBlOiAnZmlsdGVycycsIGl0ZW06IEZpbHRlcldpdGhMYWJlbCk6IEFwcGxpZWRQYXJhbVtdO1xuXHRzdGF0aWMgaXRlbVRvQXBwbGllZFBhcmFtcyhwYXJhbVR5cGU6ICdmaWVsZGVkS2V5d29yZHMnLCBpdGVtOiBLZXl3b3Jkcyk6IEFwcGxpZWRQYXJhbVtdO1xuXHRzdGF0aWMgaXRlbVRvQXBwbGllZFBhcmFtcyhwYXJhbVR5cGU6ICdrZXl3b3JkcycsIGl0ZW06IHN0cmluZyk6IEFwcGxpZWRQYXJhbTtcblx0c3RhdGljIGl0ZW1Ub0FwcGxpZWRQYXJhbXMocGFyYW1UeXBlOiAncmVnaW1lbnRDb25uZWN0aW9ucycsIGl0ZW06IE9ialJlZldpdGhMYWJlbCk6IEFwcGxpZWRQYXJhbTtcblx0c3RhdGljIGl0ZW1Ub0FwcGxpZWRQYXJhbXMocGFyYW1UeXBlOiAnY29tbWFuZGVyQ29ubmVjdGlvbnMnLCBpdGVtOiBPYmpSZWZXaXRoTGFiZWwpOiBBcHBsaWVkUGFyYW07XG5cdHN0YXRpYyBpdGVtVG9BcHBsaWVkUGFyYW1zKHBhcmFtVHlwZTogJ3RhZ3MnLCBpdGVtOiBUYWdRdWVyeSk6IEFwcGxpZWRQYXJhbTtcblx0c3RhdGljIGl0ZW1Ub0FwcGxpZWRQYXJhbXMocGFyYW1UeXBlOiBBcHBsaWVkUGFyYW1UeXBlLCBpdGVtOiBzdHJpbmcgfCBLZXl3b3JkcyB8IEZpbHRlcldpdGhMYWJlbCB8IE9ialJlZldpdGhMYWJlbCB8IFRhZ1F1ZXJ5IHwgUVVFUllfTEFTVF9VUERBVEVEIHwgV2l0aGluV2l0aExhYmVsKTogQXBwbGllZFBhcmFtIHwgQXBwbGllZFBhcmFtW10ge1xuXHRcdHN3aXRjaCAocGFyYW1UeXBlKSB7XG5cdFx0XHRjYXNlICdmaWVsZGVkS2V5d29yZHMnOiB7XG5cdFx0XHRcdGNvbnN0IHsgZXhjbHVkZSwgdGV4dHMsIHR5cGUgfSA9IChpdGVtIGFzIEtleXdvcmRzKTtcblx0XHRcdFx0cmV0dXJuIHRleHRzLm1hcCh0ZXh0ID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gZmlsdGVyVW5kZWZpbmVkKHtcblx0XHRcdFx0XHRcdHBhcmFtVHlwZSxcblx0XHRcdFx0XHRcdHZhbHVlOiB0ZXh0LFxuXHRcdFx0XHRcdFx0ZXhjbHVkZSxcblx0XHRcdFx0XHRcdGZhY2V0VHlwZTogdHlwZSxcblx0XHRcdFx0XHRcdGxhYmVsOiB0ZXh0LFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdGNhc2UgJ2ZpbHRlcnMnOiB7XG5cdFx0XHRcdGNvbnN0IHsgZXhjbHVkZSwgdHlwZSwgdmFsdWVzLCBzdHJpY3QsIGZpbHRlclR5cGUgfSA9IChpdGVtIGFzIEZpbHRlcldpdGhMYWJlbCk7XG5cdFx0XHRcdHJldHVybiB2YWx1ZXMubWFwKCh7IHZhbHVlLCBsYWJlbCB9KSA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIGZpbHRlclVuZGVmaW5lZCh7XG5cdFx0XHRcdFx0XHRwYXJhbVR5cGUsXG5cdFx0XHRcdFx0XHR2YWx1ZSxcblx0XHRcdFx0XHRcdGxhYmVsLFxuXHRcdFx0XHRcdFx0ZXhjbHVkZSxcblx0XHRcdFx0XHRcdGZhY2V0VHlwZTogdHlwZSxcblx0XHRcdFx0XHRcdHN0cmljdCxcblx0XHRcdFx0XHRcdGZpbHRlclR5cGUsXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSAncmVnaW1lbnRDb25uZWN0aW9ucyc6XG5cdFx0XHRjYXNlICdjb21tYW5kZXJDb25uZWN0aW9ucyc6IHtcblx0XHRcdFx0Y29uc3QgeyBjb250ZW50VHlwZSwgb2JqZWN0SWQsIGxhYmVsIH0gPSAoaXRlbSBhcyBPYmpSZWZXaXRoTGFiZWwpO1xuXG5cdFx0XHRcdHJldHVybiBmaWx0ZXJVbmRlZmluZWQoe1xuXHRcdFx0XHRcdHBhcmFtVHlwZSxcblx0XHRcdFx0XHR2YWx1ZTogb2JqZWN0UmVmVG9TdHJpbmcoeyBjb250ZW50VHlwZSwgb2JqZWN0SWQgfSksXG5cdFx0XHRcdFx0bGFiZWwsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSAna2V5d29yZHMnOiB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0cGFyYW1UeXBlLFxuXHRcdFx0XHRcdHZhbHVlOiBpdGVtIGFzIHN0cmluZyxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGNhc2UgJ3RhZ3MnOiB7XG5cdFx0XHRcdGNvbnN0IHsgZXhjbHVkZSwgbmFtZSwgcHJpdmF0ZVRhZ1VzZXJJZCB9ID0gKGl0ZW0gYXMgVGFnUXVlcnkpO1xuXHRcdFx0XHRsZXQgdmFsdWUgPSBuYW1lO1xuXHRcdFx0XHRpZiAocHJpdmF0ZVRhZ1VzZXJJZCkgdmFsdWUgKz0gYDoke3ByaXZhdGVUYWdVc2VySWR9YDtcblxuXHRcdFx0XHRyZXR1cm4gZmlsdGVyVW5kZWZpbmVkKHtcblx0XHRcdFx0XHRwYXJhbVR5cGUsXG5cdFx0XHRcdFx0ZXhjbHVkZSxcblx0XHRcdFx0XHR2YWx1ZSxcblx0XHRcdFx0XHRsYWJlbDogY2FwaXRhbGl6ZUZpcnN0KG5hbWUpLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdGNhc2UgJ2xhc3RVcGRhdGVkJzoge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHBhcmFtVHlwZTogJ2xhc3RVcGRhdGVkJyxcblx0XHRcdFx0XHR2YWx1ZTogaXRlbSBhcyBRVUVSWV9MQVNUX1VQREFURUQsXG5cdFx0XHRcdFx0bGFiZWw6IEYzUXVlcnkubGFzdFVwZGF0ZWRMYWJlbChpdGVtIGFzIFFVRVJZX0xBU1RfVVBEQVRFRCksXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0XHRjYXNlICd3aXRoaW4nOiB7XG5cdFx0XHRcdGNvbnN0IHsgdmFsdWUsIGxhYmVsIH0gPSBpdGVtIGFzIFdpdGhpbldpdGhMYWJlbDtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRwYXJhbVR5cGU6ICd3aXRoaW4nLFxuXHRcdFx0XHRcdHZhbHVlLFxuXHRcdFx0XHRcdGxhYmVsLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGAke3BhcmFtVHlwZX0gaXMgYW4gdW5zdXBwb3J0ZWQgdHlwZWApO1xuXHRcdH1cblx0fVxuXG5cdHN0YXRpYyBhcHBsaWVkUGFyYW1Ub0l0ZW0ocGFyYW06IEFwcGxpZWRQYXJhbSk6IEFwcGxpZWRQYXJhbUl0ZW1SZXR1cm4ge1xuXHRcdGxldCBpdGVtOiBhbnk7XG5cblx0XHRzd2l0Y2ggKHBhcmFtLnBhcmFtVHlwZSkge1xuXHRcdFx0Y2FzZSAna2V5d29yZHMnOlxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGl0ZW06IHBhcmFtLnZhbHVlLFxuXHRcdFx0XHRcdHR5cGU6ICdrZXl3b3JkcycsXG5cdFx0XHRcdH07XG5cdFx0XHRjYXNlICdmaWx0ZXJzJzpcblx0XHRcdFx0aXRlbSA9IHtcblx0XHRcdFx0XHR0eXBlOiBwYXJhbS5mYWNldFR5cGUsXG5cdFx0XHRcdFx0dmFsdWVzOiBbZmlsdGVyVW5kZWZpbmVkKHsgdmFsdWU6IHBhcmFtLnZhbHVlLCBsYWJlbDogcGFyYW0ubGFiZWwgfSldLFxuXHRcdFx0XHRcdGV4Y2x1ZGU6IHBhcmFtLmV4Y2x1ZGUsXG5cdFx0XHRcdFx0c3RyaWN0OiBwYXJhbS5zdHJpY3QsXG5cdFx0XHRcdFx0ZmlsdGVyVHlwZTogcGFyYW0uZmlsdGVyVHlwZSxcblx0XHRcdFx0fSBhcyBGaWx0ZXJXaXRoTGFiZWw7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnZmllbGRlZEtleXdvcmRzJzpcblx0XHRcdFx0aXRlbSA9IHtcblx0XHRcdFx0XHR0eXBlOiBwYXJhbS5mYWNldFR5cGUsXG5cdFx0XHRcdFx0dGV4dHM6IFtwYXJhbS52YWx1ZV0sXG5cdFx0XHRcdFx0ZXhjbHVkZTogcGFyYW0uZXhjbHVkZSxcblx0XHRcdFx0fSBhcyBLZXl3b3Jkcztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdyZWdpbWVudENvbm5lY3Rpb25zJzpcblx0XHRcdGNhc2UgJ2NvbW1hbmRlckNvbm5lY3Rpb25zJzpcblx0XHRcdFx0aXRlbSA9IHtcblx0XHRcdFx0XHQuLi5yZWZTdHJpbmdUb09iamVjdFJlZihwYXJhbS52YWx1ZSBhcyBzdHJpbmcpLFxuXHRcdFx0XHRcdGxhYmVsOiBwYXJhbS5sYWJlbCxcblx0XHRcdFx0fSBhcyBPYmpSZWZXaXRoTGFiZWw7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAndGFncyc6IHtcblx0XHRcdFx0bGV0IFtuYW1lLCBwcml2YXRlVGFnVXNlcklkXSA9IChwYXJhbS52YWx1ZSBhcyBzdHJpbmcpLnNwbGl0KCc6Jyk7XG5cdFx0XHRcdGl0ZW0gPSB7XG5cdFx0XHRcdFx0bmFtZSxcblx0XHRcdFx0XHRwcml2YXRlVGFnVXNlcklkOiBwcml2YXRlVGFnVXNlcklkID8gK3ByaXZhdGVUYWdVc2VySWQgOiBudWxsLFxuXHRcdFx0XHRcdGV4Y2x1ZGU6IHBhcmFtLmV4Y2x1ZGUsXG5cdFx0XHRcdH0gYXMgVGFnUXVlcnk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSAnbGFzdFVwZGF0ZWQnOlxuXHRcdFx0XHRpdGVtID0gcGFyYW0udmFsdWU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnd2l0aGluJzpcblx0XHRcdFx0aXRlbSA9IHtcblx0XHRcdFx0XHR2YWx1ZTogcGFyYW0udmFsdWUsXG5cdFx0XHRcdFx0bGFiZWw6IHBhcmFtLmxhYmVsLFxuXHRcdFx0XHR9IGFzIFdpdGhpbldpdGhMYWJlbDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYCR7cGFyYW0ucGFyYW1UeXBlfSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlYCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHR5cGU6IHBhcmFtLnBhcmFtVHlwZSxcblx0XHRcdGl0ZW06IGZpbHRlclVuZGVmaW5lZChpdGVtKSxcblx0XHR9O1xuXHR9XG5cblx0c3RhdGljIHN1Z2dlc3Rpb25Ub0FwcGxpZWRQYXJhbShzdWdnZXN0aW9uOiBTdWdnZXN0aW9uLCBpbnB1dDogc3RyaW5nLCBmYWNldFR5cGU6IEZhY2V0VHlwZSwgbG9jYWxlOiBzdHJpbmcpOiBBcHBsaWVkUGFyYW0ge1xuXHRcdGxldCBhcHBsaWVkUGFyYW06IEFwcGxpZWRQYXJhbTtcblxuXHRcdGlmIChzdWdnZXN0aW9uKSB7XG5cdFx0XHRpZiAoc3VnZ2VzdGlvbi5mYWNldFR5cGUgYXMgc3RyaW5nID09ICdLZXl3b3JkcycpIHtcblx0XHRcdFx0YXBwbGllZFBhcmFtID0ge1xuXHRcdFx0XHRcdHBhcmFtVHlwZTogJ2tleXdvcmRzJyxcblx0XHRcdFx0XHR2YWx1ZTogaW5wdXQsXG5cdFx0XHRcdH07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsZXQgdmFsdWVTdWdnZXN0aW9uID0gc3VnZ2VzdGlvbiBhcyBWYWx1ZVN1Z2dlc3Rpb247XG5cdFx0XHRcdGxldCBmYWNldCA9IHZhbHVlU3VnZ2VzdGlvbi5mYWNldDtcblx0XHRcdFx0bGV0IHR5cGU6IEFwcGxpZWRQYXJhbVR5cGUgPSBzdWdnZXN0aW9uLnNvdXJjZSA9PT0gJ2dlbmVyYXRlZCcgP1xuXHRcdFx0XHRcdHN1Z2dlc3Rpb24uZmFjZXRUeXBlLnN0YXJ0c1dpdGgoJ2RhdGUnKSA/ICdmaWx0ZXJzJyA6ICdmaWVsZGVkS2V5d29yZHMnIDpcblx0XHRcdFx0XHQnZmlsdGVycyc7XG5cblx0XHRcdFx0YXBwbGllZFBhcmFtID0ge1xuXHRcdFx0XHRcdGxhYmVsOiBzdWdnZXN0aW9uLmxhYmVsIHx8IGdldEZhY2V0TGFiZWwoc3VnZ2VzdGlvbi5mYWNldFR5cGUpLFxuXHRcdFx0XHRcdGZhY2V0VHlwZTogc3VnZ2VzdGlvbi5mYWNldFR5cGUsXG5cdFx0XHRcdFx0cGFyYW1UeXBlOiB0eXBlLFxuXHRcdFx0XHRcdHZhbHVlOiBmYWNldC52YWx1ZSxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCFmYWNldFR5cGUgfHwgZmFjZXRUeXBlIGFzIHN0cmluZyA9PSAnS2V5d29yZHMnKSB7XG5cdFx0XHRcdGFwcGxpZWRQYXJhbSA9IHtcblx0XHRcdFx0XHRwYXJhbVR5cGU6ICdrZXl3b3JkcycsXG5cdFx0XHRcdFx0dmFsdWU6IGlucHV0LFxuXHRcdFx0XHR9O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bGV0IHR5cGU6IEFwcGxpZWRQYXJhbVR5cGU7XG5cdFx0XHRcdGxldCBsYWJlbDtcblxuXHRcdFx0XHRpZiAoZmFjZXRUeXBlLnN0YXJ0c1dpdGgoJ2RhdGUnKSkge1xuXHRcdFx0XHRcdHR5cGUgPSAnZmlsdGVycyc7XG5cblx0XHRcdFx0XHRjb25zdCBkYXRlU3RyID0gZ2V0TG9jYWxlRGF0ZVN0cihpbnB1dCwgbG9jYWxlKTtcblx0XHRcdFx0XHRpZiAoIWRhdGVTdHIpIHJldHVybiBudWxsO1xuXG5cdFx0XHRcdFx0bGFiZWwgPSBnZXRMb2NhbGVEYXRlU3RyKGlucHV0LCAnZW4tVVMnKTtcblx0XHRcdFx0XHRpbnB1dCA9IGRhdGVTdHI7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bGV0IGZhY2V0RGVmID0gZ2V0RmFjZXRUeXBlKGZhY2V0VHlwZSk7XG5cdFx0XHRcdFx0aWYgKGZhY2V0RGVmLmFuYWx5emVkKSB7XG5cdFx0XHRcdFx0XHR0eXBlID0gJ2ZpZWxkZWRLZXl3b3Jkcyc7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFwcGxpZWRQYXJhbSA9IHtcblx0XHRcdFx0XHRwYXJhbVR5cGU6IHR5cGUsXG5cdFx0XHRcdFx0ZmFjZXRUeXBlLFxuXHRcdFx0XHRcdHZhbHVlOiBpbnB1dCxcblx0XHRcdFx0XHRsYWJlbCxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gYXBwbGllZFBhcmFtO1xuXHR9XG5cblx0c3RhdGljIGRpZmZBcHBsaWVkUGFyYW1zKG5ld1F1ZXJ5OiBGM1F1ZXJ5LCBvbGRRdWVyeTogRjNRdWVyeSk6IEYzUXVlcnlEaWZmIHtcblx0XHRsZXQgb2xkUXVlcnlBcHBsaWVkUGFyYW1zID0gb2xkUXVlcnkudG9BcHBsaWVkUGFyYW1zKCk7XG5cdFx0bGV0IG5ld1F1ZXJ5QXBwbGllZFBhcmFtcyA9IG5ld1F1ZXJ5LnRvQXBwbGllZFBhcmFtcygpO1xuXG5cdFx0bGV0IGNoYW5nZWQ6IEYzUXVlcnlEaWZmID0ge1xuXHRcdFx0YWRkZWQ6IG9sZFF1ZXJ5QXBwbGllZFBhcmFtcy5maWx0ZXIocGFyYW0gPT4gIW5ld1F1ZXJ5Lmhhc1BhcmFtKHBhcmFtKSksXG5cdFx0XHRyZW1vdmVkOiBuZXdRdWVyeUFwcGxpZWRQYXJhbXMuZmlsdGVyKHBhcmFtID0+ICFvbGRRdWVyeS5oYXNQYXJhbShwYXJhbSkpLFxuXHRcdFx0bW9kaWZpZWQ6IHt9LFxuXHRcdH07XG5cblx0XHRmb3IgKGxldCBfa2V5IG9mIEtFWVNfVE9fRElGRikge1xuXHRcdFx0bGV0IGtleToga2V5b2YgRG9jdW1lbnRRdWVyeSA9IF9rZXk7XG5cdFx0XHRpZiAoIWRlZXBDb21wYXJlKG9sZFF1ZXJ5LnF1ZXJ5W2tleV0sIG5ld1F1ZXJ5LnF1ZXJ5W2tleV0pKSB7XG5cdFx0XHRcdChjaGFuZ2VkLm1vZGlmaWVkIGFzIGFueSlba2V5XSA9IG5ld1F1ZXJ5LnF1ZXJ5W2tleV07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNoYW5nZWQ7XG5cdH1cblxuXHRzdGF0aWMgaXNPbGRRdWVyeVVybChxdWVyeVN0cjogc3RyaW5nKSB7XG5cdFx0bGV0IHsgZG9jUXVlcnksIC4uLnJlc3QgfSA9IHBhcnNlUXVlcnlTdHJpbmcocXVlcnlTdHIpO1xuXG5cdFx0Y29uc3Qgb2xkS2V5cyA9IFsna2V5d29yZHMnLCAnb2NyJywgJ3N0cmljdCcsICdsYXN0VXBkYXRlZCcsICdvZmZzZXQnLCAnc29ydCcsICd3aXRoaW4nLCAnaW5kZXgnLCAndGFncycsICd0YWcnLCAncmVnaW1lbnRDb25uZWN0aW9ucycsICdjb21tYW5kZXJDb25uZWN0aW9ucyddO1xuXHRcdHJldHVybiBPYmplY3Qua2V5cyhyZXN0KS5zb21lKGtleSA9PiB7XG5cdFx0XHRpZiAoa2V5LnN0YXJ0c1dpdGgoJ34nKSkgcmV0dXJuIHRydWU7XG5cdFx0XHRpZiAoaXNGYWNldFR5cGUoa2V5KSkgcmV0dXJuIHRydWU7XG5cdFx0XHRyZXR1cm4gb2xkS2V5cy5pbmNsdWRlcyhrZXkpO1xuXHRcdH0pO1xuXHR9XG5cblx0c3RhdGljIHNlYXJjaFBhcmFtVG9BcHBsaWVkUGFyYW1zKHNlYXJjaFBhcmFtOiBTZWFyY2hQYXJhbU9iaik6IEFwcGxpZWRQYXJhbVtdIHtcblx0XHRsZXQgcGFyYW1UeXBlOiBBcHBsaWVkUGFyYW1UeXBlO1xuXG5cdFx0c3dpdGNoIChzZWFyY2hQYXJhbS50eXBlKSB7XG5cdFx0XHRjYXNlICdkYXRlJzpcblx0XHRcdGNhc2UgJ2ZhY2V0Jzpcblx0XHRcdFx0cGFyYW1UeXBlID0gJ2ZpbHRlcnMnO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2ZpZWxkZWRLZXl3b3JkJzpcblx0XHRcdFx0cGFyYW1UeXBlID0gJ2ZpZWxkZWRLZXl3b3Jkcyc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAna2V5d29yZCc6XG5cdFx0XHRcdHBhcmFtVHlwZSA9ICdrZXl3b3Jkcyc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnbGFzdFVwZGF0ZWQnOlxuXHRcdFx0Y2FzZSAndGFncyc6XG5cdFx0XHRjYXNlICd3aXRoaW4nOlxuXHRcdFx0XHRwYXJhbVR5cGUgPSBzZWFyY2hQYXJhbS50eXBlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3JlZ2ltZW50UmVmJzpcblx0XHRcdFx0cGFyYW1UeXBlID0gJ3JlZ2ltZW50Q29ubmVjdGlvbnMnO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRyZXR1cm4gc2VhcmNoUGFyYW0udmFsdWVzLm1hcChfdmFsdWUgPT4ge1xuXHRcdFx0bGV0IHsgdmFsdWUsIGxhYmVsIH0gPSBfdmFsdWU7XG5cblx0XHRcdGlmIChwYXJhbVR5cGUgPT09ICdsYXN0VXBkYXRlZCcpIHtcblx0XHRcdFx0bGFiZWwgPSBudWxsO1xuXHRcdFx0XHR2YWx1ZSA9IEYzUXVlcnkuZGF0ZVRvTGFzdFVwZGF0ZWQodmFsdWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRwYXJhbVR5cGUsXG5cdFx0XHRcdHZhbHVlLFxuXHRcdFx0XHRsYWJlbCxcblx0XHRcdFx0ZXhjbHVkZTogc2VhcmNoUGFyYW0uZXhjbHVkZSxcblx0XHRcdFx0ZmFjZXRUeXBlOiBzZWFyY2hQYXJhbS5mYWNldFR5cGUsXG5cdFx0XHR9O1xuXHRcdH0pO1xuXHR9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///93150\n")},51057:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OP: () => (/* binding */ getRuntime),\n/* harmony export */   db: () => (/* binding */ isNodeRuntime),\n/* harmony export */   wK: () => (/* binding */ isBrowserRuntime)\n/* harmony export */ });\nfunction getRuntime() {\n    return typeof window === 'object' ? 'BROWSER' : 'NODE';\n}\nfunction isBrowserRuntime() {\n    return getRuntime() === 'BROWSER';\n}\nfunction isNodeRuntime() {\n    return getRuntime() === 'NODE';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTEwNTcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2dldFJ1bnRpbWUudHM/YTJhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIFJ1bnRpbWUgPSAnQlJPV1NFUicgfCAnTk9ERSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSdW50aW1lKCk6IFJ1bnRpbWUge1xuXHRyZXR1cm4gdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgPyAnQlJPV1NFUicgOiAnTk9ERSc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Jyb3dzZXJSdW50aW1lKCkge1xuXHRyZXR1cm4gZ2V0UnVudGltZSgpID09PSAnQlJPV1NFUic7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc05vZGVSdW50aW1lKCkge1xuXHRyZXR1cm4gZ2V0UnVudGltZSgpID09PSAnTk9ERSc7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///51057\n")},74174:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ getUrlParts),\n/* harmony export */   G: () => (/* binding */ getUrl)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(70655);\n/* harmony import */ var _getRuntime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(51057);\n\n\nvar getUrl = function (req) {\n    if ((0,_getRuntime__WEBPACK_IMPORTED_MODULE_0__/* .isNodeRuntime */ .db)() && !req) {\n        throw new Error(\"request must be passed when getting url on server.\");\n    }\n    try {\n        switch ((0,_getRuntime__WEBPACK_IMPORTED_MODULE_0__/* .getRuntime */ .OP)()) {\n            case 'NODE':\n                // const protocol = req.protocol;\n                var host = req.get('host');\n                var pathAndQuery = req.originalUrl;\n                /* Don't add internal port number on non-local environments */\n                if (!host.includes('local')) {\n                    host = host.replace(/:(\\d+)$/, '');\n                }\n                return new URL(\"https://\".concat(host).concat(pathAndQuery));\n            case 'BROWSER':\n                return new URL(window.location.href);\n        }\n    }\n    catch (e) {\n        console.error(e);\n        return null;\n    }\n};\nvar getUrlParts = function (url) {\n    var _a, _b, _c, _d;\n    var _e;\n    /*\n     *For the url https://www.fold3.com/image/123, the following would be generated\n     *origin - https://www.fold3.com\n     *host - www.fold3.com\n     *subdomain - www\n     *secondLevelDomain - fold3.com\n     *originBase - fold3\n     *path - /image/123\n     */\n    var protocol, host, hostname, origin, path, search, subdomain, originBase, site, port;\n    try {\n        var parsedUrl = new URL(url);\n        (protocol = parsedUrl.protocol, host = parsedUrl.host, hostname = parsedUrl.hostname, origin = parsedUrl.origin, path = parsedUrl.pathname, search = parsedUrl.search, port = parsedUrl.port);\n        var _ = void 0, debug = void 0;\n        _a = (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__read */ .CR)((_e = hostname.match(/(?:(debug)\\.)?(?:(\\w+)\\.)?((\\w+)\\.\\w+)$/)) !== null && _e !== void 0 ? _e : [], 5), _ = _a[0], debug = _a[1], _b = _a[2], subdomain = _b === void 0 ? '' : _b, _c = _a[3], originBase = _c === void 0 ? '' : _c, _d = _a[4], site = _d === void 0 ? '' : _d;\n    }\n    catch (e) { }\n    // pulling out the debug subdomain so we can debug dev and stage without it interfering\n    return { protocol: protocol, origin: origin, host: host, subdomain: subdomain, originBase: originBase, site: site, path: path, search: search, port: port };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQxNzQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUNBOzs7Ozs7OztBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvZ2V0VXJsLnRzP2FiNzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRjNSZXF1ZXN0IH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IGdldFJ1bnRpbWUsIGlzTm9kZVJ1bnRpbWUgfSBmcm9tICcuL2dldFJ1bnRpbWUnO1xuXG5leHBvcnQgY29uc3QgZ2V0VXJsID0gKHJlcT86IEYzUmVxdWVzdCk6IFVSTCA9PiB7XG5cdGlmIChpc05vZGVSdW50aW1lKCkgJiYgIXJlcSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihgcmVxdWVzdCBtdXN0IGJlIHBhc3NlZCB3aGVuIGdldHRpbmcgdXJsIG9uIHNlcnZlci5gKTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0c3dpdGNoIChnZXRSdW50aW1lKCkpIHtcblx0XHRcdGNhc2UgJ05PREUnOlxuXHRcdFx0XHQvLyBjb25zdCBwcm90b2NvbCA9IHJlcS5wcm90b2NvbDtcblx0XHRcdFx0bGV0IGhvc3QgPSByZXEuZ2V0KCdob3N0Jyk7XG5cdFx0XHRcdGNvbnN0IHBhdGhBbmRRdWVyeSA9IHJlcS5vcmlnaW5hbFVybDtcblxuXHRcdFx0XHQvKiBEb24ndCBhZGQgaW50ZXJuYWwgcG9ydCBudW1iZXIgb24gbm9uLWxvY2FsIGVudmlyb25tZW50cyAqL1xuXHRcdFx0XHRpZiAoIWhvc3QuaW5jbHVkZXMoJ2xvY2FsJykpIHtcblx0XHRcdFx0XHRob3N0ID0gaG9zdC5yZXBsYWNlKC86KFxcZCspJC8sICcnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBuZXcgVVJMKGBodHRwczovLyR7aG9zdH0ke3BhdGhBbmRRdWVyeX1gKTtcblx0XHRcdGNhc2UgJ0JST1dTRVInOlxuXHRcdFx0XHRyZXR1cm4gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cdFx0fVxuXHR9IGNhdGNoKGUpIHtcblx0XHRjb25zb2xlLmVycm9yKGUpO1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VXJsUGFydHMgPSAodXJsOiBzdHJpbmcpID0+IHtcblx0Lypcblx0ICpGb3IgdGhlIHVybCBodHRwczovL3d3dy5mb2xkMy5jb20vaW1hZ2UvMTIzLCB0aGUgZm9sbG93aW5nIHdvdWxkIGJlIGdlbmVyYXRlZFxuXHQgKm9yaWdpbiAtIGh0dHBzOi8vd3d3LmZvbGQzLmNvbVxuXHQgKmhvc3QgLSB3d3cuZm9sZDMuY29tXG5cdCAqc3ViZG9tYWluIC0gd3d3XG5cdCAqc2Vjb25kTGV2ZWxEb21haW4gLSBmb2xkMy5jb21cblx0ICpvcmlnaW5CYXNlIC0gZm9sZDNcblx0ICpwYXRoIC0gL2ltYWdlLzEyM1xuXHQgKi9cblx0bGV0IHByb3RvY29sLCBob3N0LCBob3N0bmFtZSwgb3JpZ2luLCBwYXRoLCBzZWFyY2gsIHN1YmRvbWFpbiwgb3JpZ2luQmFzZSwgc2l0ZSwgcG9ydDtcblx0dHJ5IHtcblx0XHRsZXQgcGFyc2VkVXJsID0gbmV3IFVSTCh1cmwpO1xuXHRcdCh7IHByb3RvY29sLCBob3N0LCBob3N0bmFtZSwgb3JpZ2luLCBwYXRobmFtZTogcGF0aCwgc2VhcmNoLCBwb3J0IH0gPSBwYXJzZWRVcmwpO1xuXHRcdGxldCBfLCBkZWJ1Zztcblx0XHRbXywgZGVidWcsIHN1YmRvbWFpbiA9ICcnLCBvcmlnaW5CYXNlID0gJycsIHNpdGUgPSAnJ10gPSBob3N0bmFtZS5tYXRjaCgvKD86KGRlYnVnKVxcLik/KD86KFxcdyspXFwuKT8oKFxcdyspXFwuXFx3KykkLykgPz8gW107XG5cdH0gY2F0Y2goZSkge31cblxuXHQvLyBwdWxsaW5nIG91dCB0aGUgZGVidWcgc3ViZG9tYWluIHNvIHdlIGNhbiBkZWJ1ZyBkZXYgYW5kIHN0YWdlIHdpdGhvdXQgaXQgaW50ZXJmZXJpbmdcblxuXHRyZXR1cm4geyBwcm90b2NvbCwgb3JpZ2luLCBob3N0LCBzdWJkb21haW4sIG9yaWdpbkJhc2UsIHNpdGUsIHBhdGgsIHNlYXJjaCwgcG9ydCB9O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///74174\n")},32558:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ denyEvent),\n/* harmony export */   AB: () => (/* binding */ pushEvent),\n/* harmony export */   MO: () => (/* binding */ staEvent),\n/* harmony export */   R1: () => (/* binding */ contentEvent),\n/* harmony export */   jg: () => (/* binding */ authEvent),\n/* harmony export */   pN: () => (/* binding */ contentTypeEvent),\n/* harmony export */   sI: () => (/* binding */ navbarEvent),\n/* harmony export */   vm: () => (/* binding */ shareEvent)\n/* harmony export */ });\n/* unused harmony exports purchaseEvent, cancelEvent, registerEvent */\n/* harmony import */ var _enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(30915);\n/* harmony import */ var _mapUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(64528);\n\n\n\n\nvar staEvent = function (document, publication) {\n    var gtmEvent = populateContent(document, _enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_0__/* .Event */ .ju.SAVE_TO_ANCESTRY, _enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_0__/* .Action */ .aU.ANCESTRY, publication);\n    return gtmEvent;\n};\nvar purchaseEvent = function (invoice, renewalOffer, domain, result, reason) {\n    if (!invoice) {\n        return null;\n    }\n    return {\n        event: Event.PURCHASE,\n        ecommerce: {\n            currency: renewalOffer === null || renewalOffer === void 0 ? void 0 : renewalOffer.currency,\n            value: invoice === null || invoice === void 0 ? void 0 : invoice.amount,\n            transaction_id: invoice === null || invoice === void 0 ? void 0 : invoice.invoiceId,\n            items: [purchaseItem(invoice, domain)],\n        },\n        result: result,\n        reason: reason,\n    };\n};\nvar purchaseItem = function (invoice, domain) {\n    var _a;\n    return {\n        item_name: (invoice === null || invoice === void 0 ? void 0 : invoice.item) === 'FREE_TRIAL' ? 'Free Trial' : 'Premium Membership',\n        item_id: invoice === null || invoice === void 0 ? void 0 : invoice.item,\n        price: invoice === null || invoice === void 0 ? void 0 : invoice.amount,\n        item_brand: domain,\n        item_category: getInvoiceOfferType(invoice),\n        item_category2: (_a = invoice === null || invoice === void 0 ? void 0 : invoice.subscription) === null || _a === void 0 ? void 0 : _a.duration,\n        item_category3: invoice === null || invoice === void 0 ? void 0 : invoice.iid,\n        quantity: '1',\n    };\n};\nvar cancelEvent = function (invoice, result, reason) {\n    var subscription = invoice.subscription;\n    return {\n        event: Event.CANCEL_SUBSCRIPTION,\n        subscription_type: getSubscriptionType(subscription),\n        subcription_duration: subscription === null || subscription === void 0 ? void 0 : subscription.duration,\n        result: result,\n        reason: reason,\n    };\n};\nfunction contentTypeEvent(contentType, action, result, reason) {\n    if (result === void 0) { result = _enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_0__/* .Result */ .x4.SUCCESS; }\n    return {\n        event: _enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_0__/* .Event */ .ju.RECORD,\n        action: action,\n        record_type: contentType,\n        result: result,\n        reason: reason,\n    };\n}\nvar contentEvent = function (document, publication, action, result, reason) {\n    var gtmEvent = populateContent(document, _enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_0__/* .Event */ .ju.RECORD, action, publication);\n    populateResults(gtmEvent, result, reason);\n    return gtmEvent;\n};\nvar populateContent = function (document, event, action, publication) {\n    return {\n        event: event,\n        action: action,\n        record_type: document.metadata.id.contentType,\n        title_name: (publication === null || publication === void 0 ? void 0 : publication.title) || (publication === null || publication === void 0 ? void 0 : publication.shortTitle),\n        result: undefined,\n        reason: undefined,\n    };\n};\nvar populateResults = function (gtmEvent, result, reason) {\n    gtmEvent.result = result;\n    gtmEvent.reason = reason;\n};\nvar authEvent = function (type, result, reason) {\n    var authMap = {\n        f3: _enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_0__/* .Action */ .aU.USERNAME_PASSWORD,\n        anc: _enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_0__/* .Action */ .aU.ANCESTRY,\n    };\n    var action = authMap[type];\n    return {\n        event: _enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_0__/* .Event */ .ju.LOGIN,\n        action: action,\n        result: result,\n        reason: reason,\n    };\n};\nvar registerEvent = function (type, result, reason) {\n    var regMap = {\n        fold3: Action.USERNAME_PASSWORD,\n        ancestry: Action.ANCESTRY,\n    };\n    var action = regMap[type];\n    return {\n        event: Event.REGISTRATION,\n        action: action,\n        result: result,\n        reason: reason,\n    };\n};\nvar shareEvent = function (ref, action) {\n    var objectId = ref.objectId, contentType = ref.contentType;\n    return {\n        event: _enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_0__/* .Event */ .ju.SHARE,\n        action: action,\n        record_type: contentType,\n    };\n};\nvar denyEvent = function (action, requirement, contentType, publication) {\n    var gtmEvent = contentTypeEvent(contentType, action);\n    populateResults(gtmEvent, _enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_0__/* .Result */ .x4.DENY, requirement);\n    if (publication) {\n        gtmEvent.title_name = publication.title ? publication.title : publication.shortTitle;\n    }\n    return gtmEvent;\n};\nvar navbarEvent = function (link) {\n    return { event: _enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_0__/* .Event */ .ju.NAVBAR, action: _enums_gtmEvent_enum__WEBPACK_IMPORTED_MODULE_0__/* .Action */ .aU.LINK, link: link };\n};\n/**\n * Favor use of useDataLayer hook.\n */\nvar pushEvent = function (event) {\n    if (event) {\n        try {\n            dataLayer.push((0,_mapUtil__WEBPACK_IMPORTED_MODULE_2__/* .filterUndefined */ .YU)(event));\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI1NTguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9nb29nbGVBbmFseXRpY3NFdmVudHMudHM/NjZiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wYWN0UHVibGljYXRpb24gfSBmcm9tICcuLi9hcGlzL3B1YmxpY2F0aW9uQXBpJztcbmltcG9ydCB7IENvbnRlbnRUeXBlLCBEb21haW4sIEludm9pY2UsIE9iamVjdFJlZmVyZW5jZSwgT2ZmZXIsIFB1YmxpY2F0aW9uLCBXcmFwcGVkQ29udGVudERvY3VtZW50IH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgT2JqIH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IEFjdGlvbiwgRXZlbnQsIFJlc3VsdCB9IGZyb20gJy4uL2VudW1zL2d0bUV2ZW50LmVudW0nO1xuaW1wb3J0IHsgZmlsdGVyVW5kZWZpbmVkIH0gZnJvbSAnLi9tYXBVdGlsJztcbmltcG9ydCB7IGdldEludm9pY2VPZmZlclR5cGUgfSBmcm9tICcuL29mZmVycyc7XG5pbXBvcnQgeyBnZXRTdWJzY3JpcHRpb25UeXBlIH0gZnJvbSAnLi9zdWJzY3JpcHRpb25IZWxwZXJzJztcblxuZXhwb3J0IGludGVyZmFjZSBEYXRhTGF5ZXJPYmoge1xuXHRldmVudDogc3RyaW5nO1xuXHRba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgT2JqO1xufVxuXG5kZWNsYXJlIGNvbnN0IGRhdGFMYXllcjoge1xuXHRwdXNoKG9iajogRGF0YUxheWVyT2JqKTogdm9pZDtcbn07XG5cbmV4cG9ydCBjb25zdCBzdGFFdmVudCA9IChkb2N1bWVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCwgcHVibGljYXRpb246IENvbXBhY3RQdWJsaWNhdGlvbikgPT4ge1xuXHRsZXQgZ3RtRXZlbnQgPSAgcG9wdWxhdGVDb250ZW50KGRvY3VtZW50LCBFdmVudC5TQVZFX1RPX0FOQ0VTVFJZLCBBY3Rpb24uQU5DRVNUUlksIHB1YmxpY2F0aW9uKTtcblxuXHRyZXR1cm4gZ3RtRXZlbnQ7XG59O1xuXG5leHBvcnQgY29uc3QgcHVyY2hhc2VFdmVudCA9IChcblx0aW52b2ljZTogSW52b2ljZSxcblx0cmVuZXdhbE9mZmVyOiBPZmZlcixcblx0ZG9tYWluOiBEb21haW4sXG5cdHJlc3VsdD86IFJlc3VsdCxcblx0cmVhc29uPzogc3RyaW5nXG4pID0+IHtcblx0aWYgKCFpbnZvaWNlKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGV2ZW50OiBFdmVudC5QVVJDSEFTRSxcblx0XHRlY29tbWVyY2U6IHtcblx0XHRcdGN1cnJlbmN5OiByZW5ld2FsT2ZmZXI/LmN1cnJlbmN5LFxuXHRcdFx0dmFsdWU6IGludm9pY2U/LmFtb3VudCxcblx0XHRcdHRyYW5zYWN0aW9uX2lkOiBpbnZvaWNlPy5pbnZvaWNlSWQsXG5cdFx0XHRpdGVtczogW3B1cmNoYXNlSXRlbShpbnZvaWNlLCBkb21haW4pXSxcblx0XHR9LFxuXHRcdHJlc3VsdCxcblx0XHRyZWFzb24sXG5cdH07XG59O1xuXG5jb25zdCBwdXJjaGFzZUl0ZW0gPSAoaW52b2ljZTogSW52b2ljZSwgZG9tYWluOiBEb21haW4pID0+IHtcblx0cmV0dXJuIHtcblx0XHRpdGVtX25hbWU6IGludm9pY2U/Lml0ZW0gID09PSAnRlJFRV9UUklBTCcgPyAnRnJlZSBUcmlhbCcgOiAnUHJlbWl1bSBNZW1iZXJzaGlwJyxcblx0XHRpdGVtX2lkOiBpbnZvaWNlPy5pdGVtLFxuXHRcdHByaWNlOiBpbnZvaWNlPy5hbW91bnQsXG5cdFx0aXRlbV9icmFuZDogZG9tYWluLFxuXHRcdGl0ZW1fY2F0ZWdvcnk6IGdldEludm9pY2VPZmZlclR5cGUoaW52b2ljZSksXG5cdFx0aXRlbV9jYXRlZ29yeTI6IGludm9pY2U/LnN1YnNjcmlwdGlvbj8uZHVyYXRpb24sXG5cdFx0aXRlbV9jYXRlZ29yeTM6IGludm9pY2U/LmlpZCxcblx0XHRxdWFudGl0eTogJzEnLFxuXHR9O1xufTtcblxuZXhwb3J0IGNvbnN0IGNhbmNlbEV2ZW50ID0gKGludm9pY2U6IEludm9pY2UsIHJlc3VsdD86IFJlc3VsdCwgcmVhc29uPzogc3RyaW5nKSA9PiB7XG5cdGxldCB7IHN1YnNjcmlwdGlvbiB9ID0gaW52b2ljZTtcblxuXHRyZXR1cm4ge1xuXHRcdGV2ZW50OiBFdmVudC5DQU5DRUxfU1VCU0NSSVBUSU9OLFxuXHRcdHN1YnNjcmlwdGlvbl90eXBlOiBnZXRTdWJzY3JpcHRpb25UeXBlKHN1YnNjcmlwdGlvbiksXG5cdFx0c3ViY3JpcHRpb25fZHVyYXRpb246IHN1YnNjcmlwdGlvbj8uZHVyYXRpb24sXG5cdFx0cmVzdWx0LFxuXHRcdHJlYXNvbixcblx0fTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250ZW50VHlwZUV2ZW50KGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSwgYWN0aW9uOiBBY3Rpb24pOiBEYXRhTGF5ZXJPYmo7XG5leHBvcnQgZnVuY3Rpb24gY29udGVudFR5cGVFdmVudChjb250ZW50VHlwZTogQ29udGVudFR5cGUsIGFjdGlvbjogQWN0aW9uLCByZXN1bHQ/OiBSZXN1bHQpOiBEYXRhTGF5ZXJPYmo7XG5leHBvcnQgZnVuY3Rpb24gY29udGVudFR5cGVFdmVudChjb250ZW50VHlwZTogQ29udGVudFR5cGUsIGFjdGlvbjogQWN0aW9uLCByZXN1bHQ/OiBSZXN1bHQsIHJlYXNvbj86IHN0cmluZyk6IERhdGFMYXllck9iajtcbmV4cG9ydCBmdW5jdGlvbiBjb250ZW50VHlwZUV2ZW50KFxuXHRjb250ZW50VHlwZTogQ29udGVudFR5cGUsXG5cdGFjdGlvbjogQWN0aW9uLFxuXHRyZXN1bHQ6IFJlc3VsdCA9IFJlc3VsdC5TVUNDRVNTLFxuXHRyZWFzb24/OiBzdHJpbmdcbik6IERhdGFMYXllck9iaiB7XG5cdHJldHVybiB7XG5cdFx0ZXZlbnQ6IEV2ZW50LlJFQ09SRCxcblx0XHRhY3Rpb24sXG5cdFx0cmVjb3JkX3R5cGU6IGNvbnRlbnRUeXBlLFxuXHRcdHJlc3VsdCxcblx0XHRyZWFzb24sXG5cdH07XG59XG5cbmV4cG9ydCBjb25zdCBjb250ZW50RXZlbnQgPSAoZG9jdW1lbnQ6IFdyYXBwZWRDb250ZW50RG9jdW1lbnQsIHB1YmxpY2F0aW9uOiBDb21wYWN0UHVibGljYXRpb24sIGFjdGlvbj86IEFjdGlvbiwgcmVzdWx0PzogUmVzdWx0LCByZWFzb24/OiBzdHJpbmcpOiBEYXRhTGF5ZXJPYmogPT4ge1xuXHRsZXQgZ3RtRXZlbnQgPSBwb3B1bGF0ZUNvbnRlbnQoZG9jdW1lbnQsIEV2ZW50LlJFQ09SRCwgYWN0aW9uLCBwdWJsaWNhdGlvbik7XG5cblx0cG9wdWxhdGVSZXN1bHRzKGd0bUV2ZW50LCByZXN1bHQsIHJlYXNvbik7XG5cblx0cmV0dXJuIGd0bUV2ZW50O1xufTtcblxuY29uc3QgcG9wdWxhdGVDb250ZW50ID0gKGRvY3VtZW50OiBXcmFwcGVkQ29udGVudERvY3VtZW50LCBldmVudDogc3RyaW5nLCBhY3Rpb246IEFjdGlvbiwgcHVibGljYXRpb246IENvbXBhY3RQdWJsaWNhdGlvbik6IERhdGFMYXllck9iaiA9PiB7XG5cdHJldHVybiB7XG5cdFx0ZXZlbnQsXG5cdFx0YWN0aW9uLFxuXHRcdHJlY29yZF90eXBlOiBkb2N1bWVudC5tZXRhZGF0YS5pZC5jb250ZW50VHlwZSxcblx0XHR0aXRsZV9uYW1lOiBwdWJsaWNhdGlvbj8udGl0bGUgfHwgcHVibGljYXRpb24/LnNob3J0VGl0bGUsXG5cdFx0cmVzdWx0OiB1bmRlZmluZWQsXG5cdFx0cmVhc29uOiB1bmRlZmluZWQsXG5cdH07XG59O1xuXG5jb25zdCBwb3B1bGF0ZVJlc3VsdHMgPSAoZ3RtRXZlbnQ6IERhdGFMYXllck9iaiwgcmVzdWx0OiBSZXN1bHQsIHJlYXNvbjogc3RyaW5nKSA9PiB7XG5cdGd0bUV2ZW50LnJlc3VsdCA9IHJlc3VsdDtcblx0Z3RtRXZlbnQucmVhc29uID0gcmVhc29uO1xufTtcblxuZXhwb3J0IGNvbnN0IGF1dGhFdmVudCA9IChcblx0dHlwZTogJ2YzJyB8ICdhbmMnLFxuXHRyZXN1bHQ6IFJlc3VsdCxcblx0cmVhc29uPzogc3RyaW5nXG4pID0+IHtcblx0bGV0IGF1dGhNYXAgPSB7XG5cdFx0ZjM6IEFjdGlvbi5VU0VSTkFNRV9QQVNTV09SRCxcblx0XHRhbmM6IEFjdGlvbi5BTkNFU1RSWSxcblx0fTtcblxuXHRsZXQgYWN0aW9uID0gYXV0aE1hcFt0eXBlXTtcblxuXHRyZXR1cm4ge1xuXHRcdGV2ZW50OiBFdmVudC5MT0dJTixcblx0XHRhY3Rpb24sXG5cdFx0cmVzdWx0LFxuXHRcdHJlYXNvbixcblx0fTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWdpc3RlckV2ZW50ID0gKFxuXHR0eXBlOiAnZm9sZDMnIHwgJ2FuY2VzdHJ5Jyxcblx0cmVzdWx0OiBSZXN1bHQsXG5cdHJlYXNvbj86IHN0cmluZ1xuKSA9PiB7XG5cdGxldCByZWdNYXAgPSB7XG5cdFx0Zm9sZDM6IEFjdGlvbi5VU0VSTkFNRV9QQVNTV09SRCxcblx0XHRhbmNlc3RyeTogQWN0aW9uLkFOQ0VTVFJZLFxuXHR9O1xuXG5cdGxldCBhY3Rpb24gPSByZWdNYXBbdHlwZV07XG5cblx0cmV0dXJuIHtcblx0XHRldmVudDogRXZlbnQuUkVHSVNUUkFUSU9OLFxuXHRcdGFjdGlvbixcblx0XHRyZXN1bHQsXG5cdFx0cmVhc29uLFxuXHR9O1xufTtcblxuZXhwb3J0IGNvbnN0IHNoYXJlRXZlbnQgPSAocmVmOiBPYmplY3RSZWZlcmVuY2UsIGFjdGlvbjogQWN0aW9uKSA9PiB7XG5cdGNvbnN0IHsgb2JqZWN0SWQsIGNvbnRlbnRUeXBlIH0gPSByZWY7XG5cblx0cmV0dXJuIHtcblx0XHRldmVudDogRXZlbnQuU0hBUkUsXG5cdFx0YWN0aW9uLFxuXHRcdHJlY29yZF90eXBlOiBjb250ZW50VHlwZSxcblx0fTtcbn07XG5cbmV4cG9ydCBjb25zdCBkZW55RXZlbnQgPSAoYWN0aW9uOiBzdHJpbmcsIHJlcXVpcmVtZW50OiBzdHJpbmcsIGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSwgcHVibGljYXRpb246IFBpY2s8UHVibGljYXRpb24sICdzaG9ydFRpdGxlJyB8ICd0aXRsZSc+KSA9PiB7XG5cdGxldCBndG1FdmVudCA9IGNvbnRlbnRUeXBlRXZlbnQoY29udGVudFR5cGUsIGFjdGlvbiBhcyBBY3Rpb24pO1xuXHRwb3B1bGF0ZVJlc3VsdHMoZ3RtRXZlbnQsIFJlc3VsdC5ERU5ZLCByZXF1aXJlbWVudCk7XG5cblx0aWYgKHB1YmxpY2F0aW9uKSB7XG5cdFx0Z3RtRXZlbnQudGl0bGVfbmFtZSA9IHB1YmxpY2F0aW9uLnRpdGxlID8gcHVibGljYXRpb24udGl0bGUgOiBwdWJsaWNhdGlvbi5zaG9ydFRpdGxlO1xuXHR9XG5cblxuXHRyZXR1cm4gZ3RtRXZlbnQ7XG59O1xuXG5leHBvcnQgY29uc3QgbmF2YmFyRXZlbnQgPSAobGluazogc3RyaW5nKSA9PiB7XG5cdHJldHVybiB7IGV2ZW50OiBFdmVudC5OQVZCQVIsIGFjdGlvbjogQWN0aW9uLkxJTkssIGxpbmsgfTtcbn07XG5cbi8qKlxuICogRmF2b3IgdXNlIG9mIHVzZURhdGFMYXllciBob29rLlxuICovXG5leHBvcnQgY29uc3QgcHVzaEV2ZW50ID0gKGV2ZW50OiBEYXRhTGF5ZXJPYmopID0+IHtcblx0aWYgKGV2ZW50KSB7XG5cdFx0dHJ5IHtcblx0XHRcdGRhdGFMYXllci5wdXNoKGZpbHRlclVuZGVmaW5lZChldmVudCkpO1xuXHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihlKTtcblx0XHR9XG5cdH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///32558\n")},10415:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   contentTypeToGoogleTag: () => (/* binding */ contentTypeToGoogleTag)\n/* harmony export */ });\nvar contentTypeTagMap = {\n    'ANCESTRY_DOCUMENT': 'ancestry_document',\n    'FGV_DOCUMENT': 'fgv_document',\n    'ARCHIVES_DOCUMENT': 'archives_document',\n    'NEWSPAPERS_DOCUMENT': 'newspapers_document',\n    'STORY_PAGE': 'memorial',\n    'BATTLE': 'battle',\n    'REGIMENT': 'regiment',\n    'COMPANY': 'company',\n    'INDEX_RECORD': 'record',\n    'PARTNER': 'partner',\n    'IMAGE': 'image',\n    'SUB_IMAGE': 'subdoc',\n    'TITLE_COLLECTION': 'collection',\n    'PUBLICATION': 'publication',\n    'STORY_PAGE_STORY': 'memorial_story',\n    'STORY_PAGE_FACT_SOURCE': 'memorial_source',\n};\nvar contentTypeToGoogleTag = function (action, contentType, label) {\n    //@ts-ignore\n    var category = contentTypeTagMap[contentType] || null;\n    if (!category) {\n        return '';\n    }\n    var tag = [category, action];\n    if (label) {\n        tag.push(label);\n    }\n    return tag.join(':');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA0MTUuanMiLCJtYXBwaW5ncyI6Ijs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9nb29nbGVUYWdNYW5hZ2VyLnRzPzNhMzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udGVudFR5cGUgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5cbnR5cGUgR29vZ2xlVGFnQWN0aW9uPSAndGFnJyB8ICdib29rbWFyaycgfCAnY29ycmVjdGlvbicgfCAnc2F2ZXRvYW5jJyB8ICdwcmludCcgfCAnaW5mb3BhbmUnIHwgJ2FkZFRvTWVtb3JpYWwnIHwgJ2ZpbG1zdHJpcCcgfCAnYW5ub3RhdGUnIHwgJ2hlbHAnIHwgJ2ZpbmQnIHwgJ2NvbnRyaWJ1dGlvblNoYXJlJyB8ICdzaGFyZScgfCAnbGluayc7XG5jb25zdCBjb250ZW50VHlwZVRhZ01hcCA9IHtcblx0J0FOQ0VTVFJZX0RPQ1VNRU5UJzogJ2FuY2VzdHJ5X2RvY3VtZW50Jyxcblx0J0ZHVl9ET0NVTUVOVCc6ICdmZ3ZfZG9jdW1lbnQnLFxuXHQnQVJDSElWRVNfRE9DVU1FTlQnOiAnYXJjaGl2ZXNfZG9jdW1lbnQnLFxuXHQnTkVXU1BBUEVSU19ET0NVTUVOVCc6ICduZXdzcGFwZXJzX2RvY3VtZW50Jyxcblx0J1NUT1JZX1BBR0UnOiAnbWVtb3JpYWwnLFxuXHQnQkFUVExFJzogJ2JhdHRsZScsXG5cdCdSRUdJTUVOVCc6ICdyZWdpbWVudCcsXG5cdCdDT01QQU5ZJzogJ2NvbXBhbnknLFxuXHQnSU5ERVhfUkVDT1JEJzogJ3JlY29yZCcsXG5cdCdQQVJUTkVSJzogJ3BhcnRuZXInLFxuXHQnSU1BR0UnOiAnaW1hZ2UnLFxuXHQnU1VCX0lNQUdFJzogJ3N1YmRvYycsXG5cdCdUSVRMRV9DT0xMRUNUSU9OJzogJ2NvbGxlY3Rpb24nLFxuXHQnUFVCTElDQVRJT04nOiAncHVibGljYXRpb24nLFxuXHQnU1RPUllfUEFHRV9TVE9SWSc6ICdtZW1vcmlhbF9zdG9yeScsXG5cdCdTVE9SWV9QQUdFX0ZBQ1RfU09VUkNFJzogJ21lbW9yaWFsX3NvdXJjZScsXG59O1xuZXhwb3J0IGNvbnN0IGNvbnRlbnRUeXBlVG9Hb29nbGVUYWcgPSAoYWN0aW9uOiBHb29nbGVUYWdBY3Rpb24sIGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSB8IHN0cmluZywgbGFiZWw/OiBzdHJpbmcpID0+IHtcblx0Ly9AdHMtaWdub3JlXG5cdGxldCBjYXRlZ29yeSA9IGNvbnRlbnRUeXBlVGFnTWFwW2NvbnRlbnRUeXBlXSB8fCBudWxsO1xuXG5cdGlmICghY2F0ZWdvcnkpIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cblxuXHRsZXQgdGFnOiBzdHJpbmdbXSA9IFtjYXRlZ29yeSwgYWN0aW9uXTtcblxuXHRpZiAobGFiZWwpIHtcblx0XHR0YWcucHVzaChsYWJlbCk7XG5cdH1cblxuXHRyZXR1cm4gdGFnLmpvaW4oJzonKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10415\n")},14064:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   j: () => (/* binding */ createHash)\n/* harmony export */ });\nfunction createHash(str) {\n    var hash = 0;\n    for (var i = 0; i < str.length; i++) {\n        var char = str.charCodeAt(i);\n        hash = (hash << 5) - hash + char;\n        hash = hash & hash; // Convert to 32bit integer\n    }\n    return hash;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQwNjQuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9oYXNoLnRzPzRmNmEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUhhc2goc3RyOiBzdHJpbmcpIHtcblx0dmFyIGhhc2ggPSAwO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBjaGFyID0gc3RyLmNoYXJDb2RlQXQoaSk7XG5cdFx0aGFzaCA9IChoYXNoIDw8IDUpIC0gaGFzaCArIGNoYXI7XG5cdFx0aGFzaCA9IGhhc2ggJiBoYXNoOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcblx0fVxuXHRyZXR1cm4gaGFzaDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///14064\n")},2193:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   V: () => (/* binding */ useAlertsContext),\n/* harmony export */   Z: () => (/* binding */ useAlerts)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(70655);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context_fold3PageContext__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(67328);\n/* harmony import */ var _deepCompare__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(85695);\n/* harmony import */ var _time__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(96846);\n\n\n\n\n\nvar DEFAULT_ALERT = {\n    closeable: true,\n    type: 'warning',\n    expires: -1,\n};\nvar DEFAULT_SUCCESS_ALERT = {\n    closeable: true,\n    type: 'success',\n    expires: (0,_time__WEBPACK_IMPORTED_MODULE_1__.getTimeInMs)(3, 'sec'),\n};\nvar DEFAULT_ERROR_ALERT = {\n    closeable: true,\n    type: 'danger',\n    expires: (0,_time__WEBPACK_IMPORTED_MODULE_1__.getTimeInMs)(5, 'sec'),\n};\nvar useAlerts = function () {\n    var alerts = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_fold3PageContext__WEBPACK_IMPORTED_MODULE_2__/* .Fold3PageContext */ .h).alerts;\n    return alerts;\n};\nvar errorAlertId = 'error-alert';\nvar successAlertId = 'success-alert';\nvar useAlertsContext = function () {\n    var _a = (0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__read */ .CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]), 2), alerts = _a[0], setAlerts = _a[1];\n    var alertsInterface = {\n        alerts: alerts,\n        addAlert: function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var alert = (0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__assign */ .pi)((0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__assign */ .pi)({}, DEFAULT_ALERT), alertParamsToOpts.apply(void 0, (0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__spreadArray */ .ev)([], (0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__read */ .CR)(args), false)));\n            setAlerts(function (alerts) { return (0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__spreadArray */ .ev)((0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__spreadArray */ .ev)([], (0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__read */ .CR)(alerts), false), [alert], false); });\n            if (alert.expires !== null && alert.expires >= 0) {\n                setTimeout(function () {\n                    alertsInterface.closeAlert(alert);\n                }, alert.expires);\n            }\n            return alert;\n        },\n        closeAlert: function (alert) {\n            setAlerts(function (alerts) {\n                var i = alerts.findIndex(function (a) { return (0,_deepCompare__WEBPACK_IMPORTED_MODULE_4__/* [\"default\"] */ .Z)(a, alert); });\n                if (i >= 0) {\n                    var copy = alerts.slice();\n                    copy.splice(i, 1);\n                    return copy;\n                }\n                return alerts;\n            });\n        },\n        clearAlerts: function () { setAlerts([]); },\n        addSuccessAlert: function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var opts = alertParamsToOpts.apply(void 0, (0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__spreadArray */ .ev)([], (0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__read */ .CR)(args), false));\n            alertsInterface.addAlert((0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__assign */ .pi)((0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__assign */ .pi)({}, DEFAULT_SUCCESS_ALERT), opts));\n        },\n        addErrorAlert: function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var opts = alertParamsToOpts.apply(void 0, (0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__spreadArray */ .ev)([], (0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__read */ .CR)(args), false));\n            alertsInterface.addAlert((0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__assign */ .pi)((0,tslib__WEBPACK_IMPORTED_MODULE_3__/* .__assign */ .pi)({}, DEFAULT_ERROR_ALERT), opts));\n        },\n        errorAlertId: errorAlertId,\n        successAlertId: successAlertId,\n    };\n    return alertsInterface;\n};\nvar alertParamsToOpts = function (message, expires, opts) {\n    if (opts === void 0) { opts = {}; }\n    if (typeof message == 'string' || react__WEBPACK_IMPORTED_MODULE_0___default().isValidElement(message)) {\n        opts.message = message;\n    }\n    else if (typeof message == 'object') {\n        Object.assign(opts, message);\n    }\n    if (typeof expires == 'number' || expires === null) {\n        opts.expires = expires;\n    }\n    else if (typeof expires == 'object') {\n        Object.assign(opts, expires);\n    }\n    return opts;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjE5My5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBMkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9ob29rcy91c2VBbGVydHMudHM/ZDJkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb2xkM1BhZ2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9mb2xkM1BhZ2VDb250ZXh0JztcbmltcG9ydCBkZWVwQ29tcGFyZSBmcm9tICcuLi9kZWVwQ29tcGFyZSc7XG5pbXBvcnQgeyBnZXRUaW1lSW5NcyB9IGZyb20gJy4uL3RpbWUnO1xuXG50eXBlIEFsZXJ0VHlwZSA9ICdpbmZvJyB8ICdzdWNjZXNzJyB8ICd3YXJuaW5nJyB8ICdkYW5nZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFsZXJ0T3B0cyB7XG5cdG1lc3NhZ2U6IHN0cmluZyB8IFJlYWN0LlJlYWN0RWxlbWVudDxhbnk+O1xuXHRleHBpcmVzPzogbnVtYmVyOyAvLyB0aW1lIGluIE1TXG5cdGNsb3NlYWJsZT86IGJvb2xlYW47XG5cdHR5cGU6IEFsZXJ0VHlwZTtcblx0Y2xhc3NOYW1lPzogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWxlcnRzSW50ZXJmYWNlIHtcblx0YWRkQWxlcnQ6IEFkZEFsZXJ0Rm5cblx0YWRkRXJyb3JBbGVydDogQWRkQWxlcnRGblxuXHRhZGRTdWNjZXNzQWxlcnQ6IEFkZEFsZXJ0Rm5cblx0Y2xvc2VBbGVydDogQ2xvc2VBbGVydEZuXG5cdGNsZWFyQWxlcnRzKCk6IHZvaWRcblx0ZXJyb3JBbGVydElkOiBzdHJpbmdcblx0c3VjY2Vzc0FsZXJ0SWQ6IHN0cmluZ1xuXHRhbGVydHM6IEFsZXJ0T3B0c1tdXG59XG5cbnR5cGUgQWRkQWxlcnRGbjxUIGV4dGVuZHMgYW55ID0gYW55PiA9IChtZXNzYWdlOiBzdHJpbmcgfCBSZWFjdC5SZWFjdEVsZW1lbnQ8YW55PiB8IEFsZXJ0T3B0cywgZXhwaXJlcz86IG51bWJlciB8IEFsZXJ0T3B0cywgb3B0cz86IFBhcnRpYWw8QWxlcnRPcHRzPikgPT4gVFxudHlwZSBDbG9zZUFsZXJ0Rm4gPSAoYWxlcnQ6IEFsZXJ0T3B0cykgPT4gdm9pZFxuXG5cbmNvbnN0IERFRkFVTFRfQUxFUlQ6IFBhcnRpYWw8QWxlcnRPcHRzPiA9IHtcblx0Y2xvc2VhYmxlOiB0cnVlLFxuXHR0eXBlOiAnd2FybmluZycsXG5cdGV4cGlyZXM6IC0xLFxufTtcblxuY29uc3QgREVGQVVMVF9TVUNDRVNTX0FMRVJUOiBQYXJ0aWFsPEFsZXJ0T3B0cz4gPSB7XG5cdGNsb3NlYWJsZTogdHJ1ZSxcblx0dHlwZTogJ3N1Y2Nlc3MnLFxuXHRleHBpcmVzOiBnZXRUaW1lSW5NcygzLCAnc2VjJyksXG59O1xuXG5jb25zdCBERUZBVUxUX0VSUk9SX0FMRVJUOiBQYXJ0aWFsPEFsZXJ0T3B0cz4gPSB7XG5cdGNsb3NlYWJsZTogdHJ1ZSxcblx0dHlwZTogJ2RhbmdlcicsXG5cdGV4cGlyZXM6IGdldFRpbWVJbk1zKDUsICdzZWMnKSxcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VBbGVydHMgPSAoKSA9PiB7XG5cdGNvbnN0IHsgYWxlcnRzIH0gPSB1c2VDb250ZXh0KEZvbGQzUGFnZUNvbnRleHQpO1xuXHRyZXR1cm4gYWxlcnRzO1xufTtcblxuY29uc3QgZXJyb3JBbGVydElkID0gJ2Vycm9yLWFsZXJ0JztcbmNvbnN0IHN1Y2Nlc3NBbGVydElkID0gJ3N1Y2Nlc3MtYWxlcnQnO1xuXG5cbmV4cG9ydCBjb25zdCB1c2VBbGVydHNDb250ZXh0ID0gKCk6IEFsZXJ0c0ludGVyZmFjZSA9PiB7XG5cdGNvbnN0IFthbGVydHMsIHNldEFsZXJ0c10gPSB1c2VTdGF0ZTxBbGVydE9wdHNbXT4oW10pO1xuXG5cdGNvbnN0IGFsZXJ0c0ludGVyZmFjZTogQWxlcnRzSW50ZXJmYWNlID0ge1xuXHRcdGFsZXJ0cyxcblx0XHRhZGRBbGVydCguLi5hcmdzKSB7XG5cdFx0XHRsZXQgYWxlcnQgPSB7IC4uLkRFRkFVTFRfQUxFUlQsIC4uLmFsZXJ0UGFyYW1zVG9PcHRzKC4uLmFyZ3MpIH07XG5cdFx0XHRzZXRBbGVydHMoYWxlcnRzID0+IFsuLi5hbGVydHMsIGFsZXJ0XSk7XG5cdFx0XHRpZiAoYWxlcnQuZXhwaXJlcyAhPT0gbnVsbCAmJiBhbGVydC5leHBpcmVzID49IDApIHtcblx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0YWxlcnRzSW50ZXJmYWNlLmNsb3NlQWxlcnQoYWxlcnQpO1xuXHRcdFx0XHR9LCBhbGVydC5leHBpcmVzKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBhbGVydDtcblx0XHR9LFxuXHRcdGNsb3NlQWxlcnQoYWxlcnQpIHtcblx0XHRcdHNldEFsZXJ0cyhhbGVydHMgPT4ge1xuXHRcdFx0XHRsZXQgaSA9IGFsZXJ0cy5maW5kSW5kZXgoYSA9PiBkZWVwQ29tcGFyZShhLCBhbGVydCkpO1xuXG5cdFx0XHRcdGlmIChpID49IDApIHtcblx0XHRcdFx0XHRsZXQgY29weSA9IGFsZXJ0cy5zbGljZSgpO1xuXHRcdFx0XHRcdGNvcHkuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdHJldHVybiBjb3B5O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGFsZXJ0cztcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0Y2xlYXJBbGVydHMoKSB7IHNldEFsZXJ0cyhbXSk7IH0sXG5cdFx0YWRkU3VjY2Vzc0FsZXJ0KC4uLmFyZ3MpIHtcblx0XHRcdGxldCBvcHRzID0gYWxlcnRQYXJhbXNUb09wdHMoLi4uYXJncyk7XG5cdFx0XHRhbGVydHNJbnRlcmZhY2UuYWRkQWxlcnQoeyAuLi5ERUZBVUxUX1NVQ0NFU1NfQUxFUlQsIC4uLm9wdHMgfSk7XG5cdFx0fSxcblx0XHRhZGRFcnJvckFsZXJ0KC4uLmFyZ3MpIHtcblx0XHRcdGxldCBvcHRzID0gYWxlcnRQYXJhbXNUb09wdHMoLi4uYXJncyk7XG5cdFx0XHRhbGVydHNJbnRlcmZhY2UuYWRkQWxlcnQoeyAuLi5ERUZBVUxUX0VSUk9SX0FMRVJULCAuLi5vcHRzIH0pO1xuXHRcdH0sXG5cdFx0ZXJyb3JBbGVydElkLFxuXHRcdHN1Y2Nlc3NBbGVydElkLFxuXHR9O1xuXG5cdHJldHVybiBhbGVydHNJbnRlcmZhY2U7XG59O1xuXG5jb25zdCBhbGVydFBhcmFtc1RvT3B0czogQWRkQWxlcnRGbjxBbGVydE9wdHM+ID0gKG1lc3NhZ2U6IHN0cmluZyB8IFJlYWN0LlJlYWN0RWxlbWVudDxhbnk+IHwgQWxlcnRPcHRzLCBleHBpcmVzPzogbnVtYmVyIHwgQWxlcnRPcHRzLCBvcHRzOiBQYXJ0aWFsPEFsZXJ0T3B0cz4gPSB7fSkgPT4ge1xuXHRpZiAodHlwZW9mIG1lc3NhZ2UgPT0gJ3N0cmluZycgfHwgUmVhY3QuaXNWYWxpZEVsZW1lbnQobWVzc2FnZSkpIHtcblx0XHRvcHRzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtZXNzYWdlID09ICdvYmplY3QnKSB7XG5cdFx0T2JqZWN0LmFzc2lnbihvcHRzLCBtZXNzYWdlKTtcblx0fVxuXG5cdGlmICh0eXBlb2YgZXhwaXJlcyA9PSAnbnVtYmVyJyB8fCBleHBpcmVzID09PSBudWxsKSB7XG5cdFx0b3B0cy5leHBpcmVzID0gZXhwaXJlcyBhcyBudW1iZXI7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGV4cGlyZXMgPT0gJ29iamVjdCcpIHtcblx0XHRPYmplY3QuYXNzaWduKG9wdHMsIGV4cGlyZXMpO1xuXHR9XG5cblx0cmV0dXJuIG9wdHMgYXMgQWxlcnRPcHRzO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2193\n")},19029:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   b: () => (/* binding */ useAsyncEffect)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nvar useAsyncEffect = function (fn, dependencies) {\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n        fn();\n    }, dependencies);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkwMjkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2hvb2tzL3VzZUFzeW5jRWZmZWN0LnRzPzdiOWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgY29uc3QgdXNlQXN5bmNFZmZlY3QgPSA8VD4oZm46ICgpID0+IFByb21pc2U8VD4sIGRlcGVuZGVuY2llcz86IGFueVtdKSA9PiB7XG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0Zm4oKTtcblx0fSwgZGVwZW5kZW5jaWVzKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///19029\n")},90930:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   P: () => (/* binding */ useDataLayer)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(32558);\n/* harmony import */ var _context_fold3PageContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67328);\n\n\n\nvar useDataLayer = function () {\n    var environment = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_fold3PageContext__WEBPACK_IMPORTED_MODULE_1__/* .Fold3PageContext */ .h).environment;\n    return {\n        pushEvent: _googleAnalyticsEvents__WEBPACK_IMPORTED_MODULE_2__/* .pushEvent */ .AB,\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTA5MzAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvaG9va3MvdXNlRGF0YUxheWVyLnRzPzQ3YzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHB1c2hFdmVudCB9IGZyb20gJy4uL2dvb2dsZUFuYWx5dGljc0V2ZW50cyc7XG5pbXBvcnQgeyBGb2xkM1BhZ2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9mb2xkM1BhZ2VDb250ZXh0JztcblxuZXhwb3J0IGNvbnN0IHVzZURhdGFMYXllciA9ICgpID0+IHtcblx0Y29uc3QgeyBlbnZpcm9ubWVudCB9ID0gdXNlQ29udGV4dChGb2xkM1BhZ2VDb250ZXh0KTtcblxuXHRyZXR1cm4ge1xuXHRcdHB1c2hFdmVudCxcblx0fTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///90930\n")},62083:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _: () => (/* binding */ useDialogsContext),\n/* harmony export */   q: () => (/* binding */ useDialogs)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70655);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context_fold3PageContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67328);\n\n\n\nvar useDialogs = function () {\n    var dialogs = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_fold3PageContext__WEBPACK_IMPORTED_MODULE_1__/* .Fold3PageContext */ .h).dialogs;\n    return dialogs;\n};\nvar useDialogsContext = function () {\n    var _a = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__read */ .CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]), 2), dialogs = _a[0], setDialogs = _a[1];\n    var activeElementUponOpen = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    return {\n        dialogs: dialogs,\n        openDialog: function (dialog) {\n            activeElementUponOpen.current = document.activeElement;\n            setDialogs(function (dialogs) { return (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__spreadArray */ .ev)((0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__spreadArray */ .ev)([], (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__read */ .CR)(dialogs), false), [dialog], false); });\n        },\n        closeDialog: function () {\n            setDialogs(function (dialogs) {\n                return dialogs.slice(0, -1);\n            });\n            try {\n                if (document.body.contains(activeElementUponOpen.current)) {\n                    activeElementUponOpen.current.focus();\n                }\n            }\n            catch (e) {\n                console.error('Failed to focus', activeElementUponOpen.current);\n            }\n        },\n        clearDialogs: function () {\n            setDialogs([]);\n        },\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjIwODMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9ob29rcy91c2VEaWFsb2dzLnRzPzZmNmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZvbGQzUGFnZUNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L2ZvbGQzUGFnZUNvbnRleHQnO1xuXG50eXBlIE9wZW5EaWFsb2dGbiA9IChkaWFsb2c6IEpTWC5FbGVtZW50KSA9PiB2b2lkXG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlhbG9nc0ludGVyZmFjZSB7XG5cdG9wZW5EaWFsb2c6IE9wZW5EaWFsb2dGblxuXHRjbG9zZURpYWxvZygpOiB2b2lkXG5cdGRpYWxvZ3M6IEpTWC5FbGVtZW50W11cblx0Y2xlYXJEaWFsb2dzKCk6IHZvaWRcbn1cblxuZXhwb3J0IGNvbnN0IHVzZURpYWxvZ3MgPSAoKSA9PiB7XG5cdGNvbnN0IHsgZGlhbG9ncyB9ID0gdXNlQ29udGV4dChGb2xkM1BhZ2VDb250ZXh0KTtcblx0cmV0dXJuIGRpYWxvZ3M7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlRGlhbG9nc0NvbnRleHQgPSAoKTogRGlhbG9nc0ludGVyZmFjZSA9PiB7XG5cdGNvbnN0IFtkaWFsb2dzLCBzZXREaWFsb2dzXSA9IHVzZVN0YXRlKFtdKTtcblx0Y29uc3QgYWN0aXZlRWxlbWVudFVwb25PcGVuID0gdXNlUmVmPEhUTUxFbGVtZW50PihudWxsKTtcblxuXHRyZXR1cm4ge1xuXHRcdGRpYWxvZ3MsXG5cdFx0b3BlbkRpYWxvZyhkaWFsb2c6IEpTWC5FbGVtZW50KSB7XG5cdFx0XHRhY3RpdmVFbGVtZW50VXBvbk9wZW4uY3VycmVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG5cblx0XHRcdHNldERpYWxvZ3MoZGlhbG9ncyA9PiBbLi4uZGlhbG9ncywgZGlhbG9nXSk7XG5cdFx0fSxcblx0XHRjbG9zZURpYWxvZygpIHtcblx0XHRcdHNldERpYWxvZ3MoZGlhbG9ncyA9PiB7XG5cdFx0XHRcdHJldHVybiBkaWFsb2dzLnNsaWNlKDAsIC0xKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAoZG9jdW1lbnQuYm9keS5jb250YWlucyhhY3RpdmVFbGVtZW50VXBvbk9wZW4uY3VycmVudCkpIHtcblx0XHRcdFx0XHRhY3RpdmVFbGVtZW50VXBvbk9wZW4uY3VycmVudC5mb2N1cygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZvY3VzJywgYWN0aXZlRWxlbWVudFVwb25PcGVuLmN1cnJlbnQpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Y2xlYXJEaWFsb2dzKCkge1xuXHRcdFx0c2V0RGlhbG9ncyhbXSk7XG5cdFx0fSxcblx0fTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///62083\n")},29774:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ useDomain)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context_fold3PageContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67328);\n/* harmony import */ var _localization_domain__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(40315);\n/* harmony import */ var _useLocalePlace__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(53390);\n\n\n\n\nvar useDomain = function () {\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_fold3PageContext__WEBPACK_IMPORTED_MODULE_1__/* .Fold3PageContext */ .h), f3Domain = _a.f3Domain, siteType = _a.siteType, environment = _a.environment;\n    var getLocalePlace = (0,_useLocalePlace__WEBPACK_IMPORTED_MODULE_2__/* .useLocalePlace */ .D)();\n    var siteName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return (0,_localization_domain__WEBPACK_IMPORTED_MODULE_3__/* .getSiteName */ .hA)(f3Domain); }, []);\n    var regSiteName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return (0,_localization_domain__WEBPACK_IMPORTED_MODULE_3__/* .getSiteName */ .hA)(f3Domain, { reg: true }); }, []);\n    var origin = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return (0,_localization_domain__WEBPACK_IMPORTED_MODULE_3__/* .getOrigin */ .P$)(f3Domain, environment); }, []);\n    var countryCode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return (0,_localization_domain__WEBPACK_IMPORTED_MODULE_3__/* .getCountryCodeForDomain */ .wW)(f3Domain); }, []);\n    var siteLabel = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return "".concat((0,_localization_domain__WEBPACK_IMPORTED_MODULE_3__/* .getSiteName */ .hA)(f3Domain), " - ").concat(getLocalePlace(countryCode)); }, []);\n    var host = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return (0,_localization_domain__WEBPACK_IMPORTED_MODULE_3__/* .getHost */ .XF)(f3Domain, environment); }, []);\n    var hostBase = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return (0,_localization_domain__WEBPACK_IMPORTED_MODULE_3__/* .getHostBase */ .n_)(f3Domain, environment); }, []);\n    var backendHostBase = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return (0,_localization_domain__WEBPACK_IMPORTED_MODULE_3__/* .getBackendHostBase */ .Ss)(f3Domain, environment); }, []);\n    var shortDomain = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return (0,_localization_domain__WEBPACK_IMPORTED_MODULE_3__/* .serializeDomain */ .PI)(f3Domain); }, []);\n    var currency = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () { return (0,_localization_domain__WEBPACK_IMPORTED_MODULE_3__/* .getCurrencyForDomain */ .jK)(f3Domain); }, []);\n    return {\n        environment: environment,\n        f3Domain: f3Domain,\n        siteType: siteType,\n        siteName: siteName,\n        regSiteName: regSiteName,\n        origin: origin,\n        countryCode: countryCode,\n        host: host,\n        hostBase: hostBase,\n        backendHostBase: backendHostBase,\n        shortDomain: shortDomain,\n        currency: currency,\n        siteLabel: siteLabel,\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjk3NzQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2hvb2tzL3VzZURvbWFpbi50cz9mMmJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNvbnRleHQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb2xkM1BhZ2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9mb2xkM1BhZ2VDb250ZXh0JztcbmltcG9ydCB7IGdldEJhY2tlbmRIb3N0QmFzZSwgZ2V0Q291bnRyeUNvZGVGb3JEb21haW4sIGdldEN1cnJlbmN5Rm9yRG9tYWluLCBnZXRIb3N0LCBnZXRIb3N0QmFzZSwgZ2V0T3JpZ2luLCBnZXRTaXRlTmFtZSwgc2VyaWFsaXplRG9tYWluIH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uL2RvbWFpbic7XG5pbXBvcnQgeyB1c2VMb2NhbGVQbGFjZSB9IGZyb20gJy4vdXNlTG9jYWxlUGxhY2UnO1xuXG5leHBvcnQgY29uc3QgdXNlRG9tYWluID0gKCkgPT4ge1xuXHRjb25zdCB7IGYzRG9tYWluLCBzaXRlVHlwZSwgZW52aXJvbm1lbnQgfSA9IHVzZUNvbnRleHQoRm9sZDNQYWdlQ29udGV4dCk7XG5cdGNvbnN0IGdldExvY2FsZVBsYWNlID0gdXNlTG9jYWxlUGxhY2UoKTtcblxuXHRjb25zdCBzaXRlTmFtZSA9IHVzZU1lbW8oKCkgPT4gZ2V0U2l0ZU5hbWUoZjNEb21haW4pLCBbXSk7XG5cdGNvbnN0IHJlZ1NpdGVOYW1lID0gdXNlTWVtbygoKSA9PiBnZXRTaXRlTmFtZShmM0RvbWFpbiwgeyByZWc6IHRydWUgfSksIFtdKTtcblx0Y29uc3Qgb3JpZ2luID0gdXNlTWVtbygoKSA9PiBnZXRPcmlnaW4oZjNEb21haW4sIGVudmlyb25tZW50KSwgW10pO1xuXHRjb25zdCBjb3VudHJ5Q29kZSA9IHVzZU1lbW8oKCkgPT4gZ2V0Q291bnRyeUNvZGVGb3JEb21haW4oZjNEb21haW4pLCBbXSk7XG5cdGNvbnN0IHNpdGVMYWJlbCA9IHVzZU1lbW8oKCkgPT4gYCR7Z2V0U2l0ZU5hbWUoZjNEb21haW4pfSAtICR7Z2V0TG9jYWxlUGxhY2UoY291bnRyeUNvZGUpfWAsIFtdKTtcblx0Y29uc3QgaG9zdCA9IHVzZU1lbW8oKCkgPT4gZ2V0SG9zdChmM0RvbWFpbiwgZW52aXJvbm1lbnQpLCBbXSk7XG5cdGNvbnN0IGhvc3RCYXNlID0gdXNlTWVtbygoKSA9PiBnZXRIb3N0QmFzZShmM0RvbWFpbiwgZW52aXJvbm1lbnQpLCBbXSk7XG5cdGNvbnN0IGJhY2tlbmRIb3N0QmFzZSA9IHVzZU1lbW8oKCkgPT4gZ2V0QmFja2VuZEhvc3RCYXNlKGYzRG9tYWluLCBlbnZpcm9ubWVudCksIFtdKTtcblx0Y29uc3Qgc2hvcnREb21haW4gPSB1c2VNZW1vKCgpID0+IHNlcmlhbGl6ZURvbWFpbihmM0RvbWFpbiksIFtdKTtcblx0Y29uc3QgY3VycmVuY3kgPSB1c2VNZW1vKCgpID0+IGdldEN1cnJlbmN5Rm9yRG9tYWluKGYzRG9tYWluKSwgW10pO1xuXG5cdHJldHVybiB7XG5cdFx0ZW52aXJvbm1lbnQsXG5cdFx0ZjNEb21haW4sXG5cdFx0c2l0ZVR5cGUsXG5cdFx0c2l0ZU5hbWUsXG5cdFx0cmVnU2l0ZU5hbWUsXG5cdFx0b3JpZ2luLFxuXHRcdGNvdW50cnlDb2RlLFxuXHRcdGhvc3QsXG5cdFx0aG9zdEJhc2UsXG5cdFx0YmFja2VuZEhvc3RCYXNlLFxuXHRcdHNob3J0RG9tYWluLFxuXHRcdGN1cnJlbmN5LFxuXHRcdHNpdGVMYWJlbCxcblx0fTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///29774\n')},53390:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   D: () => (/* binding */ useLocalePlace)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(70655);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14426);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_0__);\n\n\nvar useLocalePlace = function () {\n    var i18n = (0,react_i18next__WEBPACK_IMPORTED_MODULE_0__.useTranslation)().i18n;\n    return function (place, options) {\n        if (options === void 0) { options = {}; }\n        try {\n            return new Intl.DisplayNames(i18n.language, (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__assign */ .pi)({ type: 'region' }, options)).of(place);\n        }\n        catch (e) {\n            return '';\n        }\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMzOTAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBR0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9ob29rcy91c2VMb2NhbGVQbGFjZS50cz9iNWQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBDT1VOVFJZX0lTT19DT0RFIH0gZnJvbSAnLi4vLi4vZW51bXMvY291bnRyeUlTTy5lbnVtJztcblxuZXhwb3J0IGNvbnN0IHVzZUxvY2FsZVBsYWNlID0gKCkgPT4ge1xuXHRjb25zdCB7IGkxOG4gfSA9IHVzZVRyYW5zbGF0aW9uKCk7XG5cblx0cmV0dXJuIChwbGFjZTogQ09VTlRSWV9JU09fQ09ERSwgb3B0aW9uczogT21pdDxJbnRsLkRpc3BsYXlOYW1lc09wdGlvbnMsICd0eXBlJz4gPSB7fSBhcyBPbWl0PEludGwuRGlzcGxheU5hbWVzT3B0aW9ucywgJ3R5cGUnPikgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gbmV3IEludGwuRGlzcGxheU5hbWVzKGkxOG4ubGFuZ3VhZ2UsIHsgdHlwZTogJ3JlZ2lvbicsIC4uLm9wdGlvbnMgfSkub2YocGxhY2UpO1xuXHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0cmV0dXJuICcnO1xuXHRcdH1cblx0fTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///53390\n")},7483:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   y: () => (/* binding */ useLocalizedVariables)\n/* harmony export */ });\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14426);\n/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_i18next__WEBPACK_IMPORTED_MODULE_0__);\n\nvar useLocalizedVariables = function () {\n    var t = (0,react_i18next__WEBPACK_IMPORTED_MODULE_0__.useTranslation)('common').t;\n    return {\n        getAccountStatusLabel: function (user) {\n            var accountStatus = user.accountStatus, accountState = user.accountState;\n            var label;\n            switch (accountStatus) {\n                case 'bundle':\n                    label = 'Ancestry All-Access';\n                    break;\n                case 'annual-subscriber':\n                case 'monthly-subscriber':\n                case 'comp-subscriber':\n                    label = 'Premium';\n                    break;\n                case 'free-trial':\n                    label = 'Free Trial';\n                    break;\n                case 'non-subscriber':\n                    label = 'Basic';\n                    break;\n                default:\n                    if (accountState.expiring) {\n                        accountStatus = 'expired';\n                        label = 'Expired';\n                    }\n                    else {\n                        label = 'Basic';\n                    }\n                    break;\n            }\n            /*\n             * t('accountStatusLabel.bundle', 'Ancestry All-Access');\n             * t('accountStatusLabel.annual-subscriber', 'Premium');\n             * t('accountStatusLabel.monthly-subscriber', 'Premium');\n             * t('accountStatusLabel.comp-subscriber', 'Premium');\n             * t('accountStatusLabel.free-trial', 'Free Trial');\n             * t('accountStatusLabel.non-subscriber', 'Basic');\n             * t('accountStatusLabel.expired', 'Expired');\n             */\n            return t(\"accountStatusLabel.\".concat(accountStatus), label);\n        },\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQ4My5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9ob29rcy91c2VMb2NhbGl6ZWRWYXJpYWJsZXMudHM/NzBjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgVXNlckZ1bGwgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjb25zdCB1c2VMb2NhbGl6ZWRWYXJpYWJsZXMgPSAoKSA9PiB7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2NvbW1vbicpO1xuXG5cdHJldHVybiB7XG5cdFx0Z2V0QWNjb3VudFN0YXR1c0xhYmVsKHVzZXI6IFVzZXJGdWxsKSB7XG5cdFx0XHRsZXQgeyBhY2NvdW50U3RhdHVzLCBhY2NvdW50U3RhdGUgfSA9IHVzZXI7XG5cdFx0XHRsZXQgbGFiZWw7XG5cblx0XHRcdHN3aXRjaCAoYWNjb3VudFN0YXR1cykge1xuXHRcdFx0XHRjYXNlICdidW5kbGUnOlxuXHRcdFx0XHRcdGxhYmVsID0gJ0FuY2VzdHJ5IEFsbC1BY2Nlc3MnO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdhbm51YWwtc3Vic2NyaWJlcic6XG5cdFx0XHRcdGNhc2UgJ21vbnRobHktc3Vic2NyaWJlcic6XG5cdFx0XHRcdGNhc2UgJ2NvbXAtc3Vic2NyaWJlcic6XG5cdFx0XHRcdFx0bGFiZWwgPSAnUHJlbWl1bSc7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ2ZyZWUtdHJpYWwnOlxuXHRcdFx0XHRcdGxhYmVsID0gJ0ZyZWUgVHJpYWwnO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlICdub24tc3Vic2NyaWJlcic6XG5cdFx0XHRcdFx0bGFiZWwgPSAnQmFzaWMnO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGlmIChhY2NvdW50U3RhdGUuZXhwaXJpbmcpIHtcblx0XHRcdFx0XHRcdGFjY291bnRTdGF0dXMgPSAnZXhwaXJlZCcgYXMgYW55O1xuXHRcdFx0XHRcdFx0bGFiZWwgPSAnRXhwaXJlZCc7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGxhYmVsID0gJ0Jhc2ljJztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdC8qXG5cdFx0XHQgKiB0KCdhY2NvdW50U3RhdHVzTGFiZWwuYnVuZGxlJywgJ0FuY2VzdHJ5IEFsbC1BY2Nlc3MnKTtcblx0XHRcdCAqIHQoJ2FjY291bnRTdGF0dXNMYWJlbC5hbm51YWwtc3Vic2NyaWJlcicsICdQcmVtaXVtJyk7XG5cdFx0XHQgKiB0KCdhY2NvdW50U3RhdHVzTGFiZWwubW9udGhseS1zdWJzY3JpYmVyJywgJ1ByZW1pdW0nKTtcblx0XHRcdCAqIHQoJ2FjY291bnRTdGF0dXNMYWJlbC5jb21wLXN1YnNjcmliZXInLCAnUHJlbWl1bScpO1xuXHRcdFx0ICogdCgnYWNjb3VudFN0YXR1c0xhYmVsLmZyZWUtdHJpYWwnLCAnRnJlZSBUcmlhbCcpO1xuXHRcdFx0ICogdCgnYWNjb3VudFN0YXR1c0xhYmVsLm5vbi1zdWJzY3JpYmVyJywgJ0Jhc2ljJyk7XG5cdFx0XHQgKiB0KCdhY2NvdW50U3RhdHVzTGFiZWwuZXhwaXJlZCcsICdFeHBpcmVkJyk7XG5cdFx0XHQgKi9cblx0XHRcdHJldHVybiB0KGBhY2NvdW50U3RhdHVzTGFiZWwuJHthY2NvdW50U3RhdHVzfWAsIGxhYmVsKTtcblx0XHR9LFxuXHR9O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7483\n")},91668:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   S: () => (/* binding */ useRerender)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(70655);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\n/*\n * This is a hack to force a rerender. This should not be widely used. It is for rare circumstances\n * when some action happens outside of react's ability to detect.\n */\nvar useRerender = function () {\n    var _a = (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__read */ .CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0), 2), _ = _a[0], setRenderCount = _a[1];\n    return {\n        rerender: function () {\n            setRenderCount(function (count) { return count + 1; });\n        },\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTE2NjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvaG9va3MvdXNlUmVyZW5kZXIudHM/YzBmMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcblxuLypcbiAqIFRoaXMgaXMgYSBoYWNrIHRvIGZvcmNlIGEgcmVyZW5kZXIuIFRoaXMgc2hvdWxkIG5vdCBiZSB3aWRlbHkgdXNlZC4gSXQgaXMgZm9yIHJhcmUgY2lyY3Vtc3RhbmNlc1xuICogd2hlbiBzb21lIGFjdGlvbiBoYXBwZW5zIG91dHNpZGUgb2YgcmVhY3QncyBhYmlsaXR5IHRvIGRldGVjdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVJlcmVuZGVyID0gKCkgPT4ge1xuXHRjb25zdCBbXywgc2V0UmVuZGVyQ291bnRdID0gdXNlU3RhdGUoMCk7XG5cblx0cmV0dXJuIHtcblx0XHRyZXJlbmRlcigpIHtcblx0XHRcdHNldFJlbmRlckNvdW50KGNvdW50ID0+IGNvdW50ICsgMSk7XG5cdFx0fSxcblx0fTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///91668\n")},12507:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   P: () => (/* binding */ useScriptTag)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(70655);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nvar useScriptTag = function (src) {\n    var _a = (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__read */ .CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), 2), loaded = _a[0], setLoaded = _a[1];\n    var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_1__/* .__read */ .CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null), 2), error = _b[0], setError = _b[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n        try {\n            var s = document.createElement('script');\n            s.type = 'text/javascript';\n            s.src = src;\n            s.onload = function () {\n                setLoaded(true);\n            };\n            s.onerror = function (e) {\n                setError(e);\n            };\n            document.body.append(s);\n        }\n        catch (e) {\n            setError(e);\n        }\n    }, [src]);\n    return { loaded: loaded, error: error };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI1MDcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2hvb2tzL3VzZVNjcmlwdFRhZy50cz82OTcyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBjb25zdCB1c2VTY3JpcHRUYWcgPSAoc3JjOiBzdHJpbmcpID0+IHtcblx0Y29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblx0Y29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdHRyeSB7XG5cdFx0XHRsZXQgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXHRcdFx0cy50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG5cdFx0XHRzLnNyYyA9IHNyYztcblx0XHRcdHMub25sb2FkID0gKCkgPT4ge1xuXHRcdFx0XHRzZXRMb2FkZWQodHJ1ZSk7XG5cdFx0XHR9O1xuXHRcdFx0cy5vbmVycm9yID0gZSA9PiB7XG5cdFx0XHRcdHNldEVycm9yKGUpO1xuXHRcdFx0fTtcblx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kKHMpO1xuXHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0c2V0RXJyb3IoZSk7XG5cdFx0fVxuXHR9LCBbc3JjXSk7XG5cblx0cmV0dXJuIHsgbG9hZGVkLCBlcnJvciB9O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12507\n")},22929:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   M: () => (/* binding */ useSidebars),\n/* harmony export */   V: () => (/* binding */ useSidebarsContext)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70655);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context_fold3PageContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67328);\n\n\n\nvar useSidebars = function () {\n    var sidebars = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_fold3PageContext__WEBPACK_IMPORTED_MODULE_1__/* .Fold3PageContext */ .h).sidebars;\n    return sidebars;\n};\nvar useSidebarsContext = function (initiallyOpen) {\n    if (initiallyOpen === void 0) { initiallyOpen = false; }\n    var _a = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__read */ .CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initiallyOpen), 2), sidebarOpen = _a[0], setSidebarOpen = _a[1];\n    var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__read */ .CR)((0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]), 2), sidebars = _b[0], setSidebars = _b[1];\n    return {\n        open: sidebarOpen,\n        sidebars: sidebars,\n        addSidebar: function (dialog, open) {\n            if (open === void 0) { open = false; }\n            setSidebars(function (dialogs) { return (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__spreadArray */ .ev)((0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__spreadArray */ .ev)([], (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__read */ .CR)(dialogs), false), [dialog], false); });\n            if (open) {\n                setSidebarOpen(true);\n            }\n        },\n        removeSidebar: function () {\n            setSidebars(function (dialogs) {\n                return dialogs.slice(0, -1);\n            });\n        },\n        toggleSidebar: function (open) {\n            setSidebarOpen(function (_open) {\n                if (open === undefined) {\n                    return !_open;\n                }\n                return open;\n            });\n        },\n        clearSidebars: function () {\n            setSidebars([]);\n        },\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI5MjkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvaG9va3MvdXNlU2lkZWJhci50cz8yZmRiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNvbnRleHQsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRm9sZDNQYWdlQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvZm9sZDNQYWdlQ29udGV4dCc7XG5cbnR5cGUgQWRkU2lkZWJhckZuID0gKGRpYWxvZzogSlNYLkVsZW1lbnQpID0+IHZvaWRcblxuZXhwb3J0IGludGVyZmFjZSBTaWRlYmFyc0ludGVyZmFjZSB7XG5cdGFkZFNpZGViYXI6IEFkZFNpZGViYXJGblxuXHRyZW1vdmVTaWRlYmFyKCk6IHZvaWRcblx0dG9nZ2xlU2lkZWJhcihvcGVuPzogYm9vbGVhbik6IHZvaWRcblx0c2lkZWJhcnM6IEpTWC5FbGVtZW50W107XG5cdGNsZWFyU2lkZWJhcnMoKTogdm9pZDtcblx0b3BlbjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZVNpZGViYXJzID0gKCkgPT4ge1xuXHRjb25zdCB7IHNpZGViYXJzIH0gPSB1c2VDb250ZXh0KEZvbGQzUGFnZUNvbnRleHQpO1xuXHRyZXR1cm4gc2lkZWJhcnM7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlU2lkZWJhcnNDb250ZXh0ID0gKGluaXRpYWxseU9wZW46IGJvb2xlYW4gPSBmYWxzZSk6IFNpZGViYXJzSW50ZXJmYWNlID0+IHtcblx0Y29uc3QgW3NpZGViYXJPcGVuLCBzZXRTaWRlYmFyT3Blbl0gPSB1c2VTdGF0ZShpbml0aWFsbHlPcGVuKTtcblx0Y29uc3QgW3NpZGViYXJzLCBzZXRTaWRlYmFyc10gPSB1c2VTdGF0ZShbXSk7XG5cblx0cmV0dXJuIHtcblx0XHRvcGVuOiBzaWRlYmFyT3Blbixcblx0XHRzaWRlYmFycyxcblx0XHRhZGRTaWRlYmFyKGRpYWxvZzogSlNYLkVsZW1lbnQsIG9wZW46IGJvb2xlYW4gPSBmYWxzZSkge1xuXHRcdFx0c2V0U2lkZWJhcnMoZGlhbG9ncyA9PiBbLi4uZGlhbG9ncywgZGlhbG9nXSk7XG5cdFx0XHRpZiAob3Blbikge1xuXHRcdFx0XHRzZXRTaWRlYmFyT3Blbih0cnVlKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHJlbW92ZVNpZGViYXIoKSB7XG5cdFx0XHRzZXRTaWRlYmFycyhkaWFsb2dzID0+IHtcblx0XHRcdFx0cmV0dXJuIGRpYWxvZ3Muc2xpY2UoMCwgLTEpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHR0b2dnbGVTaWRlYmFyKG9wZW4pIHtcblx0XHRcdHNldFNpZGViYXJPcGVuKF9vcGVuID0+IHtcblx0XHRcdFx0aWYgKG9wZW4gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybiAhX29wZW47XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG9wZW47XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdGNsZWFyU2lkZWJhcnMoKSB7XG5cdFx0XHRzZXRTaWRlYmFycyhbXSk7XG5cdFx0fSxcblx0fTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22929\n")},62784:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   y: () => (/* binding */ useStorage)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(32827);\n/* harmony import */ var _useRerender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(91668);\n\n\n\nvar useStorage = function (keysToWatch) {\n    var rerender = (0,_useRerender__WEBPACK_IMPORTED_MODULE_1__/* .useRerender */ .S)().rerender;\n    var shouldUpdate = function (key) {\n        if (!keysToWatch)\n            return true;\n        return keysToWatch.includes(key);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n        _storage__WEBPACK_IMPORTED_MODULE_2__/* .local */ .I_.onUpdated(function (action, key, value) {\n            if (shouldUpdate(key))\n                rerender();\n        });\n        _storage__WEBPACK_IMPORTED_MODULE_2__/* .session */ .nP.onUpdated(function (action, key, value) {\n            if (shouldUpdate(key))\n                rerender();\n        });\n    }, []);\n    return { local: _storage__WEBPACK_IMPORTED_MODULE_2__/* .local */ .I_, session: _storage__WEBPACK_IMPORTED_MODULE_2__/* .session */ .nP };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjI3ODQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9ob29rcy91c2VTdG9yYWdlLnRzP2JmNDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU3RvcmFnZSwgbG9jYWwsIHNlc3Npb24gfSBmcm9tICcuLi9zdG9yYWdlJztcbmltcG9ydCB7IHVzZVJlcmVuZGVyIH0gZnJvbSAnLi91c2VSZXJlbmRlcic7XG5cbmV4cG9ydCBjb25zdCB1c2VTdG9yYWdlID0gKGtleXNUb1dhdGNoPzogc3RyaW5nW10pOiB7IGxvY2FsOiBTdG9yYWdlLCBzZXNzaW9uOiBTdG9yYWdlIH0gPT4ge1xuXHRjb25zdCB7IHJlcmVuZGVyIH0gPSB1c2VSZXJlbmRlcigpO1xuXG5cdGNvbnN0IHNob3VsZFVwZGF0ZSA9IChrZXk6IHN0cmluZykgPT4ge1xuXHRcdGlmICgha2V5c1RvV2F0Y2gpIHJldHVybiB0cnVlO1xuXHRcdHJldHVybiBrZXlzVG9XYXRjaC5pbmNsdWRlcyhrZXkpO1xuXHR9O1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0bG9jYWwub25VcGRhdGVkKChhY3Rpb24sIGtleSwgdmFsdWUpID0+IHtcblx0XHRcdGlmIChzaG91bGRVcGRhdGUoa2V5KSkgcmVyZW5kZXIoKTtcblx0XHR9KTtcblxuXHRcdHNlc3Npb24ub25VcGRhdGVkKChhY3Rpb24sIGtleSwgdmFsdWUpID0+IHtcblx0XHRcdGlmIChzaG91bGRVcGRhdGUoa2V5KSkgcmVyZW5kZXIoKTtcblx0XHR9KTtcblx0fSwgW10pO1xuXG5cdHJldHVybiB7IGxvY2FsLCBzZXNzaW9uIH07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///62784\n")},15954:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   t: () => (/* binding */ useThumbnail)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70655);\n/* harmony import */ var _thumbnail__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(677);\n/* harmony import */ var _useDomain__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(29774);\n\n\n\nvar useThumbnail = function () {\n    var _a = (0,_useDomain__WEBPACK_IMPORTED_MODULE_0__/* .useDomain */ .a)(), f3Domain = _a.f3Domain, environment = _a.environment;\n    return {\n        getThumbnail: function (opts) {\n            return (0,_thumbnail__WEBPACK_IMPORTED_MODULE_1__/* .getThumbnail */ .sX)((0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)((0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({}, opts), { domain: f3Domain, environment: environment }));\n        },\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU5NTQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9ob29rcy91c2VUaHVtYm5haWwudHM/MzFmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUaHVtYm5haWxPcHRzLCBnZXRUaHVtYm5haWwgfSBmcm9tICcuLi90aHVtYm5haWwnO1xuaW1wb3J0IHsgdXNlRG9tYWluIH0gZnJvbSAnLi91c2VEb21haW4nO1xuXG5leHBvcnQgY29uc3QgdXNlVGh1bWJuYWlsID0gKCkgPT4ge1xuXHRjb25zdCB7IGYzRG9tYWluLCBlbnZpcm9ubWVudCB9ID0gdXNlRG9tYWluKCk7XG5cblx0cmV0dXJuIHtcblx0XHRnZXRUaHVtYm5haWwob3B0czogVGh1bWJuYWlsT3B0cykge1xuXHRcdFx0cmV0dXJuIGdldFRodW1ibmFpbCh7XG5cdFx0XHRcdC4uLm9wdHMsXG5cdFx0XHRcdGRvbWFpbjogZjNEb21haW4sXG5cdFx0XHRcdGVudmlyb25tZW50LFxuXHRcdFx0fSk7XG5cdFx0fSxcblx0fTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///15954\n")},58159:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a: () => (/* binding */ useUser)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(87363);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _context_fold3PageContext__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67328);\n/* harmony import */ var _sessionHelpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(41502);\n\n\n\n/*\n * This can only be used as a hook in components that have Fold3PageContext as their context.\n * This should be every react page.\n */\nvar useUser = function () {\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_context_fold3PageContext__WEBPACK_IMPORTED_MODULE_1__/* .Fold3PageContext */ .h), session = _a.session, setUser = _a.setUser;\n    var institution = session.institution, user = session.user;\n    return {\n        institution: institution,\n        user: user,\n        isInstitution: !!institution,\n        isAuthenticated: (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_2__/* .isAuthenticated */ .$8)(session),\n        isSilo: (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_2__/* .isSiloed */ .zR)(institution),\n        isProquest: (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_2__/* .isProquest */ .mH)(institution),\n        isPremium: (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_2__/* .isPremiumUser */ .VG)(user),\n        isRegistered: (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_2__/* .isRegistered */ .pH)(user),\n        isSignedIn: (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_2__/* .isSignedIn */ .jF)(user),\n        isConfirmed: (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_2__/* .isConfirmed */ .vE)(user),\n        isBundle: (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_2__/* .isBundle */ .w_)(user),\n        isAnnual: (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_2__/* .isAnnual */ .pE)(user),\n        isMonthly: (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_2__/* .isMonthly */ .W)(user),\n        isFreeTrial: (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_2__/* .isFreeTrial */ .b1)(user),\n        isNewspaperSubscriber: (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_2__/* .isNewspaperSubscriber */ .uJ)(user),\n        isAcomSubscriber: (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_2__/* .isAcomSubscriber */ .A6)(user),\n        isAdmin: (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_2__/* .isAdmin */ .GJ)(user),\n        setUser: setUser,\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTgxNTkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvaG9va3MvdXNlVXNlci50cz9kZWU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGb2xkM1BhZ2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9mb2xkM1BhZ2VDb250ZXh0JztcbmltcG9ydCB7IGlzQWNvbVN1YnNjcmliZXIsIGlzQWRtaW4sIGlzQW5udWFsLCBpc0F1dGhlbnRpY2F0ZWQsIGlzQnVuZGxlLCBpc0NvbmZpcm1lZCwgaXNGcmVlVHJpYWwsIGlzTW9udGhseSwgaXNOZXdzcGFwZXJTdWJzY3JpYmVyLCBpc1ByZW1pdW1Vc2VyLCBpc1Byb3F1ZXN0LCBpc1JlZ2lzdGVyZWQsIGlzU2lnbmVkSW4sIGlzU2lsb2VkIH0gZnJvbSAnLi4vc2Vzc2lvbkhlbHBlcnMnO1xuXG4vKlxuICogVGhpcyBjYW4gb25seSBiZSB1c2VkIGFzIGEgaG9vayBpbiBjb21wb25lbnRzIHRoYXQgaGF2ZSBGb2xkM1BhZ2VDb250ZXh0IGFzIHRoZWlyIGNvbnRleHQuXG4gKiBUaGlzIHNob3VsZCBiZSBldmVyeSByZWFjdCBwYWdlLlxuICovXG5leHBvcnQgY29uc3QgdXNlVXNlciA9ICgpID0+IHtcblx0Y29uc3QgeyBzZXNzaW9uLCBzZXRVc2VyIH0gPSB1c2VDb250ZXh0KEZvbGQzUGFnZUNvbnRleHQpO1xuXHRjb25zdCB7IGluc3RpdHV0aW9uLCB1c2VyIH0gPSBzZXNzaW9uO1xuXG5cdHJldHVybiB7XG5cdFx0aW5zdGl0dXRpb24sXG5cdFx0dXNlcixcblx0XHRpc0luc3RpdHV0aW9uOiAhIWluc3RpdHV0aW9uLFxuXHRcdGlzQXV0aGVudGljYXRlZDogaXNBdXRoZW50aWNhdGVkKHNlc3Npb24pLFxuXHRcdGlzU2lsbzogaXNTaWxvZWQoaW5zdGl0dXRpb24pLFxuXHRcdGlzUHJvcXVlc3Q6IGlzUHJvcXVlc3QoaW5zdGl0dXRpb24pLFxuXHRcdGlzUHJlbWl1bTogaXNQcmVtaXVtVXNlcih1c2VyKSxcblx0XHRpc1JlZ2lzdGVyZWQ6IGlzUmVnaXN0ZXJlZCh1c2VyKSxcblx0XHRpc1NpZ25lZEluOiBpc1NpZ25lZEluKHVzZXIpLFxuXHRcdGlzQ29uZmlybWVkOiBpc0NvbmZpcm1lZCh1c2VyKSxcblx0XHRpc0J1bmRsZTogaXNCdW5kbGUodXNlciksXG5cdFx0aXNBbm51YWw6IGlzQW5udWFsKHVzZXIpLFxuXHRcdGlzTW9udGhseTogaXNNb250aGx5KHVzZXIpLFxuXHRcdGlzRnJlZVRyaWFsOiBpc0ZyZWVUcmlhbCh1c2VyKSxcblx0XHRpc05ld3NwYXBlclN1YnNjcmliZXI6IGlzTmV3c3BhcGVyU3Vic2NyaWJlcih1c2VyKSxcblx0XHRpc0Fjb21TdWJzY3JpYmVyOiBpc0Fjb21TdWJzY3JpYmVyKHVzZXIpLFxuXHRcdGlzQWRtaW46IGlzQWRtaW4odXNlciksXG5cdFx0c2V0VXNlcixcblx0fTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///58159\n")},40315:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FL: () => (/* binding */ isF3Url),\n/* harmony export */   Fo: () => (/* binding */ getSocialMediaUrl),\n/* harmony export */   Oh: () => (/* binding */ getImageHost),\n/* harmony export */   P$: () => (/* binding */ getOrigin),\n/* harmony export */   PI: () => (/* binding */ serializeDomain),\n/* harmony export */   R2: () => (/* binding */ getBlogHost),\n/* harmony export */   SX: () => (/* binding */ getDomainForISOCountry),\n/* harmony export */   Ss: () => (/* binding */ getBackendHostBase),\n/* harmony export */   UJ: () => (/* binding */ getSiteLabelForSiteType),\n/* harmony export */   XF: () => (/* binding */ getHost),\n/* harmony export */   aj: () => (/* binding */ getUsernameForDomain),\n/* harmony export */   fy: () => (/* binding */ getContentProviderForDomain),\n/* harmony export */   ge: () => (/* binding */ getDomain),\n/* harmony export */   hA: () => (/* binding */ getSiteName),\n/* harmony export */   jK: () => (/* binding */ getCurrencyForDomain),\n/* harmony export */   jO: () => (/* binding */ getSiteTypeForDomain),\n/* harmony export */   l2: () => (/* binding */ getSiteLogo),\n/* harmony export */   n_: () => (/* binding */ getHostBase),\n/* harmony export */   p_: () => (/* binding */ getDomainLanguages),\n/* harmony export */   wW: () => (/* binding */ getCountryCodeForDomain)\n/* harmony export */ });\n/* unused harmony exports getDomainList, getDomainLocale, getDomainPrimaryLanguage, getDomainsForSiteType, getTwitterUsername, deserializeDomain, getSiteType, getSiteTypeForUrl, getDomainsForUrl, isValidDomain, getGoStackHost, getPhpHost, getRequestDomain, getSiteColor, getSiteFavicon, getPlaceFacetForDomain */\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70655);\n/* harmony import */ var _mappings_currencies_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(55716);\n/* harmony import */ var _enums_countryISO_enum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(2137);\n/* harmony import */ var _environment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(37421);\n/* harmony import */ var _getRuntime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(51057);\n/* harmony import */ var _getUrl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(74174);\n/* harmony import */ var _mapUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(64528);\n/* harmony import */ var _sessionHelpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(41502);\n/* harmony import */ var _sharedConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(32179);\n\n\n\n\n\n\n\n\n\nvar localPort = ':9292';\nvar getDomains = function () {\n    return (0,_mapUtil__WEBPACK_IMPORTED_MODULE_0__/* .filterObject */ .v7)((0,_sharedConfig__WEBPACK_IMPORTED_MODULE_1__/* .getConfig */ .iE)().domains, function (key, val) { return val !== null; });\n};\nvar getSites = function () {\n    return (0,_sharedConfig__WEBPACK_IMPORTED_MODULE_1__/* .getConfig */ .iE)().sites;\n};\nvar getDomainList = function () {\n    return Object.keys(getDomains());\n};\nvar getDomainLocale = function (domain) {\n    var _a = getDomainConfig(domain), countries = _a.countries, languages = _a.languages;\n    return {\n        isoCountry: countries[0],\n        isoLanguage: languages[0],\n        isoCode: languages[0],\n        label: getSiteName(domain),\n    };\n};\nvar getDomainPrimaryLanguage = function (domain) {\n    return getDomainConfig(domain).languages[0];\n};\nvar getDomainLanguages = function (domain) {\n    var _a;\n    return (_a = getDomainConfig(domain)) === null || _a === void 0 ? void 0 : _a.languages;\n};\nvar getDomainsForSiteType = function (siteType) {\n    return Object.entries(getDomains())\n        .filter(function (_a) {\n        var _b = __read(_a, 2), _ = _b[0], domainConfig = _b[1];\n        return domainConfig.siteType === siteType;\n    })\n        .map(function (_a) {\n        var _b = __read(_a, 1), domain = _b[0];\n        return domain;\n    });\n};\nvar getSiteTypeForDomain = function (domain) {\n    var _a;\n    return (_a = getDomainConfig(domain)) === null || _a === void 0 ? void 0 : _a.siteType;\n};\nfunction getSiteLabelForSiteType(siteType, short) {\n    if (short === void 0) { short = false; }\n    switch (siteType) {\n        case 'F3':\n            return 'Fold3';\n        case 'FWR':\n            return short ? 'FWR' : 'Forces War Records';\n        default:\n            return '';\n    }\n}\nfunction getSiteName(f3Domain, opts) {\n    if (opts === void 0) { opts = {}; }\n    var siteType = getSiteTypeForDomain(f3Domain);\n    var label = getSiteLabelForSiteType(siteType, opts.short);\n    var tm = opts.tm, reg = opts.reg;\n    if (tm)\n        label += '';\n    if (reg && siteType !== 'FWR')\n        label += '';\n    return label;\n}\nfunction getSocialMediaUrl(siteType, socialMediaSite) {\n    var _a;\n    return (_a = getSites()[siteType]) === null || _a === void 0 ? void 0 : _a.socialMedia[socialMediaSite];\n}\nfunction getTwitterUsername(siteType) {\n    var url = getSocialMediaUrl(siteType, 'TWITTER');\n    return \"@\".concat(url === null || url === void 0 ? void 0 : url.replace('https://twitter.com/', ''));\n}\nfunction getCountryCodeForDomain(domain) {\n    var _a;\n    var countries = (_a = getDomainConfig(domain)) === null || _a === void 0 ? void 0 : _a.countries;\n    if (!countries)\n        return null;\n    var primaryCountry = countries[0];\n    return _enums_countryISO_enum__WEBPACK_IMPORTED_MODULE_3__/* .COUNTRY_ISO_CODE */ .p[primaryCountry];\n}\nfunction getDomainConfig(domain) {\n    return getDomains()[domain];\n}\nvar serializeDomain = function (domain) {\n    return domain === null || domain === void 0 ? void 0 : domain.replace(/(FOLD3|FORCES_WAR)/, function (str) {\n        switch (str) {\n            case 'FOLD3': return 'F3';\n            case 'FORCES_WAR': return 'FW';\n        }\n    });\n};\nvar deserializeDomain = function (domain) {\n    return domain.replace(/(F3|FW)/, function (str) {\n        switch (str) {\n            case 'F3': return 'FOLD3';\n            case 'FW': return 'FORCES_WAR';\n        }\n    });\n};\nvar getSiteType = function (domain) {\n    switch (domain) {\n        case 'FOLD3_US':\n            return 'F3';\n        default:\n            return 'FWR';\n    }\n};\nvar getSiteTypeForUrl = function (url) {\n    var e_1, _a;\n    var urlSite = (0,_getUrl__WEBPACK_IMPORTED_MODULE_4__/* .getUrlParts */ .A)(url).site;\n    try {\n        for (var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__values */ .XA)(Object.entries(getSites())), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var _d = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__read */ .CR)(_c.value, 2), siteType = _d[0], site = _d[1];\n            if (Object.values(site.environments).includes(urlSite)) {\n                return siteType;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n};\nvar getDomainsForUrl = function (url) {\n    var subdomain = (0,_getUrl__WEBPACK_IMPORTED_MODULE_4__/* .getUrlParts */ .A)(url).subdomain;\n    var siteType = getSiteTypeForUrl(url);\n    var isValid = isValidSubdomain(subdomain, siteType);\n    return Object.entries(getDomains())\n        .filter(function (_a) {\n        var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__read */ .CR)(_a, 2), _ = _b[0], config = _b[1];\n        /*\n         * If the subdomain is valid, make sure that the config's subdomain matches.\n         * If it's not valid, then just collect all possible domains\n         */\n        if (isValid && subdomain && config.subdomain !== subdomain) {\n            return false;\n        }\n        return config.siteType === siteType;\n    })\n        .map(function (_a) {\n        var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__read */ .CR)(_a, 1), domain = _b[0];\n        return domain;\n    });\n};\nvar getValidSubdomains = function (siteType) {\n    return Object.values(getDomains()).reduce(function (finalArr, domainConfig) {\n        if (domainConfig.siteType === siteType) {\n            finalArr.push(domainConfig.subdomain);\n        }\n        return finalArr;\n    }, []);\n};\nvar isValidSubdomain = function (subdomain, siteType) {\n    return getValidSubdomains(siteType).includes(subdomain);\n};\nvar isValidDomain = function (domain) {\n    return Object.keys(getDomains()).includes(domain);\n};\nvar isF3Url = function (url) {\n    return getDomainsForUrl(url).length > 0;\n};\nvar getHostBase = function (domain, env) {\n    var _a;\n    var domainConfig = getDomainConfig(domain);\n    return \"\".concat((_a = getEnvironmentForConfig(domainConfig)) === null || _a === void 0 ? void 0 : _a.environments[env], \".com\");\n};\nvar getBackendHostBase = function (domain, env) {\n    var hostBase = getHostBase(domain, env);\n    if (!env.includes('local'))\n        return hostBase;\n    var realEnv = env.match(/local:?(\\w*)/)[1] || 'dev';\n    return getHostBase(domain, realEnv);\n};\nvar getEnvironmentForConfig = function (domainConfig) {\n    return getSites()[domainConfig === null || domainConfig === void 0 ? void 0 : domainConfig.siteType];\n};\nvar getHost = function (domain, env) {\n    var _a;\n    var subdomain = (_a = getDomainConfig(domain)) === null || _a === void 0 ? void 0 : _a.subdomain;\n    return \"\".concat(subdomain, \".\").concat(getHostBase(domain, env));\n};\nvar getOrigin = function (domain, env) {\n    var origin = \"https://\".concat(getHost(domain, env));\n    if (env.includes('local'))\n        origin += localPort;\n    return origin;\n};\nvar getImageHost = function (domain, env) {\n    return \"https://img.\".concat(getBackendHostBase(domain, env));\n};\nvar getGoStackHost = function (domain, env) {\n    return \"https://go.\".concat(getHostBase(domain, env));\n};\nvar getPhpHost = function (env) {\n    if (env.includes('local')) {\n        env = 'dev';\n    }\n    /* The php services should only be available on, and service Fold3, not FWR */\n    return \"http://php.\".concat(getHostBase('FOLD3_US', env), \":9090\");\n};\nvar getBlogHost = function (domain, env) {\n    if (env.includes('local')) {\n        env = 'dev';\n    }\n    return \"https://blog.\".concat(getHostBase(domain, env));\n};\nvar getDomainForISOCountry = function (country) {\n    var e_2, _a;\n    try {\n        for (var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__values */ .XA)(Object.entries(getDomains())), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var _d = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__read */ .CR)(_c.value, 2), domain = _d[0], domainConfig = _d[1];\n            if (domainConfig.countries.includes(country)) {\n                return domain;\n            }\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n};\nvar getRequestDomain = function (req) {\n    if (!req) {\n        return null;\n    }\n    var domains = getDomainsForUrl((0,_getUrl__WEBPACK_IMPORTED_MODULE_4__/* .getUrl */ .G)(req).toString());\n    /* Domain can only be definitely determined if there is only one option */\n    if (domains.length === 1) {\n        return domains[0];\n    }\n};\nvar getDomain = function (req) {\n    var _a;\n    try {\n        switch ((0,_getRuntime__WEBPACK_IMPORTED_MODULE_5__/* .getRuntime */ .OP)()) {\n            case 'BROWSER': return (_a = getDomainsForUrl(window.location.href)) === null || _a === void 0 ? void 0 : _a[0];\n            case 'NODE': return getRequestDomain(req);\n        }\n    }\n    catch (e) {\n        console.log(e);\n    }\n};\nvar getSiteColor = function (siteType) {\n    switch (siteType) {\n        case 'F3': return '#c14139';\n        case 'FWR': return '#335554';\n        default: return '';\n    }\n};\nvar getSiteLogo = function (siteType, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.color, color = _c === void 0 ? true : _c, _d = _b.byAncestry, byAncestry = _d === void 0 ? true : _d;\n    var path;\n    switch (siteType) {\n        case 'F3': {\n            path = color ? '/img/fold3-color.svg' : '/img/fold3logo.svg';\n            break;\n        }\n        case 'FWR': {\n            if (byAncestry) {\n                path = color ? '/img/fwr-color-ba.svg' : '/img/fwr-logo-ba.svg';\n            }\n            else {\n                path = color ? '/img/fwr-color.svg' : '/img/fwr-logo.svg';\n            }\n            break;\n        }\n    }\n    return path;\n};\nvar getSiteFavicon = function (siteType) {\n    switch (siteType) {\n        case 'F3': return '/img/favicon.ico';\n        case 'FWR': return '/img/fwr-favicon.ico';\n    }\n};\nvar getCurrencyForDomain = function (domain) {\n    return _mappings_currencies_json__WEBPACK_IMPORTED_MODULE_6__[domain];\n};\nvar placeFacetMap = {\n    'FOLD3_US': {\n        label: 'United States of America',\n        value: 'rel.148838',\n    },\n    'FORCES_WAR_UK': {\n        label: 'United Kingdom',\n        value: 'rel.62149',\n    },\n    'FORCES_WAR_CA': {\n        label: 'Canada',\n        value: 'rel.1428125',\n    },\n    'FORCES_WAR_AU': {\n        label: 'Australia',\n        value: 'rel.80500',\n    },\n    'FORCES_WAR_NZ': {\n        label: 'New Zealand',\n        value: 'rel.556706',\n    },\n};\nvar getPlaceFacetForDomain = function (domain) {\n    return placeFacetMap[domain] || null;\n};\nfunction getContentProviderForDomain(f3Domain, provider) {\n    var domain, locale, name, url;\n    var rest = {};\n    var env = (0,_environment__WEBPACK_IMPORTED_MODULE_7__/* .getEnvironment */ .z)();\n    if (provider) {\n        var providerDomain = provider.domain, providerLocale = provider.locale, providerName = provider.name, providerUrl = provider.url, providerRest = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__rest */ ._T)(provider, [\"domain\", \"locale\", \"name\", \"url\"]);\n        if (name === 'Fold3') {\n            domain = f3Domain;\n            name = getSiteName(f3Domain, { domain: false, reg: false, short: false, tm: false });\n            url = getOrigin(f3Domain, env);\n            locale = getDomainLocale(f3Domain);\n        }\n        else {\n            domain = providerDomain;\n            locale = providerLocale;\n            name = providerName;\n            url = providerUrl;\n        }\n        rest = providerRest;\n    }\n    else {\n        domain = f3Domain;\n        name = getSiteName(f3Domain, { domain: false, reg: false, short: false, tm: false });\n        url = getOrigin(f3Domain, env);\n        locale = getDomainLocale(f3Domain);\n    }\n    return (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({ domain: domain, locale: locale, name: name, url: url }, rest);\n}\nfunction getUsernameForDomain(username, userId, domain) {\n    if ((0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_8__/* .isRootUserId */ .PN)(userId) || (0,_sessionHelpers__WEBPACK_IMPORTED_MODULE_8__/* .isContentUserId */ .Gx)(userId)) {\n        var username_1 = getSiteLabelForSiteType(getSiteTypeForDomain(domain), true);\n        return \"\".concat(username_1, \"_Team\");\n    }\n    return username;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAzMTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTs7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9sb2NhbGl6YXRpb24vZG9tYWluLnRzPzQ2ZDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGN1cnJlbmNpZXMgZnJvbSAnLi4vLi4vLi4vbWFwcGluZ3MvY3VycmVuY2llcy5qc29uJztcbmltcG9ydCB7IENvbnRlbnRQcm92aWRlciwgQ3VycmVuY3ksIERvbWFpbiwgTG9jYWxlIH0gZnJvbSAnLi4vLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgRG9tYWluQ29uZmlnLCBGM1JlcXVlc3QsIEZvbGQzRW52aXJvbm1lbnQsIFNob3J0RG9tYWluLCBTaXRlVHlwZSwgU29jaWFsTWVkaWFTaXRlcyB9IGZyb20gJy4uLy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBDT1VOVFJZX0lTT19DT0RFLCBDb3VudHJ5Q29kZSB9IGZyb20gJy4uLy4uL2VudW1zL2NvdW50cnlJU08uZW51bSc7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudCB9IGZyb20gJy4uL2Vudmlyb25tZW50JztcbmltcG9ydCB7IGdldFJ1bnRpbWUgfSBmcm9tICcuLi9nZXRSdW50aW1lJztcbmltcG9ydCB7IGdldFVybCwgZ2V0VXJsUGFydHMgfSBmcm9tICcuLi9nZXRVcmwnO1xuaW1wb3J0IHsgZmlsdGVyT2JqZWN0IH0gZnJvbSAnLi4vbWFwVXRpbCc7XG5pbXBvcnQgeyBpc0NvbnRlbnRVc2VySWQsIGlzUm9vdFVzZXJJZCB9IGZyb20gJy4uL3Nlc3Npb25IZWxwZXJzJztcbmltcG9ydCB7IGdldENvbmZpZyB9IGZyb20gJy4uL3NoYXJlZENvbmZpZyc7XG5cbmNvbnN0IGxvY2FsUG9ydCA9ICc6OTI5Mic7XG5cbmNvbnN0IGdldERvbWFpbnMgPSAoKSA9PiB7XG5cdHJldHVybiBmaWx0ZXJPYmplY3QoZ2V0Q29uZmlnKCkuZG9tYWlucywgKGtleSwgdmFsKSA9PiB2YWwgIT09IG51bGwpO1xufTtcblxuY29uc3QgZ2V0U2l0ZXMgPSAoKSA9PiB7XG5cdHJldHVybiBnZXRDb25maWcoKS5zaXRlcztcbn07XG5cbmludGVyZmFjZSBMYWJlbE9wdHMge1xuXHR0bT86IGJvb2xlYW5cblx0cmVnPzogYm9vbGVhblxuXHRzaG9ydD86IGJvb2xlYW5cblx0ZG9tYWluPzogYm9vbGVhblxufVxuXG5leHBvcnQgY29uc3QgZ2V0RG9tYWluTGlzdCA9ICgpID0+IHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKGdldERvbWFpbnMoKSkgYXMgRG9tYWluW107XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RG9tYWluTG9jYWxlID0gKGRvbWFpbjogRG9tYWluKTogTG9jYWxlID0+IHtcblx0Y29uc3QgeyBjb3VudHJpZXMsIGxhbmd1YWdlcyB9ID0gZ2V0RG9tYWluQ29uZmlnKGRvbWFpbik7XG5cblx0cmV0dXJuIHtcblx0XHRpc29Db3VudHJ5OiBjb3VudHJpZXNbMF0sXG5cdFx0aXNvTGFuZ3VhZ2U6IGxhbmd1YWdlc1swXSxcblx0XHRpc29Db2RlOiBsYW5ndWFnZXNbMF0sXG5cdFx0bGFiZWw6IGdldFNpdGVOYW1lKGRvbWFpbiksXG5cdH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RG9tYWluUHJpbWFyeUxhbmd1YWdlID0gKGRvbWFpbjogRG9tYWluKSA9PiB7XG5cdHJldHVybiBnZXREb21haW5Db25maWcoZG9tYWluKS5sYW5ndWFnZXNbMF07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RG9tYWluTGFuZ3VhZ2VzID0gKGRvbWFpbjogRG9tYWluKSA9PiB7XG5cdHJldHVybiBnZXREb21haW5Db25maWcoZG9tYWluKT8ubGFuZ3VhZ2VzO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldERvbWFpbnNGb3JTaXRlVHlwZSA9IChzaXRlVHlwZTogU2l0ZVR5cGUpOiBEb21haW5bXSA9PiB7XG5cdHJldHVybiBPYmplY3QuZW50cmllcyhnZXREb21haW5zKCkpXG5cdFx0LmZpbHRlcigoW18sIGRvbWFpbkNvbmZpZ10pID0+IHtcblx0XHRcdHJldHVybiBkb21haW5Db25maWcuc2l0ZVR5cGUgPT09IHNpdGVUeXBlO1xuXHRcdH0pXG5cdFx0Lm1hcCgoW2RvbWFpbl0pID0+IGRvbWFpbiBhcyBEb21haW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNpdGVUeXBlRm9yRG9tYWluID0gKGRvbWFpbjogRG9tYWluKSA9PiB7XG5cdHJldHVybiBnZXREb21haW5Db25maWcoZG9tYWluKT8uc2l0ZVR5cGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l0ZUxhYmVsRm9yU2l0ZVR5cGUoc2l0ZVR5cGU6IFNpdGVUeXBlLCBzaG9ydDogYm9vbGVhbiA9IGZhbHNlKSB7XG5cdHN3aXRjaCAoc2l0ZVR5cGUpIHtcblx0XHRjYXNlICdGMyc6XG5cdFx0XHRyZXR1cm4gJ0ZvbGQzJztcblx0XHRjYXNlICdGV1InOlxuXHRcdFx0cmV0dXJuIHNob3J0ID8gJ0ZXUicgOiAnRm9yY2VzIFdhciBSZWNvcmRzJztcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuICcnO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaXRlTmFtZShmM0RvbWFpbjogRG9tYWluLCBvcHRzOiBMYWJlbE9wdHMgPSB7fSkge1xuXHRjb25zdCBzaXRlVHlwZSA9IGdldFNpdGVUeXBlRm9yRG9tYWluKGYzRG9tYWluKTtcblxuXHRsZXQgbGFiZWwgPSBnZXRTaXRlTGFiZWxGb3JTaXRlVHlwZShzaXRlVHlwZSwgb3B0cy5zaG9ydCk7XG5cblx0Y29uc3QgeyB0bSwgcmVnIH0gPSBvcHRzO1xuXG5cdGlmICh0bSkgbGFiZWwgKz0gJ+KEoic7XG5cdGlmIChyZWcgJiYgc2l0ZVR5cGUgIT09ICdGV1InKSBsYWJlbCArPSAnwq4nO1xuXG5cdHJldHVybiBsYWJlbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNvY2lhbE1lZGlhVXJsKHNpdGVUeXBlOiBTaXRlVHlwZSwgc29jaWFsTWVkaWFTaXRlOiBTb2NpYWxNZWRpYVNpdGVzKSB7XG5cdHJldHVybiBnZXRTaXRlcygpW3NpdGVUeXBlXT8uc29jaWFsTWVkaWFbc29jaWFsTWVkaWFTaXRlXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFR3aXR0ZXJVc2VybmFtZShzaXRlVHlwZTogU2l0ZVR5cGUpIHtcblx0bGV0IHVybCA9IGdldFNvY2lhbE1lZGlhVXJsKHNpdGVUeXBlLCAnVFdJVFRFUicpO1xuXG5cdHJldHVybiBgQCR7dXJsPy5yZXBsYWNlKCdodHRwczovL3R3aXR0ZXIuY29tLycsICcnKX1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q291bnRyeUNvZGVGb3JEb21haW4oZG9tYWluOiBEb21haW4pIHtcblx0bGV0IGNvdW50cmllcyA9IGdldERvbWFpbkNvbmZpZyhkb21haW4pPy5jb3VudHJpZXM7XG5cdGlmICghY291bnRyaWVzKSByZXR1cm4gbnVsbDtcblxuXHRsZXQgcHJpbWFyeUNvdW50cnkgPSBjb3VudHJpZXNbMF07XG5cdHJldHVybiBDT1VOVFJZX0lTT19DT0RFW3ByaW1hcnlDb3VudHJ5XTtcbn1cblxuZnVuY3Rpb24gZ2V0RG9tYWluQ29uZmlnKGRvbWFpbjogRG9tYWluKSB7XG5cdHJldHVybiBnZXREb21haW5zKClbZG9tYWluXTtcbn1cblxuZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZURvbWFpbiA9IChkb21haW46IERvbWFpbik6IFNob3J0RG9tYWluID0+IHtcblx0cmV0dXJuIGRvbWFpbj8ucmVwbGFjZSgvKEZPTEQzfEZPUkNFU19XQVIpLywgc3RyID0+IHtcblx0XHRzd2l0Y2ggKHN0cikge1xuXHRcdFx0Y2FzZSAnRk9MRDMnOiByZXR1cm4gJ0YzJztcblx0XHRcdGNhc2UgJ0ZPUkNFU19XQVInOiByZXR1cm4gJ0ZXJztcblx0XHR9XG5cdH0pIGFzIFNob3J0RG9tYWluO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlc2VyaWFsaXplRG9tYWluID0gKGRvbWFpbjogU2hvcnREb21haW4pOiBEb21haW4gPT4ge1xuXHRyZXR1cm4gZG9tYWluLnJlcGxhY2UoLyhGM3xGVykvLCBzdHIgPT4ge1xuXHRcdHN3aXRjaCAoc3RyKSB7XG5cdFx0XHRjYXNlICdGMyc6IHJldHVybiAnRk9MRDMnO1xuXHRcdFx0Y2FzZSAnRlcnOiByZXR1cm4gJ0ZPUkNFU19XQVInO1xuXHRcdH1cblx0fSkgYXMgRG9tYWluO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNpdGVUeXBlID0gKGRvbWFpbjogRG9tYWluKTogU2l0ZVR5cGUgPT4ge1xuXHRzd2l0Y2ggKGRvbWFpbikge1xuXHRcdGNhc2UgJ0ZPTEQzX1VTJzpcblx0XHRcdHJldHVybiAnRjMnO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gJ0ZXUic7XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTaXRlVHlwZUZvclVybCA9ICh1cmw6IHN0cmluZyk6IFNpdGVUeXBlID0+IHtcblx0Y29uc3QgeyBzaXRlOiB1cmxTaXRlIH0gPSBnZXRVcmxQYXJ0cyh1cmwpO1xuXHRmb3IgKGxldCBbc2l0ZVR5cGUsIHNpdGVdIG9mIE9iamVjdC5lbnRyaWVzKGdldFNpdGVzKCkpKSB7XG5cdFx0aWYgKE9iamVjdC52YWx1ZXMoc2l0ZS5lbnZpcm9ubWVudHMpLmluY2x1ZGVzKHVybFNpdGUpKSB7XG5cdFx0XHRyZXR1cm4gc2l0ZVR5cGUgYXMgU2l0ZVR5cGU7XG5cdFx0fVxuXHR9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RG9tYWluc0ZvclVybCA9ICh1cmw6IHN0cmluZyk6IERvbWFpbltdID0+IHtcblx0Y29uc3QgeyBzdWJkb21haW4gfSA9IGdldFVybFBhcnRzKHVybCk7XG5cdGNvbnN0IHNpdGVUeXBlID0gZ2V0U2l0ZVR5cGVGb3JVcmwodXJsKTtcblxuXHRsZXQgaXNWYWxpZCA9IGlzVmFsaWRTdWJkb21haW4oc3ViZG9tYWluLCBzaXRlVHlwZSk7XG5cblx0cmV0dXJuIE9iamVjdC5lbnRyaWVzKGdldERvbWFpbnMoKSlcblx0XHQuZmlsdGVyKChbXywgY29uZmlnXSkgPT4ge1xuXHRcdFx0Lypcblx0XHRcdCAqIElmIHRoZSBzdWJkb21haW4gaXMgdmFsaWQsIG1ha2Ugc3VyZSB0aGF0IHRoZSBjb25maWcncyBzdWJkb21haW4gbWF0Y2hlcy5cblx0XHRcdCAqIElmIGl0J3Mgbm90IHZhbGlkLCB0aGVuIGp1c3QgY29sbGVjdCBhbGwgcG9zc2libGUgZG9tYWluc1xuXHRcdFx0ICovXG5cdFx0XHRpZiAoaXNWYWxpZCAmJiBzdWJkb21haW4gJiYgY29uZmlnLnN1YmRvbWFpbiAhPT0gc3ViZG9tYWluKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBjb25maWcuc2l0ZVR5cGUgPT09IHNpdGVUeXBlO1xuXHRcdH0pXG5cdFx0Lm1hcCgoW2RvbWFpbl0pID0+IGRvbWFpbiBhcyBEb21haW4pO1xufTtcblxuY29uc3QgZ2V0VmFsaWRTdWJkb21haW5zID0gKHNpdGVUeXBlOiBTaXRlVHlwZSkgPT4ge1xuXHRyZXR1cm4gT2JqZWN0LnZhbHVlcyhnZXREb21haW5zKCkpLnJlZHVjZSgoZmluYWxBcnIsIGRvbWFpbkNvbmZpZykgPT4ge1xuXHRcdGlmIChkb21haW5Db25maWcuc2l0ZVR5cGUgPT09IHNpdGVUeXBlKSB7XG5cdFx0XHRmaW5hbEFyci5wdXNoKGRvbWFpbkNvbmZpZy5zdWJkb21haW4pO1xuXHRcdH1cblx0XHRyZXR1cm4gZmluYWxBcnI7XG5cdH0sIFtdIGFzIHN0cmluZ1tdKTtcbn07XG5cbmNvbnN0IGlzVmFsaWRTdWJkb21haW4gPSAoc3ViZG9tYWluOiBzdHJpbmcsIHNpdGVUeXBlOiBTaXRlVHlwZSkgPT4ge1xuXHRyZXR1cm4gZ2V0VmFsaWRTdWJkb21haW5zKHNpdGVUeXBlKS5pbmNsdWRlcyhzdWJkb21haW4pO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzVmFsaWREb21haW4gPSAoZG9tYWluOiBEb21haW4pID0+IHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKGdldERvbWFpbnMoKSkuaW5jbHVkZXMoZG9tYWluKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0YzVXJsID0gKHVybDogc3RyaW5nKSA9PiB7XG5cdHJldHVybiBnZXREb21haW5zRm9yVXJsKHVybCkubGVuZ3RoID4gMDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRIb3N0QmFzZSA9IChkb21haW46IERvbWFpbiwgZW52OiBGb2xkM0Vudmlyb25tZW50KSA9PiB7XG5cdGNvbnN0IGRvbWFpbkNvbmZpZyA9IGdldERvbWFpbkNvbmZpZyhkb21haW4pO1xuXHRyZXR1cm4gYCR7Z2V0RW52aXJvbm1lbnRGb3JDb25maWcoZG9tYWluQ29uZmlnKT8uZW52aXJvbm1lbnRzW2Vudl19LmNvbWA7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QmFja2VuZEhvc3RCYXNlID0gKGRvbWFpbjogRG9tYWluLCBlbnY6IEZvbGQzRW52aXJvbm1lbnQpID0+IHtcblx0Y29uc3QgaG9zdEJhc2UgPSBnZXRIb3N0QmFzZShkb21haW4sIGVudik7XG5cblx0aWYgKCFlbnYuaW5jbHVkZXMoJ2xvY2FsJykpIHJldHVybiBob3N0QmFzZTtcblxuXHRjb25zdCByZWFsRW52ID0gZW52Lm1hdGNoKC9sb2NhbDo/KFxcdyopLylbMV0gYXMgRm9sZDNFbnZpcm9ubWVudCB8fCAnZGV2Jztcblx0cmV0dXJuIGdldEhvc3RCYXNlKGRvbWFpbiwgcmVhbEVudik7XG59O1xuXG5jb25zdCBnZXRFbnZpcm9ubWVudEZvckNvbmZpZyA9IChkb21haW5Db25maWc6IERvbWFpbkNvbmZpZykgPT4ge1xuXHRyZXR1cm4gZ2V0U2l0ZXMoKVtkb21haW5Db25maWc/LnNpdGVUeXBlXTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRIb3N0ID0gKGRvbWFpbjogRG9tYWluLCBlbnY6IEZvbGQzRW52aXJvbm1lbnQpID0+IHtcblx0Y29uc3Qgc3ViZG9tYWluID0gZ2V0RG9tYWluQ29uZmlnKGRvbWFpbik/LnN1YmRvbWFpbjtcblx0cmV0dXJuIGAke3N1YmRvbWFpbn0uJHtnZXRIb3N0QmFzZShkb21haW4sIGVudil9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPcmlnaW4gPSAoZG9tYWluOiBEb21haW4sIGVudjogRm9sZDNFbnZpcm9ubWVudCkgPT4ge1xuXHRsZXQgb3JpZ2luID0gYGh0dHBzOi8vJHtnZXRIb3N0KGRvbWFpbiwgZW52KX1gO1xuXHRpZiAoZW52LmluY2x1ZGVzKCdsb2NhbCcpKSBvcmlnaW4gKz0gbG9jYWxQb3J0O1xuXHRyZXR1cm4gb3JpZ2luO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEltYWdlSG9zdCA9IChkb21haW46IERvbWFpbiwgZW52OiBGb2xkM0Vudmlyb25tZW50KSA9PiB7XG5cdHJldHVybiBgaHR0cHM6Ly9pbWcuJHtnZXRCYWNrZW5kSG9zdEJhc2UoZG9tYWluLCBlbnYpfWA7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0R29TdGFja0hvc3QgPSAoZG9tYWluOiBEb21haW4sIGVudjogRm9sZDNFbnZpcm9ubWVudCkgPT4ge1xuXHRyZXR1cm4gYGh0dHBzOi8vZ28uJHtnZXRIb3N0QmFzZShkb21haW4sIGVudil9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQaHBIb3N0ID0gKGVudjogRm9sZDNFbnZpcm9ubWVudCkgPT4ge1xuXHRpZiAoZW52LmluY2x1ZGVzKCdsb2NhbCcpKSB7XG5cdFx0ZW52ID0gJ2Rldic7XG5cdH1cblxuXHQvKiBUaGUgcGhwIHNlcnZpY2VzIHNob3VsZCBvbmx5IGJlIGF2YWlsYWJsZSBvbiwgYW5kIHNlcnZpY2UgRm9sZDMsIG5vdCBGV1IgKi9cblx0cmV0dXJuIGBodHRwOi8vcGhwLiR7Z2V0SG9zdEJhc2UoJ0ZPTEQzX1VTJywgZW52KX06OTA5MGA7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0QmxvZ0hvc3QgPSAoZG9tYWluOiBEb21haW4sIGVudjogRm9sZDNFbnZpcm9ubWVudCkgPT4ge1xuXHRpZiAoZW52LmluY2x1ZGVzKCdsb2NhbCcpKSB7XG5cdFx0ZW52ID0gJ2Rldic7XG5cdH1cblx0cmV0dXJuIGBodHRwczovL2Jsb2cuJHtnZXRIb3N0QmFzZShkb21haW4sIGVudil9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXREb21haW5Gb3JJU09Db3VudHJ5ID0gKGNvdW50cnk6IENvdW50cnlDb2RlKTogRG9tYWluID0+IHtcblx0Zm9yIChsZXQgW2RvbWFpbiwgZG9tYWluQ29uZmlnXSBvZiBPYmplY3QuZW50cmllcyhnZXREb21haW5zKCkpKSB7XG5cdFx0aWYgKGRvbWFpbkNvbmZpZy5jb3VudHJpZXMuaW5jbHVkZXMoY291bnRyeSkpIHtcblx0XHRcdHJldHVybiBkb21haW4gYXMgRG9tYWluO1xuXHRcdH1cblx0fVxufTtcblxuZXhwb3J0IGNvbnN0IGdldFJlcXVlc3REb21haW4gPSAocmVxOiBGM1JlcXVlc3QpID0+IHtcblx0aWYgKCFyZXEpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGxldCBkb21haW5zID0gZ2V0RG9tYWluc0ZvclVybChnZXRVcmwocmVxKS50b1N0cmluZygpKTtcblxuXHQvKiBEb21haW4gY2FuIG9ubHkgYmUgZGVmaW5pdGVseSBkZXRlcm1pbmVkIGlmIHRoZXJlIGlzIG9ubHkgb25lIG9wdGlvbiAqL1xuXHRpZiAoZG9tYWlucy5sZW5ndGggPT09IDEpIHtcblx0XHRyZXR1cm4gZG9tYWluc1swXTtcblx0fVxufTtcblxuZXhwb3J0IGNvbnN0IGdldERvbWFpbiA9IChyZXE/OiBGM1JlcXVlc3QpID0+IHtcblx0dHJ5IHtcblx0XHRzd2l0Y2ggKGdldFJ1bnRpbWUoKSkge1xuXHRcdFx0Y2FzZSAnQlJPV1NFUic6IHJldHVybiBnZXREb21haW5zRm9yVXJsKHdpbmRvdy5sb2NhdGlvbi5ocmVmKT8uWzBdO1xuXHRcdFx0Y2FzZSAnTk9ERSc6IHJldHVybiBnZXRSZXF1ZXN0RG9tYWluKHJlcSk7XG5cdFx0fVxuXHR9IGNhdGNoKGUpIHtcblx0XHRjb25zb2xlLmxvZyhlKTtcblx0fVxufTtcblxuZXhwb3J0IGNvbnN0IGdldFNpdGVDb2xvciA9IChzaXRlVHlwZTogU2l0ZVR5cGUpID0+IHtcblx0c3dpdGNoIChzaXRlVHlwZSkge1xuXHRcdGNhc2UgJ0YzJzogcmV0dXJuICcjYzE0MTM5Jztcblx0XHRjYXNlICdGV1InOiByZXR1cm4gJyMzMzU1NTQnO1xuXHRcdGRlZmF1bHQ6IHJldHVybiAnJztcblx0fVxufTtcblxuZXhwb3J0IGNvbnN0IGdldFNpdGVMb2dvID0gKHNpdGVUeXBlOiBTaXRlVHlwZSwgeyBjb2xvciA9IHRydWUsIGJ5QW5jZXN0cnkgPSB0cnVlIH06IHsgY29sb3I/OiBib29sZWFuLCBieUFuY2VzdHJ5PzogYm9vbGVhbiB9ID0ge30pID0+IHtcblx0bGV0IHBhdGg7XG5cdHN3aXRjaCAoc2l0ZVR5cGUpIHtcblx0XHRjYXNlICdGMyc6IHtcblx0XHRcdHBhdGggPSBjb2xvciA/ICcvaW1nL2ZvbGQzLWNvbG9yLnN2ZycgOiAnL2ltZy9mb2xkM2xvZ28uc3ZnJztcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0XHRjYXNlICdGV1InOiB7XG5cdFx0XHRpZiAoYnlBbmNlc3RyeSkge1xuXHRcdFx0XHRwYXRoID0gY29sb3IgPyAnL2ltZy9md3ItY29sb3ItYmEuc3ZnJyA6ICcvaW1nL2Z3ci1sb2dvLWJhLnN2Zyc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwYXRoID0gY29sb3IgPyAnL2ltZy9md3ItY29sb3Iuc3ZnJyA6ICcvaW1nL2Z3ci1sb2dvLnN2Zyc7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcGF0aDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTaXRlRmF2aWNvbiA9IChzaXRlVHlwZTogU2l0ZVR5cGUpID0+IHtcblx0c3dpdGNoIChzaXRlVHlwZSkge1xuXHRcdGNhc2UgJ0YzJzogcmV0dXJuICcvaW1nL2Zhdmljb24uaWNvJztcblx0XHRjYXNlICdGV1InOiByZXR1cm4gJy9pbWcvZndyLWZhdmljb24uaWNvJztcblx0fVxufTtcblxuZXhwb3J0IGNvbnN0IGdldEN1cnJlbmN5Rm9yRG9tYWluID0gKGRvbWFpbjogRG9tYWluKTogQ3VycmVuY3kgPT4ge1xuXHRyZXR1cm4gY3VycmVuY2llc1tkb21haW5dIGFzIEN1cnJlbmN5O1xufTtcblxuY29uc3QgcGxhY2VGYWNldE1hcCA9IHtcblx0J0ZPTEQzX1VTJzoge1xuXHRcdGxhYmVsOiAnVW5pdGVkIFN0YXRlcyBvZiBBbWVyaWNhJyxcblx0XHR2YWx1ZTogJ3JlbC4xNDg4MzgnLFxuXHR9LFxuXHQnRk9SQ0VTX1dBUl9VSyc6IHtcblx0XHRsYWJlbDogJ1VuaXRlZCBLaW5nZG9tJyxcblx0XHR2YWx1ZTogJ3JlbC42MjE0OScsXG5cdH0sXG5cdCdGT1JDRVNfV0FSX0NBJzoge1xuXHRcdGxhYmVsOiAnQ2FuYWRhJyxcblx0XHR2YWx1ZTogJ3JlbC4xNDI4MTI1Jyxcblx0fSxcblx0J0ZPUkNFU19XQVJfQVUnOiB7XG5cdFx0bGFiZWw6ICdBdXN0cmFsaWEnLFxuXHRcdHZhbHVlOiAncmVsLjgwNTAwJyxcblx0fSxcblx0J0ZPUkNFU19XQVJfTlonOiB7XG5cdFx0bGFiZWw6ICdOZXcgWmVhbGFuZCcsXG5cdFx0dmFsdWU6ICdyZWwuNTU2NzA2Jyxcblx0fSxcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQbGFjZUZhY2V0Rm9yRG9tYWluID0gKGRvbWFpbjogRG9tYWluKSA9PiB7XG5cdHJldHVybiBwbGFjZUZhY2V0TWFwW2RvbWFpbl0gfHwgbnVsbDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZW50UHJvdmlkZXJGb3JEb21haW4oZjNEb21haW46IERvbWFpbiwgcHJvdmlkZXI/OiBDb250ZW50UHJvdmlkZXIpOiBDb250ZW50UHJvdmlkZXIge1xuXHRsZXQgZG9tYWluLCBsb2NhbGUsIG5hbWUsIHVybDtcblx0bGV0IHJlc3QgPSB7fTtcblx0Y29uc3QgZW52ID0gZ2V0RW52aXJvbm1lbnQoKTtcblxuXHRpZiAocHJvdmlkZXIpIHtcblx0XHRjb25zdCB7IGRvbWFpbjogcHJvdmlkZXJEb21haW4sIGxvY2FsZTogcHJvdmlkZXJMb2NhbGUsIG5hbWU6IHByb3ZpZGVyTmFtZSwgdXJsOiBwcm92aWRlclVybCwgLi4ucHJvdmlkZXJSZXN0IH0gPSBwcm92aWRlcjtcblxuXHRcdGlmIChuYW1lID09PSAnRm9sZDMnKSB7XG5cdFx0XHRkb21haW4gPSBmM0RvbWFpbjtcblx0XHRcdG5hbWUgPSBnZXRTaXRlTmFtZShmM0RvbWFpbiwgeyBkb21haW46IGZhbHNlLCByZWc6IGZhbHNlLCBzaG9ydDogZmFsc2UsIHRtOiBmYWxzZSB9KTtcblx0XHRcdHVybCA9IGdldE9yaWdpbihmM0RvbWFpbiwgZW52KTtcblx0XHRcdGxvY2FsZSA9IGdldERvbWFpbkxvY2FsZShmM0RvbWFpbik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRvbWFpbiA9IHByb3ZpZGVyRG9tYWluO1xuXHRcdFx0bG9jYWxlID0gcHJvdmlkZXJMb2NhbGU7XG5cdFx0XHRuYW1lID0gcHJvdmlkZXJOYW1lO1xuXHRcdFx0dXJsID0gcHJvdmlkZXJVcmw7XG5cdFx0fVxuXG5cdFx0cmVzdCA9IHByb3ZpZGVyUmVzdDtcblx0fSBlbHNlIHtcblx0XHRkb21haW4gPSBmM0RvbWFpbjtcblx0XHRuYW1lID0gZ2V0U2l0ZU5hbWUoZjNEb21haW4sIHsgZG9tYWluOiBmYWxzZSwgcmVnOiBmYWxzZSwgc2hvcnQ6IGZhbHNlLCB0bTogZmFsc2UgfSk7XG5cdFx0dXJsID0gZ2V0T3JpZ2luKGYzRG9tYWluLCBlbnYpO1xuXHRcdGxvY2FsZSA9IGdldERvbWFpbkxvY2FsZShmM0RvbWFpbik7XG5cdH1cblxuXHRyZXR1cm4geyBkb21haW4sIGxvY2FsZSwgbmFtZSwgdXJsLCAuLi5yZXN0IH0gYXMgQ29udGVudFByb3ZpZGVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlcm5hbWVGb3JEb21haW4odXNlcm5hbWU6IHN0cmluZywgdXNlcklkOiBudW1iZXIsIGRvbWFpbjogRG9tYWluKSB7XG5cdGlmIChpc1Jvb3RVc2VySWQodXNlcklkKSB8fCBpc0NvbnRlbnRVc2VySWQodXNlcklkKSkge1xuXHRcdGxldCB1c2VybmFtZSA9IGdldFNpdGVMYWJlbEZvclNpdGVUeXBlKGdldFNpdGVUeXBlRm9yRG9tYWluKGRvbWFpbiksIHRydWUpO1xuXHRcdHJldHVybiBgJHt1c2VybmFtZX1fVGVhbWA7XG5cdH1cblxuXHRyZXR1cm4gdXNlcm5hbWU7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///40315\n")},15709:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Ij: () => (/* binding */ canChangeLanguage),\n/* harmony export */   lx: () => (/* binding */ getLanguageLabel)\n/* harmony export */ });\n/* unused harmony exports ALL_LANGUAGES, parseLanguageCode */\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70655);\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(28121);\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(i18next__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mapUtil__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(64528);\n/* harmony import */ var _sharedConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(32179);\n/* harmony import */ var _domain__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(40315);\n\n\n\n\n\nvar languagePattern = /(([a-zA-Z\\*]+)(?:-([a-zA-Z]+))?)(?:;q=([\\.\\d]+))?/;\nvar ALL_LANGUAGES = Array.from(new Set(Object.values((0,_sharedConfig__WEBPACK_IMPORTED_MODULE_1__/* .getConfig */ .iE)().domains).reduce(function (acc, domain) {\n    acc.push.apply(acc, (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__spreadArray */ .ev)([], (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__read */ .CR)(domain.languages), false));\n    return acc;\n}, [])));\nvar getLanguageLabel = function (language, short) {\n    if (short === void 0) { short = false; }\n    var lang = parseLanguageCode(language).language;\n    switch (lang) {\n        case 'en': return short ? (0,i18next__WEBPACK_IMPORTED_MODULE_0__.t)('common:language.english.short', 'EN') : (0,i18next__WEBPACK_IMPORTED_MODULE_0__.t)('common:language.english', 'English');\n        case 'fr': return short ? (0,i18next__WEBPACK_IMPORTED_MODULE_0__.t)('common:language.french.short', 'FR') : (0,i18next__WEBPACK_IMPORTED_MODULE_0__.t)('common:language.french', 'French');\n    }\n};\nvar parseLanguageCode = function (languageCode) {\n    var match = languageCode.match(languagePattern);\n    if (!match)\n        return;\n    var _a = (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__read */ .CR)(match, 5), _ = _a[0], isoCode = _a[1], language = _a[2], region = _a[3], weight = _a[4];\n    return (0,_mapUtil__WEBPACK_IMPORTED_MODULE_3__/* .filterUndefined */ .YU)({\n        language: language,\n        region: region,\n        weight: weight !== undefined ? +weight : undefined,\n        isoCode: isoCode,\n    });\n};\nvar canChangeLanguage = function (f3Domain) {\n    var _a;\n    return ((_a = (0,_domain__WEBPACK_IMPORTED_MODULE_4__/* .getDomainLanguages */ .p_)(f3Domain)) === null || _a === void 0 ? void 0 : _a.length) > 1;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTU3MDkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFTQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2xvY2FsaXphdGlvbi9sYW5ndWFnZUhlbHBlcnMudHM/ZDZlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0IH0gZnJvbSAnaTE4bmV4dCc7XG5pbXBvcnQgeyBEb21haW4gfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBDb3VudHJ5Q29kZSB9IGZyb20gJy4uLy4uL2VudW1zL2NvdW50cnlJU08uZW51bSc7XG5pbXBvcnQgeyBMQU5HVUFHRV9JU09fQ09ERSB9IGZyb20gJy4uLy4uL2VudW1zL2xhbmd1YWdlSVNPLmVudW0nO1xuaW1wb3J0IHsgZmlsdGVyVW5kZWZpbmVkIH0gZnJvbSAnLi4vbWFwVXRpbCc7XG5pbXBvcnQgeyBnZXRDb25maWcgfSBmcm9tICcuLi9zaGFyZWRDb25maWcnO1xuaW1wb3J0IHsgZ2V0RG9tYWluTGFuZ3VhZ2VzIH0gZnJvbSAnLi9kb21haW4nO1xuXG5pbnRlcmZhY2UgTGFuZ3VhZ2VTcGVjIHtcblx0bGFuZ3VhZ2U6IHN0cmluZ1xuXHRpc29Db2RlOiBMQU5HVUFHRV9JU09fQ09ERVxuXHRyZWdpb24/OiBDb3VudHJ5Q29kZVxuXHR3ZWlnaHQ/OiBudW1iZXJcbn1cblxuY29uc3QgbGFuZ3VhZ2VQYXR0ZXJuID0gLygoW2EtekEtWlxcKl0rKSg/Oi0oW2EtekEtWl0rKSk/KSg/OjtxPShbXFwuXFxkXSspKT8vO1xuXG5leHBvcnQgY29uc3QgQUxMX0xBTkdVQUdFUyA9IEFycmF5LmZyb20obmV3IFNldChPYmplY3QudmFsdWVzKGdldENvbmZpZygpLmRvbWFpbnMpLnJlZHVjZSgoYWNjLCBkb21haW4pID0+IHtcblx0YWNjLnB1c2goLi4uZG9tYWluLmxhbmd1YWdlcyk7XG5cdHJldHVybiBhY2M7XG59LCBbXSkpKTtcblxuZXhwb3J0IGNvbnN0IGdldExhbmd1YWdlTGFiZWwgPSAobGFuZ3VhZ2U6IExBTkdVQUdFX0lTT19DT0RFLCBzaG9ydDogYm9vbGVhbiA9IGZhbHNlKSA9PiB7XG5cdGNvbnN0IHsgbGFuZ3VhZ2U6IGxhbmcgfSA9IHBhcnNlTGFuZ3VhZ2VDb2RlKGxhbmd1YWdlKTtcblxuXHRzd2l0Y2ggKGxhbmcpIHtcblx0XHRjYXNlICdlbic6IHJldHVybiBzaG9ydCA/IHQoJ2NvbW1vbjpsYW5ndWFnZS5lbmdsaXNoLnNob3J0JywgJ0VOJykgOiB0KCdjb21tb246bGFuZ3VhZ2UuZW5nbGlzaCcsICdFbmdsaXNoJyk7XG5cdFx0Y2FzZSAnZnInOiByZXR1cm4gc2hvcnQgPyB0KCdjb21tb246bGFuZ3VhZ2UuZnJlbmNoLnNob3J0JywgJ0ZSJykgOiB0KCdjb21tb246bGFuZ3VhZ2UuZnJlbmNoJywgJ0ZyZW5jaCcpO1xuXHR9XG59O1xuXG5leHBvcnQgY29uc3QgcGFyc2VMYW5ndWFnZUNvZGUgPSAobGFuZ3VhZ2VDb2RlOiBzdHJpbmcpOiBMYW5ndWFnZVNwZWMgPT4ge1xuXHRsZXQgbWF0Y2ggPSBsYW5ndWFnZUNvZGUubWF0Y2gobGFuZ3VhZ2VQYXR0ZXJuKTtcblx0aWYgKCFtYXRjaCkgcmV0dXJuO1xuXG5cdGxldCBbXywgaXNvQ29kZSwgbGFuZ3VhZ2UsIHJlZ2lvbiwgd2VpZ2h0XSA9IG1hdGNoO1xuXG5cdHJldHVybiBmaWx0ZXJVbmRlZmluZWQoe1xuXHRcdGxhbmd1YWdlLFxuXHRcdHJlZ2lvbjogcmVnaW9uIGFzIENvdW50cnlDb2RlLFxuXHRcdHdlaWdodDogd2VpZ2h0ICE9PSB1bmRlZmluZWQgPyArd2VpZ2h0IDogdW5kZWZpbmVkLFxuXHRcdGlzb0NvZGU6IGlzb0NvZGUgYXMgTEFOR1VBR0VfSVNPX0NPREUsXG5cdH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGNhbkNoYW5nZUxhbmd1YWdlID0gKGYzRG9tYWluOiBEb21haW4pID0+IHtcblx0cmV0dXJuIGdldERvbWFpbkxhbmd1YWdlcyhmM0RvbWFpbik/Lmxlbmd0aCA+IDE7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15709\n")},64528:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cr: () => (/* binding */ mapObjectToArray),\n/* harmony export */   OU: () => (/* binding */ filterEmpty),\n/* harmony export */   YU: () => (/* binding */ filterUndefined),\n/* harmony export */   sB: () => (/* binding */ mapArrayToObject),\n/* harmony export */   v7: () => (/* binding */ filterObject)\n/* harmony export */ });\n/* unused harmony exports mapObject, filterObjectToArray */\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70655);\n\nfunction mapObject(object, mapFn) {\n    return Object.entries(object)\n        .reduce(function (finalObj, _a) {\n        var _b = __read(_a, 2), key = _b[0], val = _b[1];\n        finalObj[key] = mapFn(key, val);\n        return finalObj;\n    }, {});\n}\nfunction mapObjectToArray(object, mapFn) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    return Object.entries(object)\n        .map(function (_a) {\n        var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__read */ .CR)(_a, 2), key = _b[0], val = _b[1];\n        return mapFn.apply(void 0, (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__spreadArray */ .ev)([key, val], (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__read */ .CR)(args), false));\n    });\n}\nfunction filterObjectToArray(object, filterFn) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    return Object.entries(object)\n        .filter(function (_a) {\n        var _b = __read(_a, 2), key = _b[0], val = _b[1];\n        return filterFn.apply(void 0, __spreadArray([key, val], __read(args), false));\n    })\n        .map(function (_a) {\n        var _b = __read(_a, 2), key = _b[0], val = _b[1];\n        return val;\n    });\n}\nfunction filterObject(object, filterFn) {\n    return Object.entries(object)\n        .filter(function (_a) {\n        var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__read */ .CR)(_a, 2), key = _b[0], val = _b[1];\n        return filterFn(key, val);\n    })\n        .reduce(function (finalObj, _a) {\n        var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__read */ .CR)(_a, 2), key = _b[0], val = _b[1];\n        finalObj[key] = val;\n        return finalObj;\n    }, {});\n}\nfunction filterUndefined(object) {\n    return filterObject(object, function (_, val) { return val !== undefined; });\n}\nfunction filterEmpty(object) {\n    return filterObject(object, function (_, val) { return val !== undefined && val !== ''; });\n}\nfunction mapArrayToObject(array, itemKey, itemValue) {\n    if (itemKey === void 0) { itemKey = 'id'; }\n    return array.reduce(function (finalObj, item, i) {\n        var key = (typeof itemKey == 'function') ?\n            itemKey(item, i) :\n            item[itemKey];\n        var value = itemValue ?\n            (typeof itemValue == 'function') ?\n                itemValue(item, i) :\n                item[itemValue] :\n            item;\n        finalObj[key] = value;\n        return finalObj;\n    }, {});\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQ1MjguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvbWFwVXRpbC50cz8zZDE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9iaiB9IGZyb20gJy4uL2R0by9mMy10eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXBPYmplY3Qob2JqZWN0OiBhbnksIG1hcEZuOiAoa2V5OiBzdHJpbmcsIHZhbDogYW55KSA9PiBhbnkpIHtcblx0cmV0dXJuIE9iamVjdC5lbnRyaWVzKG9iamVjdClcblx0XHQucmVkdWNlKChmaW5hbE9iaiwgW2tleSwgdmFsXSkgPT4ge1xuXHRcdFx0ZmluYWxPYmpba2V5XSA9IG1hcEZuKGtleSwgdmFsKTtcblx0XHRcdHJldHVybiBmaW5hbE9iajtcblx0XHR9LCB7fSBhcyBPYmopO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwT2JqZWN0VG9BcnJheShvYmplY3Q6IGFueSwgbWFwRm46IChrZXk6IHN0cmluZywgdmFsOiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PiBhbnksIC4uLmFyZ3M6IGFueVtdKSB7XG5cdHJldHVybiBPYmplY3QuZW50cmllcyhvYmplY3QpXG5cdFx0Lm1hcCgoW2tleSwgdmFsXSkgPT4gbWFwRm4oa2V5LCB2YWwsIC4uLmFyZ3MpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlck9iamVjdFRvQXJyYXkob2JqZWN0OiBhbnksIGZpbHRlckZuOiAoa2V5OiBzdHJpbmcsIHZhbDogYW55LCAuLi5hcmdzOiBhbnlbXSkgPT4gYm9vbGVhbiwgLi4uYXJnczogYW55W10pIHtcblx0cmV0dXJuIE9iamVjdC5lbnRyaWVzKG9iamVjdClcblx0XHQuZmlsdGVyKChba2V5LCB2YWxdKSA9PiBmaWx0ZXJGbihrZXksIHZhbCwgLi4uYXJncykpXG5cdFx0Lm1hcCgoW2tleSwgdmFsXSkgPT4gdmFsKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlck9iamVjdDxUPihvYmplY3Q6IFQsIGZpbHRlckZuOiAoa2V5OiBzdHJpbmcsIHZhbDogYW55KSA9PiBib29sZWFuKTogVCB7XG5cdHJldHVybiBPYmplY3QuZW50cmllcyhvYmplY3QpXG5cdFx0LmZpbHRlcigoW2tleSwgdmFsXSkgPT4gZmlsdGVyRm4oa2V5LCB2YWwpKVxuXHRcdC5yZWR1Y2UoKGZpbmFsT2JqLCBba2V5LCB2YWxdKSA9PiB7XG5cdFx0XHRmaW5hbE9ialtrZXkgYXMga2V5b2YgVF0gPSB2YWw7XG5cdFx0XHRyZXR1cm4gZmluYWxPYmo7XG5cdFx0fSwge30gYXMgVCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJVbmRlZmluZWQ8VD4ob2JqZWN0OiBUKSB7XG5cdHJldHVybiBmaWx0ZXJPYmplY3Qob2JqZWN0LCAoXywgdmFsKSA9PiB2YWwgIT09IHVuZGVmaW5lZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJFbXB0eTxUPihvYmplY3Q6IFQpIHtcblx0cmV0dXJuIGZpbHRlck9iamVjdChvYmplY3QsIChfLCB2YWwpID0+IHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gJycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwQXJyYXlUb09iamVjdDxULCBWID0gVD4oYXJyYXk6IFJlYWRvbmx5PFRbXT4sIGl0ZW1LZXk6IChrZXlvZiBUKSB8ICgoaXRlbTogVCwgaW5kZXg6IG51bWJlcikgPT4gc3RyaW5nKSA9ICdpZCcgYXMga2V5b2YgVCwgaXRlbVZhbHVlPzoga2V5b2YgVCB8ICgoaXRlbTogVCwgaW5kZXg6IG51bWJlcikgPT4gVikpOiBPYmo8c3RyaW5nLCBWPiB7XG5cdHJldHVybiBhcnJheS5yZWR1Y2UoKGZpbmFsT2JqLCBpdGVtLCBpKSA9PiB7XG5cdFx0bGV0IGtleTogc3RyaW5nID0gKHR5cGVvZiBpdGVtS2V5ID09ICdmdW5jdGlvbicpID9cblx0XHRcdGl0ZW1LZXkoaXRlbSwgaSkgOlxuXHRcdFx0KGl0ZW0gYXMgYW55KVtpdGVtS2V5XSBhcyBzdHJpbmc7XG5cblx0XHRsZXQgdmFsdWUgPSBpdGVtVmFsdWUgP1xuXHRcdFx0KHR5cGVvZiBpdGVtVmFsdWUgPT0gJ2Z1bmN0aW9uJykgP1xuXHRcdFx0XHRpdGVtVmFsdWUoaXRlbSwgaSkgOlxuXHRcdFx0XHQoaXRlbSBhcyBhbnkpW2l0ZW1WYWx1ZV0gOlxuXHRcdFx0aXRlbTtcblxuXHRcdGZpbmFsT2JqW2tleV0gPSB2YWx1ZTtcblxuXHRcdHJldHVybiBmaW5hbE9iajtcblx0fSwge30gYXMgT2JqPHN0cmluZywgVj4pO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///64528\n")},43650:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   j: () => (/* binding */ toURL)\n/* harmony export */ });\n/* unused harmony export parseContentUrl */\n/* harmony import */ var _getUrl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(74174);\n\n\n\n\n\n\nvar docTypeContentTypeMap = {\n    image: 'IMAGE',\n    'sub-image': 'SUB_IMAGE',\n    file: 'FILE',\n    record: 'INDEX_RECORD',\n    title: 'PUBLICATION',\n    publication: 'PUBLICATION',\n    regiment: 'REGIMENT',\n    battle: 'BATTLE',\n    company: 'COMPANY',\n    memorial: 'STORY_PAGE',\n    collection: 'TITLE_COLLECTION',\n    page: 'STORY_PAGE',\n    subject: 'SUBJECT',\n    partner: 'PARTNER',\n    unit: 'MILITARY_UNIT',\n};\nvar parseContentUrl = function (url) {\n    var config = getConfig();\n    var defaultReturn = { contentType: null, objectId: null };\n    var FGV_CONTENT_URL = new RegExp(\"\".concat(config.urls.findagrave, \"/memorial/(\\\\d+)\"));\n    var NEWS_CONTENT_URL = new RegExp(\"\".concat(config.urls.newspapers, \"/(?:image)/(?:[\\\\d\\\\w-]*/)?(\\\\d+)\"));\n    var ANC_CONTENT_URL = new RegExp(\"\".concat(getAncestryHostname(), \"/discoveryui-content/view/(\\\\d+(:|%3A)\\\\d+)\"));\n    var ARCHIVES_CONTENT_URL = new RegExp(\"\".concat(config.urls.archives, \"/search/([a-z]+)/record.+UniqueId=(\\\\d+(:|%3A)\\\\d+(:|%3A)\\\\d+)\"));\n    var FOLD3_CONTENT_URL = /\\/(image|record|title|publication|regiment|battle|company|unit|memorial|collection|page|subject|sub-image|file|partner)\\/?([\\d\\w-]+)?(?:\\/[\\-\\w]+)?(\\/?\\?.*)?/;\n    var FOLD3_REF_URL = /\\/ref\\/([A-Z_]+)\\.([\\d\\w-]+)(\\/?\\?.*)?/;\n    if (isAncestry(url)) {\n        var match = ANC_CONTENT_URL.exec(url);\n        if (!match)\n            return defaultReturn;\n        return { contentType: 'ANCESTRY_DOCUMENT', objectId: match[1] };\n    }\n    else if (isArchives(url)) {\n        var match = ARCHIVES_CONTENT_URL.exec(url);\n        if (!match)\n            return defaultReturn;\n        var objectId = \"\".concat(match[1], \".\").concat(match[2]);\n        return { contentType: 'ARCHIVES_DOCUMENT', objectId: objectId };\n    }\n    else if (isFindAGrave(url)) {\n        var match = FGV_CONTENT_URL.exec(url);\n        if (!match)\n            return defaultReturn;\n        return { contentType: 'FGV_DOCUMENT', objectId: match[1] };\n    }\n    else if (isNewspapers(url)) {\n        var match = NEWS_CONTENT_URL.exec(url);\n        if (!match)\n            return defaultReturn;\n        return { contentType: 'NEWSPAPERS_DOCUMENT', objectId: match[1] };\n    }\n    else {\n        var contentType = null, objectId = null;\n        var match = FOLD3_CONTENT_URL.exec(url);\n        if (!match)\n            return defaultReturn;\n        if (match !== null) {\n            var _a = __read(match, 4), _ = _a[0], docType = _a[1], id = _a[2], _b = _a[3], queryParams = _b === void 0 ? '' : _b;\n            contentType = docTypeContentTypeMap[docType];\n            objectId = id;\n            if (contentType === 'IMAGE') {\n                var queryObj = parseQueryString(queryParams);\n                if ('rec' in queryObj) {\n                    contentType = 'SUB_IMAGE';\n                    objectId = queryObj.rec;\n                }\n            }\n        }\n        match = FOLD3_REF_URL.exec(url);\n        if (match !== null) {\n            var _c = __read(match, 3), _ = _c[0], type = _c[1], id = _c[2];\n            //@ts-expect-error\n            contentType = type;\n            objectId = id;\n        }\n        return { contentType: contentType, objectId: objectId };\n    }\n};\n/**\n * takes a string href url input and attempts to parse into a DOM URL object.\n * @param href string href url\n * @returns parsed URL object\n */\nvar toURL = function (href) {\n    if (!href)\n        href = '/';\n    var link = href;\n    if (link === null || link === void 0 ? void 0 : link.startsWith('/')) {\n        var origin = (0,_getUrl__WEBPACK_IMPORTED_MODULE_0__/* .getUrl */ .G)().origin;\n        link = \"\".concat(origin).concat(href);\n    }\n    var url;\n    try {\n        url = new URL(link);\n    }\n    catch (_a) {\n        try {\n            url = new URL(\"https://\".concat(link));\n        }\n        catch (_b) {\n            console.warn(\"Unable to parse url \".concat(link));\n            url = { hostname: link };\n        }\n    }\n    return url;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDM2NTAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9wYXJzZVVybC50cz9kNThmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnRlbnRUeXBlLCBPYmplY3RSZWZlcmVuY2UgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBPYmogfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgZ2V0QW5jZXN0cnlIb3N0bmFtZSB9IGZyb20gJy4vYW5jZXN0cnlIZWxwZXJzJztcbmltcG9ydCB7IGlzQW5jZXN0cnksIGlzQXJjaGl2ZXMsIGlzRmluZEFHcmF2ZSwgaXNOZXdzcGFwZXJzIH0gZnJvbSAnLi9leHRlcm5hbFVybCc7XG5pbXBvcnQgeyBnZXRVcmwgfSBmcm9tICcuL2dldFVybCc7XG5pbXBvcnQgeyBwYXJzZVF1ZXJ5U3RyaW5nIH0gZnJvbSAnLi9xdWVyeVV0aWwnO1xuaW1wb3J0IHsgZ2V0Q29uZmlnIH0gZnJvbSAnLi9zaGFyZWRDb25maWcnO1xuXG5leHBvcnQgdHlwZSBDb250ZW50VXJsQ29udGVudFR5cGUgPSBDb250ZW50VHlwZSAmICgnSU1BR0UnIHwgJ1NVQl9JTUFHRScgfCAnSU5ERVhfUkVDT1JEJyB8ICdQVUJMSUNBVElPTicgfCAnUkVHSU1FTlQnIHwgJ0JBVFRMRScgfCAnQ09NUEFOWScgfCAnU1RPUllfUEFHRScgfCAnVElUTEVfQ09MTEVDVElPTicgfCAnRkdWX0RPQ1VNRU5UJyB8ICdBTkNFU1RSWV9ET0NVTUVOVCcgfCAnTkVXU1BBUEVSU19ET0NVTUVOVCcgfCAnQVJDSElWRVNfRE9DVU1FTlQnIHwgJ1NVQkpFQ1QnIHwgJ0ZJTEUnIHwgJ1BBUlRORVInIHwgJ01JTElUQVJZX1VOSVQnKVxuXG5jb25zdCBkb2NUeXBlQ29udGVudFR5cGVNYXA6IE9iajxzdHJpbmcsIENvbnRlbnRVcmxDb250ZW50VHlwZT4gPSB7XG5cdGltYWdlOiAnSU1BR0UnLCAvLyBjb3VsZCBhbHNvIGJlIFNVQl9JTUFHRS4gVGhhdCB3aWxsIGJlIGhhbmRsZWQgYmVsb3dcblx0J3N1Yi1pbWFnZSc6ICdTVUJfSU1BR0UnLFxuXHRmaWxlOiAnRklMRScsXG5cdHJlY29yZDogJ0lOREVYX1JFQ09SRCcsXG5cdHRpdGxlOiAnUFVCTElDQVRJT04nLFxuXHRwdWJsaWNhdGlvbjogJ1BVQkxJQ0FUSU9OJyxcblx0cmVnaW1lbnQ6ICdSRUdJTUVOVCcsXG5cdGJhdHRsZTogJ0JBVFRMRScsXG5cdGNvbXBhbnk6ICdDT01QQU5ZJyxcblx0bWVtb3JpYWw6ICdTVE9SWV9QQUdFJyxcblx0Y29sbGVjdGlvbjogJ1RJVExFX0NPTExFQ1RJT04nLFxuXHRwYWdlOiAnU1RPUllfUEFHRScsXG5cdHN1YmplY3Q6ICdTVUJKRUNUJyxcblx0cGFydG5lcjogJ1BBUlRORVInLFxuXHR1bml0OiAnTUlMSVRBUllfVU5JVCcsXG59O1xuXG5pbnRlcmZhY2UgQ29udGVudE9iamVjdFJlZmVyZW5jZSBleHRlbmRzIE9iamVjdFJlZmVyZW5jZSB7XG5cdGNvbnRlbnRUeXBlOiBDb250ZW50VXJsQ29udGVudFR5cGVcbn1cblxuZXhwb3J0IGNvbnN0IHBhcnNlQ29udGVudFVybCA9ICh1cmw6IHN0cmluZyk6IENvbnRlbnRPYmplY3RSZWZlcmVuY2UgPT4ge1xuXHRjb25zdCBjb25maWcgPSBnZXRDb25maWcoKTtcblx0Y29uc3QgZGVmYXVsdFJldHVybiA6IENvbnRlbnRPYmplY3RSZWZlcmVuY2UgPSB7IGNvbnRlbnRUeXBlOiBudWxsLCBvYmplY3RJZDogbnVsbCB9O1xuXG5cdGNvbnN0IEZHVl9DT05URU5UX1VSTCA9IG5ldyBSZWdFeHAoYCR7Y29uZmlnLnVybHMuZmluZGFncmF2ZX0vbWVtb3JpYWwvKFxcXFxkKylgKTtcblx0Y29uc3QgTkVXU19DT05URU5UX1VSTCA9IG5ldyBSZWdFeHAoYCR7Y29uZmlnLnVybHMubmV3c3BhcGVyc30vKD86aW1hZ2UpLyg/OltcXFxcZFxcXFx3LV0qLyk/KFxcXFxkKylgKTtcblx0Y29uc3QgQU5DX0NPTlRFTlRfVVJMID0gbmV3IFJlZ0V4cChgJHtnZXRBbmNlc3RyeUhvc3RuYW1lKCl9L2Rpc2NvdmVyeXVpLWNvbnRlbnQvdmlldy8oXFxcXGQrKDp8JTNBKVxcXFxkKylgKTtcblx0Y29uc3QgQVJDSElWRVNfQ09OVEVOVF9VUkwgPSBuZXcgUmVnRXhwKGAke2NvbmZpZy51cmxzLmFyY2hpdmVzfS9zZWFyY2gvKFthLXpdKykvcmVjb3JkLitVbmlxdWVJZD0oXFxcXGQrKDp8JTNBKVxcXFxkKyg6fCUzQSlcXFxcZCspYCk7XG5cdGNvbnN0IEZPTEQzX0NPTlRFTlRfVVJMID0gL1xcLyhpbWFnZXxyZWNvcmR8dGl0bGV8cHVibGljYXRpb258cmVnaW1lbnR8YmF0dGxlfGNvbXBhbnl8dW5pdHxtZW1vcmlhbHxjb2xsZWN0aW9ufHBhZ2V8c3ViamVjdHxzdWItaW1hZ2V8ZmlsZXxwYXJ0bmVyKVxcLz8oW1xcZFxcdy1dKyk/KD86XFwvW1xcLVxcd10rKT8oXFwvP1xcPy4qKT8vO1xuXHRjb25zdCBGT0xEM19SRUZfVVJMID0gL1xcL3JlZlxcLyhbQS1aX10rKVxcLihbXFxkXFx3LV0rKShcXC8/XFw/LiopPy87XG5cblx0aWYgKGlzQW5jZXN0cnkodXJsKSkge1xuXHRcdGxldCBtYXRjaCA9IEFOQ19DT05URU5UX1VSTC5leGVjKHVybCk7XG5cdFx0aWYgKCFtYXRjaCkgcmV0dXJuIGRlZmF1bHRSZXR1cm47XG5cdFx0cmV0dXJuIHsgY29udGVudFR5cGU6ICdBTkNFU1RSWV9ET0NVTUVOVCcsIG9iamVjdElkOiBtYXRjaFsxXSB9O1xuXHR9IGVsc2UgaWYgKGlzQXJjaGl2ZXModXJsKSkge1xuXHRcdGxldCBtYXRjaCA9IEFSQ0hJVkVTX0NPTlRFTlRfVVJMLmV4ZWModXJsKTtcblx0XHRpZiAoIW1hdGNoKSByZXR1cm4gZGVmYXVsdFJldHVybjtcblx0XHRsZXQgb2JqZWN0SWQgPSBgJHttYXRjaFsxXX0uJHttYXRjaFsyXX1gO1xuXHRcdHJldHVybiB7IGNvbnRlbnRUeXBlOiAnQVJDSElWRVNfRE9DVU1FTlQnLCBvYmplY3RJZCB9O1xuXHR9IGVsc2UgaWYgKGlzRmluZEFHcmF2ZSh1cmwpKSB7XG5cdFx0bGV0IG1hdGNoID0gRkdWX0NPTlRFTlRfVVJMLmV4ZWModXJsKTtcblx0XHRpZiAoIW1hdGNoKSByZXR1cm4gZGVmYXVsdFJldHVybjtcblx0XHRyZXR1cm4geyBjb250ZW50VHlwZTogJ0ZHVl9ET0NVTUVOVCcsIG9iamVjdElkOiBtYXRjaFsxXSB9O1xuXHR9IGVsc2UgaWYgKGlzTmV3c3BhcGVycyh1cmwpKSB7XG5cdFx0bGV0IG1hdGNoID0gTkVXU19DT05URU5UX1VSTC5leGVjKHVybCk7XG5cdFx0aWYgKCFtYXRjaCkgcmV0dXJuIGRlZmF1bHRSZXR1cm47XG5cdFx0cmV0dXJuIHsgY29udGVudFR5cGU6ICdORVdTUEFQRVJTX0RPQ1VNRU5UJywgb2JqZWN0SWQ6IG1hdGNoWzFdIH07XG5cdH0gZWxzZSB7XG5cdFx0bGV0IGNvbnRlbnRUeXBlOiBDb250ZW50VXJsQ29udGVudFR5cGUgPSBudWxsLFxuXHRcdFx0b2JqZWN0SWQ6IGFueSA9IG51bGw7XG5cblx0XHRsZXQgbWF0Y2ggPSBGT0xEM19DT05URU5UX1VSTC5leGVjKHVybCk7XG5cdFx0aWYgKCFtYXRjaCkgcmV0dXJuIGRlZmF1bHRSZXR1cm47XG5cblx0XHRpZiAobWF0Y2ggIT09IG51bGwpIHtcblx0XHRcdGxldCBbXywgZG9jVHlwZSwgaWQsIHF1ZXJ5UGFyYW1zID0gJyddID0gbWF0Y2g7XG5cdFx0XHRjb250ZW50VHlwZSA9IGRvY1R5cGVDb250ZW50VHlwZU1hcFtkb2NUeXBlXTtcblx0XHRcdG9iamVjdElkID0gaWQ7XG5cblxuXHRcdFx0aWYgKGNvbnRlbnRUeXBlID09PSAnSU1BR0UnKSB7XG5cdFx0XHRcdGNvbnN0IHF1ZXJ5T2JqID0gcGFyc2VRdWVyeVN0cmluZyhxdWVyeVBhcmFtcyk7XG5cdFx0XHRcdGlmICgncmVjJyBpbiBxdWVyeU9iaikge1xuXHRcdFx0XHRcdGNvbnRlbnRUeXBlID0gJ1NVQl9JTUFHRSc7XG5cdFx0XHRcdFx0b2JqZWN0SWQgPSBxdWVyeU9iai5yZWM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRtYXRjaCA9IEZPTEQzX1JFRl9VUkwuZXhlYyh1cmwpO1xuXG5cdFx0aWYgKG1hdGNoICE9PSBudWxsKSB7XG5cdFx0XHRsZXQgW18sIHR5cGUsIGlkXSA9IG1hdGNoO1xuXG5cdFx0XHQvL0B0cy1leHBlY3QtZXJyb3Jcblx0XHRcdGNvbnRlbnRUeXBlID0gdHlwZTtcblx0XHRcdG9iamVjdElkID0gaWQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgY29udGVudFR5cGUsIG9iamVjdElkIH07XG5cdH1cbn07XG5cbi8qKlxuICogdGFrZXMgYSBzdHJpbmcgaHJlZiB1cmwgaW5wdXQgYW5kIGF0dGVtcHRzIHRvIHBhcnNlIGludG8gYSBET00gVVJMIG9iamVjdC5cbiAqIEBwYXJhbSBocmVmIHN0cmluZyBocmVmIHVybFxuICogQHJldHVybnMgcGFyc2VkIFVSTCBvYmplY3RcbiAqL1xuZXhwb3J0IGNvbnN0IHRvVVJMID0gKGhyZWY6IHN0cmluZyk6IFVSTCA9PiB7XG5cdGlmICghaHJlZikgaHJlZiA9ICcvJztcblxuXHRsZXQgbGluayA9IGhyZWY7XG5cdGlmIChsaW5rPy5zdGFydHNXaXRoKCcvJykpIHtcblx0XHRjb25zdCB7IG9yaWdpbiB9ID0gZ2V0VXJsKCk7XG5cdFx0bGluayA9IGAke29yaWdpbn0ke2hyZWZ9YDtcblx0fVxuXG5cdGxldCB1cmw7XG5cdHRyeSB7XG5cdCAgdXJsID0gbmV3IFVSTChsaW5rKTtcblx0fSBjYXRjaHtcblx0ICB0cnkge1xuXHRcdFx0dXJsID0gbmV3IFVSTChgaHR0cHM6Ly8ke2xpbmt9YCk7XG5cdCAgfSBjYXRjaHtcblx0XHRcdGNvbnNvbGUud2FybihgVW5hYmxlIHRvIHBhcnNlIHVybCAke2xpbmt9YCk7XG5cdFx0XHR1cmwgPSB7IGhvc3RuYW1lOiBsaW5rIH0gYXMgVVJMO1xuXHQgIH1cblx0fVxuXG5cdHJldHVybiB1cmw7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///43650\n")},43480:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   J0: () => (/* binding */ longToShort),\n/* harmony export */   uK: () => (/* binding */ USA_PLACE_ID)\n/* harmony export */ });\n/* unused harmony exports shortToLong, getPlaceId, getPlaceById */\n/* harmony import */ var _ObjectUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7032);\n\nvar ABBREVIATIONS = {\n    'Afghanistan': 'AF',\n    'land Islands': 'AX',\n    'Albania': 'AL',\n    'Algeria': 'DZ',\n    'American Samoa': 'AS',\n    'Andorra': 'AD',\n    'Angola': 'AO',\n    'Anguilla': 'AI',\n    'Antarctica': 'AQ',\n    'Antigua and Barbuda': 'AG',\n    'Argentina': 'AR',\n    'Armenia': 'AM',\n    'Aruba': 'AW',\n    'Australia': 'AU',\n    'Austria': 'AT',\n    'Azerbaijan': 'AZ',\n    'Bahamas': 'BS',\n    'Bahrain': 'BH',\n    'Bangladesh': 'BD',\n    'Barbados': 'BB',\n    'Belarus': 'BY',\n    'Belgium': 'BE',\n    'Belize': 'BZ',\n    'Benin': 'BJ',\n    'Bermuda': 'BM',\n    'Bhutan': 'BT',\n    'Bolivia': 'BO',\n    'Bosnia and Herzegovina': 'BA',\n    'Botswana': 'BW',\n    'Bouvet Island': 'BV',\n    'Brazil': 'BR',\n    'British Indian Ocean Territory': 'IO',\n    'Brunei Darussalam': 'BN',\n    'Bulgaria': 'BG',\n    'Burkina Faso': 'BF',\n    'Burundi': 'BI',\n    'Cambodia': 'KH',\n    'Cameroon': 'CM',\n    'Canada': 'CA',\n    'Cape Verde': 'CV',\n    'Cayman Islands': 'KY',\n    'Central African Republic': 'CF',\n    'Chad': 'TD',\n    'Chile': 'CL',\n    'China': 'CN',\n    'Christmas Island': 'CX',\n    'Cocos (Keeling) Islands': 'CC',\n    'Colombia': 'CO',\n    'Comoros': 'KM',\n    'Congo': 'CG',\n    'Congo, The Democratic Republic of the': 'CD',\n    'Cook Islands': 'CK',\n    'Costa Rica': 'CR',\n    \"Cote D'Ivoire\": 'CI',\n    'Croatia': 'HR',\n    'Cuba': 'CU',\n    'Cyprus': 'CY',\n    'Czech Republic': 'CZ',\n    'Czechia': 'CZ',\n    'Denmark': 'DK',\n    'Djibouti': 'DJ',\n    'Dominica': 'DM',\n    'Dominican Republic': 'DO',\n    'Ecuador': 'EC',\n    'Egypt': 'EG',\n    'El Salvador': 'SV',\n    'Equatorial Guinea': 'GQ',\n    'Eritrea': 'ER',\n    'Estonia': 'EE',\n    'Ethiopia': 'ET',\n    'Falkland Islands (Malvinas)': 'FK',\n    'Faroe Islands': 'FO',\n    'Fiji': 'FJ',\n    'Finland': 'FI',\n    'France': 'FR',\n    'French Guiana': 'GF',\n    'French Polynesia': 'PF',\n    'French Southern Territories': 'TF',\n    'Gabon': 'GA',\n    'Gambia': 'GM',\n    // 'Georgia': 'GE', // conflicts with US State Georgia. America First! If this is an issue, we can handle this later.\n    'Germany': 'DE',\n    'Ghana': 'GH',\n    'Gibraltar': 'GI',\n    'Greece': 'GR',\n    'Greenland': 'GL',\n    'Grenada': 'GD',\n    'Guadeloupe': 'GP',\n    'Guam': 'GU',\n    'Guatemala': 'GT',\n    'Guernsey': 'GG',\n    'Guinea': 'GN',\n    'Guinea-Bissau': 'GW',\n    'Guyana': 'GY',\n    'Haiti': 'HT',\n    'Heard Island and Mcdonald Islands': 'HM',\n    'Holy See (Vatican City State)': 'VA',\n    'Honduras': 'HN',\n    'Hong Kong': 'HK',\n    'Hungary': 'HU',\n    'Iceland': 'IS',\n    'India': 'IN',\n    'Indonesia': 'ID',\n    'Iran, Islamic Republic Of': 'IR',\n    'Iraq': 'IQ',\n    'Ireland': 'IE',\n    'Isle of Man': 'IM',\n    'Israel': 'IL',\n    'Italy': 'IT',\n    'Jamaica': 'JM',\n    'Japan': 'JP',\n    'Jersey': 'JE',\n    'Jordan': 'JO',\n    'Kazakhstan': 'KZ',\n    'Kenya': 'KE',\n    'Kiribati': 'KI',\n    \"Korea, Democratic People's Republic of\": 'KP',\n    'Korea, Republic of': 'KR',\n    'Kuwait': 'KW',\n    'Kyrgyzstan': 'KG',\n    \"Lao People's Democratic Republic\": 'LA',\n    'Latvia': 'LV',\n    'Lebanon': 'LB',\n    'Lesotho': 'LS',\n    'Liberia': 'LR',\n    'Libyan Arab Jamahiriya': 'LY',\n    'Liechtenstein': 'LI',\n    'Lithuania': 'LT',\n    'Luxembourg': 'LU',\n    'Macao': 'MO',\n    'Macedonia, The Former Yugoslav Republic of': 'MK',\n    'Madagascar': 'MG',\n    'Malawi': 'MW',\n    'Malaysia': 'MY',\n    'Maldives': 'MV',\n    'Mali': 'ML',\n    'Malta': 'MT',\n    'Marshall Islands': 'MH',\n    'Martinique': 'MQ',\n    'Mauritania': 'MR',\n    'Mauritius': 'MU',\n    'Mayotte': 'YT',\n    'Mexico': 'MX',\n    'Micronesia, Federated States of': 'FM',\n    'Moldova, Republic of': 'MD',\n    'Monaco': 'MC',\n    'Mongolia': 'MN',\n    'Montserrat': 'MS',\n    'Morocco': 'MA',\n    'Mozambique': 'MZ',\n    'Myanmar': 'MM',\n    'Namibia': 'NA',\n    'Nauru': 'NR',\n    'Nepal': 'NP',\n    'Netherlands': 'NL',\n    'Netherlands Antilles': 'AN',\n    'New Caledonia': 'NC',\n    'New Zealand': 'NZ',\n    'Nicaragua': 'NI',\n    'Niger': 'NE',\n    'Nigeria': 'NG',\n    'Niue': 'NU',\n    'Norfolk Island': 'NF',\n    'North Korea': 'KP',\n    'Northern Mariana Islands': 'MP',\n    'Norway': 'NO',\n    'Oman': 'OM',\n    'Pakistan': 'PK',\n    'Palau': 'PW',\n    'Palestinian Territory, Occupied': 'PS',\n    'Panama': 'PA',\n    'Papua New Guinea': 'PG',\n    'Paraguay': 'PY',\n    'Peru': 'PE',\n    'Philippines': 'PH',\n    'Pitcairn': 'PN',\n    'Poland': 'PL',\n    'Portugal': 'PT',\n    'Puerto Rico': 'PR',\n    'Qatar': 'QA',\n    'Reunion': 'RE',\n    'Romania': 'RO',\n    'Russia': 'RU',\n    'Rwanda': 'RW',\n    'Saint Helena': 'SH',\n    'Saint Kitts and Nevis': 'KN',\n    'Saint Lucia': 'LC',\n    'Saint Pierre and Miquelon': 'PM',\n    'Saint Vincent and the Grenadines': 'VC',\n    'Samoa': 'WS',\n    'San Marino': 'SM',\n    'Sao Tome and Principe': 'ST',\n    'Saudi Arabia': 'SA',\n    'Senegal': 'SN',\n    'Serbia and Montenegro': 'CS',\n    'Seychelles': 'SC',\n    'Sierra Leone': 'SL',\n    'Singapore': 'SG',\n    'Slovakia': 'SK',\n    'Slovenia': 'SI',\n    'Solomon Islands': 'SB',\n    'Somalia': 'SO',\n    'South Africa': 'ZA',\n    'South Georgia and the South Sandwich Islands': 'GS',\n    'South Korea': 'KR',\n    'Spain': 'ES',\n    'Sri Lanka': 'LK',\n    'Sudan': 'SD',\n    'Suriname': 'SR',\n    'Svalbard and Jan Mayen': 'SJ',\n    'Swaziland': 'SZ',\n    'Sweden': 'SE',\n    'Switzerland': 'CH',\n    'Syrian Arab Republic': 'SY',\n    'Taiwan, Province of China': 'TW',\n    'Tajikistan': 'TJ',\n    'Tanzania, United Republic of': 'TZ',\n    'Thailand': 'TH',\n    'Timor-Leste': 'TL',\n    'Togo': 'TG',\n    'Tokelau': 'TK',\n    'Tonga': 'TO',\n    'Trinidad and Tobago': 'TT',\n    'Tunisia': 'TN',\n    'Turkey': 'TR',\n    'Turkmenistan': 'TM',\n    'Turks and Caicos Islands': 'TC',\n    'Tuvalu': 'TV',\n    'Uganda': 'UG',\n    'Ukraine': 'UA',\n    'United Arab Emirates': 'AE',\n    'United Kingdom': 'UK',\n    'United States of America': 'USA',\n    'United States Minor Outlying Islands': 'UM',\n    'Uruguay': 'UY',\n    'Uzbekistan': 'UZ',\n    'Vanuatu': 'VU',\n    'Venezuela': 'VE',\n    'Vietnam': 'VN',\n    'Virgin Islands, British': 'VG',\n    'Virgin Islands, U.S.': 'VI',\n    'Wallis and Futuna': 'WF',\n    'Western Sahara': 'EH',\n    'Yemen': 'YE',\n    'Zambia': 'ZM',\n    'Zimbabwe': 'ZW',\n    'Alabama': 'AL',\n    'Alaska': 'AK',\n    'Arizona': 'AZ',\n    'Arkansas': 'AR',\n    'California': 'CA',\n    'Colorado': 'CO',\n    'Connecticut': 'CT',\n    'Delaware': 'DE',\n    'District of Columbia': 'DC',\n    'Federated States Of Micronesia': 'FM',\n    'Florida': 'FL',\n    'Georgia': 'GA',\n    'Hawaii': 'HI',\n    'Idaho': 'ID',\n    'Illinois': 'IL',\n    'Indiana': 'IN',\n    'Iowa': 'IA',\n    'Kansas': 'KS',\n    'Kentucky': 'KY',\n    'Louisiana': 'LA',\n    'Maine': 'ME',\n    'Maryland': 'MD',\n    'Massachusetts': 'MA',\n    'Michigan': 'MI',\n    'Minnesota': 'MN',\n    'Mississippi': 'MS',\n    'Missouri': 'MO',\n    'Montana': 'MT',\n    'Nebraska': 'NE',\n    'Nevada': 'NV',\n    'New Hampshire': 'NH',\n    'New Jersey': 'NJ',\n    'New Mexico': 'NM',\n    'New York': 'NY',\n    'North Carolina': 'NC',\n    'North Dakota': 'ND',\n    'Ohio': 'OH',\n    'Oklahoma': 'OK',\n    'Oregon': 'OR',\n    'Pennsylvania': 'PA',\n    'Rhode Island': 'RI',\n    'South Carolina': 'SC',\n    'South Dakota': 'SD',\n    'Tennessee': 'TN',\n    'Texas': 'TX',\n    'Utah': 'UT',\n    'Vermont': 'VT',\n    'Virgin Islands': 'VI',\n    'Virginia': 'VA',\n    'Washington': 'WA',\n    'West Virginia': 'WV',\n    'Wisconsin': 'WI',\n    'Wyoming': 'WY',\n    'Alberta': 'AB',\n    'British Columbia': 'BC',\n    'Manitoba': 'MB',\n    'New Brunswick': 'NB',\n    'Newfoundland and Labrador': 'NL',\n    'Northwest Territories': 'NT',\n    'Nova Scotia': 'NS',\n    'Nunavut': 'NU',\n    'Ontario': 'ON',\n    'Prince Edward Island': 'PE',\n    'Quebec': 'QC',\n    'Saskatchewan': 'SK',\n    'Yukon': 'YT',\n    'Channel Islands': 'CHI',\n    'England': 'ENG',\n    'Northern Ireland': 'NIR',\n    'Scotland': 'SCT',\n    'Wales': 'WAL',\n};\nvar PLACE_ID_MAP = {\n    'Alabama': 'rel.148838/rel.161950',\n    'Alaska': 'rel.148838/rel.1116270',\n    'Arizona': 'rel.148838/rel.162018',\n    'Arkansas': 'rel.148838/rel.161646',\n    'California': 'rel.148838/rel.165475',\n    'Colorado': 'rel.148838/rel.161961',\n    'Connecticut': 'rel.148838/rel.165794',\n    'Delaware': 'rel.148838/rel.162110',\n    'District of Columbia': 'rel.148838/rel.162069',\n    'Florida': 'rel.148838/rel.162050',\n    'Georgia': 'rel.148838/rel.161957',\n    'Guam': 'rel.148838/rel.306001',\n    'Hawaii': 'rel.148838/rel.166563',\n    'Idaho': 'rel.148838/rel.162116',\n    'Illinois': 'rel.148838/rel.122586',\n    'Indiana': 'rel.148838/rel.161816',\n    'Iowa': 'rel.148838/rel.161650',\n    'Kansas': 'rel.148838/rel.161644',\n    'Kentucky': 'rel.148838/rel.161655',\n    'Louisiana': 'rel.148838/rel.224922',\n    'Maine': 'rel.148838/rel.63512',\n    'Maryland': 'rel.148838/rel.162112',\n    'Massachusetts': 'rel.148838/rel.61315',\n    'Michigan': 'rel.148838/rel.165789',\n    'Minnesota': 'rel.148838/rel.165471',\n    'Mississippi': 'rel.148838/rel.161943',\n    'Missouri': 'rel.148838/rel.161638',\n    'Montana': 'rel.148838/rel.162115',\n    'Nebraska': 'rel.148838/rel.161648',\n    'Nevada': 'rel.148838/rel.165473',\n    'New Hampshire': 'rel.148838/rel.67213',\n    'New Jersey': 'rel.148838/rel.224951',\n    'New Mexico': 'rel.148838/rel.162014',\n    'New York': 'rel.148838/rel.61320',\n    'North Carolina': 'rel.148838/rel.224045',\n    'North Dakota': 'rel.148838/rel.161653',\n    'Ohio': 'rel.148838/rel.162061',\n    'Oklahoma': 'rel.148838/rel.161645',\n    'Oregon': 'rel.148838/rel.165476',\n    'Pennsylvania': 'rel.148838/rel.162109',\n    'Puerto Rico': 'rel.148838/rel.4422604',\n    'Rhode Island': 'rel.148838/rel.392915',\n    'South Carolina': 'rel.148838/rel.224040',\n    'South Dakota': 'rel.148838/rel.161652',\n    'Tennessee': 'rel.148838/rel.161838',\n    'Texas': 'rel.148838/rel.114690',\n    'Utah': 'rel.148838/rel.161993',\n    'Vermont': 'rel.148838/rel.60759',\n    'Virginia': 'rel.148838/rel.224042',\n    'Washington': 'rel.148838/rel.165479',\n    'West Virginia': 'rel.148838/rel.162068',\n    'Wisconsin': 'rel.148838/rel.165466',\n    'Wyoming': 'rel.148838/rel.161991',\n};\n/*\n * REVERSE_ABBREVIATIONS will overwrite some entries in ABBREVIATIONS. Indonesia: ID will be overwritten by Idaho: ID.\n * US States will take precedence because they come later in the object. Can fix this later if it's an issue.\n */\nvar REVERSE_ABBREVIATIONS = (0,_ObjectUtils__WEBPACK_IMPORTED_MODULE_0__/* .reverseObj */ .hS)(ABBREVIATIONS);\nvar REVERSE_IDS = (0,_ObjectUtils__WEBPACK_IMPORTED_MODULE_0__/* .reverseObj */ .hS)(PLACE_ID_MAP);\nvar USA_PLACE_ID = 'rel.148838';\nfunction longToShort(longPlaceName) {\n    return ABBREVIATIONS[longPlaceName];\n}\nfunction shortToLong(shortPlaceName) {\n    return REVERSE_ABBREVIATIONS[shortPlaceName];\n}\nfunction getPlaceId(placeName) {\n    if (placeName in REVERSE_ABBREVIATIONS)\n        placeName = shortToLong(placeName);\n    return PLACE_ID_MAP[placeName];\n}\nfunction getPlaceById(placeId) {\n    return REVERSE_IDS[placeId];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDM0ODAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvcGxhY2UtYWJicmV2aWF0aW9ucy50cz8wYWFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9iaiB9IGZyb20gJy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyByZXZlcnNlT2JqIH0gZnJvbSAnLi9PYmplY3RVdGlscyc7XG5cbmNvbnN0IEFCQlJFVklBVElPTlMgPSB7XG5cdCdBZmdoYW5pc3Rhbic6ICdBRicsXG5cdCfDhWxhbmQgSXNsYW5kcyc6ICdBWCcsXG5cdCdBbGJhbmlhJzogJ0FMJyxcblx0J0FsZ2VyaWEnOiAnRFonLFxuXHQnQW1lcmljYW4gU2Ftb2EnOiAnQVMnLFxuXHQnQW5kb3JyYSc6ICdBRCcsXG5cdCdBbmdvbGEnOiAnQU8nLFxuXHQnQW5ndWlsbGEnOiAnQUknLFxuXHQnQW50YXJjdGljYSc6ICdBUScsXG5cdCdBbnRpZ3VhIGFuZCBCYXJidWRhJzogJ0FHJyxcblx0J0FyZ2VudGluYSc6ICdBUicsXG5cdCdBcm1lbmlhJzogJ0FNJyxcblx0J0FydWJhJzogJ0FXJyxcblx0J0F1c3RyYWxpYSc6ICdBVScsXG5cdCdBdXN0cmlhJzogJ0FUJyxcblx0J0F6ZXJiYWlqYW4nOiAnQVonLFxuXHQnQmFoYW1hcyc6ICdCUycsXG5cdCdCYWhyYWluJzogJ0JIJyxcblx0J0JhbmdsYWRlc2gnOiAnQkQnLFxuXHQnQmFyYmFkb3MnOiAnQkInLFxuXHQnQmVsYXJ1cyc6ICdCWScsXG5cdCdCZWxnaXVtJzogJ0JFJyxcblx0J0JlbGl6ZSc6ICdCWicsXG5cdCdCZW5pbic6ICdCSicsXG5cdCdCZXJtdWRhJzogJ0JNJyxcblx0J0JodXRhbic6ICdCVCcsXG5cdCdCb2xpdmlhJzogJ0JPJyxcblx0J0Jvc25pYSBhbmQgSGVyemVnb3ZpbmEnOiAnQkEnLFxuXHQnQm90c3dhbmEnOiAnQlcnLFxuXHQnQm91dmV0IElzbGFuZCc6ICdCVicsXG5cdCdCcmF6aWwnOiAnQlInLFxuXHQnQnJpdGlzaCBJbmRpYW4gT2NlYW4gVGVycml0b3J5JzogJ0lPJyxcblx0J0JydW5laSBEYXJ1c3NhbGFtJzogJ0JOJyxcblx0J0J1bGdhcmlhJzogJ0JHJyxcblx0J0J1cmtpbmEgRmFzbyc6ICdCRicsXG5cdCdCdXJ1bmRpJzogJ0JJJyxcblx0J0NhbWJvZGlhJzogJ0tIJyxcblx0J0NhbWVyb29uJzogJ0NNJyxcblx0J0NhbmFkYSc6ICdDQScsXG5cdCdDYXBlIFZlcmRlJzogJ0NWJyxcblx0J0NheW1hbiBJc2xhbmRzJzogJ0tZJyxcblx0J0NlbnRyYWwgQWZyaWNhbiBSZXB1YmxpYyc6ICdDRicsXG5cdCdDaGFkJzogJ1REJyxcblx0J0NoaWxlJzogJ0NMJyxcblx0J0NoaW5hJzogJ0NOJyxcblx0J0NocmlzdG1hcyBJc2xhbmQnOiAnQ1gnLFxuXHQnQ29jb3MgKEtlZWxpbmcpIElzbGFuZHMnOiAnQ0MnLFxuXHQnQ29sb21iaWEnOiAnQ08nLFxuXHQnQ29tb3Jvcyc6ICdLTScsXG5cdCdDb25nbyc6ICdDRycsXG5cdCdDb25nbywgVGhlIERlbW9jcmF0aWMgUmVwdWJsaWMgb2YgdGhlJzogJ0NEJyxcblx0J0Nvb2sgSXNsYW5kcyc6ICdDSycsXG5cdCdDb3N0YSBSaWNhJzogJ0NSJyxcblx0XCJDb3RlIEQnSXZvaXJlXCI6ICdDSScsXG5cdCdDcm9hdGlhJzogJ0hSJyxcblx0J0N1YmEnOiAnQ1UnLFxuXHQnQ3lwcnVzJzogJ0NZJyxcblx0J0N6ZWNoIFJlcHVibGljJzogJ0NaJyxcblx0J0N6ZWNoaWEnOiAnQ1onLFxuXHQnRGVubWFyayc6ICdESycsXG5cdCdEamlib3V0aSc6ICdESicsXG5cdCdEb21pbmljYSc6ICdETScsXG5cdCdEb21pbmljYW4gUmVwdWJsaWMnOiAnRE8nLFxuXHQnRWN1YWRvcic6ICdFQycsXG5cdCdFZ3lwdCc6ICdFRycsXG5cdCdFbCBTYWx2YWRvcic6ICdTVicsXG5cdCdFcXVhdG9yaWFsIEd1aW5lYSc6ICdHUScsXG5cdCdFcml0cmVhJzogJ0VSJyxcblx0J0VzdG9uaWEnOiAnRUUnLFxuXHQnRXRoaW9waWEnOiAnRVQnLFxuXHQnRmFsa2xhbmQgSXNsYW5kcyAoTWFsdmluYXMpJzogJ0ZLJyxcblx0J0Zhcm9lIElzbGFuZHMnOiAnRk8nLFxuXHQnRmlqaSc6ICdGSicsXG5cdCdGaW5sYW5kJzogJ0ZJJyxcblx0J0ZyYW5jZSc6ICdGUicsXG5cdCdGcmVuY2ggR3VpYW5hJzogJ0dGJyxcblx0J0ZyZW5jaCBQb2x5bmVzaWEnOiAnUEYnLFxuXHQnRnJlbmNoIFNvdXRoZXJuIFRlcnJpdG9yaWVzJzogJ1RGJyxcblx0J0dhYm9uJzogJ0dBJyxcblx0J0dhbWJpYSc6ICdHTScsXG5cblx0Ly8gJ0dlb3JnaWEnOiAnR0UnLCAvLyBjb25mbGljdHMgd2l0aCBVUyBTdGF0ZSBHZW9yZ2lhLiBBbWVyaWNhIEZpcnN0ISBJZiB0aGlzIGlzIGFuIGlzc3VlLCB3ZSBjYW4gaGFuZGxlIHRoaXMgbGF0ZXIuXG5cdCdHZXJtYW55JzogJ0RFJyxcblx0J0doYW5hJzogJ0dIJyxcblx0J0dpYnJhbHRhcic6ICdHSScsXG5cdCdHcmVlY2UnOiAnR1InLFxuXHQnR3JlZW5sYW5kJzogJ0dMJyxcblx0J0dyZW5hZGEnOiAnR0QnLFxuXHQnR3VhZGVsb3VwZSc6ICdHUCcsXG5cdCdHdWFtJzogJ0dVJyxcblx0J0d1YXRlbWFsYSc6ICdHVCcsXG5cdCdHdWVybnNleSc6ICdHRycsXG5cdCdHdWluZWEnOiAnR04nLFxuXHQnR3VpbmVhLUJpc3NhdSc6ICdHVycsXG5cdCdHdXlhbmEnOiAnR1knLFxuXHQnSGFpdGknOiAnSFQnLFxuXHQnSGVhcmQgSXNsYW5kIGFuZCBNY2RvbmFsZCBJc2xhbmRzJzogJ0hNJyxcblx0J0hvbHkgU2VlIChWYXRpY2FuIENpdHkgU3RhdGUpJzogJ1ZBJyxcblx0J0hvbmR1cmFzJzogJ0hOJyxcblx0J0hvbmcgS29uZyc6ICdISycsXG5cdCdIdW5nYXJ5JzogJ0hVJyxcblx0J0ljZWxhbmQnOiAnSVMnLFxuXHQnSW5kaWEnOiAnSU4nLFxuXHQnSW5kb25lc2lhJzogJ0lEJyxcblx0J0lyYW4sIElzbGFtaWMgUmVwdWJsaWMgT2YnOiAnSVInLFxuXHQnSXJhcSc6ICdJUScsXG5cdCdJcmVsYW5kJzogJ0lFJyxcblx0J0lzbGUgb2YgTWFuJzogJ0lNJyxcblx0J0lzcmFlbCc6ICdJTCcsXG5cdCdJdGFseSc6ICdJVCcsXG5cdCdKYW1haWNhJzogJ0pNJyxcblx0J0phcGFuJzogJ0pQJyxcblx0J0plcnNleSc6ICdKRScsXG5cdCdKb3JkYW4nOiAnSk8nLFxuXHQnS2F6YWtoc3Rhbic6ICdLWicsXG5cdCdLZW55YSc6ICdLRScsXG5cdCdLaXJpYmF0aSc6ICdLSScsXG5cdFwiS29yZWEsIERlbW9jcmF0aWMgUGVvcGxlJ3MgUmVwdWJsaWMgb2ZcIjogJ0tQJyxcblx0J0tvcmVhLCBSZXB1YmxpYyBvZic6ICdLUicsXG5cdCdLdXdhaXQnOiAnS1cnLFxuXHQnS3lyZ3l6c3Rhbic6ICdLRycsXG5cdFwiTGFvIFBlb3BsZSdzIERlbW9jcmF0aWMgUmVwdWJsaWNcIjogJ0xBJyxcblx0J0xhdHZpYSc6ICdMVicsXG5cdCdMZWJhbm9uJzogJ0xCJyxcblx0J0xlc290aG8nOiAnTFMnLFxuXHQnTGliZXJpYSc6ICdMUicsXG5cdCdMaWJ5YW4gQXJhYiBKYW1haGlyaXlhJzogJ0xZJyxcblx0J0xpZWNodGVuc3RlaW4nOiAnTEknLFxuXHQnTGl0aHVhbmlhJzogJ0xUJyxcblx0J0x1eGVtYm91cmcnOiAnTFUnLFxuXHQnTWFjYW8nOiAnTU8nLFxuXHQnTWFjZWRvbmlhLCBUaGUgRm9ybWVyIFl1Z29zbGF2IFJlcHVibGljIG9mJzogJ01LJyxcblx0J01hZGFnYXNjYXInOiAnTUcnLFxuXHQnTWFsYXdpJzogJ01XJyxcblx0J01hbGF5c2lhJzogJ01ZJyxcblx0J01hbGRpdmVzJzogJ01WJyxcblx0J01hbGknOiAnTUwnLFxuXHQnTWFsdGEnOiAnTVQnLFxuXHQnTWFyc2hhbGwgSXNsYW5kcyc6ICdNSCcsXG5cdCdNYXJ0aW5pcXVlJzogJ01RJyxcblx0J01hdXJpdGFuaWEnOiAnTVInLFxuXHQnTWF1cml0aXVzJzogJ01VJyxcblx0J01heW90dGUnOiAnWVQnLFxuXHQnTWV4aWNvJzogJ01YJyxcblx0J01pY3JvbmVzaWEsIEZlZGVyYXRlZCBTdGF0ZXMgb2YnOiAnRk0nLFxuXHQnTW9sZG92YSwgUmVwdWJsaWMgb2YnOiAnTUQnLFxuXHQnTW9uYWNvJzogJ01DJyxcblx0J01vbmdvbGlhJzogJ01OJyxcblx0J01vbnRzZXJyYXQnOiAnTVMnLFxuXHQnTW9yb2Njbyc6ICdNQScsXG5cdCdNb3phbWJpcXVlJzogJ01aJyxcblx0J015YW5tYXInOiAnTU0nLFxuXHQnTmFtaWJpYSc6ICdOQScsXG5cdCdOYXVydSc6ICdOUicsXG5cdCdOZXBhbCc6ICdOUCcsXG5cdCdOZXRoZXJsYW5kcyc6ICdOTCcsXG5cdCdOZXRoZXJsYW5kcyBBbnRpbGxlcyc6ICdBTicsXG5cdCdOZXcgQ2FsZWRvbmlhJzogJ05DJyxcblx0J05ldyBaZWFsYW5kJzogJ05aJyxcblx0J05pY2FyYWd1YSc6ICdOSScsXG5cdCdOaWdlcic6ICdORScsXG5cdCdOaWdlcmlhJzogJ05HJyxcblx0J05pdWUnOiAnTlUnLFxuXHQnTm9yZm9sayBJc2xhbmQnOiAnTkYnLFxuXHQnTm9ydGggS29yZWEnOiAnS1AnLFxuXHQnTm9ydGhlcm4gTWFyaWFuYSBJc2xhbmRzJzogJ01QJyxcblx0J05vcndheSc6ICdOTycsXG5cdCdPbWFuJzogJ09NJyxcblx0J1Bha2lzdGFuJzogJ1BLJyxcblx0J1BhbGF1JzogJ1BXJyxcblx0J1BhbGVzdGluaWFuIFRlcnJpdG9yeSwgT2NjdXBpZWQnOiAnUFMnLFxuXHQnUGFuYW1hJzogJ1BBJyxcblx0J1BhcHVhIE5ldyBHdWluZWEnOiAnUEcnLFxuXHQnUGFyYWd1YXknOiAnUFknLFxuXHQnUGVydSc6ICdQRScsXG5cdCdQaGlsaXBwaW5lcyc6ICdQSCcsXG5cdCdQaXRjYWlybic6ICdQTicsXG5cdCdQb2xhbmQnOiAnUEwnLFxuXHQnUG9ydHVnYWwnOiAnUFQnLFxuXHQnUHVlcnRvIFJpY28nOiAnUFInLFxuXHQnUWF0YXInOiAnUUEnLFxuXHQnUmV1bmlvbic6ICdSRScsXG5cdCdSb21hbmlhJzogJ1JPJyxcblx0J1J1c3NpYSc6ICdSVScsXG5cdCdSd2FuZGEnOiAnUlcnLFxuXHQnU2FpbnQgSGVsZW5hJzogJ1NIJyxcblx0J1NhaW50IEtpdHRzIGFuZCBOZXZpcyc6ICdLTicsXG5cdCdTYWludCBMdWNpYSc6ICdMQycsXG5cdCdTYWludCBQaWVycmUgYW5kIE1pcXVlbG9uJzogJ1BNJyxcblx0J1NhaW50IFZpbmNlbnQgYW5kIHRoZSBHcmVuYWRpbmVzJzogJ1ZDJyxcblx0J1NhbW9hJzogJ1dTJyxcblx0J1NhbiBNYXJpbm8nOiAnU00nLFxuXHQnU2FvIFRvbWUgYW5kIFByaW5jaXBlJzogJ1NUJyxcblx0J1NhdWRpIEFyYWJpYSc6ICdTQScsXG5cdCdTZW5lZ2FsJzogJ1NOJyxcblx0J1NlcmJpYSBhbmQgTW9udGVuZWdybyc6ICdDUycsXG5cdCdTZXljaGVsbGVzJzogJ1NDJyxcblx0J1NpZXJyYSBMZW9uZSc6ICdTTCcsXG5cdCdTaW5nYXBvcmUnOiAnU0cnLFxuXHQnU2xvdmFraWEnOiAnU0snLFxuXHQnU2xvdmVuaWEnOiAnU0knLFxuXHQnU29sb21vbiBJc2xhbmRzJzogJ1NCJyxcblx0J1NvbWFsaWEnOiAnU08nLFxuXHQnU291dGggQWZyaWNhJzogJ1pBJyxcblx0J1NvdXRoIEdlb3JnaWEgYW5kIHRoZSBTb3V0aCBTYW5kd2ljaCBJc2xhbmRzJzogJ0dTJyxcblx0J1NvdXRoIEtvcmVhJzogJ0tSJyxcblx0J1NwYWluJzogJ0VTJyxcblx0J1NyaSBMYW5rYSc6ICdMSycsXG5cdCdTdWRhbic6ICdTRCcsXG5cdCdTdXJpbmFtZSc6ICdTUicsXG5cdCdTdmFsYmFyZCBhbmQgSmFuIE1heWVuJzogJ1NKJyxcblx0J1N3YXppbGFuZCc6ICdTWicsXG5cdCdTd2VkZW4nOiAnU0UnLFxuXHQnU3dpdHplcmxhbmQnOiAnQ0gnLFxuXHQnU3lyaWFuIEFyYWIgUmVwdWJsaWMnOiAnU1knLFxuXHQnVGFpd2FuLCBQcm92aW5jZSBvZiBDaGluYSc6ICdUVycsXG5cdCdUYWppa2lzdGFuJzogJ1RKJyxcblx0J1RhbnphbmlhLCBVbml0ZWQgUmVwdWJsaWMgb2YnOiAnVFonLFxuXHQnVGhhaWxhbmQnOiAnVEgnLFxuXHQnVGltb3ItTGVzdGUnOiAnVEwnLFxuXHQnVG9nbyc6ICdURycsXG5cdCdUb2tlbGF1JzogJ1RLJyxcblx0J1RvbmdhJzogJ1RPJyxcblx0J1RyaW5pZGFkIGFuZCBUb2JhZ28nOiAnVFQnLFxuXHQnVHVuaXNpYSc6ICdUTicsXG5cdCdUdXJrZXknOiAnVFInLFxuXHQnVHVya21lbmlzdGFuJzogJ1RNJyxcblx0J1R1cmtzIGFuZCBDYWljb3MgSXNsYW5kcyc6ICdUQycsXG5cdCdUdXZhbHUnOiAnVFYnLFxuXHQnVWdhbmRhJzogJ1VHJyxcblx0J1VrcmFpbmUnOiAnVUEnLFxuXHQnVW5pdGVkIEFyYWIgRW1pcmF0ZXMnOiAnQUUnLFxuXHQnVW5pdGVkIEtpbmdkb20nOiAnVUsnLFxuXHQnVW5pdGVkIFN0YXRlcyBvZiBBbWVyaWNhJzogJ1VTQScsXG5cdCdVbml0ZWQgU3RhdGVzIE1pbm9yIE91dGx5aW5nIElzbGFuZHMnOiAnVU0nLFxuXHQnVXJ1Z3VheSc6ICdVWScsXG5cdCdVemJla2lzdGFuJzogJ1VaJyxcblx0J1ZhbnVhdHUnOiAnVlUnLFxuXHQnVmVuZXp1ZWxhJzogJ1ZFJyxcblx0J1ZpZXRuYW0nOiAnVk4nLFxuXHQnVmlyZ2luIElzbGFuZHMsIEJyaXRpc2gnOiAnVkcnLFxuXHQnVmlyZ2luIElzbGFuZHMsIFUuUy4nOiAnVkknLFxuXHQnV2FsbGlzIGFuZCBGdXR1bmEnOiAnV0YnLFxuXHQnV2VzdGVybiBTYWhhcmEnOiAnRUgnLFxuXHQnWWVtZW4nOiAnWUUnLFxuXHQnWmFtYmlhJzogJ1pNJyxcblx0J1ppbWJhYndlJzogJ1pXJyxcblxuXHQnQWxhYmFtYSc6ICdBTCcsXG5cdCdBbGFza2EnOiAnQUsnLFxuXHQnQXJpem9uYSc6ICdBWicsXG5cdCdBcmthbnNhcyc6ICdBUicsXG5cdCdDYWxpZm9ybmlhJzogJ0NBJyxcblx0J0NvbG9yYWRvJzogJ0NPJyxcblx0J0Nvbm5lY3RpY3V0JzogJ0NUJyxcblx0J0RlbGF3YXJlJzogJ0RFJyxcblx0J0Rpc3RyaWN0IG9mIENvbHVtYmlhJzogJ0RDJyxcblx0J0ZlZGVyYXRlZCBTdGF0ZXMgT2YgTWljcm9uZXNpYSc6ICdGTScsXG5cdCdGbG9yaWRhJzogJ0ZMJyxcblx0J0dlb3JnaWEnOiAnR0EnLFxuXHQnSGF3YWlpJzogJ0hJJyxcblx0J0lkYWhvJzogJ0lEJyxcblx0J0lsbGlub2lzJzogJ0lMJyxcblx0J0luZGlhbmEnOiAnSU4nLFxuXHQnSW93YSc6ICdJQScsXG5cdCdLYW5zYXMnOiAnS1MnLFxuXHQnS2VudHVja3knOiAnS1knLFxuXHQnTG91aXNpYW5hJzogJ0xBJyxcblx0J01haW5lJzogJ01FJyxcblx0J01hcnlsYW5kJzogJ01EJyxcblx0J01hc3NhY2h1c2V0dHMnOiAnTUEnLFxuXHQnTWljaGlnYW4nOiAnTUknLFxuXHQnTWlubmVzb3RhJzogJ01OJyxcblx0J01pc3Npc3NpcHBpJzogJ01TJyxcblx0J01pc3NvdXJpJzogJ01PJyxcblx0J01vbnRhbmEnOiAnTVQnLFxuXHQnTmVicmFza2EnOiAnTkUnLFxuXHQnTmV2YWRhJzogJ05WJyxcblx0J05ldyBIYW1wc2hpcmUnOiAnTkgnLFxuXHQnTmV3IEplcnNleSc6ICdOSicsXG5cdCdOZXcgTWV4aWNvJzogJ05NJyxcblx0J05ldyBZb3JrJzogJ05ZJyxcblx0J05vcnRoIENhcm9saW5hJzogJ05DJyxcblx0J05vcnRoIERha290YSc6ICdORCcsXG5cdCdPaGlvJzogJ09IJyxcblx0J09rbGFob21hJzogJ09LJyxcblx0J09yZWdvbic6ICdPUicsXG5cdCdQZW5uc3lsdmFuaWEnOiAnUEEnLFxuXHQnUmhvZGUgSXNsYW5kJzogJ1JJJyxcblx0J1NvdXRoIENhcm9saW5hJzogJ1NDJyxcblx0J1NvdXRoIERha290YSc6ICdTRCcsXG5cdCdUZW5uZXNzZWUnOiAnVE4nLFxuXHQnVGV4YXMnOiAnVFgnLFxuXHQnVXRhaCc6ICdVVCcsXG5cdCdWZXJtb250JzogJ1ZUJyxcblx0J1ZpcmdpbiBJc2xhbmRzJzogJ1ZJJyxcblx0J1ZpcmdpbmlhJzogJ1ZBJyxcblx0J1dhc2hpbmd0b24nOiAnV0EnLFxuXHQnV2VzdCBWaXJnaW5pYSc6ICdXVicsXG5cdCdXaXNjb25zaW4nOiAnV0knLFxuXHQnV3lvbWluZyc6ICdXWScsXG5cblx0J0FsYmVydGEnOiAnQUInLFxuXHQnQnJpdGlzaCBDb2x1bWJpYSc6ICdCQycsXG5cdCdNYW5pdG9iYSc6ICdNQicsXG5cdCdOZXcgQnJ1bnN3aWNrJzogJ05CJyxcblx0J05ld2ZvdW5kbGFuZCBhbmQgTGFicmFkb3InOiAnTkwnLFxuXHQnTm9ydGh3ZXN0IFRlcnJpdG9yaWVzJzogJ05UJyxcblx0J05vdmEgU2NvdGlhJzogJ05TJyxcblx0J051bmF2dXQnOiAnTlUnLFxuXHQnT250YXJpbyc6ICdPTicsXG5cdCdQcmluY2UgRWR3YXJkIElzbGFuZCc6ICdQRScsXG5cdCdRdWViZWMnOiAnUUMnLFxuXHQnU2Fza2F0Y2hld2FuJzogJ1NLJyxcblx0J1l1a29uJzogJ1lUJyxcblxuXHQnQ2hhbm5lbCBJc2xhbmRzJzogJ0NISScsXG5cdCdFbmdsYW5kJzogJ0VORycsXG5cdCdOb3J0aGVybiBJcmVsYW5kJzogJ05JUicsXG5cdCdTY290bGFuZCc6ICdTQ1QnLFxuXHQnV2FsZXMnOiAnV0FMJyxcbn07XG5cbmNvbnN0IFBMQUNFX0lEX01BUCA9IHtcblx0J0FsYWJhbWEnOiAncmVsLjE0ODgzOC9yZWwuMTYxOTUwJyxcblx0J0FsYXNrYSc6ICdyZWwuMTQ4ODM4L3JlbC4xMTE2MjcwJyxcblx0J0FyaXpvbmEnOiAncmVsLjE0ODgzOC9yZWwuMTYyMDE4Jyxcblx0J0Fya2Fuc2FzJzogJ3JlbC4xNDg4MzgvcmVsLjE2MTY0NicsXG5cdCdDYWxpZm9ybmlhJzogJ3JlbC4xNDg4MzgvcmVsLjE2NTQ3NScsXG5cdCdDb2xvcmFkbyc6ICdyZWwuMTQ4ODM4L3JlbC4xNjE5NjEnLFxuXHQnQ29ubmVjdGljdXQnOiAncmVsLjE0ODgzOC9yZWwuMTY1Nzk0Jyxcblx0J0RlbGF3YXJlJzogJ3JlbC4xNDg4MzgvcmVsLjE2MjExMCcsXG5cdCdEaXN0cmljdCBvZiBDb2x1bWJpYSc6ICdyZWwuMTQ4ODM4L3JlbC4xNjIwNjknLFxuXHQnRmxvcmlkYSc6ICdyZWwuMTQ4ODM4L3JlbC4xNjIwNTAnLFxuXHQnR2VvcmdpYSc6ICdyZWwuMTQ4ODM4L3JlbC4xNjE5NTcnLFxuXHQnR3VhbSc6ICdyZWwuMTQ4ODM4L3JlbC4zMDYwMDEnLFxuXHQnSGF3YWlpJzogJ3JlbC4xNDg4MzgvcmVsLjE2NjU2MycsXG5cdCdJZGFobyc6ICdyZWwuMTQ4ODM4L3JlbC4xNjIxMTYnLFxuXHQnSWxsaW5vaXMnOiAncmVsLjE0ODgzOC9yZWwuMTIyNTg2Jyxcblx0J0luZGlhbmEnOiAncmVsLjE0ODgzOC9yZWwuMTYxODE2Jyxcblx0J0lvd2EnOiAncmVsLjE0ODgzOC9yZWwuMTYxNjUwJyxcblx0J0thbnNhcyc6ICdyZWwuMTQ4ODM4L3JlbC4xNjE2NDQnLFxuXHQnS2VudHVja3knOiAncmVsLjE0ODgzOC9yZWwuMTYxNjU1Jyxcblx0J0xvdWlzaWFuYSc6ICdyZWwuMTQ4ODM4L3JlbC4yMjQ5MjInLFxuXHQnTWFpbmUnOiAncmVsLjE0ODgzOC9yZWwuNjM1MTInLFxuXHQnTWFyeWxhbmQnOiAncmVsLjE0ODgzOC9yZWwuMTYyMTEyJyxcblx0J01hc3NhY2h1c2V0dHMnOiAncmVsLjE0ODgzOC9yZWwuNjEzMTUnLFxuXHQnTWljaGlnYW4nOiAncmVsLjE0ODgzOC9yZWwuMTY1Nzg5Jyxcblx0J01pbm5lc290YSc6ICdyZWwuMTQ4ODM4L3JlbC4xNjU0NzEnLFxuXHQnTWlzc2lzc2lwcGknOiAncmVsLjE0ODgzOC9yZWwuMTYxOTQzJyxcblx0J01pc3NvdXJpJzogJ3JlbC4xNDg4MzgvcmVsLjE2MTYzOCcsXG5cdCdNb250YW5hJzogJ3JlbC4xNDg4MzgvcmVsLjE2MjExNScsXG5cdCdOZWJyYXNrYSc6ICdyZWwuMTQ4ODM4L3JlbC4xNjE2NDgnLFxuXHQnTmV2YWRhJzogJ3JlbC4xNDg4MzgvcmVsLjE2NTQ3MycsXG5cdCdOZXcgSGFtcHNoaXJlJzogJ3JlbC4xNDg4MzgvcmVsLjY3MjEzJyxcblx0J05ldyBKZXJzZXknOiAncmVsLjE0ODgzOC9yZWwuMjI0OTUxJyxcblx0J05ldyBNZXhpY28nOiAncmVsLjE0ODgzOC9yZWwuMTYyMDE0Jyxcblx0J05ldyBZb3JrJzogJ3JlbC4xNDg4MzgvcmVsLjYxMzIwJyxcblx0J05vcnRoIENhcm9saW5hJzogJ3JlbC4xNDg4MzgvcmVsLjIyNDA0NScsXG5cdCdOb3J0aCBEYWtvdGEnOiAncmVsLjE0ODgzOC9yZWwuMTYxNjUzJyxcblx0J09oaW8nOiAncmVsLjE0ODgzOC9yZWwuMTYyMDYxJyxcblx0J09rbGFob21hJzogJ3JlbC4xNDg4MzgvcmVsLjE2MTY0NScsXG5cdCdPcmVnb24nOiAncmVsLjE0ODgzOC9yZWwuMTY1NDc2Jyxcblx0J1Blbm5zeWx2YW5pYSc6ICdyZWwuMTQ4ODM4L3JlbC4xNjIxMDknLFxuXHQnUHVlcnRvIFJpY28nOiAncmVsLjE0ODgzOC9yZWwuNDQyMjYwNCcsXG5cdCdSaG9kZSBJc2xhbmQnOiAncmVsLjE0ODgzOC9yZWwuMzkyOTE1Jyxcblx0J1NvdXRoIENhcm9saW5hJzogJ3JlbC4xNDg4MzgvcmVsLjIyNDA0MCcsXG5cdCdTb3V0aCBEYWtvdGEnOiAncmVsLjE0ODgzOC9yZWwuMTYxNjUyJyxcblx0J1Rlbm5lc3NlZSc6ICdyZWwuMTQ4ODM4L3JlbC4xNjE4MzgnLFxuXHQnVGV4YXMnOiAncmVsLjE0ODgzOC9yZWwuMTE0NjkwJyxcblx0J1V0YWgnOiAncmVsLjE0ODgzOC9yZWwuMTYxOTkzJyxcblx0J1Zlcm1vbnQnOiAncmVsLjE0ODgzOC9yZWwuNjA3NTknLFxuXHQnVmlyZ2luaWEnOiAncmVsLjE0ODgzOC9yZWwuMjI0MDQyJyxcblx0J1dhc2hpbmd0b24nOiAncmVsLjE0ODgzOC9yZWwuMTY1NDc5Jyxcblx0J1dlc3QgVmlyZ2luaWEnOiAncmVsLjE0ODgzOC9yZWwuMTYyMDY4Jyxcblx0J1dpc2NvbnNpbic6ICdyZWwuMTQ4ODM4L3JlbC4xNjU0NjYnLFxuXHQnV3lvbWluZyc6ICdyZWwuMTQ4ODM4L3JlbC4xNjE5OTEnLFxufTtcblxuLypcbiAqIFJFVkVSU0VfQUJCUkVWSUFUSU9OUyB3aWxsIG92ZXJ3cml0ZSBzb21lIGVudHJpZXMgaW4gQUJCUkVWSUFUSU9OUy4gSW5kb25lc2lhOiBJRCB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IElkYWhvOiBJRC5cbiAqIFVTIFN0YXRlcyB3aWxsIHRha2UgcHJlY2VkZW5jZSBiZWNhdXNlIHRoZXkgY29tZSBsYXRlciBpbiB0aGUgb2JqZWN0LiBDYW4gZml4IHRoaXMgbGF0ZXIgaWYgaXQncyBhbiBpc3N1ZS5cbiAqL1xuY29uc3QgUkVWRVJTRV9BQkJSRVZJQVRJT05TID0gcmV2ZXJzZU9iaihBQkJSRVZJQVRJT05TKTtcbmNvbnN0IFJFVkVSU0VfSURTID0gcmV2ZXJzZU9iaihQTEFDRV9JRF9NQVApO1xuXG5leHBvcnQgY29uc3QgVVNBX1BMQUNFX0lEID0gJ3JlbC4xNDg4MzgnO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9uZ1RvU2hvcnQobG9uZ1BsYWNlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcblx0cmV0dXJuIChBQkJSRVZJQVRJT05TIGFzIGFueSlbbG9uZ1BsYWNlTmFtZV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG9ydFRvTG9uZyhzaG9ydFBsYWNlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcblx0cmV0dXJuIFJFVkVSU0VfQUJCUkVWSUFUSU9OU1tzaG9ydFBsYWNlTmFtZV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQbGFjZUlkKHBsYWNlTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcblx0aWYgKHBsYWNlTmFtZSBpbiBSRVZFUlNFX0FCQlJFVklBVElPTlMpIHBsYWNlTmFtZSA9IHNob3J0VG9Mb25nKHBsYWNlTmFtZSk7XG5cdHJldHVybiAoUExBQ0VfSURfTUFQIGFzIGFueSlbcGxhY2VOYW1lXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBsYWNlQnlJZChwbGFjZUlkOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRyZXR1cm4gUkVWRVJTRV9JRFNbcGxhY2VJZF07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///43480\n")},6824:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   b: () => (/* binding */ lookupProperty)\n/* harmony export */ });\nvar lookupProperty = function (object, path, fn) {\n    if (!object)\n        return;\n    if (typeof path == 'string') {\n        path = path.split('.');\n    }\n    if (object instanceof Array) {\n        //implicitly handle arrays\n        return object.map(function (obj) {\n            return lookupProperty(obj, path, fn);\n        });\n        /*\n         * for (let i = 0; i < object.length; i++) {\n         * \tlookupProperty(object[i], path, fn);\n         * }\n         */\n    }\n    else if (path.length > 1) {\n        //find the property\n        return lookupProperty(object[path[0]], path.slice(1), fn);\n    }\n    else {\n        //execute the passed function on the found property\n        fn === null || fn === void 0 ? void 0 : fn(object[path[0]], object, path[0]);\n    }\n    return object[path[0]];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjgyNC5qcyIsIm1hcHBpbmdzIjoiOzs7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL3Byb3BlcnR5TG9va3VwLnRzP2Q3MTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JqIH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcblxuZXhwb3J0IGNvbnN0IGxvb2t1cFByb3BlcnR5ID0gKG9iamVjdDogT2JqLCBwYXRoOiBzdHJpbmcgfCBzdHJpbmdbXSwgZm4/OiAodmFsdWU6IHN0cmluZywgcGFyZW50OiBPYmosIG5hbWU6IHN0cmluZykgPT4gdm9pZCk6IGFueSA9PiB7XG5cdGlmICghb2JqZWN0KSByZXR1cm47XG5cblx0aWYgKHR5cGVvZiBwYXRoID09ICdzdHJpbmcnKSB7XG5cdFx0cGF0aCA9IHBhdGguc3BsaXQoJy4nKTtcblx0fVxuXG5cdGlmIChvYmplY3QgaW5zdGFuY2VvZiBBcnJheSkge1xuXHRcdC8vaW1wbGljaXRseSBoYW5kbGUgYXJyYXlzXG5cdFx0cmV0dXJuIG9iamVjdC5tYXAob2JqID0+IHtcblx0XHRcdHJldHVybiBsb29rdXBQcm9wZXJ0eShvYmosIHBhdGgsIGZuKTtcblx0XHR9KTtcblxuXHRcdC8qXG5cdFx0ICogZm9yIChsZXQgaSA9IDA7IGkgPCBvYmplY3QubGVuZ3RoOyBpKyspIHtcblx0XHQgKiBcdGxvb2t1cFByb3BlcnR5KG9iamVjdFtpXSwgcGF0aCwgZm4pO1xuXHRcdCAqIH1cblx0XHQgKi9cblx0fSBlbHNlIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcblx0XHQvL2ZpbmQgdGhlIHByb3BlcnR5XG5cdFx0cmV0dXJuIGxvb2t1cFByb3BlcnR5KG9iamVjdFtwYXRoWzBdXSwgcGF0aC5zbGljZSgxKSwgZm4pO1xuXHR9IGVsc2Uge1xuXHRcdC8vZXhlY3V0ZSB0aGUgcGFzc2VkIGZ1bmN0aW9uIG9uIHRoZSBmb3VuZCBwcm9wZXJ0eVxuXHRcdGZuPy4ob2JqZWN0W3BhdGhbMF1dLCBvYmplY3QsIHBhdGhbMF0pO1xuXHR9XG5cblx0cmV0dXJuIG9iamVjdFtwYXRoWzBdXTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6824\n")},4781:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UK: () => (/* binding */ toQueryString),\n/* harmony export */   dD: () => (/* binding */ parseQueryString)\n/* harmony export */ });\n/* unused harmony exports flattenQuery, searchParamsToObject */\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70655);\n\nvar gentleUrlEncode = function (str) {\n    str = String(str);\n    return str.replace(/[#&=\\s]+/g, function (str) { return encodeURIComponent(str); });\n};\nfunction parseQueryString(query) {\n    if (query[0] === '?')\n        query = query.slice(1);\n    var parts = query.split('&');\n    return parts.reduce(function (obj, part) {\n        var _a = (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__read */ .CR)(decodeURIComponent(part).split('='), 2), key = _a[0], val = _a[1];\n        if (key && val) {\n            obj[key] = val.replace(/\\+/g, ' ');\n        }\n        return obj;\n    }, {});\n}\nfunction toEncodedObj(query, gentle, usePlus) {\n    if (gentle === void 0) { gentle = false; }\n    if (usePlus === void 0) { usePlus = true; }\n    var encoded = {};\n    var encode = gentle ? gentleUrlEncode : encodeURIComponent;\n    for (var name in query) {\n        var val = void 0;\n        if (query[name] === null) {\n            val = null;\n        }\n        else if (query[name] !== undefined) {\n            if (query[name] instanceof Array) {\n                var paramsArray = query[name].map(function (val) { return encode(val); });\n                val = paramsArray.join(',');\n            }\n            else {\n                val = encode(query[name]);\n            }\n            if (usePlus && val)\n                val = val.replace(/%20/g, '+');\n        }\n        encoded[name] = val;\n    }\n    return encoded;\n}\nfunction toQueryString(query, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.gentle, gentle = _c === void 0 ? false : _c, _d = _b.usePlus, usePlus = _d === void 0 ? true : _d, _e = _b.encode, encode = _e === void 0 ? true : _e;\n    if (!query)\n        return '';\n    var parts = [];\n    if (encode) {\n        query = toEncodedObj(query, gentle, usePlus);\n    }\n    for (var name in query) {\n        parts.push(\"\".concat(name, \"=\").concat(query[name]));\n    }\n    var queryString = parts.join('&');\n    if (!queryString)\n        return '';\n    return \"?\".concat(queryString);\n}\nfunction flattenQuery(query) {\n    var flatQuery = {};\n    if (query) {\n        Object.keys(query).forEach(function (key) {\n            var value = query[key];\n            flatQuery[key] = Array.isArray(value) ? value[value.length - 1] : value;\n        });\n    }\n    return flatQuery;\n}\nfunction searchParamsToObject(searchParams) {\n    var obj = {};\n    searchParams.forEach(function (val, key) {\n        obj[key] = val;\n    });\n    return obj;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDc4MS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvcXVlcnlVdGlsLnRzP2YwMmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JqIH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcblxuY29uc3QgZ2VudGxlVXJsRW5jb2RlID0gKHN0cjogc3RyaW5nKSA9PiB7XG5cdHN0ciA9IFN0cmluZyhzdHIpO1xuXHRyZXR1cm4gc3RyLnJlcGxhY2UoL1sjJj1cXHNdKy9nLCBzdHIgPT4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmcocXVlcnk6IHN0cmluZykge1xuXHRpZiAocXVlcnlbMF0gPT09ICc/JykgcXVlcnkgPSBxdWVyeS5zbGljZSgxKTtcblx0bGV0IHBhcnRzID0gcXVlcnkuc3BsaXQoJyYnKTtcblx0cmV0dXJuIHBhcnRzLnJlZHVjZSgob2JqOiBPYmo8c3RyaW5nLCBzdHJpbmc+LCBwYXJ0KSA9PiB7XG5cdFx0bGV0IFtrZXksIHZhbF0gPSBkZWNvZGVVUklDb21wb25lbnQocGFydCkuc3BsaXQoJz0nKTtcblx0XHRpZiAoa2V5ICYmIHZhbCkge1xuXHRcdFx0b2JqW2tleV0gPSB2YWwucmVwbGFjZSgvXFwrL2csICcgJyk7XG5cdFx0fVxuXHRcdHJldHVybiBvYmo7XG5cdH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gdG9FbmNvZGVkT2JqKHF1ZXJ5OiBPYmosIGdlbnRsZSA9IGZhbHNlLCB1c2VQbHVzID0gdHJ1ZSk6IE9iajxzdHJpbmcsIHN0cmluZz4ge1xuXHRsZXQgZW5jb2RlZDogT2JqID0ge307XG5cblx0bGV0IGVuY29kZSA9IGdlbnRsZSA/IGdlbnRsZVVybEVuY29kZSA6IGVuY29kZVVSSUNvbXBvbmVudDtcblxuXHRmb3IgKGxldCBuYW1lIGluIHF1ZXJ5KSB7XG5cdFx0bGV0IHZhbDtcblx0XHRpZiAocXVlcnlbbmFtZV0gPT09IG51bGwpIHtcblx0XHRcdHZhbCA9IG51bGw7XG5cdFx0fSBlbHNlIGlmIChxdWVyeVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAocXVlcnlbbmFtZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuXHRcdFx0XHR2YXIgcGFyYW1zQXJyYXkgPSBxdWVyeVtuYW1lXS5tYXAoKHZhbDogYW55KSA9PiBlbmNvZGUodmFsKSk7XG5cdFx0XHRcdHZhbCA9IHBhcmFtc0FycmF5LmpvaW4oJywnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbCA9IGVuY29kZShxdWVyeVtuYW1lXSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh1c2VQbHVzICYmIHZhbCkgdmFsID0gdmFsLnJlcGxhY2UoLyUyMC9nLCAnKycpO1xuXHRcdH1cblxuXHRcdGVuY29kZWRbbmFtZV0gPSB2YWw7XG5cdH1cblxuXHRyZXR1cm4gZW5jb2RlZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvUXVlcnlTdHJpbmcocXVlcnk6IE9iaiwgeyBnZW50bGUgPSBmYWxzZSwgdXNlUGx1cyA9IHRydWUsIGVuY29kZSA9IHRydWUgfTogeyBnZW50bGU/OiBib29sZWFuLCB1c2VQbHVzPzogYm9vbGVhbiwgZW5jb2RlPzogYm9vbGVhbiB9ID0ge30pOiBzdHJpbmcge1xuXHRpZiAoIXF1ZXJ5KSByZXR1cm4gJyc7XG5cblx0bGV0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuXG5cdGlmIChlbmNvZGUpIHtcblx0XHRxdWVyeSA9IHRvRW5jb2RlZE9iaihxdWVyeSwgZ2VudGxlLCB1c2VQbHVzKTtcblx0fVxuXG5cdGZvciAobGV0IG5hbWUgaW4gcXVlcnkpIHtcblx0XHRwYXJ0cy5wdXNoKGAke25hbWV9PSR7cXVlcnlbbmFtZV19YCk7XG5cdH1cblxuXHRsZXQgcXVlcnlTdHJpbmcgPSBwYXJ0cy5qb2luKCcmJyk7XG5cblx0aWYgKCFxdWVyeVN0cmluZykgcmV0dXJuICcnO1xuXG5cdHJldHVybiBgPyR7cXVlcnlTdHJpbmd9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5RdWVyeShxdWVyeTogYW55KTogT2JqPHN0cmluZywgc3RyaW5nPiB7XG5cdGxldCBmbGF0UXVlcnk6IE9iajxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblxuXHRpZiAocXVlcnkpIHtcblx0XHRPYmplY3Qua2V5cyhxdWVyeSkuZm9yRWFjaChrZXkgPT4ge1xuXHRcdFx0bGV0IHZhbHVlID0gcXVlcnlba2V5XTtcblx0XHRcdGZsYXRRdWVyeVtrZXldID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZVt2YWx1ZS5sZW5ndGggLSAxXSA6IHZhbHVlO1xuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIGZsYXRRdWVyeTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaFBhcmFtc1RvT2JqZWN0KHNlYXJjaFBhcmFtczogVVJMU2VhcmNoUGFyYW1zKSB7XG5cdGxldCBvYmo6IE9iaiA9IHt9O1xuXHRzZWFyY2hQYXJhbXMuZm9yRWFjaCgodmFsLCBrZXkpID0+IHtcblx0XHRvYmpba2V5XSA9IHZhbDtcblx0fSk7XG5cblx0cmV0dXJuIG9iajtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4781\n")},41502:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $8: () => (/* binding */ isAuthenticated),\n/* harmony export */   A6: () => (/* binding */ isAcomSubscriber),\n/* harmony export */   GJ: () => (/* binding */ isAdmin),\n/* harmony export */   Gx: () => (/* binding */ isContentUserId),\n/* harmony export */   PN: () => (/* binding */ isRootUserId),\n/* harmony export */   VG: () => (/* binding */ isPremiumUser),\n/* harmony export */   W: () => (/* binding */ isMonthly),\n/* harmony export */   b1: () => (/* binding */ isFreeTrial),\n/* harmony export */   jF: () => (/* binding */ isSignedIn),\n/* harmony export */   mH: () => (/* binding */ isProquest),\n/* harmony export */   pE: () => (/* binding */ isAnnual),\n/* harmony export */   pH: () => (/* binding */ isRegistered),\n/* harmony export */   uJ: () => (/* binding */ isNewspaperSubscriber),\n/* harmony export */   vE: () => (/* binding */ isConfirmed),\n/* harmony export */   w_: () => (/* binding */ isBundle),\n/* harmony export */   zR: () => (/* binding */ isSiloed)\n/* harmony export */ });\n/* unused harmony exports isPaidUser, isInstitution, getsSiloedExperience, hasRole, isNormalUser, isRootUser, isContentUser, isTWSUser */\n/* harmony import */ var _sharedConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(32179);\n\nvar PREMIUM_STATUSES = ['monthly-subscriber', 'annual-subscriber', 'comp-subscriber', 'bundle', 'free-trial'];\nfunction isAuthenticated(session) {\n    return isSignedIn(session.user) || isInstitution(session.institution);\n}\nfunction isPremiumUser(user) {\n    return PREMIUM_STATUSES.includes(user === null || user === void 0 ? void 0 : user.accountStatus);\n}\nfunction isAdmin(user) {\n    var _a;\n    return !!(((_a = user === null || user === void 0 ? void 0 : user.roles) === null || _a === void 0 ? void 0 : _a.length) > 0);\n}\nfunction isConfirmed(user) {\n    return user === null || user === void 0 ? void 0 : user.confirmed;\n}\nfunction isPaidUser(user) {\n    if (!user) {\n        return false;\n    }\n    switch (user.accountStatus) {\n        case 'annual-subscriber':\n        case 'bundle':\n        case 'comp-subscriber':\n        case 'free-trial':\n        case 'monthly-subscriber':\n            return true;\n        default:\n            return false;\n    }\n}\nfunction isRegistered(user) {\n    return (user === null || user === void 0 ? void 0 : user.accountStatus) === 'non-subscriber';\n}\nfunction isFreeTrial(user) {\n    return (user === null || user === void 0 ? void 0 : user.accountStatus) === 'free-trial';\n}\nfunction isSignedIn(user) {\n    return (user === null || user === void 0 ? void 0 : user.userId) > 0;\n}\nfunction isSiloed(institution) {\n    if (institution === null || institution === void 0 ? void 0 : institution.silo) {\n        return institution.silo !== 1;\n    }\n    return false;\n    // return !!institution?.silo && institution?.silo != 1;\n}\nfunction isProquest(institution) {\n    return !!(institution === null || institution === void 0 ? void 0 : institution.proquest);\n}\nfunction isInstitution(institution) {\n    return !!institution;\n}\nfunction isAnnual(user) {\n    return (user === null || user === void 0 ? void 0 : user.accountStatus) === 'annual-subscriber';\n}\nfunction isMonthly(user) {\n    return (user === null || user === void 0 ? void 0 : user.accountStatus) === 'monthly-subscriber';\n}\nfunction isBundle(user) {\n    var _a;\n    return !!((_a = user === null || user === void 0 ? void 0 : user.accountState) === null || _a === void 0 ? void 0 : _a.bundleSubscriber);\n}\nfunction isNewspaperSubscriber(user) {\n    var _a;\n    return !!((_a = user === null || user === void 0 ? void 0 : user.accountState) === null || _a === void 0 ? void 0 : _a.newspaperSubscriber);\n}\nfunction isAcomSubscriber(user) {\n    var _a;\n    return !!((_a = user === null || user === void 0 ? void 0 : user.accountState) === null || _a === void 0 ? void 0 : _a.acomSubscriber);\n}\n/* This is different from isSiloed because premium users should get the premium experience even if they are at a siloed institution */\nfunction getsSiloedExperience(user, institution) {\n    return isSiloed(institution) && !isPremiumUser(user);\n}\nfunction hasRole(user, role) {\n    var _a;\n    return !!((_a = user === null || user === void 0 ? void 0 : user.roles) === null || _a === void 0 ? void 0 : _a.find(function (_role) { return _role === role; }));\n}\nfunction isNormalUser(user) {\n    return user && !(isRootUser(user) || isContentUser(user));\n}\nfunction isRootUser(user) {\n    return user && isRootUserId(user.userId);\n}\nfunction isRootUserId(userId) {\n    return userId === getSpecialUsers().root;\n}\nfunction isContentUser(user) {\n    return user && isContentUserId(user.userId);\n}\nfunction isContentUserId(userId) {\n    return userId === getSpecialUsers().fold3;\n}\nfunction isTWSUser(user) {\n    return user && user.userId === getSpecialUsers().togetherWeServed;\n}\nfunction getSpecialUsers() {\n    return (0,_sharedConfig__WEBPACK_IMPORTED_MODULE_0__/* .getConfig */ .iE)().content.specialUsers;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE1MDIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9zZXNzaW9uSGVscGVycy50cz9kMWY5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNlc3Npb25PYmplY3QgfSBmcm9tICcuLi8uLi9zZXJ2ZXIvc2Vzc2lvbi9zZXNzaW9uJztcbmltcG9ydCB7IFVzZXIsIFVzZXJGdWxsLCBfQWNjb3VudFN0YXR1cywgX1JvbGUgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBTZXNzaW9uSW5zdGl0dXRpb24gfSBmcm9tICcuL2NvbXBhY3Qtc2Vzc2lvbi9jb21wYWN0SW5zdGl0dXRpb24nO1xuaW1wb3J0IHsgZ2V0Q29uZmlnIH0gZnJvbSAnLi9zaGFyZWRDb25maWcnO1xuXG5jb25zdCBQUkVNSVVNX1NUQVRVU0VTOiBfQWNjb3VudFN0YXR1c1tdID0gWydtb250aGx5LXN1YnNjcmliZXInLCAnYW5udWFsLXN1YnNjcmliZXInLCAnY29tcC1zdWJzY3JpYmVyJywgJ2J1bmRsZScsICdmcmVlLXRyaWFsJ107XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoc2Vzc2lvbjogU2Vzc2lvbk9iamVjdCkge1xuXHRyZXR1cm4gaXNTaWduZWRJbihzZXNzaW9uLnVzZXIpIHx8IGlzSW5zdGl0dXRpb24oc2Vzc2lvbi5pbnN0aXR1dGlvbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ByZW1pdW1Vc2VyKHVzZXI6IFVzZXJGdWxsKSB7XG5cdHJldHVybiBQUkVNSVVNX1NUQVRVU0VTLmluY2x1ZGVzKHVzZXI/LmFjY291bnRTdGF0dXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBZG1pbih1c2VyOiBVc2VyRnVsbCkge1xuXHRyZXR1cm4gISEodXNlcj8ucm9sZXM/Lmxlbmd0aCA+IDApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb25maXJtZWQodXNlcjogVXNlckZ1bGwpIHtcblx0cmV0dXJuIHVzZXI/LmNvbmZpcm1lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUGFpZFVzZXIodXNlcjogVXNlckZ1bGwpIHtcblx0aWYgKCF1c2VyKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0c3dpdGNoICh1c2VyLmFjY291bnRTdGF0dXMpIHtcblx0XHRjYXNlICdhbm51YWwtc3Vic2NyaWJlcic6XG5cdFx0Y2FzZSAnYnVuZGxlJzpcblx0XHRjYXNlICdjb21wLXN1YnNjcmliZXInOlxuXHRcdGNhc2UgJ2ZyZWUtdHJpYWwnOlxuXHRcdGNhc2UgJ21vbnRobHktc3Vic2NyaWJlcic6XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1JlZ2lzdGVyZWQodXNlcjogVXNlckZ1bGwpIHtcblx0cmV0dXJuIHVzZXI/LmFjY291bnRTdGF0dXMgPT09ICdub24tc3Vic2NyaWJlcic7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ZyZWVUcmlhbCh1c2VyOiBVc2VyRnVsbCkge1xuXHRyZXR1cm4gdXNlcj8uYWNjb3VudFN0YXR1cyA9PT0gJ2ZyZWUtdHJpYWwnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTaWduZWRJbih1c2VyOiBVc2VyRnVsbCkge1xuXHRyZXR1cm4gdXNlcj8udXNlcklkID4gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2lsb2VkKGluc3RpdHV0aW9uOiBTZXNzaW9uSW5zdGl0dXRpb24pIHtcblx0aWYgKGluc3RpdHV0aW9uPy5zaWxvKSB7XG5cdFx0cmV0dXJuIGluc3RpdHV0aW9uLnNpbG8gIT09IDE7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xuXG5cdC8vIHJldHVybiAhIWluc3RpdHV0aW9uPy5zaWxvICYmIGluc3RpdHV0aW9uPy5zaWxvICE9IDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb3F1ZXN0KGluc3RpdHV0aW9uOiBTZXNzaW9uSW5zdGl0dXRpb24pIHtcblx0cmV0dXJuICEhaW5zdGl0dXRpb24/LnByb3F1ZXN0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJbnN0aXR1dGlvbihpbnN0aXR1dGlvbjogU2Vzc2lvbkluc3RpdHV0aW9uKSB7XG5cdHJldHVybiAhIWluc3RpdHV0aW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBbm51YWwodXNlcjogVXNlckZ1bGwpIHtcblx0cmV0dXJuIHVzZXI/LmFjY291bnRTdGF0dXMgPT09ICdhbm51YWwtc3Vic2NyaWJlcic7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc01vbnRobHkodXNlcjogVXNlckZ1bGwpIHtcblx0cmV0dXJuIHVzZXI/LmFjY291bnRTdGF0dXMgPT09ICdtb250aGx5LXN1YnNjcmliZXInO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCdW5kbGUodXNlcjogVXNlckZ1bGwpIHtcblx0cmV0dXJuICEhdXNlcj8uYWNjb3VudFN0YXRlPy5idW5kbGVTdWJzY3JpYmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNOZXdzcGFwZXJTdWJzY3JpYmVyKHVzZXI6IFVzZXJGdWxsKSB7XG5cdHJldHVybiAhIXVzZXI/LmFjY291bnRTdGF0ZT8ubmV3c3BhcGVyU3Vic2NyaWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQWNvbVN1YnNjcmliZXIodXNlcjogVXNlckZ1bGwpIHtcblx0cmV0dXJuICEhdXNlcj8uYWNjb3VudFN0YXRlPy5hY29tU3Vic2NyaWJlcjtcbn1cblxuLyogVGhpcyBpcyBkaWZmZXJlbnQgZnJvbSBpc1NpbG9lZCBiZWNhdXNlIHByZW1pdW0gdXNlcnMgc2hvdWxkIGdldCB0aGUgcHJlbWl1bSBleHBlcmllbmNlIGV2ZW4gaWYgdGhleSBhcmUgYXQgYSBzaWxvZWQgaW5zdGl0dXRpb24gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRzU2lsb2VkRXhwZXJpZW5jZSh1c2VyOiBVc2VyRnVsbCwgaW5zdGl0dXRpb246IFNlc3Npb25JbnN0aXR1dGlvbikge1xuXHRyZXR1cm4gaXNTaWxvZWQoaW5zdGl0dXRpb24pICYmICFpc1ByZW1pdW1Vc2VyKHVzZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzUm9sZSh1c2VyOiBVc2VyRnVsbCwgcm9sZTogX1JvbGUpIHtcblx0cmV0dXJuICEhdXNlcj8ucm9sZXM/LmZpbmQoX3JvbGUgPT4gX3JvbGUgPT09IHJvbGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNOb3JtYWxVc2VyKHVzZXI6IFVzZXIpIHtcblx0cmV0dXJuIHVzZXIgJiYgIShpc1Jvb3RVc2VyKHVzZXIpIHx8IGlzQ29udGVudFVzZXIodXNlcikpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSb290VXNlcih1c2VyOiBVc2VyKSB7XG5cdHJldHVybiB1c2VyICYmIGlzUm9vdFVzZXJJZCh1c2VyLnVzZXJJZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Jvb3RVc2VySWQodXNlcklkOiBudW1iZXIpIHtcblx0cmV0dXJuIHVzZXJJZCA9PT0gZ2V0U3BlY2lhbFVzZXJzKCkucm9vdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29udGVudFVzZXIodXNlcjogVXNlcikge1xuXHRyZXR1cm4gdXNlciAmJiBpc0NvbnRlbnRVc2VySWQodXNlci51c2VySWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb250ZW50VXNlcklkKHVzZXJJZDogbnVtYmVyKSB7XG5cdHJldHVybiB1c2VySWQgPT09IGdldFNwZWNpYWxVc2VycygpLmZvbGQzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNUV1NVc2VyKHVzZXI6IFVzZXIpIHtcblx0cmV0dXJuIHVzZXIgJiYgdXNlci51c2VySWQgPT09IGdldFNwZWNpYWxVc2VycygpLnRvZ2V0aGVyV2VTZXJ2ZWQ7XG59XG5cbmZ1bmN0aW9uIGdldFNwZWNpYWxVc2VycygpIHtcblx0cmV0dXJuIGdldENvbmZpZygpLmNvbnRlbnQuc3BlY2lhbFVzZXJzO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///41502\n")},32179:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   iE: () => (/* binding */ getConfig)\n/* harmony export */ });\n/* unused harmony exports F3_CONFIG_NAMESPACE, setConfig */\nvar F3_CONFIG_NAMESPACE = 'F3_CONFIG';\nvar getGlobalObj = function () {\n    try {\n        return globalThis;\n    }\n    catch (e) {\n        try {\n            return window;\n        }\n        catch (e) {\n            throw 'Cannot get global object';\n        }\n    }\n};\nvar setConfig = function (_config) {\n    var config;\n    try {\n        config = Object.freeze(_config);\n    }\n    catch (e) {\n        config = _config;\n    }\n    getGlobalObj()[F3_CONFIG_NAMESPACE] = config;\n};\nvar getConfig = function () {\n    return getGlobalObj()[F3_CONFIG_NAMESPACE];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIxNzkuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvc2hhcmVkQ29uZmlnLnRzP2RiNTAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRm9sZDNDbGllbnRDb25maWd1cmF0aW9uLCBGb2xkM0NvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgRjNfQ09ORklHX05BTUVTUEFDRSA9ICdGM19DT05GSUcnO1xuXG5jb25zdCBnZXRHbG9iYWxPYmogPSAoKTogYW55ID0+IHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZ2xvYmFsVGhpcztcblx0fSBjYXRjaChlKSB7XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiB3aW5kb3c7XG5cdFx0fSBjYXRjaChlKSB7XG5cdFx0XHR0aHJvdyAnQ2Fubm90IGdldCBnbG9iYWwgb2JqZWN0Jztcblx0XHR9XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCBzZXRDb25maWcgPSAoX2NvbmZpZzogRm9sZDNDbGllbnRDb25maWd1cmF0aW9uKSA9PiB7XG5cdGxldCBjb25maWc6IEZvbGQzQ2xpZW50Q29uZmlndXJhdGlvbjtcblxuXHR0cnkge1xuXHRcdGNvbmZpZyA9IE9iamVjdC5mcmVlemUoX2NvbmZpZyk7XG5cdH0gY2F0Y2goZSkge1xuXHRcdGNvbmZpZyA9IF9jb25maWc7XG5cdH1cblxuXHRnZXRHbG9iYWxPYmooKVtGM19DT05GSUdfTkFNRVNQQUNFXSA9IGNvbmZpZztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb25maWcgPSAoKTogRm9sZDNDb25maWd1cmF0aW9uID0+IHtcblx0cmV0dXJuIGdldEdsb2JhbE9iaigpW0YzX0NPTkZJR19OQU1FU1BBQ0VdO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///32179\n")},80443:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   YQ: () => (/* binding */ getTitle),\n/* harmony export */   kQ: () => (/* binding */ getContentPath),\n/* harmony export */   vE: () => (/* binding */ getContentObjectUrl),\n/* harmony export */   xl: () => (/* binding */ getWrappedContentUrl)\n/* harmony export */ });\n/* unused harmony exports toSlug, validateSlug, getContentUrl, getFullContentUrl */\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(70655);\n/* harmony import */ var _content_contentMetadata__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(93705);\n/* harmony import */ var _content_contentObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(31042);\n/* harmony import */ var _content_contentRuntime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(16695);\n/* harmony import */ var _externalDocuments__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(27948);\n/* harmony import */ var _queryUtil__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(4781);\n/* harmony import */ var _sharedConfig__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(32179);\n\n\n\n\n\n\n\n\nfunction toSlug() {\n    var parts = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        parts[_i] = arguments[_i];\n    }\n    return parts.map(function (part) { return part.trim(); }).join('-')\n        .toLowerCase()\n        .replace(/\\s+/g, '-')\n        .replace(/[^\\w-]/g, '');\n}\nfunction validateSlug(contentType, doc, slug, preferShort) {\n    if (slug === void 0) { slug = ''; }\n    if (preferShort === void 0) { preferShort = true; }\n    var _a = getContentUrl({ contentType: contentType, doc: doc, preferShort: preferShort }), realSlug = _a.realSlug, path = _a.path, fullPath = _a.fullPath;\n    return {\n        valid: realSlug === slug,\n        realSlug: realSlug,\n        path: path,\n        fullPath: fullPath,\n    };\n}\nvar NO_SLUG = (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__spreadArray */ .ev)(['TITLE_COLLECTION', 'PARTNER', 'USER'], (0,tslib__WEBPACK_IMPORTED_MODULE_0__/* .__read */ .CR)(_content_contentObject__WEBPACK_IMPORTED_MODULE_1__/* .EXTERNAL_CONTENT_TYPES */ .ap), false);\nfunction getContentUrl(_a) {\n    var contentType = _a.contentType, doc = _a.doc, _b = _a.id, id = _b === void 0 ? getDocId(contentType, doc) : _b;\n    var path = getContentPath(contentType, id);\n    var ignoreSlug = NO_SLUG.includes(contentType);\n    return generateContentUrl(path, ignoreSlug ? undefined : doc.slug);\n}\nfunction generateContentUrl(path, slug) {\n    if (slug === void 0) { slug = ''; }\n    var fullPath = \"\".concat(path).concat(slug ? \"/\".concat(slug) : '');\n    return {\n        realSlug: slug,\n        path: path,\n        fullPath: fullPath,\n    };\n}\nfunction getWrappedContentUrl(content) {\n    var _a = (0,_content_contentMetadata__WEBPACK_IMPORTED_MODULE_5__/* .getWrappedContentRef */ .aK)(content), contentType = _a.contentType, objectId = _a.objectId;\n    var slug = (0,_content_contentRuntime__WEBPACK_IMPORTED_MODULE_6__/* .getContentSlug */ .a2)(content);\n    return generateContentUrl(getContentPath(contentType, objectId), slug);\n}\nfunction getContentObjectUrl(obj, preferShort) {\n    var _a;\n    if (preferShort === void 0) { preferShort = true; }\n    var _b = obj.id, contentType = _b.contentType, objectId = _b.objectId;\n    if (contentType === 'POST') {\n        return {\n            realSlug: '',\n            path: '',\n            fullPath: contentObjectMetadata(obj, 'link'),\n        };\n    }\n    else {\n        return getContentUrl({\n            contentType: contentType,\n            doc: {\n                title: obj.title,\n                publication: obj.publication,\n                publicationId: obj.publicationId || ((_a = obj.publication) === null || _a === void 0 ? void 0 : _a.publicationId),\n                slug: obj.slug,\n            },\n            id: objectId,\n            preferShort: preferShort,\n        });\n    }\n}\n// function getUrlSlug(contentType: SlugContentType, doc: ContentDoc, preferShort: boolean = true): string {\n// \tif (doc === null) return '';\n// \tif (NO_SLUG.includes(contentType)) return '';\n// \tif ((doc as any).slug) return (doc as any).slug;\n// \tlet title = getTitle(doc as any, preferShort);\n// \t// let pubTitle = getContentPubTitle(contentType, doc);\n// \tlet slug = title;\n// \t// if (title !== pubTitle) slug = `${title}${pubTitle ? ` - ${pubTitle}` : ''}`;\n// \treturn titleToUrl(slug);\n// }\n/*\n * function getContentPubTitle(contentType: SlugContentType, _doc: ContentDoc) {\n * \tlet pubTitle;\n */\n/*\n * \tswitch (contentType) {\n * \t\tcase 'DOCUMENT':\n * \t\tcase 'INDEX_RECORD':\n * \t\tcase 'BATTLE':\n * \t\tcase 'REGIMENT':\n * \t\tcase 'COMPANY':\n * \t\t\tpubTitle = getTitle(publication);\n * \t\t\tbreak;\n * \t}\n */\n/*\n * \treturn pubTitle || '';\n * }\n */\nfunction getDocId(contentType, doc) {\n    switch (contentType) {\n        case 'IMAGE': return doc.imageId;\n        case 'PUBLICATION': return doc.publicationId;\n        case 'TITLE_COLLECTION': return doc.slug;\n        case 'PARTNER': return doc.slug;\n        case 'DOCUMENT': return doc.imageId;\n        case 'USER': return doc.username;\n        /*\n         * case 'INDEX_RECORD':     return (doc as IndexRecordEntity).indexRecordId;\n         * case 'BATTLE':           return (doc as Battle).battleId;\n         */\n        case 'REGIMENT': return doc.regimentId;\n        case 'COMPANY': return doc.companyId;\n    }\n}\nfunction getFullContentUrl(domain, env, ref, slug) {\n    var origin = getOrigin(domain, env);\n    return \"\".concat(origin).concat(getContentPath(ref.contentType, ref.objectId, slug));\n}\nfunction getContentPath(contentType, id, slug) {\n    var path;\n    var queryObj = {};\n    switch (contentType) {\n        case 'IMAGE':\n            path = \"/image/\".concat(id);\n            break;\n        case 'SUB_IMAGE':\n            path = \"/sub-image/\".concat(id);\n            break;\n        /*\n         * case 'SUB_IMAGE': {\n         * \tpath = `/image`;\n         * \tqueryObj.rec = id;\n         * \tbreak;\n         * }\n         */\n        case 'STORY_PAGE':\n            path = \"/memorial/\".concat(id);\n            break;\n        case 'SUBJECT':\n            path = \"/subject/\".concat(id);\n            break;\n        case 'INDEX_RECORD':\n            path = \"/record/\".concat(id);\n            break;\n        case 'PUBLICATION':\n            path = \"/publication/\".concat(id);\n            break;\n        case 'TITLE_COLLECTION':\n            path = \"/collection/\".concat(id);\n            break;\n        case 'PARTNER':\n            path = \"/partner/\".concat(id);\n            break;\n        case 'BATTLE':\n            path = \"/battle/\".concat(id);\n            break;\n        case 'REGIMENT':\n            path = \"/regiment/\".concat(id);\n            break;\n        case 'COMPANY':\n            path = \"/company/\".concat(id);\n            break;\n        case 'MILITARY_UNIT':\n            path = \"/unit/\".concat(id);\n            break;\n        case 'DOCUMENT':\n            path = \"/document/\".concat(id);\n            break;\n        case 'USER':\n            path = \"/profile/\".concat(id);\n            break;\n        case 'ANCESTRY_DOCUMENT':\n            path = \"/external/\".concat(contentType, \"/\").concat(id);\n            break;\n        case 'FGV_DOCUMENT':\n            path = \"\".concat((0,_sharedConfig__WEBPACK_IMPORTED_MODULE_2__/* .getConfig */ .iE)().urls.findagrave, \"/memorial/\").concat(id);\n            break;\n        case 'NEWSPAPERS_DOCUMENT':\n            path = \"\".concat((0,_sharedConfig__WEBPACK_IMPORTED_MODULE_2__/* .getConfig */ .iE)().urls.newspapers, \"/image/\").concat(id);\n            break;\n        case 'FILE':\n            path = \"/file/\".concat(id);\n            break;\n        case 'ARCHIVES_DOCUMENT': {\n            var _a = (0,_externalDocuments__WEBPACK_IMPORTED_MODULE_3__/* .getArchivesRecordId */ .ql)('' + id), recordType = _a.recordType, uniqueId = _a.uniqueId;\n            path = \"\".concat((0,_sharedConfig__WEBPACK_IMPORTED_MODULE_2__/* .getConfig */ .iE)().urls.archives, \"/search/\").concat(recordType, \"/record\");\n            queryObj.UniqueId = uniqueId;\n            break;\n        }\n        default: {\n            console.warn('unsupported content object type for link', contentType);\n            return '';\n        }\n    }\n    if (slug)\n        path += \"/\".concat(slug);\n    var searchParams = (0,_queryUtil__WEBPACK_IMPORTED_MODULE_4__/* .toQueryString */ .UK)(queryObj);\n    path += searchParams;\n    return path;\n}\nfunction getTitle(doc, preferShort) {\n    if (preferShort === void 0) { preferShort = true; }\n    if (!doc)\n        return '';\n    var shortTitle = doc.shortTitle, title = doc.title, name = doc.name, publicationDocument = doc.publicationDocument;\n    if (name)\n        return name;\n    var partialTitle = preferShort ?\n        shortTitle || title :\n        title || shortTitle;\n    if (publicationDocument === null || publicationDocument === void 0 ? void 0 : publicationDocument.file) {\n        if (partialTitle !== publicationDocument.title) {\n            partialTitle = \"\".concat(publicationDocument.title, \" - \").concat(partialTitle);\n        }\n    }\n    return partialTitle;\n}\nfunction contentObjectMetadata(contentObject, name) {\n    var metadata = contentObject.metadata;\n    if (metadata && name) {\n        var contentMeta = metadata.find(function (meta) { return meta.name === name; });\n        return contentMeta ? contentMeta.value : undefined;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODA0NDMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBOzs7QUFHQTtBQUVBOzs7Ozs7Ozs7O0FBVUE7QUFFQTs7O0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7Ozs7OztBQU1BO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvc2x1Zy50cz9kN2Q3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhdHRsZSwgQ29tcGFueURldGFpbHMsIENvbXBhbnlSZWZlcmVuY2UsIENvbnRlbnRPYmplY3QsIENvbnRlbnRUeXBlLCBEb21haW4sIEltYWdlLCBNZW1vcmlhbCwgT2JqZWN0UmVmZXJlbmNlLCBQYXJ0bmVyLCBQdWJsaWNhdGlvbiwgUHVibGljYXRpb25Eb2N1bWVudCwgUmVnaW1lbnQsIFJlZ2ltZW50UmVmZXJlbmNlLCBSZWxhdGVkVGl0bGUsIFRpdGxlQ29sbGVjdGlvbiwgVXNlckZ1bGwsIFdyYXBwZWRDb250ZW50RG9jdW1lbnQgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBGb2xkM0Vudmlyb25tZW50LCBPYmogfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgZ2V0V3JhcHBlZENvbnRlbnRSZWYgfSBmcm9tICcuL2NvbnRlbnQvY29udGVudE1ldGFkYXRhJztcbmltcG9ydCB7IEVYVEVSTkFMX0NPTlRFTlRfVFlQRVMgfSBmcm9tICcuL2NvbnRlbnQvY29udGVudE9iamVjdCc7XG5pbXBvcnQgeyBnZXRDb250ZW50U2x1ZyB9IGZyb20gJy4vY29udGVudC9jb250ZW50UnVudGltZSc7XG5pbXBvcnQgeyBnZXRBcmNoaXZlc1JlY29yZElkIH0gZnJvbSAnLi9leHRlcm5hbERvY3VtZW50cyc7XG5pbXBvcnQgeyBnZXRPcmlnaW4gfSBmcm9tICcuL2xvY2FsaXphdGlvbi9kb21haW4nO1xuaW1wb3J0IHsgdG9RdWVyeVN0cmluZyB9IGZyb20gJy4vcXVlcnlVdGlsJztcbmltcG9ydCB7IGdldENvbmZpZyB9IGZyb20gJy4vc2hhcmVkQ29uZmlnJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRvU2x1ZyguLi5wYXJ0czogc3RyaW5nW10pIHtcblx0cmV0dXJuIHBhcnRzLm1hcChwYXJ0ID0+IHBhcnQudHJpbSgpKS5qb2luKCctJylcblx0XHQudG9Mb3dlckNhc2UoKVxuXHRcdC5yZXBsYWNlKC9cXHMrL2csICctJylcblx0XHQucmVwbGFjZSgvW15cXHctXS9nLCAnJyk7XG59XG5cbnR5cGUgQ29udGVudERvYyA9IEJhdHRsZSB8IENvbXBhbnlEZXRhaWxzIHwgSW1hZ2UgfCBQdWJsaWNhdGlvbiB8IFJlZ2ltZW50IHwgUmVsYXRlZFRpdGxlIHwgVGl0bGVDb2xsZWN0aW9uIHwgUmVnaW1lbnRSZWZlcmVuY2UgfCBDb21wYW55UmVmZXJlbmNlIHwgVXNlckZ1bGwgfCBNZW1vcmlhbCB8IFBhcnRuZXJcbnR5cGUgU2x1Z0NvbnRlbnRUeXBlID0gQ29udGVudFR5cGUgfCAnRE9DVU1FTlQnXG5cbmludGVyZmFjZSBDb250ZW50VXJsIHtcblx0cmVhbFNsdWc6IHN0cmluZ1xuXHRwYXRoOiBzdHJpbmdcblx0ZnVsbFBhdGg6IHN0cmluZ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVTbHVnKGNvbnRlbnRUeXBlOiBTbHVnQ29udGVudFR5cGUsIGRvYzogQ29udGVudERvYywgc2x1Zzogc3RyaW5nID0gJycsIHByZWZlclNob3J0OiBib29sZWFuID0gdHJ1ZSkge1xuXHRsZXQgeyByZWFsU2x1ZywgcGF0aCwgZnVsbFBhdGggfSA9IGdldENvbnRlbnRVcmwoeyBjb250ZW50VHlwZSwgZG9jLCBwcmVmZXJTaG9ydCB9KTtcblxuXHRyZXR1cm4ge1xuXHRcdHZhbGlkOiByZWFsU2x1ZyA9PT0gc2x1Zyxcblx0XHRyZWFsU2x1Zyxcblx0XHRwYXRoLFxuXHRcdGZ1bGxQYXRoLFxuXHR9O1xufVxuXG5jb25zdCBOT19TTFVHID0gWydUSVRMRV9DT0xMRUNUSU9OJywgJ1BBUlRORVInLCAnVVNFUicsIC4uLkVYVEVSTkFMX0NPTlRFTlRfVFlQRVNdO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGVudFVybCh7IGNvbnRlbnRUeXBlLCBkb2MsIGlkID0gZ2V0RG9jSWQoY29udGVudFR5cGUsIGRvYykgfTogeyBjb250ZW50VHlwZTogU2x1Z0NvbnRlbnRUeXBlLCBkb2M6IENvbnRlbnREb2MsIGlkPzogc3RyaW5nIHwgbnVtYmVyLCBwcmVmZXJTaG9ydD86IGJvb2xlYW4gfSk6IENvbnRlbnRVcmwge1xuXHRsZXQgcGF0aCA9IGdldENvbnRlbnRQYXRoKGNvbnRlbnRUeXBlLCBpZCk7XG5cblx0Y29uc3QgaWdub3JlU2x1ZyA9IE5PX1NMVUcuaW5jbHVkZXMoY29udGVudFR5cGUpO1xuXHRyZXR1cm4gZ2VuZXJhdGVDb250ZW50VXJsKHBhdGgsIGlnbm9yZVNsdWcgPyB1bmRlZmluZWQgOiAoZG9jIGFzIGFueSkuc2x1Zyk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQ29udGVudFVybChwYXRoOiBzdHJpbmcsIHNsdWc6IHN0cmluZyA9ICcnKTogQ29udGVudFVybCB7XG5cdGxldCBmdWxsUGF0aCA9IGAke3BhdGh9JHtzbHVnID8gYC8ke3NsdWd9YCA6ICcnfWA7XG5cblx0cmV0dXJuIHtcblx0XHRyZWFsU2x1Zzogc2x1Zyxcblx0XHRwYXRoLFxuXHRcdGZ1bGxQYXRoLFxuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V3JhcHBlZENvbnRlbnRVcmwoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCk6IENvbnRlbnRVcmwge1xuXHRsZXQgeyBjb250ZW50VHlwZSwgb2JqZWN0SWQgfSA9IGdldFdyYXBwZWRDb250ZW50UmVmKGNvbnRlbnQpO1xuXHRsZXQgc2x1ZyA9IGdldENvbnRlbnRTbHVnKGNvbnRlbnQpO1xuXG5cdHJldHVybiBnZW5lcmF0ZUNvbnRlbnRVcmwoZ2V0Q29udGVudFBhdGgoY29udGVudFR5cGUsIG9iamVjdElkKSwgc2x1Zyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZW50T2JqZWN0VXJsKG9iajogQ29udGVudE9iamVjdCwgcHJlZmVyU2hvcnQ6IGJvb2xlYW4gPSB0cnVlKTogQ29udGVudFVybCB7XG5cdGNvbnN0IHsgY29udGVudFR5cGUsIG9iamVjdElkIH0gPSBvYmouaWQ7XG5cblx0aWYgKGNvbnRlbnRUeXBlID09PSAnUE9TVCcpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0cmVhbFNsdWc6ICcnLFxuXHRcdFx0cGF0aDogJycsXG5cdFx0XHRmdWxsUGF0aDogY29udGVudE9iamVjdE1ldGFkYXRhKG9iaiwgJ2xpbmsnKSxcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBnZXRDb250ZW50VXJsKHtcblx0XHRcdGNvbnRlbnRUeXBlLFxuXHRcdFx0ZG9jOiAoe1xuXHRcdFx0XHR0aXRsZTogb2JqLnRpdGxlLFxuXHRcdFx0XHRwdWJsaWNhdGlvbjogb2JqLnB1YmxpY2F0aW9uLFxuXHRcdFx0XHRwdWJsaWNhdGlvbklkOiBvYmoucHVibGljYXRpb25JZCB8fCBvYmoucHVibGljYXRpb24/LnB1YmxpY2F0aW9uSWQsXG5cdFx0XHRcdHNsdWc6IG9iai5zbHVnLFxuXHRcdFx0fSBhcyB1bmtub3duIGFzIENvbnRlbnREb2MpLFxuXHRcdFx0aWQ6IG9iamVjdElkLFxuXHRcdFx0cHJlZmVyU2hvcnQsXG5cdFx0fSk7XG5cdH1cbn1cblxuLy8gZnVuY3Rpb24gZ2V0VXJsU2x1Zyhjb250ZW50VHlwZTogU2x1Z0NvbnRlbnRUeXBlLCBkb2M6IENvbnRlbnREb2MsIHByZWZlclNob3J0OiBib29sZWFuID0gdHJ1ZSk6IHN0cmluZyB7XG4vLyBcdGlmIChkb2MgPT09IG51bGwpIHJldHVybiAnJztcbi8vIFx0aWYgKE5PX1NMVUcuaW5jbHVkZXMoY29udGVudFR5cGUpKSByZXR1cm4gJyc7XG4vLyBcdGlmICgoZG9jIGFzIGFueSkuc2x1ZykgcmV0dXJuIChkb2MgYXMgYW55KS5zbHVnO1xuXG4vLyBcdGxldCB0aXRsZSA9IGdldFRpdGxlKGRvYyBhcyBhbnksIHByZWZlclNob3J0KTtcbi8vIFx0Ly8gbGV0IHB1YlRpdGxlID0gZ2V0Q29udGVudFB1YlRpdGxlKGNvbnRlbnRUeXBlLCBkb2MpO1xuXG4vLyBcdGxldCBzbHVnID0gdGl0bGU7XG5cbi8vIFx0Ly8gaWYgKHRpdGxlICE9PSBwdWJUaXRsZSkgc2x1ZyA9IGAke3RpdGxlfSR7cHViVGl0bGUgPyBgIC0gJHtwdWJUaXRsZX1gIDogJyd9YDtcblxuLy8gXHRyZXR1cm4gdGl0bGVUb1VybChzbHVnKTtcbi8vIH1cblxuLypcbiAqIGZ1bmN0aW9uIGdldENvbnRlbnRQdWJUaXRsZShjb250ZW50VHlwZTogU2x1Z0NvbnRlbnRUeXBlLCBfZG9jOiBDb250ZW50RG9jKSB7XG4gKiBcdGxldCBwdWJUaXRsZTtcbiAqL1xuXG4vKlxuICogXHRzd2l0Y2ggKGNvbnRlbnRUeXBlKSB7XG4gKiBcdFx0Y2FzZSAnRE9DVU1FTlQnOlxuICogXHRcdGNhc2UgJ0lOREVYX1JFQ09SRCc6XG4gKiBcdFx0Y2FzZSAnQkFUVExFJzpcbiAqIFx0XHRjYXNlICdSRUdJTUVOVCc6XG4gKiBcdFx0Y2FzZSAnQ09NUEFOWSc6XG4gKiBcdFx0XHRwdWJUaXRsZSA9IGdldFRpdGxlKHB1YmxpY2F0aW9uKTtcbiAqIFx0XHRcdGJyZWFrO1xuICogXHR9XG4gKi9cblxuLypcbiAqIFx0cmV0dXJuIHB1YlRpdGxlIHx8ICcnO1xuICogfVxuICovXG5cbmZ1bmN0aW9uIGdldERvY0lkKGNvbnRlbnRUeXBlOiBTbHVnQ29udGVudFR5cGUsIGRvYzogQ29udGVudERvYykge1xuXHRzd2l0Y2ggKGNvbnRlbnRUeXBlKSB7XG5cdFx0Y2FzZSAnSU1BR0UnOiAgICAgICAgICAgIHJldHVybiAoZG9jIGFzIEltYWdlKS5pbWFnZUlkO1xuXHRcdGNhc2UgJ1BVQkxJQ0FUSU9OJzogICAgICByZXR1cm4gKGRvYyBhcyBQdWJsaWNhdGlvbikucHVibGljYXRpb25JZDtcblx0XHRjYXNlICdUSVRMRV9DT0xMRUNUSU9OJzogcmV0dXJuIChkb2MgYXMgVGl0bGVDb2xsZWN0aW9uKS5zbHVnO1xuXHRcdGNhc2UgJ1BBUlRORVInOlx0XHRcdCByZXR1cm4gKGRvYyBhcyBQYXJ0bmVyKS5zbHVnO1xuXHRcdGNhc2UgJ0RPQ1VNRU5UJzogICAgICAgICByZXR1cm4gKGRvYyBhcyBJbWFnZSkuaW1hZ2VJZDtcblx0XHRjYXNlICdVU0VSJzogICAgICAgICAgICAgcmV0dXJuIChkb2MgYXMgVXNlckZ1bGwpLnVzZXJuYW1lO1xuXG5cdFx0Lypcblx0XHQgKiBjYXNlICdJTkRFWF9SRUNPUkQnOiAgICAgcmV0dXJuIChkb2MgYXMgSW5kZXhSZWNvcmRFbnRpdHkpLmluZGV4UmVjb3JkSWQ7XG5cdFx0ICogY2FzZSAnQkFUVExFJzogICAgICAgICAgIHJldHVybiAoZG9jIGFzIEJhdHRsZSkuYmF0dGxlSWQ7XG5cdFx0ICovXG5cdFx0Y2FzZSAnUkVHSU1FTlQnOiAgICAgICAgIHJldHVybiAoZG9jIGFzIFJlZ2ltZW50KS5yZWdpbWVudElkO1xuXHRcdGNhc2UgJ0NPTVBBTlknOiAgICAgICAgICByZXR1cm4gKGRvYyBhcyBDb21wYW55RGV0YWlscykuY29tcGFueUlkO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGdWxsQ29udGVudFVybChkb21haW46IERvbWFpbiwgZW52OiBGb2xkM0Vudmlyb25tZW50LCByZWY6IE9iamVjdFJlZmVyZW5jZSwgc2x1Zz86IHN0cmluZykge1xuXHRjb25zdCBvcmlnaW4gPSBnZXRPcmlnaW4oZG9tYWluLCBlbnYpO1xuXHRyZXR1cm4gYCR7b3JpZ2lufSR7Z2V0Q29udGVudFBhdGgocmVmLmNvbnRlbnRUeXBlLCByZWYub2JqZWN0SWQsIHNsdWcpfWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZW50UGF0aChjb250ZW50VHlwZTogU2x1Z0NvbnRlbnRUeXBlLCBpZDogbnVtYmVyIHwgc3RyaW5nLCBzbHVnPzogc3RyaW5nKSB7XG5cdGxldCBwYXRoOiBzdHJpbmc7XG5cdGxldCBxdWVyeU9iajogT2JqID0ge307XG5cblx0c3dpdGNoIChjb250ZW50VHlwZSkge1xuXHRcdGNhc2UgJ0lNQUdFJzogcGF0aCA9IGAvaW1hZ2UvJHtpZH1gOyBicmVhaztcblx0XHRjYXNlICdTVUJfSU1BR0UnOiBwYXRoID0gYC9zdWItaW1hZ2UvJHtpZH1gOyBicmVhaztcblxuXHRcdC8qXG5cdFx0ICogY2FzZSAnU1VCX0lNQUdFJzoge1xuXHRcdCAqIFx0cGF0aCA9IGAvaW1hZ2VgO1xuXHRcdCAqIFx0cXVlcnlPYmoucmVjID0gaWQ7XG5cdFx0ICogXHRicmVhaztcblx0XHQgKiB9XG5cdFx0ICovXG5cdFx0Y2FzZSAnU1RPUllfUEFHRSc6IHBhdGggPSBgL21lbW9yaWFsLyR7aWR9YDsgYnJlYWs7XG5cdFx0Y2FzZSAnU1VCSkVDVCc6IHBhdGggPSBgL3N1YmplY3QvJHtpZH1gOyBicmVhaztcblx0XHRjYXNlICdJTkRFWF9SRUNPUkQnOiBwYXRoID0gYC9yZWNvcmQvJHtpZH1gOyBicmVhaztcblx0XHRjYXNlICdQVUJMSUNBVElPTic6IHBhdGggPSBgL3B1YmxpY2F0aW9uLyR7aWR9YDsgYnJlYWs7XG5cdFx0Y2FzZSAnVElUTEVfQ09MTEVDVElPTic6IHBhdGggPSBgL2NvbGxlY3Rpb24vJHtpZH1gOyBicmVhaztcblx0XHRjYXNlICdQQVJUTkVSJzogcGF0aCA9IGAvcGFydG5lci8ke2lkfWA7IGJyZWFrO1xuXHRcdGNhc2UgJ0JBVFRMRSc6IHBhdGggPSBgL2JhdHRsZS8ke2lkfWA7IGJyZWFrO1xuXHRcdGNhc2UgJ1JFR0lNRU5UJzogcGF0aCA9IGAvcmVnaW1lbnQvJHtpZH1gOyBicmVhaztcblx0XHRjYXNlICdDT01QQU5ZJzogcGF0aCA9IGAvY29tcGFueS8ke2lkfWA7IGJyZWFrO1xuXHRcdGNhc2UgJ01JTElUQVJZX1VOSVQnOiBwYXRoID0gYC91bml0LyR7aWR9YDsgYnJlYWs7XG5cdFx0Y2FzZSAnRE9DVU1FTlQnOiBwYXRoID0gYC9kb2N1bWVudC8ke2lkfWA7IGJyZWFrO1xuXHRcdGNhc2UgJ1VTRVInOiBwYXRoID0gYC9wcm9maWxlLyR7aWR9YDsgYnJlYWs7XG5cdFx0Y2FzZSAnQU5DRVNUUllfRE9DVU1FTlQnOiBwYXRoID0gYC9leHRlcm5hbC8ke2NvbnRlbnRUeXBlfS8ke2lkfWA7IGJyZWFrO1xuXHRcdGNhc2UgJ0ZHVl9ET0NVTUVOVCc6IHBhdGggPSBgJHtnZXRDb25maWcoKS51cmxzLmZpbmRhZ3JhdmV9L21lbW9yaWFsLyR7aWR9YDsgYnJlYWs7XG5cdFx0Y2FzZSAnTkVXU1BBUEVSU19ET0NVTUVOVCc6IHBhdGggPSBgJHtnZXRDb25maWcoKS51cmxzLm5ld3NwYXBlcnN9L2ltYWdlLyR7aWR9YDsgYnJlYWs7XG5cdFx0Y2FzZSAnRklMRSc6IHBhdGggPSBgL2ZpbGUvJHtpZH1gOyBicmVhaztcblx0XHRjYXNlICdBUkNISVZFU19ET0NVTUVOVCc6IHtcblx0XHRcdGxldCB7IHJlY29yZFR5cGUsIHVuaXF1ZUlkIH0gPSBnZXRBcmNoaXZlc1JlY29yZElkKCcnICsgaWQpO1xuXG5cdFx0XHRwYXRoID0gYCR7Z2V0Q29uZmlnKCkudXJscy5hcmNoaXZlc30vc2VhcmNoLyR7cmVjb3JkVHlwZX0vcmVjb3JkYDtcblx0XHRcdHF1ZXJ5T2JqLlVuaXF1ZUlkID0gdW5pcXVlSWQ7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cdFx0ZGVmYXVsdDoge1xuXHRcdFx0Y29uc29sZS53YXJuKCd1bnN1cHBvcnRlZCBjb250ZW50IG9iamVjdCB0eXBlIGZvciBsaW5rJywgY29udGVudFR5cGUpO1xuXHRcdFx0cmV0dXJuICcnO1xuXHRcdH1cblx0fVxuXG5cdGlmIChzbHVnKSBwYXRoICs9IGAvJHtzbHVnfWA7XG5cdGxldCBzZWFyY2hQYXJhbXMgPSB0b1F1ZXJ5U3RyaW5nKHF1ZXJ5T2JqKTtcblx0cGF0aCArPSBzZWFyY2hQYXJhbXM7XG5cblx0cmV0dXJuIHBhdGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZShkb2M6IHsgc2hvcnRUaXRsZT86IHN0cmluZywgbmFtZT86IHN0cmluZywgdGl0bGU/OiBzdHJpbmcsIHB1YmxpY2F0aW9uRG9jdW1lbnQ/OiBQdWJsaWNhdGlvbkRvY3VtZW50IH0sIHByZWZlclNob3J0ID0gdHJ1ZSkge1xuXHRpZiAoIWRvYykgcmV0dXJuICcnO1xuXG5cdGxldCB7IHNob3J0VGl0bGUsIHRpdGxlLCBuYW1lLCBwdWJsaWNhdGlvbkRvY3VtZW50IH0gPSBkb2M7XG5cdGlmIChuYW1lKSByZXR1cm4gbmFtZTtcblxuXHRsZXQgcGFydGlhbFRpdGxlID0gcHJlZmVyU2hvcnQgP1xuXHRcdHNob3J0VGl0bGUgfHwgdGl0bGUgOlxuXHRcdHRpdGxlIHx8IHNob3J0VGl0bGU7XG5cblx0aWYgKHB1YmxpY2F0aW9uRG9jdW1lbnQ/LmZpbGUpIHtcblx0XHRpZiAocGFydGlhbFRpdGxlICE9PSBwdWJsaWNhdGlvbkRvY3VtZW50LnRpdGxlKSB7XG5cdFx0XHRwYXJ0aWFsVGl0bGUgPSBgJHtwdWJsaWNhdGlvbkRvY3VtZW50LnRpdGxlfSAtICR7cGFydGlhbFRpdGxlfWA7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHBhcnRpYWxUaXRsZTtcbn1cblxuZnVuY3Rpb24gY29udGVudE9iamVjdE1ldGFkYXRhKGNvbnRlbnRPYmplY3Q6IENvbnRlbnRPYmplY3QsIG5hbWU6IHN0cmluZykge1xuXHRsZXQgbWV0YWRhdGEgPSBjb250ZW50T2JqZWN0Lm1ldGFkYXRhO1xuXHRpZiAobWV0YWRhdGEgJiYgbmFtZSkge1xuXHRcdGxldCBjb250ZW50TWV0YSA9IG1ldGFkYXRhLmZpbmQobWV0YSA9PiBtZXRhLm5hbWUgPT09IG5hbWUpO1xuXHRcdHJldHVybiBjb250ZW50TWV0YSA/IGNvbnRlbnRNZXRhLnZhbHVlIDogdW5kZWZpbmVkO1xuXHR9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///80443\n")},15394:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Nk: () => (/* binding */ dateSort),\n/* harmony export */   R_: () => (/* binding */ alphaNumericSort)\n/* harmony export */ });\n/* unused harmony export sortObjects */\n\nfunction sortObjects(arr, path, type, dir, caseInsensitive) {\n    if (caseInsensitive === void 0) { caseInsensitive = true; }\n    var sortFn = getSortFunction(type, caseInsensitive);\n    var sorted = arr.slice()\n        //@ts-ignore\n        .sort(function (a, b) {\n        var aVal = lookupProperty(a, path);\n        var bVal = lookupProperty(b, path);\n        return sortFn(aVal, bVal);\n    });\n    if (dir === 'DESC')\n        sorted.reverse();\n    return sorted;\n}\nfunction dateSort(a, b) {\n    var aTime = new Date(a).getTime();\n    var bTime = new Date(b).getTime();\n    if (isNaN(aTime)) {\n        if (isNaN(bTime)) {\n            return 0;\n        }\n        else {\n            return 1;\n        }\n    }\n    else if (isNaN(bTime)) {\n        return -1;\n    }\n    else {\n        return bTime - aTime;\n    }\n}\nfunction booleanSort(a, b) {\n    return (a && b || !a && !b) ? 0 : a ? -1 : 1;\n}\nfunction alphaNumericSort(a, b) {\n    if (a === undefined) {\n        if (b === undefined)\n            return 0;\n        a = getDefaultTypeValue(typeof b);\n    }\n    else if (b === undefined) {\n        b = getDefaultTypeValue(typeof a);\n    }\n    return a < b ? -1 : b < a ? 1 : 0;\n}\nfunction getDefaultTypeValue(type) {\n    switch (type) {\n        case 'string': return '';\n        case 'number': return 0;\n    }\n}\nfunction getSortFunction(type, caseInsensitive) {\n    if (caseInsensitive === void 0) { caseInsensitive = true; }\n    switch (type) {\n        case 'alphabetical':\n            if (caseInsensitive) {\n                return function (a, b) { return alphaNumericSort(a === null || a === void 0 ? void 0 : a.toLowerCase(), b === null || b === void 0 ? void 0 : b.toLowerCase()); };\n            }\n            else {\n                return alphaNumericSort;\n            }\n        case 'numerical':\n            return alphaNumericSort;\n        case 'boolean':\n            return booleanSort;\n        case 'date':\n        case 'datetime':\n            return dateSort;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUzOTQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFQTtBQUlBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL3NvcnRVdGlsLnRzP2EwMWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU29ydERpciB9IGZyb20gJy4uL2NvbXBvbmVudHMvdGFibGUvRjNUYWJsZSc7XG5pbXBvcnQgeyBPYmogfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgbG9va3VwUHJvcGVydHkgfSBmcm9tICcuL3Byb3BlcnR5TG9va3VwJztcblxuZXhwb3J0IHR5cGUgU29ydFR5cGUgPSAnYWxwaGFiZXRpY2FsJyB8ICdudW1lcmljYWwnIHwgJ2Jvb2xlYW4nIHwgJ2RhdGUnIHwgJ2RhdGV0aW1lJ1xuXG5leHBvcnQgZnVuY3Rpb24gc29ydE9iamVjdHM8VCBleHRlbmRzIE9iaj4oYXJyOiBUW10sIHBhdGg6IHN0cmluZywgdHlwZTogU29ydFR5cGUsIGRpcjogU29ydERpciwgY2FzZUluc2Vuc2l0aXZlOiBib29sZWFuID0gdHJ1ZSkge1xuXHRsZXQgc29ydEZuID0gZ2V0U29ydEZ1bmN0aW9uKHR5cGUsIGNhc2VJbnNlbnNpdGl2ZSk7XG5cblx0bGV0IHNvcnRlZCA9IGFyci5zbGljZSgpXG5cblx0XHQvL0B0cy1pZ25vcmVcblx0XHQuc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0bGV0IGFWYWwgPSBsb29rdXBQcm9wZXJ0eShhLCBwYXRoKTtcblx0XHRcdGxldCBiVmFsID0gbG9va3VwUHJvcGVydHkoYiwgcGF0aCk7XG5cblx0XHRcdHJldHVybiBzb3J0Rm4oYVZhbCwgYlZhbCk7XG5cdFx0fSk7XG5cblx0aWYgKGRpciA9PT0gJ0RFU0MnKSBzb3J0ZWQucmV2ZXJzZSgpO1xuXG5cdHJldHVybiBzb3J0ZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXRlU29ydChhOiBEYXRlIHwgc3RyaW5nIHwgbnVtYmVyLCBiOiBEYXRlIHwgc3RyaW5nIHwgbnVtYmVyKSB7XG5cdGxldCBhVGltZSA9IG5ldyBEYXRlKGEpLmdldFRpbWUoKTtcblx0bGV0IGJUaW1lID0gbmV3IERhdGUoYikuZ2V0VGltZSgpO1xuXG5cdGlmIChpc05hTihhVGltZSkpIHtcblx0XHRpZiAoaXNOYU4oYlRpbWUpKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIDE7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKGlzTmFOKGJUaW1lKSkge1xuXHRcdHJldHVybiAtMTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gYlRpbWUgLSBhVGltZTtcblx0fVxufVxuXG5mdW5jdGlvbiBib29sZWFuU29ydChhOiBib29sZWFuLCBiOiBib29sZWFuKSB7XG5cdHJldHVybiAoYSAmJiBiIHx8ICFhICYmICFiKSA/IDAgOiBhID8gLTEgOiAxO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWxwaGFOdW1lcmljU29ydChhOiBudW1iZXIsIGI6IG51bWJlcik6IG51bWJlcjtcbmV4cG9ydCBmdW5jdGlvbiBhbHBoYU51bWVyaWNTb3J0KGE6IHN0cmluZywgYjogc3RyaW5nKTogbnVtYmVyO1xuZXhwb3J0IGZ1bmN0aW9uIGFscGhhTnVtZXJpY1NvcnQoYTogc3RyaW5nIHwgbnVtYmVyLCBiOiBzdHJpbmcgfCBudW1iZXIpOiBudW1iZXIge1xuXHRpZiAoYSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0aWYgKGIgPT09IHVuZGVmaW5lZCkgcmV0dXJuIDA7XG5cdFx0YSA9IGdldERlZmF1bHRUeXBlVmFsdWUodHlwZW9mIGIpO1xuXHR9IGVsc2UgaWYgKGIgPT09IHVuZGVmaW5lZCkge1xuXHRcdGIgPSBnZXREZWZhdWx0VHlwZVZhbHVlKHR5cGVvZiBhKTtcblx0fVxuXG5cdHJldHVybiBhIDwgYiA/IC0xIDogYiA8IGEgPyAxIDogMDtcbn1cblxuZnVuY3Rpb24gZ2V0RGVmYXVsdFR5cGVWYWx1ZSh0eXBlOiBzdHJpbmcpIHtcblx0c3dpdGNoICh0eXBlKSB7XG5cdFx0Y2FzZSAnc3RyaW5nJzogcmV0dXJuICcnO1xuXHRcdGNhc2UgJ251bWJlcic6IHJldHVybiAwO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGdldFNvcnRGdW5jdGlvbih0eXBlOiBTb3J0VHlwZSwgY2FzZUluc2Vuc2l0aXZlOiBib29sZWFuID0gdHJ1ZSk6IChhOiBhbnksIGI6IGFueSkgPT4gbnVtYmVyIHtcblx0c3dpdGNoICh0eXBlKSB7XG5cdFx0Y2FzZSAnYWxwaGFiZXRpY2FsJzpcblx0XHRcdGlmIChjYXNlSW5zZW5zaXRpdmUpIHtcblx0XHRcdFx0cmV0dXJuIChhLCBiKSA9PiBhbHBoYU51bWVyaWNTb3J0KGE/LnRvTG93ZXJDYXNlKCksIGI/LnRvTG93ZXJDYXNlKCkpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGFscGhhTnVtZXJpY1NvcnQ7XG5cdFx0XHR9XG5cdFx0Y2FzZSAnbnVtZXJpY2FsJzpcblx0XHRcdHJldHVybiBhbHBoYU51bWVyaWNTb3J0O1xuXHRcdGNhc2UgJ2Jvb2xlYW4nOlxuXHRcdFx0cmV0dXJuIGJvb2xlYW5Tb3J0O1xuXHRcdGNhc2UgJ2RhdGUnOlxuXHRcdGNhc2UgJ2RhdGV0aW1lJzpcblx0XHRcdHJldHVybiBkYXRlU29ydDtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15394\n")},32827:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   I_: () => (/* binding */ local),\n/* harmony export */   nP: () => (/* binding */ session)\n/* harmony export */ });\n/* unused harmony export Storage */\n/* harmony import */ var _time__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(96846);\n\n/**\n * If this gets used on the server, storage.get(string) will always return undefined.\n * This is to prevent unexpected sharing of data between users.\n */\nvar Storage = /** @class */ (function () {\n    function Storage(store) {\n        this.store = null;\n        this.listeners = [];\n        this.isAvailable = store !== null;\n        this.store = store;\n    }\n    Storage.prototype._getWrapper = function (key, clearIfExpired) {\n        try {\n            if (this.store == null || this.store[key] == undefined) {\n                return undefined;\n            }\n            var stored = JSON.parse(this.store[key]) || {};\n            var expiration = stored.expiration, val = stored.val;\n            var now = Date.now();\n            // invalidate expirations that were accidentally set too far in the future\n            if (expiration) {\n                var expired = expiration < now;\n                var badExp = expiration > now + (0,_time__WEBPACK_IMPORTED_MODULE_0__.getTimeInMs)(2, 'yr');\n                if (badExp) {\n                    console.warn('removing value with too-long expiration', key, expiration);\n                }\n                if (expired && clearIfExpired || badExp) {\n                    this.remove(key);\n                    return undefined;\n                }\n            }\n            // convert to new system, but still return value\n            if (!('val' in stored)) {\n                stored = { val: stored, expiration: expiration };\n                val = stored.val;\n                this.set(key, val, expiration);\n            }\n            return stored;\n        }\n        catch (e) {\n            return undefined;\n        }\n    };\n    Storage.prototype.get = function (key) {\n        var wrapper = this._getWrapper(key, true);\n        return wrapper ? wrapper.val : undefined;\n    };\n    Storage.prototype.getWrapped = function (key) {\n        return this._getWrapper(key, false);\n    };\n    Storage.prototype.set = function (key, val, expiration) {\n        if (expiration === void 0) { expiration = null; }\n        if (!this.store)\n            return;\n        var wrapper = { val: val };\n        if (expiration) {\n            if (typeof expiration == 'number') {\n                var now = Date.now();\n                if (expiration > (0,_time__WEBPACK_IMPORTED_MODULE_0__.getTimeInMs)(1, 'yr')) {\n                    console.warn('long expiration set for key ' + key + ' -- expiration should be number of milliseconds in the future, not a datestamp');\n                }\n                else {\n                    expiration = now + expiration;\n                }\n            }\n            else if (!(expiration instanceof Date) || isNaN(expiration.getTime())) { // isNaN is the best way to check for an invalid date.\n                throw new Error('Invalid expiration value - must be a Date or a number');\n            }\n            wrapper.expiration = +expiration;\n        }\n        this.store[key] = JSON.stringify(wrapper);\n        this.publishUpdated('set', key, val);\n    };\n    Storage.prototype.remove = function (key) {\n        if (!this.store)\n            return;\n        delete this.store[key];\n        this.publishUpdated('delete', key);\n    };\n    Storage.prototype.publishUpdated = function (action, key, val) {\n        this.listeners.forEach(function (cb) { cb(action, key, val); });\n    };\n    Storage.prototype.onUpdated = function (cb) {\n        this.listeners.push(cb);\n    };\n    return Storage;\n}());\n\nvar TEST_KEY = '*bi3401b(@8db*2121b2!@$';\nvar hasLocalStorage, hasSessionStorage;\ntry {\n    localStorage.setItem(TEST_KEY, TEST_KEY);\n    localStorage.removeItem(TEST_KEY);\n    hasLocalStorage = true;\n}\ncatch (e) {\n    hasLocalStorage = false;\n}\ntry {\n    sessionStorage.setItem(TEST_KEY, TEST_KEY);\n    sessionStorage.removeItem(TEST_KEY);\n    hasSessionStorage = true;\n}\ncatch (e) {\n    hasSessionStorage = false;\n}\nvar local = new Storage(hasLocalStorage ? localStorage : null);\nvar session = new Storage(hasSessionStorage ? sessionStorage : null);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzI4MjcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFjQTs7O0FBR0E7QUFDQTtBQUtBO0FBSkE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOztBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL3N0b3JhZ2UudHM/MGQxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRUaW1lSW5NcyB9IGZyb20gJy4vdGltZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmUge1xuXHRba2V5OiBzdHJpbmddOiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcmFnZVdyYXBwZXIge1xuXHR2YWw6IGFueTtcblx0ZXhwaXJhdGlvbj86IG51bWJlcjtcbn1cblxudHlwZSBBY3Rpb24gPSAnc2V0JyB8ICdkZWxldGUnXG50eXBlIExpc3RlbmVyRm4gPSAoYWN0aW9uOiBBY3Rpb24sIGtleTogc3RyaW5nLCB2YWx1ZT86IGFueSkgPT4gYW55XG5cbi8qKlxuICogSWYgdGhpcyBnZXRzIHVzZWQgb24gdGhlIHNlcnZlciwgc3RvcmFnZS5nZXQoc3RyaW5nKSB3aWxsIGFsd2F5cyByZXR1cm4gdW5kZWZpbmVkLlxuICogVGhpcyBpcyB0byBwcmV2ZW50IHVuZXhwZWN0ZWQgc2hhcmluZyBvZiBkYXRhIGJldHdlZW4gdXNlcnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdG9yYWdlIHtcblx0c3RvcmU6IFN0b3JlID0gbnVsbDtcblx0aXNBdmFpbGFibGU6IGJvb2xlYW47XG5cdGxpc3RlbmVyczogTGlzdGVuZXJGbltdID0gW107XG5cblx0Y29uc3RydWN0b3Ioc3RvcmU6IFN0b3JlKSB7XG5cdFx0dGhpcy5pc0F2YWlsYWJsZSA9IHN0b3JlICE9PSBudWxsO1xuXHRcdHRoaXMuc3RvcmUgPSBzdG9yZTtcblx0fVxuXG5cdHByaXZhdGUgX2dldFdyYXBwZXIoa2V5OiBzdHJpbmcsIGNsZWFySWZFeHBpcmVkOiBib29sZWFuKTogU3RvcmFnZVdyYXBwZXIgfCB1bmRlZmluZWQge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAodGhpcy5zdG9yZSA9PSBudWxsIHx8IHRoaXMuc3RvcmVba2V5XSA9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH1cblxuXHRcdFx0bGV0IHN0b3JlZDogU3RvcmFnZVdyYXBwZXIgPSBKU09OLnBhcnNlKHRoaXMuc3RvcmVba2V5XSkgfHwge307XG5cdFx0XHRsZXQgeyBleHBpcmF0aW9uLCB2YWwgfSA9IHN0b3JlZDtcblxuXHRcdFx0Y29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuXHRcdFx0Ly8gaW52YWxpZGF0ZSBleHBpcmF0aW9ucyB0aGF0IHdlcmUgYWNjaWRlbnRhbGx5IHNldCB0b28gZmFyIGluIHRoZSBmdXR1cmVcblx0XHRcdGlmIChleHBpcmF0aW9uKSB7XG5cdFx0XHRcdGNvbnN0IGV4cGlyZWQgPSBleHBpcmF0aW9uIDwgbm93O1xuXHRcdFx0XHRjb25zdCBiYWRFeHAgPSBleHBpcmF0aW9uID4gbm93ICsgZ2V0VGltZUluTXMoMiwgJ3lyJyk7XG5cblx0XHRcdFx0aWYgKGJhZEV4cCkge1xuXHRcdFx0XHRcdGNvbnNvbGUud2FybigncmVtb3ZpbmcgdmFsdWUgd2l0aCB0b28tbG9uZyBleHBpcmF0aW9uJywga2V5LCBleHBpcmF0aW9uKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZXhwaXJlZCAmJiBjbGVhcklmRXhwaXJlZCB8fCBiYWRFeHApIHtcblx0XHRcdFx0XHR0aGlzLnJlbW92ZShrZXkpO1xuXHRcdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gY29udmVydCB0byBuZXcgc3lzdGVtLCBidXQgc3RpbGwgcmV0dXJuIHZhbHVlXG5cdFx0XHRpZiAoISgndmFsJyBpbiBzdG9yZWQpKSB7XG5cdFx0XHRcdHN0b3JlZCA9IHsgdmFsOiBzdG9yZWQsIGV4cGlyYXRpb24gfTtcblx0XHRcdFx0dmFsID0gc3RvcmVkLnZhbDtcblx0XHRcdFx0dGhpcy5zZXQoa2V5LCB2YWwsIGV4cGlyYXRpb24pO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gc3RvcmVkO1xuXHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblxuXHRnZXQ8VCA9IGFueT4oa2V5OiBzdHJpbmcpOiBUIHtcblx0XHRsZXQgd3JhcHBlciA9IHRoaXMuX2dldFdyYXBwZXIoa2V5LCB0cnVlKTtcblx0XHRyZXR1cm4gd3JhcHBlciA/IHdyYXBwZXIudmFsIDogdW5kZWZpbmVkO1xuXHR9XG5cblx0Z2V0V3JhcHBlZChrZXk6IHN0cmluZykge1xuXHRcdHJldHVybiB0aGlzLl9nZXRXcmFwcGVyKGtleSwgZmFsc2UpO1xuXHR9XG5cblx0c2V0KGtleTogc3RyaW5nLCB2YWw6IGFueSwgZXhwaXJhdGlvbjogbnVtYmVyIHwgRGF0ZSA9IG51bGwpIHtcblx0XHRpZiAoIXRoaXMuc3RvcmUpIHJldHVybjtcblxuXHRcdGxldCB3cmFwcGVyOiBTdG9yYWdlV3JhcHBlciA9IHsgdmFsIH07XG5cblx0XHRpZiAoZXhwaXJhdGlvbikge1xuXHRcdFx0aWYgKHR5cGVvZiBleHBpcmF0aW9uID09ICdudW1iZXInKSB7XG5cdFx0XHRcdGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cdFx0XHRcdGlmIChleHBpcmF0aW9uID4gZ2V0VGltZUluTXMoMSwgJ3lyJykpIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ2xvbmcgZXhwaXJhdGlvbiBzZXQgZm9yIGtleSAnICsga2V5ICsgJyAtLSBleHBpcmF0aW9uIHNob3VsZCBiZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGluIHRoZSBmdXR1cmUsIG5vdCBhIGRhdGVzdGFtcCcpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGV4cGlyYXRpb24gPSBub3cgKyBleHBpcmF0aW9uO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKCEoZXhwaXJhdGlvbiBpbnN0YW5jZW9mIERhdGUpIHx8IGlzTmFOKGV4cGlyYXRpb24uZ2V0VGltZSgpKSkgeyAvLyBpc05hTiBpcyB0aGUgYmVzdCB3YXkgdG8gY2hlY2sgZm9yIGFuIGludmFsaWQgZGF0ZS5cblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGV4cGlyYXRpb24gdmFsdWUgLSBtdXN0IGJlIGEgRGF0ZSBvciBhIG51bWJlcicpO1xuXHRcdFx0fVxuXG5cdFx0XHR3cmFwcGVyLmV4cGlyYXRpb24gPSArZXhwaXJhdGlvbjtcblx0XHR9XG5cblx0XHR0aGlzLnN0b3JlW2tleV0gPSBKU09OLnN0cmluZ2lmeSh3cmFwcGVyKTtcblxuXHRcdHRoaXMucHVibGlzaFVwZGF0ZWQoJ3NldCcsIGtleSwgdmFsKTtcblx0fVxuXG5cdHJlbW92ZShrZXk6IHN0cmluZykge1xuXHRcdGlmICghdGhpcy5zdG9yZSkgcmV0dXJuO1xuXG5cdFx0ZGVsZXRlIHRoaXMuc3RvcmVba2V5XTtcblxuXHRcdHRoaXMucHVibGlzaFVwZGF0ZWQoJ2RlbGV0ZScsIGtleSk7XG5cdH1cblxuXHRwcml2YXRlIHB1Ymxpc2hVcGRhdGVkKGFjdGlvbjogQWN0aW9uLCBrZXk6IHN0cmluZywgdmFsPzogYW55KSB7XG5cdFx0dGhpcy5saXN0ZW5lcnMuZm9yRWFjaChjYiA9PiB7IGNiKGFjdGlvbiwga2V5LCB2YWwpOyB9KTtcblx0fVxuXG5cdG9uVXBkYXRlZChjYjogTGlzdGVuZXJGbikge1xuXHRcdHRoaXMubGlzdGVuZXJzLnB1c2goY2IpO1xuXHR9XG59XG5cbmNvbnN0IFRFU1RfS0VZID0gJypiaTM0MDFiKEA4ZGIqMjEyMWIyIUAkJztcbmxldCBoYXNMb2NhbFN0b3JhZ2UsIGhhc1Nlc3Npb25TdG9yYWdlO1xuXG50cnkge1xuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShURVNUX0tFWSwgVEVTVF9LRVkpO1xuXHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShURVNUX0tFWSk7XG5cdGhhc0xvY2FsU3RvcmFnZSA9IHRydWU7XG59IGNhdGNoKGUpIHtcblx0aGFzTG9jYWxTdG9yYWdlID0gZmFsc2U7XG59XG5cbnRyeSB7XG5cdHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oVEVTVF9LRVksIFRFU1RfS0VZKTtcblx0c2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShURVNUX0tFWSk7XG5cdGhhc1Nlc3Npb25TdG9yYWdlID0gdHJ1ZTtcbn0gY2F0Y2goZSkge1xuXHRoYXNTZXNzaW9uU3RvcmFnZSA9IGZhbHNlO1xufVxuXG5leHBvcnQgY29uc3QgbG9jYWwgPSBuZXcgU3RvcmFnZShoYXNMb2NhbFN0b3JhZ2UgPyBsb2NhbFN0b3JhZ2UgOiBudWxsKTtcbmV4cG9ydCBjb25zdCBzZXNzaW9uID0gbmV3IFN0b3JhZ2UoaGFzU2Vzc2lvblN0b3JhZ2UgPyBzZXNzaW9uU3RvcmFnZSA6IG51bGwpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///32827\n")},21012:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $G: () => (/* binding */ truncate),\n/* harmony export */   Ez: () => (/* binding */ capitalizeFirst),\n/* harmony export */   JC: () => (/* binding */ strToLabel),\n/* harmony export */   Uo: () => (/* binding */ unescapeHTML),\n/* harmony export */   kC: () => (/* binding */ capitalize),\n/* harmony export */   x6: () => (/* binding */ numberWithCommas)\n/* harmony export */ });\n/* unused harmony exports dateFormat, toDateTimeString, annualToMonthly, toTitle, getCollectionTitle, escapeHTML, replaceHTML, dump, timeSince, getCCNumDisplay, equalizeStrings, getPageTitle, getMonthlyPrice, pluralize */\n\n\nvar truncate = function (str, length) {\n    if (!str)\n        return str;\n    var returnString = str.slice(0, length);\n    if (str.length > length) {\n        returnString += '\\u2026';\n    }\n    return returnString;\n};\nvar dateFormat = function (dateStr) {\n    return new Date(dateStr).toUTCString()\n        .slice(5, 16);\n};\nvar toDateTimeString = function (dateStr) {\n    var theDate = new Date(dateStr);\n    var date = theDate.toDateString();\n    var time = theDate.toLocaleTimeString();\n    return \"\".concat(date, \" \").concat(time);\n};\nvar dontCapitalize = {\n    a: true,\n    an: true,\n    as: true,\n    at: true,\n    by: true,\n    for: true,\n    from: true,\n    in: true,\n    of: true,\n    on: true,\n    to: true,\n    the: true,\n    and: true,\n    or: true,\n};\nvar capitalize = function (str, separator) {\n    if (separator === void 0) { separator = ' '; }\n    return (str || '')\n        .split(separator)\n        .map(function (word, i) {\n        if (i === 0 || !(word in dontCapitalize)) {\n            return capitalizeFirst(word);\n        }\n        else {\n            return word;\n        }\n    })\n        .join(' ');\n};\nvar capitalizeFirst = function (word) {\n    if (word === void 0) { word = ''; }\n    var firstLetter = word[0];\n    var rest = word.slice(1);\n    if (firstLetter)\n        firstLetter = firstLetter.toUpperCase();\n    if (rest)\n        rest = rest.toLowerCase();\n    return \"\".concat(firstLetter || '').concat(rest || '');\n};\nvar numberWithCommas = function (x) {\n    var num = Number(x);\n    if (isNaN(num))\n        return '';\n    return num.toLocaleString();\n};\nvar annualToMonthly = function (annual) {\n    var monthly = Number((annual / 12).toFixed(2));\n    if (monthly === 6.66) {\n        monthly = 6.67;\n    }\n    return monthly;\n};\nvar toTitle = function (input) {\n    if (input === void 0) { input = ''; }\n    input = String(input).replace(/\\bnara\\b/g, 'NARA');\n    input = input.replace('.', ' ');\n    return capitalize(input, '-');\n};\nvar getCollectionTitle = function (collection) {\n    var title = collection.title;\n    if (collection.subTitle) {\n        title = title + ' ' + collection.subTitle;\n    }\n    return title;\n};\nvar unescapeHTML = function (str) {\n    if (!str)\n        return '';\n    return str\n        .replace(/\\&amp\\;/g, '&')\n        .replace(/\\&quot\\;/g, '\"')\n        .replace(/\\&\\#039\\;/g, \"'\");\n};\nvar escapeHTML = function (str) {\n    return str\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#039;');\n};\nvar replaceHTML = function (str) {\n    return str.replace(/[&<>\"']+/g, '');\n};\nfunction dump(object, preserveHtml, level) {\n    if (preserveHtml === void 0) { preserveHtml = false; }\n    if (level === void 0) { level = 0; }\n    if (level > 10)\n        return 'TOO DEEP';\n    if (typeof object == 'object') {\n        //use a ul w/out li to indent\n        var out = '<ul>';\n        for (var k in object) {\n            out += '<div>';\n            out += '<b>' + k + '</b> ';\n            out += dump(object[k], preserveHtml, level + 1);\n            out += '</div>';\n        }\n        out += '</ul>';\n        return out;\n    }\n    else if (typeof object == 'function') {\n        return object.name ? '[function ' + object.name + ']' : '[function]';\n    }\n    else {\n        return preserveHtml ? String(object) : escapeHTML(String(object));\n    }\n}\nfunction timeSince(time) {\n    var d = new Date(time);\n    var msSince = +new Date() - +d;\n    if (isNaN(msSince))\n        return undefined;\n    var sSince = msSince / 1000;\n    var mSince = Math.floor(sSince / 60);\n    if (mSince < 1)\n        return 'just now';\n    if (mSince < 2)\n        return 'a minute ago';\n    if (mSince < 60)\n        return mSince + ' minutes ago';\n    var hSince = Math.floor(mSince / 60);\n    if (hSince < 2)\n        return 'an hour ago';\n    if (hSince < 24)\n        return hSince + ' hours ago';\n    var dSince = Math.floor(hSince / 24);\n    if (dSince < 2)\n        return 'a day ago';\n    if (dSince < 7)\n        return dSince + ' days ago';\n    var wSince = Math.floor(dSince / 7);\n    if (wSince < 2)\n        return 'a week ago';\n    if (wSince < 5)\n        return wSince + ' weeks ago';\n    var moSince = Math.floor(dSince / 30);\n    if (moSince < 2)\n        return 'a month ago';\n    if (moSince < 13)\n        return moSince + ' months ago';\n    var ySince = Math.floor(dSince / 365);\n    if (ySince < 2)\n        return 'a year ago';\n    return ySince + ' years ago';\n}\nfunction padCCLast4(ccLast4) {\n    if (ccLast4 === undefined)\n        return '';\n    return String(ccLast4).padStart(4, '0'); // padding with 0's because if the card's last 4 starts with a 0, the Java serializer will trim those off.\n}\nfunction getCCNumDisplay(ccLast4) {\n    return \"\\u2022\\u2022\\u2022\\u2022 \\u2022\\u2022\\u2022\\u2022 \\u2022\\u2022\\u2022\\u2022 \".concat(padCCLast4(ccLast4));\n}\nfunction strToLabel(str) {\n    str = String(str);\n    if (str === '')\n        return str;\n    //camelCase\n    str = str.replace(/([a-z])([A-Z])/g, function (match, m1, m2) {\n        return m1 + ' ' + m2;\n    });\n    //hyphenated\n    str = str.replace(/[-_.](.)/g, function (match, m1) {\n        return ' ' + m1.toUpperCase();\n    });\n    return str[0].toUpperCase() + str.slice(1);\n}\nfunction equalizeStrings(strings, totalLength, truncatedIndicator) {\n    var e_1, _a;\n    if (truncatedIndicator === void 0) { truncatedIndicator = '...'; }\n    var lengths = strings.map(function (str) { return str.length; });\n    var longest = Math.max.apply(Math, __spreadArray([], __read(lengths), false));\n    var total = lengths.reduce(function (total, length) { return total + length; }, 0);\n    while (total > totalLength) {\n        try {\n            for (var _b = (e_1 = void 0, __values(lengths.entries())), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), i = _d[0], length = _d[1];\n                if (length === longest) {\n                    lengths[i]--;\n                    total--;\n                    if (total <= totalLength)\n                        break;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        longest--;\n    }\n    return lengths.map(function (length, i) {\n        var sliced = strings[i].slice(0, length);\n        if (sliced.length < strings[i].length)\n            sliced += truncatedIndicator;\n        return sliced;\n    });\n}\nfunction getPageTitle(domain, title) {\n    var siteType = getSiteTypeForDomain(domain);\n    var label = getSiteLabelForSiteType(siteType);\n    return \"\".concat(title, \" - \").concat(label);\n}\nfunction getMonthlyPrice(annualPrice) {\n    return (Math.ceil(annualPrice / 12 * 100) / 100).toFixed(2);\n}\nvar vowels = (/* unused pure expression or super */ null && (['a', 'e', 'i', 'o', 'u']));\nvar pluralizeSpecialCases = {\n    media: 'media',\n};\nfunction pluralize(word, num) {\n    if (word === void 0) { word = ''; }\n    var lowerWord = word.toLowerCase();\n    if (lowerWord in pluralizeSpecialCases)\n        return pluralizeSpecialCases[lowerWord];\n    // Math.abs(num) because -1 and 1 are the only numbers that aren't pluralized\n    if (num !== undefined && Math.abs(num) === 1)\n        return word;\n    var suffix = 's';\n    var lastLetters = lowerWord.substring(word.length - 2);\n    switch (lastLetters[1]) {\n        case 's':\n        case 'z':\n        case 'x':\n            suffix = 'es';\n            break;\n        case 'y':\n            if (!vowels.includes(lastLetters[0])) {\n                return word.substring(0, word.length - 1) + 'ies';\n            }\n            break;\n    }\n    if (suffix === 's') {\n        switch (lastLetters) {\n            case 'ss':\n            case 'sh':\n            case 'ch':\n                suffix = 'es';\n                break;\n        }\n    }\n    return word + suffix;\n}\n;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEwMTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvdGVtcGxhdGluZy50cz9hMjViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERvbWFpbiB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IE9iaiB9IGZyb20gJy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBnZXRTaXRlTGFiZWxGb3JTaXRlVHlwZSwgZ2V0U2l0ZVR5cGVGb3JEb21haW4gfSBmcm9tICcuL2xvY2FsaXphdGlvbi9kb21haW4nO1xuXG5leHBvcnQgY29uc3QgdHJ1bmNhdGUgPSAoc3RyOiBzdHJpbmcsIGxlbmd0aDogbnVtYmVyKSA9PiB7XG5cdGlmICghc3RyKSByZXR1cm4gc3RyO1xuXHRsZXQgcmV0dXJuU3RyaW5nID0gc3RyLnNsaWNlKDAsIGxlbmd0aCk7XG5cdGlmIChzdHIubGVuZ3RoID4gbGVuZ3RoKSB7XG5cdFx0cmV0dXJuU3RyaW5nICs9ICdcXHUyMDI2Jztcblx0fVxuXHRyZXR1cm4gcmV0dXJuU3RyaW5nO1xufTtcblxuZXhwb3J0IGNvbnN0IGRhdGVGb3JtYXQgPSAoZGF0ZVN0cjogc3RyaW5nIHwgRGF0ZSkgPT5cblx0bmV3IERhdGUoZGF0ZVN0cikudG9VVENTdHJpbmcoKVxuXHRcdC5zbGljZSg1LCAxNik7XG5cbmV4cG9ydCBjb25zdCB0b0RhdGVUaW1lU3RyaW5nID0gKGRhdGVTdHI6IHN0cmluZyB8IERhdGUpID0+IHtcblx0bGV0IHRoZURhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKTtcblx0bGV0IGRhdGUgPSB0aGVEYXRlLnRvRGF0ZVN0cmluZygpO1xuXHRsZXQgdGltZSA9IHRoZURhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCk7XG5cblx0cmV0dXJuIGAke2RhdGV9ICR7dGltZX1gO1xufTtcblxuY29uc3QgZG9udENhcGl0YWxpemUgPSB7XG5cdGE6IHRydWUsXG5cdGFuOiB0cnVlLFxuXHRhczogdHJ1ZSxcblx0YXQ6IHRydWUsXG5cdGJ5OiB0cnVlLFxuXHRmb3I6IHRydWUsXG5cdGZyb206IHRydWUsXG5cdGluOiB0cnVlLFxuXHRvZjogdHJ1ZSxcblx0b246IHRydWUsXG5cdHRvOiB0cnVlLFxuXHR0aGU6IHRydWUsXG5cdGFuZDogdHJ1ZSxcblx0b3I6IHRydWUsXG59O1xuZXhwb3J0IGNvbnN0IGNhcGl0YWxpemUgPSAoc3RyOiBzdHJpbmcsIHNlcGFyYXRvciA9ICcgJykgPT4ge1xuXHRyZXR1cm4gKHN0ciB8fCAnJylcblx0XHQuc3BsaXQoc2VwYXJhdG9yKVxuXHRcdC5tYXAoKHdvcmQsIGkpID0+IHtcblx0XHRcdGlmIChpID09PSAwIHx8ICEod29yZCBpbiBkb250Q2FwaXRhbGl6ZSkpIHtcblx0XHRcdFx0cmV0dXJuIGNhcGl0YWxpemVGaXJzdCh3b3JkKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB3b3JkO1xuXHRcdFx0fVxuXHRcdH0pXG5cdFx0LmpvaW4oJyAnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjYXBpdGFsaXplRmlyc3QgPSAod29yZDogc3RyaW5nID0gJycpID0+IHtcblx0bGV0IGZpcnN0TGV0dGVyID0gd29yZFswXTtcblx0bGV0IHJlc3QgPSB3b3JkLnNsaWNlKDEpO1xuXG5cdGlmIChmaXJzdExldHRlcikgZmlyc3RMZXR0ZXIgPSBmaXJzdExldHRlci50b1VwcGVyQ2FzZSgpO1xuXHRpZiAocmVzdCkgcmVzdCA9IHJlc3QudG9Mb3dlckNhc2UoKTtcblxuXHRyZXR1cm4gYCR7Zmlyc3RMZXR0ZXIgfHwgJyd9JHtyZXN0IHx8ICcnfWA7XG59O1xuXG5leHBvcnQgY29uc3QgbnVtYmVyV2l0aENvbW1hcyA9ICh4OiBudW1iZXIgfCBzdHJpbmcpID0+IHtcblx0bGV0IG51bSA9IE51bWJlcih4KTtcblx0aWYgKGlzTmFOKG51bSkpIHJldHVybiAnJztcblxuXHRyZXR1cm4gbnVtLnRvTG9jYWxlU3RyaW5nKCk7XG59O1xuXG5leHBvcnQgY29uc3QgYW5udWFsVG9Nb250aGx5ID0gKGFubnVhbDogbnVtYmVyKSA9PiB7XG5cdGxldCBtb250aGx5ID0gTnVtYmVyKChhbm51YWwgLyAxMikudG9GaXhlZCgyKSk7XG5cdGlmIChtb250aGx5ID09PSA2LjY2KSB7XG5cdFx0bW9udGhseSA9IDYuNjc7XG5cdH1cblxuXHRyZXR1cm4gbW9udGhseTtcbn07XG5cbmV4cG9ydCBjb25zdCB0b1RpdGxlID0gKGlucHV0ID0gJycpID0+IHtcblx0aW5wdXQgPSBTdHJpbmcoaW5wdXQpLnJlcGxhY2UoL1xcYm5hcmFcXGIvZywgJ05BUkEnKTtcblx0aW5wdXQgPSBpbnB1dC5yZXBsYWNlKCcuJywgJyAnKTtcblx0cmV0dXJuIGNhcGl0YWxpemUoaW5wdXQsICctJyk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q29sbGVjdGlvblRpdGxlID0gKGNvbGxlY3Rpb246IGFueSkgPT4ge1xuXHRsZXQgdGl0bGUgPSBjb2xsZWN0aW9uLnRpdGxlO1xuXHRpZiAoY29sbGVjdGlvbi5zdWJUaXRsZSkge1xuXHRcdHRpdGxlID0gdGl0bGUgKyAnICcgKyBjb2xsZWN0aW9uLnN1YlRpdGxlO1xuXHR9XG5cdHJldHVybiB0aXRsZTtcbn07XG5cbmV4cG9ydCBjb25zdCB1bmVzY2FwZUhUTUwgPSAoc3RyOiBzdHJpbmcpID0+IHtcblx0aWYgKCFzdHIpIHJldHVybiAnJztcblxuXHRyZXR1cm4gc3RyXG5cdFx0LnJlcGxhY2UoL1xcJmFtcFxcOy9nLCAnJicpXG5cdFx0LnJlcGxhY2UoL1xcJnF1b3RcXDsvZywgJ1wiJylcblx0XHQucmVwbGFjZSgvXFwmXFwjMDM5XFw7L2csIFwiJ1wiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBlc2NhcGVIVE1MID0gKHN0cjogc3RyaW5nKSA9PiB7XG5cdHJldHVybiBzdHJcblx0XHQucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuXHRcdC5yZXBsYWNlKC88L2csICcmbHQ7Jylcblx0XHQucmVwbGFjZSgvPi9nLCAnJmd0OycpXG5cdFx0LnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuXHRcdC5yZXBsYWNlKC8nL2csICcmIzAzOTsnKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXBsYWNlSFRNTCA9IChzdHI6IHN0cmluZykgPT4ge1xuXHRyZXR1cm4gc3RyLnJlcGxhY2UoL1smPD5cIiddKy9nLCAnJyk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZHVtcChvYmplY3Q6IGFueSwgcHJlc2VydmVIdG1sOiBib29sZWFuID0gZmFsc2UsIGxldmVsID0gMCkge1xuXHRpZiAobGV2ZWwgPiAxMCkgcmV0dXJuICdUT08gREVFUCc7XG5cblx0aWYgKHR5cGVvZiBvYmplY3QgPT0gJ29iamVjdCcpIHtcblx0XHQvL3VzZSBhIHVsIHcvb3V0IGxpIHRvIGluZGVudFxuXHRcdHZhciBvdXQgPSAnPHVsPic7XG5cdFx0Zm9yICh2YXIgayBpbiBvYmplY3QpIHtcblx0XHRcdG91dCArPSAnPGRpdj4nO1xuXHRcdFx0b3V0ICs9ICc8Yj4nICsgayArICc8L2I+ICc7XG5cdFx0XHRvdXQgKz0gZHVtcChvYmplY3Rba10sIHByZXNlcnZlSHRtbCwgbGV2ZWwgKyAxKTtcblx0XHRcdG91dCArPSAnPC9kaXY+Jztcblx0XHR9XG5cdFx0b3V0ICs9ICc8L3VsPic7XG5cdFx0cmV0dXJuIG91dDtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09ICdmdW5jdGlvbicpIHtcblx0XHRyZXR1cm4gb2JqZWN0Lm5hbWUgPyAnW2Z1bmN0aW9uICcgKyBvYmplY3QubmFtZSArICddJyA6ICdbZnVuY3Rpb25dJztcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gcHJlc2VydmVIdG1sID8gU3RyaW5nKG9iamVjdCkgOiBlc2NhcGVIVE1MKFN0cmluZyhvYmplY3QpKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGltZVNpbmNlKHRpbWU6IHN0cmluZyk6IHN0cmluZyB7XG5cdGxldCBkID0gbmV3IERhdGUodGltZSk7XG5cdGxldCBtc1NpbmNlID0gK25ldyBEYXRlKCkgLSArZDtcblxuXHRpZiAoaXNOYU4obXNTaW5jZSkpIHJldHVybiB1bmRlZmluZWQ7XG5cblx0bGV0IHNTaW5jZSA9IG1zU2luY2UgLyAxMDAwO1xuXHRsZXQgbVNpbmNlID0gTWF0aC5mbG9vcihzU2luY2UgLyA2MCk7XG5cblx0aWYgKG1TaW5jZSA8IDEpIHJldHVybiAnanVzdCBub3cnO1xuXHRpZiAobVNpbmNlIDwgMikgcmV0dXJuICdhIG1pbnV0ZSBhZ28nO1xuXHRpZiAobVNpbmNlIDwgNjApIHJldHVybiBtU2luY2UgKyAnIG1pbnV0ZXMgYWdvJztcblxuXHRsZXQgaFNpbmNlID0gTWF0aC5mbG9vcihtU2luY2UgLyA2MCk7XG5cdGlmIChoU2luY2UgPCAyKSByZXR1cm4gJ2FuIGhvdXIgYWdvJztcblx0aWYgKGhTaW5jZSA8IDI0KSByZXR1cm4gaFNpbmNlICsgJyBob3VycyBhZ28nO1xuXG5cdGxldCBkU2luY2UgPSBNYXRoLmZsb29yKGhTaW5jZSAvIDI0KTtcblx0aWYgKGRTaW5jZSA8IDIpIHJldHVybiAnYSBkYXkgYWdvJztcblx0aWYgKGRTaW5jZSA8IDcpIHJldHVybiBkU2luY2UgKyAnIGRheXMgYWdvJztcblxuXHRsZXQgd1NpbmNlID0gTWF0aC5mbG9vcihkU2luY2UgLyA3KTtcblx0aWYgKHdTaW5jZSA8IDIpIHJldHVybiAnYSB3ZWVrIGFnbyc7XG5cdGlmICh3U2luY2UgPCA1KSByZXR1cm4gd1NpbmNlICsgJyB3ZWVrcyBhZ28nO1xuXG5cdGxldCBtb1NpbmNlID0gTWF0aC5mbG9vcihkU2luY2UgLyAzMCk7XG5cdGlmIChtb1NpbmNlIDwgMikgcmV0dXJuICdhIG1vbnRoIGFnbyc7XG5cdGlmIChtb1NpbmNlIDwgMTMpIHJldHVybiBtb1NpbmNlICsgJyBtb250aHMgYWdvJztcblxuXHRsZXQgeVNpbmNlID0gTWF0aC5mbG9vcihkU2luY2UgLyAzNjUpO1xuXHRpZiAoeVNpbmNlIDwgMikgcmV0dXJuICdhIHllYXIgYWdvJztcblx0cmV0dXJuIHlTaW5jZSArICcgeWVhcnMgYWdvJztcbn1cblxuZnVuY3Rpb24gcGFkQ0NMYXN0NChjY0xhc3Q0OiBzdHJpbmcgfCBudW1iZXIpIHtcblx0aWYgKGNjTGFzdDQgPT09IHVuZGVmaW5lZCkgcmV0dXJuICcnO1xuXHRyZXR1cm4gU3RyaW5nKGNjTGFzdDQpLnBhZFN0YXJ0KDQsICcwJyk7IC8vIHBhZGRpbmcgd2l0aCAwJ3MgYmVjYXVzZSBpZiB0aGUgY2FyZCdzIGxhc3QgNCBzdGFydHMgd2l0aCBhIDAsIHRoZSBKYXZhIHNlcmlhbGl6ZXIgd2lsbCB0cmltIHRob3NlIG9mZi5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENDTnVtRGlzcGxheShjY0xhc3Q0OiBzdHJpbmcgfCBudW1iZXIpIHtcblx0cmV0dXJuIGDigKLigKLigKLigKIg4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoiAke3BhZENDTGFzdDQoY2NMYXN0NCl9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0clRvTGFiZWwoc3RyOiBzdHJpbmcpIHtcblx0c3RyID0gU3RyaW5nKHN0cik7XG5cdGlmIChzdHIgPT09ICcnKSByZXR1cm4gc3RyO1xuXG5cdC8vY2FtZWxDYXNlXG5cdHN0ciA9IHN0ci5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBmdW5jdGlvbihtYXRjaCwgbTEsIG0yKSB7XG5cdFx0cmV0dXJuIG0xICsgJyAnICsgbTI7XG5cdH0pO1xuXG5cdC8vaHlwaGVuYXRlZFxuXHRzdHIgPSBzdHIucmVwbGFjZSgvWy1fLl0oLikvZywgZnVuY3Rpb24obWF0Y2gsIG0xKSB7XG5cdFx0cmV0dXJuICcgJyArIG0xLnRvVXBwZXJDYXNlKCk7XG5cdH0pO1xuXHRyZXR1cm4gc3RyWzBdLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbGl6ZVN0cmluZ3MoXG5cdHN0cmluZ3M6IHN0cmluZ1tdLFxuXHR0b3RhbExlbmd0aDogbnVtYmVyLFxuXHR0cnVuY2F0ZWRJbmRpY2F0b3IgPSAnLi4uJ1xuKSB7XG5cdGxldCBsZW5ndGhzID0gc3RyaW5ncy5tYXAoc3RyID0+IHN0ci5sZW5ndGgpO1xuXHRsZXQgbG9uZ2VzdCA9IE1hdGgubWF4KC4uLmxlbmd0aHMpO1xuXHRsZXQgdG90YWwgPSBsZW5ndGhzLnJlZHVjZSgodG90YWwsIGxlbmd0aCkgPT4gdG90YWwgKyBsZW5ndGgsIDApO1xuXG5cdHdoaWxlICh0b3RhbCA+IHRvdGFsTGVuZ3RoKSB7XG5cdFx0Zm9yIChsZXQgW2ksIGxlbmd0aF0gb2YgbGVuZ3Rocy5lbnRyaWVzKCkpIHtcblx0XHRcdGlmIChsZW5ndGggPT09IGxvbmdlc3QpIHtcblx0XHRcdFx0bGVuZ3Roc1tpXS0tO1xuXHRcdFx0XHR0b3RhbC0tO1xuXHRcdFx0XHRpZiAodG90YWwgPD0gdG90YWxMZW5ndGgpIGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRsb25nZXN0LS07XG5cdH1cblxuXHRyZXR1cm4gbGVuZ3Rocy5tYXAoKGxlbmd0aCwgaSkgPT4ge1xuXHRcdGxldCBzbGljZWQgPSBzdHJpbmdzW2ldLnNsaWNlKDAsIGxlbmd0aCk7XG5cdFx0aWYgKHNsaWNlZC5sZW5ndGggPCBzdHJpbmdzW2ldLmxlbmd0aCkgc2xpY2VkICs9IHRydW5jYXRlZEluZGljYXRvcjtcblx0XHRyZXR1cm4gc2xpY2VkO1xuXHR9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2VUaXRsZShkb21haW46IERvbWFpbiwgdGl0bGU6IHN0cmluZykge1xuXHRsZXQgc2l0ZVR5cGUgPSBnZXRTaXRlVHlwZUZvckRvbWFpbihkb21haW4pO1xuXHRsZXQgbGFiZWwgPSBnZXRTaXRlTGFiZWxGb3JTaXRlVHlwZShzaXRlVHlwZSk7XG5cblx0cmV0dXJuIGAke3RpdGxlfSAtICR7bGFiZWx9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vbnRobHlQcmljZShhbm51YWxQcmljZTogbnVtYmVyKSB7XG5cdHJldHVybiAoTWF0aC5jZWlsKGFubnVhbFByaWNlIC8gMTIgKiAxMDApIC8gMTAwKS50b0ZpeGVkKDIpO1xufVxuXG5jb25zdCB2b3dlbHMgPSBbJ2EnLCAnZScsICdpJywgJ28nLCAndSddO1xuXG5jb25zdCBwbHVyYWxpemVTcGVjaWFsQ2FzZXM6IE9iaiA9IHtcblx0bWVkaWE6ICdtZWRpYScsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGx1cmFsaXplKHdvcmQ6IHN0cmluZyA9ICcnLCBudW0/OiBudW1iZXIpIHtcblx0Y29uc3QgbG93ZXJXb3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuXHRpZiAobG93ZXJXb3JkIGluIHBsdXJhbGl6ZVNwZWNpYWxDYXNlcykgcmV0dXJuIHBsdXJhbGl6ZVNwZWNpYWxDYXNlc1tsb3dlcldvcmRdO1xuXG5cdC8vIE1hdGguYWJzKG51bSkgYmVjYXVzZSAtMSBhbmQgMSBhcmUgdGhlIG9ubHkgbnVtYmVycyB0aGF0IGFyZW4ndCBwbHVyYWxpemVkXG5cdGlmIChudW0gIT09IHVuZGVmaW5lZCAmJiBNYXRoLmFicyhudW0pID09PSAxKSByZXR1cm4gd29yZDtcblxuXHRsZXQgc3VmZml4ID0gJ3MnO1xuXHRsZXQgbGFzdExldHRlcnMgPSBsb3dlcldvcmQuc3Vic3RyaW5nKHdvcmQubGVuZ3RoIC0gMik7XG5cdHN3aXRjaCAobGFzdExldHRlcnNbMV0pIHtcblx0XHRjYXNlICdzJzpcblx0XHRjYXNlICd6Jzpcblx0XHRjYXNlICd4Jzpcblx0XHRcdHN1ZmZpeCA9ICdlcyc7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICd5Jzpcblx0XHRcdGlmICghdm93ZWxzLmluY2x1ZGVzKGxhc3RMZXR0ZXJzWzBdKSkge1xuXHRcdFx0XHRyZXR1cm4gd29yZC5zdWJzdHJpbmcoMCwgd29yZC5sZW5ndGggLSAxKSArICdpZXMnO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdH1cblxuXHRpZiAoc3VmZml4ID09PSAncycpIHtcblx0XHRzd2l0Y2ggKGxhc3RMZXR0ZXJzKSB7XG5cdFx0XHRjYXNlICdzcyc6XG5cdFx0XHRjYXNlICdzaCc6XG5cdFx0XHRjYXNlICdjaCc6XG5cdFx0XHRcdHN1ZmZpeCA9ICdlcyc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiB3b3JkICsgc3VmZml4O1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21012\n")},677:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sX: () => (/* binding */ getThumbnail)\n/* harmony export */ });\n/* unused harmony exports getImagePath, getRequestThumbnail */\n/* harmony import */ var _localization_domain__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(40315);\n/* harmony import */ var _mapUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(64528);\n\n\n\n\n\nvar getImagePath = function () {\n    var config = getConfig();\n    return config.backendServices.image;\n};\nfunction getThumbnail(opts) {\n    var domain = opts.domain, environment = opts.environment;\n    var path = opts.path;\n    if (path === \'reference\') {\n        var _a = opts.ref, contentType = _a.contentType, objectId = _a.objectId;\n        path += "/".concat(contentType, "/").concat(objectId);\n    }\n    var filtered = (0,_mapUtil__WEBPACK_IMPORTED_MODULE_0__/* .filterUndefined */ .YU)(opts.query || {});\n    var queryStr = new URLSearchParams(filtered).toString();\n    if (queryStr)\n        path += "?".concat(queryStr);\n    return "".concat((0,_localization_domain__WEBPACK_IMPORTED_MODULE_1__/* .getImageHost */ .Oh)(domain, environment), "/img/").concat(path);\n}\nfunction getRequestThumbnail(req) {\n    var f3Domain = req.f3Domain;\n    return function (opts) {\n        return getThumbnail(__assign({ domain: f3Domain, environment: getServerEnvironment() }, opts));\n    };\n}\n/*\n * export const getRequestContentThumbnailUrl = (req: F3Request, ref: ImageObjectReference, query?: ThumbnailQuery) => {\n * \tconst { f3Domain } = req;\n * \treturn _getContentThumbnailUrl(f3Domain, getServerEnvironment(), ref, query);\n * }\n */\n/*\n * export const getRequestThumbnailUrl = (req: F3Request, base: string, query?: ThumbnailQuery) => {\n * \tconst { f3Domain } = req;\n * \treturn _getDomainThumbnailUrl(f3Domain, getServerEnvironment(), base, query);\n * }\n */\n/*\n * export const _getContentThumbnailUrl = (domain: Domain, env: Fold3Environment, ref: ImageObjectReference, query?: ThumbnailQuery) => {\n * \tlet origin = getImageHost(domain, env);\n * \treturn _getThumbnailUrl(`${origin}/img/reference/${ref.contentType}/${ref.objectId}`, query);\n * }\n */\n/*\n * export const _getDomainThumbnailUrl = (domain: Domain, env: Fold3Environment, base: string, query?: ThumbnailQuery) => {\n * \tlet origin = getImageHost(domain, env);\n * \treturn _getThumbnailUrl(`${origin}/img${base}`, query);\n * }\n */\n/*\n * export const getContentThumbnailUrl = (ref: ImageObjectReference, query?: ThumbnailQuery) => {\n * \tlet base = `reference/${ref.contentType}/${ref.objectId}` as ThumbnailPath;\n * \treturn getThumbnailUrl(base, query);\n * }\n */\n/*\n * export const getThumbnailUrl: ThumbnailUrlFn = (base, query) => {\n * \treturn _getThumbnailUrl(`${getImagePath()}${base}`, query);\n * }\n */\n/*\n * const _getThumbnailUrl = (url: string, query: ThumbnailQuery = {}) => {\n * \tlet filtered = filterUndefined(query);\n * \tlet queryStr = new URLSearchParams(filtered as Obj).toString();\n * \treturn `${url}?${queryStr}`;\n * }\n */\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjc3LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBeUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFFQTs7Ozs7QUFLQTtBQUVBOzs7OztBQUtBO0FBRUE7Ozs7O0FBS0E7QUFFQTs7Ozs7QUFLQTtBQUVBOzs7O0FBSUE7QUFFQTs7Ozs7O0FBTUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL3RodW1ibmFpbC50cz8zZjA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFNlcnZlckVudmlyb25tZW50IH0gZnJvbSAnLi4vLi4vc2VydmVyL2xpYi9lbnZpcm9ubWVudCc7XG5pbXBvcnQgeyBBYnN0cmFjdE1lbW9yaWFsRG9jdW1lbnRfVHlwZSwgQ29udGVudFR5cGUsIERvbWFpbiB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IEYzUmVxdWVzdCwgRm9sZDNFbnZpcm9ubWVudCwgT2JqLCBTaG9ydERvbWFpbiB9IGZyb20gJy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBnZXRJbWFnZUhvc3QgfSBmcm9tICcuL2xvY2FsaXphdGlvbi9kb21haW4nO1xuaW1wb3J0IHsgZmlsdGVyVW5kZWZpbmVkIH0gZnJvbSAnLi9tYXBVdGlsJztcbmltcG9ydCB7IGdldENvbmZpZyB9IGZyb20gJy4vc2hhcmVkQ29uZmlnJztcblxuZXhwb3J0IGNvbnN0IGdldEltYWdlUGF0aCA9ICgpID0+IHtcblx0Y29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKCk7XG5cdHJldHVybiBjb25maWcuYmFja2VuZFNlcnZpY2VzLmltYWdlO1xufTtcblxuZXhwb3J0IHR5cGUgUmVmZXJlbmNlVHlwZSA9IENvbnRlbnRUeXBlIHwgJ0JBQ0tHUk9VTkQtSU1BR0UnIHwgJ1JFTEFUSU9OJ1xuXG5pbnRlcmZhY2UgSW1hZ2VPYmplY3RSZWZlcmVuY2Uge1xuXHRjb250ZW50VHlwZTogUmVmZXJlbmNlVHlwZVxuXHRvYmplY3RJZDogc3RyaW5nIHwgbnVtYmVyXG59XG5cbmV4cG9ydCB0eXBlIFRodW1ibmFpbFF1ZXJ5PFQgZXh0ZW5kcyBPYmogPSBPYmo+ID0gVCAmIHtcblx0aGVpZ2h0PzogbnVtYmVyXG5cdHdpZHRoPzogbnVtYmVyXG59XG5cbmV4cG9ydCB0eXBlIFRodW1ibmFpbFBhdGggPSAnbWVtb3JpYWwtdHlwZScgfCAncmVmZXJlbmNlJyB8ICdyZWdpbWVudCcgfCAncHJvdmlkZXJpY29uJyB8ICd1c2VyaWNvbicgfCAndGl0bGVwYWdlYmcnIHwgJ2xhbmRpbmdiaCcgfCAnbWVtb3JpYWxiZycgfCAnc3ViamVjdGJnJyB8ICdjb250ZW50LXNyYycgfCAndGl0bGVjb2xsZWN0aW9uaWNvbicgfCAndGl0bGVjb2xsZWN0aW9udGh1bWInIHwgJ3RpdGxlY29sbGVjdGlvbmJnJyB8ICdwcm92aWRlcnRodW1iJyB8ICdwYXJ0bmVyYmcnIHwgJ2NvbGxlY3Rpb25ncm91cGljb24nIHwgJ2NvbGxlY3Rpb25ncm91cGJnJztcblxuaW50ZXJmYWNlIEJhc2VUaHVtYm5haWxPcHRzIHtcblx0cGF0aDogVGh1bWJuYWlsUGF0aFxuXHRxdWVyeT86IFRodW1ibmFpbFF1ZXJ5XG59XG5cbmludGVyZmFjZSBDb2xsZWN0aW9uR3JvdXBCZ09wdHMgZXh0ZW5kcyBCYXNlVGh1bWJuYWlsT3B0cyB7IHBhdGg6ICdjb2xsZWN0aW9uZ3JvdXBiZycsIHF1ZXJ5OiBUaHVtYm5haWxRdWVyeTx7IGlkOiBudW1iZXIgfT4gfVxuaW50ZXJmYWNlIENvbGxlY3Rpb25Hcm91cEljb25PcHRzIGV4dGVuZHMgQmFzZVRodW1ibmFpbE9wdHMgeyBwYXRoOiAnY29sbGVjdGlvbmdyb3VwaWNvbicsIHF1ZXJ5OiBUaHVtYm5haWxRdWVyeTx7IGlkOiBudW1iZXIgfT4gfVxuaW50ZXJmYWNlIENvbnRlbnRTcmNPcHRzIGV4dGVuZHMgQmFzZVRodW1ibmFpbE9wdHMgeyBwYXRoOiAnY29udGVudC1zcmMnLCBxdWVyeTogVGh1bWJuYWlsUXVlcnk8eyAnY29udGVudC10eXBlJz86IENvbnRlbnRUeXBlLCAnZXh0ZXJuYWwtbGluayc/OiBzdHJpbmcsIGRvbWFpbjogU2hvcnREb21haW4gfT4gfVxuaW50ZXJmYWNlIExhbmRpbmdCaE9wdHMgZXh0ZW5kcyBCYXNlVGh1bWJuYWlsT3B0cyB7IHBhdGg6ICdsYW5kaW5nYmgnLCBxdWVyeTogVGh1bWJuYWlsUXVlcnk8eyBzbHVnOiBzdHJpbmcsIGRvbWFpbjogU2hvcnREb21haW4gfT4gfVxuaW50ZXJmYWNlIE1lbW9yaWFsVHlwZU9wdHMgZXh0ZW5kcyBCYXNlVGh1bWJuYWlsT3B0cyB7IHBhdGg6ICdtZW1vcmlhbC10eXBlJywgcXVlcnk6IFRodW1ibmFpbFF1ZXJ5PHsgdHlwZTogQWJzdHJhY3RNZW1vcmlhbERvY3VtZW50X1R5cGUsIGZlbWFsZTogYm9vbGVhbiB9PiB9XG5pbnRlcmZhY2UgTWVtb3JpYWxCZ09wdHMgZXh0ZW5kcyBCYXNlVGh1bWJuYWlsT3B0cyB7IHBhdGg6ICdtZW1vcmlhbGJnJywgcXVlcnk6IFRodW1ibmFpbFF1ZXJ5PHsgaWQ6IG51bWJlciB8IHN0cmluZywgcmVmcmVzaDogbnVtYmVyIH0+IH1cbmludGVyZmFjZSBTdWJqZWN0QmdPcHRzIGV4dGVuZHMgQmFzZVRodW1ibmFpbE9wdHMgeyBwYXRoOiAnc3ViamVjdGJnJywgcXVlcnk6IFRodW1ibmFpbFF1ZXJ5PHsgaWQ6IG51bWJlciB8IHN0cmluZywgcmVmcmVzaDogbnVtYmVyIH0+IH1cbmludGVyZmFjZSBQYXJ0bmVyQmdPcHRzIGV4dGVuZHMgQmFzZVRodW1ibmFpbE9wdHMgeyBwYXRoOiAncGFydG5lcmJnJywgcXVlcnk6IFRodW1ibmFpbFF1ZXJ5PHsgc2x1Zzogc3RyaW5nIH0+IH1cbmludGVyZmFjZSBQcm92aWRlckljb25PcHRzIGV4dGVuZHMgQmFzZVRodW1ibmFpbE9wdHMgeyBwYXRoOiAncHJvdmlkZXJpY29uJywgcXVlcnk6IFRodW1ibmFpbFF1ZXJ5PHsgaWQ6IG51bWJlciB9PiB9XG5pbnRlcmZhY2UgUHJvdmlkZXJUaHVtYk9wdHMgZXh0ZW5kcyBCYXNlVGh1bWJuYWlsT3B0cyB7IHBhdGg6ICdwcm92aWRlcnRodW1iJywgcXVlcnk6IFRodW1ibmFpbFF1ZXJ5PHsgaWQ6IG51bWJlciB9PiB9XG5pbnRlcmZhY2UgUmVnaW1lbnRPcHRzIGV4dGVuZHMgQmFzZVRodW1ibmFpbE9wdHMgeyBwYXRoOiAncmVnaW1lbnQnLCBxdWVyeTogVGh1bWJuYWlsUXVlcnk8eyBpbWFnZTogbnVtYmVyIHwgc3RyaW5nIH0+IH1cbmludGVyZmFjZSBUaXRsZUNvbGxlY3Rpb25CZ09wdHMgZXh0ZW5kcyBCYXNlVGh1bWJuYWlsT3B0cyB7IHBhdGg6ICd0aXRsZWNvbGxlY3Rpb25iZycsIHF1ZXJ5OiBUaHVtYm5haWxRdWVyeTx7IHNsdWc6IHN0cmluZywgaWQ6IHN0cmluZyB9PiB9XG5pbnRlcmZhY2UgVGl0bGVDb2xsZWN0aW9uSWNvbk9wdHMgZXh0ZW5kcyBCYXNlVGh1bWJuYWlsT3B0cyB7IHBhdGg6ICd0aXRsZWNvbGxlY3Rpb25pY29uJywgcXVlcnk6IFRodW1ibmFpbFF1ZXJ5PHsgc2x1Zzogc3RyaW5nLCBpZDogc3RyaW5nIH0+IH1cbmludGVyZmFjZSBUaXRsZUNvbGxlY3Rpb25UaHVtYk9wdHMgZXh0ZW5kcyBCYXNlVGh1bWJuYWlsT3B0cyB7IHBhdGg6ICd0aXRsZWNvbGxlY3Rpb250aHVtYicsIHF1ZXJ5OiBUaHVtYm5haWxRdWVyeTx7IHNsdWc6IHN0cmluZywgaWQ6IHN0cmluZywgc2l6ZTogbnVtYmVyIH0+IH1cbmludGVyZmFjZSBUaXRsZVBhZ2VCZ09wdHMgZXh0ZW5kcyBCYXNlVGh1bWJuYWlsT3B0cyB7IHBhdGg6ICd0aXRsZXBhZ2ViZycsIHF1ZXJ5OiBUaHVtYm5haWxRdWVyeTx7IGlkOiBudW1iZXIgfT4gfVxuaW50ZXJmYWNlIFVzZXJJY29uT3B0cyBleHRlbmRzIEJhc2VUaHVtYm5haWxPcHRzIHsgcGF0aDogJ3VzZXJpY29uJywgcXVlcnk6IFRodW1ibmFpbFF1ZXJ5PHsgaWQ6IG51bWJlciwgZG9tYWluOiBTaG9ydERvbWFpbiB9PiB9XG5pbnRlcmZhY2UgUmVmT3B0cyBleHRlbmRzIEJhc2VUaHVtYm5haWxPcHRzIHsgcGF0aDogJ3JlZmVyZW5jZScsIHJlZjogSW1hZ2VPYmplY3RSZWZlcmVuY2UsIHF1ZXJ5OiBUaHVtYm5haWxRdWVyeTx7IHN2Zz86IGJvb2xlYW4sIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCAnZmlsbC1iYWNrZ3JvdW5kJz86ICdzb2xpZCcgfCAndHJ1ZScgfT4gfVxuXG5leHBvcnQgdHlwZSBUaHVtYm5haWxPcHRzID0gQ29sbGVjdGlvbkdyb3VwQmdPcHRzIHwgQ29sbGVjdGlvbkdyb3VwSWNvbk9wdHMgfCBDb250ZW50U3JjT3B0cyB8IExhbmRpbmdCaE9wdHMgfCBNZW1vcmlhbFR5cGVPcHRzIHwgTWVtb3JpYWxCZ09wdHMgfCBTdWJqZWN0QmdPcHRzIHwgUGFydG5lckJnT3B0cyB8IFByb3ZpZGVySWNvbk9wdHMgfCBQcm92aWRlclRodW1iT3B0cyB8IFJlZ2ltZW50T3B0cyB8IFRpdGxlQ29sbGVjdGlvbkJnT3B0cyB8IFRpdGxlQ29sbGVjdGlvbkljb25PcHRzIHwgVGl0bGVDb2xsZWN0aW9uVGh1bWJPcHRzIHwgVGl0bGVQYWdlQmdPcHRzIHwgVXNlckljb25PcHRzIHwgUmVmT3B0cztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRodW1ibmFpbChvcHRzOiBUaHVtYm5haWxPcHRzICYgeyBkb21haW46IERvbWFpbiwgZW52aXJvbm1lbnQ6IEZvbGQzRW52aXJvbm1lbnQgfSk6IHN0cmluZyB7XG5cdGNvbnN0IHsgZG9tYWluLCBlbnZpcm9ubWVudCB9ID0gb3B0cztcblxuXHRsZXQgcGF0aCA9IG9wdHMucGF0aDtcblxuXHRpZiAocGF0aCA9PT0gJ3JlZmVyZW5jZScpIHtcblx0XHRjb25zdCB7IGNvbnRlbnRUeXBlLCBvYmplY3RJZCB9ID0gKG9wdHMgYXMgUmVmT3B0cykucmVmO1xuXHRcdHBhdGggKz0gYC8ke2NvbnRlbnRUeXBlfS8ke29iamVjdElkfWA7XG5cdH1cblxuXHRsZXQgZmlsdGVyZWQgPSBmaWx0ZXJVbmRlZmluZWQob3B0cy5xdWVyeSB8fCB7fSk7XG5cdGxldCBxdWVyeVN0ciA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoZmlsdGVyZWQgYXMgT2JqKS50b1N0cmluZygpO1xuXHRpZiAocXVlcnlTdHIpIHBhdGggKz0gYD8ke3F1ZXJ5U3RyfWA7XG5cblx0cmV0dXJuIGAke2dldEltYWdlSG9zdChkb21haW4sIGVudmlyb25tZW50KX0vaW1nLyR7cGF0aH1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVxdWVzdFRodW1ibmFpbChyZXE6IEYzUmVxdWVzdCkge1xuXHRjb25zdCB7IGYzRG9tYWluIH0gPSByZXE7XG5cdHJldHVybiAob3B0czogVGh1bWJuYWlsT3B0cykgPT4ge1xuXHRcdHJldHVybiBnZXRUaHVtYm5haWwoe1xuXHRcdFx0ZG9tYWluOiBmM0RvbWFpbixcblx0XHRcdGVudmlyb25tZW50OiBnZXRTZXJ2ZXJFbnZpcm9ubWVudCgpLFxuXHRcdFx0Li4ub3B0cyxcblx0XHR9KTtcblx0fTtcbn1cblxuLypcbiAqIGV4cG9ydCBjb25zdCBnZXRSZXF1ZXN0Q29udGVudFRodW1ibmFpbFVybCA9IChyZXE6IEYzUmVxdWVzdCwgcmVmOiBJbWFnZU9iamVjdFJlZmVyZW5jZSwgcXVlcnk/OiBUaHVtYm5haWxRdWVyeSkgPT4ge1xuICogXHRjb25zdCB7IGYzRG9tYWluIH0gPSByZXE7XG4gKiBcdHJldHVybiBfZ2V0Q29udGVudFRodW1ibmFpbFVybChmM0RvbWFpbiwgZ2V0U2VydmVyRW52aXJvbm1lbnQoKSwgcmVmLCBxdWVyeSk7XG4gKiB9XG4gKi9cblxuLypcbiAqIGV4cG9ydCBjb25zdCBnZXRSZXF1ZXN0VGh1bWJuYWlsVXJsID0gKHJlcTogRjNSZXF1ZXN0LCBiYXNlOiBzdHJpbmcsIHF1ZXJ5PzogVGh1bWJuYWlsUXVlcnkpID0+IHtcbiAqIFx0Y29uc3QgeyBmM0RvbWFpbiB9ID0gcmVxO1xuICogXHRyZXR1cm4gX2dldERvbWFpblRodW1ibmFpbFVybChmM0RvbWFpbiwgZ2V0U2VydmVyRW52aXJvbm1lbnQoKSwgYmFzZSwgcXVlcnkpO1xuICogfVxuICovXG5cbi8qXG4gKiBleHBvcnQgY29uc3QgX2dldENvbnRlbnRUaHVtYm5haWxVcmwgPSAoZG9tYWluOiBEb21haW4sIGVudjogRm9sZDNFbnZpcm9ubWVudCwgcmVmOiBJbWFnZU9iamVjdFJlZmVyZW5jZSwgcXVlcnk/OiBUaHVtYm5haWxRdWVyeSkgPT4ge1xuICogXHRsZXQgb3JpZ2luID0gZ2V0SW1hZ2VIb3N0KGRvbWFpbiwgZW52KTtcbiAqIFx0cmV0dXJuIF9nZXRUaHVtYm5haWxVcmwoYCR7b3JpZ2lufS9pbWcvcmVmZXJlbmNlLyR7cmVmLmNvbnRlbnRUeXBlfS8ke3JlZi5vYmplY3RJZH1gLCBxdWVyeSk7XG4gKiB9XG4gKi9cblxuLypcbiAqIGV4cG9ydCBjb25zdCBfZ2V0RG9tYWluVGh1bWJuYWlsVXJsID0gKGRvbWFpbjogRG9tYWluLCBlbnY6IEZvbGQzRW52aXJvbm1lbnQsIGJhc2U6IHN0cmluZywgcXVlcnk/OiBUaHVtYm5haWxRdWVyeSkgPT4ge1xuICogXHRsZXQgb3JpZ2luID0gZ2V0SW1hZ2VIb3N0KGRvbWFpbiwgZW52KTtcbiAqIFx0cmV0dXJuIF9nZXRUaHVtYm5haWxVcmwoYCR7b3JpZ2lufS9pbWcke2Jhc2V9YCwgcXVlcnkpO1xuICogfVxuICovXG5cbi8qXG4gKiBleHBvcnQgY29uc3QgZ2V0Q29udGVudFRodW1ibmFpbFVybCA9IChyZWY6IEltYWdlT2JqZWN0UmVmZXJlbmNlLCBxdWVyeT86IFRodW1ibmFpbFF1ZXJ5KSA9PiB7XG4gKiBcdGxldCBiYXNlID0gYHJlZmVyZW5jZS8ke3JlZi5jb250ZW50VHlwZX0vJHtyZWYub2JqZWN0SWR9YCBhcyBUaHVtYm5haWxQYXRoO1xuICogXHRyZXR1cm4gZ2V0VGh1bWJuYWlsVXJsKGJhc2UsIHF1ZXJ5KTtcbiAqIH1cbiAqL1xuXG4vKlxuICogZXhwb3J0IGNvbnN0IGdldFRodW1ibmFpbFVybDogVGh1bWJuYWlsVXJsRm4gPSAoYmFzZSwgcXVlcnkpID0+IHtcbiAqIFx0cmV0dXJuIF9nZXRUaHVtYm5haWxVcmwoYCR7Z2V0SW1hZ2VQYXRoKCl9JHtiYXNlfWAsIHF1ZXJ5KTtcbiAqIH1cbiAqL1xuXG4vKlxuICogY29uc3QgX2dldFRodW1ibmFpbFVybCA9ICh1cmw6IHN0cmluZywgcXVlcnk6IFRodW1ibmFpbFF1ZXJ5ID0ge30pID0+IHtcbiAqIFx0bGV0IGZpbHRlcmVkID0gZmlsdGVyVW5kZWZpbmVkKHF1ZXJ5KTtcbiAqIFx0bGV0IHF1ZXJ5U3RyID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhmaWx0ZXJlZCBhcyBPYmopLnRvU3RyaW5nKCk7XG4gKiBcdHJldHVybiBgJHt1cmx9PyR7cXVlcnlTdHJ9YDtcbiAqIH1cbiAqL1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///677\n')},96846:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTimeInDays: () => (/* binding */ getTimeInDays),\n/* harmony export */   getTimeInMs: () => (/* binding */ getTimeInMs),\n/* harmony export */   getTimeInSeconds: () => (/* binding */ getTimeInSeconds)\n/* harmony export */ });\n/* unused harmony exports Timezones, getTimeInMinutes, getTimeInHours, getTimeInWeeks, getTimeInMonths, getTimeInYears, getDuration, getDurationString */\nvar Timezones;\n(function (Timezones) {\n    Timezones[\"CST\"] = \"CST\";\n    Timezones[\"EST\"] = \"EST\";\n    Timezones[\"MST\"] = \"MST\";\n    Timezones[\"PST\"] = \"PST\";\n    Timezones[\"ACST\"] = \"ACST\";\n    Timezones[\"AEST\"] = \"AEST\";\n    Timezones[\"NZST\"] = \"NZST\";\n    Timezones[\"GMT\"] = \"GMT\";\n})(Timezones || (Timezones = {}));\n/* These are all in terms of milliseconds */\nvar ONE_SECOND = 1000;\nvar ONE_MINUTE = ONE_SECOND * 60;\nvar ONE_HOUR = ONE_MINUTE * 60;\nvar ONE_DAY = ONE_HOUR * 24;\nvar ONE_WEEK = ONE_DAY * 7;\nvar ONE_MONTH = ONE_DAY * 30.5; // approx\nvar ONE_YEAR = ONE_DAY * 365;\nvar unitToCount = {\n    ms: 1000,\n    sec: ONE_SECOND,\n    min: ONE_MINUTE,\n    hr: ONE_HOUR,\n    day: ONE_DAY,\n    wk: ONE_WEEK,\n    mo: ONE_MONTH,\n    yr: ONE_YEAR,\n};\nvar getTimeInMs = function (amount, unit) {\n    switch (unit) {\n        case 'yr': return ONE_YEAR * amount;\n        case 'mo': return ONE_MONTH * amount;\n        case 'wk': return ONE_WEEK * amount;\n        case 'day': return ONE_DAY * amount;\n        case 'hr': return ONE_HOUR * amount;\n        case 'min': return ONE_MINUTE * amount;\n        case 'sec': return ONE_SECOND * amount;\n        case 'ms': return amount;\n    }\n};\nvar getTimeInSeconds = makeTimeFn('sec');\nvar getTimeInMinutes = makeTimeFn('min');\nvar getTimeInHours = makeTimeFn('hr');\nvar getTimeInDays = makeTimeFn('day');\nvar getTimeInWeeks = makeTimeFn('wk');\nvar getTimeInMonths = makeTimeFn('mo');\nvar getTimeInYears = makeTimeFn('yr');\nvar UNIT_FNS = {\n    'ms': getTimeInMs,\n    'sec': getTimeInSeconds,\n    'min': getTimeInMinutes,\n    'hr': getTimeInHours,\n    'day': getTimeInDays,\n    'wk': getTimeInWeeks,\n    'mo': getTimeInMonths,\n    'yr': getTimeInYears,\n};\nfunction makeTimeFn(baseUnit) {\n    if (baseUnit === 'ms')\n        return getTimeInMs;\n    var divisor = unitToCount[baseUnit];\n    return function (amount, unit) {\n        return getTimeInMs(amount, unit) / divisor;\n    };\n}\nfunction getDuration(beginning, ending, unit) {\n    var difference = new Date(ending).getTime() - new Date(beginning).getTime();\n    return UNIT_FNS[unit](difference, 'ms');\n}\nfunction getDurationString(beginning, ending, precision) {\n    if (precision === void 0) { precision = 2; }\n    var duration = getDuration(beginning, ending, 'ms');\n    var unit;\n    if (duration < ONE_SECOND)\n        unit = 'ms';\n    else if (duration < ONE_MINUTE)\n        unit = 'sec';\n    else if (duration < ONE_HOUR)\n        unit = 'min';\n    else if (duration < ONE_DAY)\n        unit = 'hr';\n    else if (duration < ONE_WEEK)\n        unit = 'day';\n    else if (duration < ONE_MONTH)\n        unit = 'wk';\n    else if (duration < ONE_YEAR)\n        unit = 'mo';\n    else\n        unit = 'yr';\n    var formattedAmount = UNIT_FNS[unit](duration, 'ms')\n        .toFixed(precision)\n        .replace(/0+$/, '')\n        .replace(/\\.$/, '');\n    return \"\".concat(formattedAmount, \" \").concat(unit);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTY4NDYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL3RpbWUudHM/MDM3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYmogfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuXG5leHBvcnQgZW51bSBUaW1lem9uZXMge1xuXHRDU1QgPSAnQ1NUJyxcblx0RVNUID0gJ0VTVCcsXG5cdE1TVCA9ICdNU1QnLFxuXHRQU1QgPSAnUFNUJyxcblx0QUNTVCA9ICdBQ1NUJyxcblx0QUVTVCA9ICdBRVNUJyxcblx0TlpTVCA9ICdOWlNUJyxcblx0R01UID0gJ0dNVCdcbn1cblxudHlwZSBUaW1lVW5pdCA9ICdtcycgfCAnc2VjJyB8ICdtaW4nIHwgJ2hyJyB8ICdkYXknIHwgJ3drJyB8ICdtbycgfCAneXInO1xuaW50ZXJmYWNlIFRpbWVGdW5jdGlvbiB7XG5cdChhbW91bnQ6IG51bWJlciwgdW5pdDogVGltZVVuaXQpOiBudW1iZXJcbn1cblxuLyogVGhlc2UgYXJlIGFsbCBpbiB0ZXJtcyBvZiBtaWxsaXNlY29uZHMgKi9cbmNvbnN0IE9ORV9TRUNPTkQgPSAxMDAwO1xuY29uc3QgT05FX01JTlVURSA9IE9ORV9TRUNPTkQgKiA2MDtcbmNvbnN0IE9ORV9IT1VSID0gT05FX01JTlVURSAqIDYwO1xuY29uc3QgT05FX0RBWSA9IE9ORV9IT1VSICogMjQ7XG5jb25zdCBPTkVfV0VFSyA9IE9ORV9EQVkgKiA3O1xuY29uc3QgT05FX01PTlRIID0gT05FX0RBWSAqIDMwLjU7IC8vIGFwcHJveFxuY29uc3QgT05FX1lFQVIgPSBPTkVfREFZICogMzY1O1xuXG5jb25zdCB1bml0VG9Db3VudDogT2JqPFRpbWVVbml0LCBudW1iZXI+ID0ge1xuXHRtczogMTAwMCxcblx0c2VjOiBPTkVfU0VDT05ELFxuXHRtaW46IE9ORV9NSU5VVEUsXG5cdGhyOiBPTkVfSE9VUixcblx0ZGF5OiBPTkVfREFZLFxuXHR3azogT05FX1dFRUssXG5cdG1vOiBPTkVfTU9OVEgsXG5cdHlyOiBPTkVfWUVBUixcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRUaW1lSW5NczogVGltZUZ1bmN0aW9uID0gKGFtb3VudDogbnVtYmVyLCB1bml0OiBUaW1lVW5pdCkgPT4ge1xuXHRzd2l0Y2ggKHVuaXQpIHtcblx0XHRjYXNlICd5cic6IHJldHVybiBPTkVfWUVBUiAqIGFtb3VudDtcblx0XHRjYXNlICdtbyc6IHJldHVybiBPTkVfTU9OVEggKiBhbW91bnQ7XG5cdFx0Y2FzZSAnd2snOiByZXR1cm4gT05FX1dFRUsgKiBhbW91bnQ7XG5cdFx0Y2FzZSAnZGF5JzogcmV0dXJuIE9ORV9EQVkgKiBhbW91bnQ7XG5cdFx0Y2FzZSAnaHInOiByZXR1cm4gT05FX0hPVVIgKiBhbW91bnQ7XG5cdFx0Y2FzZSAnbWluJzogcmV0dXJuIE9ORV9NSU5VVEUgKiBhbW91bnQ7XG5cdFx0Y2FzZSAnc2VjJzogcmV0dXJuIE9ORV9TRUNPTkQgKiBhbW91bnQ7XG5cdFx0Y2FzZSAnbXMnOiByZXR1cm4gYW1vdW50O1xuXHR9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VGltZUluU2Vjb25kcyA9IG1ha2VUaW1lRm4oJ3NlYycpO1xuZXhwb3J0IGNvbnN0IGdldFRpbWVJbk1pbnV0ZXMgPSBtYWtlVGltZUZuKCdtaW4nKTtcbmV4cG9ydCBjb25zdCBnZXRUaW1lSW5Ib3VycyA9IG1ha2VUaW1lRm4oJ2hyJyk7XG5leHBvcnQgY29uc3QgZ2V0VGltZUluRGF5cyA9IG1ha2VUaW1lRm4oJ2RheScpO1xuZXhwb3J0IGNvbnN0IGdldFRpbWVJbldlZWtzID0gbWFrZVRpbWVGbignd2snKTtcbmV4cG9ydCBjb25zdCBnZXRUaW1lSW5Nb250aHMgPSBtYWtlVGltZUZuKCdtbycpO1xuZXhwb3J0IGNvbnN0IGdldFRpbWVJblllYXJzID0gbWFrZVRpbWVGbigneXInKTtcblxuY29uc3QgVU5JVF9GTlM6IE9iajxUaW1lVW5pdCwgVGltZUZ1bmN0aW9uPiA9IHtcblx0J21zJzogZ2V0VGltZUluTXMsXG5cdCdzZWMnOiBnZXRUaW1lSW5TZWNvbmRzLFxuXHQnbWluJzogZ2V0VGltZUluTWludXRlcyxcblx0J2hyJzogZ2V0VGltZUluSG91cnMsXG5cdCdkYXknOiBnZXRUaW1lSW5EYXlzLFxuXHQnd2snOiBnZXRUaW1lSW5XZWVrcyxcblx0J21vJzogZ2V0VGltZUluTW9udGhzLFxuXHQneXInOiBnZXRUaW1lSW5ZZWFycyxcbn07XG5cbmZ1bmN0aW9uIG1ha2VUaW1lRm4oYmFzZVVuaXQ6IFRpbWVVbml0KTogVGltZUZ1bmN0aW9uIHtcblx0aWYgKGJhc2VVbml0ID09PSAnbXMnKSByZXR1cm4gZ2V0VGltZUluTXM7XG5cblx0bGV0IGRpdmlzb3IgPSB1bml0VG9Db3VudFtiYXNlVW5pdF07XG5cblx0cmV0dXJuIGZ1bmN0aW9uKGFtb3VudDogbnVtYmVyLCB1bml0OiBUaW1lVW5pdCkge1xuXHRcdHJldHVybiBnZXRUaW1lSW5NcyhhbW91bnQsIHVuaXQpIC8gZGl2aXNvcjtcblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldER1cmF0aW9uKGJlZ2lubmluZzogbnVtYmVyIHwgc3RyaW5nIHwgRGF0ZSwgZW5kaW5nOiBudW1iZXIgfCBzdHJpbmcgfCBEYXRlLCB1bml0OiBUaW1lVW5pdCkge1xuXHRsZXQgZGlmZmVyZW5jZSA9IG5ldyBEYXRlKGVuZGluZykuZ2V0VGltZSgpIC0gbmV3IERhdGUoYmVnaW5uaW5nKS5nZXRUaW1lKCk7XG5cdHJldHVybiBVTklUX0ZOU1t1bml0XShkaWZmZXJlbmNlLCAnbXMnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldER1cmF0aW9uU3RyaW5nKGJlZ2lubmluZzogbnVtYmVyIHwgc3RyaW5nIHwgRGF0ZSwgZW5kaW5nOiBudW1iZXIgfCBzdHJpbmcgfCBEYXRlLCBwcmVjaXNpb246IG51bWJlciA9IDIpIHtcblx0bGV0IGR1cmF0aW9uID0gZ2V0RHVyYXRpb24oYmVnaW5uaW5nLCBlbmRpbmcsICdtcycpO1xuXHRsZXQgdW5pdDogVGltZVVuaXQ7XG5cblx0aWYgKGR1cmF0aW9uIDwgT05FX1NFQ09ORCkgdW5pdCA9ICdtcyc7XG5cdGVsc2UgaWYgKGR1cmF0aW9uIDwgT05FX01JTlVURSkgdW5pdCA9ICdzZWMnO1xuXHRlbHNlIGlmIChkdXJhdGlvbiA8IE9ORV9IT1VSKSB1bml0ID0gJ21pbic7XG5cdGVsc2UgaWYgKGR1cmF0aW9uIDwgT05FX0RBWSkgdW5pdCA9ICdocic7XG5cdGVsc2UgaWYgKGR1cmF0aW9uIDwgT05FX1dFRUspIHVuaXQgPSAnZGF5Jztcblx0ZWxzZSBpZiAoZHVyYXRpb24gPCBPTkVfTU9OVEgpIHVuaXQgPSAnd2snO1xuXHRlbHNlIGlmIChkdXJhdGlvbiA8IE9ORV9ZRUFSKSB1bml0ID0gJ21vJztcblx0ZWxzZSB1bml0ID0gJ3lyJztcblxuXHRsZXQgZm9ybWF0dGVkQW1vdW50ID0gVU5JVF9GTlNbdW5pdF0oZHVyYXRpb24sICdtcycpXG5cdFx0LnRvRml4ZWQocHJlY2lzaW9uKVxuXHRcdC5yZXBsYWNlKC8wKyQvLCAnJylcblx0XHQucmVwbGFjZSgvXFwuJC8sICcnKTtcblxuXHRyZXR1cm4gYCR7Zm9ybWF0dGVkQW1vdW50fSAke3VuaXR9YDtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///96846\n")},13999:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BZ: () => (/* binding */ TAB_REPLACEMENT_CHARACTER),\n/* harmony export */   KD: () => (/* binding */ createDefaultBrowseColumnState),\n/* harmony export */   TO: () => (/* binding */ getDefaultBrowseColumns),\n/* harmony export */   Vp: () => (/* binding */ NULL_CHARACTER),\n/* harmony export */   YG: () => (/* binding */ generateWrappedContentBrowseColumns),\n/* harmony export */   cC: () => (/* binding */ TAB_CHARACTER),\n/* harmony export */   gt: () => (/* binding */ createBrowseColumnQuery),\n/* harmony export */   ih: () => (/* binding */ getBrowseFacetLabel)\n/* harmony export */ });\n/* unused harmony exports browseColumnStatesToString, stringToBrowseColumnStates, searchToBrowseColumns, addBrowseColumnsToSearch */\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70655);\n/* harmony import */ var _apis_filmstripApi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(32945);\n/* harmony import */ var _lib_content_contentMetadata__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(93705);\n/* harmony import */ var _lib_ext_Rison__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(66682);\n/* harmony import */ var _lib_f3_query_F3Query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(93150);\n/* harmony import */ var _search_facetTypes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(88503);\n\n\n\n\n\n\n\nvar NULL_CHARACTER = '';\nvar TAB_CHARACTER = '\\t';\nvar TAB_REPLACEMENT_CHARACTER = '_TAB_';\nvar POUND_CHARACTER = '#';\nvar POUND_REPLACEMENT_CHARACTER = '_POUND_';\nvar DEFAULT_BROWSE_COLUMN_STATE = {\n    facetType: undefined,\n    filterType: 'TERM',\n    filterVal: '',\n    selectedValue: null,\n    selectedLabel: '',\n    sortOrder: 'ALPHABETICAL',\n};\nvar rison = new _lib_ext_Rison__WEBPACK_IMPORTED_MODULE_0__/* .Rison */ .v({\n    notIdChar: _lib_ext_Rison__WEBPACK_IMPORTED_MODULE_0__/* .RISON_DEFAULTS */ .L.NOT_ID_CHAR.replace(' ', '') + '\\t',\n    whitespace: ' \\t',\n});\nfunction generateWrappedContentBrowseColumns(content, publication) {\n    return (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__awaiter */ .mG)(this, void 0, void 0, function () {\n        var breadcrumbs, browseColumns, lastFacetIndex, nextFacetType;\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__generator */ .Jh)(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, new _apis_filmstripApi__WEBPACK_IMPORTED_MODULE_3__/* .FilmstripApi */ .g().getBreadcrumbs((0,_lib_content_contentMetadata__WEBPACK_IMPORTED_MODULE_4__/* .getWrappedContentRef */ .aK)(content))];\n                case 1:\n                    breadcrumbs = _a.sent();\n                    browseColumns = [\n                        createDefaultBrowseColumnState({\n                            facetType: 'general.title.id',\n                            selectedValue: String(publication.publicationId),\n                            selectedLabel: publication.shortTitle || publication.title,\n                        }),\n                    ];\n                    breadcrumbs.forEach(function (crumb, i) {\n                        var index = i + 1;\n                        var facetType = _search_facetTypes__WEBPACK_IMPORTED_MODULE_5__/* .BROWSE_FACET_TYPES */ .wh[index]; // +1 because breadcrumbs don't have general.title.id\n                        if (i === breadcrumbs.length - 1) {\n                            lastFacetIndex = index;\n                        }\n                        browseColumns.push(createDefaultBrowseColumnState({\n                            facetType: facetType,\n                            filterType: 'PREFIX',\n                            filterVal: crumb.label === NULL_CHARACTER ? '' : crumb.label,\n                            selectedValue: crumb.value,\n                            sortOrder: 'ALPHABETICAL',\n                            selectedLabel: crumb.label,\n                        }));\n                    });\n                    nextFacetType = _search_facetTypes__WEBPACK_IMPORTED_MODULE_5__/* .BROWSE_FACET_TYPES */ .wh[lastFacetIndex + 1];\n                    if (nextFacetType) {\n                        browseColumns.push(createDefaultBrowseColumnState({ facetType: nextFacetType }));\n                    }\n                    return [2 /*return*/, browseColumns];\n            }\n        });\n    });\n}\nfunction createBrowseColumnQuery(searchQuery, columnFacetType, browseStates) {\n    var f3Query = searchQuery.copy();\n    var columnIndex = _search_facetTypes__WEBPACK_IMPORTED_MODULE_5__/* .BROWSE_FACET_TYPES */ .wh.indexOf(columnFacetType);\n    /* This slice will include every previous column in addition to the desired facetType */\n    browseStates\n        .slice(0, columnIndex + 1)\n        .forEach(function (columnState) {\n        var facetType = columnState.facetType, filterType = columnState.filterType, filterVal = columnState.filterVal, selectedValue = columnState.selectedValue, selectedLabel = columnState.selectedLabel;\n        if (facetType === columnFacetType) {\n            if (filterVal) {\n                switch (filterType) {\n                    case 'PREFIX':\n                        f3Query.Filters.addItem({ type: facetType, filterType: filterType, values: [{ value: filterVal }] });\n                        break;\n                    case 'TERM':\n                        f3Query.FieldedKeywords.addItem({ type: facetType, texts: [filterVal] });\n                        break;\n                }\n            }\n        }\n        else {\n            if (selectedValue) {\n                f3Query.Filters.addItem({ type: facetType, filterType: 'TERM', values: [{ value: selectedValue, label: selectedLabel }] });\n            }\n        }\n    });\n    return f3Query;\n}\nfunction browseColumnStatesToString(browseStates) {\n    var mappedStates = browseStates\n        .map(function (state) {\n        return filterDefaultValues(DEFAULT_BROWSE_COLUMN_STATE, state);\n    });\n    if (mappedStates.length === 0)\n        return '';\n    var encoded = rison.encode(mappedStates);\n    return encoded\n        .replaceAll(TAB_CHARACTER, TAB_REPLACEMENT_CHARACTER)\n        .replaceAll(POUND_CHARACTER, POUND_REPLACEMENT_CHARACTER);\n}\nfunction stringToBrowseColumnStates(param) {\n    if (!param)\n        return getDefaultBrowseColumns();\n    param = param.replaceAll(TAB_REPLACEMENT_CHARACTER, TAB_CHARACTER);\n    param = param.replaceAll(POUND_REPLACEMENT_CHARACTER, POUND_CHARACTER);\n    var decoded = rison.decode(param);\n    var browseStates = decoded.map(function (partialState) { return createDefaultBrowseColumnState(partialState); });\n    return browseStates;\n}\nfunction getDefaultBrowseColumns() {\n    return [createDefaultBrowseColumnState({ facetType: 'general.title.id' })];\n}\nfunction createDefaultBrowseColumnState(state) {\n    if (state === void 0) { state = {}; }\n    return (0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)((0,tslib__WEBPACK_IMPORTED_MODULE_2__/* .__assign */ .pi)({}, DEFAULT_BROWSE_COLUMN_STATE), state);\n}\n/* This will remove all browse things from search and add them to columns */\nfunction searchToBrowseColumns(f3Query) {\n    var _a;\n    var appliedFacets = BROWSE_FACET_TYPES\n        .map(function (facetType) {\n        return f3Query.Filters.find({ type: facetType });\n    })\n        .filter(function (x) { return !!x; });\n    var browseColumns = appliedFacets.map(function (facet) {\n        var values = facet.values, type = facet.type;\n        var columnState = {\n            facetType: type,\n            selectedValue: values[0].value,\n            selectedLabel: values[0].label,\n        };\n        if (type !== 'general.title.id') {\n            columnState.filterType = 'PREFIX';\n            columnState.filterVal = values[0].label;\n        }\n        return createDefaultBrowseColumnState(columnState);\n    });\n    var lastFacetTypeIndex = BROWSE_FACET_TYPES.indexOf((_a = browseColumns.at(-1)) === null || _a === void 0 ? void 0 : _a.facetType);\n    var nextFacetType = BROWSE_FACET_TYPES[lastFacetTypeIndex + 1];\n    browseColumns.push(createDefaultBrowseColumnState({ facetType: nextFacetType }));\n    f3Query.filterFacetTypes(BROWSE_FACET_TYPES);\n    return browseColumns;\n}\n/* This will remove all browse things from columns and add them to search */\nfunction addBrowseColumnsToSearch(f3Query, browseColumns) {\n    browseColumns\n        .filter(function (col) { return !!col.selectedValue; })\n        .forEach(function (_a, i, arr) {\n        var facetType = _a.facetType, selectedValue = _a.selectedValue, selectedLabel = _a.selectedLabel;\n        f3Query.Filters.addItem({\n            type: facetType,\n            values: [{ value: selectedValue, label: selectedLabel }],\n        }, i === arr.length - 1);\n    });\n}\nfunction getBrowseFacetLabel(label, columnLabel) {\n    switch (label) {\n        case NULL_CHARACTER:\n            return '[Other]';\n        case _lib_f3_query_F3Query__WEBPACK_IMPORTED_MODULE_1__/* .NO_FILTER_VALUE */ .$g:\n            return 'ALL';\n        default:\n            return label;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM5OTkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUNBOztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9wYWdlcy9icm93c2UvYnJvd3NlSGVscGVycy50cz81M2MxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZpbG1zdHJpcEFwaSB9IGZyb20gJy4uLy4uL2FwaXMvZmlsbXN0cmlwQXBpJztcbmltcG9ydCB7IENvbXBhY3RQdWJsaWNhdGlvbiB9IGZyb20gJy4uLy4uL2FwaXMvcHVibGljYXRpb25BcGknO1xuaW1wb3J0IHsgV3JhcHBlZENvbnRlbnREb2N1bWVudCB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IGdldFdyYXBwZWRDb250ZW50UmVmIH0gZnJvbSAnLi4vLi4vbGliL2NvbnRlbnQvY29udGVudE1ldGFkYXRhJztcbmltcG9ydCB7IFJpc29uLCBSSVNPTl9ERUZBVUxUUyB9IGZyb20gJy4uLy4uL2xpYi9leHQvUmlzb24nO1xuaW1wb3J0IHsgRjNRdWVyeSwgTk9fRklMVEVSX1ZBTFVFIH0gZnJvbSAnLi4vLi4vbGliL2YzLXF1ZXJ5L0YzUXVlcnknO1xuaW1wb3J0IHsgZmlsdGVyRGVmYXVsdFZhbHVlcyB9IGZyb20gJy4uLy4uL2xpYi9PYmplY3RVdGlscyc7XG5pbXBvcnQgeyBCUk9XU0VfRkFDRVRfVFlQRVMsIEJyb3dzZUNvbHVtbkZhY2V0VHlwZSB9IGZyb20gJy4uL3NlYXJjaC9mYWNldFR5cGVzJztcbmltcG9ydCB7IEJyb3dzZUNvbHVtblN0YXRlIH0gZnJvbSAnLi9Ccm93c2VDb2x1bW5zJztcblxuZXhwb3J0IGNvbnN0IE5VTExfQ0hBUkFDVEVSID0gJ+KQgCc7XG5leHBvcnQgY29uc3QgVEFCX0NIQVJBQ1RFUiA9ICdcXHQnO1xuZXhwb3J0IGNvbnN0IFRBQl9SRVBMQUNFTUVOVF9DSEFSQUNURVIgPSAnX1RBQl8nO1xuY29uc3QgUE9VTkRfQ0hBUkFDVEVSID0gJyMnO1xuY29uc3QgUE9VTkRfUkVQTEFDRU1FTlRfQ0hBUkFDVEVSID0gJ19QT1VORF8nO1xuXG5jb25zdCBERUZBVUxUX0JST1dTRV9DT0xVTU5fU1RBVEU6IEJyb3dzZUNvbHVtblN0YXRlID0ge1xuXHRmYWNldFR5cGU6IHVuZGVmaW5lZCxcblx0ZmlsdGVyVHlwZTogJ1RFUk0nLFxuXHRmaWx0ZXJWYWw6ICcnLFxuXHRzZWxlY3RlZFZhbHVlOiBudWxsLFxuXHRzZWxlY3RlZExhYmVsOiAnJyxcblx0c29ydE9yZGVyOiAnQUxQSEFCRVRJQ0FMJyxcbn07XG5cbmNvbnN0IHJpc29uID0gbmV3IFJpc29uKHtcblx0bm90SWRDaGFyOiBSSVNPTl9ERUZBVUxUUy5OT1RfSURfQ0hBUi5yZXBsYWNlKCcgJywgJycpICsgJ1xcdCcsXG5cdHdoaXRlc3BhY2U6ICcgXFx0Jyxcbn0pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVXcmFwcGVkQ29udGVudEJyb3dzZUNvbHVtbnMoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCwgcHVibGljYXRpb246IENvbXBhY3RQdWJsaWNhdGlvbikge1xuXHRsZXQgYnJlYWRjcnVtYnMgPSBhd2FpdCBuZXcgRmlsbXN0cmlwQXBpKCkuZ2V0QnJlYWRjcnVtYnMoZ2V0V3JhcHBlZENvbnRlbnRSZWYoY29udGVudCkpO1xuXG5cdGNvbnN0IGJyb3dzZUNvbHVtbnM6IEJyb3dzZUNvbHVtblN0YXRlW10gPSBbXG5cdFx0Y3JlYXRlRGVmYXVsdEJyb3dzZUNvbHVtblN0YXRlKHtcblx0XHRcdGZhY2V0VHlwZTogJ2dlbmVyYWwudGl0bGUuaWQnLFxuXHRcdFx0c2VsZWN0ZWRWYWx1ZTogU3RyaW5nKHB1YmxpY2F0aW9uLnB1YmxpY2F0aW9uSWQpLFxuXHRcdFx0c2VsZWN0ZWRMYWJlbDogcHVibGljYXRpb24uc2hvcnRUaXRsZSB8fCBwdWJsaWNhdGlvbi50aXRsZSxcblx0XHR9KSxcblx0XTtcblxuXHRsZXQgbGFzdEZhY2V0SW5kZXg6IG51bWJlcjtcblxuXHRicmVhZGNydW1icy5mb3JFYWNoKChjcnVtYiwgaSkgPT4ge1xuXHRcdGxldCBpbmRleCA9IGkgKyAxO1xuXHRcdGxldCBmYWNldFR5cGUgPSBCUk9XU0VfRkFDRVRfVFlQRVNbaW5kZXhdOyAvLyArMSBiZWNhdXNlIGJyZWFkY3J1bWJzIGRvbid0IGhhdmUgZ2VuZXJhbC50aXRsZS5pZFxuXHRcdGlmIChpID09PSBicmVhZGNydW1icy5sZW5ndGggLSAxKSB7XG5cdFx0XHRsYXN0RmFjZXRJbmRleCA9IGluZGV4O1xuXHRcdH1cblxuXHRcdGJyb3dzZUNvbHVtbnMucHVzaChjcmVhdGVEZWZhdWx0QnJvd3NlQ29sdW1uU3RhdGUoe1xuXHRcdFx0ZmFjZXRUeXBlLFxuXHRcdFx0ZmlsdGVyVHlwZTogJ1BSRUZJWCcsXG5cdFx0XHRmaWx0ZXJWYWw6IGNydW1iLmxhYmVsID09PSBOVUxMX0NIQVJBQ1RFUiA/ICcnIDogY3J1bWIubGFiZWwsXG5cdFx0XHRzZWxlY3RlZFZhbHVlOiBjcnVtYi52YWx1ZSxcblx0XHRcdHNvcnRPcmRlcjogJ0FMUEhBQkVUSUNBTCcsXG5cdFx0XHRzZWxlY3RlZExhYmVsOiBjcnVtYi5sYWJlbCxcblx0XHR9KSk7XG5cdH0pO1xuXG5cdGNvbnN0IG5leHRGYWNldFR5cGUgPSBCUk9XU0VfRkFDRVRfVFlQRVNbbGFzdEZhY2V0SW5kZXggKyAxXTtcblx0aWYgKG5leHRGYWNldFR5cGUpIHtcblx0XHRicm93c2VDb2x1bW5zLnB1c2goY3JlYXRlRGVmYXVsdEJyb3dzZUNvbHVtblN0YXRlKHsgZmFjZXRUeXBlOiBuZXh0RmFjZXRUeXBlIH0pKTtcblx0fVxuXG5cdHJldHVybiBicm93c2VDb2x1bW5zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQnJvd3NlQ29sdW1uUXVlcnkoc2VhcmNoUXVlcnk6IEYzUXVlcnksIGNvbHVtbkZhY2V0VHlwZTogQnJvd3NlQ29sdW1uRmFjZXRUeXBlLCBicm93c2VTdGF0ZXM6IEJyb3dzZUNvbHVtblN0YXRlW10pIHtcblx0bGV0IGYzUXVlcnkgPSBzZWFyY2hRdWVyeS5jb3B5KCk7XG5cblx0bGV0IGNvbHVtbkluZGV4ID0gQlJPV1NFX0ZBQ0VUX1RZUEVTLmluZGV4T2YoY29sdW1uRmFjZXRUeXBlKTtcblxuXHQvKiBUaGlzIHNsaWNlIHdpbGwgaW5jbHVkZSBldmVyeSBwcmV2aW91cyBjb2x1bW4gaW4gYWRkaXRpb24gdG8gdGhlIGRlc2lyZWQgZmFjZXRUeXBlICovXG5cdGJyb3dzZVN0YXRlc1xuXHRcdC5zbGljZSgwLCBjb2x1bW5JbmRleCArIDEpXG5cdFx0LmZvckVhY2goY29sdW1uU3RhdGUgPT4ge1xuXHRcdFx0Y29uc3QgeyBmYWNldFR5cGUsIGZpbHRlclR5cGUsIGZpbHRlclZhbCwgc2VsZWN0ZWRWYWx1ZSwgc2VsZWN0ZWRMYWJlbCB9ID0gY29sdW1uU3RhdGU7XG5cblx0XHRcdGlmIChmYWNldFR5cGUgPT09IGNvbHVtbkZhY2V0VHlwZSkge1xuXHRcdFx0XHRpZiAoZmlsdGVyVmFsKSB7XG5cdFx0XHRcdFx0c3dpdGNoIChmaWx0ZXJUeXBlKSB7XG5cdFx0XHRcdFx0XHRjYXNlICdQUkVGSVgnOlxuXHRcdFx0XHRcdFx0XHRmM1F1ZXJ5LkZpbHRlcnMuYWRkSXRlbSh7IHR5cGU6IGZhY2V0VHlwZSwgZmlsdGVyVHlwZSwgdmFsdWVzOiBbeyB2YWx1ZTogZmlsdGVyVmFsIH1dIH0pO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgJ1RFUk0nOlxuXHRcdFx0XHRcdFx0XHRmM1F1ZXJ5LkZpZWxkZWRLZXl3b3Jkcy5hZGRJdGVtKHsgdHlwZTogZmFjZXRUeXBlLCB0ZXh0czogW2ZpbHRlclZhbF0gfSk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHNlbGVjdGVkVmFsdWUpIHtcblx0XHRcdFx0XHRmM1F1ZXJ5LkZpbHRlcnMuYWRkSXRlbSh7IHR5cGU6IGZhY2V0VHlwZSwgZmlsdGVyVHlwZTogJ1RFUk0nLCB2YWx1ZXM6IFt7IHZhbHVlOiBzZWxlY3RlZFZhbHVlLCBsYWJlbDogc2VsZWN0ZWRMYWJlbCB9XSB9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdHJldHVybiBmM1F1ZXJ5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnJvd3NlQ29sdW1uU3RhdGVzVG9TdHJpbmcoYnJvd3NlU3RhdGVzOiBCcm93c2VDb2x1bW5TdGF0ZVtdKTogc3RyaW5nIHtcblx0bGV0IG1hcHBlZFN0YXRlcyA9IGJyb3dzZVN0YXRlc1xuXHRcdC5tYXAoc3RhdGUgPT4ge1xuXHRcdFx0cmV0dXJuIGZpbHRlckRlZmF1bHRWYWx1ZXMoREVGQVVMVF9CUk9XU0VfQ09MVU1OX1NUQVRFLCBzdGF0ZSk7XG5cdFx0fSk7XG5cblx0aWYgKG1hcHBlZFN0YXRlcy5sZW5ndGggPT09IDApIHJldHVybiAnJztcblxuXHRsZXQgZW5jb2RlZCA9IHJpc29uLmVuY29kZShtYXBwZWRTdGF0ZXMpO1xuXG5cdHJldHVybiBlbmNvZGVkXG5cdFx0LnJlcGxhY2VBbGwoVEFCX0NIQVJBQ1RFUiwgVEFCX1JFUExBQ0VNRU5UX0NIQVJBQ1RFUilcblx0XHQucmVwbGFjZUFsbChQT1VORF9DSEFSQUNURVIsIFBPVU5EX1JFUExBQ0VNRU5UX0NIQVJBQ1RFUik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdUb0Jyb3dzZUNvbHVtblN0YXRlcyhwYXJhbTogc3RyaW5nKTogQnJvd3NlQ29sdW1uU3RhdGVbXSB7XG5cdGlmICghcGFyYW0pIHJldHVybiBnZXREZWZhdWx0QnJvd3NlQ29sdW1ucygpO1xuXG5cdHBhcmFtID0gcGFyYW0ucmVwbGFjZUFsbChUQUJfUkVQTEFDRU1FTlRfQ0hBUkFDVEVSLCBUQUJfQ0hBUkFDVEVSKTtcblx0cGFyYW0gPSBwYXJhbS5yZXBsYWNlQWxsKFBPVU5EX1JFUExBQ0VNRU5UX0NIQVJBQ1RFUiwgUE9VTkRfQ0hBUkFDVEVSKTtcblxuXHRsZXQgZGVjb2RlZDogUGFydGlhbDxCcm93c2VDb2x1bW5TdGF0ZT5bXSA9IHJpc29uLmRlY29kZShwYXJhbSk7XG5cdGxldCBicm93c2VTdGF0ZXM6IEJyb3dzZUNvbHVtblN0YXRlW10gPSBkZWNvZGVkLm1hcChwYXJ0aWFsU3RhdGUgPT4gY3JlYXRlRGVmYXVsdEJyb3dzZUNvbHVtblN0YXRlKHBhcnRpYWxTdGF0ZSkpO1xuXG5cdHJldHVybiBicm93c2VTdGF0ZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0QnJvd3NlQ29sdW1ucygpIHtcblx0cmV0dXJuIFtjcmVhdGVEZWZhdWx0QnJvd3NlQ29sdW1uU3RhdGUoeyBmYWNldFR5cGU6ICdnZW5lcmFsLnRpdGxlLmlkJyB9KV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0QnJvd3NlQ29sdW1uU3RhdGUoc3RhdGU6IFBhcnRpYWw8QnJvd3NlQ29sdW1uU3RhdGU+ID0ge30pIHtcblx0cmV0dXJuIHsgLi4uREVGQVVMVF9CUk9XU0VfQ09MVU1OX1NUQVRFLCAuLi5zdGF0ZSB9O1xufVxuXG4vKiBUaGlzIHdpbGwgcmVtb3ZlIGFsbCBicm93c2UgdGhpbmdzIGZyb20gc2VhcmNoIGFuZCBhZGQgdGhlbSB0byBjb2x1bW5zICovXG5leHBvcnQgZnVuY3Rpb24gc2VhcmNoVG9Ccm93c2VDb2x1bW5zKGYzUXVlcnk6IEYzUXVlcnkpOiBCcm93c2VDb2x1bW5TdGF0ZVtdIHtcblx0bGV0IGFwcGxpZWRGYWNldHMgPSBCUk9XU0VfRkFDRVRfVFlQRVNcblx0XHQubWFwKGZhY2V0VHlwZSA9PiB7XG5cdFx0XHRyZXR1cm4gZjNRdWVyeS5GaWx0ZXJzLmZpbmQoeyB0eXBlOiBmYWNldFR5cGUgfSk7XG5cdFx0fSlcblx0XHQuZmlsdGVyKHggPT4gISF4KTtcblxuXHRsZXQgYnJvd3NlQ29sdW1uczogQnJvd3NlQ29sdW1uU3RhdGVbXSA9IGFwcGxpZWRGYWNldHMubWFwKGZhY2V0ID0+IHtcblx0XHRjb25zdCB7IHZhbHVlcywgdHlwZSB9ID0gZmFjZXQ7XG5cblx0XHRsZXQgY29sdW1uU3RhdGU6IEJyb3dzZUNvbHVtblN0YXRlID0ge1xuXHRcdFx0ZmFjZXRUeXBlOiB0eXBlIGFzIEJyb3dzZUNvbHVtbkZhY2V0VHlwZSxcblx0XHRcdHNlbGVjdGVkVmFsdWU6IHZhbHVlc1swXS52YWx1ZSBhcyBzdHJpbmcsXG5cdFx0XHRzZWxlY3RlZExhYmVsOiB2YWx1ZXNbMF0ubGFiZWwsXG5cdFx0fTtcblxuXHRcdGlmICh0eXBlICE9PSAnZ2VuZXJhbC50aXRsZS5pZCcpIHtcblx0XHRcdGNvbHVtblN0YXRlLmZpbHRlclR5cGUgPSAnUFJFRklYJztcblx0XHRcdGNvbHVtblN0YXRlLmZpbHRlclZhbCA9IHZhbHVlc1swXS5sYWJlbDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY3JlYXRlRGVmYXVsdEJyb3dzZUNvbHVtblN0YXRlKGNvbHVtblN0YXRlKTtcblx0fSk7XG5cblx0bGV0IGxhc3RGYWNldFR5cGVJbmRleCA9IEJST1dTRV9GQUNFVF9UWVBFUy5pbmRleE9mKGJyb3dzZUNvbHVtbnMuYXQoLTEpPy5mYWNldFR5cGUpO1xuXHRsZXQgbmV4dEZhY2V0VHlwZSA9IEJST1dTRV9GQUNFVF9UWVBFU1tsYXN0RmFjZXRUeXBlSW5kZXggKyAxXTtcblx0YnJvd3NlQ29sdW1ucy5wdXNoKGNyZWF0ZURlZmF1bHRCcm93c2VDb2x1bW5TdGF0ZSh7IGZhY2V0VHlwZTogbmV4dEZhY2V0VHlwZSB9KSk7XG5cblx0ZjNRdWVyeS5maWx0ZXJGYWNldFR5cGVzKEJST1dTRV9GQUNFVF9UWVBFUyk7XG5cblx0cmV0dXJuIGJyb3dzZUNvbHVtbnM7XG59XG5cbi8qIFRoaXMgd2lsbCByZW1vdmUgYWxsIGJyb3dzZSB0aGluZ3MgZnJvbSBjb2x1bW5zIGFuZCBhZGQgdGhlbSB0byBzZWFyY2ggKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRCcm93c2VDb2x1bW5zVG9TZWFyY2goZjNRdWVyeTogRjNRdWVyeSwgYnJvd3NlQ29sdW1uczogQnJvd3NlQ29sdW1uU3RhdGVbXSkge1xuXHRicm93c2VDb2x1bW5zXG5cdFx0LmZpbHRlcihjb2wgPT4gISFjb2wuc2VsZWN0ZWRWYWx1ZSlcblx0XHQuZm9yRWFjaCgoeyBmYWNldFR5cGUsIHNlbGVjdGVkVmFsdWUsIHNlbGVjdGVkTGFiZWwgfSwgaSwgYXJyKSA9PiB7XG5cdFx0XHRmM1F1ZXJ5LkZpbHRlcnMuYWRkSXRlbShcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHR5cGU6IGZhY2V0VHlwZSxcblx0XHRcdFx0XHR2YWx1ZXM6IFt7IHZhbHVlOiBzZWxlY3RlZFZhbHVlLCBsYWJlbDogc2VsZWN0ZWRMYWJlbCB9XSxcblx0XHRcdFx0fSxcblx0XHRcdFx0aSA9PT0gYXJyLmxlbmd0aCAtIDFcblx0XHRcdCk7XG5cdFx0fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRCcm93c2VGYWNldExhYmVsKGxhYmVsOiBzdHJpbmcsIGNvbHVtbkxhYmVsPzogc3RyaW5nKSB7XG5cdHN3aXRjaCAobGFiZWwpIHtcblx0XHRjYXNlIE5VTExfQ0hBUkFDVEVSOlxuXHRcdFx0cmV0dXJuICdbT3RoZXJdJztcblx0XHRjYXNlIE5PX0ZJTFRFUl9WQUxVRTpcblx0XHRcdHJldHVybiAnQUxMJztcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIGxhYmVsO1xuXHR9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13999\n")},41858:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval("\n// UNUSED EXPORTS: IndexRecordPage\n\n// EXTERNAL MODULE: external \"React\"\nvar external_React_ = __webpack_require__(87363);\nvar external_React_default = /*#__PURE__*/__webpack_require__.n(external_React_);\n// EXTERNAL MODULE: external \"ReactRouterDOM\"\nvar external_ReactRouterDOM_ = __webpack_require__(66711);\n;// CONCATENATED MODULE: ./src/ts/shared/context/contentContext.ts\n\nvar createContentContext = function () {\n    return external_React_default().createContext({\n        content: null,\n        ContentApi: null,\n        updateContent: null,\n        relations: null,\n        updateRelations: null,\n        computedValues: null,\n        mergeElementUpdateResults: null,\n        updateComputedValues: null,\n        setContentAndRelations: null,\n        publication: null,\n    });\n};\nvar MemorialContentContext = createContentContext();\nvar BattleContentContext = createContentContext();\nvar RegimentContentContext = createContentContext();\nvar CompanyContentContext = createContentContext();\nvar IndexRecordContentContext = createContentContext();\nvar ImageContentContext = createContentContext();\nvar UnitContentContext = createContentContext();\nvar SubImageContentContext = createContentContext();\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(70655);\n// EXTERNAL MODULE: ./src/ts/shared/lib/computed.ts\nvar computed = __webpack_require__(16701);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/ComputedClass.ts\n\nvar ComputedClass = /** @class */ (function () {\n    function ComputedClass() {\n    }\n    ComputedClass.prototype.invalidateAll = function () {\n        var _this = this;\n        Object.keys(this).forEach(function (key) {\n            var _a;\n            if ((0,computed/* isComputed */.M)(_this[key])) {\n                try {\n                    (_a = _this[key]) === null || _a === void 0 ? void 0 : _a.setInvalid();\n                }\n                catch (e) {\n                    console.error(\"Could not invalidate key \".concat(key));\n                }\n            }\n        });\n    };\n    return ComputedClass;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/uuidToDate.ts\n/** adapted from https://github.com/xehrad/UUID_to_Date/blob/master/UUID_to_Date.js */\nfunction getTimeInt(uuidStr) {\n    var uuidArr = uuidStr.split('-');\n    var timeStr = [\n        uuidArr[2].substring(1),\n        uuidArr[1],\n        uuidArr[0],\n    ].join('');\n    return parseInt(timeStr, 16);\n}\n;\nfunction uuidToDate(uuidStr) {\n    var intTime = getTimeInt(uuidStr) - 122192928000000000;\n    var intMs = Math.floor(intTime / 10000);\n    return new Date(intMs);\n}\n;\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/sortUtil.ts\nvar sortUtil = __webpack_require__(15394);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/content/contentElements.ts\n\n\n\nvar getElements = function (content) {\n    return content.elements;\n};\nvar getElementIndex = function (content, id) {\n    return getElements(content).findIndex(function (el) { return el.metadata.id.objectId == id; });\n};\nvar mergeElementMetadata = function (content, elementMetadata) {\n    var updatedMetadataById = elementMetadata.reduce(function (finalObj, md) {\n        finalObj[md.id.objectId] = md;\n        return finalObj;\n    }, {});\n    content.elements.forEach(function (element) {\n        var id = getElementId(element);\n        var md = updatedMetadataById[id];\n        if (md) {\n            element.metadata = deepMerge(element.metadata, md);\n        }\n    });\n    return content;\n};\nvar addElements = function (content, elements) {\n    var _a;\n    if (!Array.isArray(elements))\n        elements = [elements];\n    (_a = content.elements).push.apply(_a, (0,tslib_es6/* __spreadArray */.ev)([], (0,tslib_es6/* __read */.CR)(elements), false));\n    return content;\n};\nvar removeElements = function (content, refs) {\n    if (!Array.isArray(refs))\n        refs = [refs];\n    refs.forEach(function (ref) {\n        var i = getElementIndex(content, ref.objectId);\n        if (i >= 0) {\n            getElements(content).splice(i, 1);\n        }\n    });\n    return content;\n};\nvar updateElements = function (content, elements) {\n    if (!Array.isArray(elements))\n        elements = [elements];\n    elements.forEach(function (el) {\n        var i = getElementIndex(content, getElementId(el));\n        if (i >= 0) {\n            getElements(content).splice(i, 1, el);\n        }\n        else {\n            getElements(content).push(el);\n        }\n    });\n    return content;\n};\nvar contentElements_getGroupedElements = function (content) {\n    var e_1, _a;\n    var elements = getElements(content);\n    var groupedElements = elements.reduce(function (finalObj, el) {\n        var contentType = el.metadata.id.contentType;\n        if (!(contentType in finalObj))\n            finalObj[contentType] = [];\n        finalObj[contentType].push(el);\n        return finalObj;\n    }, {});\n    try {\n        for (var _b = (0,tslib_es6/* __values */.XA)(Object.values(groupedElements)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var _elements = _c.value;\n            var elements_1 = _elements;\n            var sample = elements_1[0];\n            if (sample.metadata.ordinal === undefined)\n                continue;\n            elements_1.sort(function (el1, el2) { return (0,sortUtil/* alphaNumericSort */.R_)(el1.metadata.ordinal, el2.metadata.ordinal); });\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return groupedElements;\n};\nvar isElement = function (el) {\n    var _a, _b;\n    return !!((_b = (_a = el === null || el === void 0 ? void 0 : el.metadata) === null || _a === void 0 ? void 0 : _a.id) === null || _b === void 0 ? void 0 : _b.objectId);\n};\nvar getElementId = function (el) {\n    return getElementTypeAndId(el).objectId;\n};\nvar contentElements_getElementOwner = function (el) {\n    return el.metadata.owner;\n};\nvar getElementTypeAndId = function (el) {\n    return el.metadata.id;\n};\nvar getElementType = function (el) {\n    return getElementTypeAndId(el).contentType;\n};\nvar isFact = function (el) {\n    return getElementType(el) === 'FACT';\n};\nvar isDateFact = function (el) {\n    return isFact(el) && el.element.type.startsWith('date');\n};\nvar isPlaceFact = function (el) {\n    return isFact(el) && el.element.type.startsWith('place');\n};\nvar createCommentElement = function (value) {\n    return {\n        type: 'COMMENT',\n        element: { value: value },\n    };\n};\nvar updateCommentElement = function (id, value) {\n    return {\n        id: id,\n        element: { value: value },\n    };\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/content/contentRuntime.ts\nvar contentRuntime = __webpack_require__(16695);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/content/contentComputedValues.ts\n\n\n\n\n\n\nvar ContentComputedValues = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(ContentComputedValues, _super);\n    function ContentComputedValues(content, relations) {\n        var _this = _super.call(this) || this;\n        /* COMPUTED VALUES */\n        _this._elements = (0,computed/* computed */.F)(function () { return getElements(_this.content); });\n        _this._elementsByElementId = (0,computed/* computed */.F)(function () { return _this.groupElementsById(_this.elements); });\n        _this._sourcesBySourceId = (0,computed/* computed */.F)(function () { return _this.groupElementsById(_this.sources); });\n        _this._sources = (0,computed/* computed */.F)(function () {\n            return _this.getGroupedElementType('SOURCE');\n        });\n        _this._correctionsByMetadataName = (0,computed/* computed */.F)(function () {\n            var document = _this.content.document;\n            var CORRECTION = _this.groupedElements.CORRECTION;\n            return (document.metadata || []).reduce(function (finalObj, metadata) {\n                var filteredCorrections = CORRECTION === null || CORRECTION === void 0 ? void 0 : CORRECTION.filter(function (correction) {\n                    return correction.element.field === metadata.name;\n                });\n                if ((filteredCorrections === null || filteredCorrections === void 0 ? void 0 : filteredCorrections.length) > 0) {\n                    finalObj[metadata.name] = filteredCorrections;\n                }\n                return finalObj;\n            }, {});\n        });\n        _this._stories = (0,computed/* computed */.F)(function () { return _this.getGroupedElementType('STORY'); });\n        _this._storiesByStoryId = (0,computed/* computed */.F)(function () { return _this.groupElementsById(_this.stories); });\n        _this._partners = (0,computed/* computed */.F)(function () { return _this.getGroupedElementType('PARTNER'); });\n        _this._partnersByPartnerId = (0,computed/* computed */.F)(function () {\n            var partners = (0,contentRuntime/* getPartners */.F0)(_this.content) || [];\n            return partners.reduce(function (finalObj, partner) {\n                finalObj[partner.institution.institutionId] = partner;\n                return finalObj;\n            }, {});\n        });\n        _this._coverImage = (0,computed/* computed */.F)(function () { var _a; return (_a = _this.getGroupedElementType('COVER_IMAGE')) === null || _a === void 0 ? void 0 : _a[0]; });\n        _this._backgroundImage = (0,computed/* computed */.F)(function () { var _a; return (_a = _this.getGroupedElementType('BACKGROUND_IMAGE')) === null || _a === void 0 ? void 0 : _a[0]; });\n        _this._groupedElements = (0,computed/* computed */.F)(function () { return contentElements_getGroupedElements(_this.content); });\n        _this._relationCreationByRelationId = (0,computed/* computed */.F)(function () {\n            return Object.keys(_this.relationsByRelationId).reduce(function (finalObj, key) {\n                finalObj[key] = uuidToDate(key);\n                return finalObj;\n            }, {});\n        });\n        _this._groupedRelations = (0,computed/* computed */.F)(function () {\n            return _this.relations.reduce(function (finalObj, obj) {\n                var contentType = obj.id.contentType;\n                if (!(contentType in finalObj))\n                    finalObj[contentType] = [];\n                finalObj[contentType].push(obj);\n                return finalObj;\n            }, {});\n        });\n        _this._relationsByRelationId = (0,computed/* computed */.F)(function () {\n            return _this.relations.reduce(function (finalObj, relation) {\n                finalObj[relation.relationId] = relation;\n                return finalObj;\n            }, {});\n        });\n        _this._usersByUserId = (0,computed/* computed */.F)(function () {\n            return (0,contentRuntime/* getUsers */.Rf)(_this.content).reduce(function (finalObj, user) {\n                finalObj[user.userId] = user;\n                return finalObj;\n            }, {});\n        });\n        _this.groupElementsById = function (elements) {\n            return elements.reduce(function (finalObj, element) {\n                finalObj[getElementId(element)] = element;\n                return finalObj;\n            }, {});\n        };\n        _this.content = content;\n        _this.relations = relations;\n        return _this;\n    }\n    ContentComputedValues.prototype.getContent = function () {\n        return this.content;\n    };\n    ContentComputedValues.prototype.updateContentAndRelations = function (_a) {\n        var content = _a.content, relations = _a.relations;\n        if (content !== undefined)\n            this.content = content;\n        if (relations !== undefined)\n            this.relations = relations;\n        this.invalidateAll();\n    };\n    Object.defineProperty(ContentComputedValues.prototype, \"elements\", {\n        get: function () { return this._elements.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"groupedElements\", {\n        get: function () { return this._groupedElements.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"elementsByElementId\", {\n        get: function () { return this._elementsByElementId.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"groupedRelations\", {\n        get: function () { return this._groupedRelations.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"relationsByRelationId\", {\n        get: function () { return this._relationsByRelationId.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"sources\", {\n        get: function () { return this._sources.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"sourcesBySourceId\", {\n        get: function () { return this._sourcesBySourceId.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"stories\", {\n        get: function () { return this._stories.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"storiesByStoryId\", {\n        get: function () { return this._storiesByStoryId.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"partners\", {\n        get: function () { return this._partners.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"backgroundImage\", {\n        get: function () { return this._backgroundImage.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"coverImage\", {\n        get: function () { return this._coverImage.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"partnersByPartnerId\", {\n        get: function () { return this._partnersByPartnerId.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"usersByUserId\", {\n        get: function () { return this._usersByUserId.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"relationCreationByRelationId\", {\n        get: function () { return this._relationCreationByRelationId.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContentComputedValues.prototype, \"correctionsByMetadataName\", {\n        get: function () { return this._correctionsByMetadataName.getValue(); },\n        enumerable: false,\n        configurable: true\n    });\n    ContentComputedValues.prototype.getGroupedElementType = function (type) {\n        return this.groupedElements[type] || [];\n    };\n    return ContentComputedValues;\n}(ComputedClass));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/content/index-records/indexRecordComputedValues.ts\n\n\nvar IndexRecordComputedValues = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(IndexRecordComputedValues, _super);\n    function IndexRecordComputedValues() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return IndexRecordComputedValues;\n}(ContentComputedValues));\n\n\n// EXTERNAL MODULE: external \"clone\"\nvar external_clone_ = __webpack_require__(72604);\nvar external_clone_default = /*#__PURE__*/__webpack_require__.n(external_clone_);\n// EXTERNAL MODULE: ./src/ts/shared/context/fold3PageContext.ts\nvar fold3PageContext = __webpack_require__(67328);\n// EXTERNAL MODULE: ./src/ts/shared/lib/templating.ts\nvar templating = __webpack_require__(21012);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/content/contentDocument.ts\nvar contentDocument_getDocument = function (content) {\n    return content.document;\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/content/contentMetadata.ts\nvar contentMetadata = __webpack_require__(93705);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/content/content.ts\n\n\n\n\n\n\n\n\n\n\n\nvar getOwner = function (content) {\n    return getMetadata(content).owner;\n};\nvar getSaveToAncestryData = function (content, domain, environment, publication) { return __awaiter(void 0, void 0, Promise, function () {\n    var data, description;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                data = {\n                    citation: {\n                        title: getContentTitle(content),\n                        url: location.href,\n                    },\n                    media: {\n                        url: getThumbnail({\n                            path: 'reference',\n                            ref: getWrappedContentRef(content),\n                            domain: domain,\n                            environment: environment,\n                            query: {\n                                width: 400,\n                                height: 400,\n                            },\n                        }),\n                        // url: getMediaThumbnail(content),\n                    },\n                    source: {\n                        title: '',\n                        publisherName: '',\n                        publishedDate: '',\n                        publishedLocation: '',\n                    },\n                };\n                return [4 /*yield*/, populateSTAPublicationData(data, publication)];\n            case 1:\n                _a.sent();\n                description = getDescription(content);\n                if (description)\n                    data.media.note = description;\n                return [2 /*return*/, data];\n        }\n    });\n}); };\nvar populateSTAPublicationData = function (data, publication) { return __awaiter(void 0, void 0, void 0, function () {\n    var publicationMetadata, date, place, name;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!publication) return [3 /*break*/, 2];\n                return [4 /*yield*/, new PublicationApi().getPublicationEventMetadata(publication.publicationId)];\n            case 1:\n                publicationMetadata = _a.sent();\n                date = publicationMetadata.date, place = publicationMetadata.place, name = publicationMetadata.name;\n                data.source = {\n                    title: name,\n                    publishedDate: date,\n                    publishedLocation: place,\n                    publisherName: getSiteName(publication.domain),\n                };\n                _a.label = 2;\n            case 2: return [2 /*return*/];\n        }\n    });\n}); };\nfunction getContentTitle(content) {\n    var title;\n    switch ((0,contentMetadata/* getWrappedContentType */.Rf)(content)) {\n        case 'BATTLE':\n        case 'REGIMENT':\n        case 'COMPANY':\n        case 'MILITARY_UNIT':\n            title = contentDocument_getDocument(content).name;\n            break;\n        case 'STORY_PAGE':\n        case 'SUBJECT':\n        case 'INDEX_RECORD':\n        case 'IMAGE':\n        case 'SUB_IMAGE':\n            title = contentDocument_getDocument(content).title;\n            break;\n    }\n    return (0,templating/* unescapeHTML */.Uo)(title);\n}\nfunction getDescription(content) {\n    var description;\n    switch (getWrappedContentType(content)) {\n        case 'STORY_PAGE':\n        case 'SUBJECT':\n            description = getDocument(content).description;\n            break;\n        default:\n            description = '';\n            break;\n    }\n    return unescapeHTML(description);\n}\nfunction hasPublication(content) {\n    return !!getPublicationId(content);\n}\nfunction mergeDocumentUpdates(content, update) {\n    if (update.document)\n        content.document = deepMerge(content.document, update.document);\n    if (update.metadata)\n        content.metadata = deepMerge(content.metadata, update.metadata);\n    return content;\n}\nfunction mergeDocumentElementUpdates(content, update) {\n    var _a = update.changes, changes = _a === void 0 ? [] : _a, _b = update.deletions, deletions = _b === void 0 ? [] : _b, _c = update.newElements, newElements = _c === void 0 ? [] : _c, _d = update.runtimeProperties, runtimeProperties = _d === void 0 ? {} : _d;\n    removeElements(content, deletions);\n    updateElements(content, changes);\n    addElements(content, newElements);\n    (0,contentRuntime/* mergeRuntimeProperties */.An)(content, runtimeProperties);\n    return content;\n}\nfunction getWrappedContentTypeLabel(content) {\n    return getContentTypeLabel(getWrappedContentType(content));\n}\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/content/contentObject.ts + 2 modules\nvar content_contentObject = __webpack_require__(31042);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/content/contentRelations.ts\n\n\n\nvar addRelation = function (relations, relation) {\n    return updateRelation(relations, relation); // using updateRelation just in case relation already exists\n};\nvar addRelations = function (relations, newRelations) {\n    newRelations.forEach(function (relation) { addRelation(relations, relation); });\n    return relations;\n};\nvar removeRelation = function (relations, relationId) {\n    var index = findRelationIndex(relations, relationId);\n    if (index >= 0)\n        relations.splice(index, 1);\n    return relations;\n};\nvar updateRelationsOrder = function (relations, updatedUUIDsOrder) {\n    var updatedUUIDsMap = updatedUUIDsOrder.reduce(function (finalObj, uuid, i) {\n        var _a;\n        return __assign(__assign({}, finalObj), (_a = {}, _a[uuid] = i, _a));\n    }, {});\n    return relations.sort(function (relationA, relationB) {\n        var indexA = updatedUUIDsMap[relationA.relationId];\n        var indexB = updatedUUIDsMap[relationB.relationId];\n        if (indexA !== undefined && indexB !== undefined) {\n            return alphaNumericSort(indexA, indexB);\n        }\n        return 0;\n    });\n};\nvar updateRelation = function (relations, updatedRelation) {\n    var index = findRelationIndex(relations, updatedRelation.relationId);\n    var spliceIndex = index !== -1 ? index : relations.length;\n    relations.splice(spliceIndex, 1, updatedRelation);\n    return relations;\n};\nvar mergeRelationUpdates = function (relations, results) {\n    var uniqueRelations = (results.newConnections || []).filter(function (connection) {\n        return !relations.some(function (relation) { return (0,content_contentObject/* areSameObject */.y0)(relation.id, connection.id); });\n    });\n    return (0,tslib_es6/* __spreadArray */.ev)((0,tslib_es6/* __spreadArray */.ev)([], (0,tslib_es6/* __read */.CR)(relations), false), (0,tslib_es6/* __read */.CR)(uniqueRelations), false);\n};\nvar findRelationIndex = function (relations, relationId) {\n    return relations.findIndex(function (rel) { return rel.relationId === relationId; });\n};\nvar findRelationByReference = function (relations, ref) {\n    if (relations === void 0) { relations = []; }\n    return relations.find(function (rel) {\n        var _a = rel.id, contentType = _a.contentType, objectId = _a.objectId;\n        return contentType === ref.contentType && objectId === ref.objectId;\n    });\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/hooks/useRerender.ts\nvar useRerender = __webpack_require__(91668);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useContentContext.ts\n\n\n\n\n\n\n\n\nvar useContentContext = function (_a) {\n    var initialContent = _a.initialContent, _b = _a.initialRelations, initialRelations = _b === void 0 ? [] : _b, ComputedValuesClass = _a.ComputedValuesClass, ContentApi = _a.ContentApi;\n    var _c = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(initialContent), 2), content = _c[0], setContent = _c[1];\n    var _d = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(initialRelations), 2), relations = _d[0], setRelations = _d[1];\n    var computedValues = (0,external_React_.useRef)(typeof ComputedValuesClass === 'function' ? new ComputedValuesClass(content, relations) : null);\n    var rerender = (0,useRerender/* useRerender */.S)().rerender;\n    var publications = (0,external_React_.useContext)(fold3PageContext/* Fold3PageContext */.h).publications;\n    var updateComputedValues = function (toUpdate) {\n        var _a, _b;\n        (_b = (_a = computedValues.current) === null || _a === void 0 ? void 0 : _a.updateContentAndRelations) === null || _b === void 0 ? void 0 : _b.call(_a, toUpdate);\n        rerender();\n    };\n    var updateContent = function (fn, invalidate) {\n        if (invalidate === void 0) { invalidate = true; }\n        return new Promise(function (resolve, reject) {\n            setContent(function (content) {\n                var copy = external_clone_default()(content);\n                var newContent = fn(copy);\n                if (invalidate)\n                    updateComputedValues({ content: newContent });\n                resolve(newContent);\n                return newContent;\n            });\n        });\n    };\n    var updateRelations = function (fn, invalidate) {\n        if (invalidate === void 0) { invalidate = true; }\n        return new Promise(function (resolve, reject) {\n            setRelations(function (relations) {\n                var copy = external_clone_default()(relations);\n                var newRelations = fn(copy);\n                if (invalidate)\n                    updateComputedValues({ relations: newRelations });\n                resolve(newRelations);\n                return newRelations;\n            });\n        });\n    };\n    var mergeElementUpdateResults = function (results) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var _a, content, relations;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_b) {\n            switch (_b.label) {\n                case 0: return [4 /*yield*/, Promise.all([\n                        updateContent(function (content) {\n                            return mergeDocumentElementUpdates(content, results);\n                        }, true),\n                        updateRelations(function (relations) {\n                            return mergeRelationUpdates(relations, results);\n                        }, true),\n                    ])];\n                case 1:\n                    _a = tslib_es6/* __read */.CR.apply(void 0, [_b.sent(), 2]), content = _a[0], relations = _a[1];\n                    return [2 /*return*/, { content: content, relations: relations }];\n            }\n        });\n    }); };\n    var setContentAndRelations = function (contentAndRelations) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var _a, content, relations;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    updateComputedValues(contentAndRelations);\n                    return [4 /*yield*/, Promise.all([\n                            updateContent(function () { return contentAndRelations.content; }, false),\n                            updateRelations(function () { return contentAndRelations.relations || []; }, false),\n                        ])];\n                case 1:\n                    _a = tslib_es6/* __read */.CR.apply(void 0, [_b.sent(), 2]), content = _a[0], relations = _a[1];\n                    return [2 /*return*/, { content: content, relations: relations }];\n            }\n        });\n    }); };\n    return {\n        content: content,\n        ContentApi: ContentApi,\n        relations: relations,\n        computedValues: computedValues.current,\n        updateContent: updateContent,\n        updateRelations: updateRelations,\n        mergeElementUpdateResults: mergeElementUpdateResults,\n        updateComputedValues: updateComputedValues,\n        setContentAndRelations: setContentAndRelations,\n        publication: content ? publications[(0,contentRuntime/* getPublicationId */.R)(content)] : undefined,\n    };\n};\n\n// EXTERNAL MODULE: external \"i18next\"\nvar external_i18next_ = __webpack_require__(28121);\nvar external_i18next_default = /*#__PURE__*/__webpack_require__.n(external_i18next_);\n;// CONCATENATED MODULE: external \"i18nextHttpBackend\"\nconst external_i18nextHttpBackend_namespaceObject = i18nextHttpBackend;\nvar external_i18nextHttpBackend_default = /*#__PURE__*/__webpack_require__.n(external_i18nextHttpBackend_namespaceObject);\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(20745);\n// EXTERNAL MODULE: ./src/ts/server/templating/Fold3Page.tsx\nvar Fold3Page = __webpack_require__(60144);\n// EXTERNAL MODULE: ./src/ts/shared/apis/F3Api.ts\nvar F3Api = __webpack_require__(42219);\n;// CONCATENATED MODULE: ./src/ts/shared/apis/cacheApi.ts\n\n\nvar CacheApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(CacheApi, _super);\n    function CacheApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = null;\n        _this.baseUrl = '/node/cache';\n        return _this;\n    }\n    CacheApi.prototype.getPublicationCache = function () {\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                return [2 /*return*/, this.get('/publications', {\n                        deserializeType: ':Publication',\n                    })];\n            });\n        });\n    };\n    return CacheApi;\n}(F3Api/* F3Api */.D4));\n\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/getRuntime.ts\nvar lib_getRuntime = __webpack_require__(51057);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/localization/contentLocalizationId.ts\n/* By convention, let's name all of these CONTENT-(filename) */\nvar CONTENT_JSON_NAMESPACES = {\n    PUBLICATIONS: 'CONTENT-publications',\n    FACETS: 'CONTENT-facets',\n    COLLECTION: 'CONTENT-collection',\n    CONTENT_TYPE: 'CONTENT-content-type',\n    COLLECTION_GROUP: 'CONTENT-collection-group',\n};\nvar partsToKey = function () {\n    var parts = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        parts[_i] = arguments[_i];\n    }\n    return parts\n        .filter(function (x) { return !!x; })\n        .join('.');\n};\nvar ContentId_NoNamespace = {\n    contentType: function (contentType, options) {\n        if (options === void 0) { options = {}; }\n        var _a = options.amount, amount = _a === void 0 ? 'one' : _a, article = options.article, demonstrative = options.demonstrative;\n        if (typeof amount === 'number') {\n            switch (amount) {\n                case 1:\n                    amount = 'one';\n                    break;\n                default:\n                    amount = 'other';\n                    break;\n            }\n        }\n        var idParts = [contentType];\n        if (article)\n            idParts.push('article', article);\n        else if (demonstrative)\n            idParts.push('demonstrative', demonstrative);\n        idParts.push(amount);\n        return idParts.join('_');\n    },\n    pub: function (fieldConfigName, prop) {\n        return partsToKey(fieldConfigName, prop);\n    },\n    pubField: function (fieldConfigName, field) {\n        return partsToKey(fieldConfigName, 'fields', field);\n    },\n    pubMd: function (fieldConfigName, mdName) {\n        return partsToKey(fieldConfigName, 'metadata', mdName);\n    },\n    facet: function (facetType, value) {\n        return partsToKey(facetType, value);\n    },\n    collection: function (slug, prop) {\n        return partsToKey(slug, prop);\n    },\n    collectionGroup: function (domain, title, prop) {\n        return partsToKey(domain, title, prop);\n    },\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/localization/i18n.ts\n\n\nvar SUPPORTED_LANGS = [\n    'en',\n    'en-US',\n    'en-GB',\n    'en-CA',\n    'en-AU',\n    'en-NZ',\n    'fr',\n    'fr-CA',\n    'ZZ',\n];\nfunction getI18nInitOptions(_opts) {\n    if (_opts === void 0) { _opts = {}; }\n    var CONTENT_TYPE = CONTENT_JSON_NAMESPACES.CONTENT_TYPE, FACETS = CONTENT_JSON_NAMESPACES.FACETS, PUBLICATIONS = CONTENT_JSON_NAMESPACES.PUBLICATIONS, COLLECTION = CONTENT_JSON_NAMESPACES.COLLECTION, COLLECTION_GROUP = CONTENT_JSON_NAMESPACES.COLLECTION_GROUP;\n    var _a = _opts.ns, ns = _a === void 0 ? [] : _a, opts = (0,tslib_es6/* __rest */._T)(_opts, [\"ns\"]);\n    return (0,tslib_es6/* __assign */.pi)({ interpolation: {\n            escapeValue: false,\n        }, partialBundledLanguages: true, keySeparator: false, ns: (0,tslib_es6/* __spreadArray */.ev)(['common', 'components', CONTENT_TYPE, FACETS, PUBLICATIONS, COLLECTION, COLLECTION_GROUP, 'footer', 'navbar'], (0,tslib_es6/* __read */.CR)(ns), false), supportedLngs: SUPPORTED_LANGS, detection: {\n            supportedLngs: SUPPORTED_LANGS,\n        } }, opts);\n}\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/tryHydrate.tsx\n\n\n\n\n\n\n\n\n\n\nvar F3_PAGE_NAMESPACE = 'F3_PAGE_DATA';\nvar F3_COMPONENT_NAMESPACE = 'F3_COMPONENT_DATA';\nvar tryHydrate = function (Component, getClientProps) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n    var hydrateData, pageData, componentData, publications, e_1;\n    return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                _a.trys.push([0, 2, , 3]);\n                if ((0,lib_getRuntime/* isNodeRuntime */.db)())\n                    return [2 /*return*/];\n                hydrateData = JSON.parse(document.querySelector('#hydrate-data').innerHTML);\n                pageData = hydrateData[F3_PAGE_NAMESPACE], componentData = hydrateData[F3_COMPONENT_NAMESPACE];\n                if (getClientProps) {\n                    componentData = getClientProps(componentData);\n                }\n                return [4 /*yield*/, new CacheApi().getPublicationCache()];\n            case 1:\n                publications = _a.sent();\n                external_i18next_default().use(new (external_i18nextHttpBackend_default())(null, {\n                    loadPath: '/locales/{{lng}}/{{ns}}.json',\n                }))\n                    .init(getI18nInitOptions({\n                    lng: pageData.initialLanguage,\n                    load: 'currentOnly',\n                    ns: pageData.preloadNS || [],\n                }));\n                (0,client/* hydrateRoot */.a)(document.querySelector('#hydrate-root'), external_React_default().createElement(Fold3Page/* Fold3Page */.a, (0,tslib_es6/* __assign */.pi)({}, pageData, { i18n: (external_i18next_default()), publications: publications }),\n                    external_React_default().createElement(external_ReactRouterDOM_.BrowserRouter, null,\n                        external_React_default().createElement(Component, (0,tslib_es6/* __assign */.pi)({}, componentData)))));\n                return [3 /*break*/, 3];\n            case 2:\n                e_1 = _a.sent();\n                console.error(e_1);\n                return [3 /*break*/, 3];\n            case 3: return [2 /*return*/];\n        }\n    });\n}); };\n\n// EXTERNAL MODULE: external \"ReactI18next\"\nvar external_ReactI18next_ = __webpack_require__(14426);\n;// CONCATENATED MODULE: ./src/ts/server/lib/contentValidation.ts\n\nvar MAX_CONTENT_LENGTHS = {\n    ANNOTATION: 1024,\n    ANNOTATION_GENERAL: 16384,\n    ANNOTATION_LABEL: 32,\n    FEEDBACK: 300,\n    CANCEL_REASON: 512,\n    CONTENT_DOCUMENT_COMMENT: 4096,\n    CORRECTION: 512,\n    INDEX_RECORD_COMMENT: 16384,\n    MEMORIAL_DESCRIPTION: 65535,\n    MEMORIAL_FACT_SOURCE_COMMENT: 256,\n    MEMORIAL_STORY_CONTENT: 65535,\n    MEMORIAL_STORY_LINK: 4096,\n    MEMORIAL_STORY_LINK_TEXT: 1024,\n    MEMORIAL_STORY_TITLE: 256,\n    MEMORIAL_TITLE: 256,\n    MEMORIAL_URL_TITLE: 1024,\n    TRANSCRIPTION: 16384,\n    URL: 4096,\n};\n/* These ones aren't defined by the backend. They are arbitrary for what makes sense. */\nvar MIN_CONTENT_LENGTHS = {\n    FEEDBACK: 10,\n    ANNOTATION_GENERAL: 1,\n};\nvar validateLength = function (input, contentType) {\n    var label;\n    var maxLength = MAX_CONTENT_LENGTHS[contentType];\n    var minLength = MIN_CONTENT_LENGTHS[contentType] || 0;\n    var tooLong = maxLength !== undefined && input.length > maxLength;\n    var tooShort = minLength !== undefined && input.length < minLength;\n    if (!tooLong && !tooShort)\n        return null;\n    switch (contentType) {\n        case 'MEMORIAL_TITLE':\n            label = 'title';\n            break;\n        case 'MEMORIAL_DESCRIPTION':\n            label = 'description';\n            break;\n        case 'MEMORIAL_FACT_SOURCE_COMMENT':\n            label = 'comment';\n            break;\n        case 'MEMORIAL_STORY_TITLE':\n            label = 'title';\n            break;\n        case 'MEMORIAL_STORY_CONTENT':\n            label = 'story';\n            break;\n        case 'CONTENT_DOCUMENT_COMMENT':\n            label = 'comment';\n            break;\n        case 'MEMORIAL_URL_TITLE':\n            label = 'title';\n            break;\n        case 'MEMORIAL_STORY_LINK':\n            label = 'link URL';\n            break;\n        case 'MEMORIAL_STORY_LINK_TEXT':\n            label = 'link text';\n            break;\n        case 'CANCEL_REASON':\n            label = 'feedback';\n            break;\n        case 'CORRECTION':\n            label = 'correction';\n            break;\n        case 'FEEDBACK':\n            label = 'feedback';\n            break;\n        default:\n            label = 'text';\n            break;\n    }\n    var lengthStr = tooLong ? 'long' : 'short';\n    var limitStr = tooLong ? 'Max' : 'Min';\n    var limitNum = tooLong ? maxLength : tooShort ? minLength : null;\n    return \"The \".concat(label, \" you entered is too \").concat(lengthStr, \". \").concat(input.length).concat(limitNum ? \" (\".concat(limitStr, \": \").concat((0,templating/* numberWithCommas */.x6)(limitNum), \")\") : '');\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/deserializer.ts\nvar deserializer = __webpack_require__(19416);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/content/deserializeRuntimePropertiesOther.ts\n\n// import { localizeContent } from '../localization/localization';\n/* This function modifies the object in place and doesn't return anything. */\nvar deserializeRuntimePropertiesOther = function (contentType, other, domain) {\n    switch (contentType) {\n        case 'BATTLE':\n        case 'COMPANY':\n        case 'REGIMENT':\n            if (other === null || other === void 0 ? void 0 : other.imageMetadata) {\n                other.imageMetadata = deserializer/* deserializer */.S.deserialize(other.imageMetadata, 'RegimentImageMetadata');\n                // other.imageMetadata = localizeContent(other.imageMetadata, 'RegimentImageMetadata', domain);\n            }\n            break;\n        case 'STORY_PAGE':\n            if (other === null || other === void 0 ? void 0 : other.images) {\n                other.images = deserializer/* deserializer */.S.deserialize(other.images, ':MemorialHonorImage');\n                // other.images = localizeContent(other.images, ':MemorialHonorImage' as DeserializeType, domain);\n            }\n            break;\n        case 'IMAGE':\n        case 'INDEX_RECORD':\n            if (other === null || other === void 0 ? void 0 : other.roll) {\n                other.roll = deserializer/* deserializer */.S.deserialize(other.roll, 'ImageDataRoll');\n                // other.roll = localizeContent(other.roll, 'ImageDataRoll', domain);\n            }\n            return;\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/mapUtil.ts\nvar mapUtil = __webpack_require__(64528);\n;// CONCATENATED MODULE: ./src/ts/shared/apis/contentApi.ts\n\n\n\n\n\n// import { localizeContent } from '../lib/localization/localization';\n\n\n\nvar ContentApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(ContentApi, _super);\n    function ContentApi() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ContentApi.prototype.constructBaseUrl = function (subType) {\n        return \"\".concat(this.basePath, \"/\").concat(subType, \"/\").concat(this.contentType);\n    };\n    ContentApi.prototype.reorderElements = function (id, reorder) {\n        return this.put(\"\".concat(this.constructBaseUrl('reorder'), \"/\").concat(id), reorder, {\n            deserializeType: 'ContentDocumentElementMetadata',\n            serializeType: 'ReorderDocumentElements',\n        });\n    };\n    ContentApi.prototype.createDocument = function (doc) {\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n            var serializedElements, serialized, content;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        serializedElements = (doc.elements || []).map(function (el) {\n                            var serializedEl = deserializer/* deserializer */.S.serializeAbstractElement(el.element, el.type);\n                            return deserializer/* deserializer */.S.serialize({ type: el.type, element: serializedEl }, 'CreateDocumentElement');\n                        });\n                        serialized = deserializer/* deserializer */.S.serializeAbstractDocument(doc.document, this.contentType);\n                        return [4 /*yield*/, this.post(this.constructBaseUrl('document'), { elements: serializedElements, document: serialized }, {\n                                serializeType: 'CreateDocumentRequest',\n                            })];\n                    case 1:\n                        content = _a.sent();\n                        return [2 /*return*/, this.deserializeWrappedContentDocument(content)];\n                }\n            });\n        });\n    };\n    ContentApi.prototype.deleteDocument = function (id) {\n        return this.delete(\"\".concat(this.constructBaseUrl('document'), \"/\").concat(id));\n    };\n    ContentApi.prototype.getDocument = function (id, flags, params) {\n        if (params === void 0) { params = {}; }\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n            var content;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.get(\"\".concat(this.constructBaseUrl('document'), \"/\").concat(id), {\n                            params: (0,mapUtil/* filterUndefined */.YU)((0,tslib_es6/* __assign */.pi)({ flag: flags }, params)),\n                        })];\n                    case 1:\n                        content = _a.sent();\n                        return [2 /*return*/, this.deserializeWrappedContentDocument(content)];\n                }\n            });\n        });\n    };\n    ContentApi.prototype.getDocuments = function (ids, flags, params) {\n        if (flags === void 0) { flags = []; }\n        if (params === void 0) { params = {}; }\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n            var idStrings, docs;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        idStrings = ids.map(function (_a) {\n                            var contentType = _a.contentType, objectId = _a.objectId;\n                            return \"\".concat(contentType, \".\").concat(objectId);\n                        });\n                        return [4 /*yield*/, this.get(\"\".concat(this.basePath, \"/document\"), {\n                                params: (0,tslib_es6/* __assign */.pi)({ id: idStrings, flag: flags }, params),\n                            })];\n                    case 1:\n                        docs = _a.sent();\n                        return [2 /*return*/, docs.map(this.deserializeWrappedContentDocument)];\n                }\n            });\n        });\n    };\n    ContentApi.prototype.updateDocument = function (_content, updatedDoc) {\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n            var serialized, content;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        serialized = deserializer/* deserializer */.S.serializeAbstractDocument(updatedDoc, this.contentType);\n                        return [4 /*yield*/, this.put(\"\".concat(this.constructBaseUrl('document'), \"/\").concat((0,contentMetadata/* getWrappedContentId */.OW)(_content)), serialized)];\n                    case 1:\n                        content = _a.sent();\n                        return [2 /*return*/, this.deserializeWrappedContentDocument(content)];\n                }\n            });\n        });\n    };\n    ContentApi.prototype.modifyElements = function (content, elements) {\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n            var id, serializedElements, results;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        id = (0,contentMetadata/* getWrappedContentId */.OW)(content);\n                        serializedElements = this.serializeElements(elements);\n                        return [4 /*yield*/, this.post(\"\".concat(this.constructBaseUrl('element'), \"/\").concat(id), serializedElements, {\n                                serializeType: 'UpdateDocumentElements',\n                            })];\n                    case 1:\n                        results = _a.sent();\n                        return [2 /*return*/, this.deserializeDocumentElementUpdateResults(results)];\n                }\n            });\n        });\n    };\n    /*\n     * async importFactsFrom(memorialId: number | string, contentType: ContentType, contentId: number | string, identifiers: ImportFactIdentifier[]): Promise<DocumentElementUpdateResults> {\n     * \tconst results = await this.post(`${this.constructBaseUrl('import-from')}/${memorialId}/${contentType}/${contentId}`, identifiers, {\n     * \t\tserializeType: 'ImportFactIdentifier',\n     * \t});\n     */\n    /*\n     * \treturn this.deserializeDocumentElementUpdateResults(results);\n     * }\n     */\n    /* HELPER METHODS */\n    ContentApi.prototype.removeElements = function (content, elements) {\n        var update = {\n            deletions: elements.map(function (el) { return getElementTypeAndId(el); }),\n        };\n        return this.modifyElements(content, update);\n    };\n    ContentApi.prototype.updateElements = function (content, changes) {\n        var update = {\n            changes: changes,\n        };\n        return this.modifyElements(content, update);\n    };\n    ContentApi.prototype.addElements = function (content, newElements) {\n        var update = {\n            newElements: newElements,\n        };\n        return this.modifyElements(content, update);\n    };\n    /* END HELPER METHODS */\n    ContentApi.prototype.serializeElements = function (elements) {\n        var changes = elements.changes, deletions = elements.deletions, newElements = elements.newElements;\n        var updates = {};\n        if (changes) {\n            updates.changes = changes.map(function (change) {\n                return {\n                    id: change.id,\n                    element: deserializer/* deserializer */.S.serializeAbstractElement(change.element, change.id.contentType),\n                };\n            });\n        }\n        if (newElements) {\n            updates.newElements = newElements.map(function (addition) {\n                return {\n                    type: addition.type,\n                    element: deserializer/* deserializer */.S.serializeAbstractElement(addition.element, addition.type),\n                };\n            });\n        }\n        if (deletions) {\n            updates.deletions = deletions;\n        }\n        return updates;\n    };\n    ContentApi.prototype.deserializeWrappedContentDocument = function (content) {\n        if (!content) {\n            return null;\n        }\n        var domain = this.getDomain();\n        var deserialized = deserializer/* deserializer */.S.deserialize(content, 'WrappedContentDocument');\n        // deserialized = localizeContent(deserialized, 'WrappedContentDocument', domain) as D;\n        var other = (deserialized.runtimeProperties || {}).other;\n        deserialized.elements = (deserialized.elements || []).map(function (_a) {\n            var element = _a.element, metadata = _a.metadata;\n            metadata.created = uuidToDate(metadata.id.objectId).toISOString();\n            if (!metadata.lastModified)\n                metadata.lastModified = metadata.created;\n            return { element: element, metadata: metadata };\n        });\n        if (other) {\n            deserializeRuntimePropertiesOther(this.contentType, other, domain);\n        }\n        return deserialized;\n    };\n    ContentApi.prototype.deserializeDocumentElementUpdateResults = function (results) {\n        var domain = this.getDomain();\n        var deserialized = deserializer/* deserializer */.S.deserialize(results, 'DocumentElementUpdateResults');\n        // deserialized = localizeContent(deserialized, 'DocumentElementUpdateResults', domain) as DocumentElementUpdateResults<E, O, P>;\n        var other = (deserialized.runtimeProperties || {}).other;\n        if (other) {\n            deserializeRuntimePropertiesOther(this.contentType, other, domain);\n        }\n        return deserialized;\n    };\n    return ContentApi;\n}(F3Api/* F3Api */.D4));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/indexRecordApi.ts\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-index-record/javadoc/com/ancestry/eb/fold31/indexrecord/service/IndexRecordService.html) */\nvar IndexRecordApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(IndexRecordApi, _super);\n    function IndexRecordApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.INDEX_RECORD;\n        _this.basePath = '/index-record';\n        _this.contentType = 'INDEX_RECORD';\n        return _this;\n    }\n    IndexRecordApi.prototype.updateMetadata = function (recordId, metadata) {\n        var name = metadata.name, value = metadata.value, stickiness = metadata.stickiness;\n        if (!stickiness) {\n            stickiness = 'SUPER';\n        }\n        return this.post(\"/index-record/metadata/INDEX_RECORD/\".concat(recordId, \"/\").concat(name), { value: value }, {\n            params: { stickiness: stickiness },\n        });\n    };\n    return IndexRecordApi;\n}(ContentApi));\n\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/hooks/useAlerts.ts\nvar useAlerts = __webpack_require__(2193);\n// EXTERNAL MODULE: ./src/ts/shared/lib/hooks/useDialogs.ts\nvar useDialogs = __webpack_require__(62083);\n// EXTERNAL MODULE: ./src/ts/shared/components/F3Button.tsx\nvar F3Button = __webpack_require__(1534);\n// EXTERNAL MODULE: external \"uuid\"\nvar external_uuid_ = __webpack_require__(71130);\n// EXTERNAL MODULE: ./src/ts/shared/lib/classUtil.ts\nvar classUtil = __webpack_require__(78697);\n// EXTERNAL MODULE: ./src/ts/shared/lib/ErrorBoundary.tsx\nvar ErrorBoundary = __webpack_require__(69195);\n;// CONCATENATED MODULE: ./src/ts/shared/components/dialogs/Dialog.tsx\n\n\n\n\n\n\n\n\nfunction toggleModalClass(showing) {\n    var html = document.documentElement;\n    if (showing) {\n        html.classList.add('modalOpen');\n    }\n    else {\n        html.classList.remove('modalOpen');\n    }\n}\nvar Dialog = function (_a) {\n    var title = _a.title, className = _a.className, _b = _a.closeable, closeable = _b === void 0 ? true : _b, onClose = _a.onClose, size = _a.size, footer = _a.footer, children = _a.children, _c = _a.blur, blur = _c === void 0 ? false : _c;\n    var dialogRef = (0,external_React_.useRef)();\n    var closeDialog = (0,useDialogs/* useDialogs */.q)().closeDialog;\n    (0,external_React_.useEffect)(function () {\n        function handleKeyup(e) {\n            if (e.key === 'Escape') {\n                handleClose();\n            }\n        }\n        toggleModalClass(true);\n        if (closeable) {\n            document.documentElement.addEventListener('keyup', handleKeyup);\n        }\n        if (!dialogRef.current.contains(document.activeElement)) {\n            dialogRef.current.focus();\n        }\n        return function () {\n            toggleModalClass(false);\n            if (closeable) {\n                document.documentElement.removeEventListener('keyup', handleKeyup);\n            }\n        };\n    }, []);\n    var handleClose = function () {\n        var canceled = false;\n        if (typeof onClose == 'function') {\n            canceled = onClose(true) == false;\n        }\n        toggleModalClass(false);\n        if (canceled)\n            return;\n        closeDialog();\n    };\n    var handleCloseBtnClick = function (e) {\n        if (closeable !== false && e.target === e.currentTarget) {\n            handleClose();\n        }\n    };\n    var headerContent = null;\n    var contentsProps = {};\n    var id = (0,external_uuid_.v4)();\n    if (title) {\n        headerContent = external_React_default().createElement(\"h1\", { className: 'modal-title h5', id: id }, title);\n        contentsProps['aria-describedby'] = 'modalHeader';\n        contentsProps.className += ' modalHasTitle';\n    }\n    var closeBtn = closeable &&\n        external_React_default().createElement(F3Button/* CloseButton */.PZ, { className: 'text-muted', \"data-bs-dismiss\": 'modal', onClick: handleCloseBtnClick });\n    var sizeClass = size === 'md' ? '' : \"modal-\".concat(size);\n    return external_React_default().createElement(ErrorBoundary/* ErrorBoundary */.S, null,\n        external_React_default().createElement(\"div\", { ref: dialogRef, \"aria-labelledby\": id, \"aria-modal\": 'true', className: 'modal d-block fade show', onClick: handleCloseBtnClick, onKeyDown: function (e) {\n                /* This is to trap focus inside the dialog. When tabbing, don't allow focus to leave the dialog */\n                if (e.key !== 'Tab')\n                    return;\n                var newFocusedElement;\n                var focusableElements = dialogRef.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n                var firstFocusable = focusableElements[0];\n                var lastFocusable = focusableElements[focusableElements.length - 1];\n                if (document.activeElement === firstFocusable && e.shiftKey) {\n                    newFocusedElement = lastFocusable;\n                }\n                else if (document.activeElement === lastFocusable && !e.shiftKey) {\n                    newFocusedElement = firstFocusable;\n                }\n                if (newFocusedElement) {\n                    newFocusedElement.focus();\n                    e.preventDefault();\n                }\n            }, role: 'dialog', tabIndex: 0 },\n            external_React_default().createElement(\"div\", { className: (0,classUtil/* classStr */.B)('f3-dialog', 'modal-content', className, 'modal-dialog', sizeClass) },\n                external_React_default().createElement(\"div\", { className: 'modal-content bg-light shadow' },\n                    headerContent &&\n                        external_React_default().createElement(\"div\", { className: 'modal-header text-primary', \"data-cy\": 'f3-dialog-modal' },\n                            headerContent,\n                            closeBtn),\n                    children &&\n                        external_React_default().createElement((external_React_default()).Fragment, null,\n                            external_React_default().createElement(\"div\", { className: 'position-absolute top-0 end-0 m-2 zi-popover zi-dialog' }, !headerContent && closeBtn),\n                            external_React_default().createElement(\"div\", { className: 'modal-body' }, children)),\n                    footer &&\n                        external_React_default().createElement(\"div\", { className: 'f3-dialog-buttons modal-footer', \"data-cy\": 'f3-dialog-btn' }, footer)))),\n        external_React_default().createElement(\"div\", { className: (0,classUtil/* classStr */.B)('modal-backdrop', blur ? 'bg-dark bg-opacity-75 blurred' : 'fade show') }));\n};\nvar DialogCloseButton = (0,external_React_.forwardRef)(function (_a, ref) {\n    var _b = _a.btnType, btnType = _b === void 0 ? 'secondary' : _b, _c = _a.outline, outline = _c === void 0 ? true : _c, onClick = _a.onClick, children = _a.children, rest = (0,tslib_es6/* __rest */._T)(_a, [\"btnType\", \"outline\", \"onClick\", \"children\"]);\n    var closeDialog = (0,useDialogs/* useDialogs */.q)().closeDialog;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    var localizedClose = t('dialogCloseButton.close', 'Close');\n    if (!children)\n        children = localizedClose;\n    return external_React_default().createElement(F3Button/* F3Button */.Vk, (0,tslib_es6/* __assign */.pi)({ \"aria-label\": localizedClose, btnType: btnType, onClick: function (e) {\n            var shouldClose = onClick === null || onClick === void 0 ? void 0 : onClick(e);\n            if (shouldClose !== false) {\n                closeDialog();\n            }\n        }, outline: outline }, rest, { ref: ref }), children);\n});\nvar DialogSaveButton = (0,external_React_.forwardRef)(function (_a, ref) {\n    var onClick = _a.onClick, children = _a.children, rest = (0,tslib_es6/* __rest */._T)(_a, [\"onClick\", \"children\"]);\n    var closeDialog = (0,useDialogs/* useDialogs */.q)().closeDialog;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    var localizedSave = t('dialogSaveButton.save', 'Save');\n    if (!children)\n        children = localizedSave;\n    return external_React_default().createElement(F3Button/* F3Button */.Vk, (0,tslib_es6/* __assign */.pi)({ \"aria-label\": localizedSave, onClick: function (e) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n            var shouldClose;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, (onClick === null || onClick === void 0 ? void 0 : onClick(e))];\n                    case 1:\n                        shouldClose = _a.sent();\n                        if (shouldClose !== false) {\n                            closeDialog();\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        }); } }, rest, { ref: ref }), children);\n});\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useShareForwardedRef.ts\n\n/* Borrowed from https://gist.github.com/pie6k/b4717f392d773a71f67e110b42927fea */\nfunction useShareForwardedRef(forwardedRef) {\n    // final ref that will share value with forward ref. this is the one we will attach to components\n    var innerRef = (0,external_React_.useRef)(null);\n    (0,external_React_.useEffect)(function () {\n        // after every render - try to share current ref value with forwarded ref\n        if (!forwardedRef) {\n            return;\n        }\n        if (typeof forwardedRef === 'function') {\n            forwardedRef(innerRef.current);\n            return;\n        }\n        else {\n            // @ts-ignore\n            forwardedRef.current = innerRef.current; //by default forwardedRef.current is readonly. Let's ignore it\n        }\n    });\n    return innerRef;\n}\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/forms/F3SpamInput.tsx\n\n\n\nvar SPAM_INPUT_CLASS = 'test-user-input';\nvar F3SpamInput = (0,external_React_.forwardRef)(function (_a, ref) {\n    var className = _a.className, props = (0,tslib_es6/* __rest */._T)(_a, [\"className\"]);\n    return external_React_default().createElement(\"input\", (0,tslib_es6/* __assign */.pi)({}, props, { ref: ref, \"aria-hidden\": true, autoComplete: 'off', className: (0,classUtil/* classStr */.B)(SPAM_INPUT_CLASS, 'visibility-hidden', className), \"data-cy\": SPAM_INPUT_CLASS, hidden: true, tabIndex: -1 }));\n});\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/forms/F3Form.tsx\n\n\n\n\nvar F3Form = (0,external_React_.forwardRef)(function (_a, ref) {\n    var onSubmit = _a.onSubmit, clearOnSubmit = _a.clearOnSubmit, checkValidity = _a.checkValidity, children = _a.children, rest = (0,tslib_es6/* __rest */._T)(_a, [\"onSubmit\", \"clearOnSubmit\", \"checkValidity\", \"children\"]);\n    var formRef = useShareForwardedRef(ref);\n    return external_React_default().createElement(\"form\", (0,tslib_es6/* __assign */.pi)({ ref: formRef, noValidate: true, onChange: function () {\n            if (checkValidity) {\n                checkValidity(formRef.current.checkValidity());\n            }\n        }, onSubmit: function (evt) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n            var isSpam, isInvalid, err_1;\n            var _a;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        evt.preventDefault();\n                        isSpam = Array.from(formRef.current.elements)\n                            .some(function (input) {\n                            var classList = input.classList, value = input.value, checked = input.checked, type = input.type;\n                            if (classList.contains(SPAM_INPUT_CLASS)) {\n                                if (type === 'checkbox') {\n                                    if (checked)\n                                        return true;\n                                }\n                                else {\n                                    if (value.length > 0)\n                                        return true;\n                                }\n                            }\n                            return false;\n                        });\n                        if (!isSpam) return [3 /*break*/, 2];\n                        return [4 /*yield*/, fetch('/node/spam-report')];\n                    case 1:\n                        _b.sent();\n                        return [2 /*return*/];\n                    case 2:\n                        formRef.current.classList.add('was-validated');\n                        if (!formRef.current.checkValidity())\n                            return [2 /*return*/];\n                        isInvalid = false;\n                        /* This catches any custom validity messages created by useFormValidation */\n                        Array.from(formRef.current.elements)\n                            .forEach(function (el) {\n                            if (el.validationMessage) {\n                                el.classList.add('is-invalid');\n                                isInvalid = true;\n                            }\n                            else {\n                                el.classList.remove('is-invalid');\n                            }\n                        });\n                        if (isInvalid)\n                            return [2 /*return*/];\n                        _b.label = 3;\n                    case 3:\n                        _b.trys.push([3, 5, , 6]);\n                        return [4 /*yield*/, onSubmit(evt)];\n                    case 4:\n                        _b.sent();\n                        /* It's possible for the onSubmit handler to remove the form from the DOM */\n                        if (formRef.current === null)\n                            return [2 /*return*/];\n                        formRef.current.classList.remove('was-validated');\n                        if (clearOnSubmit) {\n                            formRef.current.reset();\n                            Array.from(formRef.current.elements).forEach(function (el) {\n                                el.setCustomValidity('');\n                                el.classList.remove('is-invalid');\n                            });\n                        }\n                        return [3 /*break*/, 6];\n                    case 5:\n                        err_1 = _b.sent();\n                        (_a = formRef.current) === null || _a === void 0 ? void 0 : _a.classList.remove('was-validated');\n                        return [3 /*break*/, 6];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        }); } }, rest), children);\n});\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useFormValidation.ts\n\n\n\n\nvar classStr = classUtil/* classStr */.B;\nvar useFormValidation = function (ref, props, validate) {\n    var _a;\n    var inputRef = useShareForwardedRef(ref);\n    var rerender = (0,useRerender/* useRerender */.S)().rerender;\n    var setCustomValidity = function (val) {\n        var _a;\n        var msg = (validate === null || validate === void 0 ? void 0 : validate(val)) || '';\n        (_a = inputRef === null || inputRef === void 0 ? void 0 : inputRef.current) === null || _a === void 0 ? void 0 : _a.setCustomValidity(msg);\n        rerender();\n    };\n    var getVal = function (e) {\n        if (e.target.type === 'checkbox') {\n            return e.target.checked;\n        }\n        else {\n            return e.target.value;\n        }\n    };\n    return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, props), { className: classStr(props.className), ref: inputRef, validationMessage: ((_a = inputRef === null || inputRef === void 0 ? void 0 : inputRef.current) === null || _a === void 0 ? void 0 : _a.validationMessage) || '', onChange: function (e) {\n            var _a;\n            setCustomValidity(getVal(e));\n            (_a = props === null || props === void 0 ? void 0 : props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }, onInvalid: function (e) {\n            var _a;\n            setCustomValidity(getVal(e));\n            (_a = props === null || props === void 0 ? void 0 : props.onInvalid) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } });\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/forms/F3Input.tsx\n\n\n\n\nvar F3Input = (0,external_React_.forwardRef)(function (props, inputRef) {\n    var onValueChange = props.onValueChange, validate = props.validate, otherProps = (0,tslib_es6/* __rest */._T)(props, [\"onValueChange\", \"validate\"]);\n    otherProps.type || (otherProps.type = 'text');\n    var _a = useFormValidation(inputRef, otherProps, validate), validationMessage = _a.validationMessage, className = _a.className, value = _a.value, rest = (0,tslib_es6/* __rest */._T)(_a, [\"validationMessage\", \"className\", \"value\"]);\n    (0,external_React_.useEffect)(function () {\n        if (['checkbox', 'radio', 'email', 'file', 'hidden'].includes(otherProps.type)) {\n            console.warn(\"\".concat(otherProps.type, \" type input will not work with Input component. Use normal <input> instead.\"));\n        }\n    }, []);\n    return external_React_default().createElement((external_React_default()).Fragment, null,\n        external_React_default().createElement(\"input\", (0,tslib_es6/* __assign */.pi)({}, rest, { \"aria-describedby\": 'invalid-feedback-alert', \"aria-invalid\": !!validationMessage, className: (0,classUtil/* classStr */.B)('form-control', className), \"data-cy\": 'fold3-input', onChange: function (e) {\n                rest.onChange(e);\n                onValueChange === null || onValueChange === void 0 ? void 0 : onValueChange(e.target.value);\n            }, value: value !== null ? value : undefined })),\n        external_React_default().createElement(\"div\", { \"aria-label\": 'Invalid Feedback', className: 'invalid-feedback', id: 'invalid-feedback-alert', role: 'alert' },\n            external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-warning' }),\n            validationMessage));\n});\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/CommentElementDialog.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar COMMENT_ELEMENT_FORM_ID = 'comment-element-form';\nvar CommentElementDialog = function (_a) {\n    var _b;\n    var existingComment = _a.existingComment, lengthType = _a.lengthType;\n    var _c = (0,external_React_.useContext)(IndexRecordContentContext), content = _c.content, mergeElementUpdateResults = _c.mergeElementUpdateResults;\n    var _d = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(((_b = existingComment === null || existingComment === void 0 ? void 0 : existingComment.element) === null || _b === void 0 ? void 0 : _b.value) || ''), 2), value = _d[0], setValue = _d[1];\n    var _e = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), loading = _e[0], setLoading = _e[1];\n    var _f = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), valid = _f[0], setValid = _f[1];\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    var closeDialog = (0,useDialogs/* useDialogs */.q)().closeDialog;\n    var _g = (0,useAlerts/* useAlerts */.Z)(), addErrorAlert = _g.addErrorAlert, addSuccessAlert = _g.addSuccessAlert;\n    (0,external_React_.useEffect)(function () {\n        var validMsg = validateLength(value, lengthType || 'CONTENT_DOCUMENT_COMMENT');\n        setValid(validMsg === null);\n    }, [value]);\n    return external_React_default().createElement(Dialog, { footer: external_React_default().createElement((external_React_default()).Fragment, null,\n            external_React_default().createElement(DialogCloseButton, { disabled: loading }, t('commentElement.cancel', 'Cancel')),\n            external_React_default().createElement(F3Button/* SubmitButton */.Mm, { disabled: loading || !valid, form: COMMENT_ELEMENT_FORM_ID }, t('commentElement.save', 'Save'))), title: existingComment ? t('commentElement.title.edit', 'Edit Comment') : t('commentElement.title.add', 'Add Comment') },\n        external_React_default().createElement(F3Form, { id: COMMENT_ELEMENT_FORM_ID, onSubmit: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                var results, updateComment, msg, e_1;\n                return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            setLoading(true);\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 6, , 7]);\n                            if (!existingComment) return [3 /*break*/, 3];\n                            updateComment = updateCommentElement(getElementTypeAndId(existingComment), value);\n                            return [4 /*yield*/, new IndexRecordApi().updateElements(content, [updateComment])];\n                        case 2:\n                            results = _a.sent();\n                            return [3 /*break*/, 5];\n                        case 3: return [4 /*yield*/, new IndexRecordApi().addElements(content, [createCommentElement(value)])];\n                        case 4:\n                            results = _a.sent();\n                            results.newElements.forEach(function (el) {\n                                var _a, _b;\n                                var date = new Date().toISOString();\n                                (_a = el.metadata).created || (_a.created = date);\n                                (_b = el.metadata).lastModified || (_b.lastModified = date);\n                            });\n                            _a.label = 5;\n                        case 5:\n                            msg = void 0;\n                            if (existingComment) {\n                                msg = t('commentElement.successAlert.updated', 'Your comment has been successfully updated.');\n                            }\n                            else {\n                                msg = t('commentElement.successAlert.added', 'Your comment has been successfully added.');\n                            }\n                            addSuccessAlert(msg);\n                            mergeElementUpdateResults(results);\n                            return [3 /*break*/, 7];\n                        case 6:\n                            e_1 = _a.sent();\n                            setLoading(false);\n                            addErrorAlert(t('common:somethingWrong'));\n                            throw e_1;\n                        case 7:\n                            setLoading(false);\n                            closeDialog();\n                            return [2 /*return*/];\n                    }\n                });\n            }); } },\n            external_React_default().createElement(\"div\", { className: 'row' },\n                external_React_default().createElement(\"label\", { className: 'col-form-label col-12 col-md-3 text-md-end' }, t('commentElement.comment', 'Comment')),\n                external_React_default().createElement(\"div\", { className: 'col-12 col-md-9' },\n                    external_React_default().createElement(F3Input, { autoFocus: true, maxLength: 4096, onValueChange: setValue, validate: function (val) { return validateLength(val, 'CONTENT_DOCUMENT_COMMENT'); }, value: value })))));\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/components/F3Link.tsx\nvar F3Link = __webpack_require__(21655);\n// EXTERNAL MODULE: ./src/ts/shared/components/Thumbnail.tsx\nvar Thumbnail = __webpack_require__(39258);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/currentUser.ts\nvar currentUser = getClientCurrentUser();\nvar warned = false;\nvar deprecatedCurrentUser = currentUser;\nfunction getClientCurrentUser() {\n    try {\n        var w = window;\n        var user_1;\n        if (w.F3) {\n            if (w.F3.page.user) {\n                user_1 = Object.assign({}, w.F3.page.user);\n            }\n            else {\n                user_1 = Object.assign({}, w.userData);\n            }\n        }\n        if (user_1.userId === undefined) {\n            user_1.userId = user_1.id;\n        }\n        user_1.__defineGetter__('id', function () {\n            if (!warned) {\n                console.warn('currentUser.id is undocumented and deprecated; use currentUser.userId instead.');\n                warned = true;\n            }\n            return user_1.userId;\n        });\n        return user_1;\n    }\n    catch (e) {\n        return {};\n    }\n}\n\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/clientCookies.ts\nvar clientCookies = __webpack_require__(68248);\n// EXTERNAL MODULE: ./src/ts/shared/enums/cookies.enum.ts\nvar cookies_enum = __webpack_require__(34700);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/denyUrl.ts\n\n\nvar setDenyUrl = function () {\n    (0,clientCookies/* setCookie */.d8)(cookies_enum/* COOKIES */.E9.DENY_URL, encodeURI(window.location.href));\n};\nvar getDenyUrl = function () {\n    var url = getCookie(COOKIES.DENY_URL);\n    if (url)\n        return decodeURI(url);\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/googleAnalyticsEvents.ts\nvar googleAnalyticsEvents = __webpack_require__(32558);\n// EXTERNAL MODULE: ./src/ts/shared/lib/hooks/useDataLayer.ts\nvar useDataLayer = __webpack_require__(90930);\n// EXTERNAL MODULE: ./src/ts/shared/lib/hooks/useDomain.ts\nvar useDomain = __webpack_require__(29774);\n// EXTERNAL MODULE: ./src/ts/shared/pages/search/facetTypes.ts + 2 modules\nvar facetTypes = __webpack_require__(88503);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useLocalizedContent.ts\n\n\n\n\n\n\n\nvar useLocalizedContent = function () {\n    var f3Domain = (0,useDomain/* useDomain */.a)().f3Domain;\n    var publications = (0,external_React_.useContext)(fold3PageContext/* Fold3PageContext */.h).publications;\n    var collectionGroupT = (0,external_ReactI18next_.useTranslation)(CONTENT_JSON_NAMESPACES.COLLECTION_GROUP).t;\n    var contentTypeT = (0,external_ReactI18next_.useTranslation)(CONTENT_JSON_NAMESPACES.CONTENT_TYPE).t;\n    var collectionT = (0,external_ReactI18next_.useTranslation)(CONTENT_JSON_NAMESPACES.COLLECTION).t;\n    var publicationT = (0,external_ReactI18next_.useTranslation)(CONTENT_JSON_NAMESPACES.PUBLICATIONS).t;\n    var facetT = (0,external_ReactI18next_.useTranslation)(CONTENT_JSON_NAMESPACES.FACETS).t;\n    var localizers = {\n        localizeCollectionGroup: function (title, prop, defaultValue) {\n            return collectionGroupT(ContentId_NoNamespace.collectionGroup(f3Domain, title, prop), defaultValue);\n        },\n        localizeContentType: function (contentType, options) {\n            return contentTypeT(ContentId_NoNamespace.contentType(contentType, options), (0,content_contentObject/* getContentTypeLabel */.iN)(contentType));\n        },\n        localizeCollectionProp: function (slug, props, defaultValue) {\n            if (!Array.isArray(props))\n                props = [props];\n            return collectionT(props.map(function (prop) { return ContentId_NoNamespace.collection(slug, prop); }), defaultValue);\n        },\n        localizePublicationField: function (fieldConfigName, _a) {\n            var name = _a.name, label = _a.label;\n            var normalizedName = name.replaceAll(/[-_]/g, ' ');\n            var field = label ? label.toLowerCase() : normalizedName.toLowerCase();\n            return publicationT([\n                ContentId_NoNamespace.pubField(fieldConfigName, field),\n                ContentId_NoNamespace.pubField('DEFAULT', field),\n            ], label || normalizedName);\n        },\n        localizeFacet: function (facetType, value, label) {\n            var _a;\n            if (value === void 0) { value = undefined; }\n            if (value !== null) {\n                switch (facetType) {\n                    case 'general.title.id': {\n                        var fieldConfigName = (_a = publications[value]) === null || _a === void 0 ? void 0 : _a.fieldConfigName;\n                        return localizers.localizePublicationProp(fieldConfigName, ['shortTitle', 'title'], label);\n                    }\n                    case 'general.title.content.collection': {\n                        return localizers.localizeCollectionProp(value, ['shortTitle', 'title'], label);\n                    }\n                }\n            }\n            if (label === undefined) {\n                label = value !== undefined ? (0,facetTypes/* getFacetValueLabel */.bO)(facetType, value) : (0,facetTypes/* getFacetLabel */.xJ)(facetType);\n            }\n            return facetT(ContentId_NoNamespace.facet(facetType, value), label);\n        },\n        localizePublicationProp: function (fieldConfigName, props, defaultValue) {\n            if (!Array.isArray(props))\n                props = [props];\n            return publicationT(props.map(function (prop) { return ContentId_NoNamespace.pub(fieldConfigName, prop); }), defaultValue);\n        },\n        localizePublicationMd: function (fieldConfigName, name, defaultValue) {\n            return publicationT([\n                ContentId_NoNamespace.pubMd(fieldConfigName, name),\n                ContentId_NoNamespace.pubMd('DEFAULT', name),\n            ], defaultValue);\n        },\n    };\n    return localizers;\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/hooks/useThumbnail.ts\nvar useThumbnail = __webpack_require__(15954);\n// EXTERNAL MODULE: ./src/ts/shared/lib/hooks/useUser.ts\nvar useUser = __webpack_require__(58159);\n// EXTERNAL MODULE: ./src/ts/shared/enums/gtmEvent.enum.ts\nvar gtmEvent_enum = __webpack_require__(30915);\n// EXTERNAL MODULE: ./src/ts/shared/lib/sharedConfig.ts\nvar sharedConfig = __webpack_require__(32179);\n// EXTERNAL MODULE: ./src/ts/shared/lib/ancestryHelpers.ts\nvar ancestryHelpers = __webpack_require__(10751);\n;// CONCATENATED MODULE: ./src/ts/shared/components/AncestrySSO.tsx\n\n\n\n\n\n\n\nvar ANC_SSO_KEY = 'AncestrySSO';\nvar entryStr = function (entries, delimiter) {\n    return Object.entries(entries)\n        .map(function (_a) {\n        var _b = (0,tslib_es6/* __read */.CR)(_a, 2), key = _b[0], val = _b[1];\n        return val === true ? key : \"\".concat(key, \"=\").concat(val);\n    })\n        .join(delimiter);\n};\nvar WINDOW_OPTS = {\n    // Don't add left, top here. They will be added dynamically later on\n    width: 500,\n    height: 550,\n    centerscreen: true,\n    chrome: true,\n    dialog: true,\n    alwaysRaised: true,\n};\nvar WINDOW_STR = entryStr(WINDOW_OPTS, ',');\nvar AncestrySSO = (0,external_React_.forwardRef)(function (_a, ref) {\n    var onClick = _a.onClick, onCancel = _a.onCancel, onAuthenticated = _a.onAuthenticated, handleError = _a.handleError, _b = _a.state, state = _b === void 0 ? {} : _b, children = _a.children, rest = (0,tslib_es6/* __rest */._T)(_a, [\"onClick\", \"onCancel\", \"onAuthenticated\", \"handleError\", \"state\", \"children\"]);\n    var f3Domain = (0,useDomain/* useDomain */.a)().f3Domain;\n    var ssoUrl;\n    var config = (0,sharedConfig/* getConfig */.iE)();\n    return external_React_default().createElement(F3Button/* AncestryButton */.H3, (0,tslib_es6/* __assign */.pi)({ className: 'm-0', gtmEvent: { event: gtmEvent_enum/* Event */.ju.LOGIN, method: 'ancestry' }, onClick: function (e) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n            var ssoDomain, params, paramStr, dualScreenLeft, dualScreenTop, width, height, left, top, fullWindowStr, w;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                ssoDomain = f3Domain;\n                params = (0,ancestryHelpers/* getSsoQueryParams */.$)(config, state);\n                paramStr = '?' + entryStr(params, '&');\n                ssoUrl = \"\".concat((0,ancestryHelpers/* getAncestryHostname */.g)(ssoDomain)).concat(config.ancestry.paths.sso).concat(paramStr);\n                dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;\n                dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;\n                width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n                height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n                left = width / 2 - WINDOW_OPTS.width / 2 + dualScreenLeft;\n                top = height / 2 - WINDOW_OPTS.height / 2 + dualScreenTop;\n                fullWindowStr = \"\".concat(WINDOW_STR, \",left=\").concat(left, \",top=\").concat(top);\n                window.addEventListener('message', function (event) {\n                    var _a = event.data, authResults = _a.authResults, key = _a.ANC_SSO_KEY, error = _a.error;\n                    if (error) {\n                        console.log(error);\n                        if (typeof handleError === 'function') {\n                            handleError(error);\n                        }\n                        return;\n                    }\n                    if (key !== ANC_SSO_KEY) {\n                        console.warn('Not listening to message');\n                        return;\n                    }\n                    onAuthenticated(authResults);\n                    w.close();\n                });\n                w = window.open(ssoUrl, null, fullWindowStr);\n                if (typeof onCancel === 'function') {\n                    w.addEventListener('close', function () {\n                        onCancel();\n                    });\n                }\n                if (typeof onClick === 'function') {\n                    onClick(e);\n                }\n                return [2 /*return*/];\n            });\n        }); } }, rest, { ref: ref }), children);\n});\n\n// EXTERNAL MODULE: ./src/ts/shared/enums/headers.enum.ts\nvar headers_enum = __webpack_require__(57096);\n;// CONCATENATED MODULE: ./src/ts/shared/apis/nodeApi.ts\n\n\n\nvar NodeApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(NodeApi, _super);\n    function NodeApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = null;\n        _this.baseUrl = '/node';\n        return _this;\n    }\n    NodeApi.prototype.refreshUser = function () {\n        return this.get('/refreshUser');\n    };\n    NodeApi.prototype.getRecentLogin = function () {\n        return this.get('/recent-login');\n    };\n    NodeApi.prototype.getUserBackdoorToken = function (userId) {\n        return this.get('/user-backdoor-token', { params: { userId: userId } });\n    };\n    NodeApi.prototype.generateBetaEnrollTokenUrl = function (enroll) {\n        return this.post('/getBetaToken', enroll);\n    };\n    NodeApi.prototype.registerWithAncestry = function (ucdmid, captchaToken) {\n        var _a;\n        return this.post('/auth/anc-register', { userId: ucdmid }, {\n            headers: (_a = {},\n                _a[headers_enum/* HEADERS */.o.CAPTCHA_TOKEN] = captchaToken,\n                _a),\n        });\n    };\n    NodeApi.prototype.authenticateUser = function (username, password) {\n        return this.post('/auth/user', { username: username, password: password });\n    };\n    NodeApi.prototype.linkAncestryAccount = function (username, password, userId, ancestryUsername, setAuthMode) {\n        if (setAuthMode === void 0) { setAuthMode = false; }\n        return this.post('/auth/anc-link', {\n            username: username,\n            password: password,\n            userId: userId,\n            ancestryUsername: ancestryUsername,\n        }, {\n            params: {\n                setAuthMode: setAuthMode,\n            },\n        });\n    };\n    NodeApi.prototype.registerWithEmailPassword = function (_a, captchaToken) {\n        var _b;\n        var email = _a.email, password = _a.password, howDidYouHearAboutUs = _a.howDidYouHearAboutUs;\n        return this.post('/auth/register', { email: email, password: password, howDidYouHearAboutUs: howDidYouHearAboutUs }, {\n            headers: (_b = {},\n                _b[headers_enum/* HEADERS */.o.CAPTCHA_TOKEN] = captchaToken,\n                _b),\n        });\n    };\n    NodeApi.prototype.validatePassword = function (password) {\n        return this.post('/auth/validate-password', { password: password });\n    };\n    NodeApi.prototype.setSourceId = function (type, id) {\n        var _a;\n        return this.get('/sourceId', {\n            params: (_a = {}, _a[type] = id, _a),\n        });\n    };\n    return NodeApi;\n}(F3Api/* F3Api */.D4));\n\n\n// EXTERNAL MODULE: ./src/ts/shared/components/switch/F3Case.tsx\nvar F3Case = __webpack_require__(73047);\n// EXTERNAL MODULE: ./src/ts/shared/components/switch/F3Switch.tsx\nvar F3Switch = __webpack_require__(48107);\n;// CONCATENATED MODULE: ./src/ts/shared/apis/userApi.ts\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/service/UserService.html) */\nvar UserApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(UserApi, _super);\n    function UserApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.FOLD31;\n        _this.baseUrl = '/api/user';\n        return _this;\n    }\n    UserApi.prototype.updateProfile = function (profile) {\n        return this.put('/profile', profile);\n    };\n    UserApi.prototype.setUsername = function (username) {\n        return this.put('/username', null, {\n            params: { username: username },\n        });\n    };\n    UserApi.prototype.countUsers = function () {\n        return this.get('/count', {\n            primitive: true,\n        });\n    };\n    UserApi.prototype.getUserFromToken = function (token) {\n        return this.get('/username/token', { params: { token: token }, deserializeType: 'User' });\n    };\n    UserApi.prototype.setUserPreferences = function (preferences, token) {\n        var params = { token: token };\n        return this.put('/user-preferences', preferences, { params: params, serializeType: 'Metadata' });\n    };\n    UserApi.prototype.getUserPreferences = function (type, token) {\n        var params = { token: token, type: type };\n        return this.get('/user-preferences', { params: params, deserializeType: 'UserPreference' });\n    };\n    UserApi.prototype.setEmail = function (newEmail) {\n        return this.post('/email', { newEmail: newEmail }, { deserializeType: 'UserFull' });\n    };\n    UserApi.prototype.changePassword = function (newPassword) {\n        return this.post('/password', { newPassword: newPassword });\n    };\n    UserApi.prototype.sendVerifyEmail = function () {\n        return this.post('/verify-email');\n    };\n    UserApi.prototype.verifyEmail = function (token) {\n        return this.post(\"/verify-email/\".concat(token));\n    };\n    UserApi.prototype.confirmEmailChange = function (token) {\n        return this.post(\"/confirm-email-change/\".concat(token));\n    };\n    UserApi.prototype.requestEmailChange = function (change) {\n        return this.post(\"/request-email-change\", change);\n    };\n    UserApi.prototype.sendForgotPasswordEmail = function (email) {\n        return this.post(\"/forgot-password\", { email: email }, { serializeType: 'UserAvailable' });\n    };\n    UserApi.prototype.resetPassword = function (token, newPassword) {\n        return this.post('/reset-password', {\n            token: token,\n            newPassword: newPassword,\n            sendEmail: true,\n        }, {\n            deserializeType: 'UserFull',\n        });\n    };\n    UserApi.prototype.addUserTag = function (tag) {\n        return this.put(\"/tag/\".concat(tag), null);\n    };\n    UserApi.prototype.listUserTags = function () {\n        return this.get('/tag');\n    };\n    UserApi.prototype.changeRegistrationDomain = function (newDomain) {\n        return this.put(\"/reg-domain/\".concat(newDomain));\n    };\n    UserApi.prototype.checkChangeRegistrationDomain = function () {\n        return this.get('/reg-domain');\n    };\n    UserApi.prototype.listAllTagNamesWithCounts = function (prefix) {\n        if (prefix === void 0) { prefix = null; }\n        return this.get('/tag-counts', {\n            params: { prefix: prefix },\n        });\n    };\n    UserApi.prototype.removeUserTag = function (tag) {\n        return this.delete(\"/tag/\".concat(tag));\n    };\n    UserApi.prototype.listAllTagNames = function (prefix) {\n        if (prefix === void 0) { prefix = null; }\n        return this.get('/tag-admin', {\n            params: { prefix: prefix },\n        });\n    };\n    UserApi.prototype.deleteTagForAllUsers = function (tag) {\n        return this.delete(\"/tag-admin/\".concat(tag));\n    };\n    UserApi.prototype.authenticateOpenId = function (code) {\n        return this.post(\"/authenticate-openid/\".concat(code), null, {\n            deserializeType: 'AncestryAuthenticationResults',\n        });\n    };\n    UserApi.prototype.updateLastLogin = function () {\n        return this.post('/update-logged-in');\n    };\n    UserApi.prototype.setGclid = function (gclid) {\n        return this.put('/gclid', { gclid: gclid });\n    };\n    UserApi.prototype.getSelf = function (accountStatus) {\n        if (accountStatus === void 0) { accountStatus = false; }\n        return this.get('/self', {\n            params: { 'account-status': accountStatus },\n            deserializeType: 'UserFull',\n        });\n    };\n    UserApi.prototype.checkAccessToken = function (type, token) {\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n            var resp;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.get(\"/check-token/\".concat(type, \"/\").concat(token))];\n                    case 1:\n                        resp = _a.sent();\n                        if (!resp) {\n                            return [2 /*return*/, { valid: true, error: null }];\n                        }\n                        else {\n                            return [2 /*return*/, { valid: false, error: resp.value }];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    UserApi.prototype.registerUserEx = function (_a) {\n        var email = _a.email, password = _a.password, xid = _a.xid, iid = _a.iid, howDidYouHearAboutUs = _a.howDidYouHearAboutUs, domain = _a.domain;\n        var registration = { email: email, password: password, howDidYouHearAboutUs: howDidYouHearAboutUs, confirmed: false };\n        if (xid)\n            registration.xid = xid;\n        if (iid)\n            registration.iid = iid;\n        return this.post('/register-ex', registration, {\n            params: { 'email': true },\n            deserializeType: 'CreateAccountResponse',\n        });\n    };\n    UserApi.prototype.getUser = function (userId) {\n        return this.get(\"/\".concat(userId), {\n            deserializeType: 'UserFull',\n        });\n    };\n    UserApi.prototype.getUserFull = function (userId, accountStatus) {\n        if (accountStatus === void 0) { accountStatus = false; }\n        return this.get(\"/full/\".concat(userId), {\n            params: { 'account-status': accountStatus },\n            deserializeType: 'UserFull',\n        });\n    };\n    UserApi.prototype.findUserForPeasants = function (params) {\n        return this.get('/find-for-peasants', {\n            params: params,\n            deserializeType: 'UserFull',\n        });\n    };\n    UserApi.prototype.getProfile = function (params) {\n        return this.get('/profile', {\n            params: params,\n            deserializeType: 'UserProfile',\n        });\n    };\n    UserApi.prototype.registerAncestryUserEx = function (ucdmId, xid, iid) {\n        var registration = { domain: null };\n        if (xid)\n            registration.xid = xid;\n        if (iid)\n            registration.iid = iid;\n        return this.post(\"/register-anc-ex/\".concat(ucdmId), registration, {\n            deserializeType: 'CreateAccountResponse',\n        });\n    };\n    UserApi.prototype.isUsernameAvailable = function (username) {\n        return this.get('/username-available', {\n            params: { username: username },\n            primitive: true,\n        });\n    };\n    UserApi.prototype.findUser = function (_params) {\n        var userId = _params.userId, accountStatus = _params.accountStatus, rest = (0,tslib_es6/* __rest */._T)(_params, [\"userId\", \"accountStatus\"]);\n        var params = (0,mapUtil/* filterObject */.v7)((0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, rest), { id: userId, 'account-status': accountStatus }), function (key, val) { return !!val; });\n        return this.get('/find', {\n            params: params,\n            deserializeType: 'UserFull',\n        });\n    };\n    UserApi.prototype.listRoles = function () {\n        return this.get('/list-roles');\n    };\n    UserApi.prototype.updateRoles = function (userId, roles) {\n        return this.put(\"/update-roles/\".concat(userId), roles);\n    };\n    UserApi.prototype.createUserLink = function (userId) {\n        return this.post('/admin/backdoor', null, {\n            params: { userId: userId },\n            baseURL: '',\n        });\n    };\n    UserApi.prototype.addAdminDomain = function (userId, domain) {\n        return this.put(\"/admin-domain/\".concat(userId, \"/\").concat(domain));\n    };\n    UserApi.prototype.removeAdminDomain = function (userId, domain) {\n        return this.delete(\"/admin-domain/\".concat(userId, \"/\").concat(domain));\n    };\n    UserApi.prototype.linkAncestryUser = function (fold3UserId, ucdmId) {\n        return this.put('/link-anc', null, {\n            params: { id: fold3UserId, ucdmid: ucdmId },\n        });\n    };\n    UserApi.prototype.authenticateUser = function (userAuthenticate) {\n        return this.post('/authenticate', userAuthenticate, {\n            deserializeType: 'UserFull',\n        });\n    };\n    UserApi.prototype.isUserEmailAvailable = function (email) {\n        return this.post('/email-available', { email: email }, {\n            serializeType: 'UserAvailable',\n            primitive: true,\n        });\n    };\n    UserApi.prototype.deleteIcon = function () {\n        return this.delete('/user-icon');\n    };\n    UserApi.prototype.updateLanguage = function (lang) {\n        return this.put('/lang', { value: lang });\n    };\n    return UserApi;\n}(F3Api/* F3Api */.D4));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/enums/userPreference.enum.ts\nvar Preference;\n(function (Preference) {\n    Preference[\"Email\"] = \"account-email\";\n    Preference[\"AdminFilter\"] = \"admin-filter\";\n})(Preference || (Preference = {}));\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/communicationsHelpers.ts\n\n\n\nvar subscribeToAllEmails = function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n    var communicationPreferences, optedIn;\n    return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, new UserApi().getUserPreferences(Preference.Email)];\n            case 1:\n                communicationPreferences = _a.sent();\n                if (!(communicationPreferences.length > 0)) return [3 /*break*/, 3];\n                optedIn = communicationPreferences.map(function (preference) {\n                    return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, preference.metadata), { value: 'true' });\n                });\n                return [4 /*yield*/, new UserApi().setUserPreferences(optedIn)];\n            case 2:\n                _a.sent();\n                _a.label = 3;\n            case 3: return [2 /*return*/];\n        }\n    });\n}); };\n\n// EXTERNAL MODULE: ./src/ts/shared/apis/request.ts\nvar request = __webpack_require__(80000);\n// EXTERNAL MODULE: ./src/ts/shared/lib/hooks/useScriptTag.ts\nvar useScriptTag = __webpack_require__(12507);\n// EXTERNAL MODULE: ./src/ts/shared/lib/time.ts\nvar time = __webpack_require__(96846);\n;// CONCATENATED MODULE: ./src/ts/shared/components/forms/F3Checkbox.tsx\n\n\n\nvar F3Checkbox = (0,external_React_.forwardRef)(function (_a, ref) {\n    var value = _a.value, checked = _a.checked, onChange = _a.onChange, onValueChange = _a.onValueChange, validate = _a.validate, otherProps = (0,tslib_es6/* __rest */._T)(_a, [\"value\", \"checked\", \"onChange\", \"onValueChange\", \"validate\"]);\n    var _b = useFormValidation(ref, otherProps, validate), validationMessage = _b.validationMessage, rest = (0,tslib_es6/* __rest */._T)(_b, [\"validationMessage\"]);\n    return external_React_default().createElement(\"div\", null,\n        external_React_default().createElement(\"input\", (0,tslib_es6/* __assign */.pi)({}, rest, { checked: !!(checked !== undefined ? checked : value), onChange: function (e) {\n                onValueChange === null || onValueChange === void 0 ? void 0 : onValueChange(e.target.checked);\n                onChange === null || onChange === void 0 ? void 0 : onChange(e);\n            }, type: 'checkbox' })),\n        external_React_default().createElement(\"div\", { className: 'invalid-feedback lh-sm', role: 'alert' },\n            external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-warning' }),\n            validationMessage));\n});\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/CaptchaCheckbox.tsx\n\n\n\n\n\n\n\n\n\n\n\nvar CAPTCHA_SUCCESS_FN = 'F3_CAPTCHA_SUCCESS_FN';\nvar CAPTCHA_EXPIRED_FN = 'F3_CAPTCHA_EXPIRED_FN';\n/* The way this is set up, only one of these should ever be rendered on the page at a time. */\nvar CaptchaCheckbox = function (_a) {\n    var onCaptchaResponse = _a.onCaptchaResponse, _b = _a.bypassWithCookie, bypassWithCookie = _b === void 0 ? false : _b;\n    var i18n = (0,external_ReactI18next_.useTranslation)().i18n;\n    var _c = (0,sharedConfig/* getConfig */.iE)().captcha, publicKey = _c.publicKey, url = _c.url;\n    var _d = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), checked = _d[0], setChecked = _d[1];\n    var checkboxRef = (0,external_React_.useRef)();\n    var language = i18n.language;\n    var fullUrl = new URL(url);\n    fullUrl.searchParams.append('hl', language);\n    (0,useScriptTag/* useScriptTag */.P)(fullUrl.toString());\n    var skipRender = bypassWithCookie && (0,lib_getRuntime/* isBrowserRuntime */.wK)() && !!(0,clientCookies/* getCookie */.ej)(cookies_enum/* COOKIES */.E9.CAPTCHA);\n    (0,external_React_.useEffect)(function () {\n        if (skipRender)\n            return;\n        try {\n            (0,request/* default */.ZP)({ url: '/node/testing/isTesting' })\n                .then(function () { return setChecked(true); });\n        }\n        catch (e) {\n            // This person doesn't have a testing cookie or has an invalid one.\n        }\n    }, []);\n    (0,external_React_.useEffect)(function () {\n        if (skipRender)\n            return;\n        window[CAPTCHA_SUCCESS_FN] = function (token) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n            var resp;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                resp = null;\n                setChecked(true);\n                onCaptchaResponse === null || onCaptchaResponse === void 0 ? void 0 : onCaptchaResponse(resp, token);\n                return [2 /*return*/];\n            });\n        }); };\n        window[CAPTCHA_EXPIRED_FN] = function () {\n            setChecked(false);\n        };\n    }, []);\n    (0,external_React_.useEffect)(function () {\n        var _a, _b;\n        if (skipRender)\n            return;\n        (_b = (_a = checkboxRef.current) === null || _a === void 0 ? void 0 : _a.form) === null || _b === void 0 ? void 0 : _b.addEventListener('submit', function () {\n            setTimeout(function () {\n                window.grecaptcha.reset();\n            }, (0,time.getTimeInMs)(5, 'sec'));\n        });\n    }, []);\n    if (skipRender)\n        return null;\n    return external_React_default().createElement(\"div\", { className: 'position-relative' },\n        external_React_default().createElement(\"div\", { className: 'g-recaptcha', \"data-callback\": CAPTCHA_SUCCESS_FN, \"data-expired-callback\": CAPTCHA_EXPIRED_FN, \"data-sitekey\": publicKey }),\n        external_React_default().createElement(F3Checkbox, { className: 'invisible position-absolute', \"data-cy\": 'captcha-checkbox', onValueChange: setChecked, required: true, validate: function (checked) {\n                if (!checked)\n                    return 'You must check this box to submit the form';\n            }, value: checked }));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/CommunicationsOptIn.tsx\n\n\n\n\nvar DONT_DISPLAY_DOMAINS = ['FOLD3_US', 'FORCES_WAR_CA'];\nvar AUTO_SUBSCRIBE_DOMAINS = ['FOLD3_US', 'FORCES_WAR_CA'];\nvar CommunicationsOptIn = function (_a) {\n    var checked = _a.checked, onValueChange = _a.onValueChange;\n    var _b = (0,useDomain/* useDomain */.a)(), siteName = _b.siteName, f3Domain = _b.f3Domain;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    (0,external_React_.useEffect)(function () {\n        onValueChange(AUTO_SUBSCRIBE_DOMAINS.includes(f3Domain));\n    }, []);\n    if (DONT_DISPLAY_DOMAINS.includes(f3Domain)) {\n        return null;\n    }\n    return external_React_default().createElement(\"div\", { className: 'mb-3 form-check' },\n        external_React_default().createElement(F3Checkbox, { className: 'form-check-input', id: 'checkAccept', onValueChange: onValueChange, value: checked }),\n        external_React_default().createElement(\"div\", { className: 'lh-sm' },\n            external_React_default().createElement(\"label\", { className: 'form-check-label', htmlFor: 'checkAccept' }, t('communicationsOptIn', '{{siteName}} may contact you via email about their products and services. You can unsubscribe or customise your email settings at any time.', { siteName: siteName }))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/TermsAndConditions.tsx\n\n\n\n\n\n\n\n\nvar TermsAndConditions = (0,external_React_.forwardRef)(function (_a, ref) {\n    var _b = _a.id, id = _b === void 0 ? 'tncCheckbox' : _b, rest = (0,tslib_es6/* __rest */._T)(_a, [\"id\"]);\n    var f3Domain = (0,useDomain/* useDomain */.a)().f3Domain;\n    var _c = (0,sharedConfig/* getConfig */.iE)().ancestry.paths, termsAndConditions = _c.termsAndConditions, privacyStatement = _c.privacyStatement;\n    var ancHostname = (0,ancestryHelpers/* getAncestryHostname */.g)(f3Domain);\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    return external_React_default().createElement(\"div\", { className: 'mb-3 form-check' },\n        external_React_default().createElement(F3Checkbox, (0,tslib_es6/* __assign */.pi)({ \"data-cy\": 'terms-checkbox', id: id }, rest, { ref: ref, className: 'form-check-input' })),\n        external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'termsAndConditions.form', t: t },\n            external_React_default().createElement(\"label\", { className: 'lh-sm form-check-label', htmlFor: id },\n                \"I have read and agree to the\",\n                external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'link', className: 'p-0 align-baseline lh-1', onClick: function () {\n                        window.open(\"\".concat(ancHostname).concat(termsAndConditions, \"?hideHeader=1\"), '_blank', 'toolbar=no,menubar=no,location=no,height=500,width=1000,resizable=yes,scrollbars=yes');\n                        window.ga('send', {\n                            hitType: 'pageview',\n                            page: '/show_tnc_click',\n                            title: 'Terms and Conditions',\n                        });\n                    } }, \"Terms and Conditions\"),\n                external_React_default().createElement(\"span\", { className: 'mx-1' }, \"and\"),\n                external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'link', className: 'p-0 align-baseline lh-1', onClick: function () {\n                        window.open(\"\".concat(ancHostname).concat(privacyStatement, \"?hideHeader=1\"), '_blank', 'toolbar=no,menubar=no,location=no,height=500,width=1000,resizable=yes,scrollbars=yes');\n                        window.ga('send', {\n                            hitType: 'pageview',\n                            page: '/show_privacy',\n                            title: 'Privacy Statement',\n                        });\n                    } }, \"Privacy Statement\"),\n                \".\")));\n});\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/login/AncestryRegisterForm.tsx\n\n\n\n\n\n\n\n\n\n\n\n\nvar AncestryRegisterForm = function (_a) {\n    var onRegistered = _a.onRegistered, authResults = _a.authResults;\n    var _b = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), communicationsChecked = _b[0], setCommunicationsChecked = _b[1];\n    var _c = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), termsChecked = _c[0], setTermsChecked = _c[1];\n    var captchaToken = (0,external_React_.useRef)(null);\n    var siteType = (0,useDomain/* useDomain */.a)().siteType;\n    var addErrorAlert = (0,useAlerts/* useAlerts */.Z)().addErrorAlert;\n    var t = (0,external_ReactI18next_.useTranslation)('login').t;\n    return external_React_default().createElement(F3Form, { onSubmit: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n            var e_1;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!termsChecked) {\n                            addErrorAlert(t('registerWithAncestryForm.termsError', 'You must agree to the terms and conditions before continuing'));\n                            return [2 /*return*/];\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 5, , 6]);\n                        return [4 /*yield*/, new NodeApi().registerWithAncestry(authResults.userId, captchaToken.current)];\n                    case 2:\n                        _a.sent();\n                        if (!(siteType === 'FWR' && communicationsChecked)) return [3 /*break*/, 4];\n                        /* F3 users will get the configured defaults for communications */\n                        return [4 /*yield*/, subscribeToAllEmails()];\n                    case 3:\n                        /* F3 users will get the configured defaults for communications */\n                        _a.sent();\n                        _a.label = 4;\n                    case 4:\n                        onRegistered();\n                        return [3 /*break*/, 6];\n                    case 5:\n                        e_1 = _a.sent();\n                        console.error(e_1);\n                        addErrorAlert(t('common:somethingWrong'));\n                        return [3 /*break*/, 6];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        }); } },\n        external_React_default().createElement(CommunicationsOptIn, { checked: communicationsChecked, onValueChange: setCommunicationsChecked }),\n        external_React_default().createElement(TermsAndConditions, { onValueChange: setTermsChecked, required: true, value: termsChecked }),\n        external_React_default().createElement(CaptchaCheckbox, { onCaptchaResponse: function (resp, token) {\n                if (resp === null || (resp === null || resp === void 0 ? void 0 : resp.success)) {\n                    captchaToken.current = token;\n                }\n            } }),\n        external_React_default().createElement(F3Button/* SubmitButton */.Mm, { className: 'me-1', \"data-cy\": 'btn-save-continue' }, t('registerWithAncestryForm.saveContinue', 'Save & continue')));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useStringValidation.ts\n\nvar DEFAULT_SPECIAL_CHARS = '!@#\\$%\\^\\&\\*';\nvar DEFAULT_PASSWORD_REQUIREMENTS = {\n    maxCharacters: 64,\n    minCharacters: 8,\n    specialOrLetters: 1,\n    numbers: 1,\n};\nvar DEFAULT_USERNAME_REQUIREMENTS = {\n    maxCharacters: 32,\n    minCharacters: 1,\n    regex: /^[\\w\\d_]{1,32}$/,\n    regexErrMsg: 'Username must contain only upper and lowercase letters, numbers, and underscores',\n};\nvar useStringValidation = function (type, options) {\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    var minCharacters = options.minCharacters, maxCharacters = options.maxCharacters, upperLetters = options.upperLetters, lowerLetters = options.lowerLetters, letters = options.letters, special = options.special, _a = options.specialChars, specialChars = _a === void 0 ? DEFAULT_SPECIAL_CHARS : _a, specialOrLetters = options.specialOrLetters, numbers = options.numbers;\n    var validation = {\n        getErrorString: function (err) {\n            switch (type) {\n                case 'PASSWORD': {\n                    switch (err) {\n                        case 'DICTIONARY': return t('stringValidation.PASSWORD.DICTIONARY', 'Password cannot be a common word or phrase');\n                        case 'LONG': return t('stringValidation.PASSWORD.LONG', 'Password must not be longer than {{maxCharacters}} characaters', { maxCharacters: maxCharacters });\n                        case 'LOWER': return t('stringValidation.PASSWORD.LOWER', 'Password must contain at least {{lowerLetters}} lowercase characters', { lowerLetters: lowerLetters });\n                        case 'NON_NUMERIC': return t('stringValidation.PASSWORD.NON_NUMERIC', 'Password must contain at least {{letters}} letters', { letters: letters });\n                        case 'NUMBERS': return t('stringValidation.PASSWORD.NUMBERS', 'Password must contain at least {{numbers}} numbers', { numbers: numbers });\n                        case 'SHORT': return t('stringValidation.PASSWORD.SHORT', 'Password must contain at least {{minCharacters}} characters', { minCharacters: minCharacters });\n                        case 'SPECIAL': return t('stringValidation.PASSWORD.SPECIAL', 'Password must contain at least {{special}} special characters', { special: special });\n                        case 'SPECIAL_OR_LETTERS': return t('stringValidation.PASSWORD.SPECIAL_OR_LETTERS', 'Password must contain at least {{specialOrLetters}} letters or characters ({{specialChars}})', { specialOrLetters: specialOrLetters, specialChars: specialChars });\n                        case 'UPPER': return t('stringValidation.PASSWORD.UPPER', 'Password must contain at least {{upperLetters}} uppercase letters', { upperLetters: upperLetters });\n                    }\n                }\n                case 'USERNAME': {\n                    switch (err) {\n                        case 'LONG': return t('stringValidation.USERNAME.LONG', 'Username must not be longer than {{maxCharacters}} characters', { maxCharacters: maxCharacters });\n                        case 'REG_EXP': return t('stringValidation.USERNAME.REG_EXP', 'Username must contain between 1 and 32 upper and lowercase letters, numbers, and underscores');\n                        case 'SHORT': return t('stringValidation.USERNAME.SHORT', 'Username must contain at least {{minCharacters}} characters', { minCharacters: minCharacters });\n                    }\n                }\n            }\n        },\n        validateString: function (string) {\n            var minCharacters = options.minCharacters, maxCharacters = options.maxCharacters, upperLetters = options.upperLetters, lowerLetters = options.lowerLetters, letters = options.letters, special = options.special, _a = options.specialChars, specialChars = _a === void 0 ? DEFAULT_SPECIAL_CHARS : _a, specialOrLetters = options.specialOrLetters, numbers = options.numbers, regex = options.regex;\n            var validationResponse = { valid: true, errors: {} };\n            var errs = validationResponse.errors;\n            if (minCharacters !== undefined && string.length < minCharacters) {\n                errs.minCharacters = validation.getErrorString('SHORT');\n            }\n            if (maxCharacters !== undefined && string.length > maxCharacters) {\n                errs.maxCharacters = validation.getErrorString('LONG');\n            }\n            if (upperLetters !== undefined && !new RegExp(\"[A-Z]{\".concat(upperLetters, \"}\")).test(string)) {\n                errs.upperLetters = validation.getErrorString('UPPER');\n            }\n            if (lowerLetters !== undefined && !new RegExp(\"[a-z]{\".concat(lowerLetters, \"}\")).test(string)) {\n                errs.lowerLetters = validation.getErrorString('LOWER');\n            }\n            if (letters !== undefined && !new RegExp(\"[a-zA-Z]{\".concat(letters, \"}\")).test(string)) {\n                errs.letters = validation.getErrorString('NON_NUMERIC');\n            }\n            if (special !== undefined && !new RegExp(\"[\".concat(specialChars, \"]{\").concat(special, \"}\")).test(string)) {\n                errs.special = validation.getErrorString('SPECIAL');\n            }\n            if (specialOrLetters !== undefined && !new RegExp(\"[a-zA-Z\".concat(specialChars, \"]{\").concat(specialOrLetters, \"}\")).test(string)) {\n                errs.specialOrLetters = validation.getErrorString('SPECIAL_OR_LETTERS');\n            }\n            if (numbers !== undefined && !new RegExp(\"[0-9]{\".concat(numbers, \"}\")).test(string)) {\n                errs.numbers = validation.getErrorString('NUMBERS');\n            }\n            if (regex !== undefined && !regex.test(string)) {\n                errs.regexErrMsg = options.regexErrMsg;\n            }\n            if (Object.keys(errs).length > 0) {\n                validationResponse.valid = false;\n            }\n            else {\n                delete validationResponse.errors;\n            }\n            return validationResponse;\n        },\n        ancestryValidationToValidation: function (ancValidation) {\n            var errors = (ancValidation.FailureReasonCode || []).reduce(function (finalObj, code) {\n                var property;\n                switch (code) {\n                    case 'DICTIONARY':\n                        property = 'dictionary';\n                        break;\n                    case 'NON_NUMERIC':\n                        property = 'letters';\n                        break;\n                    case 'NUMBERS':\n                        property = 'numbers';\n                        break;\n                    case 'SHORT':\n                        property = 'minCharacters';\n                        break;\n                    case 'LONG':\n                        property = 'maxCharacters';\n                        break;\n                }\n                finalObj[property] = validation.getErrorString(code);\n                return finalObj;\n            }, {});\n            return {\n                valid: ancValidation.IsValid,\n                errors: errors,\n            };\n        },\n    };\n    return validation;\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/PasswordRequirements.tsx\n\n\n\nvar PasswordRequirements = function (_a) {\n    var validation = _a.validation, options = _a.options;\n    var _b = validation || { valid: true }, _c = _b.valid, valid = _c === void 0 ? true : _c, _d = _b.errors, errors = _d === void 0 ? {} : _d;\n    var minCharacters = errors.minCharacters, maxCharacters = errors.maxCharacters, numbers = errors.numbers, specialOrLetters = errors.specialOrLetters, dictionary = errors.dictionary;\n    var getErrorString = useStringValidation('PASSWORD', options).getErrorString;\n    return external_React_default().createElement(\"ul\", { className: 'list-unstyled text-muted', id: 'password-messages' },\n        external_React_default().createElement(\"li\", { className: (0,classUtil/* classStr */.B)('rule', 'SHORT', 'icon-f3', validation !== null && \"icon-\".concat(minCharacters ? 'close text-danger' : 'check text-success')) }, getErrorString('SHORT')),\n        maxCharacters &&\n            external_React_default().createElement(\"li\", { className: (0,classUtil/* classStr */.B)('rule', 'LONG', 'icon-f3', validation !== null && \"icon-\".concat(maxCharacters ? 'close text-danger' : 'check text-success')) }, getErrorString('LONG')),\n        external_React_default().createElement(\"li\", { className: (0,classUtil/* classStr */.B)('rule', 'NUMBERS', 'icon-f3', validation !== null && \"icon-\".concat(numbers ? 'close text-danger' : 'check text-success')) }, getErrorString('NUMBERS')),\n        external_React_default().createElement(\"li\", { className: (0,classUtil/* classStr */.B)('rule', 'NON_NUMERIC', 'icon-f3', validation !== null && \"icon-\".concat(specialOrLetters ? 'close text-danger' : 'check text-success')) }, getErrorString('SPECIAL_OR_LETTERS')),\n        external_React_default().createElement(\"li\", { className: (0,classUtil/* classStr */.B)('rule', 'DICTIONARY', 'icon-f3', validation !== null && \"icon-\".concat(dictionary ? 'close text-danger' : 'check text-success')) }, getErrorString('DICTIONARY')));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/ChangePasswordForm.tsx\n\n\n\n\n\n\n\n\n\n\n\n\nvar ChangePasswordForm = function (_a) {\n    var onPasswordChanged = _a.onPasswordChanged, onReconfirmPassword = _a.onReconfirmPassword;\n    var _b = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(''), 2), newPassword = _b[0], setNewPassword = _b[1];\n    var _c = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(''), 2), confirmedPassword = _c[0], setConfirmedPassword = _c[1];\n    var _d = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), validation = _d[0], setValidation = _d[1];\n    var _e = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), loading = _e[0], setLoading = _e[1];\n    var _f = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), showPassword = _f[0], setShowPassword = _f[1];\n    var _g = (0,useAlerts/* useAlerts */.Z)(), addErrorAlert = _g.addErrorAlert, clearAlerts = _g.clearAlerts;\n    var _h = (0,useUser/* useUser */.a)().user, _j = _h === void 0 ? {} : _h, email = _j.email;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    var _k = useStringValidation('PASSWORD', DEFAULT_PASSWORD_REQUIREMENTS), validateString = _k.validateString, ancestryValidationToValidation = _k.ancestryValidationToValidation;\n    function getErrorMsg(err) {\n        switch (err) {\n            case 'SAME': return t('changePass.passUnique', 'Your new password may not be the same as your old password');\n            case 'INVALID_OLD_PASSWORD': return t('changePass.incorectPass', 'Your current password is incorrect');\n            case 'INVALID_NEW_PASSWORD': return t('changePass.invalidPass', 'Your new password is not valid');\n            case 'INVALID_CONFIRM': return t('changePass.mismatchedPass', 'Your new passwords do not match');\n            case 'ERROR':\n            default:\n                return t('changePass.passNotUpdated', 'Your password could not be updated at this time. Please try again later.');\n        }\n    }\n    return external_React_default().createElement(\"form\", { className: 'row ChangePasswordForm text-start g-0', onSubmit: function (e) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n            var serverValidity, clientValidity, serverValidation, e_1, e_2, e_3, msg;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        e.preventDefault();\n                        clearAlerts();\n                        if (newPassword !== confirmedPassword) {\n                            addErrorAlert(getErrorMsg('INVALID_CONFIRM'));\n                            return [2 /*return*/];\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 4, , 5]);\n                        setLoading(true);\n                        serverValidity = void 0, clientValidity = validateString(newPassword);\n                        if (!clientValidity.valid) return [3 /*break*/, 3];\n                        return [4 /*yield*/, new NodeApi().validatePassword(newPassword)];\n                    case 2:\n                        serverValidation = _a.sent();\n                        serverValidity = ancestryValidationToValidation(serverValidation);\n                        _a.label = 3;\n                    case 3:\n                        if (!(clientValidity.valid && serverValidity.valid)) {\n                            setValidation(validation);\n                            addErrorAlert(getErrorMsg('INVALID_NEW_PASSWORD'));\n                            setLoading(false);\n                            return [2 /*return*/];\n                        }\n                        return [3 /*break*/, 5];\n                    case 4:\n                        e_1 = _a.sent();\n                        addErrorAlert(getErrorMsg('ERROR'));\n                        setLoading(false);\n                        return [2 /*return*/];\n                    case 5:\n                        _a.trys.push([5, 7, , 8]);\n                        return [4 /*yield*/, new UserApi().authenticateUser({ password: newPassword, usernameOrEmail: email })];\n                    case 6:\n                        _a.sent();\n                        // this means the new password is the same as the old password. Show error\n                        addErrorAlert(getErrorMsg('SAME'));\n                        setLoading(false);\n                        return [2 /*return*/];\n                    case 7:\n                        e_2 = _a.sent();\n                        return [3 /*break*/, 8];\n                    case 8:\n                        _a.trys.push([8, 10, , 11]);\n                        return [4 /*yield*/, new UserApi().changePassword(newPassword)];\n                    case 9:\n                        _a.sent();\n                        onPasswordChanged(newPassword);\n                        return [3 /*break*/, 11];\n                    case 10:\n                        e_3 = _a.sent();\n                        msg = void 0;\n                        switch (e_3.response.status) {\n                            case 403:\n                                onReconfirmPassword();\n                                return [2 /*return*/];\n                            /*\n                             * case 400:\n                             * \tswitch (e.response.data.message) {\n                             * \t\t// case 'No password provided': msg = getErrorMsg('INVALID_NEW_PASSWORD'); break;\n                             * \t\t// case 'Same Password': msg = getErrorMsg('SAME'); break;\n                             * \t}\n                             * \tbreak;\n                             */\n                        }\n                        if (!msg)\n                            msg = getErrorMsg('ERROR');\n                        addErrorAlert(msg);\n                        return [3 /*break*/, 11];\n                    case 11:\n                        setLoading(false);\n                        return [2 /*return*/];\n                }\n            });\n        }); } },\n        external_React_default().createElement(\"div\", { className: 'col-md-7 col-10 col-offset-1 offset-md-0 form-horizontal' },\n            external_React_default().createElement(\"div\", { className: 'row g-0 mb-2' },\n                external_React_default().createElement(\"label\", { className: 'col-md-5 col-form-label text-md-end pe-md-3 fw-bold', htmlFor: 'new-pwd' }, t('changePass.newPass', 'New Password')),\n                external_React_default().createElement(\"div\", { className: 'col-md-7' },\n                    external_React_default().createElement(F3Input, { className: 'form-control mb-4', id: 'new-pwd', onBlur: function (e) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                            var validation;\n                            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                                switch (_a.label) {\n                                    case 0: return [4 /*yield*/, validateString(newPassword)];\n                                    case 1:\n                                        validation = _a.sent();\n                                        if (!validation.valid) {\n                                            setValidation(validation);\n                                            addErrorAlert(getErrorMsg('INVALID_NEW_PASSWORD'));\n                                        }\n                                        return [2 /*return*/];\n                                }\n                            });\n                        }); }, onChange: function (e) {\n                            var pwd = e.target.value;\n                            setNewPassword(pwd);\n                            setValidation(validateString(pwd));\n                        }, placeholder: t('changePass.enterNew', 'Enter new password'), type: showPassword ? 'text' : 'password', value: newPassword })),\n                external_React_default().createElement(\"label\", { className: 'col-md-5 col-form-label text-md-end pe-md-3 fw-bold', htmlFor: 'confirm-pwd' }, t('changePass.confirmPass', 'Confirm Password')),\n                external_React_default().createElement(\"div\", { className: 'col-md-7' },\n                    external_React_default().createElement(F3Input, { className: 'form-control', id: 'confirm-pwd', onChange: function (e) {\n                            var pwd = e.target.value;\n                            setConfirmedPassword(pwd);\n                        }, placeholder: t('changePass.confirmNewPass', 'Confirm new password'), type: showPassword ? 'text' : 'password', value: confirmedPassword }))),\n            external_React_default().createElement(\"div\", { className: 'row g-0 mb-4' },\n                external_React_default().createElement(\"div\", { className: 'col-md-6 offset-md-5' },\n                    external_React_default().createElement(\"div\", { className: 'form-check' },\n                        external_React_default().createElement(\"input\", { checked: showPassword, className: 'form-check-input', id: 'show-password', name: 'show-password', onChange: function (e) { return setShowPassword(e.target.checked); }, type: 'checkbox' }),\n                        external_React_default().createElement(\"label\", { className: 'form-check-label', htmlFor: 'show-password' }, t('changePass.showPass', 'Show passwords'))))),\n            external_React_default().createElement(\"div\", { className: 'row g-0 mb-3' },\n                external_React_default().createElement(\"div\", { className: 'col-md-7 offset-md-5' },\n                    external_React_default().createElement(F3Button/* SubmitButton */.Mm, { disabled: loading }, t('changePass.updatePass', 'Update password'))))),\n        external_React_default().createElement(\"div\", { className: 'col-md-5 col-12 ps-3' }, validation &&\n            external_React_default().createElement(PasswordRequirements, { options: DEFAULT_PASSWORD_REQUIREMENTS, validation: validation })),\n        external_React_default().createElement(\"div\", { className: 'col-md-7 offset-md-3 col-10 col-offset-2' },\n            external_React_default().createElement(F3Link/* F3Link */.y, { href: '/forgot-password' }, t('changePass.forgotPass', 'Forgot password?'))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/login/Fold3LoginForm.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Fold3LoginForm = function (_a) {\n    var passwordChanged = _a.passwordChanged, onLoggedIn = _a.onLoggedIn, loading = _a.loading, setLoading = _a.setLoading;\n    var isSignedIn = (0,useUser/* useUser */.a)().isSignedIn;\n    var siteName = (0,useDomain/* useDomain */.a)().siteName;\n    var _b = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(''), 2), username = _b[0], setUsername = _b[1];\n    var _c = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(''), 2), password = _c[0], setPassword = _c[1];\n    var _d = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), showChangePassword = _d[0], setShowChangePassword = _d[1];\n    var t = (0,external_ReactI18next_.useTranslation)('login').t;\n    var _e = (0,useAlerts/* useAlerts */.Z)(), addErrorAlert = _e.addErrorAlert, clearAlerts = _e.clearAlerts, errorAlertId = _e.errorAlertId;\n    if (showChangePassword) {\n        return external_React_default().createElement(ChangePasswordForm, { onPasswordChanged: function (newPassword) { return onLoggedIn(username, newPassword); }, onReconfirmPassword: function () {\n                setLoading(true);\n                window.location.href = \"/?signout-reason=page-expired\";\n            } });\n    }\n    return external_React_default().createElement(F3Form, { \"aria-describedby\": errorAlertId, className: 'col-12 col-sm-10 col-md-9 mx-sm-auto', id: 'f3-login-form', method: 'post', noValidate: true, onSubmit: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n            var e_1;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        setLoading(true);\n                        clearAlerts();\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, new NodeApi().authenticateUser(username, password)];\n                    case 2:\n                        _a.sent();\n                        onLoggedIn(username, password);\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        if (e_1.response.status == 401) {\n                            if (e_1.response.data.message === 'Password update required') {\n                                addErrorAlert(t('fold3Login.passwordSecurityFailure', 'Your current password no longer meets our security requirements. Please update your password to sign in to {{siteName}}.', { siteName: siteName }), null);\n                                setShowChangePassword(true);\n                            }\n                            else {\n                                addErrorAlert(external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'foldLogin.invalidCredentials', t: t },\n                                    \"The email/username and password you entered did not match our records. Please double-check and try again.\",\n                                    external_React_default().createElement(F3Link/* F3Link */.y, { className: 'ms-1', href: '/forgot-password' }, \"Forgot your password?\")), null);\n                            }\n                        }\n                        else if (e_1.response.status == 429) {\n                            addErrorAlert(t('fold3Login.tempLocked', 'Your account is temporarily locked. Please try again in 30 minutes'));\n                        }\n                        else {\n                            addErrorAlert(t('login:loginForm.signInError', 'There was an error signing you in to {{siteName}}. We\\'re not sure what happened. Please try refreshing this page and double-check your info and try again.', { siteName: siteName }));\n                        }\n                        setLoading(false);\n                        (0,googleAnalyticsEvents/* pushEvent */.AB)((0,googleAnalyticsEvents/* authEvent */.jg)('f3', gtmEvent_enum/* Result */.x4.FAIL));\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); } },\n        passwordChanged &&\n            external_React_default().createElement(\"div\", { className: 'alert-info alert' },\n                external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-info' }),\n                \" \",\n                t('fold3Login.passwordChanged', 'Your password has been changed. Please sign in below.')),\n        !isSignedIn &&\n            external_React_default().createElement(\"div\", { className: 'mb-3' },\n                external_React_default().createElement(\"div\", { className: 'form-floating' },\n                    external_React_default().createElement(F3Input, { autoCapitalize: 'off', autoComplete: 'email', autoCorrect: 'off', autoFocus: true, className: 'form-control', id: 'username', name: 'username', onValueChange: setUsername, placeholder: t('fold3Login.email', 'Email'), required: true, type: 'text', value: username }),\n                    external_React_default().createElement(\"label\", { htmlFor: 'username' }, t('fold3Login.memberName', 'Email or Member Name')))),\n        external_React_default().createElement(\"div\", { className: 'mb-3' },\n            external_React_default().createElement(\"div\", { className: 'form-floating' },\n                external_React_default().createElement(F3Input, { autoComplete: 'current-password', autoFocus: isSignedIn, className: 'form-control', id: 'password', name: 'password', onValueChange: setPassword, placeholder: t('fold3Login.password', 'Password'), required: true, type: 'password', value: password }),\n                external_React_default().createElement(\"label\", { htmlFor: 'password' }, t('fold3Login.password', 'Password')))),\n        external_React_default().createElement(F3SpamInput, null),\n        external_React_default().createElement(\"div\", { className: 'mb-3 submit-form' },\n            external_React_default().createElement(\"div\", { className: 'd-grid gap-2 signin-buttons' },\n                external_React_default().createElement(F3Button/* SubmitButton */.Mm, { disabled: loading, id: 'signin-btn' },\n                    external_React_default().createElement(\"span\", { className: 'icon-fold3' }),\n                    loading ?\n                        t('fold3Login.signingIn', 'Signing In ...') :\n                        t('fold3Login.signIn', 'Sign In')))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/login/AncestryNotFoundForm.tsx\n\n\n\n\n\n\n\n\n\n\n\nvar AncestryNotFoundForm = function (_a) {\n    var authResults = _a.authResults, rest = (0,tslib_es6/* __rest */._T)(_a, [\"authResults\"]);\n    var _b = (0,useDomain/* useDomain */.a)(), siteName = _b.siteName, regSiteName = _b.regSiteName, siteType = _b.siteType;\n    var t = (0,external_ReactI18next_.useTranslation)('login').t;\n    var _c = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), formState = _c[0], setFormState = _c[1];\n    var addErrorAlert = (0,useAlerts/* useAlerts */.Z)().addErrorAlert;\n    return external_React_default().createElement((external_React_default()).Fragment, null,\n        external_React_default().createElement(\"p\", { className: 'alert alert-info', role: '' },\n            external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-warning' }),\n            t('ancestryNotFoundForm.accountNotLinked', 'Your Ancestry account has not been linked to {{siteName}}. You can create a {{siteName}} account now, and it will be linked to Ancestry.', { siteName: siteName })),\n        external_React_default().createElement(\"div\", { className: 'form-group' },\n            external_React_default().createElement(F3Button/* F3Button */.Vk, { onClick: function () { return setFormState('create'); } }, t('ancestryNotFoundForm.createSiteAccount', 'Create {{siteName}} Account', { siteName: siteName }))),\n        external_React_default().createElement(\"p\", { className: 'alert' },\n            external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'ancestryNotFoundForm.alreadyRegistered', t: t },\n                external_React_default().createElement(\"strong\", null,\n                    \"If you already have a \",\n                    external_React_default().createElement(\"span\", null, { regSiteName: regSiteName }),\n                    \" account\"),\n                \", please sign in to link to Ancestry\\u00AE.\")),\n        external_React_default().createElement(\"div\", { className: 'form-group' },\n            external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'secondary', className: 'btn2', onClick: function () { return setFormState('login'); } }, t('ancestryNotFoundForm.ancestry.existingAccount', 'Sign in to Existing {{regSiteName}} Account', { regSiteName: regSiteName }))),\n        external_React_default().createElement(F3Switch/* F3Switch */.P, { value: formState },\n            external_React_default().createElement(F3Case/* F3Case */.I, { switchCase: 'create' },\n                external_React_default().createElement(AncestryRegisterForm, { authResults: authResults, onRegistered: function () {\n                        rest.setLoading(true);\n                        location.reload();\n                    } })),\n            external_React_default().createElement(F3Case/* F3Case */.I, { switchCase: 'login' },\n                external_React_default().createElement(\"p\", { className: 'alert alert-info' }, t('ancestryNotFoundForm.enterCredentials', \"Please enter your {{siteName}} credentials. You'll only have to do this once  after your accounts are connected, you can sign in using your Ancestry credentials.\", { siteName: siteName })),\n                external_React_default().createElement(Fold3LoginForm, (0,tslib_es6/* __assign */.pi)({}, rest, { onLoggedIn: function (username, password) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                        var e_1;\n                        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                            switch (_a.label) {\n                                case 0:\n                                    _a.trys.push([0, 2, , 3]);\n                                    return [4 /*yield*/, new NodeApi().linkAncestryAccount(username, password, authResults.userId, authResults.username, true)];\n                                case 1:\n                                    _a.sent();\n                                    location.reload();\n                                    return [3 /*break*/, 3];\n                                case 2:\n                                    e_1 = _a.sent();\n                                    addErrorAlert(t('common:somethingWrong'));\n                                    return [3 /*break*/, 3];\n                                case 3:\n                                    ;\n                                    return [2 /*return*/];\n                            }\n                        });\n                    }); } })))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/login/AncestryUnlinkedForm.tsx\n\n\n\n\n\n\n\nvar AncestryUnlinkedForm = function (props) {\n    var authResults = props.authResults, rest = (0,tslib_es6/* __rest */._T)(props, [\"authResults\"]);\n    var siteName = (0,useDomain/* useDomain */.a)().siteName;\n    var t = (0,external_ReactI18next_.useTranslation)('login').t;\n    var addErrorAlert = (0,useAlerts/* useAlerts */.Z)().addErrorAlert;\n    return external_React_default().createElement((external_React_default()).Fragment, null,\n        external_React_default().createElement(\"p\", { className: 'alert alert-info' },\n            external_React_default().createElement(\"strong\", null, t('ancestryUnlinkedForm.existingAccount', 'We found an existing {{siteName}} account associated with this email.', { siteName: siteName })),\n            external_React_default().createElement(\"br\", null),\n            external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'ancestryUnlinkedForm.ancestrySignIn', t: t },\n                \"Sign in below with your \",\n                external_React_default().createElement(\"strong\", null,\n                    external_React_default().createElement(\"span\", null, { siteName: siteName }),\n                    \" credentials\"),\n                \" to link your Ancestry account \\u2014 after your accounts are connected you can sign in using either account.\")),\n        external_React_default().createElement(Fold3LoginForm, (0,tslib_es6/* __assign */.pi)({}, rest, { onLoggedIn: function (username, password) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                var e_1;\n                return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            _a.trys.push([0, 2, , 3]);\n                            return [4 /*yield*/, new NodeApi().linkAncestryAccount(username, password, authResults.userId, authResults.username, true)];\n                        case 1:\n                            _a.sent();\n                            location.reload();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            e_1 = _a.sent();\n                            addErrorAlert(t('common:somethingWrong'));\n                            return [3 /*break*/, 3];\n                        case 3:\n                            ;\n                            return [2 /*return*/];\n                    }\n                });\n            }); } })));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/login/AncestryLoginForm.tsx\n\n\n\n\n\n\n\nvar AncestryLoginForm = function (props) {\n    var onLoggedIn = props.onLoggedIn, loading = props.loading, setLoading = props.setLoading;\n    var _a = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), authResults = _a[0], setAuthResults = _a[1];\n    var t = (0,external_ReactI18next_.useTranslation)('login').t;\n    var addErrorAlert = (0,useAlerts/* useAlerts */.Z)().addErrorAlert;\n    if (authResults === null) {\n        return external_React_default().createElement(AncestrySSO, { disabled: loading, handleError: function () {\n                addErrorAlert(t('common:somethingWrong'));\n                setLoading(false);\n            }, onAuthenticated: function (authResults) {\n                switch (authResults.result) {\n                    case 'SUCCESS':\n                        onLoggedIn();\n                        break;\n                    case 'FAILED':\n                        addErrorAlert(t('common:somethingWrong'));\n                        setLoading(false);\n                        break;\n                    default:\n                        setAuthResults(authResults);\n                        setLoading(false);\n                        break;\n                }\n            }, onClick: function () { return setLoading(true); } }, loading ?\n            t('ancestryLoginForm.signingInAcomBtn', 'Signing in with Ancestry...') :\n            t('ancestryLoginForm.signInAcomBtn', 'Sign in with Ancestry'));\n    }\n    switch (authResults.result) {\n        case 'FOLD3_UNLINKED': return external_React_default().createElement(AncestryUnlinkedForm, (0,tslib_es6/* __assign */.pi)({ authResults: authResults }, props));\n        case 'FOLD3_NOT_FOUND': return external_React_default().createElement(AncestryNotFoundForm, (0,tslib_es6/* __assign */.pi)({ authResults: authResults }, props));\n        // case 'ANCESTRY_AMBIGUOUS': not handled\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/login/LoginForm.tsx\n\n\n\n\n\n\n\n\n\n\nvar LoginForm = function (props) {\n    var siteName = (0,useDomain/* useDomain */.a)().siteName;\n    var _a = (0,useUser/* useUser */.a)(), user = _a.user, isSignedIn = _a.isSignedIn;\n    var t = (0,external_ReactI18next_.useTranslation)('login').t;\n    var next = props.next;\n    var _b = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), loading = _b[0], setLoading = _b[1];\n    var handleLogin = function (loginType) {\n        (0,googleAnalyticsEvents/* pushEvent */.AB)((0,googleAnalyticsEvents/* authEvent */.jg)(loginType, gtmEvent_enum/* Result */.x4.SUCCESS));\n        if (next) {\n            location.href = next;\n        }\n        else {\n            location.reload();\n        }\n    };\n    var subProps = (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, props), { loading: loading, setLoading: setLoading });\n    return external_React_default().createElement(\"div\", { className: 'form text-center', id: 'signin-form' },\n        external_React_default().createElement(\"div\", { className: 'col-12' },\n            external_React_default().createElement(\"h1\", { className: 'text-primary h3 mb-4 mx-md-n5' }, isSignedIn ?\n                external_React_default().createElement((external_React_default()).Fragment, null,\n                    t('loginForm.verifyAccount', 'Verify your account'),\n                    external_React_default().createElement(\"span\", { className: 'fs-6 text-muted d-block my-3', style: { fontSize: 'x-large' } }, t('loginForm.signingInAs', 'Signing in as {{username}}', { username: user.username }))) :\n                t('loginForm.signInTo', 'Sign in to {{siteName}}', { siteName: siteName }))),\n        external_React_default().createElement(Fold3LoginForm, (0,tslib_es6/* __assign */.pi)({}, subProps, { onLoggedIn: function () { return handleLogin('f3'); } })),\n        external_React_default().createElement(\"p\", { className: 'text-center text-muted' },\n            \"- \",\n            t('loginForm.or', 'OR'),\n            \" -\"),\n        external_React_default().createElement(AncestryLoginForm, (0,tslib_es6/* __assign */.pi)({}, subProps, { onLoggedIn: function () { return handleLogin('anc'); } })),\n        external_React_default().createElement(\"hr\", null),\n        external_React_default().createElement(\"p\", { className: 'help-block text-center' },\n            external_React_default().createElement(F3Link/* F3Link */.y, { className: 'nobtn-link', href: '/forgot-password' },\n                external_React_default().createElement(\"b\", null, t('loginForm.forgotPassword', 'Forgot your password?')))),\n        external_React_default().createElement(\"p\", { className: 'help-block text-center mt-5' },\n            t('loginForm.dontHaveAccount', 'Dont have a {{siteName}} account?', { siteName: siteName }),\n            external_React_default().createElement(F3Link/* F3Link */.y, { className: 'ms-1', href: '/choose-a-plan' },\n                external_React_default().createElement(\"b\", null, t('loginForm.signUp', 'Sign Up')))));\n};\n\n;// CONCATENATED MODULE: external \"Mailcheck\"\nconst external_Mailcheck_namespaceObject = Mailcheck;\nvar external_Mailcheck_default = /*#__PURE__*/__webpack_require__.n(external_Mailcheck_namespaceObject);\n// EXTERNAL MODULE: ./src/ts/shared/lib/localization/domain.ts\nvar localization_domain = __webpack_require__(40315);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/email.ts\n\n\n\nvar getFromEmail = function (type) {\n    var _a = (0,useDomain/* useDomain */.a)(), f3Domain = _a.f3Domain, environment = _a.environment;\n    return \"\".concat(type, \"@\").concat((0,localization_domain/* getHostBase */.n_)(f3Domain, environment));\n};\nexternal_Mailcheck_default().defaultDomains.push('mailosaur.io');\nexternal_Mailcheck_default().defaultTopLevelDomains.push('nz', 'au');\nvar checkEmail = function (email) {\n    return new Promise(function (resolve, reject) {\n        mailcheck.run({\n            email: email,\n            suggested: function (suggestion) {\n                resolve(suggestion);\n            },\n            empty: function (element) {\n                resolve(null);\n            },\n        });\n    });\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/slug.ts\nvar slug = __webpack_require__(80443);\n;// CONCATENATED MODULE: ./src/ts/shared/components/deny/Deny-Confirm.tsx\n\n\n\n\n\n\n\n\n\nvar DenyConfirm = function (_a) {\n    var contentType = _a.contentType, id = _a.id;\n    var _b = (0,useUser/* useUser */.a)(), institution = _b.institution, user = _b.user;\n    var _c = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), resending = _c[0], setResending = _c[1];\n    var _d = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), resendingSuccess = _d[0], setResendingSuccess = _d[1];\n    var t = (0,external_ReactI18next_.useTranslation)('deny').t;\n    var getEmail = getFromEmail('accounts');\n    var _e = user || {}, username = _e.username, email = _e.email;\n    var msg;\n    var docId = true;\n    var a = 'mc';\n    var contentPath = (0,slug/* getContentPath */.kQ)(contentType, id);\n    if (contentType === 'INDEX_RECORD') {\n        msg = external_React_default().createElement(\"span\", null,\n            external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'denyConfirm.returnRecord', t: t },\n                \"After you click the link in your email, you may \",\n                external_React_default().createElement(\"a\", { href: contentPath }, \"return to the record here\"),\n                \".\"));\n    }\n    else if (contentType === 'STORY_PAGE') {\n        msg = external_React_default().createElement(\"span\", null,\n            external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'denyConfirm.returnMemorial', t: t },\n                \"After you click the link in your email, you may \",\n                external_React_default().createElement(F3Link/* F3Link */.y, { href: contentPath }, \"return to the memorial here\"),\n                \".\"));\n    }\n    else if (docId && a !== 'mc') {\n        msg = external_React_default().createElement(\"span\", null,\n            external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'denyConfirm.returnDocument', t: t },\n                \"After you click the link in your email, you may \",\n                external_React_default().createElement(F3Link/* F3Link */.y, { href: contentPath }, \"return to your document here\"),\n                \".\"));\n    }\n    else {\n        msg = external_React_default().createElement(\"span\", null,\n            external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'denyConfirm.refreshReload', t: t },\n                \"After you click the link in your email, click the \",\n                external_React_default().createElement(\"strong\", null, \"refresh\"),\n                \" or \",\n                external_React_default().createElement(\"strong\", null, \"reload button\"),\n                \" in this browser.\"));\n    }\n    return external_React_default().createElement((external_React_default()).Fragment, null,\n        external_React_default().createElement(\"div\", { className: 'alert alert-warning' },\n            external_React_default().createElement(\"p\", null,\n                external_React_default().createElement(\"b\", { className: 'me-1' }, \"1.\"),\n                external_React_default().createElement(external_ReactI18next_.Trans, { components: {\n                        0: email ? external_React_default().createElement(\"strong\", { className: 'ms-1' }) : null,\n                        1: external_React_default().createElement(\"strong\", null),\n                    }, defaults: 'Check your email <0>{{email}}</0> for a message from <1>{{getEmail}}</1> and click on the link you find in the message.', i18nKey: 'denyConfirm.checkEmail', t: t, values: {\n                        email: email ? \"(\".concat(email, \")\") : '',\n                        getEmail: getEmail,\n                    } })),\n            external_React_default().createElement(\"p\", null,\n                external_React_default().createElement(\"b\", null, \"2.\"),\n                \" \",\n                msg)),\n        institution && institution.name &&\n            external_React_default().createElement(\"p\", { className: 'text-muted' },\n                external_React_default().createElement(\"strong\", null, t('denyConfirm.noteToInstitutions', 'Note to {{institutionName}} patrons: ', { institutionName: institution.name })),\n                t('denyConfirm.verifyFromHome', 'If you cannot access your email from this computer, you will  need to verify your email from home in order to complete your registration. Once your registration is complete, you can sign in to your Member Account from this location.')),\n        external_React_default().createElement(\"div\", { className: 'well' },\n            external_React_default().createElement(\"h2\", { className: 'mt-0 h5' }, t('denyConfirm.noEmail', \"Didn't get the email?\")),\n            external_React_default().createElement(\"ul\", { className: 'simplelist' },\n                external_React_default().createElement(\"li\", null, t('denyConfirm.delayArrive', 'The message may take a few minutes to arrive.')),\n                external_React_default().createElement(\"li\", null,\n                    email ?\n                        external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'denyConfirm.emailConfirm.email', t: t },\n                            \"Is your email address \",\n                            external_React_default().createElement(\"strong\", null,\n                                \"(\",\n                                external_React_default().createElement(\"span\", null, { email: email }),\n                                \")\"),\n                            \" correct?\") :\n                        t('denyConfirm.emailConfirm.noEmail', 'Is your email address correct?'),\n                    external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'denyConfirm.emailWrongConfirmLink', t: t },\n                        external_React_default().createElement(\"span\", { className: 'ms-1' },\n                            \"If not, you can \",\n                            external_React_default().createElement(\"strong\", null,\n                                external_React_default().createElement(F3Link/* F3Link */.y, { href: '/account?edit=email' }, \"edit your email address\")),\n                            \" on your \",\n                            external_React_default().createElement(\"b\", null, \"Account Details\"),\n                            \" page.\"))),\n                external_React_default().createElement(\"li\", null, t('denyConfirm.checkJunk', 'Check your junk email box.')),\n                external_React_default().createElement(\"li\", { className: 'resend' },\n                    t('denyConfirm.cannotFind', \"Can't find it?\"),\n                    external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'secondary', className: 'ms-2 resend', disabled: resending, onClick: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                            var e_1;\n                            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                                switch (_a.label) {\n                                    case 0:\n                                        setResending(true);\n                                        _a.label = 1;\n                                    case 1:\n                                        _a.trys.push([1, 3, , 4]);\n                                        return [4 /*yield*/, new UserApi().sendVerifyEmail()];\n                                    case 2:\n                                        _a.sent();\n                                        setResendingSuccess(true);\n                                        return [3 /*break*/, 4];\n                                    case 3:\n                                        e_1 = _a.sent();\n                                        setResendingSuccess(false);\n                                        return [3 /*break*/, 4];\n                                    case 4:\n                                        setResending(false);\n                                        return [2 /*return*/];\n                                }\n                            });\n                        }); }, size: 'sm' }, resending ? t('denyConfirm.resending', 'Resending...') : t('denyConfirm.resend', 'Resend')))),\n            resendingSuccess === true &&\n                external_React_default().createElement(\"div\", { className: 'alert alert-success' }, t('denyConfirm.messageResent', 'The message has been resent! It should arrive in your email shortly.')),\n            resendingSuccess === false &&\n                external_React_default().createElement(\"div\", { className: 'alert alert-danger' },\n                    external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'messageResendFailure', t: t },\n                        \"We couldn't send the verification email. Please try again or contact \",\n                        external_React_default().createElement(F3Link/* F3Link */.y, { href: '/contact/?subject=Support' }, \"support\"),\n                        \".\"))),\n        username &&\n            external_React_default().createElement(\"p\", { className: 'text-muted' },\n                external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'wrongUserLink', t: t },\n                    \"If you are not \",\n                    { username: username },\n                    \", please \",\n                    external_React_default().createElement(F3Link/* F3Link */.y, { href: '/signoff', target: '_top' }, \"sign out\"),\n                    \".\")));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/deny/Deny-Login.tsx\n\n\n\n\n\n\nvar DenyLogin = function (_a) {\n    var initialColumnSize = _a.initialColumnSize, flip = _a.flip, action = _a.action, contentType = _a.contentType, id = _a.id;\n    var _b = (0,useDomain/* useDomain */.a)(), siteName = _b.siteName, regSiteName = _b.regSiteName;\n    var t = (0,external_ReactI18next_.useTranslation)('deny').t;\n    return external_React_default().createElement(\"div\", { className: 'row register-hide' },\n        external_React_default().createElement(\"div\", { className: \"col-md-\".concat(initialColumnSize) },\n            (function () {\n                switch (contentType) {\n                    case 'IMAGE':\n                        if (action != 'VIEW') {\n                            return external_React_default().createElement(\"ul\", { className: 'list-unstyled mb-3' },\n                                external_React_default().createElement(\"li\", null,\n                                    external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                    \" \",\n                                    t('addOptions', 'Annotate, comment, and add corrections')),\n                                external_React_default().createElement(\"li\", null,\n                                    external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                    \" \",\n                                    t('printDownload', 'Print and download images')),\n                                external_React_default().createElement(\"li\", null,\n                                    external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                    \" \",\n                                    t('shareFree', 'Share with family and friends for free')));\n                        }\n                        else {\n                            return external_React_default().createElement(\"ul\", { className: 'list-unstyled mb-3' },\n                                external_React_default().createElement(\"li\", null,\n                                    external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                    \" \",\n                                    t('viewImage', 'View the full image for free')),\n                                external_React_default().createElement(\"li\", null,\n                                    external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                    \" \",\n                                    t('deny-login.image.printComment', 'Print, annotate, find on page, and comment')),\n                                external_React_default().createElement(\"li\", null,\n                                    external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                    \" \",\n                                    t('shareFamily', 'Share with family and friends for free')));\n                        }\n                    case 'INDEX_RECORD':\n                        return external_React_default().createElement(\"ul\", { className: 'list-unstyled mb-3' },\n                            external_React_default().createElement(\"li\", null,\n                                external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                \" \",\n                                t('connectMemorial', 'Connect this record to a memorial')),\n                            external_React_default().createElement(\"li\", null,\n                                external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                t('deny-login.record.printComment', 'Print, comment, and add corrections')),\n                            external_React_default().createElement(\"li\", null,\n                                external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                t('shareFree', 'Share with family and friends for free')),\n                            external_React_default().createElement(\"li\", null,\n                                external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                t('saveRecord', 'Save this record to your Ancestry family tree')));\n                    case 'STORY_PAGE':\n                        return external_React_default().createElement(\"ul\", { className: 'list-unstyled mb-3' },\n                            external_React_default().createElement(\"li\", null,\n                                external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                t('conectMemorial', 'Connect this memorial to other memorials')),\n                            external_React_default().createElement(\"li\", null,\n                                external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                t('createStories', 'Create stories and add photos')),\n                            external_React_default().createElement(\"li\", null,\n                                external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                t('shareWith', 'Share with family and friends for free')),\n                            external_React_default().createElement(\"li\", null,\n                                external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                t('saveMemorial', 'Save this memorial to your Ancestry family tree')));\n                    default:\n                        return external_React_default().createElement((external_React_default()).Fragment, null,\n                            external_React_default().createElement(\"h2\", { className: 'h5' }, t('freeMembership', 'What can you do with a free {{siteName}} membership?', { siteName: siteName })),\n                            external_React_default().createElement(\"ul\", { className: 'checks mb-3' },\n                                external_React_default().createElement(\"li\", null, t('createMemorials', 'Create memorials')),\n                                external_React_default().createElement(\"li\", null, t('printSave', 'Print and save images')),\n                                external_React_default().createElement(\"li\", null, t('shareDiscoveries', 'Share your discoveries with family and friends for free')),\n                                external_React_default().createElement(\"li\", null, t('saveRecords', 'Save records to your Ancestry family tree'))));\n                }\n            })(),\n            external_React_default().createElement(\"hr\", null),\n            external_React_default().createElement(\"p\", { className: 'text-center mb-3' },\n                external_React_default().createElement(F3Link/* F3Link */.y, { className: 'btn btn-primary', href: '/register?return=true', id: 'reg-btn', target: '_self' }, t('registerNow', 'Register now')))),\n        ['IMAGE', 'SUB_IMAGE', 'FILE', 'BATTLE', 'REGIMENT', 'COMPANY', 'INDEX_RECORD'].includes(contentType) &&\n            external_React_default().createElement(\"div\", { className: 'col-md-5 col-auto mx-auto mx-md-0' },\n                external_React_default().createElement(\"figure\", { className: 'mx-auto free-img doc-img border border-success border-2 bg-dark text-center' },\n                    external_React_default().createElement(\"strong\", { className: 'bg-success text-white d-block' }, t('freeDocument', 'Free Document')),\n                    external_React_default().createElement(Thumbnail/* Thumbnail */.pl, { contentType: contentType, objectId: id, size: 200 })),\n                external_React_default().createElement(\"figcaption\", { className: 'small' },\n                    t('viewZoomAnnotate', 'View, zoom, annotate and more.'),\n                    \" \")),\n        contentType === 'STORY_PAGE' &&\n            external_React_default().createElement(\"div\", { className: 'col-md-5 col-auto' },\n                external_React_default().createElement(\"figure\", { className: 'mx-auto border border bg-secondary text-center' },\n                    external_React_default().createElement(Thumbnail/* Thumbnail */.pl, { contentType: contentType, objectId: id, size: 200 })),\n                external_React_default().createElement(\"figcaption\", { className: 'text-center text-muted' }, t('addPhotos', 'Add photos, create stories, and more.'))),\n        external_React_default().createElement(\"div\", { className: 'row pt-2' },\n            external_React_default().createElement(\"div\", { className: 'col-12 pt-3 border-top' },\n                external_React_default().createElement(\"p\", { className: 'text-center text-md-start mb-0 mx-1' },\n                    t('acomRegistered', 'Already have a {{regSiteName}} or Ancestry account?', { regSiteName: regSiteName }),\n                    external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'link', className: 'align-baseline p-0 ms-1', onClick: function () { return flip(true); } }, t('signIn', 'Sign in'))))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/deny/Deny-Silo.tsx\n\n\n\n\n\n\n\n\nvar DenySilo = function (_a) {\n    var initialColumnSize = _a.initialColumnSize, thumbnailSrc = _a.thumbnailSrc, contentType = _a.contentType, id = _a.id;\n    var institution = (0,useUser/* useUser */.a)().institution;\n    var localizeContentType = useLocalizedContent().localizeContentType;\n    var contentTypeLabel = localizeContentType(contentType, { demonstrative: 'proximal' });\n    var _b = (0,useDomain/* useDomain */.a)(), siteName = _b.siteName, regSiteName = _b.regSiteName;\n    var t = (0,external_ReactI18next_.useTranslation)('deny').t;\n    var institutionName = institution.name;\n    return external_React_default().createElement(\"div\", { className: 'container-fluid' },\n        external_React_default().createElement(\"div\", { className: 'row' },\n            external_React_default().createElement(\"div\", { className: \"col-md-\".concat(initialColumnSize) },\n                external_React_default().createElement(\"p\", { className: 'alert alert-warning icon-f3 icon-warning' },\n                    t('siloDeny.notAvailable', '{{contentTypeLabel}} is not available through this institution.', { contentTypeLabel: (0,templating/* capitalizeFirst */.Ez)(contentTypeLabel) }),\n                    \" \"),\n                external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'siloDeny.askInformation', t: t },\n                    external_React_default().createElement(\"p\", null,\n                        \"Please ask \",\n                        external_React_default().createElement(\"b\", null, { institutionName: institutionName }),\n                        \" for more information or \",\n                        external_React_default().createElement(F3Link/* F3Link */.y, { className: 'mx-1', href: '/contact' },\n                            \"contact \",\n                            { siteName: siteName }),\n                        \" for additional support.\")),\n                external_React_default().createElement(\"p\", { className: 'text-center dlg-footer' },\n                    external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'siloDeny.alreadySubscribed', t: t },\n                        \"Already have a \",\n                        { regSiteName: regSiteName },\n                        \" subscription? \",\n                        external_React_default().createElement(F3Link/* F3Link */.y, { href: '/login' }, \"Sign in\"),\n                        \" to view \",\n                        { contentTypeLabel: contentTypeLabel },\n                        \".\"))),\n            ['IMAGE', 'SUB_IMAGE', 'FILE', 'BATTLE', 'REGIMENT', 'COMPANY', 'INDEX_RECORD'].includes(contentType) && thumbnailSrc &&\n                external_React_default().createElement(\"div\", { className: 'col-md-5' },\n                    external_React_default().createElement(\"figure\", { className: 'prem-img doc-img' },\n                        external_React_default().createElement(\"strong\", null, t('deny.Premium', 'Premium Document')),\n                        external_React_default().createElement(Thumbnail/* Thumbnail */.pl, { contentType: contentType, objectId: id, size: 200 }))),\n            contentType === 'STORY_PAGE' && thumbnailSrc &&\n                external_React_default().createElement(\"div\", { className: 'col-md-5' },\n                    external_React_default().createElement(\"figure\", { className: 'prem-img doc-img' },\n                        external_React_default().createElement(\"strong\", null, t('denyPage.Memorial', 'Memorial')),\n                        external_React_default().createElement(Thumbnail/* Thumbnail */.pl, { contentType: contentType, objectId: id, size: 200 })),\n                    external_React_default().createElement(\"small\", null, t('denyPage.addCreate', 'Add photos, create stories, and more.')))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/commerceApi.ts\n\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-commerce/javadoc/com/ancestry/eb/josephus/commerce/service/CommerceUserService.html) */\nvar CommerceApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(CommerceApi, _super);\n    function CommerceApi(req) {\n        var _this = _super.call(this, req) || this;\n        _this.service = F3Api/* BackendService */.v$.COMMERCE;\n        _this.baseUrl = '/commerce-user';\n        return _this;\n    }\n    CommerceApi.prototype.listDefaultOffers = function () {\n        return this.get('/offer', {\n            deserializeType: 'Offer',\n        });\n    };\n    CommerceApi.prototype.getAutoRenew = function () {\n        return this.get('/auto-renew', { primitive: true });\n    };\n    CommerceApi.prototype.cancelFreeTrial = function (cancel, sendEmail) {\n        if (cancel === void 0) { cancel = true; }\n        if (sendEmail === void 0) { sendEmail = true; }\n        return this.delete('/free-trial', {\n            params: { cancel: cancel, email: sendEmail },\n        });\n    };\n    CommerceApi.prototype.getAccountAndCurrentSubscriptionDetails = function () {\n        return this.get('/account-sub');\n    };\n    CommerceApi.prototype.getInvoice = function (invoiceId) {\n        return this.get(\"/invoice/\".concat(invoiceId), {\n            deserializeType: 'Invoice',\n        });\n    };\n    CommerceApi.prototype.listOffers = function (request, pricing) {\n        if (pricing === void 0) { pricing = false; }\n        return this.post(\"/offer\", request, {\n            deserializeType: 'Offer',\n            params: { pricing: pricing },\n        });\n    };\n    CommerceApi.prototype.subscribe = function (subscribeRequest, captchaToken) {\n        var _a;\n        return this.post(\"/subscription\", subscribeRequest, {\n            deserializeType: 'Subscription',\n            headers: (_a = {},\n                _a[headers_enum/* HEADERS */.o.CAPTCHA_TOKEN] = captchaToken,\n                _a),\n        });\n    };\n    CommerceApi.prototype.setProviderForNewTransactions = function (provider) {\n        return this.put(\"/provider/\".concat(provider), null);\n    };\n    CommerceApi.prototype.getProviderForNewTransactions = function () {\n        return this.get(\"/provider\");\n    };\n    CommerceApi.prototype.cancelCurrentSubscription = function (subscriptionId, cancelReason) {\n        return this.post(\"/cancel/\".concat(subscriptionId), null, {\n            params: (0,mapUtil/* filterObject */.v7)({\n                'cancel-reason': cancelReason,\n            }, function (_, val) { return !!val; }),\n            primitive: true,\n        });\n    };\n    CommerceApi.prototype.getBillingInfo = function () {\n        return this.get('/billing-info', {\n            deserializeType: 'BillingInfo',\n        });\n    };\n    CommerceApi.prototype.getCancellableSubscription = function () {\n        return this.get('/cancel', {\n            deserializeType: 'Invoice',\n        });\n    };\n    CommerceApi.prototype.getFreeTrialStatus = function () {\n    };\n    CommerceApi.prototype.listInvoices = function (_a) {\n        var includeFreeTrial = _a.includeFreeTrial, includeTransactions = _a.includeTransactions, includeSubscriptions = _a.includeSubscriptions, since = _a.since;\n        return this.get('/invoice', {\n            params: {\n                'include-free-trial': includeFreeTrial,\n                'include-transactions': includeTransactions,\n                'include-subscriptions': includeSubscriptions,\n                since: since,\n            },\n            deserializeType: 'Invoice',\n        });\n    };\n    CommerceApi.prototype.listSubscriptions = function (_a) {\n        var _b = _a === void 0 ? {} : _a, open = _b.open, since = _b.since;\n        return this.get('/subscription', {\n            params: (0,mapUtil/* filterObject */.v7)({ open: open, since: since }, function (key, val) { return val !== undefined; }),\n            deserializeType: 'Subscription',\n        });\n    };\n    CommerceApi.prototype.removeBillingInfo = function () {\n        return this.delete('/billing-info');\n    };\n    CommerceApi.prototype.setAutoRenew = function (autoRenew) {\n        return this.put('/auto-renew', null, {\n            params: {\n                flag: autoRenew,\n            },\n        });\n    };\n    CommerceApi.prototype.setBillingInfo = function (info, captchaToken, zipCheck) {\n        var _a;\n        return this.put('/billing-info', info, {\n            params: { zip: zipCheck },\n            headers: (_a = {},\n                _a[headers_enum/* HEADERS */.o.CAPTCHA_TOKEN] = captchaToken,\n                _a),\n        });\n    };\n    CommerceApi.prototype.listTestCards = function () {\n        return this.get('/test-card');\n    };\n    CommerceApi.prototype.getOfferFromInvoice = function (invoiceId) {\n        return this.get(\"/offer/\".concat(invoiceId), {\n            deserializeType: 'Offer',\n        });\n    };\n    CommerceApi.prototype.getVaMembershipNumber = function () {\n        return this.get('/va', { primitive: true });\n    };\n    CommerceApi.prototype.setVaMembershipNumber = function (number) {\n        return this.put(\"/va/\".concat(number));\n    };\n    CommerceApi.prototype.deleteVaMembershipNumber = function () {\n        return this.delete('/va');\n    };\n    CommerceApi.prototype.testAccount = function () {\n        return this.get('/test', {\n            primitive: true,\n        });\n    };\n    /* If no domain is provided, the currency will be returned for the current domain */\n    CommerceApi.prototype.getCurrency = function (domain) {\n        return this.get(\"/currency\".concat(domain ? \"/\".concat(domain) : ''), {\n            primitive: true,\n        });\n    };\n    CommerceApi.prototype.getTaxCountries = function () {\n        return this.get('/tax-countries', {\n            deserializeType: 'VatTaxCountry',\n        });\n    };\n    CommerceApi.prototype.cancelAllForDomainChange = function () {\n        return this.delete('/cancel-for-domain');\n    };\n    return CommerceApi;\n}(F3Api/* F3Api */.D4));\n\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/hooks/useAsyncEffect.ts\nvar useAsyncEffect = __webpack_require__(19029);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useLocaleCurrency.ts\n\n\nvar useLocaleCurrency = function () {\n    var i18n = (0,external_ReactI18next_.useTranslation)().i18n;\n    var currency = (0,useDomain/* useDomain */.a)().currency;\n    return function (amount) {\n        var _a;\n        var numberFormatter = new Intl.NumberFormat(i18n.language, { style: 'currency', currency: currency });\n        var currencySymbol = (_a = numberFormatter\n            .formatToParts(amount)\n            .filter(function (x) { return x.type === 'currency'; })[0]) === null || _a === void 0 ? void 0 : _a.value;\n        return {\n            currencySymbol: currencySymbol,\n            currency: currency,\n            currencyStr: numberFormatter.format(amount),\n            currencyLabel: new Intl.DisplayNames(i18n.language, { type: 'currency', style: 'long' }).of(currency),\n        };\n    };\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/publicationApi.ts\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/service/PublicationService.html) */\nvar publicationApi_PublicationApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(PublicationApi, _super);\n    function PublicationApi(req) {\n        var _this = _super.call(this, req) || this;\n        _this.service = F3Api/* BackendService */.v$.FOLD31;\n        _this.baseUrl = '/api/publication';\n        return _this;\n    }\n    PublicationApi.prototype.listContentProviders = function () {\n        return this.get('/cp', { deserializeType: 'ContentProvider' });\n    };\n    PublicationApi.prototype.getRecordCount = function () {\n        return this.get('/record-count', {\n            deserializeType: 'Facet',\n        });\n    };\n    PublicationApi.prototype.getEditableFields = function (pubId, user) {\n        var params = {};\n        if (user)\n            params.user = true;\n        return this.get(\"/editable-fields/\".concat(pubId), {\n            params: params,\n            deserializeType: 'Metadata',\n        });\n    };\n    PublicationApi.prototype.getPublication = function (pubId) {\n        return this.get(\"/pub/\".concat(pubId), {\n            deserializeType: 'Publication',\n        });\n    };\n    PublicationApi.prototype.listPublications = function (params) {\n        if (params === void 0) { params = {}; }\n        return this.get('', {\n            params: params,\n            deserializeType: 'Publication',\n        });\n    };\n    PublicationApi.prototype.listAllPublications = function (params) {\n        if (params === void 0) { params = {}; }\n        return this.get('/all', {\n            params: params,\n            deserializeType: 'Publication',\n        });\n    };\n    PublicationApi.prototype.getAccessLevels = function (pubIds) {\n        var params = {};\n        if ((pubIds === null || pubIds === void 0 ? void 0 : pubIds.length) > 0)\n            params.pub = pubIds;\n        return this.get('/access-level', { params: params })\n            .then(function (data) { return data.value; });\n    };\n    PublicationApi.prototype.getPublicationEventMetadata = function (publicationId) {\n        return this.get(\"/event/\".concat(publicationId), {\n            deserializeType: 'EventMetadata',\n        });\n    };\n    PublicationApi.prototype.listWarnings = function () {\n        return this.get('/warnings', {\n            deserializeType: 'PublicationWarning',\n        });\n    };\n    PublicationApi.prototype.updatePublication = function (publicationId, updatePublication) {\n        return this.put(\"/pub-edit/\".concat(publicationId), updatePublication, {\n            deserializeType: 'Publication',\n            serializeType: 'UpdatePublication',\n        });\n    };\n    PublicationApi.prototype.createPublication = function (publication) {\n        return this.post(\"/pub-edit\", publication, {\n            deserializeType: 'Publication',\n        });\n    };\n    PublicationApi.prototype.publicationCreate = function (publication) {\n        return this.post('/pub', publication, { deserializeType: 'Publication' });\n    };\n    PublicationApi.prototype.publicationUpdate = function (publicationId, publication) {\n        return this.put(\"/pub/\".concat(publicationId), publication, {\n            deserializeType: 'Publication',\n            serializeType: 'PublicationUpdate',\n        });\n    };\n    PublicationApi.prototype.listSilos = function (newPublication) {\n        if (newPublication === void 0) { newPublication = false; }\n        return this.get('/silo', {\n            params: {\n                'new-pub': newPublication,\n            },\n        });\n    };\n    PublicationApi.prototype.invalidateMetrics = function (publicationId) {\n        return this.post(\"/invalidate-metrics/\".concat(publicationId));\n    };\n    PublicationApi.prototype.setAllowImports = function (publicationId, value) {\n        return this.put(\"/allow-imports/\".concat(publicationId), null, {\n            params: {\n                imports: value,\n            },\n        });\n    };\n    PublicationApi.prototype.setExternalIdStrategy = function (publicationId, strategy) {\n        return this.post(\"/allow-imports/\".concat(publicationId), null, {\n            params: {\n                strategy: strategy,\n            },\n        });\n    };\n    return PublicationApi;\n}(F3Api/* F3Api */.D4));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useRecordCount.ts\n\n\n\n\nvar useRecordCount = function () {\n    var _a = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), recordCounts = _a[0], setRecordCounts = _a[1];\n    (0,useAsyncEffect/* useAsyncEffect */.b)(function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var facets, recordCounts;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, new publicationApi_PublicationApi().getRecordCount()];\n                case 1:\n                    facets = _a.sent();\n                    recordCounts = facets.reduce(function (finalObj, facet) {\n                        finalObj[facet.value] = facet.count;\n                        return finalObj;\n                    }, {});\n                    setRecordCounts(recordCounts);\n                    return [2 /*return*/];\n            }\n        });\n    }); }, []);\n    return recordCounts;\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/sharedDynamicConfig.ts\n\nvar getDynamicConfig = function () {\n    switch ((0,lib_getRuntime/* getRuntime */.OP)()) {\n        case 'BROWSER':\n            return window.F3.page.dynamicConfig;\n        case 'NODE':\n            var nodeDynamicConfigCache = (__webpack_require__(75628)/* .nodeDynamicConfigCache */ .V7);\n            return nodeDynamicConfigCache.getSync();\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/offers.ts\n\n\n\nvar getOffersByAccountType = function (offers) {\n    if (offers === void 0) { offers = []; }\n    return offers.reduce(function (finalObj, offer) {\n        finalObj[getOfferType(offer)] = offer;\n        return finalObj;\n    }, {});\n};\nvar getOfferForAccountType = function (acctType, offers) {\n    return getOffersByAccountType(offers)[acctType];\n};\nvar userToAcctType = function (user) {\n    if (isAnnual(user))\n        return 'annual';\n    else if (isMonthly(user))\n        return 'monthly';\n    else if (isFreeTrial(user))\n        return 'freetrial';\n    else\n        return 'registered';\n};\nvar getOfferForUser = function (user, offers) {\n    var acctType = userToAcctType(user);\n    /*\n     * If the user is already a free trial, there is no way for them to get another one.\n     * Their renewal offer will be the annual offer.\n     */\n    if (acctType === 'freetrial')\n        acctType = 'annual';\n    return getOfferForAccountType(acctType, offers);\n};\nvar getOfferType = function (offer) {\n    if (offer.freeTrial) {\n        return 'freetrial';\n    }\n    else if (offer.duration == 12) {\n        return 'annual';\n    }\n    else if (offer.duration == 1) {\n        return 'monthly';\n    }\n};\nvar getInvoiceOfferType = function (invoice) {\n    if (invoice.subscription.event === 'FREE_TRIAL') {\n        return 'freetrial';\n    }\n    else if (invoice.subscription.duration == 'ANNUAL') {\n        return 'annual';\n    }\n    else if (invoice.subscription.duration == 'MONTHLY') {\n        return 'monthly';\n    }\n};\nvar isFreeTrialEligible = function (user, offers, domain) {\n    if (!shouldShowFreetrial(domain))\n        return false;\n    if (!user)\n        return true;\n    if (isFreeTrial(user))\n        return false; // checking user because migration from old commerce to new takes awhile, so a current FT user may still get an offer. This can be thrown away once we are all new commerce 1/5/2022\n    return !!getOfferForAccountType('freetrial', offers);\n};\nvar isMonthlyEligible = function (user, offers) {\n    if (!user)\n        return true;\n    /*\n     * if (isMonthly(user)) return false;\n     * if (isAnnual(user)) return false;\n     * if (isBundle(user)) return false;\n     */\n    return !!getOfferForAccountType('monthly', offers);\n};\nvar isAnnualEligible = function (user, offers) {\n    if (!user)\n        return true;\n    /*\n     * if (isAnnual(user)) return false;\n     * if (isBundle(user)) return false;\n     */\n    return !!getOfferForAccountType('annual', offers);\n};\nvar isRegisteredEligible = function (user) {\n    return !user;\n};\nvar isBundleEligible = function (user) {\n    return !isBundle(user);\n};\nvar getOfferLabel = function (offer) {\n    var acctType = getOfferType(offer);\n    switch (acctType) {\n        case 'annual': return 'Annual Membership';\n        case 'monthly': return 'Monthly Membership';\n        case 'freetrial': return \"\".concat(offer.duration, \"-day Free Trial\");\n    }\n};\nvar shouldShowFreetrial = function (domain) {\n    var _a;\n    return ((_a = getDynamicConfig()) === null || _a === void 0 ? void 0 : _a.showFreetrial[(0,localization_domain/* serializeDomain */.PI)(domain)]) !== false;\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/getUrl.ts\nvar lib_getUrl = __webpack_require__(74174);\n;// CONCATENATED MODULE: ./src/ts/server/lib/cookie.ts\n\n\n\n\n/**\n * Set a cookie header, as well has modify the request's\n * cookie object so that calls to the backend will include\n * the new cookie value\n */\nvar defaultOptions = Object.freeze({\n    sameSite: 'lax',\n    secure: true,\n    path: '/',\n});\nfunction setImmediateCookie(req, name, value, options) {\n    if (allowedToSetCookie(name, req)) {\n        if (!req.res.headersSent) {\n            var opts = processCookieOptions(req, options);\n            req.res.cookie(name, value, opts);\n            // for passing along to backend during this request\n            req.cookies[name] = value;\n            rewriteCookieHeader(req);\n        }\n    }\n}\nfunction clearImmediateCookie(req, name, options) {\n    if (!req.res.headersSent) {\n        var opts = processCookieOptions(req, options);\n        req.res.clearCookie(name, opts);\n        delete req.cookies[name];\n        rewriteCookieHeader(req);\n    }\n}\nfunction rewriteCookieHeader(req) {\n    req.headers.cookie = (0,mapUtil/* mapObjectToArray */.Cr)(req.cookies, function (key, val) {\n        return key + '=' + encodeURIComponent(val);\n    }).join('; ');\n}\nfunction processCookieOptions(req, options) {\n    if (options === void 0) { options = {}; }\n    return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, defaultOptions), { domain: getCookieDomain(req) }), options);\n}\nfunction setResponseCookie(name, value, res, req, opts) {\n    res.cookie(name, value, processCookieOptions(req, opts));\n}\nfunction cookie_getCookie(name, req) {\n    if (name in req.cookies) {\n        return req.cookies[name];\n    }\n    return null;\n}\nvar allowedToSetCookie = function (name, req) {\n    var _a;\n    if ((0,cookies_enum/* isNecessaryCookie */.fV)(name)) {\n        return true;\n    }\n    try {\n        var settings = JSON.parse(decodeURIComponent(cookie_getCookie(cookies_enum/* COOKIES */.E9.CONSENT_SETTINGS, req)));\n        if (settings.gdpr.applies) {\n            return (_a = settings.gdpr.consentedVendors) === null || _a === void 0 ? void 0 : _a.includes('Ancestry'); // For now, we are only interested in Ancestry. Add more vendors as needed.\n        }\n        else {\n            return true;\n        }\n    }\n    catch (e) {\n        if (req.gdprApplies) {\n            return false; // something went wrong. Err on the side of caution in EEACountries\n        }\n        else {\n            return true; // gdpr doesn't apply. Allow all cookies\n        }\n    }\n};\nvar getCookieDomain = function (req) {\n    var url = (0,lib_getUrl/* getUrl */.G)(req);\n    var _a = (0,lib_getUrl/* getUrlParts */.A)(url.toString()), host = _a.host, subdomain = _a.subdomain, port = _a.port;\n    var cookieDomain = host\n        .replace(\"\".concat(subdomain, \".\"), '')\n        .replace(\":\".concat(port), '');\n    return \".\".concat(cookieDomain);\n};\nvar getCookieDomainWithSubdomain = function (req) {\n    var url = getUrl(req);\n    var _a = getUrlParts(url.toString()), host = _a.host, port = _a.port;\n    var cookieDomain = host.replace(\":\".concat(port), '');\n    return cookieDomain;\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/queryUtil.ts\nvar queryUtil = __webpack_require__(4781);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/sourceIds.ts\n\n\n\n\n\n\n\nvar IID_QUERY_NAME = 'iid';\nvar XID_QUERY_NAME = 'xid';\nvar OID_QUERY_NAME = 'oid';\nvar GCLID_QUERY_NAME = 'gclid';\nvar TWO_WEEKS = (0,time.getTimeInMs)(2, 'wk');\nvar createSourceIdCookieGetFn = function (cookieName) {\n    return function (req) {\n        if ((0,lib_getRuntime/* isBrowserRuntime */.wK)()) {\n            return (0,clientCookies/* getCookie */.ej)(cookieName);\n        }\n        else {\n            return req.cookies[cookieName];\n        }\n    };\n};\nvar createSourceIdSetFn = function (cookieName, maxAge) {\n    if (maxAge === void 0) { maxAge = TWO_WEEKS; }\n    return function (req, value) {\n        if (!value)\n            return;\n        setImmediateCookie(req, cookieName, value.replace(';', '%3B'), { maxAge: maxAge });\n    };\n};\nvar createSourceIdQueryGetFn = function (queryName) {\n    return function (req) {\n        if ((0,lib_getRuntime/* isBrowserRuntime */.wK)()) {\n            var queryObj = (0,queryUtil/* parseQueryString */.dD)(window.location.search);\n            return queryObj[queryName];\n        }\n        else {\n            return req.query[queryName];\n        }\n    };\n};\nvar getCJFromCookie = createSourceIdCookieGetFn(cookies_enum/* COOKIES */.E9.COMMISSION_JUNCTION);\nvar getLSFromCookie = createSourceIdCookieGetFn(cookies_enum/* COOKIES */.E9.LINK_SHARE);\nvar getIidFromCookie = createSourceIdCookieGetFn(cookies_enum/* COOKIES */.E9.IID);\nvar getXidFromCookie = createSourceIdCookieGetFn(cookies_enum/* COOKIES */.E9.XID);\n// const getOidFromCookie = createSourceIdCookieGetFn(COOKIES.OID);\nvar getGclidFromCookie = createSourceIdCookieGetFn(cookies_enum/* COOKIES */.E9.GCLID);\nvar getAttrPubFromCookie = createSourceIdCookieGetFn(cookies_enum/* COOKIES */.E9.DENY_PUB);\nvar setIidCookie = createSourceIdSetFn(cookies_enum/* COOKIES */.E9.IID);\nvar setXidCookie = createSourceIdSetFn(cookies_enum/* COOKIES */.E9.XID);\nvar setOidCookie = createSourceIdSetFn(cookies_enum/* COOKIES */.E9.OID);\nvar setGclidCookie = createSourceIdSetFn(cookies_enum/* COOKIES */.E9.GCLID, (0,time.getTimeInMs)(30, 'day'));\nvar getIidFromQuery = createSourceIdQueryGetFn(IID_QUERY_NAME);\nvar getXidFromQuery = createSourceIdQueryGetFn(XID_QUERY_NAME);\nvar getOidFromQuery = createSourceIdQueryGetFn(OID_QUERY_NAME);\nvar getGclidFromQuery = createSourceIdQueryGetFn(GCLID_QUERY_NAME);\nvar getIid = function (req) { return getIidFromQuery(req) || getIidFromCookie(req); };\nvar getXid = function (req) { return getXidFromQuery(req) || getXidFromCookie(req); };\n// const getOid = (req?: F3Request) => getOidFromQuery(req) || getOidFromCookie(req);\nvar getGclid = function (req) { return getGclidFromQuery(req) || getGclidFromCookie(req); };\nvar getCommerceTrackingInfo = function (req) {\n    var trackingInfo = {\n        iid: getIid(req),\n        xid: getXid(req),\n        gclid: getGclid(req),\n        attributionPublication: getAttrPubFromCookie(req),\n        aid: getCJFromCookie(req) || getLSFromCookie(req),\n    };\n    return (0,mapUtil/* filterObject */.v7)(trackingInfo, function (key, val) { return val !== undefined; });\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/components/NumberAbbrev.tsx\nvar NumberAbbrev = __webpack_require__(19301);\n;// CONCATENATED MODULE: ./src/ts/shared/components/deny/Deny-Subscribe.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar DenySubscribe = function (_a) {\n    var initialColumnSize = _a.initialColumnSize, thumbnailSrc = _a.thumbnailSrc, action = _a.action, flip = _a.flip, contentType = _a.contentType, id = _a.id, publicationId = _a.publicationId;\n    var isSignedIn = (0,useUser/* useUser */.a)().isSignedIn;\n    var _b = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(''), 2), nextLocation = _b[0], setNextLocation = _b[1];\n    var _c = (0,useDomain/* useDomain */.a)(), siteName = _c.siteName, regSiteName = _c.regSiteName, f3Domain = _c.f3Domain;\n    var recordCounts = useRecordCount();\n    var _d = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), monthlyOffer = _d[0], setMonthlyOffer = _d[1];\n    var t = (0,external_ReactI18next_.useTranslation)('deny').t;\n    var localizeContentType = useLocalizedContent().localizeContentType;\n    var getLocaleCurrency = useLocaleCurrency();\n    var showFreeTrial = shouldShowFreetrial(f3Domain);\n    var contentTypeTitle = localizeContentType(contentType, { demonstrative: 'proximal' });\n    var monthlyOfferAmt = monthlyOffer ? getLocaleCurrency(monthlyOffer.amount).currencyStr : null;\n    (0,external_React_.useEffect)(function () {\n        if (publicationId) {\n            (0,clientCookies/* setCookie */.d8)(cookies_enum/* COOKIES */.E9.DENY_PUB, publicationId, {\n                expires: (0,time.getTimeInSeconds)(1, 'mo'),\n            });\n        }\n    }, []);\n    (0,external_React_.useEffect)(function () {\n        setNextLocation(\"\".concat(window.location.pathname).concat(window.location.search));\n    }, []);\n    (0,useAsyncEffect/* useAsyncEffect */.b)(function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var offers, monthlyOffer_1;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!!showFreeTrial) return [3 /*break*/, 2];\n                    return [4 /*yield*/, new CommerceApi().listOffers({\n                            trackingInfo: getCommerceTrackingInfo(),\n                        }, true)];\n                case 1:\n                    offers = _a.sent();\n                    monthlyOffer_1 = getOfferForAccountType('monthly', offers);\n                    if (monthlyOffer_1) {\n                        setMonthlyOffer(monthlyOffer_1);\n                    }\n                    _a.label = 2;\n                case 2: return [2 /*return*/];\n            }\n        });\n    }); }, []);\n    var recordCount = (0,NumberAbbrev/* abbreviateNumber */.d)(recordCounts === null || recordCounts === void 0 ? void 0 : recordCounts.TOTAL);\n    return external_React_default().createElement((external_React_default()).Fragment, null,\n        external_React_default().createElement(\"div\", { className: 'row' },\n            external_React_default().createElement(\"div\", { className: \"col-md-\".concat(initialColumnSize) },\n                external_React_default().createElement(\"ul\", { className: 'list-unstyled' },\n                    action === 'SEARCH' ?\n                        external_React_default().createElement((external_React_default()).Fragment, null,\n                            external_React_default().createElement(\"li\", null,\n                                external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                \" \",\n                                t('filterByMore', 'Filter by military rank, branch, casualty type, and more')),\n                            external_React_default().createElement(\"li\", null,\n                                external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                                \" \",\n                                t('seeAllData', 'See all data available for every premium record'))) :\n                        external_React_default().createElement(\"li\", null,\n                            external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                            external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'getAccessContent', t: t },\n                                \"Get access to \",\n                                external_React_default().createElement(\"span\", { className: 'text-lowercase' }, { contentTypeTitle: contentTypeTitle }),\n                                \" and everything else on \",\n                                { siteName: siteName })),\n                    external_React_default().createElement(\"li\", null,\n                        external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                        t('accessRecords', 'Access to {{recordCount}} records', { recordCount: recordCount })),\n                    external_React_default().createElement(\"li\", null,\n                        external_React_default().createElement(\"span\", { className: 'text-primary icon-f3 icon-mem-arrow' }),\n                        \" \",\n                        t('easyCancel', 'Easy online cancellation anytime'))),\n                external_React_default().createElement(\"p\", { className: 'text-center' },\n                    showFreeTrial && external_React_default().createElement(F3Link/* F3Link */.y, { className: 'btn btn-secondary3', href: '/freetrial?iid=6677', target: '_self' }, t('startNow', 'Start Free trial now')),\n                    !showFreeTrial && monthlyOffer &&\n                        external_React_default().createElement(F3Link/* F3Link */.y, { className: 'btn btn-secondary3', href: '/choose-a-plan?iid=6907', target: '_self' },\n                            external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'monthlyCost', t: t },\n                                \"Only \",\n                                external_React_default().createElement(\"span\", { className: 'fw-bold me-1' }, { monthlyOfferAmt: monthlyOfferAmt }),\n                                \" a month\"))),\n                external_React_default().createElement(\"p\", { className: 'text-center text-muted' },\n                    \"-\",\n                    t('denyPage.or', 'OR'),\n                    \"-\"),\n                external_React_default().createElement(\"div\", { className: 'text-center pb-3' },\n                    external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'otherMemberOptions', t: t },\n                        \"See our other\",\n                        external_React_default().createElement(F3Link/* F3Link */.y, { className: 'ms-1', href: '/choose-a-plan', target: '_self' }, \"membership options\")))),\n            ['IMAGE', 'SUB_IMAGE', 'FILE', 'BATTLE', 'REGIMENT', 'COMPANY', 'INDEX_RECORD'].includes(contentType) && thumbnailSrc &&\n                external_React_default().createElement(\"div\", { className: 'col-auto mx-auto mx-md-0' },\n                    external_React_default().createElement(\"figure\", { className: 'prem-img doc-img border border-primary border-2 bg-dark text-center mx-auto' },\n                        external_React_default().createElement(\"strong\", { className: 'bg-primary text-uppercase text-white d-block' }, t('premiumDocument', 'Premium Document')),\n                        external_React_default().createElement(Thumbnail/* Thumbnail */.pl, { contentType: contentType, objectId: id, size: 200 }))),\n            contentType === 'STORY_PAGE' && thumbnailSrc &&\n                external_React_default().createElement(\"div\", { className: 'col-auto mx-auto mx-md-0' },\n                    external_React_default().createElement(\"figure\", { className: 'mem-img doc-img border border-primary border-2 bg-secondary bg-gradient text-center mx-auto' },\n                        external_React_default().createElement(\"strong\", { className: 'bg-primary text-uppercase text-white d-block' }, t('storyPage.memorial', 'Memorial')),\n                        external_React_default().createElement(Thumbnail/* Thumbnail */.pl, { contentType: contentType, objectId: id, size: 200 })),\n                    external_React_default().createElement(\"small\", null, t('addFactsMore', 'Add facts, photos, stories, and more.')))),\n        external_React_default().createElement(\"div\", { className: 'row pt-2' },\n            external_React_default().createElement(\"div\", { className: 'col-12 pt-3 border-top' }, isSignedIn ?\n                external_React_default().createElement(\"p\", { className: 'mb-0 fw-bold' },\n                    t('alreadySubscribed', 'Already a subscriber? '),\n                    external_React_default().createElement(\"a\", { className: 'btn btn-link align-baseline p-0', href: \"/signoff?next=\".concat(encodeURIComponent(\"/login?next=\".concat(nextLocation))), role: 'button' }, t('switchAccounts', 'Switch accounts'))) :\n                external_React_default().createElement(\"p\", { className: 'fw-bold mb-0' },\n                    t('alreadyAcomAccount', 'Already have a {{regSiteName}} or Ancestry account? ', { regSiteName: regSiteName }),\n                    external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'link', className: 'align-baseline p-0', onClick: function () { return flip(true); } }, t('denyPage.signIn', 'Sign in'))))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/deny/Deny.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Deny = function (_a) {\n    var action = _a.action, requirement = _a.requirement, contentType = _a.contentType, id = _a.id, onClose = _a.onClose, publicationId = _a.publicationId, rest = (0,tslib_es6/* __rest */._T)(_a, [\"action\", \"requirement\", \"contentType\", \"id\", \"onClose\", \"publicationId\"]);\n    var pushEvent = (0,useDataLayer/* useDataLayer */.P)().pushEvent;\n    var _b = (0,tslib_es6/* __read */.CR)(external_React_default().useState(false), 2), flipped = _b[0], setFlipped = _b[1];\n    var _c = (0,useUser/* useUser */.a)(), _user = _c.user, _institution = _c.institution;\n    var user = _user || {};\n    var institution = _institution || {};\n    var _d = (0,useDomain/* useDomain */.a)(), siteName = _d.siteName, regSiteName = _d.regSiteName;\n    var getThumbnail = (0,useThumbnail/* useThumbnail */.t)().getThumbnail;\n    var t = (0,external_ReactI18next_.useTranslation)('deny').t;\n    var publications = (0,external_React_.useContext)(fold3PageContext/* Fold3PageContext */.h).publications;\n    var localizeContentType = useLocalizedContent().localizeContentType;\n    (0,external_React_.useEffect)(function () {\n        setDenyUrl();\n        pushEvent((0,googleAnalyticsEvents/* denyEvent */.A)(action, requirement, contentType, publications[publicationId]));\n    }, []);\n    var userProps = {\n        username: user.username,\n        email: user.email,\n        institutionName: institution.name,\n    };\n    function renderDenyFrontContent() {\n        var initialColumnSize, thumbnailSrc;\n        if (contentType && id) {\n            thumbnailSrc = getThumbnail({ path: 'reference', ref: { contentType: contentType, objectId: id }, query: { width: 200, height: 200 } });\n            initialColumnSize = (contentType === 'INDEX_RECORD' || action === 'SEARCH') && !thumbnailSrc ? 12 : 7;\n        }\n        var subDenyProps = Object.assign(userProps, {\n            initialColumnSize: initialColumnSize,\n            thumbnailSrc: thumbnailSrc,\n            flip: setFlipped,\n            action: action,\n            requirement: requirement,\n            contentType: contentType,\n            id: id,\n            publicationId: publicationId,\n        });\n        switch (requirement) {\n            case 'login': return external_React_default().createElement(DenyLogin, (0,tslib_es6/* __assign */.pi)({}, subDenyProps));\n            case 'subscribe': return external_React_default().createElement(DenySubscribe, (0,tslib_es6/* __assign */.pi)({}, subDenyProps));\n            case 'silo': return external_React_default().createElement(DenySilo, (0,tslib_es6/* __assign */.pi)({}, subDenyProps));\n            case 'confirm': return external_React_default().createElement(DenyConfirm, (0,tslib_es6/* __assign */.pi)({}, subDenyProps));\n        }\n    }\n    var title;\n    var contentTypeLabel = localizeContentType(contentType, { demonstrative: 'proximal' });\n    if (flipped) {\n        title = null;\n    }\n    else {\n        switch (requirement) {\n            case 'login':\n                title = action === 'VIEW' ?\n                    external_React_default().createElement(\"span\", { className: 'free-img' },\n                        external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'deny.registerNowForFree', t: t },\n                            \"Register to view \",\n                            external_React_default().createElement(\"strong\", null,\n                                external_React_default().createElement(\"span\", null, { contentTypeLabel: contentTypeLabel }),\n                                \" now for free\"))) :\n                    external_React_default().createElement(\"span\", { className: 'free-img', \"data-cy\": 'free-deny' },\n                        external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'deny.getAccess', t: t },\n                            \"Get access with a \",\n                            external_React_default().createElement(\"strong\", null,\n                                \"free \",\n                                external_React_default().createElement(\"span\", null, { siteName: siteName }),\n                                \" membership\")));\n                break;\n            case 'subscribe':\n                title = (action === 'SEARCH' || action === 'CONTACT') ?\n                    external_React_default().createElement(\"span\", { \"data-cy\": 'get-access-deny' },\n                        external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'getAccessPremium', t: t },\n                            \"Get access with a \",\n                            external_React_default().createElement(\"b\", null, \"Premium Membership\"))) :\n                    external_React_default().createElement(\"span\", { \"data-cy\": 'deny-premium' },\n                        external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'deny.subRequired', t: t },\n                            \"You need a\",\n                            external_React_default().createElement(\"b\", { className: 'mx-1' },\n                                external_React_default().createElement(\"span\", null, { regSiteName: regSiteName }),\n                                external_React_default().createElement(\"span\", { className: 'ms-1' }, \"subscription\")),\n                            external_React_default().createElement(\"span\", { className: 'me-1' }, \"to view\"),\n                            { contentTypeLabel: contentTypeLabel }));\n                break;\n            case 'silo':\n                var institutionName = userProps.institutionName;\n                title = external_React_default().createElement(\"span\", null, institutionName ?\n                    t('deny.unavailableAtInstitution.withName', '{{contentTypeLabel}} is unavailable at {{institutionName}}', { contentTypeLabel: (0,templating/* capitalizeFirst */.Ez)(contentTypeLabel), institutionName: institutionName }) :\n                    t('deny.unavailableAtInstitution.noName', '{{contentTypeLabel}} is unavailable', { contentTypeLabel: (0,templating/* capitalizeFirst */.Ez)(contentTypeLabel) }));\n                break;\n            case 'confirm': {\n                switch (action) {\n                    case 'VIEW':\n                        title = external_React_default().createElement(\"span\", { \"data-cy\": 'verify-email' }, t('deny.verifyEmailPage', 'Verify your email before you can view {{contentTypeLabel}}', { contentTypeLabel: contentTypeLabel }));\n                        break;\n                    case 'PURCHASE':\n                        title = external_React_default().createElement(\"span\", { \"data-cy\": 'verify-email' }, t('deny.verifyEmailSub', 'Verify your email before you can complete your subscription'));\n                        break;\n                    default:\n                        title = external_React_default().createElement(\"span\", { \"data-cy\": 'verify-email-feature' },\n                            t('deny.verifyEmail', 'Verify your email'),\n                            action !== null && t('deny.beforeAccess', ' before you can access this feature'));\n                }\n            }\n        }\n    }\n    return external_React_default().createElement(Dialog, (0,tslib_es6/* __assign */.pi)({ blur: action === 'VIEW', className: 'deny-dialog', onClose: function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            setFlipped(false);\n            if (typeof onClose === 'function') {\n                return onClose.apply(void 0, (0,tslib_es6/* __spreadArray */.ev)([], (0,tslib_es6/* __read */.CR)(args), false));\n            }\n        }, title: title }, rest),\n        external_React_default().createElement(ErrorBoundary/* ErrorBoundary */.S, null,\n            external_React_default().createElement(\"div\", { className: 'container-fluid' }, flipped ? external_React_default().createElement(LoginForm, null) : renderDenyFrontContent())));\n};\nfunction minAccountStatusToDenyRequirement(minAccountStatus) {\n    var loggedIn = !!deprecatedCurrentUser.userId;\n    switch (minAccountStatus) {\n        case 'SUBSCRIBER': return 'subscribe';\n        case 'SILO': return 'silo';\n        case 'CONFIRMED': return loggedIn ? 'confirm' : 'login';\n        default: return 'login';\n    }\n}\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useContentPermissions.tsx\n\n\n\n\n\n\nvar useContentPermissions = function (content) {\n    var openDialog = (0,useDialogs/* useDialogs */.q)().openDialog;\n    var addErrorAlert = (0,useAlerts/* useAlerts */.Z)().addErrorAlert;\n    return {\n        isAllowed: function (action, elementType, overrideContent) {\n            return (0,contentRuntime/* isAllowed */.yy)(overrideContent || content, [action], elementType);\n        },\n        checkAction: function (action, elementType, overrideContent) {\n            var _content = overrideContent || content;\n            var denyReason = (0,contentRuntime/* checkAction */.Rj)(_content, action, elementType);\n            var _a = (0,contentMetadata/* getWrappedContentRef */.aK)(_content), contentType = _a.contentType, objectId = _a.objectId;\n            if (typeof denyReason === 'string') {\n                openDialog(external_React_default().createElement(Deny, { action: action, contentType: contentType, id: objectId, requirement: minAccountStatusToDenyRequirement(denyReason) }));\n                return false;\n            }\n            if (denyReason === false) {\n                addErrorAlert('You are not allowed to perform this action.');\n            }\n            return denyReason;\n        },\n    };\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useLocaleDates.ts\n\n\n\n\nvar useLocaleDate = function () {\n    var i18n = (0,external_ReactI18next_.useTranslation)().i18n;\n    return function (date, options) {\n        if (options === void 0) { options = {}; }\n        var _a = options.dateStyle, dateStyle = _a === void 0 ? 'medium' : _a;\n        var realDate = new Date(date);\n        if (!isNaN(+realDate)) {\n            return new Intl.DateTimeFormat(i18n.language, (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, options), { dateStyle: dateStyle })).format(realDate);\n        }\n    };\n};\nvar useLocaleMonths = function () {\n    var i18n = useTranslation().i18n;\n    var monthLabels = useMemo(function () {\n        return getLocaleMonthLabels(i18n.language);\n    }, []);\n    return monthLabels;\n};\nvar useLocaleDays = function () {\n    var i18n = useTranslation().i18n;\n    var dayLabels = useMemo(function () {\n        return getLocaleDayLabels(i18n.language);\n    }, []);\n    return dayLabels;\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/ConfirmDialog.tsx\n\n\n\n\n\n\nvar ConfirmDialog = function (_a) {\n    var message = _a.message, onConfirmed = _a.onConfirmed, onCanceled = _a.onCanceled, dialogProps = (0,tslib_es6/* __rest */._T)(_a, [\"message\", \"onConfirmed\", \"onCanceled\"]);\n    var closeDialog = (0,useDialogs/* useDialogs */.q)().closeDialog;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    return external_React_default().createElement(Dialog, (0,tslib_es6/* __assign */.pi)({ className: 'fit-to-content', footer: external_React_default().createElement((external_React_default()).Fragment, null,\n            external_React_default().createElement(DialogCloseButton, { onClick: function () { return onCanceled === null || onCanceled === void 0 ? void 0 : onCanceled(); } }, t('confirmDialog.close', 'No')),\n            external_React_default().createElement(F3Button/* F3Button */.Vk, { onClick: function () {\n                    onConfirmed === null || onConfirmed === void 0 ? void 0 : onConfirmed();\n                    closeDialog();\n                } }, t('confirmDialog.confirm', 'Yes'))) }, dialogProps),\n        external_React_default().createElement(\"h2\", { className: 'h5 mb-0 p-4 text-center' }, message));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useVerify.ts\n\n\n\nvar useVerify = function () {\n    var openDialog = (0,useDialogs/* useDialogs */.q)().openDialog;\n    return {\n        verify: function (msg) {\n            return new Promise(function (resolve) {\n                openDialog(external_React_default().createElement(ConfirmDialog, {\n                    message: msg,\n                    onClose: function () {\n                        resolve(false);\n                    },\n                    onCanceled: function () {\n                        resolve(false);\n                    },\n                    onConfirmed: function () {\n                        resolve(true);\n                    },\n                }));\n            });\n        },\n    };\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/index-records/IndexRecordCommentsTab.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar IndexRecordCommentsTab = function (_a) {\n    var f3Domain = (0,useDomain/* useDomain */.a)().f3Domain;\n    var _b = (0,external_React_.useContext)(IndexRecordContentContext), content = _b.content, computedValues = _b.computedValues, mergeElementUpdateResults = _b.mergeElementUpdateResults, ContentApi = _b.ContentApi;\n    var groupedElements = computedValues.groupedElements, usersByUserId = computedValues.usersByUserId;\n    var _c = groupedElements.COMMENT, COMMENT = _c === void 0 ? [] : _c;\n    var user = (0,useUser/* useUser */.a)().user;\n    var _d = (0,useAlerts/* useAlerts */.Z)(), addErrorAlert = _d.addErrorAlert, addSuccessAlert = _d.addSuccessAlert;\n    var openDialog = (0,useDialogs/* useDialogs */.q)().openDialog;\n    var _e = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), editing = _e[0], setEditing = _e[1];\n    var verify = useVerify().verify;\n    var _f = useContentPermissions(content), checkAction = _f.checkAction, isAllowed = _f.isAllowed;\n    var getThumbnail = (0,useThumbnail/* useThumbnail */.t)().getThumbnail;\n    var t = (0,external_ReactI18next_.useTranslation)('index').t;\n    var getLocaleDate = useLocaleDate();\n    var userOwnsAny = (0,external_React_.useMemo)(function () {\n        return COMMENT.filter(function (el) { return contentElements_getElementOwner(el) === (user === null || user === void 0 ? void 0 : user.userId); }).length > 0;\n    }, [COMMENT]);\n    return external_React_default().createElement(\"div\", { \"aria-labelledby\": 'tab-comm', className: 'container-xl pb-4', id: 'comments-tab' },\n        external_React_default().createElement(\"div\", { className: 'row justify-content-center' },\n            external_React_default().createElement(\"div\", { className: 'col-12 col-md-10 col-xl-8' },\n                external_React_default().createElement(\"h2\", { className: 'd-none d-print-block text-center h4' }, t('indexComments', 'Comments about index record')),\n                external_React_default().createElement(\"div\", { className: 'text-end d-print-none pe-3 pe-md-0' },\n                    userOwnsAny && COMMENT.length > 0 &&\n                        external_React_default().createElement(F3Button/* EditButton */.w6, { \"aria-label\": 'Edit Comments', className: 'me-2 d-print-none', onClick: function () { return setEditing(function (editing) { return !editing; }); }, outline: true, size: 'sm' }, editing ? t('commentsTab.done', 'Done') : t('commentsTab.edit', 'Edit')),\n                    isAllowed('CONTRIBUTION_CREATE', 'COMMENT') &&\n                        external_React_default().createElement(F3Button/* F3Button */.Vk, { \"aria-label\": 'Add Comment', className: 'd-print-none', \"data-cy\": 'add-comment', onClick: function () {\n                                setEditing(false);\n                                if (checkAction('CONTRIBUTION_CREATE', 'COMMENT')) {\n                                    openDialog(external_React_default().createElement(CommentElementDialog, { lengthType: 'INDEX_RECORD_COMMENT' }));\n                                }\n                            }, size: 'sm' },\n                            external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-plus align-middle' }),\n                            t('commentsTab.add', 'Add'))),\n                COMMENT.length === 0 &&\n                    external_React_default().createElement(\"div\", { className: 'text-center' },\n                        external_React_default().createElement(\"p\", { className: 'text-muted text-center' }, t('noComments', 'There are no comments.')),\n                        external_React_default().createElement(F3Button/* F3Button */.Vk, { \"aria-label\": 'Add Comment', className: 'd-print-none', \"data-cy\": 'add-comment', onClick: function () {\n                                setEditing(false);\n                                if (checkAction('CONTRIBUTION_CREATE', 'COMMENT')) {\n                                    openDialog(external_React_default().createElement(CommentElementDialog, { lengthType: 'INDEX_RECORD_COMMENT' }));\n                                }\n                            } },\n                            external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-plus align-middle' }),\n                            t('commentsTab.addOneNow', 'Add one now'))),\n                COMMENT.map(function (comment) {\n                    var commentUser = usersByUserId[comment.metadata.owner];\n                    var isCommentOwner = commentUser.userId === (user === null || user === void 0 ? void 0 : user.userId);\n                    return external_React_default().createElement(\"div\", { key: getElementId(comment), \"aria-label\": \"Comment by \".concat(commentUser.username), className: 'row comment py-2', role: 'group' },\n                        external_React_default().createElement(\"div\", { className: 'col-auto px-2 border-top pt-3' },\n                            external_React_default().createElement(F3Link/* F3Link */.y, { \"aria-label\": 'Username', href: (0,slug/* getContentPath */.kQ)('USER', commentUser.username), target: '_self' },\n                                external_React_default().createElement(Thumbnail/* BaseThumbnail */.tK, { alt: \"\".concat(commentUser.username), \"aria-label\": 'Profile Image', className: 'rounded-circle img-sz-80', src: getThumbnail({ path: 'usericon', query: { id: commentUser.userId, domain: (0,localization_domain/* serializeDomain */.PI)(f3Domain), width: 80, height: 80 } }) }))),\n                        external_React_default().createElement(\"div\", { className: 'col border-top pt-3' },\n                            external_React_default().createElement(\"p\", { className: 'owner-item mb-0' },\n                                external_React_default().createElement(F3Link/* F3Link */.y, { \"aria-label\": 'Username', href: (0,slug/* getContentPath */.kQ)('USER', commentUser.username), target: '_self' }, commentUser.username),\n                                \"\\u00A0 \\u00B7 \\u00A0\",\n                                external_React_default().createElement(\"span\", { className: 'text-muted' }, getLocaleDate(comment.metadata.lastModified))),\n                            external_React_default().createElement(\"p\", { className: 'text-break' },\n                                comment.element.value,\n                                editing &&\n                                    external_React_default().createElement((external_React_default()).Fragment, null,\n                                        (isCommentOwner || isAllowed('CONTRIBUTION_DELETE_OTHERS', 'COMMENT')) &&\n                                            external_React_default().createElement(F3Button/* DeleteButton */.m1, { \"aria-label\": t('commentsTab.deleteComment', 'Delete comment'), className: 'pull-right border-0 d-print-none', onClick: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                                                    var results, e_1;\n                                                    return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                                                        switch (_a.label) {\n                                                            case 0: return [4 /*yield*/, verify(t('commentsTab.deleteConfirm', 'Are you sure you want to delete this comment?'))];\n                                                            case 1:\n                                                                if (!_a.sent()) return [3 /*break*/, 5];\n                                                                _a.label = 2;\n                                                            case 2:\n                                                                _a.trys.push([2, 4, , 5]);\n                                                                return [4 /*yield*/, new ContentApi().removeElements(content, [comment])];\n                                                            case 3:\n                                                                results = _a.sent();\n                                                                mergeElementUpdateResults(results);\n                                                                addSuccessAlert(t('commentsTab.deleteSuccess', 'The comment has been successfully deleted.'));\n                                                                return [3 /*break*/, 5];\n                                                            case 4:\n                                                                e_1 = _a.sent();\n                                                                addErrorAlert(t('common:somethingWrong'));\n                                                                return [3 /*break*/, 5];\n                                                            case 5: return [2 /*return*/];\n                                                        }\n                                                    });\n                                                }); }, outline: true }),\n                                        (isCommentOwner || isAllowed('CONTRIBUTION_UPDATE_OTHERS', 'COMMENT')) &&\n                                            external_React_default().createElement(F3Button/* EditButton */.w6, { \"aria-label\": 'Edit', className: 'pull-right border-0 d-print-none', onClick: function () {\n                                                    openDialog(external_React_default().createElement(CommentElementDialog, { existingComment: comment, lengthType: 'INDEX_RECORD_COMMENT' }));\n                                                }, outline: true })))));\n                }))));\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/deepMerge.ts\nvar lib_deepMerge = __webpack_require__(49691);\n;// CONCATENATED MODULE: ./src/ts/shared/components/SaveToAncestry.tsx\n\n\n\n\n\n\n\n\n\nvar SaveToAncestry = function (_a) {\n    var _b;\n    var getSaveData = _a.getSaveData, gtmClick = _a.gtmClick, className = _a.className, ref = _a.ref, content = _a.contentDoc, publication = _a.publication, rest = (0,tslib_es6/* __rest */._T)(_a, [\"getSaveData\", \"gtmClick\", \"className\", \"ref\", \"contentDoc\", \"publication\"]);\n    var _c = (0,external_React_.useContext)(fold3PageContext/* Fold3PageContext */.h), f3Domain = _c.f3Domain, environment = _c.environment, dynamicConfig = _c.dynamicConfig;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    if (((_b = dynamicConfig.showSTABtn) === null || _b === void 0 ? void 0 : _b[(0,localization_domain/* serializeDomain */.PI)(f3Domain)]) === false) {\n        return null;\n    }\n    var props = {};\n    if (gtmClick)\n        props['data-gtm-click'] = gtmClick;\n    return (external_React_default().createElement(F3Button/* AncestryButton */.H3, (0,tslib_es6/* __assign */.pi)({ className: (0,classUtil/* classStr */.B)('d-print-none', className), gtmEvent: (0,googleAnalyticsEvents/* staEvent */.MO)(content, publication), onClick: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n            var staData;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, getSaveData()];\n                    case 1:\n                        staData = _a.sent();\n                        saveToAncestry(staData, environment);\n                        return [2 /*return*/];\n                }\n            });\n        }); } }, rest, props),\n        external_React_default().createElement(\"span\", null, t('saveToAncestry.saveText', 'Save To Ancestry'))));\n};\nfunction saveToAncestry(data, environment) {\n    if (!('SaveToAncestryApi' in window)) {\n        console.warn('SaveToAncestryApi not loaded');\n        return;\n    }\n    var overrideUrl = environment.includes('live') ? undefined : 'https://www.ancestrystage.com/savetoancestry/';\n    var finalData = (0,lib_deepMerge/* deepMerge */.R)({\n        citation: {\n            title: '',\n            url: loc.href,\n        },\n        repositoryDomain: loc.origin,\n        media: {\n            url: loc.protocol + '//' + loc.hostname + '/img/nonimage-icon.png',\n            note: '',\n        },\n    }, data);\n    finalData.citation.url = addXid(finalData.citation.url);\n    if (environment.includes('local')) {\n        var cleanUrl = function (url) { return url.replace('local', 'dev').replace(':9292', ''); };\n        finalData.citation.url = cleanUrl(finalData.citation.url);\n        finalData.media.url = cleanUrl(finalData.media.url);\n        finalData.repositoryDomain = cleanUrl(finalData.repositoryDomain);\n    }\n    finalData.media.url += (finalData.media.url.includes('?') ? '&' : '?') + 'svg=false';\n    ;\n    window.SaveToAncestryApi.invoke(finalData, overrideUrl);\n}\nfunction addXid(url) {\n    var h = url.indexOf('#'), hashPart = (h > 0) ? url.slice(h) : '';\n    if (hashPart)\n        url = url.slice(0, h);\n    var delimiter = (url.indexOf('?') >= 0) ? '&' : '?';\n    url += delimiter + 'xid=1945';\n    /*\n     * Can't think of when we'd actually have a hash that we'd\n     * care about keeping, but we'll put it back just to be safe\n     */\n    url += hashPart;\n    return url;\n}\nvar loc = typeof location == 'object' ?\n    location :\n    {\n        href: '',\n        hostname: '',\n        protocol: '',\n        origin: '',\n    };\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/tagApi.ts\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/service/TagService.html) */\nvar TagApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(TagApi, _super);\n    function TagApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.FOLD31;\n        _this.baseUrl = '/api/tag';\n        return _this;\n    }\n    TagApi.prototype.listTaggedDocuments = function (tag, lastKey) {\n        if (lastKey === void 0) { lastKey = null; }\n        var params = { tag: tag };\n        if (lastKey !== null) {\n            //@ts-ignore\n            params['last-key'] = lastKey;\n        }\n        return this.get(\"/documents-paged\", {\n            params: params,\n            deserializeType: 'TagPage',\n        });\n    };\n    TagApi.prototype.listTagsForDocument = function (doc) {\n        return this.post('/documents', doc, {\n            serializeType: 'ObjectReference',\n            deserializeType: 'Tag',\n        });\n    };\n    TagApi.prototype.batchListTagsForDocuments = function (docs) {\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n            var contentObjects;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.post('/documents/batch', docs, {\n                            serializeType: 'ObjectReference',\n                            deserializeType: 'ContentObject',\n                        })];\n                    case 1:\n                        contentObjects = _a.sent();\n                        return [2 /*return*/, (0,content_contentObject/* sortContentObjects */.XW)(docs, contentObjects)];\n                }\n            });\n        });\n    };\n    TagApi.prototype.addTagToDocument = function (tag, doc) {\n        return this.put('', { name: tag, doc: doc }, { serializeType: 'TagId' });\n    };\n    TagApi.prototype.removeTagFromDocument = function (tag, doc) {\n        return this.delete('', {\n            data: { name: tag, doc: doc },\n            serializeType: 'TagId',\n        });\n    };\n    TagApi.prototype.deleteTag = function (tag) {\n        return this.delete(\"/delete/\".concat(tag));\n    };\n    TagApi.prototype.listTagsWithMetadata = function (count) {\n        if (count === void 0) { count = false; }\n        return this.get(\"/metadata?count=\".concat(count), { deserializeType: 'TagData' });\n    };\n    TagApi.prototype.getTagWithMetadata = function (tag) {\n        return this.get(\"/metadata/\".concat(tag), {\n            params: { tag: tag },\n            deserializeType: 'TagData',\n        });\n    };\n    TagApi.prototype.updateTagWithMetadata = function (tag) {\n        return this.put('/metadata', tag, { serializeType: 'TagData' });\n    };\n    /* This is a Node convenience method */\n    TagApi.prototype.getTagInfo = function (tags) {\n        return this.get('/getTagInfo', {\n            baseURL: null,\n            params: { tags: tags },\n        });\n    };\n    return TagApi;\n}(F3Api/* F3Api */.D4));\n\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/googleTagManager.ts\nvar googleTagManager = __webpack_require__(10415);\n;// CONCATENATED MODULE: ./src/ts/shared/components/tag/ShareButton.tsx\n\n\n\n\n\nvar ShareButton = function (_a) {\n    var onShare = _a.onShare, className = _a.className, contentType = _a.contentType, eventLabel = _a.eventLabel;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    var title = t('shareButton.label', 'Share');\n    return (external_React_default().createElement(F3Button/* F3Button */.Vk, { \"aria-label\": title, btnType: 'transparent', className: (0,classUtil/* classStr */.B)('icon-f3 icon-share', className ? className : 'col-auto me-2 h3 text-primary'), \"data-gtm-click\": (0,googleTagManager.contentTypeToGoogleTag)('share', contentType, eventLabel), onClick: onShare, role: 'button', title: title }));\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/hooks/useSidebar.ts\nvar useSidebar = __webpack_require__(22929);\n;// CONCATENATED MODULE: ./src/ts/shared/enums/KeyCode.enum.ts\n// from https://github.com/nfriend/ts-keycode-enum/blob/master/Key.enum.ts\nvar Key;\n(function (Key) {\n    Key[Key[\"Backspace\"] = 8] = \"Backspace\";\n    Key[Key[\"Tab\"] = 9] = \"Tab\";\n    Key[Key[\"Enter\"] = 13] = \"Enter\";\n    Key[Key[\"Shift\"] = 16] = \"Shift\";\n    Key[Key[\"Ctrl\"] = 17] = \"Ctrl\";\n    Key[Key[\"Alt\"] = 18] = \"Alt\";\n    Key[Key[\"PauseBreak\"] = 19] = \"PauseBreak\";\n    Key[Key[\"CapsLock\"] = 20] = \"CapsLock\";\n    Key[Key[\"Escape\"] = 27] = \"Escape\";\n    Key[Key[\"Space\"] = 32] = \"Space\";\n    Key[Key[\"PageUp\"] = 33] = \"PageUp\";\n    Key[Key[\"PageDown\"] = 34] = \"PageDown\";\n    Key[Key[\"End\"] = 35] = \"End\";\n    Key[Key[\"Home\"] = 36] = \"Home\";\n    Key[Key[\"LeftArrow\"] = 37] = \"LeftArrow\";\n    Key[Key[\"UpArrow\"] = 38] = \"UpArrow\";\n    Key[Key[\"RightArrow\"] = 39] = \"RightArrow\";\n    Key[Key[\"DownArrow\"] = 40] = \"DownArrow\";\n    Key[Key[\"Insert\"] = 45] = \"Insert\";\n    Key[Key[\"Delete\"] = 46] = \"Delete\";\n    Key[Key[\"Zero\"] = 48] = \"Zero\";\n    Key[Key[\"ClosedParen\"] = 48] = \"ClosedParen\";\n    Key[Key[\"One\"] = 49] = \"One\";\n    Key[Key[\"ExclamationMark\"] = 49] = \"ExclamationMark\";\n    Key[Key[\"Two\"] = 50] = \"Two\";\n    Key[Key[\"AtSign\"] = 50] = \"AtSign\";\n    Key[Key[\"Three\"] = 51] = \"Three\";\n    Key[Key[\"PoundSign\"] = 51] = \"PoundSign\";\n    Key[Key[\"Hash\"] = 51] = \"Hash\";\n    Key[Key[\"Four\"] = 52] = \"Four\";\n    Key[Key[\"DollarSign\"] = 52] = \"DollarSign\";\n    Key[Key[\"Five\"] = 53] = \"Five\";\n    Key[Key[\"PercentSign\"] = 53] = \"PercentSign\";\n    Key[Key[\"Six\"] = 54] = \"Six\";\n    Key[Key[\"Caret\"] = 54] = \"Caret\";\n    Key[Key[\"Hat\"] = 54] = \"Hat\";\n    Key[Key[\"Seven\"] = 55] = \"Seven\";\n    Key[Key[\"Ampersand\"] = 55] = \"Ampersand\";\n    Key[Key[\"Eight\"] = 56] = \"Eight\";\n    Key[Key[\"Star\"] = 56] = \"Star\";\n    Key[Key[\"Asterik\"] = 56] = \"Asterik\";\n    Key[Key[\"Nine\"] = 57] = \"Nine\";\n    Key[Key[\"OpenParen\"] = 57] = \"OpenParen\";\n    Key[Key[\"A\"] = 65] = \"A\";\n    Key[Key[\"B\"] = 66] = \"B\";\n    Key[Key[\"C\"] = 67] = \"C\";\n    Key[Key[\"D\"] = 68] = \"D\";\n    Key[Key[\"E\"] = 69] = \"E\";\n    Key[Key[\"F\"] = 70] = \"F\";\n    Key[Key[\"G\"] = 71] = \"G\";\n    Key[Key[\"H\"] = 72] = \"H\";\n    Key[Key[\"I\"] = 73] = \"I\";\n    Key[Key[\"J\"] = 74] = \"J\";\n    Key[Key[\"K\"] = 75] = \"K\";\n    Key[Key[\"L\"] = 76] = \"L\";\n    Key[Key[\"M\"] = 77] = \"M\";\n    Key[Key[\"N\"] = 78] = \"N\";\n    Key[Key[\"O\"] = 79] = \"O\";\n    Key[Key[\"P\"] = 80] = \"P\";\n    Key[Key[\"Q\"] = 81] = \"Q\";\n    Key[Key[\"R\"] = 82] = \"R\";\n    Key[Key[\"S\"] = 83] = \"S\";\n    Key[Key[\"T\"] = 84] = \"T\";\n    Key[Key[\"U\"] = 85] = \"U\";\n    Key[Key[\"V\"] = 86] = \"V\";\n    Key[Key[\"W\"] = 87] = \"W\";\n    Key[Key[\"X\"] = 88] = \"X\";\n    Key[Key[\"Y\"] = 89] = \"Y\";\n    Key[Key[\"Z\"] = 90] = \"Z\";\n    Key[Key[\"LeftWindowKey\"] = 91] = \"LeftWindowKey\";\n    Key[Key[\"RightWindowKey\"] = 92] = \"RightWindowKey\";\n    Key[Key[\"SelectKey\"] = 93] = \"SelectKey\";\n    Key[Key[\"Numpad0\"] = 96] = \"Numpad0\";\n    Key[Key[\"Numpad1\"] = 97] = \"Numpad1\";\n    Key[Key[\"Numpad2\"] = 98] = \"Numpad2\";\n    Key[Key[\"Numpad3\"] = 99] = \"Numpad3\";\n    Key[Key[\"Numpad4\"] = 100] = \"Numpad4\";\n    Key[Key[\"Numpad5\"] = 101] = \"Numpad5\";\n    Key[Key[\"Numpad6\"] = 102] = \"Numpad6\";\n    Key[Key[\"Numpad7\"] = 103] = \"Numpad7\";\n    Key[Key[\"Numpad8\"] = 104] = \"Numpad8\";\n    Key[Key[\"Numpad9\"] = 105] = \"Numpad9\";\n    Key[Key[\"Multiply\"] = 106] = \"Multiply\";\n    Key[Key[\"Add\"] = 107] = \"Add\";\n    Key[Key[\"Subtract\"] = 109] = \"Subtract\";\n    Key[Key[\"DecimalPoint\"] = 110] = \"DecimalPoint\";\n    Key[Key[\"Divide\"] = 111] = \"Divide\";\n    Key[Key[\"F1\"] = 112] = \"F1\";\n    Key[Key[\"F2\"] = 113] = \"F2\";\n    Key[Key[\"F3\"] = 114] = \"F3\";\n    Key[Key[\"F4\"] = 115] = \"F4\";\n    Key[Key[\"F5\"] = 116] = \"F5\";\n    Key[Key[\"F6\"] = 117] = \"F6\";\n    Key[Key[\"F7\"] = 118] = \"F7\";\n    Key[Key[\"F8\"] = 119] = \"F8\";\n    Key[Key[\"F9\"] = 120] = \"F9\";\n    Key[Key[\"F10\"] = 121] = \"F10\";\n    Key[Key[\"F11\"] = 122] = \"F11\";\n    Key[Key[\"F12\"] = 123] = \"F12\";\n    Key[Key[\"NumLock\"] = 144] = \"NumLock\";\n    Key[Key[\"ScrollLock\"] = 145] = \"ScrollLock\";\n    Key[Key[\"SemiColon\"] = 186] = \"SemiColon\";\n    Key[Key[\"Equals\"] = 187] = \"Equals\";\n    Key[Key[\"Comma\"] = 188] = \"Comma\";\n    Key[Key[\"Dash\"] = 189] = \"Dash\";\n    Key[Key[\"Period\"] = 190] = \"Period\";\n    Key[Key[\"UnderScore\"] = 189] = \"UnderScore\";\n    Key[Key[\"PlusSign\"] = 187] = \"PlusSign\";\n    Key[Key[\"ForwardSlash\"] = 191] = \"ForwardSlash\";\n    Key[Key[\"Tilde\"] = 192] = \"Tilde\";\n    Key[Key[\"GraveAccent\"] = 192] = \"GraveAccent\";\n    Key[Key[\"OpenBracket\"] = 219] = \"OpenBracket\";\n    Key[Key[\"ClosedBracket\"] = 221] = \"ClosedBracket\";\n    Key[Key[\"Quote\"] = 222] = \"Quote\";\n})(Key || (Key = {}));\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/userReportApi.ts\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/service/UserReportService.html) */\nvar UserReportApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(UserReportApi, _super);\n    function UserReportApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.FOLD31;\n        _this.baseUrl = '/api';\n        return _this;\n    }\n    UserReportApi.prototype.submitFeedback = function (report, captchaToken) {\n        var _a;\n        return this.post('/user-report/feedback', report, {\n            headers: (_a = {}, _a[headers_enum/* HEADERS */.o.CAPTCHA_TOKEN] = captchaToken, _a),\n        });\n    };\n    return UserReportApi;\n}(F3Api/* F3Api */.D4));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useCaptchaToken.ts\n\nvar useCaptchaToken = function () {\n    var captchaToken = (0,external_React_.useRef)(null);\n    return {\n        onCaptchaResponse: function (resp, token) {\n            if (resp === null || (resp === null || resp === void 0 ? void 0 : resp.success)) {\n                captchaToken.current = token;\n            }\n        },\n        captchaToken: captchaToken,\n    };\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/admin/components/FormRow.tsx\n\n\nvar FormRow = function (_a) {\n    var label = _a.label, content = _a.content, children = _a.children, className = _a.className, forId = _a.forId, helpText = _a.helpText;\n    return external_React_default().createElement(\"div\", { className: (0,classUtil/* classStr */.B)('row', 'mb-3', className) },\n        external_React_default().createElement(\"div\", { className: 'col-md-3 col-12 text-md-end col-form-label' },\n            external_React_default().createElement(\"label\", { htmlFor: forId }, label),\n            \" \"),\n        external_React_default().createElement(\"div\", { className: 'col-md-7 col-12' },\n            content ? content : children,\n            helpText &&\n                external_React_default().createElement(\"small\", { className: 'form-text' }, helpText)));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/forms/F3Radio.tsx\n\nvar F3Radio = function (_a) {\n    var values = _a.values, labels = _a.labels, groupName = _a.groupName, onValueChange = _a.onValueChange, value = _a.value;\n    return (external_React_default().createElement(\"div\", { \"aria-label\": groupName, onChange: function (e) {\n            //@ts-ignore\n            onValueChange(e.target.value);\n        }, role: 'group' }, values.map(function (val) {\n        return (external_React_default().createElement(\"div\", { key: \"\".concat(groupName, \"-\").concat(val), className: 'form-check' },\n            external_React_default().createElement(\"input\", { checked: val === value, className: 'form-check-input', \"data-cy\": 'f3-radio', id: \"\".concat(groupName, \"-\").concat(val), name: groupName, type: 'radio', value: val }),\n            external_React_default().createElement(\"label\", { className: 'form-check-label', htmlFor: \"\".concat(groupName, \"-\").concat(val) }, labels ? labels[val] : val)));\n    })));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/forms/F3TextArea.tsx\n\n\n\n\nvar F3TextArea = (0,external_React_.forwardRef)(function (props, textAreaRef) {\n    var validate = props.validate, onValueChange = props.onValueChange, otherProps = (0,tslib_es6/* __rest */._T)(props, [\"validate\", \"onValueChange\"]);\n    var _a = useFormValidation(textAreaRef, otherProps, validate), validationMessage = _a.validationMessage, className = _a.className, rest = (0,tslib_es6/* __rest */._T)(_a, [\"validationMessage\", \"className\"]);\n    return external_React_default().createElement(\"div\", null,\n        external_React_default().createElement(\"textarea\", (0,tslib_es6/* __assign */.pi)({}, rest, { className: (0,classUtil/* classStr */.B)(className, 'form-control'), \"data-cy\": 'markdown-textarea', onChange: function (e) {\n                var _a;\n                (_a = otherProps.onChange) === null || _a === void 0 ? void 0 : _a.call(otherProps, e);\n                onValueChange === null || onValueChange === void 0 ? void 0 : onValueChange(e.target.value);\n            } })),\n        external_React_default().createElement(\"div\", { className: 'invalid-feedback icon-f3 icon-warning', role: 'alert' }, validationMessage));\n});\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/ReportDialog.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar REPORT_FORM_ID = 'report-dialog-form';\nvar ReportDialog = function (_a) {\n    var objectReference = _a.objectReference, childReference = _a.childReference, rest = (0,tslib_es6/* __rest */._T)(_a, [\"objectReference\", \"childReference\"]);\n    var isSignedIn = (0,useUser/* useUser */.a)().isSignedIn;\n    var _b = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(''), 2), description = _b[0], setDescription = _b[1];\n    var _c = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(''), 2), reportType = _c[0], setReportType = _c[1];\n    var _d = (0,useAlerts/* useAlerts */.Z)(), addSuccessAlert = _d.addSuccessAlert, addErrorAlert = _d.addErrorAlert;\n    var _e = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(''), 2), email = _e[0], setEmail = _e[1];\n    var closeDialog = (0,useDialogs/* useDialogs */.q)().closeDialog;\n    var _f = useCaptchaToken(), captchaToken = _f.captchaToken, onCaptchaResponse = _f.onCaptchaResponse;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    var REPORT_TYPES = {\n        INAPPROPRIATE: t('reportDialog.inappropriateContent', 'Inappropriate Content'),\n        COPYRIGHT: t('reportDialog.copyrightInfringement', 'Copyright Infringement'),\n        SITE_PROBLEM: t('reportDialog.websiteMalfunction', 'Website Malfunction'),\n        OTHER_PROBLEM: t('reportDialog.other', 'Other'),\n    };\n    return external_React_default().createElement(Dialog, (0,tslib_es6/* __assign */.pi)({}, rest, { footer: external_React_default().createElement((external_React_default()).Fragment, null,\n            external_React_default().createElement(DialogCloseButton, null),\n            external_React_default().createElement(F3Button/* SubmitButton */.Mm, { form: REPORT_FORM_ID }, \"Submit Report\")), title: t('reportDialog.reportProblem', 'Report a problem') }),\n        external_React_default().createElement(F3Form, { className: 'container-fluid p-0', id: REPORT_FORM_ID, onSubmit: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                var report, e_1, msg;\n                var _a, _b;\n                return (0,tslib_es6/* __generator */.Jh)(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            _c.trys.push([0, 2, , 3]);\n                            report = {\n                                type: reportType,\n                                message: description,\n                                objectId: objectReference ? +(objectReference === null || objectReference === void 0 ? void 0 : objectReference.objectId) : null,\n                                objectType: objectReference === null || objectReference === void 0 ? void 0 : objectReference.contentType,\n                                url: window.location.pathname,\n                                childId: childReference === null || childReference === void 0 ? void 0 : childReference.objectId,\n                                childType: childReference === null || childReference === void 0 ? void 0 : childReference.contentType,\n                            };\n                            if (!isSignedIn) {\n                                report.email = email;\n                            }\n                            report = (0,mapUtil/* filterObject */.v7)(report, function (_, val) { return val !== undefined && val !== null; });\n                            return [4 /*yield*/, new UserReportApi().submitFeedback(report, captchaToken.current)];\n                        case 1:\n                            _c.sent();\n                            addSuccessAlert(t('reportDialog.successAlert', 'Your report has been successfully submitted.'));\n                            closeDialog();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            e_1 = _c.sent();\n                            msg = ((_b = (_a = e_1.response) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.error) || t('reportDialog.errorAlert', 'Something went wrong. Please try again.');\n                            addErrorAlert(msg);\n                            throw e_1;\n                        case 3: return [2 /*return*/];\n                    }\n                });\n            }); } },\n            external_React_default().createElement(\"fieldset\", null,\n                external_React_default().createElement(\"legend\", { className: 'visually-hidden' }, t('reportDialog.legendText', 'Report an Issue')),\n                external_React_default().createElement(FormRow, { label: t('reportDialog.problemType', 'Problem Type') },\n                    external_React_default().createElement(F3Radio, { groupName: 'problemType', labels: REPORT_TYPES, onValueChange: function (value) {\n                            setReportType(value);\n                        }, required: true, value: reportType, values: Object.keys(REPORT_TYPES) })),\n                external_React_default().createElement(FormRow, { \"data-cy\": 'problem-type-area', forId: 'problem-description', label: t('reportDialog.description', 'Description') },\n                    external_React_default().createElement(F3TextArea, { \"data-cy\": 'report-textarea', id: 'problem-description', onChange: function (e) { return setDescription(e.target.value); }, required: true, style: { minHeight: '200px' }, validate: function (val) { return validateLength(val, 'FEEDBACK'); }, value: description })),\n                !isSignedIn &&\n                    external_React_default().createElement(FormRow, { label: t('reportDialog.email', 'Email') },\n                        external_React_default().createElement(F3Input, { onValueChange: setEmail, required: true, value: email }))),\n            external_React_default().createElement(\"fieldset\", null,\n                external_React_default().createElement(\"div\", { className: 'row' },\n                    external_React_default().createElement(\"div\", { className: 'col-12 offset-md-3 col-md-7' },\n                        external_React_default().createElement(CaptchaCheckbox, { onCaptchaResponse: onCaptchaResponse }))))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useLocalizedTags.ts\n\n\nvar useLocalizedTags = function () {\n    var t = (0,external_ReactI18next_.useTranslation)('common').t;\n    return function (tag) {\n        if (!tag)\n            return tag;\n        return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, tag), { label: tag.name === 'bookmarks' ? t('tagLabel.bookmarks', 'Bookmarks') : tag.label });\n    };\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useTags.ts\n\n\n\nvar useTags = function () {\n    var _a = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)([]), 2), tags = _a[0], setTags = _a[1];\n    (0,external_React_.useEffect)(function () {\n        new TagApi().listTagsWithMetadata()\n            .then(function (data) {\n            setTags(data);\n        });\n    }, []);\n    return { tags: tags, setTags: setTags };\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/gallery/utils/galleryTag.ts\n\nvar removeTag = function (tag, tags) {\n    var _tags = Object.assign([], tags);\n    var index = tags.findIndex(function (t) { return t === tag; });\n    _tags.splice(index, 1);\n    return _tags;\n};\nvar addTag = function (tag, tags) {\n    var _tags = Object.assign([], tags);\n    if (_tags.includes(tag)) {\n        return _tags;\n    }\n    else {\n        return __spreadArray(__spreadArray([], __read(tags), false), [tag], false);\n    }\n};\nvar validateTag = function (tag, tags) {\n    var index = findTag(tags, tag).index;\n    if (index !== -1) {\n        return false;\n    }\n    else\n        return true;\n};\nvar findTag = function (tags, tagData) {\n    var tag;\n    var index = tags.findIndex(function (t) {\n        //@ts-ignore\n        if (t.name) {\n            //@ts-ignore\n            return t.name === tagData.name;\n        }\n        else {\n            return t === tagData.name;\n        }\n    });\n    if (index > -1) {\n        tag = tags[index];\n        if ((tag === null || tag === void 0 ? void 0 : tag.name) === undefined) {\n            tag = { name: tags[index], label: tags[index] };\n        }\n    }\n    return { tag: tag, index: index, tags: tags };\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/gallery/utils/galleryTemplating.ts\nvar toTagName = function (label) {\n    return label\n        .trim()\n        .toLowerCase()\n        .replace(/[^A-Za-z0-9\\s]/g, '')\n        .replace(/\\s/g, '_');\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/tag/BookmarkTagPill.tsx\n\n\n\n\n\n\n\n\nvar BookmarkTagPill = function (_a) {\n    var _b;\n    var id = _a.id, tag = _a.tag, tagData = _a.tagData, documentTags = _a.documentTags, onChange = _a.onChange;\n    var pushEvent = (0,useDataLayer/* useDataLayer */.P)().pushEvent;\n    var localizeTag = useLocalizedTags();\n    var bookmarkTag = (0,external_React_.useMemo)(function () {\n        return tagData.find(function (_tag) { return _tag.name === tag; });\n    }, [tag, tagData]);\n    return (external_React_default().createElement(\"small\", { key: tag, className: (0,classUtil/* classStr */.B)('col-auto', 'm-1', 'px-2', 'px-0', 'border', 'rounded-pill', 'text-truncate', 'd-inline-block', 'text-nowrap', 'lh-lg', documentTags.includes(tag) ? 'bg-primary text-white border-primary icon-f3 icon-check' : 'bg-white text-secondary'), onClick: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n            var add;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        add = !documentTags.includes(tag);\n                        if (!add) return [3 /*break*/, 2];\n                        return [4 /*yield*/, new TagApi().addTagToDocument(tag, id)];\n                    case 1:\n                        _a.sent();\n                        onChange(tag, false);\n                        pushEvent((0,googleAnalyticsEvents/* contentTypeEvent */.pN)(id.contentType, gtmEvent_enum/* Action */.aU.TAG));\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, new TagApi().removeTagFromDocument(tag, id)];\n                    case 3:\n                        _a.sent();\n                        onChange(tag, true);\n                        _a.label = 4;\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); }, role: 'button', style: { maxWidth: 120 } }, (_b = localizeTag(bookmarkTag)) === null || _b === void 0 ? void 0 : _b.label));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/tag/TagDrawerContent.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar TagDrawerContent = function (_a) {\n    var id = _a.id, eventLabel = _a.eventLabel, onChange = _a.onChange;\n    var PREVIEW_TAG_COUNT = 12;\n    var _b = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(PREVIEW_TAG_COUNT), 2), maxTagCount = _b[0], setMaxTagCount = _b[1];\n    var _c = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)('See All'), 2), moreTagLabel = _c[0], setMoreTagLabel = _c[1];\n    var pushEvent = (0,useDataLayer/* useDataLayer */.P)().pushEvent;\n    var _d = useTags(), tags = _d.tags, setTags = _d.setTags;\n    var _e = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)([]), 2), tagData = _e[0], setTagData = _e[1];\n    var user = (0,useUser/* useUser */.a)().user;\n    var _f = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(''), 2), tagInput = _f[0], setTagInput = _f[1];\n    var _g = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), loading = _g[0], setLoading = _g[1];\n    var _h = (0,useAlerts/* useAlerts */.Z)(), addAlert = _h.addAlert, addSuccessAlert = _h.addSuccessAlert, addErrorAlert = _h.addErrorAlert;\n    var _j = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)([]), 2), documentTags = _j[0], setDocumentTags = _j[1];\n    var _k = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)([]), 2), yourTags = _k[0], setYourTags = _k[1];\n    var verify = useVerify().verify;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    var localizeTag = useLocalizedTags();\n    var contentType = id.contentType;\n    (0,external_React_.useEffect)(function () {\n        new TagApi().listTagsForDocument(id)\n            .then(function (docTags) {\n            var _tags = docTags.map(function (t) { return t.name; });\n            setDocumentTags(_tags);\n        });\n    }, [id]);\n    (0,external_React_.useEffect)(function () {\n        if (tags === null || tags === void 0 ? void 0 : tags.length) {\n            var _tags = tags.sort(function (a, b) { return (0,sortUtil/* dateSort */.Nk)(b.modifiedDate, a.modifiedDate); });\n            var _yourTags = _tags.filter(function (t) { return !documentTags.includes(t.name); });\n            setYourTags(_yourTags);\n            setTagData(_tags.map(localizeTag));\n        }\n    }, [tags, documentTags]);\n    var handleAddTag = function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var label, tagName, tag;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n            setLoading(true);\n            label = tagInput.trim();\n            tagName = toTagName(tagInput);\n            tag = findTag(tagData, { name: tagName }).tag;\n            if (!tag) {\n                tag = {\n                    label: label,\n                    name: tagName,\n                    metadata: [],\n                    userId: user.userId,\n                };\n            }\n            if (documentTags.includes(tagName)) {\n                addAlert(t('tagDrawerContent.alreadyAddedAlert', 'Tag \"{{tagLabel}}\" already added.', { tagLabel: tag.label }), (0,time.getTimeInMs)(10, 'sec'));\n                setTagInput('');\n                return [2 /*return*/];\n            }\n            new TagApi()\n                .addTagToDocument(tag.name, id)\n                .then(function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                var unique;\n                return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            unique = validateTag(tag, tags);\n                            if (!unique) return [3 /*break*/, 2];\n                            return [4 /*yield*/, new TagApi().updateTagWithMetadata(tag)\n                                    .then(function () {\n                                    var _tagData = Object.assign([], tagData);\n                                    _tagData.push(tag);\n                                    setTags(_tagData);\n                                    addSuccessAlert(t('tagDrawerContent.successAlert', 'Your tag was created successfully.'));\n                                })];\n                        case 1:\n                            _a.sent();\n                            _a.label = 2;\n                        case 2:\n                            pushEvent((0,googleAnalyticsEvents/* contentTypeEvent */.pN)(id.contentType, gtmEvent_enum/* Action */.aU.TAG));\n                            return [2 /*return*/];\n                    }\n                });\n            }); })\n                .then(function () {\n                var _documentTags = Object.assign([], documentTags);\n                _documentTags.push(tag.name);\n                setDocumentTags(_documentTags);\n                onChange === null || onChange === void 0 ? void 0 : onChange(_documentTags);\n            })\n                .catch(function (e) {\n                pushEvent((0,googleAnalyticsEvents/* contentTypeEvent */.pN)(id.contentType, gtmEvent_enum/* Action */.aU.TAG, gtmEvent_enum/* Result */.x4.FAIL, e));\n                addErrorAlert(t('tagDrawerContent.errorAlert', 'There was an error saving your tag.'));\n            })\n                .finally(function () {\n                setTagInput('');\n                setLoading(false);\n            });\n            return [2 /*return*/];\n        });\n    }); };\n    var toggleTagCount = function () {\n        var label;\n        var count;\n        if (maxTagCount < (tags === null || tags === void 0 ? void 0 : tags.length)) {\n            label = t('tagDrawerContent.seeLessLabel', 'See Less');\n            count = tags === null || tags === void 0 ? void 0 : tags.length;\n        }\n        else if (maxTagCount === (tags === null || tags === void 0 ? void 0 : tags.length)) {\n            label = t('tagDrawerContent.seeAllLabel', 'See All');\n            count = PREVIEW_TAG_COUNT;\n        }\n        setMoreTagLabel(label);\n        setMaxTagCount(count);\n    };\n    var removeTags = function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, verify(t('tagDrawerContent.removeTagsVerifyDialog', 'Are you sure you want to remove all tags from this {{contentLabel}}?', { contentLabel: (0,content_contentObject/* getContentTypeLabel */.iN)(contentType) }))];\n                case 1:\n                    if (_a.sent()) {\n                        documentTags.forEach(function (tag) {\n                            new TagApi().removeTagFromDocument(tag, id);\n                        });\n                        setDocumentTags([]);\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleChange = function (tag, remove) {\n        var _tags = documentTags;\n        if (remove) {\n            _tags = documentTags.filter(function (t) { return t !== tag; });\n        }\n        else {\n            _tags = (0,tslib_es6/* __spreadArray */.ev)((0,tslib_es6/* __spreadArray */.ev)([], (0,tslib_es6/* __read */.CR)(documentTags), false), [tag], false);\n        }\n        onChange === null || onChange === void 0 ? void 0 : onChange(_tags);\n        setDocumentTags(_tags);\n    };\n    return (external_React_default().createElement(\"div\", null,\n        documentTags.length > 0 ?\n            external_React_default().createElement(\"div\", { className: 'row mb-2' },\n                external_React_default().createElement(\"h3\", { className: 'pt-0 pb-0 text-left col text-secondary h6' }, t('tagDrawerContent.currentTagsHeader', 'Current Tags')),\n                external_React_default().createElement(\"div\", { className: 'pt-0 pb-0 text-right col' },\n                    external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'secondary', className: 'position-absolute end-0 me-3', onClick: removeTags, size: 'sm' }, t('tagDrawerContent.removeButtonText', 'Remove')))) :\n            external_React_default().createElement(\"p\", { className: 'text-muted my-4' }, t('tagDrawerContent.noTagsText', \"You don't have any tags yet. Add a tag below.\")),\n        external_React_default().createElement(\"div\", { className: 'row gx-2 gy-0 mb-3 tag-container' }, documentTags.map(function (tag) {\n            return external_React_default().createElement(BookmarkTagPill, { key: tag, documentTags: documentTags, id: id, onChange: handleChange, tag: tag, tagData: tagData });\n        })),\n        yourTags.length > 0 &&\n            external_React_default().createElement((external_React_default()).Fragment, null,\n                external_React_default().createElement(\"div\", { className: 'row mb-1' },\n                    external_React_default().createElement(\"h3\", { className: 'pt-0 pb-0 text-left col text-secondary h6' }, t('tagDrawerContent.yourTagsHeader', 'Your Tags')),\n                    external_React_default().createElement(\"div\", { className: 'col-auto ms-auto' },\n                        external_React_default().createElement(\"small\", null,\n                            external_React_default().createElement(F3Link/* F3Link */.y, { href: '/gallery/tags?edit=true', target: '_blank' }, t('tagDrawerContent.manageTagsButtonText', 'Manage Tags'))))),\n                external_React_default().createElement(\"div\", { className: 'row gx-2 gy-0 mb-3 p-2 tag-container' },\n                    yourTags.map(function (tag, i) {\n                        return external_React_default().createElement((external_React_default()).Fragment, { key: tag.name }, i < maxTagCount ?\n                            external_React_default().createElement(BookmarkTagPill, { key: tag.name, documentTags: documentTags, id: id, onChange: handleChange, tag: tag.name, tagData: tagData }) :\n                            null);\n                    }),\n                    yourTags.length > PREVIEW_TAG_COUNT &&\n                        external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'transparent', className: 'col-auto', onClick: function () { return toggleTagCount(); }, size: 'sm' },\n                            external_React_default().createElement(\"span\", null, moreTagLabel)))),\n        external_React_default().createElement(\"div\", { className: 'row border-bottom mb-3' },\n            external_React_default().createElement(\"h3\", { className: 'pt-0 pb-0 text-left text-secondary h6' },\n                external_React_default().createElement(\"label\", { htmlFor: 'addTag' }, t('tagDrawerContent.addTagsLabel', 'Add Tags'))),\n            external_React_default().createElement(\"div\", { className: 'input-group mb-3 col-12' },\n                external_React_default().createElement(F3Input, { className: 'form-control form-control-sm', id: 'addTag', maxLength: 280, onChange: function (tag) { return setTagInput(tag.currentTarget.value); }, onKeyPress: function (key) {\n                        if (key.charCode === Key.Enter || key.keyCode === Key.Enter) {\n                            handleAddTag();\n                        }\n                    }, placeholder: t('tagDrawerContent.addTagPlaceholder', 'Enter a new tag'), type: 'text', value: tagInput }),\n                external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'secondary', \"data-gtm-click\": (0,googleTagManager.contentTypeToGoogleTag)('tag', contentType, eventLabel), disabled: loading, onClick: handleAddTag, outline: loading, size: 'sm' }, loading ? t('tagDrawerContent.addingTag', 'Adding...') : t('tagDrawerContent.addTag', 'Add'))))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/tag/TagDrawer.tsx\n\n\n\n\n\n\n\n\n\nvar TagDrawer = function (_a) {\n    var id = _a.id, eventLabel = _a.eventLabel, onChange = _a.onChange;\n    var toggleSidebar = (0,useSidebar/* useSidebars */.M)().toggleSidebar;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    var handleEscape = function (event) {\n        if (event.keyCode === Key.Escape) {\n            toggleSidebar(false);\n        }\n    };\n    (0,external_React_.useEffect)(function () {\n        document.addEventListener('keydown', handleEscape, false);\n        return function () {\n            document.removeEventListener('keydown', handleEscape, false);\n        };\n    }, []);\n    var openDialog = (0,useDialogs/* useDialogs */.q)().openDialog;\n    return (external_React_default().createElement(\"div\", { className: 'container-sm py-2 px-3 py-md-3 px-md-4 bg-white d-flex flex-column h-100' },\n        external_React_default().createElement(\"div\", { className: 'row border-bottom mb-3' },\n            external_React_default().createElement(\"h2\", { className: 'col text-secondary h5' },\n                external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-tag align-middle me-1' }),\n                t('tagDrawer.header', 'Tags')),\n            external_React_default().createElement(\"div\", { className: 'col-auto ms-auto' },\n                external_React_default().createElement(\"button\", { className: 'btn btn-secondary-outline border-0', onClick: function () { return toggleSidebar(false); }, type: 'button' },\n                    external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-close' })))),\n        external_React_default().createElement(TagDrawerContent, { eventLabel: eventLabel, id: id, onChange: onChange }),\n        external_React_default().createElement(\"div\", null,\n            external_React_default().createElement(F3Button/* F3Button */.Vk, { onClick: function () { return toggleSidebar(false); } }, t('tagDrawer.doneButton', 'Done'))),\n        external_React_default().createElement(\"div\", { className: 'mt-auto' },\n            external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'link', className: 'text-muted', onClick: function () {\n                    openDialog(external_React_default().createElement(ReportDialog, { objectReference: id }));\n                } },\n                external_React_default().createElement(\"small\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-flag' }, t('tagDrawer.problemLink', ' Report a problem with this {{contentLabel}}', { contentLabel: (0,content_contentObject/* getContentTypeLabel */.iN)(id.contentType) }))))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/tag/TagButton.tsx\n\n\n\n\n\n\n\n\n\nvar TagButton = function (_a) {\n    var id = _a.id, className = _a.className, count = _a.count, onChange = _a.onChange, contentType = _a.contentType, eventLabel = _a.eventLabel;\n    var _b = (0,useSidebar/* useSidebars */.M)(), open = _b.open, addSidebar = _b.addSidebar, toggleSidebar = _b.toggleSidebar;\n    var isConfirmed = (0,useUser/* useUser */.a)().isConfirmed;\n    var openDialog = (0,useDialogs/* useDialogs */.q)().openDialog;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    (0,external_React_.useEffect)(function () {\n        addSidebar(external_React_default().createElement(TagDrawer, { id: id, onChange: onChange }));\n    }, []);\n    var title = t('tagButton.label', 'Add a tag');\n    return (external_React_default().createElement(\"button\", { \"aria-label\": title, className: (0,classUtil/* classStr */.B)('btn position-relative d-inline-block col-auto', className ? className : ''), \"data-gtm-click\": (0,googleTagManager.contentTypeToGoogleTag)('bookmark', contentType, eventLabel), onClick: function () {\n            if (!isConfirmed) {\n                openDialog(external_React_default().createElement(Deny, { action: 'BOOKMARK', requirement: 'confirm' }));\n                return;\n            }\n            toggleSidebar(!open);\n        }, title: title, type: 'button' },\n        external_React_default().createElement(\"span\", { className: (0,classUtil/* classStr */.B)(count > 0 &&\n                'position-absolute zi-1 top-0 start-100 translate-middle badge border border-light rounded-circle bg-danger p-1'), title: \"\".concat(count || 0, \" tags added\") },\n            external_React_default().createElement(\"span\", { className: 'visually-hidden' }, t('tagButton.tagCount', '{{tagCount}} tags added', { tagCount: count || 0 }))),\n        external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-tag' })));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/ShareBookmarkTagButtons.tsx\n\n\n\n\n\n\nvar ShareBookmarkTagButtons = function (_a) {\n    var id = _a.id, eventLabel = _a.eventLabel, onShare = _a.onShare, className = _a.className, hasTagPermissions = _a.hasTagPermissions, children = _a.children;\n    var contentType = id.contentType;\n    var isSignedIn = (0,useUser/* useUser */.a)().isSignedIn;\n    var _b = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(0), 2), count = _b[0], setCount = _b[1];\n    (0,external_React_.useEffect)(function () {\n        new TagApi().listTagsForDocument(id)\n            .then(function (docTags) {\n            var tags = docTags.map(function (t) { return t.name; });\n            setCount((tags === null || tags === void 0 ? void 0 : tags.length) || 0);\n        });\n    }, [id]);\n    var updateCount = function (tags) {\n        var _count = tags.length || 0;\n        setCount(_count);\n    };\n    return (external_React_default().createElement(\"ul\", { className: 'list-unstyled text-end' },\n        external_React_default().createElement(\"li\", { className: 'd-inline-block' }, children),\n        onShare &&\n            external_React_default().createElement(ShareButton, { className: className, contentType: contentType, eventLabel: eventLabel, onShare: onShare }),\n        isSignedIn &&\n            hasTagPermissions &&\n            external_React_default().createElement(\"li\", { className: 'd-inline-block' },\n                external_React_default().createElement(TagButton, { className: className, contentType: contentType, count: count, eventLabel: eventLabel, id: id, onChange: updateCount }))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/marketingDocumentApi.ts\n\n\n/** [See Documentation](https://jfold3.iarchives.com/view/f3-backend/job/f3-backend/javadoc/com/ancestry/eb/fold31/service/DocumentFlagService.html) */\nvar MarketingDocumentApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(MarketingDocumentApi, _super);\n    function MarketingDocumentApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.FOLD31;\n        _this.baseUrl = '/api/document-flag/marketing';\n        return _this;\n    }\n    MarketingDocumentApi.prototype.getMarketingDocument = function (id, type) {\n        var contentType = id.contentType, objectId = id.objectId;\n        return this.get(\"/\".concat(contentType, \"/\").concat(objectId, \"/\").concat(type), { deserializeType: 'MarketingDocument' });\n    };\n    MarketingDocumentApi.prototype.listMarketingDocumentsByPublication = function (publicationId) {\n        return this.get(\"/\".concat(publicationId), {\n            deserializeType: 'MarketingDocument',\n        });\n    };\n    MarketingDocumentApi.prototype.listMarketingDocumentsByType = function (publicationId, type) {\n        return this.get(\"/\".concat(publicationId, \"/\").concat(type), {\n            deserializeType: 'MarketingDocument',\n        });\n    };\n    MarketingDocumentApi.prototype.addMarketingDocument = function (publicationId, marketingDocument) {\n        return this.put(\"/\".concat(publicationId), marketingDocument, {\n            serializeType: 'MarketingDocument',\n            deserializeType: 'MarketingDocument',\n        });\n    };\n    MarketingDocumentApi.prototype.deleteMarketingDocument = function (id, type) {\n        var contentType = id.contentType, objectId = id.objectId;\n        return this.delete(\"/\".concat(contentType, \"/\").concat(objectId, \"/\").concat(type));\n    };\n    return MarketingDocumentApi;\n}(F3Api/* F3Api */.D4));\n\n\n// EXTERNAL MODULE: ./src/ts/shared/components/list/PopoutLite.tsx + 1 modules\nvar PopoutLite = __webpack_require__(13605);\n;// CONCATENATED MODULE: ./src/ts/shared/components/list/Popout.tsx\n\n\n\nvar Popout = function (props) {\n    var _a = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), open = _a[0], setOpen = _a[1];\n    return external_React_default().createElement(PopoutLite/* PopoutLite */.k, (0,tslib_es6/* __assign */.pi)({ onToggle: setOpen, open: open }, props));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/share-dialog/EmbedShare.tsx\n\n\n\n\n\n\n\nvar EmbedShare = function (_a) {\n    var url = _a.url, contentType = _a.contentType;\n    var addSuccessAlert = (0,useAlerts/* useAlerts */.Z)().addSuccessAlert;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    return (external_React_default().createElement(\"form\", { className: 'form' },\n        external_React_default().createElement(FormRow, { content: external_React_default().createElement(\"div\", { className: 'row', \"data-gtm-click\": (0,googleTagManager.contentTypeToGoogleTag)('share', contentType, 'embed') },\n                external_React_default().createElement(\"div\", { className: 'input-group' },\n                    external_React_default().createElement(F3Input, { className: 'form-control copyme embed-input', defaultValue: url, id: 'embedLink', type: 'text' }),\n                    external_React_default().createElement(F3Button/* F3Button */.Vk, { onClick: function () {\n                            navigator.clipboard.writeText(url).then(function () {\n                                addSuccessAlert('Copied to clipboard.');\n                            });\n                        } }, t('embedShare.copyBtn', 'Copy')))), label: t('embedShare.shareLink', 'Share link:') })));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/share-dialog/ShareDialog.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar popup;\nvar ShareDialog = function (_a) {\n    var contentType = _a.contentType, id = _a.id, url = _a.url, parentId = _a.parentId, title = _a.title, closeable = _a.closeable, className = _a.className, rest = (0,tslib_es6/* __rest */._T)(_a, [\"contentType\", \"id\", \"url\", \"parentId\", \"title\", \"closeable\", \"className\"]);\n    var pushEvent = (0,useDataLayer/* useDataLayer */.P)().pushEvent;\n    var _b = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)('EMBED'), 2), dialogState = _b[0], setDialogState = _b[1];\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    var localizeContentType = useLocalizedContent().localizeContentType;\n    var href = (0,external_React_.useMemo)(function () {\n        if ((0,lib_getRuntime/* isNodeRuntime */.db)())\n            return '';\n        if (url) {\n            return url;\n        }\n        var BASE = window.location.origin;\n        switch (contentType) {\n            case 'ANCESTRY_DOCUMENT': return \"\".concat(BASE, \"/external/ANCESTRY_DOCUMENT/\").concat(id);\n            case 'IMAGE': return \"\".concat(BASE, \"/image/\").concat(id);\n            case 'SUB_IMAGE': return \"\".concat(BASE, \"/image/\").concat(parentId, \"?rec=\").concat(id);\n            case 'ANNOTATION': return \"\".concat(BASE, \"/image/\").concat(parentId, \"?ann=\").concat(id);\n            case 'STORY_PAGE': return \"\".concat(BASE, \"/memorial/\").concat(id);\n            case 'STORY_PAGE_STORY': return \"\".concat(BASE, \"/memorial/\").concat(parentId, \"?story=\").concat(id);\n            case 'STORY_PAGE_IMAGE': return \"\".concat(BASE, \"/memorial/\").concat(parentId, \"?img=\").concat(id);\n            case 'STORY_PAGE_FACT': return \"\".concat(BASE, \"/memorial/\").concat(parentId, \"?fact=\").concat(id);\n            case 'STORY_PAGE_LINK': return \"\".concat(BASE, \"/memorial/\").concat(parentId, \"?link=\").concat(id);\n            case 'INDEX_RECORD': return \"\".concat(BASE, \"/record/\").concat(id);\n            case 'PUBLICATION': return \"\".concat(BASE, \"/publication/\").concat(id);\n            case 'TITLE_COLLECTION': return \"\".concat(BASE, \"/collection/\").concat(id);\n            case 'PARTNER': return \"\".concat(BASE, \"/partner/\").concat(id);\n            case 'REGIMENT': return \"\".concat(BASE, \"/regiment/\").concat(id);\n            case 'BATTLE': return \"\".concat(BASE, \"/battle/\").concat(id);\n            case 'COMPANY': return \"\".concat(BASE, \"/company/\").concat(id);\n            default:\n                console.warn(\"\".concat(contentType, \" is not a supported type.\"));\n        }\n    }, [contentType, parentId, id]);\n    (0,external_React_.useEffect)(function () {\n        var popupUrl = '';\n        switch (dialogState) {\n            case 'FACEBOOK':\n                popupUrl = 'https://www.facebook.com/share.php?u=';\n                break;\n            case 'TWITTER':\n                popupUrl = 'https://www.twitter.com/home?status=';\n                break;\n        }\n        if (popup) {\n            popup.close();\n            popup = null;\n        }\n        if (popupUrl) {\n            popup = window.open(\"\".concat(popupUrl).concat(href), 'FOLD3SHARE', 'width=640,height=480');\n        }\n    }, [dialogState, href]);\n    var shareData = { contentType: contentType, id: id, parentId: parentId };\n    var typeLabel;\n    if (!contentType)\n        typeLabel = 'Page';\n    else if (contentType == 'STORY_PAGE')\n        typeLabel = 'Memorial';\n    else\n        typeLabel = (0,templating/* strToLabel */.JC)(contentType.toLowerCase());\n    var changeState = function (newState) {\n        setDialogState((dialogState === newState) ? null : newState);\n    };\n    return (external_React_default().createElement(Dialog, (0,tslib_es6/* __assign */.pi)({ className: (0,classUtil/* classStr */.B)(className, 'fit-to-content'), onClose: function () {\n            var action = gtmEvent_enum/* Action */.aU.LINK;\n            if (dialogState === 'FACEBOOK') {\n                action = gtmEvent_enum/* Action */.aU.FACEBOOK;\n            }\n            else if (dialogState === 'TWITTER') {\n                action = gtmEvent_enum/* Action */.aU.TWITTER;\n            }\n            pushEvent((0,googleAnalyticsEvents/* shareEvent */.vm)({ objectId: \"\".concat(parentId ? parentId : id), contentType: contentType }, action));\n            setDialogState(null);\n        }, title: t('shareDialog.title', 'Share {{contentTypeLabel}}', { contentTypeLabel: localizeContentType(contentType, { amount: 'one', demonstrative: 'proximal' }) }) }, rest),\n        external_React_default().createElement(\"div\", { className: 'modal-section', id: 'share-dialog' },\n            external_React_default().createElement(\"div\", { className: 'row g-0', id: 'state-icons' },\n                external_React_default().createElement(\"figure\", { className: \"col rounded p-3 text-center border border-2  \".concat(dialogState === 'EMBED' ? 'active  border-primary' : 'border-light'), onClick: function () { return changeState('EMBED'); }, role: 'button' },\n                    external_React_default().createElement(\"span\", { className: 'icon-f3 text-secondary embed-icon h4' }, \"< >\"),\n                    external_React_default().createElement(\"figcaption\", null, t('shareDialog.linkLabel', 'Link'))),\n                external_React_default().createElement(\"figure\", { className: \"col rounded p-3 text-center border border-2 \".concat(dialogState === 'FACEBOOK' ? 'active border-primary' : 'border-light'), \"data-gtm-click\": (0,googleTagManager.contentTypeToGoogleTag)('share', contentType, 'facebook'), onClick: function () { return changeState('FACEBOOK'); }, role: 'button' },\n                    external_React_default().createElement(\"span\", { className: 'icon-f3 text-secondary icon-facebook h4' }),\n                    external_React_default().createElement(\"figcaption\", null, t('shareDialog.facebookLabel', 'Facebook'))),\n                external_React_default().createElement(\"figure\", { className: \"col rounded p-3 text-center border border-2  \".concat(dialogState === 'TWITTER' ? 'active border-primary' : 'border-light'), \"data-gtm-click\": (0,googleTagManager.contentTypeToGoogleTag)('share', contentType, 'twitter'), onClick: function () { return changeState('TWITTER'); }, role: 'button' },\n                    external_React_default().createElement(\"span\", { className: 'icon-f3 text-secondary icon-twitter h4' }),\n                    external_React_default().createElement(\"figcaption\", null, t('shareDialog.twitterLabel', 'Twitter')))),\n            dialogState !== null &&\n                external_React_default().createElement(\"div\", { id: 'share-form' }, dialogState === 'EMBED' &&\n                    external_React_default().createElement(EmbedShare, { contentType: contentType, shareData: shareData, typeLabel: typeLabel, url: href })))));\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/sessionHelpers.ts\nvar sessionHelpers = __webpack_require__(41502);\n;// CONCATENATED MODULE: ./src/ts/shared/apis/connectionsApi.ts\n\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/service/ConnectionService.html) */\nvar ConnectionsApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(ConnectionsApi, _super);\n    function ConnectionsApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.FOLD31;\n        _this.baseUrl = '/api/connection';\n        return _this;\n    }\n    /* Expensive endpoint. Call sparingly */\n    ConnectionsApi.prototype.canDeleteConnection = function (connectionIds) {\n        return this.get('/delete', {\n            params: { id: connectionIds },\n        });\n    };\n    /* Helper method. Doesn't have it's own endpoint */\n    ConnectionsApi.prototype.updateConnectionText = function (principle, targetDocument, user, text) {\n        return this.createConnections(principle, {\n            targets: [{ targetDocument: targetDocument, text: text }],\n            renderTargets: true,\n            updateExisting: true,\n        }, user);\n    };\n    /* Helper method. Doesn't have it's own endpoint */\n    ConnectionsApi.prototype.addContentToMemorial = function (memorial, content, user) {\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, void 0, function () {\n            var results;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.createConnections(memorial, {\n                            targets: [content],\n                            renderTargets: true,\n                        }, user)];\n                    case 1:\n                        results = _a.sent();\n                        return [2 /*return*/, results.newRelations[0]];\n                }\n            });\n        });\n    };\n    /* Helper method. Doesn't have it's own endpoint */\n    ConnectionsApi.prototype.addMemorialToContent = function (memorialId, content, user) {\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, void 0, function () {\n            var userId, username, results, newConnection, memorialContent;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        userId = user.userId, username = user.username;\n                        return [4 /*yield*/, this.createConnections({ contentType: 'STORY_PAGE', objectId: String(memorialId) }, {\n                                targets: [content],\n                                renderPrinciple: true,\n                                renderTargets: true,\n                            }, user)];\n                    case 1:\n                        results = _a.sent();\n                        newConnection = results.newRelations[0];\n                        memorialContent = results.principle;\n                        memorialContent.relationId = newConnection.relationId;\n                        memorialContent.relationOwner = { userId: userId, username: username };\n                        memorialContent.relationText = newConnection.relationText;\n                        return [2 /*return*/, memorialContent];\n                }\n            });\n        });\n    };\n    /* Principle MUST ALWAYS be a STORY_PAGE ObjectReference */\n    ConnectionsApi.prototype.createConnections = function (memorial, creationRequest, user) {\n        var _a;\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n            var contentType, objectId, results, updatedMemorial, newRelations, userId, username;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        contentType = memorial.contentType, objectId = memorial.objectId;\n                        return [4 /*yield*/, this.put(\"/create/\".concat(contentType, \"/\").concat(objectId), creationRequest, {\n                                serializeType: 'DocumentConnectionCreationRequest',\n                                deserializeType: 'DocumentConnectionCreationResults',\n                            })];\n                    case 1:\n                        results = _b.sent();\n                        newRelations = [];\n                        userId = user.userId, username = user.username;\n                        (_a = results.contentObjects) === null || _a === void 0 ? void 0 : _a.forEach(function (contentObj) {\n                            var _a;\n                            if ((0,content_contentObject/* areSameObject */.y0)(memorial, contentObj.id)) {\n                                updatedMemorial = (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, memorial), contentObj);\n                            }\n                            else {\n                                var connection = (_a = results.connections) === null || _a === void 0 ? void 0 : _a.find(function (connection) {\n                                    return (0,content_contentObject/* areSameObject */.y0)(contentObj.id, connection.target);\n                                });\n                                if (connection) {\n                                    contentObj.relationId = connection.connectionId;\n                                    contentObj.relationText = connection.text;\n                                    contentObj.relationOwner = { userId: userId, username: username };\n                                    contentObj.modified = connection.modified;\n                                }\n                                newRelations.push(contentObj);\n                            }\n                        });\n                        return [2 /*return*/, { principle: updatedMemorial, newRelations: newRelations, results: results }];\n                }\n            });\n        });\n    };\n    ConnectionsApi.prototype.deleteConnections = function (connectionIds) {\n        return this.delete('/delete', {\n            params: { id: connectionIds },\n        });\n    };\n    ConnectionsApi.prototype.getConnections = function (connectionIds, required) {\n        if (required === void 0) { required = true; }\n        return this.get('', {\n            params: {\n                id: connectionIds,\n                required: required,\n            },\n            deserializeType: 'DocumentConnection',\n        });\n    };\n    ConnectionsApi.prototype.listBackwardConnectionObjects = function (ref, connectionOpts) {\n        var contentType = ref.contentType, objectId = ref.objectId;\n        return this.get(\"/backward-objs/\".concat(contentType, \"/\").concat(objectId), {\n            params: this.processConnectionRequestOpts(connectionOpts),\n            deserializeType: 'ContentObject',\n        });\n    };\n    ConnectionsApi.prototype.listBackwardConnections = function (ref, connectionOpts) {\n        var contentType = ref.contentType, objectId = ref.objectId;\n        return this.get(\"/backward/\".concat(contentType, \"/\").concat(objectId), {\n            params: this.processConnectionRequestOpts(connectionOpts),\n            deserializeType: 'DocumentConnection',\n        });\n    };\n    ConnectionsApi.prototype.listForwardConnectionObjects = function (ref, connectionOpts) {\n        var contentType = ref.contentType, objectId = ref.objectId;\n        return this.get(\"/forward-objs/\".concat(contentType, \"/\").concat(objectId), {\n            params: this.processConnectionRequestOpts(connectionOpts),\n            deserializeType: 'ContentObject',\n        });\n    };\n    ConnectionsApi.prototype.listForwardConnections = function (ref, connectionOpts) {\n        var contentType = ref.contentType, objectId = ref.objectId;\n        return this.get(\"/forward/\".concat(contentType, \"/\").concat(objectId), {\n            params: this.processConnectionRequestOpts(connectionOpts),\n            deserializeType: 'DocumentConnection',\n        });\n    };\n    ConnectionsApi.prototype.reorderConnections = function (ref, connectionIds) {\n        var contentType = ref.contentType, objectId = ref.objectId;\n        return this.post(\"/reorder/\".concat(contentType, \"/\").concat(objectId), connectionIds);\n    };\n    ConnectionsApi.prototype.processConnectionRequestOpts = function (opts) {\n        if (opts === void 0) { opts = {}; }\n        var _a = opts, ascending = _a.ascending, count = _a.count, offset = _a.offset, targetContentType = _a.targetContentType, thumbHeight = _a.thumbHeight, thumbWidth = _a.thumbWidth;\n        return (0,mapUtil/* filterUndefined */.YU)({\n            offset: offset,\n            count: count,\n            ascending: ascending,\n            'principle-type': targetContentType,\n            'thumb-width': thumbWidth,\n            'thumb-height': thumbHeight,\n        });\n    };\n    return ConnectionsApi;\n}(F3Api/* F3Api */.D4));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/memorialSubjectApi.ts\n\n\n\n/**\n * [See Documentation](https://jfold3.iarchives.com/job/f3-memorial/javadoc/com/ancestry/eb/josephus/memorial/service/MemorialService.html)\n */\nvar MemorialSubjectApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(MemorialSubjectApi, _super);\n    function MemorialSubjectApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.MEMORIAL;\n        _this.basePath = '/memorial';\n        return _this;\n    }\n    //provider can be one of fgv | acom | news | archives\n    MemorialSubjectApi.prototype.getExternalDocumentFacts = function (request, provider) {\n        var deserializeType;\n        switch (provider) {\n            case 'fgv':\n                deserializeType = 'FindAGraveRecord';\n                break;\n            case 'news':\n                deserializeType = 'NewspapersRecord';\n                break;\n            case 'archives':\n                deserializeType = 'ArchivesRecord';\n                break;\n        }\n        return this.post(\"\".concat(this.basePath, \"/document/external/\").concat(provider), request, {\n            deserializeType: deserializeType,\n            serializeType: 'ExternalDocumentRequest',\n        });\n    };\n    MemorialSubjectApi.prototype.createMemorialFrom = function (contentType, id) {\n        return this.post(\"\".concat(this.basePath, \"/create-from/\").concat(contentType, \"/\").concat(id), null, {\n            deserializeType: 'ObjectReference',\n        });\n    };\n    MemorialSubjectApi.prototype.deleteConnection = function (memorialId, connectionId) {\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n            var results;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.delete(\"\".concat(this.constructBaseUrl('connection'), \"/\").concat(memorialId), {\n                            params: { id: connectionId },\n                        })];\n                    case 1:\n                        results = _a.sent();\n                        return [2 /*return*/, this.deserializeDocumentElementUpdateResults(results)];\n                }\n            });\n        });\n    };\n    MemorialSubjectApi.prototype.importFactsFrom = function (importTo, importFrom, identifiers) {\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n            var results;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.post(\"\".concat(this.constructBaseUrl('import-from'), \"/\").concat(importTo.objectId, \"/\").concat(importFrom.contentType, \"/\").concat(importFrom.objectId), identifiers, {\n                            serializeType: 'ImportFactIdentifier',\n                        })];\n                    case 1:\n                        results = _a.sent();\n                        return [2 /*return*/, this.deserializeDocumentElementUpdateResults(results)];\n                }\n            });\n        });\n    };\n    MemorialSubjectApi.prototype.importFactsFromExternalDocument = function (memorialId, contentType, contentId, facts) {\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n            var results;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.post(\"\".concat(this.constructBaseUrl('import-from-ext'), \"/\").concat(memorialId, \"/\").concat(contentType, \"/\").concat(contentId), facts, {\n                            serializeType: 'MemorialFact',\n                        })];\n                    case 1:\n                        results = _a.sent();\n                        return [2 /*return*/, this.deserializeDocumentElementUpdateResults(results)];\n                }\n            });\n        });\n    };\n    MemorialSubjectApi.prototype.getImportFactsFrom = function (contentType, id) {\n        return this.get(\"\".concat(this.basePath, \"/import-facts/\").concat(contentType, \"/\").concat(id), {\n            deserializeType: 'MemorialFact',\n        });\n    };\n    return MemorialSubjectApi;\n}(ContentApi));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/memorialApi.ts\n\n\nvar MemorialApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(MemorialApi, _super);\n    function MemorialApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.contentType = 'STORY_PAGE';\n        return _this;\n    }\n    return MemorialApi;\n}(MemorialSubjectApi));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/objectReferenceApi.ts\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/service/ObjectReferenceService.html) */\nvar ObjectReferenceApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(ObjectReferenceApi, _super);\n    function ObjectReferenceApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.FOLD31;\n        _this.baseUrl = '/api/obj-ref';\n        return _this;\n    }\n    ObjectReferenceApi.prototype.getContentObject = function (type, id, properties) {\n        var params = {};\n        if (properties) {\n            params.property = properties;\n        }\n        return this.get(\"/content/\".concat(type, \"/\").concat(id), {\n            params: params,\n            deserializeType: 'ContentObject',\n        });\n    };\n    ObjectReferenceApi.prototype.getContentObjects = function (toGet, _a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.size, size = _c === void 0 ? 100 : _c, _d = _b.required, required = _d === void 0 ? true : _d, properties = _b.properties;\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n            var params, contentObjects;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        params = {\n                            'thumb-width': size,\n                            'thumb-height': size,\n                            required: required,\n                        };\n                        if (properties) {\n                            params.property = properties;\n                        }\n                        return [4 /*yield*/, this.post(\"/mcontent/\", toGet, {\n                                serializeType: 'ObjectReference',\n                                deserializeType: 'ContentObject',\n                                params: params,\n                            })];\n                    case 1:\n                        contentObjects = _e.sent();\n                        return [2 /*return*/, (0,content_contentObject/* sortContentObjects */.XW)(toGet, contentObjects)];\n                }\n            });\n        });\n    };\n    return ObjectReferenceApi;\n}(F3Api/* F3Api */.D4));\n\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/f3-query/F3Query.ts + 2 modules\nvar f3_query_F3Query = __webpack_require__(93150);\n// EXTERNAL MODULE: ./src/ts/shared/lib/place-abbreviations.ts\nvar place_abbreviations = __webpack_require__(43480);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/facetHelpers.ts\n\nfunction mergePlaceFacets(results) {\n    if (results.placeFacets && results.placeFacets.length) {\n        var foundMap_1 = results.placeFacets.reduce(function (finalObj, placeFacet) {\n            finalObj[placeFacet.id] = placeFacet;\n            return finalObj;\n        }, {});\n        for (var i = 0; i < results.facets.length; i++) {\n            var facet = results.facets[i];\n            var type = facet.type;\n            if (type.indexOf('place') == 0) {\n                results.facets[i].facets = results.facets[i].facets.map(function (facet) {\n                    var found = foundMap_1[facet.value];\n                    modifyPlaceFacet(found);\n                    // type could be set to undefined here if it breaks SearchoxStore.facetsToSuggestions\n                    var ret = Object.assign({ count: facet.count, value: found.id }, found /* , {type: undefined} */);\n                    return ret;\n                });\n            }\n        }\n    }\n    return results;\n}\nvar PLACE_LEVEL_DELIMITER = ', ';\nfunction modifyPlaceFacet(placeFacet) {\n    Object.assign(placeFacet, createPlaceLabels(placeFacet.label));\n}\nfunction createPlaceLabels(label) {\n    var labels = [];\n    var shortLabels = [];\n    label\n        .split(PLACE_LEVEL_DELIMITER)\n        .forEach(function (part, i, arr) {\n        var labelParts = arr.slice(0, i + 1);\n        var label = labelParts.join(PLACE_LEVEL_DELIMITER);\n        var shortLabel = labelParts\n            .map(function (s, i) {\n            var abbrev = (0,place_abbreviations/* longToShort */.J0)(s);\n            return i > 0 && abbrev ? abbrev : s;\n        })\n            .join(PLACE_LEVEL_DELIMITER);\n        labels.push(label);\n        shortLabels.push(shortLabel);\n    });\n    return { labels: labels, shortLabels: shortLabels };\n}\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/searchApi.ts\n\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-search/javadoc/com/ancestry/eb/josephus/fold31/search/service/DocumentSearchService.html) */\nvar SearchApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(SearchApi, _super);\n    function SearchApi(req) {\n        var _this = _super.call(this, req) || this;\n        _this.service = F3Api/* BackendService */.v$.SEARCH;\n        return _this;\n    }\n    SearchApi.prototype.fetchResults = function (query) {\n        if (query.offset + (query.maxCount || 0) > f3_query_F3Query/* MAX_QUERY_SIZE */.$n) {\n            throw 'TOO_LARGE';\n        }\n        return this.post('/doc-search', query, {\n            serializeType: 'DocumentQuery',\n            deserializeType: 'SearchResults',\n        })\n            .then(function (results) { return mergePlaceFacets(results); });\n    };\n    return SearchApi;\n}(F3Api/* F3Api */.D4));\n\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/ObjectUtils.ts\nvar ObjectUtils = __webpack_require__(7032);\n// EXTERNAL MODULE: ./src/ts/shared/lib/storage.ts\nvar storage = __webpack_require__(32827);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/recentViews.ts\nvar _a;\n\n\n\n\n\n\n\n\n\n\nvar MAX_RECENT_VIEWS = 10;\nvar RECENT_VIEWS_KEY = 'f3_recent_views';\nvar UNCONVERTIBLE_TYPES = ['REGIMENT', 'COMPANY'];\nvar userKey = 'recent.userId';\nvar userId = deprecatedCurrentUser && deprecatedCurrentUser.userId || 0;\nvar recentUser = storage/* local */.I_.get(userKey);\nif (!recentUser) {\n    //recent user hasn't been set yet\n    storage/* local */.I_.set(userKey, userId);\n    recentUser = userId;\n}\nelse if (recentUser !== userId) {\n    //you're a different user.\n    storage/* local */.I_.set(userKey, userId);\n    deleteRecentViews();\n}\nfunction addRecentContentView(content) {\n    var id = (0,contentMetadata/* getWrappedContentRef */.aK)(content);\n    var contentType = id.contentType;\n    var isParent = (0,content_contentObject/* isContentParentType */.ll)(contentType);\n    var subType;\n    if (isParent) {\n        if (contentType === 'STORY_PAGE' || contentType === 'SUBJECT') {\n            subType = content.document.type;\n        }\n        else {\n            subType = content.document.subType;\n        }\n    }\n    var title = getContentTitle(content);\n    _addRecentView({\n        id: id,\n        title: title,\n        subType: subType,\n    });\n}\nfunction _addRecentView(recentView) {\n    updateRecentViews(function (recentViews) {\n        var id = recentView.id;\n        removeRecentView(recentViews, id);\n        recentViews.unshift(recentView);\n        /*\n         * This next bit is kindof complex. We want to preserve MAX_RECENT_VIEWS for each contentType,\n         * or MAX_RECENT_VIEWS for each subType (if present).\n         * If a subType is present, the parent contentType may have many more views than MAX_RECENT_VIEWS,\n         * but never more than MAX_RECENT_VIEWS of each subType within that parent contentType.\n         */\n        var viewsByType = recentViews.reduce(function (finalObj, recentView) {\n            var type = recentView.subType || recentView.id.contentType;\n            if (!finalObj[type])\n                finalObj[type] = [];\n            finalObj[type].push(recentView);\n            return finalObj;\n        }, {});\n        Object.values(viewsByType).forEach(function (views) {\n            if (views.length > MAX_RECENT_VIEWS) {\n                views.slice(MAX_RECENT_VIEWS).forEach(function (view) {\n                    removeRecentView(recentViews, view.id);\n                });\n            }\n        });\n        return recentViews;\n    });\n}\nfunction removeRecentView(views, ref) {\n    var i = views.findIndex(function (view) { return (0,content_contentObject/* areSameObject */.y0)(view.id, ref); });\n    if (i >= 0) {\n        views.splice(i, 1);\n    }\n}\nfunction deleteRecentView(ref) {\n    updateRecentViews(function (recentViews) {\n        removeRecentView(recentViews, ref);\n        return recentViews;\n    });\n}\nfunction deleteRecentViews() {\n    storage/* local */.I_.remove(RECENT_VIEWS_KEY);\n    recentViewsComputed === null || recentViewsComputed === void 0 ? void 0 : recentViewsComputed.setInvalid();\n}\nfunction updateRecentViews(cb) {\n    var recentViews = getRecentViews();\n    setRecentViews(cb(recentViews));\n}\nfunction setRecentViews(recentViews) {\n    var serialized = recentViews.reduce(function (finalObj, view, i) {\n        var type = view.subType || view.id.contentType;\n        if (!(type in finalObj))\n            finalObj[type] = [];\n        finalObj[type].push({\n            id: view.id.objectId,\n            t: view.title,\n            i: i,\n        });\n        return finalObj;\n    }, {});\n    storage/* local */.I_.set(RECENT_VIEWS_KEY, serialized, (0,time.getTimeInMs)(3, 'mo'));\n    recentViewsComputed.setInvalid();\n}\nvar recentViewsComputed = (0,computed/* computed */.F)(function () {\n    var serialized = storage/* local */.I_.get(RECENT_VIEWS_KEY) || {};\n    var recentViews = [];\n    Object.entries(serialized)\n        .forEach(function (_a) {\n        var _b = (0,tslib_es6/* __read */.CR)(_a, 2), type = _b[0], serializedDocs = _b[1];\n        var contentType = type;\n        var subType;\n        if ((0,content_contentObject/* isContentSubType */.o6)(type) && !UNCONVERTIBLE_TYPES.includes(contentType)) {\n            var parentType = (0,content_contentObject/* getContentParentType */.Wk)(type);\n            if (parentType !== 'IMAGE') {\n                contentType = parentType;\n                subType = type;\n            }\n        }\n        serializedDocs.forEach(function (doc) {\n            recentViews[doc.i] = {\n                id: {\n                    contentType: contentType,\n                    objectId: doc.id,\n                },\n                title: doc.t,\n                subType: subType,\n            };\n        });\n    });\n    return recentViews;\n});\nfunction getRecentViews() {\n    convertOldFormatToNew();\n    return recentViewsComputed.getValue();\n}\nfunction getViewsForTypes(types) {\n    var views = getRecentViews();\n    if (types) {\n        return views.filter(function (view) {\n            return types.includes(view.id.contentType) || types.includes(view.subType);\n        });\n    }\n    else {\n        return views;\n    }\n}\nvar imagesKey = 'recent.images';\nvar pagesKey = 'recent.pages';\nvar publicationsKey = 'recent.publications';\nvar recordsKey = 'recent.records';\nvar subdocsKey = 'recent.subdocs';\nvar collectionsKey = 'recent.collections';\nvar battlesKey = 'recent.battles';\nvar regimentsKey = 'recent.regiments';\nvar companiesKey = 'recent.companies';\nvar partnersKey = 'recent.partners';\nvar unitsKey = 'recent.units';\nvar typesByKey = (_a = {},\n    _a[imagesKey] = 'IMAGE',\n    _a[pagesKey] = 'STORY_PAGE',\n    _a[publicationsKey] = 'PUBLICATION',\n    _a[recordsKey] = 'INDEX_RECORD',\n    _a[subdocsKey] = 'SUB_IMAGE',\n    _a[collectionsKey] = 'TITLE_COLLECTION',\n    _a[battlesKey] = 'BATTLE',\n    _a[regimentsKey] = 'REGIMENT',\n    _a[companiesKey] = 'COMPANY',\n    _a[partnersKey] = 'PARTNER',\n    _a[unitsKey] = 'MILITARY_UNIT',\n    _a);\nvar recentContentTypes = ['IMAGE', 'STORY_PAGE', 'PUBLICATION', 'INDEX_RECORD', 'SUB_IMAGE', 'TITLE_COLLECTION', 'BATTLE', 'REGIMENT', 'COMPANY', 'PARTNER', 'MILITARY_UNIT'];\nvar keysByType = (0,ObjectUtils/* reverseObj */.hS)(typesByKey);\nfunction getRecentsByType(types) {\n    if (!Array.isArray(types))\n        types = [types];\n    var allRecents = types.reduce(function (finalArr, type) {\n        var key = keysByType[type];\n        return (0,tslib_es6/* __spreadArray */.ev)((0,tslib_es6/* __spreadArray */.ev)([], (0,tslib_es6/* __read */.CR)(finalArr), false), (0,tslib_es6/* __read */.CR)(getRawList(key, true)), false);\n    }, []);\n    return allRecents\n        .sort(function (recentA, recentB) {\n        return (0,sortUtil/* dateSort */.Nk)(recentA.d, recentB.d);\n    })\n        .map(function (view) {\n        var obj = {\n            id: {\n                contentType: view.type,\n                objectId: '' + view.id,\n            },\n            subType: view.s,\n            title: view.title,\n            // shortTitle: view.title,\n        };\n        if (view.graphic) {\n            obj.flags = ['graphic'];\n        }\n        return obj;\n    });\n}\nfunction clearRecentsByType(type) {\n    var key = keysByType[type];\n    if (key)\n        local.remove(key);\n}\nfunction clearAllRecents() {\n    recentContentTypes.forEach(function (type) { clearRecentsByType(type); });\n}\nfunction getRawList(key, withType) {\n    if (withType === void 0) { withType = false; }\n    var list = storage/* local */.I_.get(key) || [];\n    if (withType) {\n        var type = typesByKey[key];\n        for (var i = 0; i < list.length; i++) {\n            list[i].type = type;\n        }\n    }\n    return list;\n}\nfunction convertOldFormatToNew() {\n    if (storage/* local */.I_.get(RECENT_VIEWS_KEY))\n        return; // conversion has already happened\n    var contentTypes = recentContentTypes.filter(function (ct) { return !UNCONVERTIBLE_TYPES.includes(ct); });\n    var currentRecentViews = getRecentsByType(contentTypes)\n        .map(function (recent) {\n        var flags = recent.flags, rest = (0,tslib_es6/* __rest */._T)(recent, [\"flags\"]);\n        if (rest.id.contentType === 'STORY_PAGE' && !rest.subType) {\n            rest.subType = 'PERSON'; // This is the most likely. If it's not a PERSON, it won't hurt. This just makes it so we don't have orphaned STORY_PAGEs\n        }\n        return rest;\n    });\n    /* These types can't be converted because we would have to do a GET for each document to find out what it forwards to. It's not worth it. */\n    /*\n     * let newRecentViews = currentRecentViews?.reduce((finalObj, recentDocument) => {\n     * \tconst { contentType } = recentDocument.id;\n     */\n    /*\n     * \tif (!unconvertible.includes(contentType)) {\n     * \t\tif (!(contentType in finalObj)) finalObj[contentType] = [];\n     * \t\tfinalObj[contentType].push(recentDocument);\n     * \t}\n     */\n    /*\n     * \treturn finalObj;\n     * }, {} as RecentViews);\n     */\n    setRecentViews(currentRecentViews);\n    // clearAllRecents();\n}\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useRecentViews.ts\n\n\nvar useRecentViews = function (types) {\n    var recentViews = (0,external_React_.useMemo)(function () {\n        return getViewsForTypes(types);\n    }, [types]);\n    return {\n        recentViews: recentViews,\n        addRecentView: _addRecentView,\n        addRecentContentView: addRecentContentView,\n        deleteRecentView: deleteRecentView,\n        deleteRecentViews: deleteRecentViews,\n        getViewsForTypes: getViewsForTypes,\n    };\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/on.ts\n\nfunction on(promise, log) {\n    if (log === void 0) { log = true; }\n    return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n        var data, err_1;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, promise];\n                case 1:\n                    data = _a.sent();\n                    return [2 /*return*/, [null, data]];\n                case 2:\n                    err_1 = _a.sent();\n                    if (log)\n                        console.error(err_1);\n                    return [2 /*return*/, [err_1, null]];\n                case 3: return [2 /*return*/];\n            }\n        });\n    });\n}\n\n// EXTERNAL MODULE: ./src/ts/shared/components/LoadIndicator.tsx\nvar LoadIndicator = __webpack_require__(99172);\n;// CONCATENATED MODULE: ./src/ts/shared/components/Picker.tsx\n\n\n\n\nvar Picker = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(Picker, _super);\n    function Picker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Picker.prototype.render = function () {\n        var _a = this.props, elements = _a.elements, emptyContent = _a.emptyContent, renderElement = _a.renderElement, onSelect = _a.onSelect, getKey = _a.getKey, loading = _a.loading;\n        if (loading) {\n            return external_React_default().createElement(LoadIndicator/* LoadIndicator */.O, null);\n        }\n        if (!(elements && elements.length) && emptyContent) {\n            return emptyContent;\n        }\n        return external_React_default().createElement(ErrorBoundary/* ErrorBoundary */.S, null,\n            external_React_default().createElement(\"div\", { className: 'Picker mt-2' },\n                external_React_default().createElement(\"ul\", { className: 'picker-elements d-flex justify-content-evenly list-unstyled flex-wrap' },\n                    elements.map(function (element) {\n                        return external_React_default().createElement(\"li\", { key: getKey(element), onClick: function () { return onSelect(element); } }, renderElement(element));\n                    }),\n                    external_React_default().createElement(\"li\", { className: 'empty' }),\n                    external_React_default().createElement(\"li\", { className: 'empty' }),\n                    external_React_default().createElement(\"li\", { className: 'empty' }),\n                    external_React_default().createElement(\"li\", { className: 'empty' }),\n                    external_React_default().createElement(\"li\", { className: 'empty' }),\n                    external_React_default().createElement(\"li\", { className: 'empty' }),\n                    external_React_default().createElement(\"li\", { className: 'empty' }),\n                    external_React_default().createElement(\"li\", { className: 'empty' }))));\n    };\n    return Picker;\n}((external_React_default()).Component));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/MemorialPicker.tsx\n\n\n\n\n\n\n\nfunction MemorialPicker(_a) {\n    var memorials = _a.memorials, emptyContent = _a.emptyContent, loading = _a.loading, onSelect = _a.onSelect;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    var renderMemorial = function (storypage) {\n        var storypageId = storypage.id;\n        var title = storypage.title;\n        var props = {};\n        if (!onSelect) {\n            props.href = \"/memorial/\".concat(storypageId);\n        }\n        return (external_React_default().createElement(F3Link/* F3Link */.y, (0,tslib_es6/* __assign */.pi)({}, props, { role: 'button' }),\n            external_React_default().createElement(Thumbnail/* Thumbnail */.pl, { alt: title, contentType: 'STORY_PAGE', objectId: storypageId, size: 100 }),\n            title && external_React_default().createElement(\"p\", { className: 'p-1 mb-0', title: title }, (0,templating/* truncate */.$G)(title, 25))));\n    };\n    var getMemorialPageId = function (storypage) { return storypage.id; };\n    var handleSelect = function (storypage) {\n        if (typeof onSelect == 'function') {\n            onSelect(storypage);\n        }\n    };\n    if (!emptyContent) {\n        emptyContent = external_React_default().createElement(\"p\", null, t('noMemorials.emptyContent', 'No Memorials'));\n    }\n    return (external_React_default().createElement(Picker, { elements: memorials, emptyContent: emptyContent, getKey: getMemorialPageId, loading: loading, onSelect: handleSelect, renderElement: renderMemorial }));\n}\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/TabBar.tsx\n\n\n\n\nvar TabBar = function (_a) {\n    var tabs = _a.tabs, activeTab = _a.activeTab, onChange = _a.onChange, className = _a.className, render = _a.render, ulProps = (0,tslib_es6/* __rest */._T)(_a, [\"tabs\", \"activeTab\", \"onChange\", \"className\", \"render\"]);\n    return external_React_default().createElement(\"div\", (0,tslib_es6/* __assign */.pi)({ className: (0,classUtil/* classStr */.B)(className, 'btn-group') }, ulProps), Object.keys(tabs).map(function (tabName) {\n        var tab = tabs[tabName];\n        var label = tab.label, dataCy = tab[\"data-cy\"], ref = tab.ref, rest = (0,tslib_es6/* __rest */._T)(tab, [\"label\", 'data-cy', \"ref\"]);\n        return external_React_default().createElement(F3Button/* F3Button */.Vk, (0,tslib_es6/* __assign */.pi)({ key: tabName, btnType: tabName === activeTab ? 'primary' : 'secondary', \"data-cy\": dataCy, onClick: function () { return onChange(tabName); }, outline: tabName !== activeTab, size: 'sm' }, rest), typeof render === 'function' ?\n            render(tabName, tab) :\n            external_React_default().createElement(\"span\", null, tabs[tabName].label));\n    }));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/MemorialPickers.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar MemorialPickers = function (_a) {\n    var onSelect = _a.onSelect, _tabs = _a.tabs, _b = _a.filter, filter = _b === void 0 ? function () { return true; } : _b, createMemorialFrom = _a.createMemorialFrom;\n    var userId = (0,useUser/* useUser */.a)().user.userId;\n    var _c = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)('recent'), 2), activeTab = _c[0], setActiveTab = _c[1];\n    var _d = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), recentMemorials = _d[0], setRecentMemorials = _d[1];\n    var _e = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), bookmarkedMemorials = _e[0], setBookmarkedMemorials = _e[1];\n    var _f = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), userMemorials = _f[0], setUserMemorials = _f[1];\n    var _g = (0,useAlerts/* useAlerts */.Z)(), addSuccessAlert = _g.addSuccessAlert, addErrorAlert = _g.addErrorAlert;\n    var getViewsForTypes = useRecentViews().getViewsForTypes;\n    var t = (0,external_ReactI18next_.useTranslation)('memorial').t;\n    var getRecentMemorials = function () {\n        var _a;\n        var memorials;\n        try {\n            memorials = (_a = getViewsForTypes(['STORY_PAGE'])) === null || _a === void 0 ? void 0 : _a.map(function (recentPage) { return ({\n                id: +recentPage.id.objectId,\n                title: recentPage.title,\n                type: recentPage.subType,\n            }); });\n        }\n        catch (e) {\n            memorials = [];\n        }\n        setRecentMemorials(memorials.filter(filter));\n    };\n    var getBookmarkedMemorials = function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var pages, tags, refs, contentObjects, bookmarked;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, new TagApi().listTaggedDocuments('bookmarks', null)];\n                case 1:\n                    pages = _a.sent();\n                    tags = pages.tags;\n                    refs = tags.filter(function (page) { return page.doc.contentType === 'STORY_PAGE' && !!page.doc; }).map(function (t) { return t.doc; });\n                    return [4 /*yield*/, new ObjectReferenceApi().getContentObjects(refs, { required: false, properties: ['title', 'id', 'subType'] })];\n                case 2:\n                    contentObjects = _a.sent();\n                    bookmarked = Object.values(contentObjects)\n                        .map(function (contentObj) {\n                        return {\n                            title: contentObj.title,\n                            id: parseInt(contentObj.id.objectId, 10),\n                            type: contentObj.subType,\n                        };\n                    })\n                        .filter(filter);\n                    // .slice(0, 10);\n                    setBookmarkedMemorials(bookmarked);\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var getUserMemorials = function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var f3Query, _a, err, results, modifiedPages;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    f3Query = new f3_query_F3Query/* F3Query */.$J({\n                        offset: 0,\n                        maxCount: 10,\n                    });\n                    f3Query.Filters\n                        .addItem({ type: 'general.owner', values: [{ value: \"\".concat(userId) }] })\n                        .addItem({ type: 'general.title.content.doc-type', values: [{ value: 'STORY_PAGE' }] });\n                    return [4 /*yield*/, on(new SearchApi().fetchResults(f3Query.toHitQuery()))];\n                case 1:\n                    _a = tslib_es6/* __read */.CR.apply(void 0, [_b.sent(), 2]), err = _a[0], results = _a[1];\n                    if (err) {\n                        console.error(err);\n                        return [2 /*return*/];\n                    }\n                    modifiedPages = results.hits\n                        .map(function (sp) { return ({\n                        title: (0,slug/* getTitle */.YQ)(sp.doc),\n                        id: (0,content_contentObject/* getContentObjId */.Xu)(sp.doc),\n                        type: sp.doc.subType,\n                    }); });\n                    setUserMemorials(modifiedPages.filter(filter));\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var tabs = {\n        recent: { label: t('recentlyViewed', 'Recently Viewed') },\n        bookmarked: { label: t('bookmarked', 'Bookmarked') },\n        user: { label: t('myPages', 'My Pages') },\n    };\n    if (createMemorialFrom) {\n        tabs.create = { label: t('createNewMemorial', 'Create new Memorial') };\n    }\n    if (_tabs) {\n        _tabs.forEach(function (tab) {\n            tabs[tab.label] = { label: tab.label };\n        });\n    }\n    (0,external_React_.useEffect)(function () {\n        getRecentMemorials();\n    }, []);\n    return external_React_default().createElement(\"div\", null,\n        external_React_default().createElement(\"div\", { className: 'mb-2' },\n            external_React_default().createElement(TabBar, { activeTab: activeTab, className: 'center-content', onChange: function (tab) {\n                    setActiveTab(tab);\n                    switch (tab) {\n                        case 'bookmarked':\n                            if (bookmarkedMemorials === null)\n                                getBookmarkedMemorials();\n                            break;\n                        case 'user':\n                            if (userMemorials === null)\n                                getUserMemorials();\n                            break;\n                        case 'recent':\n                            if (recentMemorials === null)\n                                getRecentMemorials();\n                            break;\n                    }\n                }, style: { marginTop: 0 }, tabs: tabs })),\n        activeTab === 'recent' &&\n            external_React_default().createElement(MemorialPicker, { emptyContent: external_React_default().createElement(\"p\", { className: 'py-3 text-muted text-center' }, t('noRecentlyViewedMemorials', 'You have no recently viewed memorials')), memorials: recentMemorials, onSelect: onSelect }),\n        activeTab === 'bookmarked' &&\n            external_React_default().createElement(MemorialPicker, { emptyContent: external_React_default().createElement(\"p\", { className: 'py-3 text-muted text-center' }, t('noBookmarkedMemorials', 'You have no bookmarked memorials')), memorials: bookmarkedMemorials, onSelect: onSelect }),\n        activeTab === 'user' &&\n            external_React_default().createElement(MemorialPicker, { emptyContent: (external_React_default().createElement(\"div\", null,\n                    external_React_default().createElement(\"p\", { className: 'py-3 text-muted text-center' }, t('noCreatedMemorials', \"You haven't created any memorials. Create one now.\")),\n                    external_React_default().createElement(\"div\", { className: 'py-3 text-center' },\n                        external_React_default().createElement(F3Link/* F3Link */.y, { className: 'btn btn-secondary', href: '/memorial/create' }, t('createMemorial', 'Create a memorial'))))), memorials: userMemorials, onSelect: onSelect }),\n        activeTab === 'create' &&\n            external_React_default().createElement(\"div\", { className: 'd-flex justify-content-center' },\n                external_React_default().createElement(F3Button/* F3Button */.Vk, { onClick: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                        var contentType, objectId, _a, err, newMemorial, _b, err2, fullMemorial;\n                        return (0,tslib_es6/* __generator */.Jh)(this, function (_c) {\n                            switch (_c.label) {\n                                case 0:\n                                    contentType = createMemorialFrom.contentType, objectId = createMemorialFrom.objectId;\n                                    return [4 /*yield*/, on(new MemorialApi().createMemorialFrom(contentType, objectId))];\n                                case 1:\n                                    _a = tslib_es6/* __read */.CR.apply(void 0, [_c.sent(), 2]), err = _a[0], newMemorial = _a[1];\n                                    if (err) {\n                                        addErrorAlert(t('common:somethingWrong', 'Something went wrong. Please try again.'));\n                                        return [2 /*return*/];\n                                    }\n                                    return [4 /*yield*/, on(new ObjectReferenceApi()\n                                            .getContentObject(newMemorial.contentType, newMemorial.objectId, ['id', 'title', 'subType']))];\n                                case 2:\n                                    _b = tslib_es6/* __read */.CR.apply(void 0, [_c.sent(), 2]), err2 = _b[0], fullMemorial = _b[1];\n                                    if (err2) {\n                                        addErrorAlert(t('somethingWrongRefresh', 'Something went wrong. Please refresh the page.'));\n                                        return [2 /*return*/];\n                                    }\n                                    onSelect({\n                                        id: fullMemorial.id.objectId,\n                                        title: fullMemorial.title,\n                                        type: fullMemorial.subType,\n                                    });\n                                    return [2 /*return*/];\n                            }\n                        });\n                    }); } },\n                    t('createMemorialFromThis', 'Create Memorial from this'),\n                    \" \",\n                    (0,content_contentObject/* getContentTypeLabel */.iN)(createMemorialFrom.contentType))),\n        _tabs &&\n            _tabs.map(function (tab) {\n                if (activeTab !== tab.label)\n                    return null;\n                return external_React_default().createElement(MemorialPicker, (0,tslib_es6/* __assign */.pi)({ key: tab.label }, tab.props));\n            }));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/MemorialPickerDialog.tsx\n\n\n\n\n\nvar MemorialPickerDialog = function (props) {\n    var t = (0,external_ReactI18next_.useTranslation)('memorial').t;\n    return external_React_default().createElement(Dialog, { footer: external_React_default().createElement(DialogCloseButton, null), title: t('selectMemorial', 'Select a Memorial', { ns: 'memorial' }) },\n        external_React_default().createElement(MemorialPickers, (0,tslib_es6/* __assign */.pi)({}, props)));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/index-records/IndexRecordMemorialConnectionDialog.tsx\n\n\n\n\n\n\n\n\n\n\n\n\nvar IndexRecordMemorialConnectionDialog = function () {\n    var _a = (0,external_React_.useContext)(IndexRecordContentContext), content = _a.content, computedValues = _a.computedValues, updateRelations = _a.updateRelations;\n    var groupedRelations = computedValues.groupedRelations;\n    var STORY_PAGE = groupedRelations.STORY_PAGE;\n    var _b = (0,useAlerts/* useAlerts */.Z)(), addErrorAlert = _b.addErrorAlert, addSuccessAlert = _b.addSuccessAlert;\n    var closeDialog = (0,useDialogs/* useDialogs */.q)().closeDialog;\n    var user = (0,useUser/* useUser */.a)().user;\n    var t = (0,external_ReactI18next_.useTranslation)('index').t;\n    var relatedMemorialsById = (0,external_React_.useMemo)(function () {\n        return (STORY_PAGE || []).reduce(function (finalObj, memorial) {\n            finalObj[(0,content_contentObject/* getContentObjId */.Xu)(memorial)] = memorial;\n            return finalObj;\n        }, {});\n    }, [STORY_PAGE]);\n    return external_React_default().createElement(MemorialPickerDialog, { createMemorialFrom: (0,contentMetadata/* getWrappedContentRef */.aK)(content), filter: function (simpleMemorial) { return !(simpleMemorial.id in relatedMemorialsById); }, onSelect: function (memorial) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n            var memorialRelation_1, e_1, status;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, new ConnectionsApi()\n                                .addMemorialToContent(memorial.id, {\n                                targetDocument: (0,contentMetadata/* getWrappedContentRef */.aK)(content),\n                                text: '',\n                            }, user)];\n                    case 1:\n                        memorialRelation_1 = _a.sent();\n                        updateRelations(function (relations) {\n                            return addRelation(relations, memorialRelation_1);\n                        });\n                        addSuccessAlert(t('memorialAdded', 'The Memorial has been successfully added.'));\n                        closeDialog();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        e_1 = _a.sent();\n                        status = e_1.response.status;\n                        switch (status) {\n                            case 403:\n                                addErrorAlert(t('noPermission', 'You do not have permissions to contribute to this memorial.'));\n                                break;\n                            default:\n                                addErrorAlert(t('common:somethingWrong'));\n                                break;\n                        }\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        }); } });\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/ButtonGroup.tsx\n\n\n\nvar ButtonGroup = function (_a) {\n    var className = _a.className, rest = (0,tslib_es6/* __rest */._T)(_a, [\"className\"]);\n    return external_React_default().createElement(\"div\", (0,tslib_es6/* __assign */.pi)({ className: (0,classUtil/* classStr */.B)('btn-group', className), role: 'group' }, rest));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/index-records/IndexRecordNavigation.tsx\n\n\n\n\n\n\n\n\nvar IndexRecordNavigation = function (_a) {\n    var _b, _c;\n    var _d = (0,external_React_.useContext)(IndexRecordContentContext), content = _d.content, computedValues = _d.computedValues;\n    var groupedElements = computedValues.groupedElements, groupedRelations = computedValues.groupedRelations;\n    var location = (0,external_ReactRouterDOM_.useLocation)();\n    var _e = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(function () { return urlToTab(location.pathname); }), 2), activeTab = _e[0], setActiveTab = _e[1];\n    var t = (0,external_ReactI18next_.useTranslation)('index').t;\n    (0,external_React_.useEffect)(function () {\n        setActiveTab(urlToTab(location.pathname));\n    }, [location]);\n    return external_React_default().createElement(\"div\", { className: 'row justify-content-center mt-n4 d-print-none g-0' },\n        external_React_default().createElement(ButtonGroup, { \"aria-label\": 'Record page navigation', className: 'col-auto', role: 'tablist' },\n            external_React_default().createElement(F3Button/* NavButton */.fe, { \"aria-controls\": 'record-page-title', end: true, id: 'tab-info', role: 'tab', to: '.' }, t('indexRecordNavigation.info', 'Info')),\n            external_React_default().createElement(F3Button/* NavButton */.fe, { \"aria-controls\": 'pages-tab', id: 'tab-mem', role: 'tab', to: 'memorials' },\n                t('indexRecordNavigation.memorials', 'Memorials'),\n                external_React_default().createElement(NumberBadge, null, (_b = groupedRelations.STORY_PAGE) === null || _b === void 0 ? void 0 : _b.length)),\n            external_React_default().createElement(F3Button/* NavButton */.fe, { \"aria-controls\": 'comments-tab', id: 'tab-comm', role: 'tab', to: 'comments' },\n                t('indexRecordNavigation.comments', 'Comments'),\n                external_React_default().createElement(NumberBadge, null, (_c = groupedElements.COMMENT) === null || _c === void 0 ? void 0 : _c.length)),\n            external_React_default().createElement(F3Button/* NavButton */.fe, { \"aria-controls\": 'browse-tab', id: 'tab-brws', role: 'tab', to: 'browse' }, t('indexRecordNavigation.browse', 'Browse'))));\n    /*\n     * return <div className='paging-tabs d-print-none'>\n     * \t<TabBar\n     * \t\tactiveTab={activeTab}\n     * \t\tonChange={tab => {\n     * \t\t\tsetActiveTab(tab as IndexRecordPageTab)\n     * \t\t}}\n     * \t\ttabs={{\n     * \t\t\tINFO: { label: 'Info' },\n     * \t\t\tMEMORIALS: { label: 'Memorials' },\n     * \t\t\tCOMMENTS: { label: 'Comments' },\n     * \t\t\tBROWSE: { label: 'Browse' }\n     * \t\t}}\n     * \t\trender={(tab: IndexRecordPageTab, opts) => {\n     * \t\t\tlet validPath = getIndexRecordPageTabPath(content, tab);\n     * \t\t\tlet numberBadge;\n     */\n    /*\n     * \t\t\tif (tab === 'MEMORIALS') numberBadge = groupedRelations.STORY_PAGE?.length;\n     * \t\t\tif (tab === 'COMMENTS') numberBadge = groupedElements.COMMENT?.length;\n     */\n    /*\n     * \t\t\treturn <NavLink to={validPath}>\n     * \t\t\t\t{opts.label}\n     * \t\t\t\t{\n     * \t\t\t\t\tnumberBadge > 0 &&\n     */\n    /*\n     * \t\t\t\t}\n     * \t\t\t</NavLink>\n     * \t\t}}\n     * \t/>\n     * </div>\n     */\n};\nvar NumberBadge = function (_a) {\n    var children = _a.children;\n    return external_React_default().createElement(\"span\", { className: 'ms-2 badge rounded-pill bg-secondary' }, children);\n};\nvar urlToTab = function (url) {\n    if (url.match(/\\/memorials$/))\n        return 'MEMORIALS';\n    if (url.match(/\\/comments$/))\n        return 'COMMENTS';\n    if (url.match(/\\/browse$/))\n        return 'BROWSE';\n    return 'INFO';\n};\nvar getIndexRecordPageTabPath = function (content, tab) {\n    var fullPath = (0,slug/* getWrappedContentUrl */.xl)(content).fullPath;\n    switch (tab) {\n        case 'INFO': return fullPath;\n        case 'MEMORIALS': return \"\".concat(fullPath, \"/memorials\");\n        case 'COMMENTS': return \"\".concat(fullPath, \"/comments\");\n        case 'BROWSE': return \"\".concat(fullPath, \"/browse\");\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/index-records/IndexRecordActionsDropdown.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar IndexRecordActionsDropdown = function (_a) {\n    var content = (0,external_React_.useContext)(IndexRecordContentContext).content;\n    var navigate = (0,external_ReactRouterDOM_.useNavigate)();\n    var openDialog = (0,useDialogs/* useDialogs */.q)().openDialog;\n    var checkAction = useContentPermissions(content).checkAction;\n    var t = (0,external_ReactI18next_.useTranslation)('index').t;\n    var _b = (0,useAlerts/* useAlerts */.Z)(), addSuccessAlert = _b.addSuccessAlert, addErrorAlert = _b.addErrorAlert;\n    var user = (0,useUser/* useUser */.a)().user;\n    var handlePrint = function () {\n        if (checkAction('TAG')) {\n            var _a = window.location, search = _a.search, pathname = _a.pathname;\n            var currentParams = (0,queryUtil/* parseQueryString */.dD)(search);\n            window.open(\"\".concat(pathname).concat((0,queryUtil/* toQueryString */.UK)((0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, currentParams), { print: true }))));\n        }\n    };\n    (0,external_React_.useEffect)(function () {\n        window.addEventListener('keydown', function (e) {\n            if (e.key === 'p' && (e.ctrlKey || e.metaKey)) {\n                e.preventDefault();\n                handlePrint();\n            }\n        });\n    }, []);\n    return external_React_default().createElement(Popout, { closeOnClick: true, id: 'index-record-tools', popoutContent: external_React_default().createElement(\"ul\", { className: 'list-unstyled', role: 'listbox' },\n            external_React_default().createElement(\"li\", null,\n                external_React_default().createElement(F3Link/* F3Link */.y, { className: 'dropdown-item text-secondary', \"data-gtm-click\": 'record:addToMemorial', onClick: function () {\n                        if (checkAction('CONTRIBUTION_CREATE')) {\n                            openDialog(external_React_default().createElement(IndexRecordMemorialConnectionDialog, null));\n                        }\n                    }, role: 'button' },\n                    external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-profile-add' }),\n                    t('addToMemorial', 'Add to Memorial'))),\n            external_React_default().createElement(\"li\", null,\n                external_React_default().createElement(F3Link/* F3Link */.y, { className: 'dropdown-item text-secondary', \"data-gtm-click\": 'record:print', onClick: handlePrint, role: 'button' },\n                    external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-print', \"data-cy\": 'print' }),\n                    t('print', 'Print'))),\n            external_React_default().createElement(\"li\", null,\n                external_React_default().createElement(F3Link/* F3Link */.y, { className: 'dropdown-item text-secondary', \"data-gtm-click\": 'record:share', onClick: function () {\n                        openDialog(external_React_default().createElement(ShareDialog, { contentType: 'INDEX_RECORD', id: (0,contentMetadata/* getWrappedContentId */.OW)(content) }));\n                    }, role: 'button' },\n                    external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-share' }),\n                    t('share', 'Share'))),\n            external_React_default().createElement(\"li\", null,\n                external_React_default().createElement(F3Link/* F3Link */.y, { className: 'dropdown-item text-secondary', onClick: function () {\n                        if (checkAction('CONTRIBUTION_CREATE', 'CORRECTION')) {\n                            navigate(getIndexRecordPageTabPath(content, 'INFO'), {\n                                state: { editing: true },\n                            });\n                        }\n                    }, role: 'button' },\n                    external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-flag' }),\n                    t('addCorrection', 'Add Correction'))),\n            user && (0,sessionHelpers/* isAdmin */.GJ)(user) &&\n                external_React_default().createElement((external_React_default()).Fragment, null,\n                    external_React_default().createElement(\"li\", null,\n                        external_React_default().createElement(F3Link/* F3Link */.y, { className: 'dropdown-item text-secondary', href: \"/admin/content/document/INDEX_RECORD/\".concat(content.metadata.id.objectId) },\n                            external_React_default().createElement(\"span\", { className: 'icon-f3 icon-gear' }),\n                            t('manageIndexRecord', 'Manage Index Record'))),\n                    external_React_default().createElement(\"li\", null,\n                        external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: null, className: 'dropdown-item text-secondary', onClick: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                                var publicationId, e_1;\n                                return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0:\n                                            publicationId = (0,contentRuntime/* getPublicationId */.R)(content);\n                                            _a.label = 1;\n                                        case 1:\n                                            _a.trys.push([1, 3, , 4]);\n                                            return [4 /*yield*/, new MarketingDocumentApi().addMarketingDocument(publicationId, {\n                                                    doc: (0,contentMetadata/* getWrappedContentRef */.aK)(content),\n                                                    type: 'ACCESS_LEVEL',\n                                                    publicationId: publicationId,\n                                                    ttl: null,\n                                                    additionalInfo: [{ name: 'level', value: 'PUBLIC', created: null }],\n                                                })];\n                                        case 2:\n                                            _a.sent();\n                                            addSuccessAlert('This index record has been made free');\n                                            return [3 /*break*/, 4];\n                                        case 3:\n                                            e_1 = _a.sent();\n                                            addErrorAlert('Something went wrong. Please try again');\n                                            return [3 /*break*/, 4];\n                                        case 4: return [2 /*return*/];\n                                    }\n                                });\n                            }); } },\n                            external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-tools' }),\n                            \"Make Index Record Free\")))), targetContent: external_React_default().createElement(\"button\", { className: 'btn btn-outline-secondary btn-lg border-0  dropdown-toggle', \"data-bs-toggle\": 'dropdown', \"data-cy\": 'tools-dropdown', title: 'Print, share, add to memorial and more.', type: 'button' },\n            external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-tools icon-f3' })) });\n    // <div className=\"col-auto dropdown h3 text-secondary me-2\">\n    // </div>\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/index-records/IndexRecordHeader.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar IndexRecordHeader = function (_a) {\n    var _b = (0,external_React_.useContext)(IndexRecordContentContext), content = _b.content, publication = _b.publication;\n    var pubId = (0,contentRuntime/* getPublicationId */.R)(content);\n    var t = (0,external_ReactI18next_.useTranslation)('index').t;\n    var f3Domain = (0,useDomain/* useDomain */.a)().f3Domain;\n    return (external_React_default().createElement(\"header\", { className: 'position-relateive row g-0 justify-content-center align-items-center', id: 'record-page-header' },\n        external_React_default().createElement(F3Button/* F3Button */.Vk, { \"aria-label\": t('back', 'Back'), btnType: 'secondary', className: 'col-auto border-0 icon-f3 icon-back h3 mb-0 me-2', onClick: function () { return history.back(); }, outline: true, size: 'lg' }),\n        external_React_default().createElement(\"div\", { className: 'col' },\n            external_React_default().createElement(\"span\", { \"data-gtm-click\": 'record:savetoanc' },\n                external_React_default().createElement(SaveToAncestry, { contentDoc: content, getSaveData: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                        var data, title, staData, localizedProvider;\n                        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                            switch (_a.label) {\n                                case 0: return [4 /*yield*/, new publicationApi_PublicationApi().getPublicationEventMetadata(pubId)];\n                                case 1:\n                                    data = _a.sent();\n                                    title = getContentTitle(content);\n                                    staData = {\n                                        citation: {\n                                            title: title,\n                                            url: location.href,\n                                        },\n                                        source: {\n                                            title: (0,slug/* getTitle */.YQ)(publication),\n                                            publishedDate: data.date || '',\n                                            publishedLocation: data.place || '',\n                                        },\n                                    };\n                                    if (publication.provider) {\n                                        localizedProvider = (0,localization_domain/* getContentProviderForDomain */.fy)(f3Domain, publication.provider);\n                                        staData.source.publisherName = localizedProvider.name;\n                                    }\n                                    return [2 /*return*/, staData];\n                            }\n                        });\n                    }); }, gtmClick: 'record:savetoanc', publication: publication }))),\n        external_React_default().createElement(\"div\", { className: 'col-auto ms-auto row gy-2 gx-0 pe-md-2' },\n            external_React_default().createElement(ShareBookmarkTagButtons, { className: 'btn-lg btn-outline-secondary border-0 col-auto me-2', hasTagPermissions: !!(0,contentRuntime/* checkAction */.Rj)(content, 'TAG'), id: content.metadata.id },\n                external_React_default().createElement(IndexRecordActionsDropdown, null)))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/DescriptionList.tsx\n\n\n\nvar DescriptionList = function (_a) {\n    var items = _a.items, getLabel = _a.getLabel, getValue = _a.getValue, renderValue = _a.renderValue, children = _a.children, className = _a.className, rest = (0,tslib_es6/* __rest */._T)(_a, [\"items\", \"getLabel\", \"getValue\", \"renderValue\", \"children\", \"className\"]);\n    return external_React_default().createElement(\"dl\", (0,tslib_es6/* __assign */.pi)({ className: (0,classUtil/* classStr */.B)('row g-0 mb-0', className) }, rest),\n        items.map(function (item, i) {\n            var label = getLabel(item);\n            return external_React_default().createElement((external_React_default()).Fragment, { key: label + i },\n                external_React_default().createElement(DescriptionTerm, { label: label }),\n                external_React_default().createElement(DescriptionDefinition, { getValue: function () { return getValue(item); }, render: function () { return (renderValue === null || renderValue === void 0 ? void 0 : renderValue(item)) || getValue(item) || null; } }));\n        }),\n        children);\n};\nvar DescriptionTerm = function (_a) {\n    var label = _a.label, className = _a.className, rest = (0,tslib_es6/* __rest */._T)(_a, [\"label\", \"className\"]);\n    return external_React_default().createElement(\"dt\", (0,tslib_es6/* __assign */.pi)({ className: (0,classUtil/* classStr */.B)(\"pe-3 col-3 col-sm-4 fw-normal text-sm-end text-secondary border-bottom py-1\", className) }, rest), label);\n};\nvar DescriptionDefinition = function (_a) {\n    var getValue = _a.getValue, render = _a.render, className = _a.className, rest = (0,tslib_es6/* __rest */._T)(_a, [\"getValue\", \"render\", \"className\"]);\n    return external_React_default().createElement(\"dd\", (0,tslib_es6/* __assign */.pi)({ className: (0,classUtil/* classStr */.B)('col-sm-8 col-9 border-bottom py-1 mb-0', className) }, rest), typeof render === 'function' ?\n        render() :\n        external_React_default().createElement(\"span\", { className: 'metadata-value' }, getValue()));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/ContentDocumentLinks.tsx\n\n\n\n\n\n\nvar ContentDocumentLinks = function (_a) {\n    var links = _a.links;\n    var localizeContentType = useLocalizedContent().localizeContentType;\n    if (!links)\n        return null;\n    return external_React_default().createElement(DescriptionList, { getLabel: function (link) {\n            return localizeContentType(link.element.objectSubType || link.element.objectId.contentType);\n        }, getValue: function (link) {\n            var _a = link.element, _b = _a.objectId, objectId = _b.objectId, contentType = _b.contentType, title = _a.title, objectSubType = _a.objectSubType;\n            return external_React_default().createElement(F3Link/* F3Link */.y, { className: 'row', href: (0,slug/* getContentPath */.kQ)(contentType, objectId) },\n                external_React_default().createElement(\"span\", { className: 'col-auto' },\n                    external_React_default().createElement(Thumbnail/* Thumbnail */.pl, { contentType: contentType, objectId: objectId, size: 80 })),\n                external_React_default().createElement(\"span\", { className: 'col' }, title));\n        }, items: links });\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/ContentMetadataList.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ContentMetadataList = function (_a) {\n    var _b, _c;\n    var content = _a.content, computed = _a.computed, addElements = _a.addElements, removeElements = _a.removeElements, _editing = _a.editing, filterMetadata = _a.filterMetadata, renderMdValue = _a.renderMdValue, renderMdCorrectionValue = _a.renderMdCorrectionValue, _d = _a.children, children = _d === void 0 ? null : _d;\n    var publications = (0,external_React_.useContext)(fold3PageContext/* Fold3PageContext */.h).publications;\n    var correctionsByMetadataName = computed.correctionsByMetadataName, usersByUserId = computed.usersByUserId;\n    var verify = useVerify().verify;\n    var _e = (0,useAlerts/* useAlerts */.Z)(), addErrorAlert = _e.addErrorAlert, addSuccessAlert = _e.addSuccessAlert;\n    var user = (0,useUser/* useUser */.a)().user;\n    var _f = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(_editing || false), 2), editing = _f[0], setEditing = _f[1];\n    var _g = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)({}), 2), correctionValues = _g[0], setCorrectionValues = _g[1];\n    var checkAction = useContentPermissions(content).checkAction;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    var f3Domain = (0,useDomain/* useDomain */.a)().f3Domain;\n    var localizePublicationField = useLocalizedContent().localizePublicationField;\n    var publicationId = (0,contentRuntime/* getPublicationId */.R)(content);\n    var fieldConfigName = (_b = publications[publicationId]) === null || _b === void 0 ? void 0 : _b.fieldConfigName;\n    var setCorrectionValue = function (e) {\n        var _a = e.target, value = _a.value, name = _a.name;\n        setCorrectionValues(function (corrections) {\n            var _a;\n            return ((0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, corrections), (_a = {}, _a[name] = value, _a)));\n        });\n    };\n    var _metadata = content.document.metadata;\n    var metadata = (0,external_React_.useMemo)(function () {\n        if (typeof filterMetadata === 'function') {\n            return _metadata.filter(filterMetadata);\n        }\n        return _metadata;\n    }, [_metadata]);\n    var correctionsForUser = (0,external_React_.useMemo)(function () {\n        return metadata.reduce(function (finalObj, md) {\n            var corrections = correctionsByMetadataName[md.name];\n            var userCorrection = corrections === null || corrections === void 0 ? void 0 : corrections.find(function (correction) { return correction.metadata.owner === (user === null || user === void 0 ? void 0 : user.userId); });\n            if (userCorrection) {\n                finalObj[md.name] = userCorrection.element.value;\n            }\n            return finalObj;\n        }, {});\n    }, [metadata, correctionsByMetadataName]);\n    var tryEdit = (0,external_React_.useCallback)(function () {\n        if (checkAction('CONTRIBUTION_CREATE', 'CORRECTION')) {\n            var correctionValues_1 = metadata.reduce(function (finalObj, md) {\n                finalObj[md.name] = correctionsForUser[md.name] || md.value;\n                return finalObj;\n            }, {});\n            setCorrectionValues(correctionValues_1);\n            setEditing(true);\n        }\n    }, [metadata, correctionsForUser]);\n    (0,external_React_.useEffect)(function () {\n        if (_editing !== undefined) {\n            if (_editing)\n                tryEdit();\n            else\n                setEditing(false);\n        }\n    }, [_editing]);\n    var viewCount = (_c = (0,contentRuntime/* getViewCount */.uF)(content)) === null || _c === void 0 ? void 0 : _c.total;\n    return external_React_default().createElement(F3Form, { onSubmit: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n            var changedMd, e_1;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!editing)\n                            return [2 /*return*/];\n                        changedMd = metadata\n                            .filter(function (md) { return md.value !== correctionValues[md.name] && correctionValues[md.name] !== correctionsForUser[md.name]; })\n                            .map(function (md) {\n                            return {\n                                element: {\n                                    field: md.name,\n                                    value: correctionValues[md.name],\n                                },\n                                type: 'CORRECTION',\n                            };\n                        });\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 4, , 5]);\n                        if (!(changedMd.length > 0)) return [3 /*break*/, 3];\n                        return [4 /*yield*/, addElements(changedMd)];\n                    case 2:\n                        _a.sent();\n                        addSuccessAlert(t('contentMetadataList.successAlert', 'Your corrections have been successfully saved.'));\n                        _a.label = 3;\n                    case 3:\n                        setEditing(false);\n                        setCorrectionValues({});\n                        return [3 /*break*/, 5];\n                    case 4:\n                        e_1 = _a.sent();\n                        addErrorAlert(t('contentMetadataList.errorAlert', 'Something went wrong. Please try again.'));\n                        return [3 /*break*/, 5];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        }); } },\n        external_React_default().createElement(DescriptionList, { getLabel: function (md) {\n                return localizePublicationField(fieldConfigName, md);\n            }, getValue: function (md) { return md.value; }, items: metadata, renderValue: function (md) {\n                var corrections = correctionsByMetadataName[md.name];\n                return external_React_default().createElement((external_React_default()).Fragment, null,\n                    editing ?\n                        external_React_default().createElement(F3Input, { name: md.name, onChange: setCorrectionValue, validate: function (val) { return validateLength(val, 'CORRECTION'); }, value: correctionValues[md.name] }) :\n                        external_React_default().createElement(\"span\", { className: 'metadata-value' }, typeof renderMdValue === 'function' ?\n                            renderMdValue(md.name, md.value) :\n                            md.value),\n                    !editing &&\n                        (corrections === null || corrections === void 0 ? void 0 : corrections.map(function (correction) {\n                            var value = correction.element.value, _a = correction.metadata, ownerId = _a.owner, id = _a.id;\n                            var owner = usersByUserId[ownerId];\n                            var renderedValue = typeof renderMdCorrectionValue === 'function' ?\n                                renderMdCorrectionValue(md.name, value, correction) :\n                                external_React_default().createElement(\"em\", null, value);\n                            return external_React_default().createElement(\"div\", { key: id.objectId, className: 'row' },\n                                external_React_default().createElement(\"div\", { className: 'col' },\n                                    external_React_default().createElement(\"b\", { className: 'text-primary' }, \"*\"),\n                                    renderedValue),\n                                external_React_default().createElement(\"div\", { className: 'col-auto d-flex flex-column text-muted' },\n                                    external_React_default().createElement(\"div\", null,\n                                        external_React_default().createElement(\"small\", null,\n                                            t('contentMetadataList.addedBy', 'Added by'),\n                                            \":\",\n                                            external_React_default().createElement(F3Link/* F3Link */.y, { className: 'ms-2', href: (0,slug/* getContentPath */.kQ)('USER', owner.username) }, (0,localization_domain/* getUsernameForDomain */.aj)(owner.username, owner.userId, f3Domain)))),\n                                    external_React_default().createElement(\"div\", { className: 'text-end' }, ownerId === (user === null || user === void 0 ? void 0 : user.userId) &&\n                                        external_React_default().createElement(F3Button/* DeleteButton */.m1, { btnType: 'secondary', className: 'ms-2 px-2 py-0', onClick: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                                                var e_2;\n                                                return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                                                    switch (_a.label) {\n                                                        case 0: return [4 /*yield*/, verify(t('contentMetadataList.deleteCorrectionVerify', 'Are you sure you want to delete this correction?'))];\n                                                        case 1:\n                                                            if (!_a.sent()) return [3 /*break*/, 5];\n                                                            _a.label = 2;\n                                                        case 2:\n                                                            _a.trys.push([2, 4, , 5]);\n                                                            return [4 /*yield*/, removeElements([correction])];\n                                                        case 3:\n                                                            _a.sent();\n                                                            /*\n                                                            * let results = await new ContentApi().removeElements(content, [correction]);\n                                                            * mergeElementUpdateResults(results);\n                                                            */\n                                                            addSuccessAlert(t('contentMetadataList.successAlert', 'Your correction has been successfully removed.'));\n                                                            return [3 /*break*/, 5];\n                                                        case 4:\n                                                            e_2 = _a.sent();\n                                                            addErrorAlert(t('contentMetadataList.errorAlert', 'Something went wrong. Please try again.'));\n                                                            return [3 /*break*/, 5];\n                                                        case 5: return [2 /*return*/];\n                                                    }\n                                                });\n                                            }); }, outline: true, rounded: true, size: 'sm' }, t('contentMetadataList.deleteButtonText', 'Delete')))));\n                        })));\n            } },\n            children,\n            viewCount !== undefined &&\n                external_React_default().createElement((external_React_default()).Fragment, null,\n                    external_React_default().createElement(DescriptionTerm, { label: t('contentMetadataList.viewsLabel', 'Views') }),\n                    external_React_default().createElement(DescriptionDefinition, { getValue: function () { return (0,templating/* numberWithCommas */.x6)(viewCount); } }))),\n        external_React_default().createElement(\"div\", { className: 'mb-3 pt-2' },\n            !editing &&\n                external_React_default().createElement(F3Button/* F3Button */.Vk, { \"aria-label\": 'Click to edit and add a correction', btnType: 'link', className: 'd-print-none', \"data-cy\": 'add-correction', onClick: function () { return tryEdit(); } },\n                    external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-flag text-secondary me-1' }),\n                    t('contentMetadataList.addCorrectionButtonText', 'Add a correction')),\n            editing &&\n                external_React_default().createElement(\"div\", { className: 'row g-2 justify-content-end' },\n                    external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'secondary', className: 'me-2 col-auto', onClick: function () {\n                            setEditing(false);\n                            setCorrectionValues({});\n                        }, outline: true, rounded: true, size: 'sm' }, t('contentMetadataList.cancelCorrectionButtonText', 'Cancel')),\n                    external_React_default().createElement(F3Button/* SubmitButton */.Mm, { btnType: 'primary', className: 'col-auto', outline: true, rounded: true, size: 'sm' }, t('contentMetadataList.saveCorrectionButtonText', 'Save')))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/index-records/IndexRecordInfoTab.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar IndexRecordInfoTab = function (_a) {\n    var _b;\n    var _c = (0,external_React_.useContext)(IndexRecordContentContext), content = _c.content, computedValues = _c.computedValues, mergeElementUpdateResults = _c.mergeElementUpdateResults, ContentApi = _c.ContentApi, publication = _c.publication;\n    var groupedElements = computedValues.groupedElements;\n    var CORRECTION = groupedElements.CORRECTION, LINK = groupedElements.LINK;\n    var location = (0,external_ReactRouterDOM_.useLocation)();\n    var getThumbnail = (0,useThumbnail/* useThumbnail */.t)().getThumbnail;\n    var f3Domain = (0,useDomain/* useDomain */.a)().f3Domain;\n    var t = (0,external_ReactI18next_.useTranslation)('index').t;\n    var localizePublicationProp = useLocalizedContent().localizePublicationProp;\n    var getLocaleDate = useLocaleDate();\n    var openDialog = (0,useDialogs/* useDialogs */.q)().openDialog;\n    var localizedProvider;\n    if (publication === null || publication === void 0 ? void 0 : publication.provider) {\n        localizedProvider = (0,localization_domain/* getContentProviderForDomain */.fy)(f3Domain, publication.provider);\n    }\n    return (external_React_default().createElement(\"div\", { id: 'info-tab' },\n        external_React_default().createElement(\"div\", { className: 'full-metadata row justify-content-center' },\n            (CORRECTION === null || CORRECTION === void 0 ? void 0 : CORRECTION.length) > 0 &&\n                external_React_default().createElement(\"span\", { className: 'text-end d-block px-2', id: 'alternate-info' },\n                    external_React_default().createElement(\"span\", { className: 'text-primary' }, \"*\"),\n                    \" -\",\n                    t('indexRecordInfoTab.alternateInfo', 'alternate info')),\n            external_React_default().createElement(\"div\", { className: 'col-12 col-md-10 col-xl-8' },\n                external_React_default().createElement(ContentMetadataList, { addElements: function (newElements) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                        var results;\n                        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                            switch (_a.label) {\n                                case 0: return [4 /*yield*/, new ContentApi().addElements(content, newElements)];\n                                case 1:\n                                    results = _a.sent();\n                                    mergeElementUpdateResults(results);\n                                    return [2 /*return*/];\n                            }\n                        });\n                    }); }, computed: computedValues, content: content, editing: (_b = location.state) === null || _b === void 0 ? void 0 : _b.editing, removeElements: function (removeElements) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                        var results;\n                        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                            switch (_a.label) {\n                                case 0: return [4 /*yield*/, new ContentApi().removeElements(content, removeElements)];\n                                case 1:\n                                    results = _a.sent();\n                                    mergeElementUpdateResults(results);\n                                    return [2 /*return*/];\n                            }\n                        });\n                    }); } },\n                    external_React_default().createElement(ContentDocumentLinks, { links: LINK })))),\n        external_React_default().createElement(\"hr\", { className: 'border-2' }),\n        external_React_default().createElement(\"div\", { className: 'container-xl' },\n            external_React_default().createElement(\"h2\", { className: 'h5 text-uppercase text-center text-secondary' }, t('indexRecordInfo.publicationInfo', 'Publication info')),\n            external_React_default().createElement(\"div\", { className: 'row justify-content-center' },\n                external_React_default().createElement(\"div\", { className: 'col-12 col-md-10 col-xl-8' },\n                    external_React_default().createElement(\"dl\", { className: 'row publication-info' },\n                        external_React_default().createElement(DescriptionTerm, { label: t('indexRecordInfoTab.publicationTitle', 'Publication Title') }),\n                        external_React_default().createElement(DescriptionDefinition, { getValue: function () {\n                                return (external_React_default().createElement(F3Link/* F3Link */.y, { href: (0,slug/* getContentPath */.kQ)('PUBLICATION', publication === null || publication === void 0 ? void 0 : publication.publicationId, publication === null || publication === void 0 ? void 0 : publication.slug), itemProp: 'publisher', target: '_self' }, localizePublicationProp(publication.fieldConfigName, ['shortTitle', 'title'], publication.shortTitle || publication.title)));\n                            } }),\n                        localizedProvider &&\n                            external_React_default().createElement((external_React_default()).Fragment, null,\n                                external_React_default().createElement(DescriptionTerm, { label: t('indexRecordInfoTab.contentSource', 'Content Source') }),\n                                external_React_default().createElement(DescriptionDefinition, { getValue: function () {\n                                        return (external_React_default().createElement((external_React_default()).Fragment, null,\n                                            external_React_default().createElement(\"img\", { alt: \"\".concat(localizedProvider.name, \" icon\"), className: 'rounded me-2', src: getThumbnail({ path: 'providericon', query: { id: publication.provider.id, width: 50, height: 50 } }) }),\n                                            external_React_default().createElement(F3Link/* F3Link */.y, { href: localizedProvider.url, itemProp: 'creator', target: '_blank' }, localizedProvider.name)));\n                                    } })),\n                        external_React_default().createElement(DescriptionTerm, { label: t('indexRecordInfoTab.lastUpdated', 'Last Updated') }),\n                        external_React_default().createElement(DescriptionDefinition, { getValue: function () { return getLocaleDate((0,contentMetadata/* getModified */.e7)(content)); } }),\n                        (publication === null || publication === void 0 ? void 0 : publication.shortDescription) &&\n                            external_React_default().createElement((external_React_default()).Fragment, null,\n                                external_React_default().createElement(DescriptionTerm, { label: t('indexRecordInfoTab.description', 'Description') }),\n                                external_React_default().createElement(DescriptionDefinition, { getValue: function () { return localizePublicationProp(publication.fieldConfigName, 'shortDescription', publication.shortDescription); } }))),\n                    external_React_default().createElement(\"div\", { className: 'text-center' },\n                        external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'link', className: 'text-muted d-print-none', onClick: function () {\n                                openDialog(external_React_default().createElement(ReportDialog, { objectReference: (0,contentMetadata/* getWrappedContentRef */.aK)(content) }));\n                            }, role: 'button' },\n                            external_React_default().createElement(\"span\", { className: 'icon-f3 icon-warning me-1' }),\n                            t('indexRecordInfoTab.reportIssue', 'Report an issue'))))))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/battleApi.ts\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-regiment/javadoc/com/ancestry/eb/josephus/regiment/service/RegimentContentService.html) */\nvar BattleApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(BattleApi, _super);\n    function BattleApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.REGIMENT;\n        _this.basePath = '/content';\n        _this.contentType = 'BATTLE';\n        return _this;\n    }\n    return BattleApi;\n}(ContentApi));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/companyApi.ts\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-regiment/javadoc/com/ancestry/eb/josephus/regiment/service/RegimentContentService.html) */\nvar CompanyApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(CompanyApi, _super);\n    function CompanyApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.REGIMENT;\n        _this.basePath = '/content';\n        _this.contentType = 'COMPANY';\n        return _this;\n    }\n    return CompanyApi;\n}(ContentApi));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/imageDataApi.ts\n\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-image-data/javadoc/com/ancestry/eb/fold31/imagedata/service/ImageDataService.html) */\nvar ImageDataApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(ImageDataApi, _super);\n    function ImageDataApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.IMAGE_DATA;\n        _this.basePath = '/image';\n        _this.contentType = 'IMAGE';\n        return _this;\n    }\n    ImageDataApi.prototype.useNewViewer = function (contentType, imageId) {\n        return this.get(\"/image/viewer/\".concat(contentType, \"/\").concat(imageId), {\n            primitive: true,\n        });\n    };\n    ImageDataApi.prototype.getOcrHits = function (imageId, keyword) {\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, Promise, function () {\n            var rectStrings;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.get(\"/ocr/hits/IMAGE/\".concat(imageId), {\n                            params: { keyword: keyword },\n                        })];\n                    case 1:\n                        rectStrings = _a.sent();\n                        return [2 /*return*/, rectStrings.map(function (str) { return deserializer/* deserializer */.S.decode(str, 'rect'); })];\n                }\n            });\n        });\n    };\n    ImageDataApi.prototype.getThumbnailDetails = function (imageId, annotationId, subImageId) {\n        return this.get(\"/thumbnail/IMAGE/\".concat(imageId), {\n            deserializeType: 'ImageDataThumbnailDetails',\n            params: { 'ann-id': annotationId, 'sub-id': subImageId },\n        });\n    };\n    ImageDataApi.prototype.replaceImage = function (imageId, request) {\n        return this.put(\"/update/replace/IMAGE/\".concat(imageId), request, { primitive: true });\n    };\n    ImageDataApi.prototype.restoreDocument = function (imageId) {\n        return this.post(\"/image/restore/IMAGE/\".concat(imageId));\n    };\n    ImageDataApi.prototype.updateMetadata = function (recordId, metadata) {\n        var name = metadata.name, value = metadata.value, stickiness = metadata.stickiness;\n        if (!stickiness) {\n            stickiness = 'SUPER';\n        }\n        return this.post(\"/image/metadata/IMAGE/\".concat(recordId, \"/\").concat(name), { value: value }, {\n            params: { stickiness: stickiness },\n        });\n    };\n    ImageDataApi.prototype.listImages = function (publicationId, lastEvaluatedKey, count) {\n        return this.get(\"/image/list/\".concat(publicationId), { params: { 'last-key': lastEvaluatedKey, count: count }, deserializeType: 'ContentDocumentMetadataListPage' });\n    };\n    return ImageDataApi;\n}(ContentApi));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/regimentApi.ts\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-regiment/javadoc/com/ancestry/eb/josephus/regiment/service/RegimentContentService.html) */\nvar RegimentApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(RegimentApi, _super);\n    function RegimentApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.REGIMENT;\n        _this.basePath = '/content';\n        _this.contentType = 'REGIMENT';\n        return _this;\n    }\n    return RegimentApi;\n}(ContentApi));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/subImageDataApi.ts\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-image-data/javadoc/com/ancestry/eb/fold31/imagedata/service/SubImageDataService.html) */\nvar SubImageDataApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(SubImageDataApi, _super);\n    function SubImageDataApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.IMAGE_DATA;\n        _this.basePath = '/sub-image';\n        _this.contentType = 'SUB_IMAGE';\n        return _this;\n        /*\n         * listSubImages(imageId: number, count: number, lastKey: string): Promise<ContentDocumentMetadataListPage> {\n         * \treturn this.get(`/list/IMAGE/${imageId}`, {\n         * \t\tparams: {\n         * \t\t\tcount,\n         * \t\t\t'last-key': lastKey\n         * \t\t},\n         * \t\tdeserializeType: 'ContentDocumentMetadataListPage',\n         * \t})\n         * }\n         */\n    }\n    SubImageDataApi.prototype.getSubImageIndex = function (imageId, rect, nonSpatial) {\n        var x = rect.x, y = rect.y, w = rect.w, h = rect.h;\n        return this.get(\"\".concat(this.basePath, \"/index/IMAGE/\").concat(imageId, \"/\").concat(x, \"/\").concat(y, \"/\").concat(w, \"/\").concat(h, \"/\").concat(nonSpatial), {\n            deserializeType: 'SubImageIndexResults',\n        });\n    };\n    return SubImageDataApi;\n}(ContentApi));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/subjectApi.ts\n\n\nvar SubjectApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(SubjectApi, _super);\n    function SubjectApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.contentType = 'SUBJECT';\n        return _this;\n    }\n    return SubjectApi;\n}(MemorialSubjectApi));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/unitApi.ts\n\n\n\nvar UnitApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(UnitApi, _super);\n    function UnitApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.REGIMENT;\n        _this.basePath = '/content';\n        _this.contentType = 'MILITARY_UNIT';\n        return _this;\n    }\n    return UnitApi;\n}(ContentApi));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/content/getContentApi.ts\n\n\n\n\n\n\n\n\n\n\n\nvar GenericContentApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(GenericContentApi, _super);\n    function GenericContentApi() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return GenericContentApi;\n}(ContentApi));\nfunction getContentApi(contentType) {\n    switch (contentType) {\n        case 'BATTLE': return BattleApi;\n        case 'COMPANY': return CompanyApi;\n        case 'INDEX_RECORD': return IndexRecordApi;\n        case 'REGIMENT': return RegimentApi;\n        case 'IMAGE': return ImageDataApi;\n        case 'SUB_IMAGE': return SubImageDataApi;\n        case 'STORY_PAGE': return MemorialApi;\n        case 'SUBJECT': return SubjectApi;\n        case 'MILITARY_UNIT': return UnitApi;\n        default: return GenericContentApi;\n    }\n}\n\n;// CONCATENATED MODULE: ./src/ts/mappings/fact-mappings.json\nconst fact_mappings_namespaceObject = JSON.parse('[{\"type\":\"BIRTH\",\"label\":\"Birth\",\"defaultDateType\":\"date.vital.birth\",\"defaultPlaceType\":\"place.vital.birth\",\"canonicalChildEventTypes\":[],\"canonicalMetadata\":[{\"label\":\"Date\",\"type\":\"date.vital.birth\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Place\",\"type\":\"place.vital.birth\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]}],\"handling\":\"NORMAL\",\"topLevel\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"type\":\"MARRIAGE\",\"label\":\"Marriage\",\"defaultDateType\":\"date.vital.marriage\",\"defaultPlaceType\":\"place.vital.marriage\",\"canonicalChildEventTypes\":[],\"canonicalMetadata\":[{\"label\":\"Date\",\"type\":\"date.vital.marriage\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Place\",\"type\":\"place.vital.marriage\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Spouse\",\"type\":\"full-name\",\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]}],\"handling\":\"NORMAL\",\"topLevel\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"type\":\"DEATH\",\"label\":\"Death\",\"defaultDateType\":\"date.vital.death\",\"defaultPlaceType\":\"place.vital.death\",\"canonicalChildEventTypes\":[],\"canonicalMetadata\":[{\"label\":\"Date\",\"type\":\"date.vital.death\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Place\",\"type\":\"place.vital.death\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Cause\",\"type\":\"general.death.cause\",\"canonical\":true}],\"handling\":\"NORMAL\",\"topLevel\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"type\":\"BURIAL\",\"label\":\"Burial\",\"defaultDateType\":\"date.vital.death.burial\",\"defaultPlaceType\":\"place.vital.death.burial\",\"canonicalChildEventTypes\":[],\"canonicalMetadata\":[{\"label\":\"Date\",\"type\":\"date.vital.death.burial\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Place\",\"type\":\"place.vital.death.burial\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]}],\"handling\":\"NORMAL\",\"topLevel\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"type\":\"ENLISTMENT\",\"parentType\":\"MILITARY_SERVICE\",\"label\":\"Enlistment\",\"defaultDateType\":\"date.military.enlistment\",\"defaultPlaceType\":\"place.military.enlistment\",\"canonicalChildEventTypes\":[],\"canonicalMetadata\":[{\"label\":\"Date\",\"type\":\"date.military.enlistment\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Place\",\"type\":\"place.military.enlistment\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Rank\",\"type\":\"military.rank.enlistment\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]}],\"handling\":\"NORMAL\",\"topLevel\":false,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"type\":\"DISCHARGE\",\"parentType\":\"MILITARY_SERVICE\",\"label\":\"Discharge\",\"defaultDateType\":\"date.military.discharge\",\"defaultPlaceType\":\"place.military.discharge\",\"canonicalChildEventTypes\":[],\"canonicalMetadata\":[{\"label\":\"Date\",\"type\":\"date.military.discharge\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Place\",\"type\":\"place.military.discharge\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Rank\",\"type\":\"military.rank.discharge\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]}],\"handling\":\"NORMAL\",\"topLevel\":false,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"type\":\"BATTLE\",\"parentType\":\"MILITARY_SERVICE\",\"label\":\"Battle\",\"defaultDateType\":\"date.military.battle\",\"defaultPlaceType\":\"place.military.battle\",\"canonicalChildEventTypes\":[],\"canonicalMetadata\":[{\"label\":\"Date\",\"type\":\"date.military.battle\",\"canonical\":true},{\"label\":\"Place\",\"type\":\"place.military.battle\",\"canonical\":true}],\"handling\":\"NORMAL\",\"topLevel\":false},{\"type\":\"AWARD\",\"parentType\":\"MILITARY_SERVICE\",\"label\":\"Award\",\"defaultDateType\":\"date.military.award\",\"defaultPlaceType\":\"place.military.award\",\"canonicalChildEventTypes\":[],\"canonicalMetadata\":[{\"label\":\"Award\",\"type\":\"military.award\",\"canonical\":true},{\"label\":\"Date\",\"type\":\"date.military.award\",\"canonical\":true},{\"label\":\"Place\",\"type\":\"place.military.award\",\"canonical\":true}],\"handling\":\"NORMAL\",\"topLevel\":false},{\"type\":\"STATIONED\",\"parentType\":\"MILITARY_SERVICE\",\"label\":\"Stationed\",\"defaultDateType\":\"date.military.service\",\"defaultPlaceType\":\"place.military.service\",\"canonicalChildEventTypes\":[],\"canonicalMetadata\":[{\"label\":\"Date\",\"type\":\"date.military.service\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Place\",\"type\":\"place.military.service\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Unit\",\"type\":\"military.service\",\"canonical\":true},{\"label\":\"Ship\",\"type\":\"military.service\"},{\"label\":\"Rank\",\"type\":\"military.rank\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]}],\"handling\":\"NORMAL\",\"topLevel\":false,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"type\":\"CASUALTY\",\"parentType\":\"MILITARY_SERVICE\",\"label\":\"Casualty\",\"defaultDateType\":\"date.military.casualty\",\"defaultPlaceType\":\"place.military.casualty\",\"canonicalChildEventTypes\":[],\"canonicalMetadata\":[{\"label\":\"Date\",\"type\":\"date.military.casualty\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Place\",\"type\":\"place.military.casualty\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Cause\",\"type\":\"military.casualty.cause\",\"canonical\":true}],\"handling\":\"NORMAL\",\"topLevel\":false,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"type\":\"CUSTOM_MILITARY\",\"parentType\":\"MILITARY_SERVICE\",\"label\":\"Custom\",\"defaultDateType\":\"date.military\",\"defaultPlaceType\":\"place.military\",\"canonicalChildEventTypes\":[],\"canonicalMetadata\":[],\"handling\":\"NORMAL\",\"topLevel\":false},{\"type\":\"MILITARY_SERVICE\",\"label\":\"Military Service\",\"defaultDateType\":\"date.military\",\"defaultPlaceType\":\"place.military\",\"canonicalChildEventTypes\":[\"ENLISTMENT\",\"DISCHARGE\",\"STATIONED\",\"AWARD\",\"BATTLE\",\"CASUALTY\"],\"canonicalMetadata\":[{\"label\":\"Conflict Period\",\"type\":\"military.conflict\",\"canonical\":true},{\"label\":\"Theater\",\"type\":\"military.conflict-theater\",\"canonical\":true},{\"label\":\"Rank\",\"type\":\"military.rank\",\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Grade\",\"type\":\"military.rank\",\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Unit\",\"type\":\"military.service\"},{\"label\":\"Company\",\"type\":\"military.service.company\",\"canonical\":true},{\"label\":\"Branch\",\"type\":\"military.service.branch\",\"canonical\":true},{\"label\":\"Regiment\",\"type\":\"military.service.regiment\",\"canonical\":true},{\"label\":\"Battalion\",\"type\":\"military.service.regiment\"},{\"label\":\"Service Number\",\"type\":\"military.service-number\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Service Start Date\",\"type\":\"date.military.service.start\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Service End Date\",\"type\":\"date.military.service.end\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Service Date\",\"type\":\"date.military.service\",\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Muster Date\",\"type\":\"date.military.muster\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Served For\",\"type\":\"place.military.served-for\",\"canonical\":true},{\"label\":\"Served In\",\"type\":\"place.military.served-in\",\"canonical\":true}],\"handling\":\"MILITARY\",\"topLevel\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"type\":\"CUSTOM\",\"label\":\"Custom\",\"defaultDateType\":\"date\",\"defaultPlaceType\":\"place\",\"canonicalChildEventTypes\":[],\"canonicalMetadata\":[],\"handling\":\"CUSTOM\",\"topLevel\":true},{\"type\":\"INTERNAL_PEOPLE\",\"label\":\"People\",\"defaultDateType\":\"date\",\"defaultPlaceType\":\"place\",\"canonicalChildEventTypes\":[],\"canonicalMetadata\":[{\"label\":\"Full Name\",\"type\":\"full-name\",\"canonical\":true},{\"label\":\"Also Known As\",\"type\":\"full-name\",\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Father\",\"type\":\"full-name\",\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Mother\",\"type\":\"full-name\",\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Child\",\"type\":\"full-name\",\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Sibling\",\"type\":\"full-name\",\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]}],\"handling\":\"PEOPLE\",\"topLevel\":true},{\"type\":\"INTERNAL_OTHER\",\"label\":\"Other\",\"defaultDateType\":\"date\",\"defaultPlaceType\":\"place\",\"canonicalChildEventTypes\":[],\"canonicalMetadata\":[{\"label\":\"Gender\",\"type\":\"general.gender\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Race or Ethnicity\",\"type\":\"general.race\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]},{\"label\":\"Place of Residence\",\"type\":\"place.residence\",\"canonical\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]}],\"handling\":\"GRAB_BAG\",\"topLevel\":true,\"pageTypes\":[\"PERSON\",\"SERVICEPERSON\"]}]');\n;// CONCATENATED MODULE: ./src/ts/shared/lib/memorialHelpers.ts\n\n\n\n\n\n\n\n\nvar honorImageUrl = function (type, id, width, height) {\n    var ext, url = \"\".concat(getImagePath(), \"honorimage/\").concat(type, \"/\");\n    if (width > 0 || height > 0) {\n        url += width + '/';\n    }\n    if (height > 0) {\n        url += height + '/';\n    }\n    if (type == 'avatar') {\n        ext = 'png';\n    }\n    else {\n        ext = 'jpg';\n    }\n    url += id + '.' + ext;\n    return url;\n};\nvar countryFlagUrl = function (countryCode) {\n    return \"\".concat(getImagePath(), \"flag/\").concat(countryCode);\n};\nvar eventTypeToLabel = function (type) {\n    switch (type) {\n        case 'INTERNAL_PEOPLE': return 'People';\n        case 'INTERNAL_OTHER': return 'Other';\n        default:\n            return (0,templating/* capitalize */.kC)(type, '_');\n    }\n};\nvar createSource = function (_a) {\n    var relationId = _a.relationId, ref = _a.ref, url = _a.url, comment = _a.comment, _b = _a.title, title = _b === void 0 ? url : _b;\n    if (!comment && !ref && !relationId && !url) {\n        return null;\n    }\n    var source = {};\n    if (relationId) {\n        source.link = {\n            type: 'ENTITY',\n            relationId: relationId,\n        };\n    }\n    else if (ref) {\n        source.link = {\n            type: 'OBJECT_ID',\n            objectId: ref,\n        };\n    }\n    else if (url) {\n        source.link = {\n            type: 'URL',\n            url: {\n                url: url,\n                title: title,\n            },\n        };\n    }\n    if (comment) {\n        source.comment = comment;\n    }\n    return source;\n};\nvar getImagery = function (memorialContent) {\n    var _a, _b;\n    return (_b = (_a = getRuntime(memorialContent)) === null || _a === void 0 ? void 0 : _a.other) === null || _b === void 0 ? void 0 : _b.images;\n};\nvar importFactsFrom = function (_a) {\n    var importTo = _a.importTo, importFrom = _a.importFrom, newFacts = _a.newFacts;\n    return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var Api, content, _b, FACT, memorialFacts, factsByFactKey, deduplicated, identifiers, results;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    Api = getContentApi(importTo.contentType);\n                    return [4 /*yield*/, new Api().getDocument(importTo.objectId, ['FACTS'])];\n                case 1:\n                    content = _c.sent();\n                    _b = contentElements_getGroupedElements(content).FACT, FACT = _b === void 0 ? [] : _b;\n                    memorialFacts = FACT.map(function (fact) { return fact.element; });\n                    factsByFactKey = getFactsByFactKey(memorialFacts);\n                    deduplicated = newFacts.filter(function (fact) {\n                        return !(factToKey(fact) in factsByFactKey);\n                    });\n                    identifiers = getImportFactIdentifiers(deduplicated, memorialFacts);\n                    return [4 /*yield*/, new Api().importFactsFrom(importTo, importFrom, identifiers)];\n                case 2:\n                    results = _c.sent();\n                    return [2 /*return*/, results];\n            }\n        });\n    });\n};\nvar isCanonicalFact = function (factMappings, facetType) {\n    return factMappings === null || factMappings === void 0 ? void 0 : factMappings.some(function (fact) { return fact.type === facetType; });\n};\nvar getEventTypeForFactType = function (facetType) {\n    var _a;\n    return (_a = allFactMappings\n        .find(function (mapping) {\n        return mapping.canonicalMetadata.some(function (md) { return md.type === facetType; });\n    })) === null || _a === void 0 ? void 0 : _a.type;\n};\nvar memorialHelpers_militaryChildEventTypes = fact_mappings_namespaceObject.reduce(function (finalArr, mapping) {\n    if (mapping.parentType === 'MILITARY_SERVICE') {\n        finalArr.push(mapping.type);\n    }\n    return finalArr;\n}, []);\nvar militaryEventTypes = memorialHelpers_militaryChildEventTypes.concat('MILITARY_SERVICE');\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/content/memorials/memorialContent.ts\n\n\n\n\n\nvar getFactsByFactKey = function (facts) {\n    return facts.reduce(function (finalObj, fact) {\n        finalObj[factToKey(fact)] = fact;\n        return finalObj;\n    }, {});\n};\nvar getEventsByType = function (type, existingFacts, customEventName) {\n    var eventsByEventType = getEventsByEventType(existingFacts);\n    var matchingEvents = eventsByEventType[type] || [];\n    /*\n     * If we have a child military event type like ENLISTMENT, we already have all existing ENLISTMENT events on the page.\n     * Now, we need to find all other MILITARY_SERVICE events on the page that don't have an existing ENLISTMENT event in them.\n     * This will allow users to create new ENLISTMENT events within existing MILITARY_SERVICE events.\n     */\n    if (memorialHelpers_militaryChildEventTypes.includes(type)) {\n        var militaryEventIds_1 = matchingEvents\n            .map(function (events) {\n            var militaryEvent = events.find(function (evt) { return evt.type === 'MILITARY_SERVICE'; });\n            return militaryEvent.identifier;\n        });\n        var allMilitaryEvents = getEventsByType('MILITARY_SERVICE', existingFacts);\n        allMilitaryEvents.forEach(function (events) {\n            var militaryEvent = events.find(function (evt) { return evt.type === 'MILITARY_SERVICE'; });\n            if (!militaryEventIds_1.includes(militaryEvent.identifier)) {\n                matchingEvents.push([militaryEvent]);\n            }\n        });\n    }\n    if (customEventName) {\n        matchingEvents = matchingEvents.filter(function (event) { return event.some(function (evt) { return evt.name === customEventName; }); });\n    }\n    return matchingEvents;\n};\nvar getImportFactIdentifiers = function (newFacts, existingFacts) {\n    return getImportFacts(newFacts, existingFacts)\n        .map(function (fact) { return ({ event: fact.event, origin: fact.origin }); });\n};\nvar getImportFacts = function (newFacts, existingFacts) {\n    var eventsUsed = {};\n    return newFacts.reduce(function (finalArr, fact) {\n        var lastEvent = fact.event[fact.event.length - 1];\n        var eventType = lastEvent.type;\n        var events;\n        if (eventType in eventsUsed) {\n            events = [eventsUsed[eventType]];\n        }\n        else {\n            /*\n             * It gets very complex trying to know whether to create a new military event or which existing one to add to.\n             * We will create a new event and let users drag/drop facts if needed.\n             */\n            if (militaryEventTypes.includes(eventType)) {\n                events = [fact.event];\n            }\n            else {\n                events = getEventsByType(eventType, existingFacts, lastEvent.name);\n                if (events.length === 0 || events.length > 1) {\n                    events = [fact.event];\n                }\n                eventsUsed[eventType] = events[0];\n            }\n        }\n        finalArr.push((0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, fact), { event: events[0] }));\n        return finalArr;\n    }, []);\n};\nvar groupFactsByEventType = function (facts) {\n    return facts.reduce(function (finalObj, fact) {\n        var eventType = fact.event[fact.event.length - 1].type;\n        if (!(eventType in finalObj))\n            finalObj[eventType] = [];\n        finalObj[eventType].push(fact);\n        return finalObj;\n    }, {});\n};\nvar createMemorialEvent = function (type, name) {\n    var event = {\n        identifier: uuidV4(),\n        type: type,\n    };\n    if (type.startsWith('CUSTOM')) {\n        event.name = name || 'Custom';\n    }\n    return event;\n};\nvar factToKey = function (fact) {\n    var name = fact.name, value = fact.value, type = fact.type;\n    return \"\".concat(name).concat(value).concat(type);\n};\nvar createMemorialFactElement = function (fact) {\n    return {\n        element: fact,\n        type: 'FACT',\n    };\n};\nvar createMemorialPartnerElement = function (institutionId) {\n    return {\n        type: 'PARTNER',\n        element: { institution: institutionId },\n    };\n};\nvar createMemorialFactSource = function (source) {\n    return {\n        type: 'FACT_SOURCE',\n        element: source,\n    };\n};\nvar createHierarchyForEventType = function (eventType, potentialHierarchy, eventName) {\n    if (potentialHierarchy === void 0) { potentialHierarchy = []; }\n    var newFactEvents = [];\n    if (militaryChildEventTypes.includes(eventType)) {\n        newFactEvents.push(createEventIfNotFound('MILITARY_SERVICE', potentialHierarchy));\n    }\n    newFactEvents.push(createEventIfNotFound(eventType, potentialHierarchy, eventName));\n    return newFactEvents;\n};\nvar createEventIfNotFound = function (eventType, events, eventName) {\n    return (events || []).find(function (evt) { return evt.type === eventType; }) || createMemorialEvent(eventType, eventName);\n};\nvar getSourceType = function (element) {\n    var link = element.link;\n    if (!link)\n        return 'TEXT';\n    if (link.type === 'ENTITY' || link.type === 'OBJECT_ID')\n        return 'ENTITY';\n    if (link.type === 'URL')\n        return 'URL';\n};\nfunction getUniqueEventHierarchies(facts) {\n    var SEPARATOR = '::';\n    var allEvents = facts.map(function (fact) { return fact.event; });\n    var uniqueEventHierarchies = allEvents.reduce(function (finalObj, events) {\n        for (var i = 0; i < events.length; i++) {\n            var evts = events.slice(0, i + 1);\n            var eventIds = evts.map(function (event) { return event.identifier; });\n            var key = idsToKey(eventIds, SEPARATOR);\n            if (!(key in finalObj)) {\n                finalObj[key] = evts;\n            }\n        }\n        return finalObj;\n    }, {});\n    return Object.values(uniqueEventHierarchies);\n}\nfunction getEventsByEventType(facts) {\n    var eventHierarchies = getUniqueEventHierarchies(facts);\n    return eventHierarchies.reduce(function (finalObj, hierarchy) {\n        var _a = (0,tslib_es6/* __read */.CR)(hierarchy, 2), parentEvent = _a[0], childEvent = _a[1];\n        if (childEvent) {\n            if (!(childEvent.type in finalObj)) {\n                finalObj[childEvent.type] = [];\n            }\n            finalObj[childEvent.type].push([parentEvent, childEvent]);\n        }\n        else {\n            if (!(parentEvent.type in finalObj)) {\n                finalObj[parentEvent.type] = [];\n            }\n            finalObj[parentEvent.type].push([parentEvent]);\n        }\n        return finalObj;\n    }, {});\n}\n/*\n * const keyToIds = (key: string, separator: string) => {\n * \tif (key === '') return [];\n * \treturn key.split(separator);\n * }\n */\nvar idsToKey = function (sourceIds, separator) {\n    return sourceIds.sort().join(separator);\n};\nvar canUpdateCoverImage = function (content, user) {\n    return canUpdateImage(content, user, 'COVER_IMAGE');\n};\nvar canUpdateBackgroundImage = function (content, user) {\n    return canUpdateImage(content, user, 'BACKGROUND_IMAGE');\n};\nvar canUpdateImage = function (content, user, elementType) {\n    var _a;\n    var image = (_a = getGroupedElements(content)[elementType]) === null || _a === void 0 ? void 0 : _a[0];\n    var hasImage = !!image;\n    var isContributionOwner = hasImage && getElementOwner(image) === (user === null || user === void 0 ? void 0 : user.userId);\n    var canEditCoverImage = hasImage && (isContributionOwner || isAllowed(content, ['CONTRIBUTION_UPDATE_OTHERS'], elementType) || isAllowed(content, ['CONTRIBUTION_DELETE_OTHERS'], elementType));\n    var canCreateCoverImage = !hasImage && (isAllowed(content, ['CONTRIBUTION_CREATE'], elementType) || isAllowed(content, ['UPDATE'], elementType));\n    return canEditCoverImage || canCreateCoverImage;\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/memorials/facts/SelectFacts.tsx\n\n\n\n\n\n\n\n\n\n\n\nvar IMPORT_FACTS_FORM_ID = 'IMPORT_FACTS_FORM';\nvar SelectFacts = function (_a) {\n    var importTo = _a.importTo, suggestedMetadata = _a.suggestedMetadata, onRelationAdded = _a.onRelationAdded, onSubmit = _a.onSubmit, objectRef = _a.objectRef, disabled = _a.disabled;\n    var _b = (0,useAlerts/* useAlerts */.Z)(), addSuccessAlert = _b.addSuccessAlert, addErrorAlert = _b.addErrorAlert;\n    var closeDialog = (0,useDialogs/* useDialogs */.q)().closeDialog;\n    var user = (0,useUser/* useUser */.a)().user;\n    var t = (0,external_ReactI18next_.useTranslation)('memorial').t;\n    var localizeContentType = useLocalizedContent().localizeContentType;\n    var suggestedMetadataArr = (0,external_React_.useMemo)(function () {\n        if (!suggestedMetadata)\n            return [];\n        return Object.entries(suggestedMetadata);\n    }, [suggestedMetadata]);\n    var suggestionsByKey = (0,external_React_.useMemo)(function () {\n        if (!suggestedMetadata)\n            return {};\n        return Object.values(suggestedMetadata).reduce(function (finalObj, importFacts) {\n            importFacts.forEach(function (fact) {\n                var key = factToKey(fact);\n                finalObj[key] = fact;\n            });\n            return finalObj;\n        }, {});\n    }, [suggestedMetadata]);\n    var changeAllCheckboxes = function (bool) {\n        var checkboxes = Array.from(document.querySelectorAll(\"form#\".concat(IMPORT_FACTS_FORM_ID, \" input[type=\\\"checkbox\\\"]\")));\n        checkboxes.forEach(function (checkbox) { checkbox.checked = bool; });\n    };\n    return (suggestedMetadata &&\n        external_React_default().createElement(\"form\", { id: IMPORT_FACTS_FORM_ID, onSubmit: function (e) {\n                e.preventDefault();\n                var checkboxes = e.target.querySelectorAll('input[type=\"checkbox\"]');\n                var factsToImport = Array.from(checkboxes)\n                    .map(function (checkbox) {\n                    var key = checkbox.dataset.key;\n                    var fact = suggestionsByKey[key];\n                    if (checkbox.checked) {\n                        return fact;\n                    }\n                    else {\n                        return null;\n                    }\n                })\n                    .filter(function (x) { return x !== null; });\n                onSubmit(factsToImport, objectRef);\n            } },\n            external_React_default().createElement(\"fieldset\", { disabled: disabled },\n                external_React_default().createElement(\"legend\", { className: 'd-none' }, t('selectFacts.importFacts', 'Import Facts')),\n                suggestedMetadataArr.length > 0 &&\n                    external_React_default().createElement((external_React_default()).Fragment, null,\n                        external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'secondary', className: 'me-2', \"data-cy\": 'facts-select-btn', onClick: function () {\n                                changeAllCheckboxes(true);\n                            }, size: 'sm' }, t('selectFacts.selectAll', 'Select All')),\n                        external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'secondary', \"data-cy\": 'facts-deselect-btn', onClick: function () {\n                                changeAllCheckboxes(false);\n                            }, size: 'sm' }, t('selectFacts.deselectAll', 'Deselect All'))),\n                suggestedMetadataArr.length === 0 &&\n                    external_React_default().createElement(\"div\", { className: 'text-center' },\n                        external_React_default().createElement(\"p\", null, t('selectFacts.noFactsFound', 'No facts were found in {{contentTypeLabel}}.', { contentTypeLabel: localizeContentType(objectRef.contentType, { amount: 'one', demonstrative: 'proximal' }) })),\n                        (objectRef === null || objectRef === void 0 ? void 0 : objectRef.contentType) !== 'INDEX_RECORD' &&\n                            external_React_default().createElement((external_React_default()).Fragment, null,\n                                external_React_default().createElement(\"p\", null, t('addToGallery', 'Add it to the Gallery instead?')),\n                                external_React_default().createElement(\"div\", null,\n                                    external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'secondary', onClick: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                                            var newRelation, e_1;\n                                            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                                                switch (_a.label) {\n                                                    case 0:\n                                                        _a.trys.push([0, 2, , 3]);\n                                                        return [4 /*yield*/, new ConnectionsApi()\n                                                                .addContentToMemorial(importTo, {\n                                                                targetDocument: objectRef,\n                                                                text: '',\n                                                            }, user)];\n                                                    case 1:\n                                                        newRelation = _a.sent();\n                                                        onRelationAdded === null || onRelationAdded === void 0 ? void 0 : onRelationAdded(newRelation);\n                                                        addSuccessAlert(t('imageSuccessfullyAdded', 'The image has been successfully added to the gallery.'));\n                                                        closeDialog(); // close ImportFactsDialog\n                                                        closeDialog(); // close AddFactsDialog\n                                                        return [3 /*break*/, 3];\n                                                    case 2:\n                                                        e_1 = _a.sent();\n                                                        addErrorAlert(t('common:somethingWrong'));\n                                                        return [3 /*break*/, 3];\n                                                    case 3: return [2 /*return*/];\n                                                }\n                                            });\n                                        }); } }, t('selectFacts.addToGallery', 'Add to Image Gallery'))))),\n                (suggestedMetadataArr === null || suggestedMetadataArr === void 0 ? void 0 : suggestedMetadataArr.length) > 0 &&\n                    suggestedMetadataArr.map(function (_a) {\n                        var _b, _c;\n                        var _d = (0,tslib_es6/* __read */.CR)(_a, 2), eventType = _d[0], facts = _d[1];\n                        var label;\n                        if (eventType === 'CUSTOM') {\n                            label = (_c = (_b = facts[0]) === null || _b === void 0 ? void 0 : _b.event[0]) === null || _c === void 0 ? void 0 : _c.name;\n                        }\n                        if (!label) {\n                            label = eventTypeToLabel(eventType);\n                        }\n                        return (external_React_default().createElement(\"div\", { key: eventType },\n                            external_React_default().createElement(\"h2\", { className: 'text-uppercase h6 text-secondary mt-3' }, label),\n                            facts.map(function (fact) {\n                                var name = fact.name, value = fact.value, type = fact.type, origin = fact.origin;\n                                var key = factToKey(fact);\n                                return (external_React_default().createElement(\"div\", { key: key, className: 'form-check' },\n                                    external_React_default().createElement(\"input\", { className: 'form-check-input', \"data-cy\": 'f3-checkbox', \"data-key\": key, defaultChecked: true, id: \"id-\".concat(key), type: 'checkbox' }),\n                                    external_React_default().createElement(\"label\", { className: 'form-check-label', htmlFor: \"id-\".concat(key) },\n                                        name,\n                                        \": \",\n                                        value)));\n                            })));\n                    }))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/memorials/facts/ImportFactsDialog.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ImportFactsDialog = function (_a) {\n    var importTo = _a.importTo, importFrom = _a.importFrom, memorialTitle = _a.memorialTitle, onDone = _a.onDone, onRelationAdded = _a.onRelationAdded, _b = _a.title, title = _b === void 0 ? 'Import Facts' : _b;\n    var _c = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), suggestedMetadata = _c[0], setSuggestedMetadata = _c[1];\n    var _d = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(true), 2), loading = _d[0], setLoading = _d[1];\n    var _e = (0,useAlerts/* useAlerts */.Z)(), addSuccessAlert = _e.addSuccessAlert, addErrorAlert = _e.addErrorAlert;\n    var closeDialog = (0,useDialogs/* useDialogs */.q)().closeDialog;\n    var t = (0,external_ReactI18next_.useTranslation)('memorial').t;\n    var ContentApi = getContentApi(importTo.contentType);\n    if (!memorialTitle)\n        memorialTitle = '';\n    var showSaveBtn = (0,external_React_.useMemo)(function () {\n        if (suggestedMetadata === null)\n            return false;\n        return Object.keys(suggestedMetadata).length > 0;\n    }, [suggestedMetadata]);\n    (0,useAsyncEffect/* useAsyncEffect */.b)(function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var contentType, objectId, _suggested, suggested, e_1;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    contentType = importFrom.contentType, objectId = importFrom.objectId;\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, new ContentApi().getImportFactsFrom(contentType, objectId)];\n                case 2:\n                    _suggested = _a.sent();\n                    suggested = _suggested.filter(function (suggestion) {\n                        if (!suggestion.value)\n                            return false;\n                        // if (!computedValues.validFactTypes.includes(suggestion.type)) return false;\n                        return true;\n                    });\n                    setSuggestedMetadata(groupFactsByEventType(suggested));\n                    setLoading(false);\n                    return [3 /*break*/, 4];\n                case 3:\n                    e_1 = _a.sent();\n                    switch (e_1.response.status) {\n                        case 403:\n                            addErrorAlert(t('importFactsDialog.importFrom.noImportAccess', 'You do not have access to import from this {{getContentLabel}}.', { getContentLabel: (0,content_contentObject/* getContentTypeLabel */.iN)(contentType) }));\n                            break;\n                        default:\n                            addErrorAlert(t('common:somethingWrong'));\n                            break;\n                    }\n                    setLoading(false);\n                    closeDialog();\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, []);\n    var otherContentTypeLabel = (0,content_contentObject/* getContentTypeLabel */.iN)(importFrom.contentType);\n    var storyPageContentTypeLabel = (0,content_contentObject/* getContentTypeLabel */.iN)('STORY_PAGE');\n    return external_React_default().createElement(Dialog, { footer: external_React_default().createElement((external_React_default()).Fragment, null,\n            external_React_default().createElement(DialogCloseButton, { disabled: loading }),\n            showSaveBtn &&\n                external_React_default().createElement(F3Button/* SubmitButton */.Mm, { disabled: loading, form: IMPORT_FACTS_FORM_ID })), title: title },\n        external_React_default().createElement(\"p\", { className: 'mb-3' },\n            external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'selectFactsToAdd', t: t },\n                \"Select the facts you would like to add to the \",\n                external_React_default().createElement(\"b\", null, { memorialTitle: memorialTitle }),\n                \" \",\n                external_React_default().createElement(\"b\", null, { storyPageContentTypeLabel: storyPageContentTypeLabel }),\n                \" from this \",\n                { otherContentTypeLabel: otherContentTypeLabel })),\n        loading && external_React_default().createElement(LoadIndicator/* LoadIndicator */.O, null),\n        external_React_default().createElement(SelectFacts, { disabled: loading, importTo: importTo, objectRef: importFrom, onRelationAdded: onRelationAdded, onSubmit: function (facts, ref) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                var results, _a, e_2;\n                return (0,tslib_es6/* __generator */.Jh)(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (facts.length === 0) {\n                                addErrorAlert(t('noFactsToSave', 'There are no facts to save from this document.'));\n                                return [2 /*return*/];\n                            }\n                            setLoading(true);\n                            _b.label = 1;\n                        case 1:\n                            _b.trys.push([1, 7, , 8]);\n                            results = void 0;\n                            _a = ref.contentType;\n                            switch (_a) {\n                                case 'ANCESTRY_DOCUMENT': return [3 /*break*/, 2];\n                                case 'FGV_DOCUMENT': return [3 /*break*/, 2];\n                                case 'NEWSPAPERS_DOCUMENT': return [3 /*break*/, 2];\n                                case 'ARCHIVES_DOCUMENT': return [3 /*break*/, 2];\n                            }\n                            return [3 /*break*/, 4];\n                        case 2: return [4 /*yield*/, new ContentApi().importFactsFromExternalDocument(importTo.objectId, ref.contentType, ref.objectId, facts)];\n                        case 3:\n                            results = _b.sent();\n                            return [3 /*break*/, 6];\n                        case 4: return [4 /*yield*/, importFactsFrom({ importTo: importTo, importFrom: ref, newFacts: facts })];\n                        case 5:\n                            results = _b.sent();\n                            return [3 /*break*/, 6];\n                        case 6:\n                            addSuccessAlert(t('factsAddedSuccess', 'Your facts have been successfully added to the page.'));\n                            setLoading(false);\n                            closeDialog();\n                            onDone === null || onDone === void 0 ? void 0 : onDone(results);\n                            return [3 /*break*/, 8];\n                        case 7:\n                            e_2 = _b.sent();\n                            switch (e_2.response.status) {\n                                case 403:\n                                    addErrorAlert(t('importFactsDialog.noImpportAccess', 'You do not have access to import from this {{contentLabel}}.', { contentLabel: (0,content_contentObject/* getContentTypeLabel */.iN)(ref.contentType) }));\n                                    break;\n                                default:\n                                    addErrorAlert(t('common:somethingWrong'));\n                                    break;\n                            }\n                            setLoading(false);\n                            return [3 /*break*/, 8];\n                        case 8: return [2 /*return*/];\n                    }\n                });\n            }); }, suggestedMetadata: suggestedMetadata }));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/index-records/IndexRecordMemorialsTab.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar IndexRecordMemorialsTab = function (_a) {\n    var _b = (0,external_React_.useContext)(IndexRecordContentContext), content = _b.content, computedValues = _b.computedValues, updateRelations = _b.updateRelations, publication = _b.publication;\n    var groupedRelations = computedValues.groupedRelations;\n    var STORY_PAGE = groupedRelations.STORY_PAGE;\n    var _c = (0,useDialogs/* useDialogs */.q)(), openDialog = _c.openDialog, closeDialog = _c.closeDialog;\n    var _d = (0,useUser/* useUser */.a)(), user = _d.user, isConfirmed = _d.isConfirmed;\n    var verify = useVerify().verify;\n    var _e = (0,useAlerts/* useAlerts */.Z)(), addSuccessAlert = _e.addSuccessAlert, addErrorAlert = _e.addErrorAlert;\n    var checkAction = useContentPermissions(content).checkAction;\n    var f3Domain = (0,useDomain/* useDomain */.a)().f3Domain;\n    var getThumbnail = (0,useThumbnail/* useThumbnail */.t)().getThumbnail;\n    var t = (0,external_ReactI18next_.useTranslation)('index').t;\n    var getLocaleDate = useLocaleDate();\n    var sortedMemorials = (0,external_React_.useMemo)(function () {\n        return (STORY_PAGE || [])\n            .slice()\n            .sort(function (memA, memB) { return (0,sortUtil/* dateSort */.Nk)(memA.modified, memB.modified); });\n    }, [STORY_PAGE]);\n    return (external_React_default().createElement(\"div\", { \"aria-labelledby\": 'tab-info', className: 'container-xl', id: 'pages-tab' },\n        external_React_default().createElement(\"div\", { className: 'row justify-content-center' },\n            external_React_default().createElement(\"div\", { className: 'col-12 col-md-10 col-xl-8' },\n                external_React_default().createElement(\"h2\", { className: 'd-none d-print-block text-center h4' }, t('indexMemorial.attachedMemorial', 'Memorials attached to index record')),\n                external_React_default().createElement(\"div\", { className: 'invite-story text-center d-print-none' },\n                    external_React_default().createElement(F3Button/* F3Button */.Vk, { className: 'btn btn-secondary hidden-print', \"data-cy\": 'add-to-memorial', id: 'add-to-memorial-msg', onClick: function () {\n                            if (checkAction('CONTRIBUTION_CREATE')) {\n                                openDialog(external_React_default().createElement(IndexRecordMemorialConnectionDialog, null));\n                            }\n                        } }, t('indexMemorial.addToMemorial', 'Add this record to a Memorial'))),\n                (STORY_PAGE === null || STORY_PAGE === void 0 ? void 0 : STORY_PAGE.length) > 0 ?\n                    external_React_default().createElement(\"h2\", { className: 'h5 text-uppercase text-center text-secondary mt-3' }, t('memorialSourcing', 'Memorials sourcing this record')) :\n                    external_React_default().createElement(\"p\", { className: 'text-muted text-center mt-4' }, t('indexMemorial.noAttachedMemorials', 'There are no attached memorials.')), sortedMemorials === null || sortedMemorials === void 0 ? void 0 :\n                sortedMemorials.map(function (relation) {\n                    var _a = relation.relationOwner, userId = _a.userId, username = _a.username, modified = relation.modified, relationId = relation.relationId;\n                    var localizedUsername = (0,localization_domain/* getUsernameForDomain */.aj)(username, userId, f3Domain);\n                    return (external_React_default().createElement(\"div\", { key: relationId, \"aria-labelledby\": \"memorialed-\".concat(relationId), className: 'connected-storypage row py-2', role: 'group' },\n                        external_React_default().createElement(\"div\", { className: 'storypage-avatar col-auto border-top pt-3' },\n                            external_React_default().createElement(Thumbnail/* BaseThumbnail */.tK, { alt: t('profileImage', 'Profile image for {{username}}', { username: localizedUsername }), className: 'rounded-circle img-sz-80', src: getThumbnail({ path: 'usericon', query: { id: userId, domain: (0,localization_domain/* serializeDomain */.PI)(f3Domain), width: 80, height: 80 } }) })),\n                        external_React_default().createElement(\"div\", { className: 'storypage-content col border-top pt-3' },\n                            external_React_default().createElement(\"p\", { className: 'mb-0' },\n                                external_React_default().createElement(F3Link/* F3Link */.y, { href: (0,slug/* getContentPath */.kQ)('USER', username), target: '_self' }, localizedUsername),\n                                external_React_default().createElement(\"span\", { \"aria-hidden\": 'true' }, \"\\u00A0\\u00B7\\u00A0\"),\n                                external_React_default().createElement(\"span\", { className: 'text-muted' }, getLocaleDate(modified))),\n                            external_React_default().createElement(\"p\", { className: 'mb-0', id: \"memorialed-\".concat(relationId) },\n                                t('connectedTo', 'Connected this record to'),\n                                external_React_default().createElement(F3Link/* F3Link */.y, { className: 'ms-1', href: (0,slug/* getContentObjectUrl */.vE)(relation).fullPath, target: '_self' }, (0,slug/* getTitle */.YQ)(relation))),\n                            external_React_default().createElement(\"div\", { className: 'row align-items-center rounded my-2 bg-light py-3 gx-2' },\n                                external_React_default().createElement(\"div\", { className: 'storypage-tile col-auto' },\n                                    external_React_default().createElement(Thumbnail/* Thumbnail */.pl, { className: 'rounded', contentObject: relation, size: 80 })),\n                                external_React_default().createElement(\"div\", { className: 'col d-print-none' },\n                                    external_React_default().createElement(F3Link/* F3Link */.y, { className: 'btn btn-primary btn-sm mb-2 mb-sm-0', href: (0,slug/* getContentObjectUrl */.vE)(relation).fullPath, target: '_blank' }, t('indexMemorials.viewMemorial', 'View Memorial')),\n                                    (user === null || user === void 0 ? void 0 : user.userId) ?\n                                        external_React_default().createElement((external_React_default()).Fragment, null,\n                                            external_React_default().createElement(\"b\", { className: 'text-muted' },\n                                                \" - \",\n                                                t('or', 'or'),\n                                                \" - \"),\n                                            external_React_default().createElement(F3Button/* F3Button */.Vk, { className: 'mb-2 mb-sm-0', gtmEvent: (0,googleAnalyticsEvents/* contentEvent */.R1)(content, publication, gtmEvent_enum/* Action */.aU.ADD), onClick: function () {\n                                                    if (!isConfirmed) {\n                                                        openDialog(external_React_default().createElement(Deny, { action: 'CONTRIBUTION_CREATE', requirement: 'confirm' }));\n                                                        return;\n                                                    }\n                                                    openDialog(external_React_default().createElement(ImportFactsDialog, { importFrom: (0,contentMetadata/* getWrappedContentRef */.aK)(content), importTo: relation.id, onDone: closeDialog, title: t('copyFacts', 'Copy Facts to Memorial') }));\n                                                }, outline: true, size: 'sm' }, t('copyFactsMemorial', 'Copy Facts to Memorial'))) :\n                                        external_React_default().createElement(\"p\", { className: 'mb-0' },\n                                            external_React_default().createElement(F3Link/* F3Link */.y, { className: 'me-1', href: \"/login?next=\".concat((0,slug/* getContentPath */.kQ)('INDEX_RECORD', content.metadata.id.objectId), \"/memorials\") }, t('signIn', 'Sign in')),\n                                            t('addEditFacts', 'to add or edit facts to a Memorial.'))))),\n                        external_React_default().createElement(\"div\", { className: 'col-auto border-top pt-3 d-print-none' }, (user === null || user === void 0 ? void 0 : user.userId) === userId &&\n                            external_React_default().createElement(F3Button/* F3Button */.Vk, { className: 'delete-connection icon-f3 a2-icon-delete', onClick: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n                                    var e_1;\n                                    return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                                        switch (_a.label) {\n                                            case 0: return [4 /*yield*/, verify(t('deleteConnection', 'Are you sure you want to delete this connection?'))];\n                                            case 1:\n                                                if (!_a.sent()) return [3 /*break*/, 5];\n                                                _a.label = 2;\n                                            case 2:\n                                                _a.trys.push([2, 4, , 5]);\n                                                return [4 /*yield*/, new ConnectionsApi().deleteConnections([relationId])];\n                                            case 3:\n                                                _a.sent();\n                                                updateRelations(function (relations) { return removeRelation(relations, relationId); });\n                                                addSuccessAlert(t('deleteSuccess', 'The connection has been successfully deleted.'));\n                                                return [3 /*break*/, 5];\n                                            case 4:\n                                                e_1 = _a.sent();\n                                                addErrorAlert(t('common:somethingWrong'));\n                                                return [3 /*break*/, 5];\n                                            case 5: return [2 /*return*/];\n                                        }\n                                    });\n                                }); }, outline: true, size: 'sm' },\n                                external_React_default().createElement(\"span\", { className: 'd-none d-md-inline' }, t('remove', 'Remove'))))));\n                })))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/index-records/IndexRecordTitle.tsx\n\n\n\n\n\n\nvar IndexRecordTitle = function (_a) {\n    var _b = (0,external_React_.useContext)(IndexRecordContentContext), content = _b.content, publication = _b.publication;\n    var t = (0,external_ReactI18next_.useTranslation)('index').t;\n    return external_React_default().createElement(\"div\", { className: 'bg-secondary text-center p-3 p-sm-4', id: 'record-page-title' },\n        external_React_default().createElement(\"p\", { className: 'intro text-center fw-500 text-light text-uppercase' }, t('indexRecord', 'Index record for')),\n        external_React_default().createElement(\"h1\", { className: 'text-white my-2 mx-auto', itemProp: 'person' }, getContentTitle(content)),\n        external_React_default().createElement(F3Link/* F3Link */.y, { href: (0,slug/* getContentPath */.kQ)('PUBLICATION', publication === null || publication === void 0 ? void 0 : publication.publicationId, publication === null || publication === void 0 ? void 0 : publication.slug), itemProp: 'historicalCollection', target: '_self' },\n            external_React_default().createElement(\"h2\", { className: 'h6 text-white' }, (0,slug/* getTitle */.YQ)(publication))));\n};\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/get-prototype-of.js\nvar get_prototype_of = __webpack_require__(85105);\nvar get_prototype_of_default = /*#__PURE__*/__webpack_require__.n(get_prototype_of);\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/classCallCheck.js\nvar classCallCheck = __webpack_require__(99663);\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/createClass.js\nvar createClass = __webpack_require__(22600);\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/possibleConstructorReturn.js\nvar possibleConstructorReturn = __webpack_require__(49135);\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/inherits.js\nvar inherits = __webpack_require__(93196);\n;// CONCATENATED MODULE: ./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName =\n      typeof Component.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n}\n\n\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/assign.js\nvar object_assign = __webpack_require__(52945);\nvar assign_default = /*#__PURE__*/__webpack_require__.n(object_assign);\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/extends.js\nvar helpers_extends = __webpack_require__(88239);\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(94184);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Grid/utils/calculateSizeAndPositionDataAndUpdateScrollOffset.js\n\n\nfunction calculateSizeAndPositionDataAndUpdateScrollOffset(_ref) {\n  var cellCount = _ref.cellCount,\n      cellSize = _ref.cellSize,\n      computeMetadataCallback = _ref.computeMetadataCallback,\n      computeMetadataCallbackProps = _ref.computeMetadataCallbackProps,\n      nextCellsCount = _ref.nextCellsCount,\n      nextCellSize = _ref.nextCellSize,\n      nextScrollToIndex = _ref.nextScrollToIndex,\n      scrollToIndex = _ref.scrollToIndex,\n      updateScrollOffsetForScrollToIndex = _ref.updateScrollOffsetForScrollToIndex;\n\n  // Don't compare cell sizes if they are functions because inline functions would cause infinite loops.\n  // In that event users should use the manual recompute methods to inform of changes.\n  if (cellCount !== nextCellsCount || (typeof cellSize === 'number' || typeof nextCellSize === 'number') && cellSize !== nextCellSize) {\n    computeMetadataCallback(computeMetadataCallbackProps);\n\n    // Updated cell metadata may have hidden the previous scrolled-to item.\n    // In this case we should also update the scrollTop to ensure it stays visible.\n    if (scrollToIndex >= 0 && scrollToIndex === nextScrollToIndex) {\n      updateScrollOffsetForScrollToIndex();\n    }\n  }\n}\n\n/**\n * Helper method that determines when to recalculate row or column metadata.\n */\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/objectWithoutProperties.js\nvar objectWithoutProperties = __webpack_require__(42723);\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(45697);\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Grid/types.js\n\n\n\nvar bpfrpt_proptype_CellPosition =  true ? null : 0;\nvar bpfrpt_proptype_CellRendererParams =  true ? null : 0;\nvar bpfrpt_proptype_CellRenderer =  true ? null : 0;\nvar bpfrpt_proptype_CellCache =  true ? null : 0;\nvar bpfrpt_proptype_StyleCache =  true ? null : 0;\nvar bpfrpt_proptype_CellRangeRendererParams =  true ? null : 0;\nvar bpfrpt_proptype_CellRangeRenderer =  true ? null : 0;\nvar bpfrpt_proptype_CellSizeGetter =  true ? null : 0;\nvar bpfrpt_proptype_CellSize =  true ? null : 0;\nvar bpfrpt_proptype_NoContentRenderer =  true ? null : 0;\nvar bpfrpt_proptype_Scroll =  true ? null : 0;\nvar bpfrpt_proptype_ScrollbarPresenceChange =  true ? null : 0;\nvar bpfrpt_proptype_RenderedSection =  true ? null : 0;\nvar bpfrpt_proptype_OverscanIndicesGetterParams =  true ? null : 0;\nvar bpfrpt_proptype_OverscanIndices =  true ? null : 0;\nvar bpfrpt_proptype_OverscanIndicesGetter =  true ? null : 0;\nvar bpfrpt_proptype_Alignment =  true ? null : 0;\nvar bpfrpt_proptype_VisibleCellRange =  true ? null : 0;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Grid/utils/CellSizeAndPositionManager.js\n\n\n\n/**\n * Just-in-time calculates and caches size and position information for a collection of cells.\n */\n\nvar CellSizeAndPositionManager = function () {\n\n  // Used in deferred mode to track which cells have been queued for measurement.\n\n  // Cache of size and position data for cells, mapped by cell index.\n  // Note that invalid values may exist in this map so only rely on cells up to this._lastMeasuredIndex\n  function CellSizeAndPositionManager(_ref) {\n    var cellCount = _ref.cellCount,\n        cellSizeGetter = _ref.cellSizeGetter,\n        estimatedCellSize = _ref.estimatedCellSize;\n\n    (0,classCallCheck/* default */.Z)(this, CellSizeAndPositionManager);\n\n    this._cellSizeAndPositionData = {};\n    this._lastMeasuredIndex = -1;\n    this._lastBatchedIndex = -1;\n\n    this._cellSizeGetter = cellSizeGetter;\n    this._cellCount = cellCount;\n    this._estimatedCellSize = estimatedCellSize;\n  }\n\n  // Measurements for cells up to this index can be trusted; cells afterward should be estimated.\n\n\n  (0,createClass/* default */.Z)(CellSizeAndPositionManager, [{\n    key: 'areOffsetsAdjusted',\n    value: function areOffsetsAdjusted() {\n      return false;\n    }\n  }, {\n    key: 'configure',\n    value: function configure(_ref2) {\n      var cellCount = _ref2.cellCount,\n          estimatedCellSize = _ref2.estimatedCellSize,\n          cellSizeGetter = _ref2.cellSizeGetter;\n\n      this._cellCount = cellCount;\n      this._estimatedCellSize = estimatedCellSize;\n      this._cellSizeGetter = cellSizeGetter;\n    }\n  }, {\n    key: 'getCellCount',\n    value: function getCellCount() {\n      return this._cellCount;\n    }\n  }, {\n    key: 'getEstimatedCellSize',\n    value: function getEstimatedCellSize() {\n      return this._estimatedCellSize;\n    }\n  }, {\n    key: 'getLastMeasuredIndex',\n    value: function getLastMeasuredIndex() {\n      return this._lastMeasuredIndex;\n    }\n  }, {\n    key: 'getOffsetAdjustment',\n    value: function getOffsetAdjustment() {\n      return 0;\n    }\n\n    /**\n     * This method returns the size and position for the cell at the specified index.\n     * It just-in-time calculates (or used cached values) for cells leading up to the index.\n     */\n\n  }, {\n    key: 'getSizeAndPositionOfCell',\n    value: function getSizeAndPositionOfCell(index) {\n      if (index < 0 || index >= this._cellCount) {\n        throw Error('Requested index ' + index + ' is outside of range 0..' + this._cellCount);\n      }\n\n      if (index > this._lastMeasuredIndex) {\n        var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();\n        var _offset = lastMeasuredCellSizeAndPosition.offset + lastMeasuredCellSizeAndPosition.size;\n\n        for (var i = this._lastMeasuredIndex + 1; i <= index; i++) {\n          var _size = this._cellSizeGetter({ index: i });\n\n          // undefined or NaN probably means a logic error in the size getter.\n          // null means we're using CellMeasurer and haven't yet measured a given index.\n          if (_size === undefined || isNaN(_size)) {\n            throw Error('Invalid size returned for cell ' + i + ' of value ' + _size);\n          } else if (_size === null) {\n            this._cellSizeAndPositionData[i] = {\n              offset: _offset,\n              size: 0\n            };\n\n            this._lastBatchedIndex = index;\n          } else {\n            this._cellSizeAndPositionData[i] = {\n              offset: _offset,\n              size: _size\n            };\n\n            _offset += _size;\n\n            this._lastMeasuredIndex = index;\n          }\n        }\n      }\n\n      return this._cellSizeAndPositionData[index];\n    }\n  }, {\n    key: 'getSizeAndPositionOfLastMeasuredCell',\n    value: function getSizeAndPositionOfLastMeasuredCell() {\n      return this._lastMeasuredIndex >= 0 ? this._cellSizeAndPositionData[this._lastMeasuredIndex] : {\n        offset: 0,\n        size: 0\n      };\n    }\n\n    /**\n     * Total size of all cells being measured.\n     * This value will be completely estimated initially.\n     * As cells are measured, the estimate will be updated.\n     */\n\n  }, {\n    key: 'getTotalSize',\n    value: function getTotalSize() {\n      var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();\n      var totalSizeOfMeasuredCells = lastMeasuredCellSizeAndPosition.offset + lastMeasuredCellSizeAndPosition.size;\n      var numUnmeasuredCells = this._cellCount - this._lastMeasuredIndex - 1;\n      var totalSizeOfUnmeasuredCells = numUnmeasuredCells * this._estimatedCellSize;\n      return totalSizeOfMeasuredCells + totalSizeOfUnmeasuredCells;\n    }\n\n    /**\n     * Determines a new offset that ensures a certain cell is visible, given the current offset.\n     * If the cell is already visible then the current offset will be returned.\n     * If the current offset is too great or small, it will be adjusted just enough to ensure the specified index is visible.\n     *\n     * @param align Desired alignment within container; one of \"auto\" (default), \"start\", or \"end\"\n     * @param containerSize Size (width or height) of the container viewport\n     * @param currentOffset Container's current (x or y) offset\n     * @param totalSize Total size (width or height) of all cells\n     * @return Offset to use to ensure the specified cell is visible\n     */\n\n  }, {\n    key: 'getUpdatedOffsetForIndex',\n    value: function getUpdatedOffsetForIndex(_ref3) {\n      var _ref3$align = _ref3.align,\n          align = _ref3$align === undefined ? 'auto' : _ref3$align,\n          containerSize = _ref3.containerSize,\n          currentOffset = _ref3.currentOffset,\n          targetIndex = _ref3.targetIndex;\n\n      if (containerSize <= 0) {\n        return 0;\n      }\n\n      var datum = this.getSizeAndPositionOfCell(targetIndex);\n      var maxOffset = datum.offset;\n      var minOffset = maxOffset - containerSize + datum.size;\n\n      var idealOffset = void 0;\n\n      switch (align) {\n        case 'start':\n          idealOffset = maxOffset;\n          break;\n        case 'end':\n          idealOffset = minOffset;\n          break;\n        case 'center':\n          idealOffset = maxOffset - (containerSize - datum.size) / 2;\n          break;\n        default:\n          idealOffset = Math.max(minOffset, Math.min(maxOffset, currentOffset));\n          break;\n      }\n\n      var totalSize = this.getTotalSize();\n\n      return Math.max(0, Math.min(totalSize - containerSize, idealOffset));\n    }\n  }, {\n    key: 'getVisibleCellRange',\n    value: function getVisibleCellRange(params) {\n      var containerSize = params.containerSize,\n          offset = params.offset;\n\n\n      var totalSize = this.getTotalSize();\n\n      if (totalSize === 0) {\n        return {};\n      }\n\n      var maxOffset = offset + containerSize;\n      var start = this._findNearestCell(offset);\n\n      var datum = this.getSizeAndPositionOfCell(start);\n      offset = datum.offset + datum.size;\n\n      var stop = start;\n\n      while (offset < maxOffset && stop < this._cellCount - 1) {\n        stop++;\n\n        offset += this.getSizeAndPositionOfCell(stop).size;\n      }\n\n      return {\n        start: start,\n        stop: stop\n      };\n    }\n\n    /**\n     * Clear all cached values for cells after the specified index.\n     * This method should be called for any cell that has changed its size.\n     * It will not immediately perform any calculations; they'll be performed the next time getSizeAndPositionOfCell() is called.\n     */\n\n  }, {\n    key: 'resetCell',\n    value: function resetCell(index) {\n      this._lastMeasuredIndex = Math.min(this._lastMeasuredIndex, index - 1);\n    }\n  }, {\n    key: '_binarySearch',\n    value: function _binarySearch(high, low, offset) {\n      while (low <= high) {\n        var middle = low + Math.floor((high - low) / 2);\n        var _currentOffset = this.getSizeAndPositionOfCell(middle).offset;\n\n        if (_currentOffset === offset) {\n          return middle;\n        } else if (_currentOffset < offset) {\n          low = middle + 1;\n        } else if (_currentOffset > offset) {\n          high = middle - 1;\n        }\n      }\n\n      if (low > 0) {\n        return low - 1;\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: '_exponentialSearch',\n    value: function _exponentialSearch(index, offset) {\n      var interval = 1;\n\n      while (index < this._cellCount && this.getSizeAndPositionOfCell(index).offset < offset) {\n        index += interval;\n        interval *= 2;\n      }\n\n      return this._binarySearch(Math.min(index, this._cellCount - 1), Math.floor(index / 2), offset);\n    }\n\n    /**\n     * Searches for the cell (index) nearest the specified offset.\n     *\n     * If no exact match is found the next lowest cell index will be returned.\n     * This allows partially visible cells (with offsets just before/above the fold) to be visible.\n     */\n\n  }, {\n    key: '_findNearestCell',\n    value: function _findNearestCell(offset) {\n      if (isNaN(offset)) {\n        throw Error('Invalid offset ' + offset + ' specified');\n      }\n\n      // Our search algorithms find the nearest match at or below the specified offset.\n      // So make sure the offset is at least 0 or no match will be found.\n      offset = Math.max(0, offset);\n\n      var lastMeasuredCellSizeAndPosition = this.getSizeAndPositionOfLastMeasuredCell();\n      var lastMeasuredIndex = Math.max(0, this._lastMeasuredIndex);\n\n      if (lastMeasuredCellSizeAndPosition.offset >= offset) {\n        // If we've already measured cells within this range just use a binary search as it's faster.\n        return this._binarySearch(lastMeasuredIndex, 0, offset);\n      } else {\n        // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n        // The exponential search avoids pre-computing sizes for the full set of cells as a binary search would.\n        // The overall complexity for this approach is O(log n).\n        return this._exponentialSearch(lastMeasuredIndex, offset);\n      }\n    }\n  }]);\n\n  return CellSizeAndPositionManager;\n}();\n\n/* harmony default export */ const utils_CellSizeAndPositionManager = (CellSizeAndPositionManager);\n\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Grid/utils/maxElementSize.js\nvar DEFAULT_MAX_ELEMENT_SIZE = 1500000;\nvar CHROME_MAX_ELEMENT_SIZE = 1.67771e7;\n\nvar isBrowser = function isBrowser() {\n  return typeof window !== 'undefined';\n};\n\nvar isChrome = function isChrome() {\n  return !!window.chrome && !!window.chrome.webstore;\n};\n\nvar getMaxElementSize = function getMaxElementSize() {\n  if (isBrowser()) {\n    if (isChrome()) {\n      return CHROME_MAX_ELEMENT_SIZE;\n    }\n  }\n  return DEFAULT_MAX_ELEMENT_SIZE;\n};\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Grid/utils/ScalingCellSizeAndPositionManager.js\n\n\n\n\n\n\n\n\n\n/**\n * Browsers have scroll offset limitations (eg Chrome stops scrolling at ~33.5M pixels where as Edge tops out at ~1.5M pixels).\n * After a certain position, the browser won't allow the user to scroll further (even via JavaScript scroll offset adjustments).\n * This util picks a lower ceiling for max size and artificially adjusts positions within to make it transparent for users.\n */\n\n/**\n * Extends CellSizeAndPositionManager and adds scaling behavior for lists that are too large to fit within a browser's native limits.\n */\nvar ScalingCellSizeAndPositionManager = function () {\n  function ScalingCellSizeAndPositionManager(_ref) {\n    var _ref$maxScrollSize = _ref.maxScrollSize,\n        maxScrollSize = _ref$maxScrollSize === undefined ? getMaxElementSize() : _ref$maxScrollSize,\n        params = (0,objectWithoutProperties/* default */.Z)(_ref, ['maxScrollSize']);\n\n    (0,classCallCheck/* default */.Z)(this, ScalingCellSizeAndPositionManager);\n\n    // Favor composition over inheritance to simplify IE10 support\n    this._cellSizeAndPositionManager = new utils_CellSizeAndPositionManager(params);\n    this._maxScrollSize = maxScrollSize;\n  }\n\n  (0,createClass/* default */.Z)(ScalingCellSizeAndPositionManager, [{\n    key: 'areOffsetsAdjusted',\n    value: function areOffsetsAdjusted() {\n      return this._cellSizeAndPositionManager.getTotalSize() > this._maxScrollSize;\n    }\n  }, {\n    key: 'configure',\n    value: function configure(params) {\n      this._cellSizeAndPositionManager.configure(params);\n    }\n  }, {\n    key: 'getCellCount',\n    value: function getCellCount() {\n      return this._cellSizeAndPositionManager.getCellCount();\n    }\n  }, {\n    key: 'getEstimatedCellSize',\n    value: function getEstimatedCellSize() {\n      return this._cellSizeAndPositionManager.getEstimatedCellSize();\n    }\n  }, {\n    key: 'getLastMeasuredIndex',\n    value: function getLastMeasuredIndex() {\n      return this._cellSizeAndPositionManager.getLastMeasuredIndex();\n    }\n\n    /**\n     * Number of pixels a cell at the given position (offset) should be shifted in order to fit within the scaled container.\n     * The offset passed to this function is scaled (safe) as well.\n     */\n\n  }, {\n    key: 'getOffsetAdjustment',\n    value: function getOffsetAdjustment(_ref2) {\n      var containerSize = _ref2.containerSize,\n          offset = _ref2.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n      var safeTotalSize = this.getTotalSize();\n      var offsetPercentage = this._getOffsetPercentage({\n        containerSize: containerSize,\n        offset: offset,\n        totalSize: safeTotalSize\n      });\n\n      return Math.round(offsetPercentage * (safeTotalSize - totalSize));\n    }\n  }, {\n    key: 'getSizeAndPositionOfCell',\n    value: function getSizeAndPositionOfCell(index) {\n      return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(index);\n    }\n  }, {\n    key: 'getSizeAndPositionOfLastMeasuredCell',\n    value: function getSizeAndPositionOfLastMeasuredCell() {\n      return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell();\n    }\n\n    /** See CellSizeAndPositionManager#getTotalSize */\n\n  }, {\n    key: 'getTotalSize',\n    value: function getTotalSize() {\n      return Math.min(this._maxScrollSize, this._cellSizeAndPositionManager.getTotalSize());\n    }\n\n    /** See CellSizeAndPositionManager#getUpdatedOffsetForIndex */\n\n  }, {\n    key: 'getUpdatedOffsetForIndex',\n    value: function getUpdatedOffsetForIndex(_ref3) {\n      var _ref3$align = _ref3.align,\n          align = _ref3$align === undefined ? 'auto' : _ref3$align,\n          containerSize = _ref3.containerSize,\n          currentOffset = _ref3.currentOffset,\n          targetIndex = _ref3.targetIndex;\n\n      currentOffset = this._safeOffsetToOffset({\n        containerSize: containerSize,\n        offset: currentOffset\n      });\n\n      var offset = this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({\n        align: align,\n        containerSize: containerSize,\n        currentOffset: currentOffset,\n        targetIndex: targetIndex\n      });\n\n      return this._offsetToSafeOffset({\n        containerSize: containerSize,\n        offset: offset\n      });\n    }\n\n    /** See CellSizeAndPositionManager#getVisibleCellRange */\n\n  }, {\n    key: 'getVisibleCellRange',\n    value: function getVisibleCellRange(_ref4) {\n      var containerSize = _ref4.containerSize,\n          offset = _ref4.offset;\n\n      offset = this._safeOffsetToOffset({\n        containerSize: containerSize,\n        offset: offset\n      });\n\n      return this._cellSizeAndPositionManager.getVisibleCellRange({\n        containerSize: containerSize,\n        offset: offset\n      });\n    }\n  }, {\n    key: 'resetCell',\n    value: function resetCell(index) {\n      this._cellSizeAndPositionManager.resetCell(index);\n    }\n  }, {\n    key: '_getOffsetPercentage',\n    value: function _getOffsetPercentage(_ref5) {\n      var containerSize = _ref5.containerSize,\n          offset = _ref5.offset,\n          totalSize = _ref5.totalSize;\n\n      return totalSize <= containerSize ? 0 : offset / (totalSize - containerSize);\n    }\n  }, {\n    key: '_offsetToSafeOffset',\n    value: function _offsetToSafeOffset(_ref6) {\n      var containerSize = _ref6.containerSize,\n          offset = _ref6.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n      var safeTotalSize = this.getTotalSize();\n\n      if (totalSize === safeTotalSize) {\n        return offset;\n      } else {\n        var offsetPercentage = this._getOffsetPercentage({\n          containerSize: containerSize,\n          offset: offset,\n          totalSize: totalSize\n        });\n\n        return Math.round(offsetPercentage * (safeTotalSize - containerSize));\n      }\n    }\n  }, {\n    key: '_safeOffsetToOffset',\n    value: function _safeOffsetToOffset(_ref7) {\n      var containerSize = _ref7.containerSize,\n          offset = _ref7.offset;\n\n      var totalSize = this._cellSizeAndPositionManager.getTotalSize();\n      var safeTotalSize = this.getTotalSize();\n\n      if (totalSize === safeTotalSize) {\n        return offset;\n      } else {\n        var offsetPercentage = this._getOffsetPercentage({\n          containerSize: containerSize,\n          offset: offset,\n          totalSize: safeTotalSize\n        });\n\n        return Math.round(offsetPercentage * (totalSize - containerSize));\n      }\n    }\n  }]);\n\n  return ScalingCellSizeAndPositionManager;\n}();\n\n/* harmony default export */ const utils_ScalingCellSizeAndPositionManager = (ScalingCellSizeAndPositionManager);\n\n\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/keys.js\nvar object_keys = __webpack_require__(88902);\nvar keys_default = /*#__PURE__*/__webpack_require__.n(object_keys);\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/utils/createCallbackMemoizer.js\n\n/**\n * Helper utility that updates the specified callback whenever any of the specified indices have changed.\n */\nfunction createCallbackMemoizer() {\n  var requireAllKeys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  var cachedIndices = {};\n\n  return function (_ref) {\n    var callback = _ref.callback,\n        indices = _ref.indices;\n\n    var keys = keys_default()(indices);\n    var allInitialized = !requireAllKeys || keys.every(function (key) {\n      var value = indices[key];\n      return Array.isArray(value) ? value.length > 0 : value >= 0;\n    });\n    var indexChanged = keys.length !== keys_default()(cachedIndices).length || keys.some(function (key) {\n      var cachedValue = cachedIndices[key];\n      var value = indices[key];\n\n      return Array.isArray(value) ? cachedValue.join(',') !== value.join(',') : cachedValue !== value;\n    });\n\n    cachedIndices = indices;\n\n    if (allInitialized && indexChanged) {\n      callback(indices);\n    }\n  };\n}\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Grid/defaultOverscanIndicesGetter.js\n\n\nvar SCROLL_DIRECTION_BACKWARD = -1;\n\nvar SCROLL_DIRECTION_FORWARD = 1;\n\nvar SCROLL_DIRECTION_HORIZONTAL = 'horizontal';\nvar SCROLL_DIRECTION_VERTICAL = 'vertical';\n\n/**\n * Calculates the number of cells to overscan before and after a specified range.\n * This function ensures that overscanning doesn't exceed the available cells.\n */\n\nfunction defaultOverscanIndicesGetter(_ref) {\n  var cellCount = _ref.cellCount,\n      overscanCellsCount = _ref.overscanCellsCount,\n      scrollDirection = _ref.scrollDirection,\n      startIndex = _ref.startIndex,\n      stopIndex = _ref.stopIndex;\n\n  if (scrollDirection === SCROLL_DIRECTION_FORWARD) {\n    return {\n      overscanStartIndex: Math.max(0, startIndex),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)\n    };\n  } else {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex)\n    };\n  }\n}\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Grid/utils/updateScrollIndexHelper.js\n\n\n\n\n/**\n * Helper function that determines when to update scroll offsets to ensure that a scroll-to-index remains visible.\n * This function also ensures that the scroll ofset isn't past the last column/row of cells.\n */\n\nfunction updateScrollIndexHelper(_ref) {\n  var cellSize = _ref.cellSize,\n      cellSizeAndPositionManager = _ref.cellSizeAndPositionManager,\n      previousCellsCount = _ref.previousCellsCount,\n      previousCellSize = _ref.previousCellSize,\n      previousScrollToAlignment = _ref.previousScrollToAlignment,\n      previousScrollToIndex = _ref.previousScrollToIndex,\n      previousSize = _ref.previousSize,\n      scrollOffset = _ref.scrollOffset,\n      scrollToAlignment = _ref.scrollToAlignment,\n      scrollToIndex = _ref.scrollToIndex,\n      size = _ref.size,\n      sizeJustIncreasedFromZero = _ref.sizeJustIncreasedFromZero,\n      updateScrollIndexCallback = _ref.updateScrollIndexCallback;\n\n  var cellCount = cellSizeAndPositionManager.getCellCount();\n  var hasScrollToIndex = scrollToIndex >= 0 && scrollToIndex < cellCount;\n  var sizeHasChanged = size !== previousSize || sizeJustIncreasedFromZero || !previousCellSize || typeof cellSize === 'number' && cellSize !== previousCellSize;\n\n  // If we have a new scroll target OR if height/row-height has changed,\n  // We should ensure that the scroll target is visible.\n  if (hasScrollToIndex && (sizeHasChanged || scrollToAlignment !== previousScrollToAlignment || scrollToIndex !== previousScrollToIndex)) {\n    updateScrollIndexCallback(scrollToIndex);\n\n    // If we don't have a selected item but list size or number of children have decreased,\n    // Make sure we aren't scrolled too far past the current content.\n  } else if (!hasScrollToIndex && cellCount > 0 && (size < previousSize || cellCount < previousCellsCount)) {\n    // We need to ensure that the current scroll offset is still within the collection's range.\n    // To do this, we don't need to measure everything; CellMeasurer would perform poorly.\n    // Just check to make sure we're still okay.\n    // Only adjust the scroll position if we've scrolled below the last set of rows.\n    if (scrollOffset > cellSizeAndPositionManager.getTotalSize() - size) {\n      updateScrollIndexCallback(cellCount - 1);\n    }\n  }\n}\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Grid/defaultCellRangeRenderer.js\n\n\n/**\n * Default implementation of cellRangeRenderer used by Grid.\n * This renderer supports cell-caching while the user is scrolling.\n */\n\nfunction defaultCellRangeRenderer(_ref) {\n  var cellCache = _ref.cellCache,\n      cellRenderer = _ref.cellRenderer,\n      columnSizeAndPositionManager = _ref.columnSizeAndPositionManager,\n      columnStartIndex = _ref.columnStartIndex,\n      columnStopIndex = _ref.columnStopIndex,\n      deferredMeasurementCache = _ref.deferredMeasurementCache,\n      horizontalOffsetAdjustment = _ref.horizontalOffsetAdjustment,\n      isScrolling = _ref.isScrolling,\n      isScrollingOptOut = _ref.isScrollingOptOut,\n      parent = _ref.parent,\n      rowSizeAndPositionManager = _ref.rowSizeAndPositionManager,\n      rowStartIndex = _ref.rowStartIndex,\n      rowStopIndex = _ref.rowStopIndex,\n      styleCache = _ref.styleCache,\n      verticalOffsetAdjustment = _ref.verticalOffsetAdjustment,\n      visibleColumnIndices = _ref.visibleColumnIndices,\n      visibleRowIndices = _ref.visibleRowIndices;\n\n  var renderedCells = [];\n\n  // Browsers have native size limits for elements (eg Chrome 33M pixels, IE 1.5M pixes).\n  // User cannot scroll beyond these size limitations.\n  // In order to work around this, ScalingCellSizeAndPositionManager compresses offsets.\n  // We should never cache styles for compressed offsets though as this can lead to bugs.\n  // See issue #576 for more.\n  var areOffsetsAdjusted = columnSizeAndPositionManager.areOffsetsAdjusted() || rowSizeAndPositionManager.areOffsetsAdjusted();\n\n  var canCacheStyle = !isScrolling && !areOffsetsAdjusted;\n\n  for (var rowIndex = rowStartIndex; rowIndex <= rowStopIndex; rowIndex++) {\n    var rowDatum = rowSizeAndPositionManager.getSizeAndPositionOfCell(rowIndex);\n\n    for (var columnIndex = columnStartIndex; columnIndex <= columnStopIndex; columnIndex++) {\n      var columnDatum = columnSizeAndPositionManager.getSizeAndPositionOfCell(columnIndex);\n      var isVisible = columnIndex >= visibleColumnIndices.start && columnIndex <= visibleColumnIndices.stop && rowIndex >= visibleRowIndices.start && rowIndex <= visibleRowIndices.stop;\n      var key = rowIndex + '-' + columnIndex;\n      var style = void 0;\n\n      // Cache style objects so shallow-compare doesn't re-render unnecessarily.\n      if (canCacheStyle && styleCache[key]) {\n        style = styleCache[key];\n      } else {\n        // In deferred mode, cells will be initially rendered before we know their size.\n        // Don't interfere with CellMeasurer's measurements by setting an invalid size.\n        if (deferredMeasurementCache && !deferredMeasurementCache.has(rowIndex, columnIndex)) {\n          // Position not-yet-measured cells at top/left 0,0,\n          // And give them width/height of 'auto' so they can grow larger than the parent Grid if necessary.\n          // Positioning them further to the right/bottom influences their measured size.\n          style = {\n            height: 'auto',\n            left: 0,\n            position: 'absolute',\n            top: 0,\n            width: 'auto'\n          };\n        } else {\n          style = {\n            height: rowDatum.size,\n            left: columnDatum.offset + horizontalOffsetAdjustment,\n            position: 'absolute',\n            top: rowDatum.offset + verticalOffsetAdjustment,\n            width: columnDatum.size\n          };\n\n          styleCache[key] = style;\n        }\n      }\n\n      var cellRendererParams = {\n        columnIndex: columnIndex,\n        isScrolling: isScrolling,\n        isVisible: isVisible,\n        key: key,\n        parent: parent,\n        rowIndex: rowIndex,\n        style: style\n      };\n\n      var renderedCell = void 0;\n\n      // Avoid re-creating cells while scrolling.\n      // This can lead to the same cell being created many times and can cause performance issues for \"heavy\" cells.\n      // If a scroll is in progress- cache and reuse cells.\n      // This cache will be thrown away once scrolling completes.\n      // However if we are scaling scroll positions and sizes, we should also avoid caching.\n      // This is because the offset changes slightly as scroll position changes and caching leads to stale values.\n      // For more info refer to issue #395\n      //\n      // If isScrollingOptOut is specified, we always cache cells.\n      // For more info refer to issue #1028\n      if ((isScrollingOptOut || isScrolling) && !horizontalOffsetAdjustment && !verticalOffsetAdjustment) {\n        if (!cellCache[key]) {\n          cellCache[key] = cellRenderer(cellRendererParams);\n        }\n\n        renderedCell = cellCache[key];\n\n        // If the user is no longer scrolling, don't cache cells.\n        // This makes dynamic cell content difficult for users and would also lead to a heavier memory footprint.\n      } else {\n        renderedCell = cellRenderer(cellRendererParams);\n      }\n\n      if (renderedCell == null || renderedCell === false) {\n        continue;\n      }\n\n      if (false) {}\n\n      renderedCells.push(renderedCell);\n    }\n  }\n\n  return renderedCells;\n}\n\nfunction warnAboutMissingStyle(parent, renderedCell) {\n  if (false) {}\n}\n\n// EXTERNAL MODULE: ./node_modules/dom-helpers/util/scrollbarSize.js\nvar scrollbarSize = __webpack_require__(44825);\nvar scrollbarSize_default = /*#__PURE__*/__webpack_require__.n(scrollbarSize);\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/promise.js\nvar promise = __webpack_require__(46593);\nvar promise_default = /*#__PURE__*/__webpack_require__.n(promise);\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/utils/animationFrame.js\n\n\n// Properly handle server-side rendering.\nvar win = void 0;\n\nif (typeof window !== 'undefined') {\n  win = window;\n} else if (typeof self !== 'undefined') {\n  win = self;\n} else {\n  win = {};\n}\n\n// requestAnimationFrame() shim by Paul Irish\n// http://paulirish.com/2011/requestanimationframe-for-smart-animating/\nvar animationFrame_request = win.requestAnimationFrame || win.webkitRequestAnimationFrame || win.mozRequestAnimationFrame || win.oRequestAnimationFrame || win.msRequestAnimationFrame || function (callback) {\n  return win.setTimeout(callback, 1000 / 60);\n};\n\nvar cancel = win.cancelAnimationFrame || win.webkitCancelAnimationFrame || win.mozCancelAnimationFrame || win.oCancelAnimationFrame || win.msCancelAnimationFrame || function (id) {\n  win.clearTimeout(id);\n};\n\nvar raf = animationFrame_request;\nvar caf = cancel;\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/utils/requestAnimationTimeout.js\n\n\n\nvar bpfrpt_proptype_AnimationTimeoutId =  true ? null : 0;\n\n\nvar cancelAnimationTimeout = function cancelAnimationTimeout(frame) {\n  return caf(frame.id);\n};\n\n/**\n * Recursively calls requestAnimationFrame until a specified delay has been met or exceeded.\n * When the delay time has been reached the function you're timing out will be called.\n *\n * Credit: Joe Lambert (https://gist.github.com/joelambert/1002116#file-requesttimeout-js)\n */\nvar requestAnimationTimeout = function requestAnimationTimeout(callback, delay) {\n  var start = void 0;\n  // wait for end of processing current event handler, because event handler may be long\n  promise_default().resolve().then(function () {\n    start = Date.now();\n  });\n\n  var timeout = function timeout() {\n    if (Date.now() - start >= delay) {\n      callback.call();\n    } else {\n      frame.id = raf(timeout);\n    }\n  };\n\n  var frame = {\n    id: raf(timeout)\n  };\n\n  return frame;\n};\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Grid/Grid.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Specifies the number of milliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\nvar DEFAULT_SCROLLING_RESET_TIME_INTERVAL = 150;\n\n/**\n * Controls whether the Grid updates the DOM element's scrollLeft/scrollTop based on the current state or just observes it.\n * This prevents Grid from interrupting mouse-wheel animations (see issue #2).\n */\nvar SCROLL_POSITION_CHANGE_REASONS = {\n  OBSERVED: 'observed',\n  REQUESTED: 'requested'\n};\n\nvar renderNull = function renderNull() {\n  return null;\n};\n\n/**\n * Renders tabular data with virtualization along the vertical and horizontal axes.\n * Row heights and column widths must be known ahead of time and specified as properties.\n */\nvar Grid = function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(Grid, _React$PureComponent);\n\n  // Invokes onSectionRendered callback only when start/stop row or column indices change\n  function Grid(props) {\n    (0,classCallCheck/* default */.Z)(this, Grid);\n\n    var _this = (0,possibleConstructorReturn/* default */.Z)(this, (Grid.__proto__ || get_prototype_of_default()(Grid)).call(this, props));\n\n    _this._onGridRenderedMemoizer = createCallbackMemoizer();\n    _this._onScrollMemoizer = createCallbackMemoizer(false);\n    _this._deferredInvalidateColumnIndex = null;\n    _this._deferredInvalidateRowIndex = null;\n    _this._recomputeScrollLeftFlag = false;\n    _this._recomputeScrollTopFlag = false;\n    _this._horizontalScrollBarSize = 0;\n    _this._verticalScrollBarSize = 0;\n    _this._scrollbarPresenceChanged = false;\n    _this._renderedColumnStartIndex = 0;\n    _this._renderedColumnStopIndex = 0;\n    _this._renderedRowStartIndex = 0;\n    _this._renderedRowStopIndex = 0;\n    _this._styleCache = {};\n    _this._cellCache = {};\n\n    _this._debounceScrollEndedCallback = function () {\n      _this._disablePointerEventsTimeoutId = null;\n      // isScrolling is used to determine if we reset styleCache\n      _this.setState({\n        isScrolling: false,\n        needToResetStyleCache: false\n      });\n    };\n\n    _this._invokeOnGridRenderedHelper = function () {\n      var onSectionRendered = _this.props.onSectionRendered;\n\n\n      _this._onGridRenderedMemoizer({\n        callback: onSectionRendered,\n        indices: {\n          columnOverscanStartIndex: _this._columnStartIndex,\n          columnOverscanStopIndex: _this._columnStopIndex,\n          columnStartIndex: _this._renderedColumnStartIndex,\n          columnStopIndex: _this._renderedColumnStopIndex,\n          rowOverscanStartIndex: _this._rowStartIndex,\n          rowOverscanStopIndex: _this._rowStopIndex,\n          rowStartIndex: _this._renderedRowStartIndex,\n          rowStopIndex: _this._renderedRowStopIndex\n        }\n      });\n    };\n\n    _this._setScrollingContainerRef = function (ref) {\n      _this._scrollingContainer = ref;\n    };\n\n    _this._onScroll = function (event) {\n      // In certain edge-cases React dispatches an onScroll event with an invalid target.scrollLeft / target.scrollTop.\n      // This invalid event can be detected by comparing event.target to this component's scrollable DOM element.\n      // See issue #404 for more information.\n      if (event.target === _this._scrollingContainer) {\n        _this.handleScrollEvent(event.target);\n      }\n    };\n\n    var columnSizeAndPositionManager = new utils_ScalingCellSizeAndPositionManager({\n      cellCount: props.columnCount,\n      cellSizeGetter: function cellSizeGetter(params) {\n        return Grid._wrapSizeGetter(props.columnWidth)(params);\n      },\n      estimatedCellSize: Grid._getEstimatedColumnSize(props)\n    });\n    var rowSizeAndPositionManager = new utils_ScalingCellSizeAndPositionManager({\n      cellCount: props.rowCount,\n      cellSizeGetter: function cellSizeGetter(params) {\n        return Grid._wrapSizeGetter(props.rowHeight)(params);\n      },\n      estimatedCellSize: Grid._getEstimatedRowSize(props)\n    });\n\n    _this.state = {\n      instanceProps: {\n        columnSizeAndPositionManager: columnSizeAndPositionManager,\n        rowSizeAndPositionManager: rowSizeAndPositionManager,\n\n        prevColumnWidth: props.columnWidth,\n        prevRowHeight: props.rowHeight,\n        prevColumnCount: props.columnCount,\n        prevRowCount: props.rowCount,\n        prevIsScrolling: props.isScrolling === true,\n        prevScrollToColumn: props.scrollToColumn,\n        prevScrollToRow: props.scrollToRow,\n\n        scrollbarSize: 0,\n        scrollbarSizeMeasured: false\n      },\n      isScrolling: false,\n      scrollDirectionHorizontal: SCROLL_DIRECTION_FORWARD,\n      scrollDirectionVertical: SCROLL_DIRECTION_FORWARD,\n      scrollLeft: 0,\n      scrollTop: 0,\n      scrollPositionChangeReason: null,\n\n      needToResetStyleCache: false\n    };\n\n    if (props.scrollToRow > 0) {\n      _this._initialScrollTop = _this._getCalculatedScrollTop(props, _this.state);\n    }\n    if (props.scrollToColumn > 0) {\n      _this._initialScrollLeft = _this._getCalculatedScrollLeft(props, _this.state);\n    }\n    return _this;\n  }\n\n  /**\n   * Gets offsets for a given cell and alignment.\n   */\n\n\n  (0,createClass/* default */.Z)(Grid, [{\n    key: 'getOffsetForCell',\n    value: function getOffsetForCell() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$alignment = _ref.alignment,\n          alignment = _ref$alignment === undefined ? this.props.scrollToAlignment : _ref$alignment,\n          _ref$columnIndex = _ref.columnIndex,\n          columnIndex = _ref$columnIndex === undefined ? this.props.scrollToColumn : _ref$columnIndex,\n          _ref$rowIndex = _ref.rowIndex,\n          rowIndex = _ref$rowIndex === undefined ? this.props.scrollToRow : _ref$rowIndex;\n\n      var offsetProps = (0,helpers_extends/* default */.Z)({}, this.props, {\n        scrollToAlignment: alignment,\n        scrollToColumn: columnIndex,\n        scrollToRow: rowIndex\n      });\n\n      return {\n        scrollLeft: this._getCalculatedScrollLeft(offsetProps),\n        scrollTop: this._getCalculatedScrollTop(offsetProps)\n      };\n    }\n\n    /**\n     * Gets estimated total rows' height.\n     */\n\n  }, {\n    key: 'getTotalRowsHeight',\n    value: function getTotalRowsHeight() {\n      return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize();\n    }\n\n    /**\n     * Gets estimated total columns' width.\n     */\n\n  }, {\n    key: 'getTotalColumnsWidth',\n    value: function getTotalColumnsWidth() {\n      return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize();\n    }\n\n    /**\n     * This method handles a scroll event originating from an external scroll control.\n     * It's an advanced method and should probably not be used unless you're implementing a custom scroll-bar solution.\n     */\n\n  }, {\n    key: 'handleScrollEvent',\n    value: function handleScrollEvent(_ref2) {\n      var _ref2$scrollLeft = _ref2.scrollLeft,\n          scrollLeftParam = _ref2$scrollLeft === undefined ? 0 : _ref2$scrollLeft,\n          _ref2$scrollTop = _ref2.scrollTop,\n          scrollTopParam = _ref2$scrollTop === undefined ? 0 : _ref2$scrollTop;\n\n      // On iOS, we can arrive at negative offsets by swiping past the start.\n      // To prevent flicker here, we make playing in the negative offset zone cause nothing to happen.\n      if (scrollTopParam < 0) {\n        return;\n      }\n\n      // Prevent pointer events from interrupting a smooth scroll\n      this._debounceScrollEnded();\n\n      var _props = this.props,\n          autoHeight = _props.autoHeight,\n          autoWidth = _props.autoWidth,\n          height = _props.height,\n          width = _props.width;\n      var instanceProps = this.state.instanceProps;\n\n      // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,\n      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.\n      // This causes a series of rapid renders that is slow for long lists.\n      // We can avoid that by doing some simple bounds checking to ensure that scroll offsets never exceed their bounds.\n\n      var scrollbarSize = instanceProps.scrollbarSize;\n      var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n      var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n      var scrollLeft = Math.min(Math.max(0, totalColumnsWidth - width + scrollbarSize), scrollLeftParam);\n      var scrollTop = Math.min(Math.max(0, totalRowsHeight - height + scrollbarSize), scrollTopParam);\n\n      // Certain devices (like Apple touchpad) rapid-fire duplicate events.\n      // Don't force a re-render if this is the case.\n      // The mouse may move faster then the animation frame does.\n      // Use requestAnimationFrame to avoid over-updating.\n      if (this.state.scrollLeft !== scrollLeft || this.state.scrollTop !== scrollTop) {\n        // Track scrolling direction so we can more efficiently overscan rows to reduce empty space around the edges while scrolling.\n        // Don't change direction for an axis unless scroll offset has changed.\n        var _scrollDirectionHorizontal = scrollLeft !== this.state.scrollLeft ? scrollLeft > this.state.scrollLeft ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD : this.state.scrollDirectionHorizontal;\n        var _scrollDirectionVertical = scrollTop !== this.state.scrollTop ? scrollTop > this.state.scrollTop ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD : this.state.scrollDirectionVertical;\n\n        var newState = {\n          isScrolling: true,\n          scrollDirectionHorizontal: _scrollDirectionHorizontal,\n          scrollDirectionVertical: _scrollDirectionVertical,\n          scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.OBSERVED\n        };\n\n        if (!autoHeight) {\n          newState.scrollTop = scrollTop;\n        }\n\n        if (!autoWidth) {\n          newState.scrollLeft = scrollLeft;\n        }\n\n        newState.needToResetStyleCache = false;\n        this.setState(newState);\n      }\n\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        totalColumnsWidth: totalColumnsWidth,\n        totalRowsHeight: totalRowsHeight\n      });\n    }\n\n    /**\n     * Invalidate Grid size and recompute visible cells.\n     * This is a deferred wrapper for recomputeGridSize().\n     * It sets a flag to be evaluated on cDM/cDU to avoid unnecessary renders.\n     * This method is intended for advanced use-cases like CellMeasurer.\n     */\n    // @TODO (bvaughn) Add automated test coverage for this.\n\n  }, {\n    key: 'invalidateCellSizeAfterRender',\n    value: function invalidateCellSizeAfterRender(_ref3) {\n      var columnIndex = _ref3.columnIndex,\n          rowIndex = _ref3.rowIndex;\n\n      this._deferredInvalidateColumnIndex = typeof this._deferredInvalidateColumnIndex === 'number' ? Math.min(this._deferredInvalidateColumnIndex, columnIndex) : columnIndex;\n      this._deferredInvalidateRowIndex = typeof this._deferredInvalidateRowIndex === 'number' ? Math.min(this._deferredInvalidateRowIndex, rowIndex) : rowIndex;\n    }\n\n    /**\n     * Pre-measure all columns and rows in a Grid.\n     * Typically cells are only measured as needed and estimated sizes are used for cells that have not yet been measured.\n     * This method ensures that the next call to getTotalSize() returns an exact size (as opposed to just an estimated one).\n     */\n\n  }, {\n    key: 'measureAllCells',\n    value: function measureAllCells() {\n      var _props2 = this.props,\n          columnCount = _props2.columnCount,\n          rowCount = _props2.rowCount;\n      var instanceProps = this.state.instanceProps;\n\n      instanceProps.columnSizeAndPositionManager.getSizeAndPositionOfCell(columnCount - 1);\n      instanceProps.rowSizeAndPositionManager.getSizeAndPositionOfCell(rowCount - 1);\n    }\n\n    /**\n     * Forced recompute of row heights and column widths.\n     * This function should be called if dynamic column or row sizes have changed but nothing else has.\n     * Since Grid only receives :columnCount and :rowCount it has no way of detecting when the underlying data changes.\n     */\n\n  }, {\n    key: 'recomputeGridSize',\n    value: function recomputeGridSize() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$columnIndex = _ref4.columnIndex,\n          columnIndex = _ref4$columnIndex === undefined ? 0 : _ref4$columnIndex,\n          _ref4$rowIndex = _ref4.rowIndex,\n          rowIndex = _ref4$rowIndex === undefined ? 0 : _ref4$rowIndex;\n\n      var _props3 = this.props,\n          scrollToColumn = _props3.scrollToColumn,\n          scrollToRow = _props3.scrollToRow;\n      var instanceProps = this.state.instanceProps;\n\n\n      instanceProps.columnSizeAndPositionManager.resetCell(columnIndex);\n      instanceProps.rowSizeAndPositionManager.resetCell(rowIndex);\n\n      // Cell sizes may be determined by a function property.\n      // In this case the cDU handler can't know if they changed.\n      // Store this flag to let the next cDU pass know it needs to recompute the scroll offset.\n      this._recomputeScrollLeftFlag = scrollToColumn >= 0 && (this.state.scrollDirectionHorizontal === SCROLL_DIRECTION_FORWARD ? columnIndex <= scrollToColumn : columnIndex >= scrollToColumn);\n      this._recomputeScrollTopFlag = scrollToRow >= 0 && (this.state.scrollDirectionVertical === SCROLL_DIRECTION_FORWARD ? rowIndex <= scrollToRow : rowIndex >= scrollToRow);\n\n      // Clear cell cache in case we are scrolling;\n      // Invalid row heights likely mean invalid cached content as well.\n      this._styleCache = {};\n      this._cellCache = {};\n\n      this.forceUpdate();\n    }\n\n    /**\n     * Ensure column and row are visible.\n     */\n\n  }, {\n    key: 'scrollToCell',\n    value: function scrollToCell(_ref5) {\n      var columnIndex = _ref5.columnIndex,\n          rowIndex = _ref5.rowIndex;\n      var columnCount = this.props.columnCount;\n\n\n      var props = this.props;\n\n      // Don't adjust scroll offset for single-column grids (eg List, Table).\n      // This can cause a funky scroll offset because of the vertical scrollbar width.\n      if (columnCount > 1 && columnIndex !== undefined) {\n        this._updateScrollLeftForScrollToColumn((0,helpers_extends/* default */.Z)({}, props, {\n          scrollToColumn: columnIndex\n        }));\n      }\n\n      if (rowIndex !== undefined) {\n        this._updateScrollTopForScrollToRow((0,helpers_extends/* default */.Z)({}, props, {\n          scrollToRow: rowIndex\n        }));\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props4 = this.props,\n          getScrollbarSize = _props4.getScrollbarSize,\n          height = _props4.height,\n          scrollLeft = _props4.scrollLeft,\n          scrollToColumn = _props4.scrollToColumn,\n          scrollTop = _props4.scrollTop,\n          scrollToRow = _props4.scrollToRow,\n          width = _props4.width;\n      var instanceProps = this.state.instanceProps;\n\n      // Reset initial offsets to be ignored in browser\n\n      this._initialScrollTop = 0;\n      this._initialScrollLeft = 0;\n\n      // If cell sizes have been invalidated (eg we are using CellMeasurer) then reset cached positions.\n      // We must do this at the start of the method as we may calculate and update scroll position below.\n      this._handleInvalidatedGridSize();\n\n      // If this component was first rendered server-side, scrollbar size will be undefined.\n      // In that event we need to remeasure.\n      if (!instanceProps.scrollbarSizeMeasured) {\n        this.setState(function (prevState) {\n          var stateUpdate = (0,helpers_extends/* default */.Z)({}, prevState, { needToResetStyleCache: false });\n          stateUpdate.instanceProps.scrollbarSize = getScrollbarSize();\n          stateUpdate.instanceProps.scrollbarSizeMeasured = true;\n          return stateUpdate;\n        });\n      }\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0 || typeof scrollTop === 'number' && scrollTop >= 0) {\n        var stateUpdate = Grid._getScrollToPositionStateUpdate({\n          prevState: this.state,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        });\n        if (stateUpdate) {\n          stateUpdate.needToResetStyleCache = false;\n          this.setState(stateUpdate);\n        }\n      }\n\n      // refs don't work in `react-test-renderer`\n      if (this._scrollingContainer) {\n        // setting the ref's scrollLeft and scrollTop.\n        // Somehow in MultiGrid the main grid doesn't trigger a update on mount.\n        if (this._scrollingContainer.scrollLeft !== this.state.scrollLeft) {\n          this._scrollingContainer.scrollLeft = this.state.scrollLeft;\n        }\n        if (this._scrollingContainer.scrollTop !== this.state.scrollTop) {\n          this._scrollingContainer.scrollTop = this.state.scrollTop;\n        }\n      }\n\n      // Don't update scroll offset if the size is 0; we don't render any cells in this case.\n      // Setting a state may cause us to later thing we've updated the offce when we haven't.\n      var sizeIsBiggerThanZero = height > 0 && width > 0;\n      if (scrollToColumn >= 0 && sizeIsBiggerThanZero) {\n        this._updateScrollLeftForScrollToColumn();\n      }\n      if (scrollToRow >= 0 && sizeIsBiggerThanZero) {\n        this._updateScrollTopForScrollToRow();\n      }\n\n      // Update onRowsRendered callback\n      this._invokeOnGridRenderedHelper();\n\n      // Initialize onScroll callback\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft || 0,\n        scrollTop: scrollTop || 0,\n        totalColumnsWidth: instanceProps.columnSizeAndPositionManager.getTotalSize(),\n        totalRowsHeight: instanceProps.rowSizeAndPositionManager.getTotalSize()\n      });\n\n      this._maybeCallOnScrollbarPresenceChange();\n    }\n\n    /**\n     * @private\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) New scroll-to-cell props have been set\n     */\n\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      var _props5 = this.props,\n          autoHeight = _props5.autoHeight,\n          autoWidth = _props5.autoWidth,\n          columnCount = _props5.columnCount,\n          height = _props5.height,\n          rowCount = _props5.rowCount,\n          scrollToAlignment = _props5.scrollToAlignment,\n          scrollToColumn = _props5.scrollToColumn,\n          scrollToRow = _props5.scrollToRow,\n          width = _props5.width;\n      var _state = this.state,\n          scrollLeft = _state.scrollLeft,\n          scrollPositionChangeReason = _state.scrollPositionChangeReason,\n          scrollTop = _state.scrollTop,\n          instanceProps = _state.instanceProps;\n      // If cell sizes have been invalidated (eg we are using CellMeasurer) then reset cached positions.\n      // We must do this at the start of the method as we may calculate and update scroll position below.\n\n      this._handleInvalidatedGridSize();\n\n      // Handle edge case where column or row count has only just increased over 0.\n      // In this case we may have to restore a previously-specified scroll offset.\n      // For more info see bvaughn/react-virtualized/issues/218\n      var columnOrRowCountJustIncreasedFromZero = columnCount > 0 && prevProps.columnCount === 0 || rowCount > 0 && prevProps.rowCount === 0;\n\n      // Make sure requested changes to :scrollLeft or :scrollTop get applied.\n      // Assigning to scrollLeft/scrollTop tells the browser to interrupt any running scroll animations,\n      // And to discard any pending async changes to the scroll position that may have happened in the meantime (e.g. on a separate scrolling thread).\n      // So we only set these when we require an adjustment of the scroll position.\n      // See issue #2 for more information.\n      if (scrollPositionChangeReason === SCROLL_POSITION_CHANGE_REASONS.REQUESTED) {\n        // @TRICKY :autoHeight and :autoWidth properties instructs Grid to leave :scrollTop and :scrollLeft management to an external HOC (eg WindowScroller).\n        // In this case we should avoid checking scrollingContainer.scrollTop and scrollingContainer.scrollLeft since it forces layout/flow.\n        if (!autoWidth && scrollLeft >= 0 && (scrollLeft !== this._scrollingContainer.scrollLeft || columnOrRowCountJustIncreasedFromZero)) {\n          this._scrollingContainer.scrollLeft = scrollLeft;\n        }\n        if (!autoHeight && scrollTop >= 0 && (scrollTop !== this._scrollingContainer.scrollTop || columnOrRowCountJustIncreasedFromZero)) {\n          this._scrollingContainer.scrollTop = scrollTop;\n        }\n      }\n\n      // Special case where the previous size was 0:\n      // In this case we don't show any windowed cells at all.\n      // So we should always recalculate offset afterwards.\n      var sizeJustIncreasedFromZero = (prevProps.width === 0 || prevProps.height === 0) && height > 0 && width > 0;\n\n      // Update scroll offsets if the current :scrollToColumn or :scrollToRow values requires it\n      // @TODO Do we also need this check or can the one in componentWillUpdate() suffice?\n      if (this._recomputeScrollLeftFlag) {\n        this._recomputeScrollLeftFlag = false;\n        this._updateScrollLeftForScrollToColumn(this.props);\n      } else {\n        updateScrollIndexHelper({\n          cellSizeAndPositionManager: instanceProps.columnSizeAndPositionManager,\n          previousCellsCount: prevProps.columnCount,\n          previousCellSize: prevProps.columnWidth,\n          previousScrollToAlignment: prevProps.scrollToAlignment,\n          previousScrollToIndex: prevProps.scrollToColumn,\n          previousSize: prevProps.width,\n          scrollOffset: scrollLeft,\n          scrollToAlignment: scrollToAlignment,\n          scrollToIndex: scrollToColumn,\n          size: width,\n          sizeJustIncreasedFromZero: sizeJustIncreasedFromZero,\n          updateScrollIndexCallback: function updateScrollIndexCallback() {\n            return _this2._updateScrollLeftForScrollToColumn(_this2.props);\n          }\n        });\n      }\n\n      if (this._recomputeScrollTopFlag) {\n        this._recomputeScrollTopFlag = false;\n        this._updateScrollTopForScrollToRow(this.props);\n      } else {\n        updateScrollIndexHelper({\n          cellSizeAndPositionManager: instanceProps.rowSizeAndPositionManager,\n          previousCellsCount: prevProps.rowCount,\n          previousCellSize: prevProps.rowHeight,\n          previousScrollToAlignment: prevProps.scrollToAlignment,\n          previousScrollToIndex: prevProps.scrollToRow,\n          previousSize: prevProps.height,\n          scrollOffset: scrollTop,\n          scrollToAlignment: scrollToAlignment,\n          scrollToIndex: scrollToRow,\n          size: height,\n          sizeJustIncreasedFromZero: sizeJustIncreasedFromZero,\n          updateScrollIndexCallback: function updateScrollIndexCallback() {\n            return _this2._updateScrollTopForScrollToRow(_this2.props);\n          }\n        });\n      }\n\n      // Update onRowsRendered callback if start/stop indices have changed\n      this._invokeOnGridRenderedHelper();\n\n      // Changes to :scrollLeft or :scrollTop should also notify :onScroll listeners\n      if (scrollLeft !== prevState.scrollLeft || scrollTop !== prevState.scrollTop) {\n        var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n        var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n\n        this._invokeOnScrollMemoizer({\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          totalColumnsWidth: totalColumnsWidth,\n          totalRowsHeight: totalRowsHeight\n        });\n      }\n\n      this._maybeCallOnScrollbarPresenceChange();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._disablePointerEventsTimeoutId) {\n        cancelAnimationTimeout(this._disablePointerEventsTimeoutId);\n      }\n    }\n\n    /**\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) Empty content (0 rows or columns)\n     * 2) New scroll props overriding the current state\n     * 3) Cells-count or cells-size has changed, making previous scroll offsets invalid\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props6 = this.props,\n          autoContainerWidth = _props6.autoContainerWidth,\n          autoHeight = _props6.autoHeight,\n          autoWidth = _props6.autoWidth,\n          className = _props6.className,\n          containerProps = _props6.containerProps,\n          containerRole = _props6.containerRole,\n          containerStyle = _props6.containerStyle,\n          height = _props6.height,\n          id = _props6.id,\n          noContentRenderer = _props6.noContentRenderer,\n          role = _props6.role,\n          style = _props6.style,\n          tabIndex = _props6.tabIndex,\n          width = _props6.width;\n      var _state2 = this.state,\n          instanceProps = _state2.instanceProps,\n          needToResetStyleCache = _state2.needToResetStyleCache;\n\n\n      var isScrolling = this._isScrolling();\n\n      var gridStyle = {\n        boxSizing: 'border-box',\n        direction: 'ltr',\n        height: autoHeight ? 'auto' : height,\n        position: 'relative',\n        width: autoWidth ? 'auto' : width,\n        WebkitOverflowScrolling: 'touch',\n        willChange: 'transform'\n      };\n\n      if (needToResetStyleCache) {\n        this._styleCache = {};\n      }\n\n      // calculate _styleCache here\n      // if state.isScrolling (not from _isScrolling) then reset\n      if (!this.state.isScrolling) {\n        this._resetStyleCache();\n      }\n\n      // calculate children to render here\n      this._calculateChildrenToRender(this.props, this.state);\n\n      var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n      var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n\n      // Force browser to hide scrollbars when we know they aren't necessary.\n      // Otherwise once scrollbars appear they may not disappear again.\n      // For more info see issue #116\n      var verticalScrollBarSize = totalRowsHeight > height ? instanceProps.scrollbarSize : 0;\n      var horizontalScrollBarSize = totalColumnsWidth > width ? instanceProps.scrollbarSize : 0;\n\n      if (horizontalScrollBarSize !== this._horizontalScrollBarSize || verticalScrollBarSize !== this._verticalScrollBarSize) {\n        this._horizontalScrollBarSize = horizontalScrollBarSize;\n        this._verticalScrollBarSize = verticalScrollBarSize;\n        this._scrollbarPresenceChanged = true;\n      }\n\n      // Also explicitly init styles to 'auto' if scrollbars are required.\n      // This works around an obscure edge case where external CSS styles have not yet been loaded,\n      // But an initial scroll index of offset is set as an external prop.\n      // Without this style, Grid would render the correct range of cells but would NOT update its internal offset.\n      // This was originally reported via clauderic/react-infinite-calendar/issues/23\n      gridStyle.overflowX = totalColumnsWidth + verticalScrollBarSize <= width ? 'hidden' : 'auto';\n      gridStyle.overflowY = totalRowsHeight + horizontalScrollBarSize <= height ? 'hidden' : 'auto';\n\n      var childrenToDisplay = this._childrenToDisplay;\n\n      var showNoContentRenderer = childrenToDisplay.length === 0 && height > 0 && width > 0;\n\n      return external_React_.createElement(\n        'div',\n        (0,helpers_extends/* default */.Z)({\n          ref: this._setScrollingContainerRef\n        }, containerProps, {\n          'aria-label': this.props['aria-label'],\n          'aria-readonly': this.props['aria-readonly'],\n          className: classnames_default()('ReactVirtualized__Grid', className),\n          id: id,\n          onScroll: this._onScroll,\n          role: role,\n          style: (0,helpers_extends/* default */.Z)({}, gridStyle, style),\n          tabIndex: tabIndex }),\n        childrenToDisplay.length > 0 && external_React_.createElement(\n          'div',\n          {\n            className: 'ReactVirtualized__Grid__innerScrollContainer',\n            role: containerRole,\n            style: (0,helpers_extends/* default */.Z)({\n              width: autoContainerWidth ? 'auto' : totalColumnsWidth,\n              height: totalRowsHeight,\n              maxWidth: totalColumnsWidth,\n              maxHeight: totalRowsHeight,\n              overflow: 'hidden',\n              pointerEvents: isScrolling ? 'none' : '',\n              position: 'relative'\n            }, containerStyle) },\n          childrenToDisplay\n        ),\n        showNoContentRenderer && noContentRenderer()\n      );\n    }\n\n    /* ---------------------------- Helper methods ---------------------------- */\n\n  }, {\n    key: '_calculateChildrenToRender',\n    value: function _calculateChildrenToRender() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n      var cellRenderer = props.cellRenderer,\n          cellRangeRenderer = props.cellRangeRenderer,\n          columnCount = props.columnCount,\n          deferredMeasurementCache = props.deferredMeasurementCache,\n          height = props.height,\n          overscanColumnCount = props.overscanColumnCount,\n          overscanIndicesGetter = props.overscanIndicesGetter,\n          overscanRowCount = props.overscanRowCount,\n          rowCount = props.rowCount,\n          width = props.width,\n          isScrollingOptOut = props.isScrollingOptOut;\n      var scrollDirectionHorizontal = state.scrollDirectionHorizontal,\n          scrollDirectionVertical = state.scrollDirectionVertical,\n          instanceProps = state.instanceProps;\n\n\n      var scrollTop = this._initialScrollTop > 0 ? this._initialScrollTop : state.scrollTop;\n      var scrollLeft = this._initialScrollLeft > 0 ? this._initialScrollLeft : state.scrollLeft;\n\n      var isScrolling = this._isScrolling(props, state);\n\n      this._childrenToDisplay = [];\n\n      // Render only enough columns and rows to cover the visible area of the grid.\n      if (height > 0 && width > 0) {\n        var visibleColumnIndices = instanceProps.columnSizeAndPositionManager.getVisibleCellRange({\n          containerSize: width,\n          offset: scrollLeft\n        });\n        var visibleRowIndices = instanceProps.rowSizeAndPositionManager.getVisibleCellRange({\n          containerSize: height,\n          offset: scrollTop\n        });\n\n        var horizontalOffsetAdjustment = instanceProps.columnSizeAndPositionManager.getOffsetAdjustment({\n          containerSize: width,\n          offset: scrollLeft\n        });\n        var verticalOffsetAdjustment = instanceProps.rowSizeAndPositionManager.getOffsetAdjustment({\n          containerSize: height,\n          offset: scrollTop\n        });\n\n        // Store for _invokeOnGridRenderedHelper()\n        this._renderedColumnStartIndex = visibleColumnIndices.start;\n        this._renderedColumnStopIndex = visibleColumnIndices.stop;\n        this._renderedRowStartIndex = visibleRowIndices.start;\n        this._renderedRowStopIndex = visibleRowIndices.stop;\n\n        var overscanColumnIndices = overscanIndicesGetter({\n          direction: 'horizontal',\n          cellCount: columnCount,\n          overscanCellsCount: overscanColumnCount,\n          scrollDirection: scrollDirectionHorizontal,\n          startIndex: typeof visibleColumnIndices.start === 'number' ? visibleColumnIndices.start : 0,\n          stopIndex: typeof visibleColumnIndices.stop === 'number' ? visibleColumnIndices.stop : -1\n        });\n\n        var overscanRowIndices = overscanIndicesGetter({\n          direction: 'vertical',\n          cellCount: rowCount,\n          overscanCellsCount: overscanRowCount,\n          scrollDirection: scrollDirectionVertical,\n          startIndex: typeof visibleRowIndices.start === 'number' ? visibleRowIndices.start : 0,\n          stopIndex: typeof visibleRowIndices.stop === 'number' ? visibleRowIndices.stop : -1\n        });\n\n        // Store for _invokeOnGridRenderedHelper()\n        var columnStartIndex = overscanColumnIndices.overscanStartIndex;\n        var columnStopIndex = overscanColumnIndices.overscanStopIndex;\n        var rowStartIndex = overscanRowIndices.overscanStartIndex;\n        var rowStopIndex = overscanRowIndices.overscanStopIndex;\n\n        // Advanced use-cases (eg CellMeasurer) require batched measurements to determine accurate sizes.\n        if (deferredMeasurementCache) {\n          // If rows have a dynamic height, scan the rows we are about to render.\n          // If any have not yet been measured, then we need to render all columns initially,\n          // Because the height of the row is equal to the tallest cell within that row,\n          // (And so we can't know the height without measuring all column-cells first).\n          if (!deferredMeasurementCache.hasFixedHeight()) {\n            for (var rowIndex = rowStartIndex; rowIndex <= rowStopIndex; rowIndex++) {\n              if (!deferredMeasurementCache.has(rowIndex, 0)) {\n                columnStartIndex = 0;\n                columnStopIndex = columnCount - 1;\n                break;\n              }\n            }\n          }\n\n          // If columns have a dynamic width, scan the columns we are about to render.\n          // If any have not yet been measured, then we need to render all rows initially,\n          // Because the width of the column is equal to the widest cell within that column,\n          // (And so we can't know the width without measuring all row-cells first).\n          if (!deferredMeasurementCache.hasFixedWidth()) {\n            for (var columnIndex = columnStartIndex; columnIndex <= columnStopIndex; columnIndex++) {\n              if (!deferredMeasurementCache.has(0, columnIndex)) {\n                rowStartIndex = 0;\n                rowStopIndex = rowCount - 1;\n                break;\n              }\n            }\n          }\n        }\n\n        this._childrenToDisplay = cellRangeRenderer({\n          cellCache: this._cellCache,\n          cellRenderer: cellRenderer,\n          columnSizeAndPositionManager: instanceProps.columnSizeAndPositionManager,\n          columnStartIndex: columnStartIndex,\n          columnStopIndex: columnStopIndex,\n          deferredMeasurementCache: deferredMeasurementCache,\n          horizontalOffsetAdjustment: horizontalOffsetAdjustment,\n          isScrolling: isScrolling,\n          isScrollingOptOut: isScrollingOptOut,\n          parent: this,\n          rowSizeAndPositionManager: instanceProps.rowSizeAndPositionManager,\n          rowStartIndex: rowStartIndex,\n          rowStopIndex: rowStopIndex,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          styleCache: this._styleCache,\n          verticalOffsetAdjustment: verticalOffsetAdjustment,\n          visibleColumnIndices: visibleColumnIndices,\n          visibleRowIndices: visibleRowIndices\n        });\n\n        // update the indices\n        this._columnStartIndex = columnStartIndex;\n        this._columnStopIndex = columnStopIndex;\n        this._rowStartIndex = rowStartIndex;\n        this._rowStopIndex = rowStopIndex;\n      }\n    }\n\n    /**\n     * Sets an :isScrolling flag for a small window of time.\n     * This flag is used to disable pointer events on the scrollable portion of the Grid.\n     * This prevents jerky/stuttery mouse-wheel scrolling.\n     */\n\n  }, {\n    key: '_debounceScrollEnded',\n    value: function _debounceScrollEnded() {\n      var scrollingResetTimeInterval = this.props.scrollingResetTimeInterval;\n\n\n      if (this._disablePointerEventsTimeoutId) {\n        cancelAnimationTimeout(this._disablePointerEventsTimeoutId);\n      }\n\n      this._disablePointerEventsTimeoutId = requestAnimationTimeout(this._debounceScrollEndedCallback, scrollingResetTimeInterval);\n    }\n  }, {\n    key: '_handleInvalidatedGridSize',\n\n\n    /**\n     * Check for batched CellMeasurer size invalidations.\n     * This will occur the first time one or more previously unmeasured cells are rendered.\n     */\n    value: function _handleInvalidatedGridSize() {\n      if (typeof this._deferredInvalidateColumnIndex === 'number' && typeof this._deferredInvalidateRowIndex === 'number') {\n        var columnIndex = this._deferredInvalidateColumnIndex;\n        var rowIndex = this._deferredInvalidateRowIndex;\n\n        this._deferredInvalidateColumnIndex = null;\n        this._deferredInvalidateRowIndex = null;\n\n        this.recomputeGridSize({ columnIndex: columnIndex, rowIndex: rowIndex });\n      }\n    }\n  }, {\n    key: '_invokeOnScrollMemoizer',\n    value: function _invokeOnScrollMemoizer(_ref6) {\n      var _this3 = this;\n\n      var scrollLeft = _ref6.scrollLeft,\n          scrollTop = _ref6.scrollTop,\n          totalColumnsWidth = _ref6.totalColumnsWidth,\n          totalRowsHeight = _ref6.totalRowsHeight;\n\n      this._onScrollMemoizer({\n        callback: function callback(_ref7) {\n          var scrollLeft = _ref7.scrollLeft,\n              scrollTop = _ref7.scrollTop;\n          var _props7 = _this3.props,\n              height = _props7.height,\n              onScroll = _props7.onScroll,\n              width = _props7.width;\n\n\n          onScroll({\n            clientHeight: height,\n            clientWidth: width,\n            scrollHeight: totalRowsHeight,\n            scrollLeft: scrollLeft,\n            scrollTop: scrollTop,\n            scrollWidth: totalColumnsWidth\n          });\n        },\n        indices: {\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        }\n      });\n    }\n  }, {\n    key: '_isScrolling',\n    value: function _isScrolling() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      // If isScrolling is defined in props, use it to override the value in state\n      // This is a performance optimization for WindowScroller + Grid\n      return Object.hasOwnProperty.call(props, 'isScrolling') ? Boolean(props.isScrolling) : Boolean(state.isScrolling);\n    }\n  }, {\n    key: '_maybeCallOnScrollbarPresenceChange',\n    value: function _maybeCallOnScrollbarPresenceChange() {\n      if (this._scrollbarPresenceChanged) {\n        var _onScrollbarPresenceChange = this.props.onScrollbarPresenceChange;\n\n\n        this._scrollbarPresenceChanged = false;\n\n        _onScrollbarPresenceChange({\n          horizontal: this._horizontalScrollBarSize > 0,\n          size: this.state.instanceProps.scrollbarSize,\n          vertical: this._verticalScrollBarSize > 0\n        });\n      }\n    }\n  }, {\n    key: 'scrollToPosition',\n\n\n    /**\n     * Scroll to the specified offset(s).\n     * Useful for animating position changes.\n     */\n    value: function scrollToPosition(_ref8) {\n      var scrollLeft = _ref8.scrollLeft,\n          scrollTop = _ref8.scrollTop;\n\n      var stateUpdate = Grid._getScrollToPositionStateUpdate({\n        prevState: this.state,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop\n      });\n\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }, {\n    key: '_getCalculatedScrollLeft',\n    value: function _getCalculatedScrollLeft() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      return Grid._getCalculatedScrollLeft(props, state);\n    }\n  }, {\n    key: '_updateScrollLeftForScrollToColumn',\n    value: function _updateScrollLeftForScrollToColumn() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      var stateUpdate = Grid._getScrollLeftForScrollToColumnStateUpdate(props, state);\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }, {\n    key: '_getCalculatedScrollTop',\n    value: function _getCalculatedScrollTop() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      return Grid._getCalculatedScrollTop(props, state);\n    }\n  }, {\n    key: '_resetStyleCache',\n    value: function _resetStyleCache() {\n      var styleCache = this._styleCache;\n      var cellCache = this._cellCache;\n      var isScrollingOptOut = this.props.isScrollingOptOut;\n\n      // Reset cell and style caches once scrolling stops.\n      // This makes Grid simpler to use (since cells commonly change).\n      // And it keeps the caches from growing too large.\n      // Performance is most sensitive when a user is scrolling.\n      // Don't clear visible cells from cellCache if isScrollingOptOut is specified.\n      // This keeps the cellCache to a resonable size.\n\n      this._cellCache = {};\n      this._styleCache = {};\n\n      // Copy over the visible cell styles so avoid unnecessary re-render.\n      for (var rowIndex = this._rowStartIndex; rowIndex <= this._rowStopIndex; rowIndex++) {\n        for (var columnIndex = this._columnStartIndex; columnIndex <= this._columnStopIndex; columnIndex++) {\n          var key = rowIndex + '-' + columnIndex;\n          this._styleCache[key] = styleCache[key];\n\n          if (isScrollingOptOut) {\n            this._cellCache[key] = cellCache[key];\n          }\n        }\n      }\n    }\n  }, {\n    key: '_updateScrollTopForScrollToRow',\n    value: function _updateScrollTopForScrollToRow() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      var state = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state;\n\n      var stateUpdate = Grid._getScrollTopForScrollToRowStateUpdate(props, state);\n      if (stateUpdate) {\n        stateUpdate.needToResetStyleCache = false;\n        this.setState(stateUpdate);\n      }\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var newState = {};\n\n      if (nextProps.columnCount === 0 && prevState.scrollLeft !== 0 || nextProps.rowCount === 0 && prevState.scrollTop !== 0) {\n        newState.scrollLeft = 0;\n        newState.scrollTop = 0;\n\n        // only use scroll{Left,Top} from props if scrollTo{Column,Row} isn't specified\n        // scrollTo{Column,Row} should override scroll{Left,Top}\n      } else if (nextProps.scrollLeft !== prevState.scrollLeft && nextProps.scrollToColumn < 0 || nextProps.scrollTop !== prevState.scrollTop && nextProps.scrollToRow < 0) {\n        assign_default()(newState, Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: nextProps.scrollLeft,\n          scrollTop: nextProps.scrollTop\n        }));\n      }\n\n      var instanceProps = prevState.instanceProps;\n\n      // Initially we should not clearStyleCache\n\n      newState.needToResetStyleCache = false;\n      if (nextProps.columnWidth !== instanceProps.prevColumnWidth || nextProps.rowHeight !== instanceProps.prevRowHeight) {\n        // Reset cache. set it to {} in render\n        newState.needToResetStyleCache = true;\n      }\n\n      instanceProps.columnSizeAndPositionManager.configure({\n        cellCount: nextProps.columnCount,\n        estimatedCellSize: Grid._getEstimatedColumnSize(nextProps),\n        cellSizeGetter: Grid._wrapSizeGetter(nextProps.columnWidth)\n      });\n\n      instanceProps.rowSizeAndPositionManager.configure({\n        cellCount: nextProps.rowCount,\n        estimatedCellSize: Grid._getEstimatedRowSize(nextProps),\n        cellSizeGetter: Grid._wrapSizeGetter(nextProps.rowHeight)\n      });\n\n      if (instanceProps.prevColumnCount === 0 || instanceProps.prevRowCount === 0) {\n        instanceProps.prevColumnCount = 0;\n        instanceProps.prevRowCount = 0;\n      }\n\n      // If scrolling is controlled outside this component, clear cache when scrolling stops\n      if (nextProps.autoHeight && nextProps.isScrolling === false && instanceProps.prevIsScrolling === true) {\n        assign_default()(newState, {\n          isScrolling: false\n        });\n      }\n\n      var maybeStateA = void 0;\n      var maybeStateB = void 0;\n\n      calculateSizeAndPositionDataAndUpdateScrollOffset({\n        cellCount: instanceProps.prevColumnCount,\n        cellSize: typeof instanceProps.prevColumnWidth === 'number' ? instanceProps.prevColumnWidth : null,\n        computeMetadataCallback: function computeMetadataCallback() {\n          return instanceProps.columnSizeAndPositionManager.resetCell(0);\n        },\n        computeMetadataCallbackProps: nextProps,\n        nextCellsCount: nextProps.columnCount,\n        nextCellSize: typeof nextProps.columnWidth === 'number' ? nextProps.columnWidth : null,\n        nextScrollToIndex: nextProps.scrollToColumn,\n        scrollToIndex: instanceProps.prevScrollToColumn,\n        updateScrollOffsetForScrollToIndex: function updateScrollOffsetForScrollToIndex() {\n          maybeStateA = Grid._getScrollLeftForScrollToColumnStateUpdate(nextProps, prevState);\n        }\n      });\n      calculateSizeAndPositionDataAndUpdateScrollOffset({\n        cellCount: instanceProps.prevRowCount,\n        cellSize: typeof instanceProps.prevRowHeight === 'number' ? instanceProps.prevRowHeight : null,\n        computeMetadataCallback: function computeMetadataCallback() {\n          return instanceProps.rowSizeAndPositionManager.resetCell(0);\n        },\n        computeMetadataCallbackProps: nextProps,\n        nextCellsCount: nextProps.rowCount,\n        nextCellSize: typeof nextProps.rowHeight === 'number' ? nextProps.rowHeight : null,\n        nextScrollToIndex: nextProps.scrollToRow,\n        scrollToIndex: instanceProps.prevScrollToRow,\n        updateScrollOffsetForScrollToIndex: function updateScrollOffsetForScrollToIndex() {\n          maybeStateB = Grid._getScrollTopForScrollToRowStateUpdate(nextProps, prevState);\n        }\n      });\n\n      instanceProps.prevColumnCount = nextProps.columnCount;\n      instanceProps.prevColumnWidth = nextProps.columnWidth;\n      instanceProps.prevIsScrolling = nextProps.isScrolling === true;\n      instanceProps.prevRowCount = nextProps.rowCount;\n      instanceProps.prevRowHeight = nextProps.rowHeight;\n      instanceProps.prevScrollToColumn = nextProps.scrollToColumn;\n      instanceProps.prevScrollToRow = nextProps.scrollToRow;\n\n      // getting scrollBarSize (moved from componentWillMount)\n      instanceProps.scrollbarSize = nextProps.getScrollbarSize();\n      if (instanceProps.scrollbarSize === undefined) {\n        instanceProps.scrollbarSizeMeasured = false;\n        instanceProps.scrollbarSize = 0;\n      } else {\n        instanceProps.scrollbarSizeMeasured = true;\n      }\n\n      newState.instanceProps = instanceProps;\n\n      return (0,helpers_extends/* default */.Z)({}, newState, maybeStateA, maybeStateB);\n    }\n  }, {\n    key: '_getEstimatedColumnSize',\n    value: function _getEstimatedColumnSize(props) {\n      return typeof props.columnWidth === 'number' ? props.columnWidth : props.estimatedColumnSize;\n    }\n  }, {\n    key: '_getEstimatedRowSize',\n    value: function _getEstimatedRowSize(props) {\n      return typeof props.rowHeight === 'number' ? props.rowHeight : props.estimatedRowSize;\n    }\n  }, {\n    key: '_getScrollToPositionStateUpdate',\n\n\n    /**\n     * Get the updated state after scrolling to\n     * scrollLeft and scrollTop\n     */\n    value: function _getScrollToPositionStateUpdate(_ref9) {\n      var prevState = _ref9.prevState,\n          scrollLeft = _ref9.scrollLeft,\n          scrollTop = _ref9.scrollTop;\n\n      var newState = {\n        scrollPositionChangeReason: SCROLL_POSITION_CHANGE_REASONS.REQUESTED\n      };\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0) {\n        newState.scrollDirectionHorizontal = scrollLeft > prevState.scrollLeft ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD;\n        newState.scrollLeft = scrollLeft;\n      }\n\n      if (typeof scrollTop === 'number' && scrollTop >= 0) {\n        newState.scrollDirectionVertical = scrollTop > prevState.scrollTop ? SCROLL_DIRECTION_FORWARD : SCROLL_DIRECTION_BACKWARD;\n        newState.scrollTop = scrollTop;\n      }\n\n      if (typeof scrollLeft === 'number' && scrollLeft >= 0 && scrollLeft !== prevState.scrollLeft || typeof scrollTop === 'number' && scrollTop >= 0 && scrollTop !== prevState.scrollTop) {\n        return newState;\n      }\n      return null;\n    }\n  }, {\n    key: '_wrapSizeGetter',\n    value: function _wrapSizeGetter(value) {\n      return typeof value === 'function' ? value : function () {\n        return value;\n      };\n    }\n  }, {\n    key: '_getCalculatedScrollLeft',\n    value: function _getCalculatedScrollLeft(nextProps, prevState) {\n      var columnCount = nextProps.columnCount,\n          height = nextProps.height,\n          scrollToAlignment = nextProps.scrollToAlignment,\n          scrollToColumn = nextProps.scrollToColumn,\n          width = nextProps.width;\n      var scrollLeft = prevState.scrollLeft,\n          instanceProps = prevState.instanceProps;\n\n\n      if (columnCount > 0) {\n        var finalColumn = columnCount - 1;\n        var targetIndex = scrollToColumn < 0 ? finalColumn : Math.min(finalColumn, scrollToColumn);\n        var totalRowsHeight = instanceProps.rowSizeAndPositionManager.getTotalSize();\n        var scrollBarSize = instanceProps.scrollbarSizeMeasured && totalRowsHeight > height ? instanceProps.scrollbarSize : 0;\n\n        return instanceProps.columnSizeAndPositionManager.getUpdatedOffsetForIndex({\n          align: scrollToAlignment,\n          containerSize: width - scrollBarSize,\n          currentOffset: scrollLeft,\n          targetIndex: targetIndex\n        });\n      }\n      return 0;\n    }\n  }, {\n    key: '_getScrollLeftForScrollToColumnStateUpdate',\n    value: function _getScrollLeftForScrollToColumnStateUpdate(nextProps, prevState) {\n      var scrollLeft = prevState.scrollLeft;\n\n      var calculatedScrollLeft = Grid._getCalculatedScrollLeft(nextProps, prevState);\n\n      if (typeof calculatedScrollLeft === 'number' && calculatedScrollLeft >= 0 && scrollLeft !== calculatedScrollLeft) {\n        return Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: calculatedScrollLeft,\n          scrollTop: -1\n        });\n      }\n      return null;\n    }\n  }, {\n    key: '_getCalculatedScrollTop',\n    value: function _getCalculatedScrollTop(nextProps, prevState) {\n      var height = nextProps.height,\n          rowCount = nextProps.rowCount,\n          scrollToAlignment = nextProps.scrollToAlignment,\n          scrollToRow = nextProps.scrollToRow,\n          width = nextProps.width;\n      var scrollTop = prevState.scrollTop,\n          instanceProps = prevState.instanceProps;\n\n\n      if (rowCount > 0) {\n        var finalRow = rowCount - 1;\n        var targetIndex = scrollToRow < 0 ? finalRow : Math.min(finalRow, scrollToRow);\n        var totalColumnsWidth = instanceProps.columnSizeAndPositionManager.getTotalSize();\n        var scrollBarSize = instanceProps.scrollbarSizeMeasured && totalColumnsWidth > width ? instanceProps.scrollbarSize : 0;\n\n        return instanceProps.rowSizeAndPositionManager.getUpdatedOffsetForIndex({\n          align: scrollToAlignment,\n          containerSize: height - scrollBarSize,\n          currentOffset: scrollTop,\n          targetIndex: targetIndex\n        });\n      }\n      return 0;\n    }\n  }, {\n    key: '_getScrollTopForScrollToRowStateUpdate',\n    value: function _getScrollTopForScrollToRowStateUpdate(nextProps, prevState) {\n      var scrollTop = prevState.scrollTop;\n\n      var calculatedScrollTop = Grid._getCalculatedScrollTop(nextProps, prevState);\n\n      if (typeof calculatedScrollTop === 'number' && calculatedScrollTop >= 0 && scrollTop !== calculatedScrollTop) {\n        return Grid._getScrollToPositionStateUpdate({\n          prevState: prevState,\n          scrollLeft: -1,\n          scrollTop: calculatedScrollTop\n        });\n      }\n      return null;\n    }\n  }]);\n\n  return Grid;\n}(external_React_.PureComponent);\n\nGrid.defaultProps = {\n  'aria-label': 'grid',\n  'aria-readonly': true,\n  autoContainerWidth: false,\n  autoHeight: false,\n  autoWidth: false,\n  cellRangeRenderer: defaultCellRangeRenderer,\n  containerRole: 'rowgroup',\n  containerStyle: {},\n  estimatedColumnSize: 100,\n  estimatedRowSize: 30,\n  getScrollbarSize: (scrollbarSize_default()),\n  noContentRenderer: renderNull,\n  onScroll: function onScroll() {},\n  onScrollbarPresenceChange: function onScrollbarPresenceChange() {},\n  onSectionRendered: function onSectionRendered() {},\n  overscanColumnCount: 0,\n  overscanIndicesGetter: defaultOverscanIndicesGetter,\n  overscanRowCount: 10,\n  role: 'grid',\n  scrollingResetTimeInterval: DEFAULT_SCROLLING_RESET_TIME_INTERVAL,\n  scrollToAlignment: 'auto',\n  scrollToColumn: -1,\n  scrollToRow: -1,\n  style: {},\n  tabIndex: 0,\n  isScrollingOptOut: false\n};\nGrid.propTypes =  true ? null : 0;\n\n\npolyfill(Grid);\n/* harmony default export */ const Grid_Grid = (Grid);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Grid/accessibilityOverscanIndicesGetter.js\n\n\nvar accessibilityOverscanIndicesGetter_SCROLL_DIRECTION_BACKWARD = (/* unused pure expression or super */ null && (-1));\n\nvar accessibilityOverscanIndicesGetter_SCROLL_DIRECTION_FORWARD = 1;\n\nvar accessibilityOverscanIndicesGetter_SCROLL_DIRECTION_HORIZONTAL = 'horizontal';\nvar accessibilityOverscanIndicesGetter_SCROLL_DIRECTION_VERTICAL = 'vertical';\n\n/**\n * Calculates the number of cells to overscan before and after a specified range.\n * This function ensures that overscanning doesn't exceed the available cells.\n */\n\nfunction accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter(_ref) {\n  var cellCount = _ref.cellCount,\n      overscanCellsCount = _ref.overscanCellsCount,\n      scrollDirection = _ref.scrollDirection,\n      startIndex = _ref.startIndex,\n      stopIndex = _ref.stopIndex;\n\n  // Make sure we render at least 1 cell extra before and after (except near boundaries)\n  // This is necessary in order to support keyboard navigation (TAB/SHIFT+TAB) in some cases\n  // For more info see issues #625\n  overscanCellsCount = Math.max(1, overscanCellsCount);\n\n  if (scrollDirection === accessibilityOverscanIndicesGetter_SCROLL_DIRECTION_FORWARD) {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - 1),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + overscanCellsCount)\n    };\n  } else {\n    return {\n      overscanStartIndex: Math.max(0, startIndex - overscanCellsCount),\n      overscanStopIndex: Math.min(cellCount - 1, stopIndex + 1)\n    };\n  }\n}\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Grid/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/ArrowKeyStepper/types.js\nvar bpfrpt_proptype_ScrollIndices =  true ? null : 0;\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/ArrowKeyStepper/ArrowKeyStepper.js\n\n\n\n\n\n\n\n\n/**\n * This HOC decorates a virtualized component and responds to arrow-key events by scrolling one row or column at a time.\n */\n\nvar ArrowKeyStepper = function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(ArrowKeyStepper, _React$PureComponent);\n\n  function ArrowKeyStepper() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0,classCallCheck/* default */.Z)(this, ArrowKeyStepper);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0,possibleConstructorReturn/* default */.Z)(this, (_ref = ArrowKeyStepper.__proto__ || get_prototype_of_default()(ArrowKeyStepper)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      scrollToColumn: 0,\n      scrollToRow: 0\n    }, _this._columnStartIndex = 0, _this._columnStopIndex = 0, _this._rowStartIndex = 0, _this._rowStopIndex = 0, _this._onKeyDown = function (event) {\n      var _this$props = _this.props,\n          columnCount = _this$props.columnCount,\n          disabled = _this$props.disabled,\n          mode = _this$props.mode,\n          rowCount = _this$props.rowCount;\n\n\n      if (disabled) {\n        return;\n      }\n\n      var _this$_getScrollState = _this._getScrollState(),\n          scrollToColumnPrevious = _this$_getScrollState.scrollToColumn,\n          scrollToRowPrevious = _this$_getScrollState.scrollToRow;\n\n      var _this$_getScrollState2 = _this._getScrollState(),\n          scrollToColumn = _this$_getScrollState2.scrollToColumn,\n          scrollToRow = _this$_getScrollState2.scrollToRow;\n\n      // The above cases all prevent default event event behavior.\n      // This is to keep the grid from scrolling after the snap-to update.\n\n\n      switch (event.key) {\n        case 'ArrowDown':\n          scrollToRow = mode === 'cells' ? Math.min(scrollToRow + 1, rowCount - 1) : Math.min(_this._rowStopIndex + 1, rowCount - 1);\n          break;\n        case 'ArrowLeft':\n          scrollToColumn = mode === 'cells' ? Math.max(scrollToColumn - 1, 0) : Math.max(_this._columnStartIndex - 1, 0);\n          break;\n        case 'ArrowRight':\n          scrollToColumn = mode === 'cells' ? Math.min(scrollToColumn + 1, columnCount - 1) : Math.min(_this._columnStopIndex + 1, columnCount - 1);\n          break;\n        case 'ArrowUp':\n          scrollToRow = mode === 'cells' ? Math.max(scrollToRow - 1, 0) : Math.max(_this._rowStartIndex - 1, 0);\n          break;\n      }\n\n      if (scrollToColumn !== scrollToColumnPrevious || scrollToRow !== scrollToRowPrevious) {\n        event.preventDefault();\n\n        _this._updateScrollState({ scrollToColumn: scrollToColumn, scrollToRow: scrollToRow });\n      }\n    }, _this._onSectionRendered = function (_ref2) {\n      var columnStartIndex = _ref2.columnStartIndex,\n          columnStopIndex = _ref2.columnStopIndex,\n          rowStartIndex = _ref2.rowStartIndex,\n          rowStopIndex = _ref2.rowStopIndex;\n\n      _this._columnStartIndex = columnStartIndex;\n      _this._columnStopIndex = columnStopIndex;\n      _this._rowStartIndex = rowStartIndex;\n      _this._rowStopIndex = rowStopIndex;\n    }, _temp), (0,possibleConstructorReturn/* default */.Z)(_this, _ret);\n  }\n\n  (0,createClass/* default */.Z)(ArrowKeyStepper, [{\n    key: 'setScrollIndexes',\n    value: function setScrollIndexes(_ref3) {\n      var scrollToColumn = _ref3.scrollToColumn,\n          scrollToRow = _ref3.scrollToRow;\n\n      this.setState({\n        scrollToRow: scrollToRow,\n        scrollToColumn: scrollToColumn\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          children = _props.children;\n\n      var _getScrollState2 = this._getScrollState(),\n          scrollToColumn = _getScrollState2.scrollToColumn,\n          scrollToRow = _getScrollState2.scrollToRow;\n\n      return external_React_.createElement(\n        'div',\n        { className: className, onKeyDown: this._onKeyDown },\n        children({\n          onSectionRendered: this._onSectionRendered,\n          scrollToColumn: scrollToColumn,\n          scrollToRow: scrollToRow\n        })\n      );\n    }\n  }, {\n    key: '_getScrollState',\n    value: function _getScrollState() {\n      return this.props.isControlled ? this.props : this.state;\n    }\n  }, {\n    key: '_updateScrollState',\n    value: function _updateScrollState(_ref4) {\n      var scrollToColumn = _ref4.scrollToColumn,\n          scrollToRow = _ref4.scrollToRow;\n      var _props2 = this.props,\n          isControlled = _props2.isControlled,\n          onScrollToChange = _props2.onScrollToChange;\n\n\n      if (typeof onScrollToChange === 'function') {\n        onScrollToChange({ scrollToColumn: scrollToColumn, scrollToRow: scrollToRow });\n      }\n\n      if (!isControlled) {\n        this.setState({ scrollToColumn: scrollToColumn, scrollToRow: scrollToRow });\n      }\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.isControlled) {\n        return null;\n      }\n\n      if (nextProps.scrollToColumn !== prevState.scrollToColumn || nextProps.scrollToRow !== prevState.scrollToRow) {\n        return {\n          scrollToColumn: nextProps.scrollToColumn,\n          scrollToRow: nextProps.scrollToRow\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return ArrowKeyStepper;\n}(external_React_.PureComponent);\n\nArrowKeyStepper.defaultProps = {\n  disabled: false,\n  isControlled: false,\n  mode: 'edges',\n  scrollToColumn: 0,\n  scrollToRow: 0\n};\nArrowKeyStepper.propTypes =  true ? null : 0;\n\n\npolyfill(ArrowKeyStepper);\n\n/* harmony default export */ const ArrowKeyStepper_ArrowKeyStepper = ((/* unused pure expression or super */ null && (ArrowKeyStepper)));\n\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/ArrowKeyStepper/index.js\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/vendor/detectElementResize.js\n/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1)Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2)Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\nfunction createDetectElementResize(nonce) {\n  // Check `document` and `window` in case of server-side rendering\n  var _window;\n  if (typeof window !== 'undefined') {\n    _window = window;\n  } else if (typeof self !== 'undefined') {\n    _window = self;\n  } else {\n    _window = __webpack_require__.g;\n  }\n\n  var attachEvent = typeof document !== 'undefined' && document.attachEvent;\n\n  if (!attachEvent) {\n    var requestFrame = function () {\n      var raf = _window.requestAnimationFrame || _window.mozRequestAnimationFrame || _window.webkitRequestAnimationFrame || function (fn) {\n        return _window.setTimeout(fn, 20);\n      };\n      return function (fn) {\n        return raf(fn);\n      };\n    }();\n\n    var cancelFrame = function () {\n      var cancel = _window.cancelAnimationFrame || _window.mozCancelAnimationFrame || _window.webkitCancelAnimationFrame || _window.clearTimeout;\n      return function (id) {\n        return cancel(id);\n      };\n    }();\n\n    var resetTriggers = function resetTriggers(element) {\n      var triggers = element.__resizeTriggers__,\n          expand = triggers.firstElementChild,\n          contract = triggers.lastElementChild,\n          expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = expand.offsetWidth + 1 + 'px';\n      expandChild.style.height = expand.offsetHeight + 1 + 'px';\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    var checkTriggers = function checkTriggers(element) {\n      return element.offsetWidth != element.__resizeLast__.width || element.offsetHeight != element.__resizeLast__.height;\n    };\n\n    var scrollListener = function scrollListener(e) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (e.target.className && typeof e.target.className.indexOf === 'function' && e.target.className.indexOf('contract-trigger') < 0 && e.target.className.indexOf('expand-trigger') < 0) {\n        return;\n      }\n\n      var element = this;\n      resetTriggers(this);\n      if (this.__resizeRAF__) {\n        cancelFrame(this.__resizeRAF__);\n      }\n      this.__resizeRAF__ = requestFrame(function () {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function (fn) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false,\n        keyframeprefix = '',\n        animationstartevent = 'animationstart',\n        domPrefixes = 'Webkit Moz O ms'.split(' '),\n        startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' '),\n        pfx = '';\n    {\n      var elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (var i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = '-' + pfx.toLowerCase() + '-';\n            animationstartevent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    var animationName = 'resizeanim';\n    var animationKeyframes = '@' + keyframeprefix + 'keyframes ' + animationName + ' { from { opacity: 0; } to { opacity: 0; } } ';\n    var animationStyle = keyframeprefix + 'animation: 1ms ' + animationName + '; ';\n  }\n\n  var createStyles = function createStyles(doc) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      var css = (animationKeyframes ? animationKeyframes : '') + '.resize-triggers { ' + (animationStyle ? animationStyle : '') + 'visibility: hidden; opacity: 0; } ' + '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n          head = doc.head || doc.getElementsByTagName('head')[0],\n          style = doc.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  var addResizeListener = function addResizeListener(element, fn) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        var doc = element.ownerDocument;\n        var elementStyle = _window.getComputedStyle(element);\n        if (elementStyle && elementStyle.position == 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className = 'resize-triggers';\n        element.__resizeTriggers__.innerHTML = '<div class=\"expand-trigger\"><div></div></div>' + '<div class=\"contract-trigger\"></div>';\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationstartevent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(e) {\n            if (e.animationName == animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  var removeResizeListener = function removeResizeListener(element, fn) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn), 1);\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(animationstartevent, element.__resizeTriggers__.__animationListener__);\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(element.__resizeTriggers__);\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener: addResizeListener,\n    removeResizeListener: removeResizeListener\n  };\n}\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/AutoSizer/AutoSizer.js\n\n\n\n\n\n\n\n\n\nvar AutoSizer = function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(AutoSizer, _React$PureComponent);\n\n  function AutoSizer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0,classCallCheck/* default */.Z)(this, AutoSizer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0,possibleConstructorReturn/* default */.Z)(this, (_ref = AutoSizer.__proto__ || get_prototype_of_default()(AutoSizer)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      height: _this.props.defaultHeight || 0,\n      width: _this.props.defaultWidth || 0\n    }, _this._onResize = function () {\n      var _this$props = _this.props,\n          disableHeight = _this$props.disableHeight,\n          disableWidth = _this$props.disableWidth,\n          onResize = _this$props.onResize;\n\n\n      if (_this._parentNode) {\n        // Guard against AutoSizer component being removed from the DOM immediately after being added.\n        // This can result in invalid style values which can result in NaN values if we don't handle them.\n        // See issue #150 for more context.\n\n        var _height = _this._parentNode.offsetHeight || 0;\n        var _width = _this._parentNode.offsetWidth || 0;\n\n        var _style = window.getComputedStyle(_this._parentNode) || {};\n        var paddingLeft = parseInt(_style.paddingLeft, 10) || 0;\n        var paddingRight = parseInt(_style.paddingRight, 10) || 0;\n        var paddingTop = parseInt(_style.paddingTop, 10) || 0;\n        var paddingBottom = parseInt(_style.paddingBottom, 10) || 0;\n\n        var newHeight = _height - paddingTop - paddingBottom;\n        var newWidth = _width - paddingLeft - paddingRight;\n\n        if (!disableHeight && _this.state.height !== newHeight || !disableWidth && _this.state.width !== newWidth) {\n          _this.setState({\n            height: _height - paddingTop - paddingBottom,\n            width: _width - paddingLeft - paddingRight\n          });\n\n          onResize({ height: _height, width: _width });\n        }\n      }\n    }, _this._setRef = function (autoSizer) {\n      _this._autoSizer = autoSizer;\n    }, _temp), (0,possibleConstructorReturn/* default */.Z)(_this, _ret);\n  }\n\n  (0,createClass/* default */.Z)(AutoSizer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var nonce = this.props.nonce;\n\n      if (this._autoSizer && this._autoSizer.parentNode && this._autoSizer.parentNode.ownerDocument && this._autoSizer.parentNode.ownerDocument.defaultView && this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement) {\n        // Delay access of parentNode until mount.\n        // This handles edge-cases where the component has already been unmounted before its ref has been set,\n        // As well as libraries like react-lite which have a slightly different lifecycle.\n        this._parentNode = this._autoSizer.parentNode;\n\n        // Defer requiring resize handler in order to support server-side rendering.\n        // See issue #41\n        this._detectElementResize = createDetectElementResize(nonce);\n        this._detectElementResize.addResizeListener(this._parentNode, this._onResize);\n\n        this._onResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._detectElementResize && this._parentNode) {\n        this._detectElementResize.removeResizeListener(this._parentNode, this._onResize);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeight = _props.disableHeight,\n          disableWidth = _props.disableWidth,\n          style = _props.style;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n      // Outer div should not force width/height since that may prevent containers from shrinking.\n      // Inner component should overflow and use calculated width/height.\n      // See issue #68 for more information.\n\n      var outerStyle = { overflow: 'visible' };\n      var childParams = {};\n\n      if (!disableHeight) {\n        outerStyle.height = 0;\n        childParams.height = height;\n      }\n\n      if (!disableWidth) {\n        outerStyle.width = 0;\n        childParams.width = width;\n      }\n\n      /**\n       * TODO: Avoid rendering children before the initial measurements have been collected.\n       * At best this would just be wasting cycles.\n       * Add this check into version 10 though as it could break too many ref callbacks in version 9.\n       * Note that if default width/height props were provided this would still work with SSR.\n      if (\n        height !== 0 &&\n        width !== 0\n      ) {\n        child = children({ height, width })\n      }\n      */\n\n      return external_React_.createElement(\n        'div',\n        {\n          className: className,\n          ref: this._setRef,\n          style: (0,helpers_extends/* default */.Z)({}, outerStyle, style) },\n        children(childParams)\n      );\n    }\n  }]);\n\n  return AutoSizer;\n}(external_React_.PureComponent);\n\nAutoSizer.defaultProps = {\n  onResize: function onResize() {},\n  disableHeight: false,\n  disableWidth: false,\n  style: {}\n};\nAutoSizer.propTypes =  true ? null : 0;\n/* harmony default export */ const AutoSizer_AutoSizer = (AutoSizer);\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/AutoSizer/index.js\n\n\n// EXTERNAL MODULE: external \"ReactDOM\"\nvar external_ReactDOM_ = __webpack_require__(61533);\nvar external_ReactDOM_default = /*#__PURE__*/__webpack_require__.n(external_ReactDOM_);\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/CellMeasurer/types.js\nvar bpfrpt_proptype_CellMeasureCache =  true ? null : 0;\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/CellMeasurer/CellMeasurer.js\n\n\n\n\n\n\n\n\n/**\n * Wraps a cell and measures its rendered content.\n * Measurements are stored in a per-cell cache.\n * Cached-content is not be re-measured.\n */\nvar CellMeasurer_CellMeasurer = function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(CellMeasurer, _React$PureComponent);\n\n  function CellMeasurer() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0,classCallCheck/* default */.Z)(this, CellMeasurer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0,possibleConstructorReturn/* default */.Z)(this, (_ref = CellMeasurer.__proto__ || get_prototype_of_default()(CellMeasurer)).call.apply(_ref, [this].concat(args))), _this), _this._measure = function () {\n      var _this$props = _this.props,\n          cache = _this$props.cache,\n          _this$props$columnInd = _this$props.columnIndex,\n          columnIndex = _this$props$columnInd === undefined ? 0 : _this$props$columnInd,\n          parent = _this$props.parent,\n          _this$props$rowIndex = _this$props.rowIndex,\n          rowIndex = _this$props$rowIndex === undefined ? _this.props.index || 0 : _this$props$rowIndex;\n\n      var _this$_getCellMeasure = _this._getCellMeasurements(),\n          height = _this$_getCellMeasure.height,\n          width = _this$_getCellMeasure.width;\n\n      if (height !== cache.getHeight(rowIndex, columnIndex) || width !== cache.getWidth(rowIndex, columnIndex)) {\n        cache.set(rowIndex, columnIndex, width, height);\n\n        if (parent && typeof parent.recomputeGridSize === 'function') {\n          parent.recomputeGridSize({\n            columnIndex: columnIndex,\n            rowIndex: rowIndex\n          });\n        }\n      }\n    }, _temp), (0,possibleConstructorReturn/* default */.Z)(_this, _ret);\n  }\n\n  (0,createClass/* default */.Z)(CellMeasurer, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._maybeMeasureCell();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this._maybeMeasureCell();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n\n\n      return typeof children === 'function' ? children({ measure: this._measure }) : children;\n    }\n  }, {\n    key: '_getCellMeasurements',\n    value: function _getCellMeasurements() {\n      var cache = this.props.cache;\n\n\n      var node = (0,external_ReactDOM_.findDOMNode)(this);\n\n      // TODO Check for a bad combination of fixedWidth and missing numeric width or vice versa with height\n\n      if (node && node.ownerDocument && node.ownerDocument.defaultView && node instanceof node.ownerDocument.defaultView.HTMLElement) {\n        var styleWidth = node.style.width;\n        var styleHeight = node.style.height;\n\n        // If we are re-measuring a cell that has already been measured,\n        // It will have a hard-coded width/height from the previous measurement.\n        // The fact that we are measuring indicates this measurement is probably stale,\n        // So explicitly clear it out (eg set to \"auto\") so we can recalculate.\n        // See issue #593 for more info.\n        // Even if we are measuring initially- if we're inside of a MultiGrid component,\n        // Explicitly clear width/height before measuring to avoid being tainted by another Grid.\n        // eg top/left Grid renders before bottom/right Grid\n        // Since the CellMeasurerCache is shared between them this taints derived cell size values.\n        if (!cache.hasFixedWidth()) {\n          node.style.width = 'auto';\n        }\n        if (!cache.hasFixedHeight()) {\n          node.style.height = 'auto';\n        }\n\n        var height = Math.ceil(node.offsetHeight);\n        var width = Math.ceil(node.offsetWidth);\n\n        // Reset after measuring to avoid breaking styles; see #660\n        if (styleWidth) {\n          node.style.width = styleWidth;\n        }\n        if (styleHeight) {\n          node.style.height = styleHeight;\n        }\n\n        return { height: height, width: width };\n      } else {\n        return { height: 0, width: 0 };\n      }\n    }\n  }, {\n    key: '_maybeMeasureCell',\n    value: function _maybeMeasureCell() {\n      var _props = this.props,\n          cache = _props.cache,\n          _props$columnIndex = _props.columnIndex,\n          columnIndex = _props$columnIndex === undefined ? 0 : _props$columnIndex,\n          parent = _props.parent,\n          _props$rowIndex = _props.rowIndex,\n          rowIndex = _props$rowIndex === undefined ? this.props.index || 0 : _props$rowIndex;\n\n\n      if (!cache.has(rowIndex, columnIndex)) {\n        var _getCellMeasurements2 = this._getCellMeasurements(),\n            height = _getCellMeasurements2.height,\n            width = _getCellMeasurements2.width;\n\n        cache.set(rowIndex, columnIndex, width, height);\n\n        // If size has changed, let Grid know to re-render.\n        if (parent && typeof parent.invalidateCellSizeAfterRender === 'function') {\n          parent.invalidateCellSizeAfterRender({\n            columnIndex: columnIndex,\n            rowIndex: rowIndex\n          });\n        }\n      }\n    }\n  }]);\n\n  return CellMeasurer;\n}(external_React_.PureComponent);\n\n// Used for DEV mode warning check\n\n\nCellMeasurer_CellMeasurer.__internalCellMeasurerFlag = false;\nCellMeasurer_CellMeasurer.propTypes =  true ? null : 0;\n/* harmony default export */ const es_CellMeasurer_CellMeasurer = ((/* unused pure expression or super */ null && (CellMeasurer_CellMeasurer)));\nif (false) {}\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/CellMeasurer/CellMeasurerCache.js\n\n\n\n\nvar DEFAULT_HEIGHT = 30;\n\nvar DEFAULT_WIDTH = 100;\n\n// Enables more intelligent mapping of a given column and row index to an item ID.\n// This prevents a cell cache from being invalidated when its parent collection is modified.\n\n/**\n * Caches measurements for a given cell.\n */\nvar CellMeasurerCache = function () {\n  function CellMeasurerCache() {\n    var _this = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    (0,classCallCheck/* default */.Z)(this, CellMeasurerCache);\n\n    this._cellHeightCache = {};\n    this._cellWidthCache = {};\n    this._columnWidthCache = {};\n    this._rowHeightCache = {};\n    this._columnCount = 0;\n    this._rowCount = 0;\n\n    this.columnWidth = function (_ref) {\n      var index = _ref.index;\n\n      var key = _this._keyMapper(0, index);\n\n      return _this._columnWidthCache.hasOwnProperty(key) ? _this._columnWidthCache[key] : _this._defaultWidth;\n    };\n\n    this.rowHeight = function (_ref2) {\n      var index = _ref2.index;\n\n      var key = _this._keyMapper(index, 0);\n\n      return _this._rowHeightCache.hasOwnProperty(key) ? _this._rowHeightCache[key] : _this._defaultHeight;\n    };\n\n    var defaultHeight = params.defaultHeight,\n        defaultWidth = params.defaultWidth,\n        fixedHeight = params.fixedHeight,\n        fixedWidth = params.fixedWidth,\n        keyMapper = params.keyMapper,\n        minHeight = params.minHeight,\n        minWidth = params.minWidth;\n\n\n    this._hasFixedHeight = fixedHeight === true;\n    this._hasFixedWidth = fixedWidth === true;\n    this._minHeight = minHeight || 0;\n    this._minWidth = minWidth || 0;\n    this._keyMapper = keyMapper || defaultKeyMapper;\n\n    this._defaultHeight = Math.max(this._minHeight, typeof defaultHeight === 'number' ? defaultHeight : DEFAULT_HEIGHT);\n    this._defaultWidth = Math.max(this._minWidth, typeof defaultWidth === 'number' ? defaultWidth : DEFAULT_WIDTH);\n\n    if (false) {}\n  }\n\n  (0,createClass/* default */.Z)(CellMeasurerCache, [{\n    key: 'clear',\n    value: function clear(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      delete this._cellHeightCache[key];\n      delete this._cellWidthCache[key];\n\n      this._updateCachedColumnAndRowSizes(rowIndex, columnIndex);\n    }\n  }, {\n    key: 'clearAll',\n    value: function clearAll() {\n      this._cellHeightCache = {};\n      this._cellWidthCache = {};\n      this._columnWidthCache = {};\n      this._rowHeightCache = {};\n      this._rowCount = 0;\n      this._columnCount = 0;\n    }\n  }, {\n    key: 'hasFixedHeight',\n    value: function hasFixedHeight() {\n      return this._hasFixedHeight;\n    }\n  }, {\n    key: 'hasFixedWidth',\n    value: function hasFixedWidth() {\n      return this._hasFixedWidth;\n    }\n  }, {\n    key: 'getHeight',\n    value: function getHeight(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (this._hasFixedHeight) {\n        return this._defaultHeight;\n      } else {\n        var _key = this._keyMapper(rowIndex, columnIndex);\n\n        return this._cellHeightCache.hasOwnProperty(_key) ? Math.max(this._minHeight, this._cellHeightCache[_key]) : this._defaultHeight;\n      }\n    }\n  }, {\n    key: 'getWidth',\n    value: function getWidth(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (this._hasFixedWidth) {\n        return this._defaultWidth;\n      } else {\n        var _key2 = this._keyMapper(rowIndex, columnIndex);\n\n        return this._cellWidthCache.hasOwnProperty(_key2) ? Math.max(this._minWidth, this._cellWidthCache[_key2]) : this._defaultWidth;\n      }\n    }\n  }, {\n    key: 'has',\n    value: function has(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      return this._cellHeightCache.hasOwnProperty(key);\n    }\n  }, {\n    key: 'set',\n    value: function set(rowIndex, columnIndex, width, height) {\n      var key = this._keyMapper(rowIndex, columnIndex);\n\n      if (columnIndex >= this._columnCount) {\n        this._columnCount = columnIndex + 1;\n      }\n      if (rowIndex >= this._rowCount) {\n        this._rowCount = rowIndex + 1;\n      }\n\n      // Size is cached per cell so we don't have to re-measure if cells are re-ordered.\n      this._cellHeightCache[key] = height;\n      this._cellWidthCache[key] = width;\n\n      this._updateCachedColumnAndRowSizes(rowIndex, columnIndex);\n    }\n  }, {\n    key: '_updateCachedColumnAndRowSizes',\n    value: function _updateCachedColumnAndRowSizes(rowIndex, columnIndex) {\n      // :columnWidth and :rowHeight are derived based on all cells in a column/row.\n      // Pre-cache these derived values for faster lookup later.\n      // Reads are expected to occur more frequently than writes in this case.\n      // Only update non-fixed dimensions though to avoid doing unnecessary work.\n      if (!this._hasFixedWidth) {\n        var columnWidth = 0;\n        for (var i = 0; i < this._rowCount; i++) {\n          columnWidth = Math.max(columnWidth, this.getWidth(i, columnIndex));\n        }\n        var columnKey = this._keyMapper(0, columnIndex);\n        this._columnWidthCache[columnKey] = columnWidth;\n      }\n      if (!this._hasFixedHeight) {\n        var rowHeight = 0;\n        for (var _i = 0; _i < this._columnCount; _i++) {\n          rowHeight = Math.max(rowHeight, this.getHeight(rowIndex, _i));\n        }\n        var rowKey = this._keyMapper(rowIndex, 0);\n        this._rowHeightCache[rowKey] = rowHeight;\n      }\n    }\n  }, {\n    key: 'defaultHeight',\n    get: function get() {\n      return this._defaultHeight;\n    }\n  }, {\n    key: 'defaultWidth',\n    get: function get() {\n      return this._defaultWidth;\n    }\n  }]);\n\n  return CellMeasurerCache;\n}();\n\n/* harmony default export */ const CellMeasurer_CellMeasurerCache = ((/* unused pure expression or super */ null && (CellMeasurerCache)));\n\n\nfunction defaultKeyMapper(rowIndex, columnIndex) {\n  return rowIndex + '-' + columnIndex;\n}\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/CellMeasurer/index.js\n\n\n\n/* harmony default export */ const es_CellMeasurer = ((/* unused pure expression or super */ null && (CellMeasurer)));\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Collection/CollectionView.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n// @TODO Merge Collection and CollectionView\n\n/**\n * Specifies the number of milliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\nvar IS_SCROLLING_TIMEOUT = 150;\n\n/**\n * Controls whether the Grid updates the DOM element's scrollLeft/scrollTop based on the current state or just observes it.\n * This prevents Grid from interrupting mouse-wheel animations (see issue #2).\n */\nvar CollectionView_SCROLL_POSITION_CHANGE_REASONS = {\n  OBSERVED: 'observed',\n  REQUESTED: 'requested'\n};\n\n/**\n * Monitors changes in properties (eg. cellCount) and state (eg. scroll offsets) to determine when rendering needs to occur.\n * This component does not render any visible content itself; it defers to the specified :cellLayoutManager.\n */\n\nvar CollectionView = function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(CollectionView, _React$PureComponent);\n\n  // Invokes callbacks only when their values have changed.\n  function CollectionView() {\n    var _ref;\n\n    (0,classCallCheck/* default */.Z)(this, CollectionView);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // If this component is being rendered server-side, getScrollbarSize() will return undefined.\n    // We handle this case in componentDidMount()\n    var _this = (0,possibleConstructorReturn/* default */.Z)(this, (_ref = CollectionView.__proto__ || get_prototype_of_default()(CollectionView)).call.apply(_ref, [this].concat(args)));\n\n    _this.state = {\n      isScrolling: false,\n      scrollLeft: 0,\n      scrollTop: 0\n    };\n    _this._calculateSizeAndPositionDataOnNextUpdate = false;\n    _this._onSectionRenderedMemoizer = createCallbackMemoizer();\n    _this._onScrollMemoizer = createCallbackMemoizer(false);\n\n    _this._invokeOnSectionRenderedHelper = function () {\n      var _this$props = _this.props,\n          cellLayoutManager = _this$props.cellLayoutManager,\n          onSectionRendered = _this$props.onSectionRendered;\n\n\n      _this._onSectionRenderedMemoizer({\n        callback: onSectionRendered,\n        indices: {\n          indices: cellLayoutManager.getLastRenderedIndices()\n        }\n      });\n    };\n\n    _this._setScrollingContainerRef = function (ref) {\n      _this._scrollingContainer = ref;\n    };\n\n    _this._updateScrollPositionForScrollToCell = function () {\n      var _this$props2 = _this.props,\n          cellLayoutManager = _this$props2.cellLayoutManager,\n          height = _this$props2.height,\n          scrollToAlignment = _this$props2.scrollToAlignment,\n          scrollToCell = _this$props2.scrollToCell,\n          width = _this$props2.width;\n      var _this$state = _this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n\n\n      if (scrollToCell >= 0) {\n        var scrollPosition = cellLayoutManager.getScrollPositionForCell({\n          align: scrollToAlignment,\n          cellIndex: scrollToCell,\n          height: height,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          width: width\n        });\n\n        if (scrollPosition.scrollLeft !== scrollLeft || scrollPosition.scrollTop !== scrollTop) {\n          _this._setScrollPosition(scrollPosition);\n        }\n      }\n    };\n\n    _this._onScroll = function (event) {\n      // In certain edge-cases React dispatches an onScroll event with an invalid target.scrollLeft / target.scrollTop.\n      // This invalid event can be detected by comparing event.target to this component's scrollable DOM element.\n      // See issue #404 for more information.\n      if (event.target !== _this._scrollingContainer) {\n        return;\n      }\n\n      // Prevent pointer events from interrupting a smooth scroll\n      _this._enablePointerEventsAfterDelay();\n\n      // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,\n      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.\n      // This causes a series of rapid renders that is slow for long lists.\n      // We can avoid that by doing some simple bounds checking to ensure that scrollTop never exceeds the total height.\n      var _this$props3 = _this.props,\n          cellLayoutManager = _this$props3.cellLayoutManager,\n          height = _this$props3.height,\n          isScrollingChange = _this$props3.isScrollingChange,\n          width = _this$props3.width;\n\n      var scrollbarSize = _this._scrollbarSize;\n\n      var _cellLayoutManager$ge = cellLayoutManager.getTotalSize(),\n          totalHeight = _cellLayoutManager$ge.height,\n          totalWidth = _cellLayoutManager$ge.width;\n\n      var scrollLeft = Math.max(0, Math.min(totalWidth - width + scrollbarSize, event.target.scrollLeft));\n      var scrollTop = Math.max(0, Math.min(totalHeight - height + scrollbarSize, event.target.scrollTop));\n\n      // Certain devices (like Apple touchpad) rapid-fire duplicate events.\n      // Don't force a re-render if this is the case.\n      // The mouse may move faster then the animation frame does.\n      // Use requestAnimationFrame to avoid over-updating.\n      if (_this.state.scrollLeft !== scrollLeft || _this.state.scrollTop !== scrollTop) {\n        // Browsers with cancelable scroll events (eg. Firefox) interrupt scrolling animations if scrollTop/scrollLeft is set.\n        // Other browsers (eg. Safari) don't scroll as well without the help under certain conditions (DOM or style changes during scrolling).\n        // All things considered, this seems to be the best current work around that I'm aware of.\n        // For more information see https://github.com/bvaughn/react-virtualized/pull/124\n        var scrollPositionChangeReason = event.cancelable ? CollectionView_SCROLL_POSITION_CHANGE_REASONS.OBSERVED : CollectionView_SCROLL_POSITION_CHANGE_REASONS.REQUESTED;\n\n        // Synchronously set :isScrolling the first time (since _setNextState will reschedule its animation frame each time it's called)\n        if (!_this.state.isScrolling) {\n          isScrollingChange(true);\n        }\n\n        _this.setState({\n          isScrolling: true,\n          scrollLeft: scrollLeft,\n          scrollPositionChangeReason: scrollPositionChangeReason,\n          scrollTop: scrollTop\n        });\n      }\n\n      _this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        totalWidth: totalWidth,\n        totalHeight: totalHeight\n      });\n    };\n\n    _this._scrollbarSize = scrollbarSize_default()();\n    if (_this._scrollbarSize === undefined) {\n      _this._scrollbarSizeMeasured = false;\n      _this._scrollbarSize = 0;\n    } else {\n      _this._scrollbarSizeMeasured = true;\n    }\n    return _this;\n  }\n\n  /**\n   * Forced recompute of cell sizes and positions.\n   * This function should be called if cell sizes have changed but nothing else has.\n   * Since cell positions are calculated by callbacks, the collection view has no way of detecting when the underlying data has changed.\n   */\n\n\n  (0,createClass/* default */.Z)(CollectionView, [{\n    key: 'recomputeCellSizesAndPositions',\n    value: function recomputeCellSizesAndPositions() {\n      this._calculateSizeAndPositionDataOnNextUpdate = true;\n      this.forceUpdate();\n    }\n\n    /* ---------------------------- Component lifecycle methods ---------------------------- */\n\n    /**\n     * @private\n     * This method updates scrollLeft/scrollTop in state for the following conditions:\n     * 1) Empty content (0 rows or columns)\n     * 2) New scroll props overriding the current state\n     * 3) Cells-count or cells-size has changed, making previous scroll offsets invalid\n     */\n\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          cellLayoutManager = _props.cellLayoutManager,\n          scrollLeft = _props.scrollLeft,\n          scrollToCell = _props.scrollToCell,\n          scrollTop = _props.scrollTop;\n\n      // If this component was first rendered server-side, scrollbar size will be undefined.\n      // In that event we need to remeasure.\n\n      if (!this._scrollbarSizeMeasured) {\n        this._scrollbarSize = scrollbarSize_default()();\n        this._scrollbarSizeMeasured = true;\n        this.setState({});\n      }\n\n      if (scrollToCell >= 0) {\n        this._updateScrollPositionForScrollToCell();\n      } else if (scrollLeft >= 0 || scrollTop >= 0) {\n        this._setScrollPosition({ scrollLeft: scrollLeft, scrollTop: scrollTop });\n      }\n\n      // Update onSectionRendered callback.\n      this._invokeOnSectionRenderedHelper();\n\n      var _cellLayoutManager$ge2 = cellLayoutManager.getTotalSize(),\n          totalHeight = _cellLayoutManager$ge2.height,\n          totalWidth = _cellLayoutManager$ge2.width;\n\n      // Initialize onScroll callback.\n\n\n      this._invokeOnScrollMemoizer({\n        scrollLeft: scrollLeft || 0,\n        scrollTop: scrollTop || 0,\n        totalHeight: totalHeight,\n        totalWidth: totalWidth\n      });\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _props2 = this.props,\n          height = _props2.height,\n          scrollToAlignment = _props2.scrollToAlignment,\n          scrollToCell = _props2.scrollToCell,\n          width = _props2.width;\n      var _state = this.state,\n          scrollLeft = _state.scrollLeft,\n          scrollPositionChangeReason = _state.scrollPositionChangeReason,\n          scrollTop = _state.scrollTop;\n\n      // Make sure requested changes to :scrollLeft or :scrollTop get applied.\n      // Assigning to scrollLeft/scrollTop tells the browser to interrupt any running scroll animations,\n      // And to discard any pending async changes to the scroll position that may have happened in the meantime (e.g. on a separate scrolling thread).\n      // So we only set these when we require an adjustment of the scroll position.\n      // See issue #2 for more information.\n\n      if (scrollPositionChangeReason === CollectionView_SCROLL_POSITION_CHANGE_REASONS.REQUESTED) {\n        if (scrollLeft >= 0 && scrollLeft !== prevState.scrollLeft && scrollLeft !== this._scrollingContainer.scrollLeft) {\n          this._scrollingContainer.scrollLeft = scrollLeft;\n        }\n        if (scrollTop >= 0 && scrollTop !== prevState.scrollTop && scrollTop !== this._scrollingContainer.scrollTop) {\n          this._scrollingContainer.scrollTop = scrollTop;\n        }\n      }\n\n      // Update scroll offsets if the current :scrollToCell values requires it\n      if (height !== prevProps.height || scrollToAlignment !== prevProps.scrollToAlignment || scrollToCell !== prevProps.scrollToCell || width !== prevProps.width) {\n        this._updateScrollPositionForScrollToCell();\n      }\n\n      // Update onRowsRendered callback if start/stop indices have changed\n      this._invokeOnSectionRenderedHelper();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._disablePointerEventsTimeoutId) {\n        clearTimeout(this._disablePointerEventsTimeoutId);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props3 = this.props,\n          autoHeight = _props3.autoHeight,\n          cellCount = _props3.cellCount,\n          cellLayoutManager = _props3.cellLayoutManager,\n          className = _props3.className,\n          height = _props3.height,\n          horizontalOverscanSize = _props3.horizontalOverscanSize,\n          id = _props3.id,\n          noContentRenderer = _props3.noContentRenderer,\n          style = _props3.style,\n          verticalOverscanSize = _props3.verticalOverscanSize,\n          width = _props3.width;\n      var _state2 = this.state,\n          isScrolling = _state2.isScrolling,\n          scrollLeft = _state2.scrollLeft,\n          scrollTop = _state2.scrollTop;\n\n      // Memoization reset\n\n      if (this._lastRenderedCellCount !== cellCount || this._lastRenderedCellLayoutManager !== cellLayoutManager || this._calculateSizeAndPositionDataOnNextUpdate) {\n        this._lastRenderedCellCount = cellCount;\n        this._lastRenderedCellLayoutManager = cellLayoutManager;\n        this._calculateSizeAndPositionDataOnNextUpdate = false;\n\n        cellLayoutManager.calculateSizeAndPositionData();\n      }\n\n      var _cellLayoutManager$ge3 = cellLayoutManager.getTotalSize(),\n          totalHeight = _cellLayoutManager$ge3.height,\n          totalWidth = _cellLayoutManager$ge3.width;\n\n      // Safely expand the rendered area by the specified overscan amount\n\n\n      var left = Math.max(0, scrollLeft - horizontalOverscanSize);\n      var top = Math.max(0, scrollTop - verticalOverscanSize);\n      var right = Math.min(totalWidth, scrollLeft + width + horizontalOverscanSize);\n      var bottom = Math.min(totalHeight, scrollTop + height + verticalOverscanSize);\n\n      var childrenToDisplay = height > 0 && width > 0 ? cellLayoutManager.cellRenderers({\n        height: bottom - top,\n        isScrolling: isScrolling,\n        width: right - left,\n        x: left,\n        y: top\n      }) : [];\n\n      var collectionStyle = {\n        boxSizing: 'border-box',\n        direction: 'ltr',\n        height: autoHeight ? 'auto' : height,\n        position: 'relative',\n        WebkitOverflowScrolling: 'touch',\n        width: width,\n        willChange: 'transform'\n      };\n\n      // Force browser to hide scrollbars when we know they aren't necessary.\n      // Otherwise once scrollbars appear they may not disappear again.\n      // For more info see issue #116\n      var verticalScrollBarSize = totalHeight > height ? this._scrollbarSize : 0;\n      var horizontalScrollBarSize = totalWidth > width ? this._scrollbarSize : 0;\n\n      // Also explicitly init styles to 'auto' if scrollbars are required.\n      // This works around an obscure edge case where external CSS styles have not yet been loaded,\n      // But an initial scroll index of offset is set as an external prop.\n      // Without this style, Grid would render the correct range of cells but would NOT update its internal offset.\n      // This was originally reported via clauderic/react-infinite-calendar/issues/23\n      collectionStyle.overflowX = totalWidth + verticalScrollBarSize <= width ? 'hidden' : 'auto';\n      collectionStyle.overflowY = totalHeight + horizontalScrollBarSize <= height ? 'hidden' : 'auto';\n\n      return external_React_.createElement(\n        'div',\n        {\n          ref: this._setScrollingContainerRef,\n          'aria-label': this.props['aria-label'],\n          className: classnames_default()('ReactVirtualized__Collection', className),\n          id: id,\n          onScroll: this._onScroll,\n          role: 'grid',\n          style: (0,helpers_extends/* default */.Z)({}, collectionStyle, style),\n          tabIndex: 0 },\n        cellCount > 0 && external_React_.createElement(\n          'div',\n          {\n            className: 'ReactVirtualized__Collection__innerScrollContainer',\n            style: {\n              height: totalHeight,\n              maxHeight: totalHeight,\n              maxWidth: totalWidth,\n              overflow: 'hidden',\n              pointerEvents: isScrolling ? 'none' : '',\n              width: totalWidth\n            } },\n          childrenToDisplay\n        ),\n        cellCount === 0 && noContentRenderer()\n      );\n    }\n\n    /* ---------------------------- Helper methods ---------------------------- */\n\n    /**\n     * Sets an :isScrolling flag for a small window of time.\n     * This flag is used to disable pointer events on the scrollable portion of the Collection.\n     * This prevents jerky/stuttery mouse-wheel scrolling.\n     */\n\n  }, {\n    key: '_enablePointerEventsAfterDelay',\n    value: function _enablePointerEventsAfterDelay() {\n      var _this2 = this;\n\n      if (this._disablePointerEventsTimeoutId) {\n        clearTimeout(this._disablePointerEventsTimeoutId);\n      }\n\n      this._disablePointerEventsTimeoutId = setTimeout(function () {\n        var isScrollingChange = _this2.props.isScrollingChange;\n\n\n        isScrollingChange(false);\n\n        _this2._disablePointerEventsTimeoutId = null;\n        _this2.setState({\n          isScrolling: false\n        });\n      }, IS_SCROLLING_TIMEOUT);\n    }\n  }, {\n    key: '_invokeOnScrollMemoizer',\n    value: function _invokeOnScrollMemoizer(_ref2) {\n      var _this3 = this;\n\n      var scrollLeft = _ref2.scrollLeft,\n          scrollTop = _ref2.scrollTop,\n          totalHeight = _ref2.totalHeight,\n          totalWidth = _ref2.totalWidth;\n\n      this._onScrollMemoizer({\n        callback: function callback(_ref3) {\n          var scrollLeft = _ref3.scrollLeft,\n              scrollTop = _ref3.scrollTop;\n          var _props4 = _this3.props,\n              height = _props4.height,\n              onScroll = _props4.onScroll,\n              width = _props4.width;\n\n\n          onScroll({\n            clientHeight: height,\n            clientWidth: width,\n            scrollHeight: totalHeight,\n            scrollLeft: scrollLeft,\n            scrollTop: scrollTop,\n            scrollWidth: totalWidth\n          });\n        },\n        indices: {\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        }\n      });\n    }\n  }, {\n    key: '_setScrollPosition',\n    value: function _setScrollPosition(_ref4) {\n      var scrollLeft = _ref4.scrollLeft,\n          scrollTop = _ref4.scrollTop;\n\n      var newState = {\n        scrollPositionChangeReason: CollectionView_SCROLL_POSITION_CHANGE_REASONS.REQUESTED\n      };\n\n      if (scrollLeft >= 0) {\n        newState.scrollLeft = scrollLeft;\n      }\n\n      if (scrollTop >= 0) {\n        newState.scrollTop = scrollTop;\n      }\n\n      if (scrollLeft >= 0 && scrollLeft !== this.state.scrollLeft || scrollTop >= 0 && scrollTop !== this.state.scrollTop) {\n        this.setState(newState);\n      }\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.cellCount === 0 && (prevState.scrollLeft !== 0 || prevState.scrollTop !== 0)) {\n        return {\n          scrollLeft: 0,\n          scrollTop: 0\n        };\n      } else if (nextProps.scrollLeft !== prevState.scrollLeft || nextProps.scrollTop !== prevState.scrollTop) {\n        return {\n          scrollLeft: nextProps.scrollLeft != null ? nextProps.scrollLeft : prevState.scrollLeft,\n          scrollTop: nextProps.scrollTop != null ? nextProps.scrollTop : prevState.scrollTop\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return CollectionView;\n}(external_React_.PureComponent);\n\nCollectionView.defaultProps = {\n  'aria-label': 'grid',\n  horizontalOverscanSize: 0,\n  noContentRenderer: function noContentRenderer() {\n    return null;\n  },\n  onScroll: function onScroll() {\n    return null;\n  },\n  onSectionRendered: function onSectionRendered() {\n    return null;\n  },\n  scrollToAlignment: 'auto',\n  scrollToCell: -1,\n  style: {},\n  verticalOverscanSize: 0\n};\nCollectionView.propTypes =  false ? 0 : {};\n\n\npolyfill(CollectionView);\n\n/* harmony default export */ const Collection_CollectionView = (CollectionView);\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Collection/types.js\nvar bpfrpt_proptype_Index =  true ? null : 0;\nvar bpfrpt_proptype_PositionInfo =  true ? null : 0;\nvar bpfrpt_proptype_ScrollPosition =  true ? null : 0;\nvar bpfrpt_proptype_SizeAndPositionInfo =  true ? null : 0;\nvar bpfrpt_proptype_SizeInfo =  true ? null : 0;\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Collection/Section.js\n\n\n\n/**\n * A section of the Window.\n * Window Sections are used to group nearby cells.\n * This enables us to more quickly determine which cells to display in a given region of the Window.\n * Sections have a fixed size and contain 0 to many cells (tracked by their indices).\n */\nvar Section = function () {\n  function Section(_ref) {\n    var height = _ref.height,\n        width = _ref.width,\n        x = _ref.x,\n        y = _ref.y;\n\n    (0,classCallCheck/* default */.Z)(this, Section);\n\n    this.height = height;\n    this.width = width;\n    this.x = x;\n    this.y = y;\n\n    this._indexMap = {};\n    this._indices = [];\n  }\n\n  /** Add a cell to this section. */\n\n\n  (0,createClass/* default */.Z)(Section, [{\n    key: 'addCellIndex',\n    value: function addCellIndex(_ref2) {\n      var index = _ref2.index;\n\n      if (!this._indexMap[index]) {\n        this._indexMap[index] = true;\n        this._indices.push(index);\n      }\n    }\n\n    /** Get all cell indices that have been added to this section. */\n\n  }, {\n    key: 'getCellIndices',\n    value: function getCellIndices() {\n      return this._indices;\n    }\n\n    /** Intended for debugger/test purposes only */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return this.x + ',' + this.y + ' ' + this.width + 'x' + this.height;\n    }\n  }]);\n\n  return Section;\n}();\n\n/* harmony default export */ const Collection_Section = (Section);\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Collection/SectionManager.js\n\n\n\n/**\n * Window Sections are used to group nearby cells.\n * This enables us to more quickly determine which cells to display in a given region of the Window.\n * \n */\n\n\n\nvar SECTION_SIZE = 100;\n\n/**\n * Contains 0 to many Sections.\n * Grows (and adds Sections) dynamically as cells are registered.\n * Automatically adds cells to the appropriate Section(s).\n */\nvar SectionManager = function () {\n  function SectionManager() {\n    var sectionSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : SECTION_SIZE;\n\n    (0,classCallCheck/* default */.Z)(this, SectionManager);\n\n    this._sectionSize = sectionSize;\n\n    this._cellMetadata = [];\n    this._sections = {};\n  }\n\n  /**\n   * Gets all cell indices contained in the specified region.\n   * A region may encompass 1 or more Sections.\n   */\n\n\n  (0,createClass/* default */.Z)(SectionManager, [{\n    key: 'getCellIndices',\n    value: function getCellIndices(_ref) {\n      var height = _ref.height,\n          width = _ref.width,\n          x = _ref.x,\n          y = _ref.y;\n\n      var indices = {};\n\n      this.getSections({ height: height, width: width, x: x, y: y }).forEach(function (section) {\n        return section.getCellIndices().forEach(function (index) {\n          indices[index] = index;\n        });\n      });\n\n      // Object keys are strings; this function returns numbers\n      return keys_default()(indices).map(function (index) {\n        return indices[index];\n      });\n    }\n\n    /** Get size and position information for the cell specified. */\n\n  }, {\n    key: 'getCellMetadata',\n    value: function getCellMetadata(_ref2) {\n      var index = _ref2.index;\n\n      return this._cellMetadata[index];\n    }\n\n    /** Get all Sections overlapping the specified region. */\n\n  }, {\n    key: 'getSections',\n    value: function getSections(_ref3) {\n      var height = _ref3.height,\n          width = _ref3.width,\n          x = _ref3.x,\n          y = _ref3.y;\n\n      var sectionXStart = Math.floor(x / this._sectionSize);\n      var sectionXStop = Math.floor((x + width - 1) / this._sectionSize);\n      var sectionYStart = Math.floor(y / this._sectionSize);\n      var sectionYStop = Math.floor((y + height - 1) / this._sectionSize);\n\n      var sections = [];\n\n      for (var sectionX = sectionXStart; sectionX <= sectionXStop; sectionX++) {\n        for (var sectionY = sectionYStart; sectionY <= sectionYStop; sectionY++) {\n          var key = sectionX + '.' + sectionY;\n\n          if (!this._sections[key]) {\n            this._sections[key] = new Collection_Section({\n              height: this._sectionSize,\n              width: this._sectionSize,\n              x: sectionX * this._sectionSize,\n              y: sectionY * this._sectionSize\n            });\n          }\n\n          sections.push(this._sections[key]);\n        }\n      }\n\n      return sections;\n    }\n\n    /** Total number of Sections based on the currently registered cells. */\n\n  }, {\n    key: 'getTotalSectionCount',\n    value: function getTotalSectionCount() {\n      return keys_default()(this._sections).length;\n    }\n\n    /** Intended for debugger/test purposes only */\n\n  }, {\n    key: 'toString',\n    value: function toString() {\n      var _this = this;\n\n      return keys_default()(this._sections).map(function (index) {\n        return _this._sections[index].toString();\n      });\n    }\n\n    /** Adds a cell to the appropriate Sections and registers it metadata for later retrievable. */\n\n  }, {\n    key: 'registerCell',\n    value: function registerCell(_ref4) {\n      var cellMetadatum = _ref4.cellMetadatum,\n          index = _ref4.index;\n\n      this._cellMetadata[index] = cellMetadatum;\n\n      this.getSections(cellMetadatum).forEach(function (section) {\n        return section.addCellIndex({ index: index });\n      });\n    }\n  }]);\n\n  return SectionManager;\n}();\n\n/* harmony default export */ const Collection_SectionManager = (SectionManager);\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Collection/utils/calculateSizeAndPositionData.js\n\n\nfunction calculateSizeAndPositionData_calculateSizeAndPositionData(_ref) {\n  var cellCount = _ref.cellCount,\n      cellSizeAndPositionGetter = _ref.cellSizeAndPositionGetter,\n      sectionSize = _ref.sectionSize;\n\n  var cellMetadata = [];\n  var sectionManager = new Collection_SectionManager(sectionSize);\n  var height = 0;\n  var width = 0;\n\n  for (var index = 0; index < cellCount; index++) {\n    var cellMetadatum = cellSizeAndPositionGetter({ index: index });\n\n    if (cellMetadatum.height == null || isNaN(cellMetadatum.height) || cellMetadatum.width == null || isNaN(cellMetadatum.width) || cellMetadatum.x == null || isNaN(cellMetadatum.x) || cellMetadatum.y == null || isNaN(cellMetadatum.y)) {\n      throw Error('Invalid metadata returned for cell ' + index + ':\\n        x:' + cellMetadatum.x + ', y:' + cellMetadatum.y + ', width:' + cellMetadatum.width + ', height:' + cellMetadatum.height);\n    }\n\n    height = Math.max(height, cellMetadatum.y + cellMetadatum.height);\n    width = Math.max(width, cellMetadatum.x + cellMetadatum.width);\n\n    cellMetadata[index] = cellMetadatum;\n    sectionManager.registerCell({\n      cellMetadatum: cellMetadatum,\n      index: index\n    });\n  }\n\n  return {\n    cellMetadata: cellMetadata,\n    height: height,\n    sectionManager: sectionManager,\n    width: width\n  };\n}\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/utils/getUpdatedOffsetForIndex.js\n/**\n * Determines a new offset that ensures a certain cell is visible, given the current offset.\n * If the cell is already visible then the current offset will be returned.\n * If the current offset is too great or small, it will be adjusted just enough to ensure the specified index is visible.\n *\n * @param align Desired alignment within container; one of \"auto\" (default), \"start\", or \"end\"\n * @param cellOffset Offset (x or y) position for cell\n * @param cellSize Size (width or height) of cell\n * @param containerSize Total size (width or height) of the container\n * @param currentOffset Container's current (x or y) offset\n * @return Offset to use to ensure the specified cell is visible\n */\nfunction getUpdatedOffsetForIndex(_ref) {\n  var _ref$align = _ref.align,\n      align = _ref$align === undefined ? 'auto' : _ref$align,\n      cellOffset = _ref.cellOffset,\n      cellSize = _ref.cellSize,\n      containerSize = _ref.containerSize,\n      currentOffset = _ref.currentOffset;\n\n  var maxOffset = cellOffset;\n  var minOffset = maxOffset - containerSize + cellSize;\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n    case 'end':\n      return minOffset;\n    case 'center':\n      return maxOffset - (containerSize - cellSize) / 2;\n    default:\n      return Math.max(minOffset, Math.min(maxOffset, currentOffset));\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Collection/Collection.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Renders scattered or non-linear data.\n * Unlike Grid, which renders checkerboard data, Collection can render arbitrarily positioned- even overlapping- data.\n */\nvar Collection_Collection = function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(Collection, _React$PureComponent);\n\n  function Collection(props, context) {\n    (0,classCallCheck/* default */.Z)(this, Collection);\n\n    var _this = (0,possibleConstructorReturn/* default */.Z)(this, (Collection.__proto__ || get_prototype_of_default()(Collection)).call(this, props, context));\n\n    _this._cellMetadata = [];\n    _this._lastRenderedCellIndices = [];\n\n    // Cell cache during scroll (for perforamnce)\n    _this._cellCache = [];\n\n    _this._isScrollingChange = _this._isScrollingChange.bind(_this);\n    _this._setCollectionViewRef = _this._setCollectionViewRef.bind(_this);\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(Collection, [{\n    key: 'forceUpdate',\n    value: function forceUpdate() {\n      if (this._collectionView !== undefined) {\n        this._collectionView.forceUpdate();\n      }\n    }\n\n    /** See Collection#recomputeCellSizesAndPositions */\n\n  }, {\n    key: 'recomputeCellSizesAndPositions',\n    value: function recomputeCellSizesAndPositions() {\n      this._cellCache = [];\n      this._collectionView.recomputeCellSizesAndPositions();\n    }\n\n    /** React lifecycle methods */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var props = (0,objectWithoutProperties/* default */.Z)(this.props, []);\n\n      return external_React_.createElement(Collection_CollectionView, (0,helpers_extends/* default */.Z)({\n        cellLayoutManager: this,\n        isScrollingChange: this._isScrollingChange,\n        ref: this._setCollectionViewRef\n      }, props));\n    }\n\n    /** CellLayoutManager interface */\n\n  }, {\n    key: 'calculateSizeAndPositionData',\n    value: function calculateSizeAndPositionData() {\n      var _props = this.props,\n          cellCount = _props.cellCount,\n          cellSizeAndPositionGetter = _props.cellSizeAndPositionGetter,\n          sectionSize = _props.sectionSize;\n\n\n      var data = calculateSizeAndPositionData_calculateSizeAndPositionData({\n        cellCount: cellCount,\n        cellSizeAndPositionGetter: cellSizeAndPositionGetter,\n        sectionSize: sectionSize\n      });\n\n      this._cellMetadata = data.cellMetadata;\n      this._sectionManager = data.sectionManager;\n      this._height = data.height;\n      this._width = data.width;\n    }\n\n    /**\n     * Returns the most recently rendered set of cell indices.\n     */\n\n  }, {\n    key: 'getLastRenderedIndices',\n    value: function getLastRenderedIndices() {\n      return this._lastRenderedCellIndices;\n    }\n\n    /**\n     * Calculates the minimum amount of change from the current scroll position to ensure the specified cell is (fully) visible.\n     */\n\n  }, {\n    key: 'getScrollPositionForCell',\n    value: function getScrollPositionForCell(_ref) {\n      var align = _ref.align,\n          cellIndex = _ref.cellIndex,\n          height = _ref.height,\n          scrollLeft = _ref.scrollLeft,\n          scrollTop = _ref.scrollTop,\n          width = _ref.width;\n      var cellCount = this.props.cellCount;\n\n\n      if (cellIndex >= 0 && cellIndex < cellCount) {\n        var cellMetadata = this._cellMetadata[cellIndex];\n\n        scrollLeft = getUpdatedOffsetForIndex({\n          align: align,\n          cellOffset: cellMetadata.x,\n          cellSize: cellMetadata.width,\n          containerSize: width,\n          currentOffset: scrollLeft,\n          targetIndex: cellIndex\n        });\n\n        scrollTop = getUpdatedOffsetForIndex({\n          align: align,\n          cellOffset: cellMetadata.y,\n          cellSize: cellMetadata.height,\n          containerSize: height,\n          currentOffset: scrollTop,\n          targetIndex: cellIndex\n        });\n      }\n\n      return {\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop\n      };\n    }\n  }, {\n    key: 'getTotalSize',\n    value: function getTotalSize() {\n      return {\n        height: this._height,\n        width: this._width\n      };\n    }\n  }, {\n    key: 'cellRenderers',\n    value: function cellRenderers(_ref2) {\n      var _this2 = this;\n\n      var height = _ref2.height,\n          isScrolling = _ref2.isScrolling,\n          width = _ref2.width,\n          x = _ref2.x,\n          y = _ref2.y;\n      var _props2 = this.props,\n          cellGroupRenderer = _props2.cellGroupRenderer,\n          cellRenderer = _props2.cellRenderer;\n\n      // Store for later calls to getLastRenderedIndices()\n\n      this._lastRenderedCellIndices = this._sectionManager.getCellIndices({\n        height: height,\n        width: width,\n        x: x,\n        y: y\n      });\n\n      return cellGroupRenderer({\n        cellCache: this._cellCache,\n        cellRenderer: cellRenderer,\n        cellSizeAndPositionGetter: function cellSizeAndPositionGetter(_ref3) {\n          var index = _ref3.index;\n          return _this2._sectionManager.getCellMetadata({ index: index });\n        },\n        indices: this._lastRenderedCellIndices,\n        isScrolling: isScrolling\n      });\n    }\n  }, {\n    key: '_isScrollingChange',\n    value: function _isScrollingChange(isScrolling) {\n      if (!isScrolling) {\n        this._cellCache = [];\n      }\n    }\n  }, {\n    key: '_setCollectionViewRef',\n    value: function _setCollectionViewRef(ref) {\n      this._collectionView = ref;\n    }\n  }]);\n\n  return Collection;\n}(external_React_.PureComponent);\n\nCollection_Collection.defaultProps = {\n  'aria-label': 'grid',\n  cellGroupRenderer: defaultCellGroupRenderer\n};\n/* harmony default export */ const es_Collection_Collection = ((/* unused pure expression or super */ null && (Collection_Collection)));\nCollection_Collection.propTypes =  false ? 0 : {};\n\n\nfunction defaultCellGroupRenderer(_ref4) {\n  var cellCache = _ref4.cellCache,\n      cellRenderer = _ref4.cellRenderer,\n      cellSizeAndPositionGetter = _ref4.cellSizeAndPositionGetter,\n      indices = _ref4.indices,\n      isScrolling = _ref4.isScrolling;\n\n  return indices.map(function (index) {\n    var cellMetadata = cellSizeAndPositionGetter({ index: index });\n\n    var cellRendererProps = {\n      index: index,\n      isScrolling: isScrolling,\n      key: index,\n      style: {\n        height: cellMetadata.height,\n        left: cellMetadata.x,\n        position: 'absolute',\n        top: cellMetadata.y,\n        width: cellMetadata.width\n      }\n    };\n\n    // Avoid re-creating cells while scrolling.\n    // This can lead to the same cell being created many times and can cause performance issues for \"heavy\" cells.\n    // If a scroll is in progress- cache and reuse cells.\n    // This cache will be thrown away once scrolling complets.\n    if (isScrolling) {\n      if (!(index in cellCache)) {\n        cellCache[index] = cellRenderer(cellRendererProps);\n      }\n\n      return cellCache[index];\n    } else {\n      return cellRenderer(cellRendererProps);\n    }\n  }).filter(function (renderedCell) {\n    return !!renderedCell;\n  });\n}\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Collection/index.js\n\n\n/* harmony default export */ const es_Collection = ((/* unused pure expression or super */ null && (Collection)));\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/ColumnSizer/ColumnSizer.js\n\n\n\n\n\n\n\n\n/**\n * High-order component that auto-calculates column-widths for `Grid` cells.\n */\n\nvar ColumnSizer_ColumnSizer = function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(ColumnSizer, _React$PureComponent);\n\n  function ColumnSizer(props, context) {\n    (0,classCallCheck/* default */.Z)(this, ColumnSizer);\n\n    var _this = (0,possibleConstructorReturn/* default */.Z)(this, (ColumnSizer.__proto__ || get_prototype_of_default()(ColumnSizer)).call(this, props, context));\n\n    _this._registerChild = _this._registerChild.bind(_this);\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(ColumnSizer, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _props = this.props,\n          columnMaxWidth = _props.columnMaxWidth,\n          columnMinWidth = _props.columnMinWidth,\n          columnCount = _props.columnCount,\n          width = _props.width;\n\n\n      if (columnMaxWidth !== prevProps.columnMaxWidth || columnMinWidth !== prevProps.columnMinWidth || columnCount !== prevProps.columnCount || width !== prevProps.width) {\n        if (this._registeredChild) {\n          this._registeredChild.recomputeGridSize();\n        }\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          children = _props2.children,\n          columnMaxWidth = _props2.columnMaxWidth,\n          columnMinWidth = _props2.columnMinWidth,\n          columnCount = _props2.columnCount,\n          width = _props2.width;\n\n\n      var safeColumnMinWidth = columnMinWidth || 1;\n\n      var safeColumnMaxWidth = columnMaxWidth ? Math.min(columnMaxWidth, width) : width;\n\n      var columnWidth = width / columnCount;\n      columnWidth = Math.max(safeColumnMinWidth, columnWidth);\n      columnWidth = Math.min(safeColumnMaxWidth, columnWidth);\n      columnWidth = Math.floor(columnWidth);\n\n      var adjustedWidth = Math.min(width, columnWidth * columnCount);\n\n      return children({\n        adjustedWidth: adjustedWidth,\n        columnWidth: columnWidth,\n        getColumnWidth: function getColumnWidth() {\n          return columnWidth;\n        },\n        registerChild: this._registerChild\n      });\n    }\n  }, {\n    key: '_registerChild',\n    value: function _registerChild(child) {\n      if (child && typeof child.recomputeGridSize !== 'function') {\n        throw Error('Unexpected child type registered; only Grid/MultiGrid children are supported.');\n      }\n\n      this._registeredChild = child;\n\n      if (this._registeredChild) {\n        this._registeredChild.recomputeGridSize();\n      }\n    }\n  }]);\n\n  return ColumnSizer;\n}(external_React_.PureComponent);\n\n/* harmony default export */ const es_ColumnSizer_ColumnSizer = ((/* unused pure expression or super */ null && (ColumnSizer_ColumnSizer)));\nColumnSizer_ColumnSizer.propTypes =  false ? 0 : {};\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/ColumnSizer/index.js\n\n\n/* harmony default export */ const es_ColumnSizer = ((/* unused pure expression or super */ null && (ColumnSizer)));\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/InfiniteLoader/InfiniteLoader.js\n\n\n\n\n\n\n\n\n\n/**\n * Higher-order component that manages lazy-loading for \"infinite\" data.\n * This component decorates a virtual component and just-in-time prefetches rows as a user scrolls.\n * It is intended as a convenience component; fork it if you'd like finer-grained control over data-loading.\n */\n\nvar InfiniteLoader_InfiniteLoader = function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(InfiniteLoader, _React$PureComponent);\n\n  function InfiniteLoader(props, context) {\n    (0,classCallCheck/* default */.Z)(this, InfiniteLoader);\n\n    var _this = (0,possibleConstructorReturn/* default */.Z)(this, (InfiniteLoader.__proto__ || get_prototype_of_default()(InfiniteLoader)).call(this, props, context));\n\n    _this._loadMoreRowsMemoizer = createCallbackMemoizer();\n\n    _this._onRowsRendered = _this._onRowsRendered.bind(_this);\n    _this._registerChild = _this._registerChild.bind(_this);\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(InfiniteLoader, [{\n    key: 'resetLoadMoreRowsCache',\n    value: function resetLoadMoreRowsCache(autoReload) {\n      this._loadMoreRowsMemoizer = createCallbackMemoizer();\n\n      if (autoReload) {\n        this._doStuff(this._lastRenderedStartIndex, this._lastRenderedStopIndex);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n\n\n      return children({\n        onRowsRendered: this._onRowsRendered,\n        registerChild: this._registerChild\n      });\n    }\n  }, {\n    key: '_loadUnloadedRanges',\n    value: function _loadUnloadedRanges(unloadedRanges) {\n      var _this2 = this;\n\n      var loadMoreRows = this.props.loadMoreRows;\n\n\n      unloadedRanges.forEach(function (unloadedRange) {\n        var promise = loadMoreRows(unloadedRange);\n        if (promise) {\n          promise.then(function () {\n            // Refresh the visible rows if any of them have just been loaded.\n            // Otherwise they will remain in their unloaded visual state.\n            if (isRangeVisible({\n              lastRenderedStartIndex: _this2._lastRenderedStartIndex,\n              lastRenderedStopIndex: _this2._lastRenderedStopIndex,\n              startIndex: unloadedRange.startIndex,\n              stopIndex: unloadedRange.stopIndex\n            })) {\n              if (_this2._registeredChild) {\n                forceUpdateReactVirtualizedComponent(_this2._registeredChild, _this2._lastRenderedStartIndex);\n              }\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: '_onRowsRendered',\n    value: function _onRowsRendered(_ref) {\n      var startIndex = _ref.startIndex,\n          stopIndex = _ref.stopIndex;\n\n      this._lastRenderedStartIndex = startIndex;\n      this._lastRenderedStopIndex = stopIndex;\n\n      this._doStuff(startIndex, stopIndex);\n    }\n  }, {\n    key: '_doStuff',\n    value: function _doStuff(startIndex, stopIndex) {\n      var _this3 = this;\n\n      var _props = this.props,\n          isRowLoaded = _props.isRowLoaded,\n          minimumBatchSize = _props.minimumBatchSize,\n          rowCount = _props.rowCount,\n          threshold = _props.threshold;\n\n\n      var unloadedRanges = scanForUnloadedRanges({\n        isRowLoaded: isRowLoaded,\n        minimumBatchSize: minimumBatchSize,\n        rowCount: rowCount,\n        startIndex: Math.max(0, startIndex - threshold),\n        stopIndex: Math.min(rowCount - 1, stopIndex + threshold)\n      });\n\n      // For memoize comparison\n      var squashedUnloadedRanges = unloadedRanges.reduce(function (reduced, unloadedRange) {\n        return reduced.concat([unloadedRange.startIndex, unloadedRange.stopIndex]);\n      }, []);\n\n      this._loadMoreRowsMemoizer({\n        callback: function callback() {\n          _this3._loadUnloadedRanges(unloadedRanges);\n        },\n        indices: { squashedUnloadedRanges: squashedUnloadedRanges }\n      });\n    }\n  }, {\n    key: '_registerChild',\n    value: function _registerChild(registeredChild) {\n      this._registeredChild = registeredChild;\n    }\n  }]);\n\n  return InfiniteLoader;\n}(external_React_.PureComponent);\n\n/**\n * Determines if the specified start/stop range is visible based on the most recently rendered range.\n */\n\n\nInfiniteLoader_InfiniteLoader.defaultProps = {\n  minimumBatchSize: 10,\n  rowCount: 0,\n  threshold: 15\n};\n/* harmony default export */ const es_InfiniteLoader_InfiniteLoader = ((/* unused pure expression or super */ null && (InfiniteLoader_InfiniteLoader)));\nInfiniteLoader_InfiniteLoader.propTypes =  false ? 0 : {};\nfunction isRangeVisible(_ref2) {\n  var lastRenderedStartIndex = _ref2.lastRenderedStartIndex,\n      lastRenderedStopIndex = _ref2.lastRenderedStopIndex,\n      startIndex = _ref2.startIndex,\n      stopIndex = _ref2.stopIndex;\n\n  return !(startIndex > lastRenderedStopIndex || stopIndex < lastRenderedStartIndex);\n}\n\n/**\n * Returns all of the ranges within a larger range that contain unloaded rows.\n */\nfunction scanForUnloadedRanges(_ref3) {\n  var isRowLoaded = _ref3.isRowLoaded,\n      minimumBatchSize = _ref3.minimumBatchSize,\n      rowCount = _ref3.rowCount,\n      startIndex = _ref3.startIndex,\n      stopIndex = _ref3.stopIndex;\n\n  var unloadedRanges = [];\n\n  var rangeStartIndex = null;\n  var rangeStopIndex = null;\n\n  for (var index = startIndex; index <= stopIndex; index++) {\n    var loaded = isRowLoaded({ index: index });\n\n    if (!loaded) {\n      rangeStopIndex = index;\n      if (rangeStartIndex === null) {\n        rangeStartIndex = index;\n      }\n    } else if (rangeStopIndex !== null) {\n      unloadedRanges.push({\n        startIndex: rangeStartIndex,\n        stopIndex: rangeStopIndex\n      });\n\n      rangeStartIndex = rangeStopIndex = null;\n    }\n  }\n\n  // If :rangeStopIndex is not null it means we haven't ran out of unloaded rows.\n  // Scan forward to try filling our :minimumBatchSize.\n  if (rangeStopIndex !== null) {\n    var potentialStopIndex = Math.min(Math.max(rangeStopIndex, rangeStartIndex + minimumBatchSize - 1), rowCount - 1);\n\n    for (var _index = rangeStopIndex + 1; _index <= potentialStopIndex; _index++) {\n      if (!isRowLoaded({ index: _index })) {\n        rangeStopIndex = _index;\n      } else {\n        break;\n      }\n    }\n\n    unloadedRanges.push({\n      startIndex: rangeStartIndex,\n      stopIndex: rangeStopIndex\n    });\n  }\n\n  // Check to see if our first range ended prematurely.\n  // In this case we should scan backwards to try filling our :minimumBatchSize.\n  if (unloadedRanges.length) {\n    var firstUnloadedRange = unloadedRanges[0];\n\n    while (firstUnloadedRange.stopIndex - firstUnloadedRange.startIndex + 1 < minimumBatchSize && firstUnloadedRange.startIndex > 0) {\n      var _index2 = firstUnloadedRange.startIndex - 1;\n\n      if (!isRowLoaded({ index: _index2 })) {\n        firstUnloadedRange.startIndex = _index2;\n      } else {\n        break;\n      }\n    }\n  }\n\n  return unloadedRanges;\n}\n\n/**\n * Since RV components use shallowCompare we need to force a render (even though props haven't changed).\n * However InfiniteLoader may wrap a Grid or it may wrap a Table or List.\n * In the first case the built-in React forceUpdate() method is sufficient to force a re-render,\n * But in the latter cases we need to use the RV-specific forceUpdateGrid() method.\n * Else the inner Grid will not be re-rendered and visuals may be stale.\n *\n * Additionally, while a Grid is scrolling the cells can be cached,\n * So it's important to invalidate that cache by recalculating sizes\n * before forcing a rerender.\n */\nfunction forceUpdateReactVirtualizedComponent(component) {\n  var currentIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  var recomputeSize = typeof component.recomputeGridSize === 'function' ? component.recomputeGridSize : component.recomputeRowHeights;\n\n  if (recomputeSize) {\n    recomputeSize.call(component, currentIndex);\n  } else {\n    component.forceUpdate();\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/InfiniteLoader/index.js\n\n\n/* harmony default export */ const es_InfiniteLoader = ((/* unused pure expression or super */ null && (InfiniteLoader)));\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js\nvar get_own_property_descriptor = __webpack_require__(8177);\nvar get_own_property_descriptor_default = /*#__PURE__*/__webpack_require__.n(get_own_property_descriptor);\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/List/types.js\n\n\nvar bpfrpt_proptype_RowRendererParams =  true ? null : 0;\nvar bpfrpt_proptype_RowRenderer =  true ? null : 0;\nvar bpfrpt_proptype_RenderedRows =  true ? null : 0;\nvar types_bpfrpt_proptype_Scroll =  true ? null : 0;\n\n\n\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/List/List.js\n\n\n\n\n\n\n\n\n\n\n\n/**\n * It is inefficient to create and manage a large list of DOM elements within a scrolling container\n * if only a few of those elements are visible. The primary purpose of this component is to improve\n * performance by only rendering the DOM nodes that a user is able to see based on their current\n * scroll position.\n *\n * This component renders a virtualized list of elements with either fixed or dynamic heights.\n */\n\nvar List = function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(List, _React$PureComponent);\n\n  function List() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0,classCallCheck/* default */.Z)(this, List);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0,possibleConstructorReturn/* default */.Z)(this, (_ref = List.__proto__ || get_prototype_of_default()(List)).call.apply(_ref, [this].concat(args))), _this), _this._cellRenderer = function (_ref2) {\n      var parent = _ref2.parent,\n          rowIndex = _ref2.rowIndex,\n          style = _ref2.style,\n          isScrolling = _ref2.isScrolling,\n          isVisible = _ref2.isVisible,\n          key = _ref2.key;\n      var rowRenderer = _this.props.rowRenderer;\n\n      // TRICKY The style object is sometimes cached by Grid.\n      // This prevents new style objects from bypassing shallowCompare().\n      // However as of React 16, style props are auto-frozen (at least in dev mode)\n      // Check to make sure we can still modify the style before proceeding.\n      // https://github.com/facebook/react/commit/977357765b44af8ff0cfea327866861073095c12#commitcomment-20648713\n\n      var _Object$getOwnPropert = get_own_property_descriptor_default()(style, 'width'),\n          writable = _Object$getOwnPropert.writable;\n\n      if (writable) {\n        // By default, List cells should be 100% width.\n        // This prevents them from flowing under a scrollbar (if present).\n        style.width = '100%';\n      }\n\n      return rowRenderer({\n        index: rowIndex,\n        style: style,\n        isScrolling: isScrolling,\n        isVisible: isVisible,\n        key: key,\n        parent: parent\n      });\n    }, _this._setRef = function (ref) {\n      _this.Grid = ref;\n    }, _this._onScroll = function (_ref3) {\n      var clientHeight = _ref3.clientHeight,\n          scrollHeight = _ref3.scrollHeight,\n          scrollTop = _ref3.scrollTop;\n      var onScroll = _this.props.onScroll;\n\n\n      onScroll({ clientHeight: clientHeight, scrollHeight: scrollHeight, scrollTop: scrollTop });\n    }, _this._onSectionRendered = function (_ref4) {\n      var rowOverscanStartIndex = _ref4.rowOverscanStartIndex,\n          rowOverscanStopIndex = _ref4.rowOverscanStopIndex,\n          rowStartIndex = _ref4.rowStartIndex,\n          rowStopIndex = _ref4.rowStopIndex;\n      var onRowsRendered = _this.props.onRowsRendered;\n\n\n      onRowsRendered({\n        overscanStartIndex: rowOverscanStartIndex,\n        overscanStopIndex: rowOverscanStopIndex,\n        startIndex: rowStartIndex,\n        stopIndex: rowStopIndex\n      });\n    }, _temp), (0,possibleConstructorReturn/* default */.Z)(_this, _ret);\n  }\n\n  (0,createClass/* default */.Z)(List, [{\n    key: 'forceUpdateGrid',\n    value: function forceUpdateGrid() {\n      if (this.Grid) {\n        this.Grid.forceUpdate();\n      }\n    }\n\n    /** See Grid#getOffsetForCell */\n\n  }, {\n    key: 'getOffsetForRow',\n    value: function getOffsetForRow(_ref5) {\n      var alignment = _ref5.alignment,\n          index = _ref5.index;\n\n      if (this.Grid) {\n        var _Grid$getOffsetForCel = this.Grid.getOffsetForCell({\n          alignment: alignment,\n          rowIndex: index,\n          columnIndex: 0\n        }),\n            _scrollTop = _Grid$getOffsetForCel.scrollTop;\n\n        return _scrollTop;\n      }\n      return 0;\n    }\n\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: 'invalidateCellSizeAfterRender',\n    value: function invalidateCellSizeAfterRender(_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex;\n\n      if (this.Grid) {\n        this.Grid.invalidateCellSizeAfterRender({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n\n    /** See Grid#measureAllCells */\n\n  }, {\n    key: 'measureAllRows',\n    value: function measureAllRows() {\n      if (this.Grid) {\n        this.Grid.measureAllCells();\n      }\n    }\n\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: 'recomputeGridSize',\n    value: function recomputeGridSize() {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$columnIndex = _ref7.columnIndex,\n          columnIndex = _ref7$columnIndex === undefined ? 0 : _ref7$columnIndex,\n          _ref7$rowIndex = _ref7.rowIndex,\n          rowIndex = _ref7$rowIndex === undefined ? 0 : _ref7$rowIndex;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n\n    /** See Grid#recomputeGridSize */\n\n  }, {\n    key: 'recomputeRowHeights',\n    value: function recomputeRowHeights() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: index,\n          columnIndex: 0\n        });\n      }\n    }\n\n    /** See Grid#scrollToPosition */\n\n  }, {\n    key: 'scrollToPosition',\n    value: function scrollToPosition() {\n      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToPosition({ scrollTop: scrollTop });\n      }\n    }\n\n    /** See Grid#scrollToCell */\n\n  }, {\n    key: 'scrollToRow',\n    value: function scrollToRow() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToCell({\n          columnIndex: 0,\n          rowIndex: index\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          className = _props.className,\n          noRowsRenderer = _props.noRowsRenderer,\n          scrollToIndex = _props.scrollToIndex,\n          width = _props.width;\n\n\n      var classNames = classnames_default()('ReactVirtualized__List', className);\n\n      return external_React_.createElement(Grid_Grid, (0,helpers_extends/* default */.Z)({}, this.props, {\n        autoContainerWidth: true,\n        cellRenderer: this._cellRenderer,\n        className: classNames,\n        columnWidth: width,\n        columnCount: 1,\n        noContentRenderer: noRowsRenderer,\n        onScroll: this._onScroll,\n        onSectionRendered: this._onSectionRendered,\n        ref: this._setRef,\n        scrollToRow: scrollToIndex\n      }));\n    }\n  }]);\n\n  return List;\n}(external_React_.PureComponent);\n\nList.defaultProps = {\n  autoHeight: false,\n  estimatedRowSize: 30,\n  onScroll: function onScroll() {},\n  noRowsRenderer: function noRowsRenderer() {\n    return null;\n  },\n  onRowsRendered: function onRowsRendered() {},\n  overscanIndicesGetter: accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter,\n  overscanRowCount: 10,\n  scrollToAlignment: 'auto',\n  scrollToIndex: -1,\n  style: {}\n};\nList.propTypes =  true ? null : 0;\n/* harmony default export */ const List_List = ((/* unused pure expression or super */ null && (List)));\n\n\n\n\n\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/List/index.js\n\n\n\n\n\n\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/defineProperty.js\nvar defineProperty = __webpack_require__(88106);\n// EXTERNAL MODULE: ./node_modules/babel-runtime/helpers/slicedToArray.js\nvar slicedToArray = __webpack_require__(12424);\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/vendor/binarySearchBounds.js\n/**\n * Binary Search Bounds\n * https://github.com/mikolalysenko/binary-search-bounds\n * Mikola Lysenko\n *\n * Inlined because of Content Security Policy issue caused by the use of `new Function(...)` syntax.\n * Issue reported here: https://github.com/mikolalysenko/binary-search-bounds/issues/5\n **/\n\nfunction _GEA(a, l, h, y) {\n  var i = h + 1;\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n    if (x >= y) {\n      i = m;\n      h = m - 1;\n    } else {\n      l = m + 1;\n    }\n  }\n  return i;\n}\nfunction _GEP(a, l, h, y, c) {\n  var i = h + 1;\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n    if (c(x, y) >= 0) {\n      i = m;\n      h = m - 1;\n    } else {\n      l = m + 1;\n    }\n  }\n  return i;\n}\nfunction dispatchBsearchGE(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _GEP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _GEA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\nfunction _GTA(a, l, h, y) {\n  var i = h + 1;\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n    if (x > y) {\n      i = m;\n      h = m - 1;\n    } else {\n      l = m + 1;\n    }\n  }\n  return i;\n}\nfunction _GTP(a, l, h, y, c) {\n  var i = h + 1;\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n    if (c(x, y) > 0) {\n      i = m;\n      h = m - 1;\n    } else {\n      l = m + 1;\n    }\n  }\n  return i;\n}\nfunction dispatchBsearchGT(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _GTP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _GTA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\nfunction _LTA(a, l, h, y) {\n  var i = l - 1;\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n    if (x < y) {\n      i = m;\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n  return i;\n}\nfunction _LTP(a, l, h, y, c) {\n  var i = l - 1;\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n    if (c(x, y) < 0) {\n      i = m;\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n  return i;\n}\nfunction dispatchBsearchLT(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _LTP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _LTA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\nfunction _LEA(a, l, h, y) {\n  var i = l - 1;\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n    if (x <= y) {\n      i = m;\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n  return i;\n}\nfunction _LEP(a, l, h, y, c) {\n  var i = l - 1;\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n    if (c(x, y) <= 0) {\n      i = m;\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n  return i;\n}\nfunction dispatchBsearchLE(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _LEP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _LEA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\nfunction _EQA(a, l, h, y) {\n  l - 1;\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n    if (x === y) {\n      return m;\n    } else if (x <= y) {\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n  return -1;\n}\nfunction _EQP(a, l, h, y, c) {\n  l - 1;\n  while (l <= h) {\n    var m = l + h >>> 1,\n        x = a[m];\n    var p = c(x, y);\n    if (p === 0) {\n      return m;\n    } else if (p <= 0) {\n      l = m + 1;\n    } else {\n      h = m - 1;\n    }\n  }\n  return -1;\n}\nfunction dispatchBsearchEQ(a, y, c, l, h) {\n  if (typeof c === 'function') {\n    return _EQP(a, l === void 0 ? 0 : l | 0, h === void 0 ? a.length - 1 : h | 0, y, c);\n  } else {\n    return _EQA(a, c === void 0 ? 0 : c | 0, l === void 0 ? a.length - 1 : l | 0, y);\n  }\n}\n\n/* harmony default export */ const binarySearchBounds = ({\n  ge: dispatchBsearchGE,\n  gt: dispatchBsearchGT,\n  lt: dispatchBsearchLT,\n  le: dispatchBsearchLE,\n  eq: dispatchBsearchEQ\n});\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/vendor/intervalTree.js\n/**\n * Binary Search Bounds\n * https://github.com/mikolalysenko/interval-tree-1d\n * Mikola Lysenko\n *\n * Inlined because of Content Security Policy issue caused by the use of `new Function(...)` syntax in an upstream dependency.\n * Issue reported here: https://github.com/mikolalysenko/binary-search-bounds/issues/5\n **/\n\n\n\nvar NOT_FOUND = 0;\nvar SUCCESS = 1;\nvar EMPTY = 2;\n\nfunction IntervalTreeNode(mid, left, right, leftPoints, rightPoints) {\n  this.mid = mid;\n  this.left = left;\n  this.right = right;\n  this.leftPoints = leftPoints;\n  this.rightPoints = rightPoints;\n  this.count = (left ? left.count : 0) + (right ? right.count : 0) + leftPoints.length;\n}\n\nvar proto = IntervalTreeNode.prototype;\n\nfunction copy(a, b) {\n  a.mid = b.mid;\n  a.left = b.left;\n  a.right = b.right;\n  a.leftPoints = b.leftPoints;\n  a.rightPoints = b.rightPoints;\n  a.count = b.count;\n}\n\nfunction rebuild(node, intervals) {\n  var ntree = createIntervalTree(intervals);\n  node.mid = ntree.mid;\n  node.left = ntree.left;\n  node.right = ntree.right;\n  node.leftPoints = ntree.leftPoints;\n  node.rightPoints = ntree.rightPoints;\n  node.count = ntree.count;\n}\n\nfunction rebuildWithInterval(node, interval) {\n  var intervals = node.intervals([]);\n  intervals.push(interval);\n  rebuild(node, intervals);\n}\n\nfunction rebuildWithoutInterval(node, interval) {\n  var intervals = node.intervals([]);\n  var idx = intervals.indexOf(interval);\n  if (idx < 0) {\n    return NOT_FOUND;\n  }\n  intervals.splice(idx, 1);\n  rebuild(node, intervals);\n  return SUCCESS;\n}\n\nproto.intervals = function (result) {\n  result.push.apply(result, this.leftPoints);\n  if (this.left) {\n    this.left.intervals(result);\n  }\n  if (this.right) {\n    this.right.intervals(result);\n  }\n  return result;\n};\n\nproto.insert = function (interval) {\n  var weight = this.count - this.leftPoints.length;\n  this.count += 1;\n  if (interval[1] < this.mid) {\n    if (this.left) {\n      if (4 * (this.left.count + 1) > 3 * (weight + 1)) {\n        rebuildWithInterval(this, interval);\n      } else {\n        this.left.insert(interval);\n      }\n    } else {\n      this.left = createIntervalTree([interval]);\n    }\n  } else if (interval[0] > this.mid) {\n    if (this.right) {\n      if (4 * (this.right.count + 1) > 3 * (weight + 1)) {\n        rebuildWithInterval(this, interval);\n      } else {\n        this.right.insert(interval);\n      }\n    } else {\n      this.right = createIntervalTree([interval]);\n    }\n  } else {\n    var l = binarySearchBounds.ge(this.leftPoints, interval, compareBegin);\n    var r = binarySearchBounds.ge(this.rightPoints, interval, compareEnd);\n    this.leftPoints.splice(l, 0, interval);\n    this.rightPoints.splice(r, 0, interval);\n  }\n};\n\nproto.remove = function (interval) {\n  var weight = this.count - this.leftPoints;\n  if (interval[1] < this.mid) {\n    if (!this.left) {\n      return NOT_FOUND;\n    }\n    var rw = this.right ? this.right.count : 0;\n    if (4 * rw > 3 * (weight - 1)) {\n      return rebuildWithoutInterval(this, interval);\n    }\n    var r = this.left.remove(interval);\n    if (r === EMPTY) {\n      this.left = null;\n      this.count -= 1;\n      return SUCCESS;\n    } else if (r === SUCCESS) {\n      this.count -= 1;\n    }\n    return r;\n  } else if (interval[0] > this.mid) {\n    if (!this.right) {\n      return NOT_FOUND;\n    }\n    var lw = this.left ? this.left.count : 0;\n    if (4 * lw > 3 * (weight - 1)) {\n      return rebuildWithoutInterval(this, interval);\n    }\n    var r = this.right.remove(interval);\n    if (r === EMPTY) {\n      this.right = null;\n      this.count -= 1;\n      return SUCCESS;\n    } else if (r === SUCCESS) {\n      this.count -= 1;\n    }\n    return r;\n  } else {\n    if (this.count === 1) {\n      if (this.leftPoints[0] === interval) {\n        return EMPTY;\n      } else {\n        return NOT_FOUND;\n      }\n    }\n    if (this.leftPoints.length === 1 && this.leftPoints[0] === interval) {\n      if (this.left && this.right) {\n        var p = this;\n        var n = this.left;\n        while (n.right) {\n          p = n;\n          n = n.right;\n        }\n        if (p === this) {\n          n.right = this.right;\n        } else {\n          var l = this.left;\n          var r = this.right;\n          p.count -= n.count;\n          p.right = n.left;\n          n.left = l;\n          n.right = r;\n        }\n        copy(this, n);\n        this.count = (this.left ? this.left.count : 0) + (this.right ? this.right.count : 0) + this.leftPoints.length;\n      } else if (this.left) {\n        copy(this, this.left);\n      } else {\n        copy(this, this.right);\n      }\n      return SUCCESS;\n    }\n    for (var l = binarySearchBounds.ge(this.leftPoints, interval, compareBegin); l < this.leftPoints.length; ++l) {\n      if (this.leftPoints[l][0] !== interval[0]) {\n        break;\n      }\n      if (this.leftPoints[l] === interval) {\n        this.count -= 1;\n        this.leftPoints.splice(l, 1);\n        for (var r = binarySearchBounds.ge(this.rightPoints, interval, compareEnd); r < this.rightPoints.length; ++r) {\n          if (this.rightPoints[r][1] !== interval[1]) {\n            break;\n          } else if (this.rightPoints[r] === interval) {\n            this.rightPoints.splice(r, 1);\n            return SUCCESS;\n          }\n        }\n      }\n    }\n    return NOT_FOUND;\n  }\n};\n\nfunction reportLeftRange(arr, hi, cb) {\n  for (var i = 0; i < arr.length && arr[i][0] <= hi; ++i) {\n    var r = cb(arr[i]);\n    if (r) {\n      return r;\n    }\n  }\n}\n\nfunction reportRightRange(arr, lo, cb) {\n  for (var i = arr.length - 1; i >= 0 && arr[i][1] >= lo; --i) {\n    var r = cb(arr[i]);\n    if (r) {\n      return r;\n    }\n  }\n}\n\nfunction reportRange(arr, cb) {\n  for (var i = 0; i < arr.length; ++i) {\n    var r = cb(arr[i]);\n    if (r) {\n      return r;\n    }\n  }\n}\n\nproto.queryPoint = function (x, cb) {\n  if (x < this.mid) {\n    if (this.left) {\n      var r = this.left.queryPoint(x, cb);\n      if (r) {\n        return r;\n      }\n    }\n    return reportLeftRange(this.leftPoints, x, cb);\n  } else if (x > this.mid) {\n    if (this.right) {\n      var r = this.right.queryPoint(x, cb);\n      if (r) {\n        return r;\n      }\n    }\n    return reportRightRange(this.rightPoints, x, cb);\n  } else {\n    return reportRange(this.leftPoints, cb);\n  }\n};\n\nproto.queryInterval = function (lo, hi, cb) {\n  if (lo < this.mid && this.left) {\n    var r = this.left.queryInterval(lo, hi, cb);\n    if (r) {\n      return r;\n    }\n  }\n  if (hi > this.mid && this.right) {\n    var r = this.right.queryInterval(lo, hi, cb);\n    if (r) {\n      return r;\n    }\n  }\n  if (hi < this.mid) {\n    return reportLeftRange(this.leftPoints, hi, cb);\n  } else if (lo > this.mid) {\n    return reportRightRange(this.rightPoints, lo, cb);\n  } else {\n    return reportRange(this.leftPoints, cb);\n  }\n};\n\nfunction compareNumbers(a, b) {\n  return a - b;\n}\n\nfunction compareBegin(a, b) {\n  var d = a[0] - b[0];\n  if (d) {\n    return d;\n  }\n  return a[1] - b[1];\n}\n\nfunction compareEnd(a, b) {\n  var d = a[1] - b[1];\n  if (d) {\n    return d;\n  }\n  return a[0] - b[0];\n}\n\nfunction createIntervalTree(intervals) {\n  if (intervals.length === 0) {\n    return null;\n  }\n  var pts = [];\n  for (var i = 0; i < intervals.length; ++i) {\n    pts.push(intervals[i][0], intervals[i][1]);\n  }\n  pts.sort(compareNumbers);\n\n  var mid = pts[pts.length >> 1];\n\n  var leftIntervals = [];\n  var rightIntervals = [];\n  var centerIntervals = [];\n  for (var i = 0; i < intervals.length; ++i) {\n    var s = intervals[i];\n    if (s[1] < mid) {\n      leftIntervals.push(s);\n    } else if (mid < s[0]) {\n      rightIntervals.push(s);\n    } else {\n      centerIntervals.push(s);\n    }\n  }\n\n  //Split center intervals\n  var leftPoints = centerIntervals;\n  var rightPoints = centerIntervals.slice();\n  leftPoints.sort(compareBegin);\n  rightPoints.sort(compareEnd);\n\n  return new IntervalTreeNode(mid, createIntervalTree(leftIntervals), createIntervalTree(rightIntervals), leftPoints, rightPoints);\n}\n\n//User friendly wrapper that makes it possible to support empty trees\nfunction IntervalTree(root) {\n  this.root = root;\n}\n\nvar tproto = IntervalTree.prototype;\n\ntproto.insert = function (interval) {\n  if (this.root) {\n    this.root.insert(interval);\n  } else {\n    this.root = new IntervalTreeNode(interval[0], null, null, [interval], [interval]);\n  }\n};\n\ntproto.remove = function (interval) {\n  if (this.root) {\n    var r = this.root.remove(interval);\n    if (r === EMPTY) {\n      this.root = null;\n    }\n    return r !== NOT_FOUND;\n  }\n  return false;\n};\n\ntproto.queryPoint = function (p, cb) {\n  if (this.root) {\n    return this.root.queryPoint(p, cb);\n  }\n};\n\ntproto.queryInterval = function (lo, hi, cb) {\n  if (lo <= hi && this.root) {\n    return this.root.queryInterval(lo, hi, cb);\n  }\n};\n\nObject.defineProperty(tproto, 'count', {\n  get: function get() {\n    if (this.root) {\n      return this.root.count;\n    }\n    return 0;\n  }\n});\n\nObject.defineProperty(tproto, 'intervals', {\n  get: function get() {\n    if (this.root) {\n      return this.root.intervals([]);\n    }\n    return [];\n  }\n});\n\nfunction createWrapper(intervals) {\n  if (!intervals || intervals.length === 0) {\n    return new IntervalTree(null);\n  }\n  return new IntervalTree(createIntervalTree(intervals));\n}\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Masonry/PositionCache.js\n\n\n\n\n\n// Position cache requirements:\n//   O(log(n)) lookup of cells to render for a given viewport size\n//   O(1) lookup of shortest measured column (so we know when to enter phase 1)\nvar PositionCache = function () {\n  function PositionCache() {\n    (0,classCallCheck/* default */.Z)(this, PositionCache);\n\n    this._columnSizeMap = {};\n    this._intervalTree = createWrapper();\n    this._leftMap = {};\n  }\n  // Tracks the height of each column\n\n\n  // Store tops and bottoms of each cell for fast intersection lookup.\n\n\n  // Maps cell index to x coordinates for quick lookup.\n\n\n  (0,createClass/* default */.Z)(PositionCache, [{\n    key: 'estimateTotalHeight',\n    value: function estimateTotalHeight(cellCount, columnCount, defaultCellHeight) {\n      var unmeasuredCellCount = cellCount - this.count;\n      return this.tallestColumnSize + Math.ceil(unmeasuredCellCount / columnCount) * defaultCellHeight;\n    }\n\n    // Render all cells visible within the viewport range defined.\n\n  }, {\n    key: 'range',\n    value: function range(scrollTop, clientHeight, renderCallback) {\n      var _this = this;\n\n      this._intervalTree.queryInterval(scrollTop, scrollTop + clientHeight, function (_ref) {\n        var _ref2 = (0,slicedToArray/* default */.Z)(_ref, 3),\n            top = _ref2[0],\n            _ = _ref2[1],\n            index = _ref2[2];\n\n        return renderCallback(index, _this._leftMap[index], top);\n      });\n    }\n  }, {\n    key: 'setPosition',\n    value: function setPosition(index, left, top, height) {\n      this._intervalTree.insert([top, top + height, index]);\n      this._leftMap[index] = left;\n\n      var columnSizeMap = this._columnSizeMap;\n      var columnHeight = columnSizeMap[left];\n      if (columnHeight === undefined) {\n        columnSizeMap[left] = top + height;\n      } else {\n        columnSizeMap[left] = Math.max(columnHeight, top + height);\n      }\n    }\n  }, {\n    key: 'count',\n    get: function get() {\n      return this._intervalTree.count;\n    }\n  }, {\n    key: 'shortestColumnSize',\n    get: function get() {\n      var columnSizeMap = this._columnSizeMap;\n\n      var size = 0;\n\n      for (var i in columnSizeMap) {\n        var height = columnSizeMap[i];\n        size = size === 0 ? height : Math.min(size, height);\n      }\n\n      return size;\n    }\n  }, {\n    key: 'tallestColumnSize',\n    get: function get() {\n      var columnSizeMap = this._columnSizeMap;\n\n      var size = 0;\n\n      for (var i in columnSizeMap) {\n        var height = columnSizeMap[i];\n        size = Math.max(size, height);\n      }\n\n      return size;\n    }\n  }]);\n\n  return PositionCache;\n}();\n\n/* harmony default export */ const Masonry_PositionCache = (PositionCache);\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Masonry/Masonry.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar emptyObject = {};\n\n/**\n * Specifies the number of miliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\nvar Masonry_DEFAULT_SCROLLING_RESET_TIME_INTERVAL = 150;\n\n/**\n * This component efficiently displays arbitrarily positioned cells using windowing techniques.\n * Cell position is determined by an injected `cellPositioner` property.\n * Windowing is vertical; this component does not support horizontal scrolling.\n *\n * Rendering occurs in two phases:\n * 1) First pass uses estimated cell sizes (provided by the cache) to determine how many cells to measure in a batch.\n *    Batch size is chosen using a fast, naive layout algorithm that stacks images in order until the viewport has been filled.\n *    After measurement is complete (componentDidMount or componentDidUpdate) this component evaluates positioned cells\n *    in order to determine if another measurement pass is required (eg if actual cell sizes were less than estimated sizes).\n *    All measurements are permanently cached (keyed by `keyMapper`) for performance purposes.\n * 2) Second pass uses the external `cellPositioner` to layout cells.\n *    At this time the positioner has access to cached size measurements for all cells.\n *    The positions it returns are cached by Masonry for fast access later.\n *    Phase one is repeated if the user scrolls beyond the current layout's bounds.\n *    If the layout is invalidated due to eg a resize, cached positions can be cleared using `recomputeCellPositions()`.\n *\n * Animation constraints:\n *   Simple animations are supported (eg translate/slide into place on initial reveal).\n *   More complex animations are not (eg flying from one position to another on resize).\n *\n * Layout constraints:\n *   This component supports multi-column layout.\n *   The height of each item may vary.\n *   The width of each item must not exceed the width of the column it is \"in\".\n *   The left position of all items within a column must align.\n *   (Items may not span multiple columns.)\n */\n\nvar Masonry_Masonry = function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(Masonry, _React$PureComponent);\n\n  function Masonry() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0,classCallCheck/* default */.Z)(this, Masonry);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0,possibleConstructorReturn/* default */.Z)(this, (_ref = Masonry.__proto__ || get_prototype_of_default()(Masonry)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      isScrolling: false,\n      scrollTop: 0\n    }, _this._invalidateOnUpdateStartIndex = null, _this._invalidateOnUpdateStopIndex = null, _this._positionCache = new Masonry_PositionCache(), _this._startIndex = null, _this._startIndexMemoized = null, _this._stopIndex = null, _this._stopIndexMemoized = null, _this._debounceResetIsScrollingCallback = function () {\n      _this.setState({\n        isScrolling: false\n      });\n    }, _this._setScrollingContainerRef = function (ref) {\n      _this._scrollingContainer = ref;\n    }, _this._onScroll = function (event) {\n      var height = _this.props.height;\n\n\n      var eventScrollTop = event.target.scrollTop;\n\n      // When this component is shrunk drastically, React dispatches a series of back-to-back scroll events,\n      // Gradually converging on a scrollTop that is within the bounds of the new, smaller height.\n      // This causes a series of rapid renders that is slow for long lists.\n      // We can avoid that by doing some simple bounds checking to ensure that scroll offsets never exceed their bounds.\n      var scrollTop = Math.min(Math.max(0, _this._getEstimatedTotalHeight() - height), eventScrollTop);\n\n      // On iOS, we can arrive at negative offsets by swiping past the start or end.\n      // Avoid re-rendering in this case as it can cause problems; see #532 for more.\n      if (eventScrollTop !== scrollTop) {\n        return;\n      }\n\n      // Prevent pointer events from interrupting a smooth scroll\n      _this._debounceResetIsScrolling();\n\n      // Certain devices (like Apple touchpad) rapid-fire duplicate events.\n      // Don't force a re-render if this is the case.\n      // The mouse may move faster then the animation frame does.\n      // Use requestAnimationFrame to avoid over-updating.\n      if (_this.state.scrollTop !== scrollTop) {\n        _this.setState({\n          isScrolling: true,\n          scrollTop: scrollTop\n        });\n      }\n    }, _temp), (0,possibleConstructorReturn/* default */.Z)(_this, _ret);\n  }\n\n  (0,createClass/* default */.Z)(Masonry, [{\n    key: 'clearCellPositions',\n    value: function clearCellPositions() {\n      this._positionCache = new Masonry_PositionCache();\n      this.forceUpdate();\n    }\n\n    // HACK This method signature was intended for Grid\n\n  }, {\n    key: 'invalidateCellSizeAfterRender',\n    value: function invalidateCellSizeAfterRender(_ref2) {\n      var index = _ref2.rowIndex;\n\n      if (this._invalidateOnUpdateStartIndex === null) {\n        this._invalidateOnUpdateStartIndex = index;\n        this._invalidateOnUpdateStopIndex = index;\n      } else {\n        this._invalidateOnUpdateStartIndex = Math.min(this._invalidateOnUpdateStartIndex, index);\n        this._invalidateOnUpdateStopIndex = Math.max(this._invalidateOnUpdateStopIndex, index);\n      }\n    }\n  }, {\n    key: 'recomputeCellPositions',\n    value: function recomputeCellPositions() {\n      var stopIndex = this._positionCache.count - 1;\n\n      this._positionCache = new Masonry_PositionCache();\n      this._populatePositionCache(0, stopIndex);\n\n      this.forceUpdate();\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._checkInvalidateOnUpdate();\n      this._invokeOnScrollCallback();\n      this._invokeOnCellsRenderedCallback();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      this._checkInvalidateOnUpdate();\n      this._invokeOnScrollCallback();\n      this._invokeOnCellsRenderedCallback();\n\n      if (this.props.scrollTop !== prevProps.scrollTop) {\n        this._debounceResetIsScrolling();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this._debounceResetIsScrollingId) {\n        cancelAnimationTimeout(this._debounceResetIsScrollingId);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          autoHeight = _props.autoHeight,\n          cellCount = _props.cellCount,\n          cellMeasurerCache = _props.cellMeasurerCache,\n          cellRenderer = _props.cellRenderer,\n          className = _props.className,\n          height = _props.height,\n          id = _props.id,\n          keyMapper = _props.keyMapper,\n          overscanByPixels = _props.overscanByPixels,\n          role = _props.role,\n          style = _props.style,\n          tabIndex = _props.tabIndex,\n          width = _props.width,\n          rowDirection = _props.rowDirection;\n      var _state = this.state,\n          isScrolling = _state.isScrolling,\n          scrollTop = _state.scrollTop;\n\n\n      var children = [];\n\n      var estimateTotalHeight = this._getEstimatedTotalHeight();\n\n      var shortestColumnSize = this._positionCache.shortestColumnSize;\n      var measuredCellCount = this._positionCache.count;\n\n      var startIndex = 0;\n      var stopIndex = void 0;\n\n      this._positionCache.range(Math.max(0, scrollTop - overscanByPixels), height + overscanByPixels * 2, function (index, left, top) {\n        var _style;\n\n        if (typeof stopIndex === 'undefined') {\n          startIndex = index;\n          stopIndex = index;\n        } else {\n          startIndex = Math.min(startIndex, index);\n          stopIndex = Math.max(stopIndex, index);\n        }\n\n        children.push(cellRenderer({\n          index: index,\n          isScrolling: isScrolling,\n          key: keyMapper(index),\n          parent: _this2,\n          style: (_style = {\n            height: cellMeasurerCache.getHeight(index)\n          }, (0,defineProperty/* default */.Z)(_style, rowDirection === 'ltr' ? 'left' : 'right', left), (0,defineProperty/* default */.Z)(_style, 'position', 'absolute'), (0,defineProperty/* default */.Z)(_style, 'top', top), (0,defineProperty/* default */.Z)(_style, 'width', cellMeasurerCache.getWidth(index)), _style)\n        }));\n      });\n\n      // We need to measure additional cells for this layout\n      if (shortestColumnSize < scrollTop + height + overscanByPixels && measuredCellCount < cellCount) {\n        var batchSize = Math.min(cellCount - measuredCellCount, Math.ceil((scrollTop + height + overscanByPixels - shortestColumnSize) / cellMeasurerCache.defaultHeight * width / cellMeasurerCache.defaultWidth));\n\n        for (var _index = measuredCellCount; _index < measuredCellCount + batchSize; _index++) {\n          stopIndex = _index;\n\n          children.push(cellRenderer({\n            index: _index,\n            isScrolling: isScrolling,\n            key: keyMapper(_index),\n            parent: this,\n            style: {\n              width: cellMeasurerCache.getWidth(_index)\n            }\n          }));\n        }\n      }\n\n      this._startIndex = startIndex;\n      this._stopIndex = stopIndex;\n\n      return external_React_.createElement(\n        'div',\n        {\n          ref: this._setScrollingContainerRef,\n          'aria-label': this.props['aria-label'],\n          className: classnames_default()('ReactVirtualized__Masonry', className),\n          id: id,\n          onScroll: this._onScroll,\n          role: role,\n          style: (0,helpers_extends/* default */.Z)({\n            boxSizing: 'border-box',\n            direction: 'ltr',\n            height: autoHeight ? 'auto' : height,\n            overflowX: 'hidden',\n            overflowY: estimateTotalHeight < height ? 'hidden' : 'auto',\n            position: 'relative',\n            width: width,\n            WebkitOverflowScrolling: 'touch',\n            willChange: 'transform'\n          }, style),\n          tabIndex: tabIndex },\n        external_React_.createElement(\n          'div',\n          {\n            className: 'ReactVirtualized__Masonry__innerScrollContainer',\n            style: {\n              width: '100%',\n              height: estimateTotalHeight,\n              maxWidth: '100%',\n              maxHeight: estimateTotalHeight,\n              overflow: 'hidden',\n              pointerEvents: isScrolling ? 'none' : '',\n              position: 'relative'\n            } },\n          children\n        )\n      );\n    }\n  }, {\n    key: '_checkInvalidateOnUpdate',\n    value: function _checkInvalidateOnUpdate() {\n      if (typeof this._invalidateOnUpdateStartIndex === 'number') {\n        var _startIndex = this._invalidateOnUpdateStartIndex;\n        var _stopIndex = this._invalidateOnUpdateStopIndex;\n\n        this._invalidateOnUpdateStartIndex = null;\n        this._invalidateOnUpdateStopIndex = null;\n\n        // Query external layout logic for position of newly-measured cells\n        this._populatePositionCache(_startIndex, _stopIndex);\n\n        this.forceUpdate();\n      }\n    }\n  }, {\n    key: '_debounceResetIsScrolling',\n    value: function _debounceResetIsScrolling() {\n      var scrollingResetTimeInterval = this.props.scrollingResetTimeInterval;\n\n\n      if (this._debounceResetIsScrollingId) {\n        cancelAnimationTimeout(this._debounceResetIsScrollingId);\n      }\n\n      this._debounceResetIsScrollingId = requestAnimationTimeout(this._debounceResetIsScrollingCallback, scrollingResetTimeInterval);\n    }\n  }, {\n    key: '_getEstimatedTotalHeight',\n    value: function _getEstimatedTotalHeight() {\n      var _props2 = this.props,\n          cellCount = _props2.cellCount,\n          cellMeasurerCache = _props2.cellMeasurerCache,\n          width = _props2.width;\n\n\n      var estimatedColumnCount = Math.max(1, Math.floor(width / cellMeasurerCache.defaultWidth));\n\n      return this._positionCache.estimateTotalHeight(cellCount, estimatedColumnCount, cellMeasurerCache.defaultHeight);\n    }\n  }, {\n    key: '_invokeOnScrollCallback',\n    value: function _invokeOnScrollCallback() {\n      var _props3 = this.props,\n          height = _props3.height,\n          onScroll = _props3.onScroll;\n      var scrollTop = this.state.scrollTop;\n\n\n      if (this._onScrollMemoized !== scrollTop) {\n        onScroll({\n          clientHeight: height,\n          scrollHeight: this._getEstimatedTotalHeight(),\n          scrollTop: scrollTop\n        });\n\n        this._onScrollMemoized = scrollTop;\n      }\n    }\n  }, {\n    key: '_invokeOnCellsRenderedCallback',\n    value: function _invokeOnCellsRenderedCallback() {\n      if (this._startIndexMemoized !== this._startIndex || this._stopIndexMemoized !== this._stopIndex) {\n        var _onCellsRendered = this.props.onCellsRendered;\n\n\n        _onCellsRendered({\n          startIndex: this._startIndex,\n          stopIndex: this._stopIndex\n        });\n\n        this._startIndexMemoized = this._startIndex;\n        this._stopIndexMemoized = this._stopIndex;\n      }\n    }\n  }, {\n    key: '_populatePositionCache',\n    value: function _populatePositionCache(startIndex, stopIndex) {\n      var _props4 = this.props,\n          cellMeasurerCache = _props4.cellMeasurerCache,\n          cellPositioner = _props4.cellPositioner;\n\n\n      for (var _index2 = startIndex; _index2 <= stopIndex; _index2++) {\n        var _cellPositioner = cellPositioner(_index2),\n            _left = _cellPositioner.left,\n            _top = _cellPositioner.top;\n\n        this._positionCache.setPosition(_index2, _left, _top, cellMeasurerCache.getHeight(_index2));\n      }\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.scrollTop !== undefined && prevState.scrollTop !== nextProps.scrollTop) {\n        return {\n          isScrolling: true,\n          scrollTop: nextProps.scrollTop\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Masonry;\n}(external_React_.PureComponent);\n\nMasonry_Masonry.defaultProps = {\n  autoHeight: false,\n  keyMapper: identity,\n  onCellsRendered: noop,\n  onScroll: noop,\n  overscanByPixels: 20,\n  role: 'grid',\n  scrollingResetTimeInterval: Masonry_DEFAULT_SCROLLING_RESET_TIME_INTERVAL,\n  style: emptyObject,\n  tabIndex: 0,\n  rowDirection: 'ltr'\n};\nMasonry_Masonry.propTypes =  true ? null : 0;\n\n\nfunction identity(value) {\n  return value;\n}\n\nfunction noop() {}\n\nvar bpfrpt_proptype_CellMeasurerCache =  true ? null : 0;\n\n\npolyfill(Masonry_Masonry);\n\n/* harmony default export */ const es_Masonry_Masonry = ((/* unused pure expression or super */ null && (Masonry_Masonry)));\n\nvar bpfrpt_proptype_Positioner =  true ? null : 0;\n\n\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Masonry/createCellPositioner.js\n\n\nfunction createCellPositioner(_ref) {\n  var cellMeasurerCache = _ref.cellMeasurerCache,\n      columnCount = _ref.columnCount,\n      columnWidth = _ref.columnWidth,\n      _ref$spacer = _ref.spacer,\n      spacer = _ref$spacer === undefined ? 0 : _ref$spacer;\n\n  var columnHeights = void 0;\n\n  initOrResetDerivedValues();\n\n  function cellPositioner(index) {\n    // Find the shortest column and use it.\n    var columnIndex = 0;\n    for (var i = 1; i < columnHeights.length; i++) {\n      if (columnHeights[i] < columnHeights[columnIndex]) {\n        columnIndex = i;\n      }\n    }\n\n    var left = columnIndex * (columnWidth + spacer);\n    var top = columnHeights[columnIndex] || 0;\n\n    columnHeights[columnIndex] = top + cellMeasurerCache.getHeight(index) + spacer;\n\n    return {\n      left: left,\n      top: top\n    };\n  }\n\n  function initOrResetDerivedValues() {\n    // Track the height of each column.\n    // Layout algorithm below always inserts into the shortest column.\n    columnHeights = [];\n    for (var i = 0; i < columnCount; i++) {\n      columnHeights[i] = 0;\n    }\n  }\n\n  function reset(params) {\n    columnCount = params.columnCount;\n    columnWidth = params.columnWidth;\n    spacer = params.spacer;\n\n    initOrResetDerivedValues();\n  }\n\n  cellPositioner.reset = reset;\n\n  return cellPositioner;\n}\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Masonry/index.js\n\n\n\n/* harmony default export */ const es_Masonry = ((/* unused pure expression or super */ null && (Masonry)));\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/MultiGrid/CellMeasurerCacheDecorator.js\n\n\n\n\n/**\n * Caches measurements for a given cell.\n */\nvar CellMeasurerCacheDecorator = function () {\n  function CellMeasurerCacheDecorator() {\n    var _this = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    (0,classCallCheck/* default */.Z)(this, CellMeasurerCacheDecorator);\n\n    this.columnWidth = function (_ref) {\n      var index = _ref.index;\n\n      _this._cellMeasurerCache.columnWidth({\n        index: index + _this._columnIndexOffset\n      });\n    };\n\n    this.rowHeight = function (_ref2) {\n      var index = _ref2.index;\n\n      _this._cellMeasurerCache.rowHeight({\n        index: index + _this._rowIndexOffset\n      });\n    };\n\n    var cellMeasurerCache = params.cellMeasurerCache,\n        _params$columnIndexOf = params.columnIndexOffset,\n        columnIndexOffset = _params$columnIndexOf === undefined ? 0 : _params$columnIndexOf,\n        _params$rowIndexOffse = params.rowIndexOffset,\n        rowIndexOffset = _params$rowIndexOffse === undefined ? 0 : _params$rowIndexOffse;\n\n\n    this._cellMeasurerCache = cellMeasurerCache;\n    this._columnIndexOffset = columnIndexOffset;\n    this._rowIndexOffset = rowIndexOffset;\n  }\n\n  (0,createClass/* default */.Z)(CellMeasurerCacheDecorator, [{\n    key: 'clear',\n    value: function clear(rowIndex, columnIndex) {\n      this._cellMeasurerCache.clear(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);\n    }\n  }, {\n    key: 'clearAll',\n    value: function clearAll() {\n      this._cellMeasurerCache.clearAll();\n    }\n  }, {\n    key: 'hasFixedHeight',\n    value: function hasFixedHeight() {\n      return this._cellMeasurerCache.hasFixedHeight();\n    }\n  }, {\n    key: 'hasFixedWidth',\n    value: function hasFixedWidth() {\n      return this._cellMeasurerCache.hasFixedWidth();\n    }\n  }, {\n    key: 'getHeight',\n    value: function getHeight(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      return this._cellMeasurerCache.getHeight(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);\n    }\n  }, {\n    key: 'getWidth',\n    value: function getWidth(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      return this._cellMeasurerCache.getWidth(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);\n    }\n  }, {\n    key: 'has',\n    value: function has(rowIndex) {\n      var columnIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      return this._cellMeasurerCache.has(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset);\n    }\n  }, {\n    key: 'set',\n    value: function set(rowIndex, columnIndex, width, height) {\n      this._cellMeasurerCache.set(rowIndex + this._rowIndexOffset, columnIndex + this._columnIndexOffset, width, height);\n    }\n  }, {\n    key: 'defaultHeight',\n    get: function get() {\n      return this._cellMeasurerCache.defaultHeight;\n    }\n  }, {\n    key: 'defaultWidth',\n    get: function get() {\n      return this._cellMeasurerCache.defaultWidth;\n    }\n  }]);\n\n  return CellMeasurerCacheDecorator;\n}();\n\n/* harmony default export */ const MultiGrid_CellMeasurerCacheDecorator = (CellMeasurerCacheDecorator);\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/MultiGrid/MultiGrid.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar SCROLLBAR_SIZE_BUFFER = 20;\n\n/**\n * Renders 1, 2, or 4 Grids depending on configuration.\n * A main (body) Grid will always be rendered.\n * Optionally, 1-2 Grids for sticky header rows will also be rendered.\n * If no sticky columns, only 1 sticky header Grid will be rendered.\n * If sticky columns, 2 sticky header Grids will be rendered.\n */\n\nvar MultiGrid_MultiGrid = function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(MultiGrid, _React$PureComponent);\n\n  function MultiGrid(props, context) {\n    (0,classCallCheck/* default */.Z)(this, MultiGrid);\n\n    var _this = (0,possibleConstructorReturn/* default */.Z)(this, (MultiGrid.__proto__ || get_prototype_of_default()(MultiGrid)).call(this, props, context));\n\n    _initialiseProps.call(_this);\n\n    var deferredMeasurementCache = props.deferredMeasurementCache,\n        fixedColumnCount = props.fixedColumnCount,\n        fixedRowCount = props.fixedRowCount;\n\n\n    _this._maybeCalculateCachedStyles(true);\n\n    if (deferredMeasurementCache) {\n      _this._deferredMeasurementCacheBottomLeftGrid = fixedRowCount > 0 ? new MultiGrid_CellMeasurerCacheDecorator({\n        cellMeasurerCache: deferredMeasurementCache,\n        columnIndexOffset: 0,\n        rowIndexOffset: fixedRowCount\n      }) : deferredMeasurementCache;\n\n      _this._deferredMeasurementCacheBottomRightGrid = fixedColumnCount > 0 || fixedRowCount > 0 ? new MultiGrid_CellMeasurerCacheDecorator({\n        cellMeasurerCache: deferredMeasurementCache,\n        columnIndexOffset: fixedColumnCount,\n        rowIndexOffset: fixedRowCount\n      }) : deferredMeasurementCache;\n\n      _this._deferredMeasurementCacheTopRightGrid = fixedColumnCount > 0 ? new MultiGrid_CellMeasurerCacheDecorator({\n        cellMeasurerCache: deferredMeasurementCache,\n        columnIndexOffset: fixedColumnCount,\n        rowIndexOffset: 0\n      }) : deferredMeasurementCache;\n    }\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(MultiGrid, [{\n    key: 'forceUpdateGrids',\n    value: function forceUpdateGrids() {\n      this._bottomLeftGrid && this._bottomLeftGrid.forceUpdate();\n      this._bottomRightGrid && this._bottomRightGrid.forceUpdate();\n      this._topLeftGrid && this._topLeftGrid.forceUpdate();\n      this._topRightGrid && this._topRightGrid.forceUpdate();\n    }\n\n    /** See Grid#invalidateCellSizeAfterRender */\n\n  }, {\n    key: 'invalidateCellSizeAfterRender',\n    value: function invalidateCellSizeAfterRender() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$columnIndex = _ref.columnIndex,\n          columnIndex = _ref$columnIndex === undefined ? 0 : _ref$columnIndex,\n          _ref$rowIndex = _ref.rowIndex,\n          rowIndex = _ref$rowIndex === undefined ? 0 : _ref$rowIndex;\n\n      this._deferredInvalidateColumnIndex = typeof this._deferredInvalidateColumnIndex === 'number' ? Math.min(this._deferredInvalidateColumnIndex, columnIndex) : columnIndex;\n      this._deferredInvalidateRowIndex = typeof this._deferredInvalidateRowIndex === 'number' ? Math.min(this._deferredInvalidateRowIndex, rowIndex) : rowIndex;\n    }\n\n    /** See Grid#measureAllCells */\n\n  }, {\n    key: 'measureAllCells',\n    value: function measureAllCells() {\n      this._bottomLeftGrid && this._bottomLeftGrid.measureAllCells();\n      this._bottomRightGrid && this._bottomRightGrid.measureAllCells();\n      this._topLeftGrid && this._topLeftGrid.measureAllCells();\n      this._topRightGrid && this._topRightGrid.measureAllCells();\n    }\n\n    /** See Grid#recomputeGridSize */\n\n  }, {\n    key: 'recomputeGridSize',\n    value: function recomputeGridSize() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$columnIndex = _ref2.columnIndex,\n          columnIndex = _ref2$columnIndex === undefined ? 0 : _ref2$columnIndex,\n          _ref2$rowIndex = _ref2.rowIndex,\n          rowIndex = _ref2$rowIndex === undefined ? 0 : _ref2$rowIndex;\n\n      var _props = this.props,\n          fixedColumnCount = _props.fixedColumnCount,\n          fixedRowCount = _props.fixedRowCount;\n\n\n      var adjustedColumnIndex = Math.max(0, columnIndex - fixedColumnCount);\n      var adjustedRowIndex = Math.max(0, rowIndex - fixedRowCount);\n\n      this._bottomLeftGrid && this._bottomLeftGrid.recomputeGridSize({\n        columnIndex: columnIndex,\n        rowIndex: adjustedRowIndex\n      });\n      this._bottomRightGrid && this._bottomRightGrid.recomputeGridSize({\n        columnIndex: adjustedColumnIndex,\n        rowIndex: adjustedRowIndex\n      });\n      this._topLeftGrid && this._topLeftGrid.recomputeGridSize({\n        columnIndex: columnIndex,\n        rowIndex: rowIndex\n      });\n      this._topRightGrid && this._topRightGrid.recomputeGridSize({\n        columnIndex: adjustedColumnIndex,\n        rowIndex: rowIndex\n      });\n\n      this._leftGridWidth = null;\n      this._topGridHeight = null;\n      this._maybeCalculateCachedStyles(true);\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props2 = this.props,\n          scrollLeft = _props2.scrollLeft,\n          scrollTop = _props2.scrollTop;\n\n\n      if (scrollLeft > 0 || scrollTop > 0) {\n        var newState = {};\n\n        if (scrollLeft > 0) {\n          newState.scrollLeft = scrollLeft;\n        }\n\n        if (scrollTop > 0) {\n          newState.scrollTop = scrollTop;\n        }\n\n        this.setState(newState);\n      }\n      this._handleInvalidatedGridSize();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this._handleInvalidatedGridSize();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props3 = this.props,\n          onScroll = _props3.onScroll,\n          onSectionRendered = _props3.onSectionRendered,\n          onScrollbarPresenceChange = _props3.onScrollbarPresenceChange,\n          scrollLeftProp = _props3.scrollLeft,\n          scrollToColumn = _props3.scrollToColumn,\n          scrollTopProp = _props3.scrollTop,\n          scrollToRow = _props3.scrollToRow,\n          rest = (0,objectWithoutProperties/* default */.Z)(_props3, ['onScroll', 'onSectionRendered', 'onScrollbarPresenceChange', 'scrollLeft', 'scrollToColumn', 'scrollTop', 'scrollToRow']);\n\n      this._prepareForRender();\n\n      // Don't render any of our Grids if there are no cells.\n      // This mirrors what Grid does,\n      // And prevents us from recording inaccurage measurements when used with CellMeasurer.\n      if (this.props.width === 0 || this.props.height === 0) {\n        return null;\n      }\n\n      // scrollTop and scrollLeft props are explicitly filtered out and ignored\n\n      var _state = this.state,\n          scrollLeft = _state.scrollLeft,\n          scrollTop = _state.scrollTop;\n\n\n      return external_React_.createElement(\n        'div',\n        { style: this._containerOuterStyle },\n        external_React_.createElement(\n          'div',\n          { style: this._containerTopStyle },\n          this._renderTopLeftGrid(rest),\n          this._renderTopRightGrid((0,helpers_extends/* default */.Z)({}, rest, {\n            onScroll: onScroll,\n            scrollLeft: scrollLeft\n          }))\n        ),\n        external_React_.createElement(\n          'div',\n          { style: this._containerBottomStyle },\n          this._renderBottomLeftGrid((0,helpers_extends/* default */.Z)({}, rest, {\n            onScroll: onScroll,\n            scrollTop: scrollTop\n          })),\n          this._renderBottomRightGrid((0,helpers_extends/* default */.Z)({}, rest, {\n            onScroll: onScroll,\n            onSectionRendered: onSectionRendered,\n            scrollLeft: scrollLeft,\n            scrollToColumn: scrollToColumn,\n            scrollToRow: scrollToRow,\n            scrollTop: scrollTop\n          }))\n        )\n      );\n    }\n  }, {\n    key: '_getBottomGridHeight',\n    value: function _getBottomGridHeight(props) {\n      var height = props.height;\n\n\n      var topGridHeight = this._getTopGridHeight(props);\n\n      return height - topGridHeight;\n    }\n  }, {\n    key: '_getLeftGridWidth',\n    value: function _getLeftGridWidth(props) {\n      var fixedColumnCount = props.fixedColumnCount,\n          columnWidth = props.columnWidth;\n\n\n      if (this._leftGridWidth == null) {\n        if (typeof columnWidth === 'function') {\n          var leftGridWidth = 0;\n\n          for (var index = 0; index < fixedColumnCount; index++) {\n            leftGridWidth += columnWidth({ index: index });\n          }\n\n          this._leftGridWidth = leftGridWidth;\n        } else {\n          this._leftGridWidth = columnWidth * fixedColumnCount;\n        }\n      }\n\n      return this._leftGridWidth;\n    }\n  }, {\n    key: '_getRightGridWidth',\n    value: function _getRightGridWidth(props) {\n      var width = props.width;\n\n\n      var leftGridWidth = this._getLeftGridWidth(props);\n\n      return width - leftGridWidth;\n    }\n  }, {\n    key: '_getTopGridHeight',\n    value: function _getTopGridHeight(props) {\n      var fixedRowCount = props.fixedRowCount,\n          rowHeight = props.rowHeight;\n\n\n      if (this._topGridHeight == null) {\n        if (typeof rowHeight === 'function') {\n          var topGridHeight = 0;\n\n          for (var index = 0; index < fixedRowCount; index++) {\n            topGridHeight += rowHeight({ index: index });\n          }\n\n          this._topGridHeight = topGridHeight;\n        } else {\n          this._topGridHeight = rowHeight * fixedRowCount;\n        }\n      }\n\n      return this._topGridHeight;\n    }\n  }, {\n    key: '_handleInvalidatedGridSize',\n    value: function _handleInvalidatedGridSize() {\n      if (typeof this._deferredInvalidateColumnIndex === 'number') {\n        var columnIndex = this._deferredInvalidateColumnIndex;\n        var rowIndex = this._deferredInvalidateRowIndex;\n\n        this._deferredInvalidateColumnIndex = null;\n        this._deferredInvalidateRowIndex = null;\n\n        this.recomputeGridSize({\n          columnIndex: columnIndex,\n          rowIndex: rowIndex\n        });\n        this.forceUpdate();\n      }\n    }\n\n    /**\n     * Avoid recreating inline styles each render; this bypasses Grid's shallowCompare.\n     * This method recalculates styles only when specific props change.\n     */\n\n  }, {\n    key: '_maybeCalculateCachedStyles',\n    value: function _maybeCalculateCachedStyles(resetAll) {\n      var _props4 = this.props,\n          columnWidth = _props4.columnWidth,\n          enableFixedColumnScroll = _props4.enableFixedColumnScroll,\n          enableFixedRowScroll = _props4.enableFixedRowScroll,\n          height = _props4.height,\n          fixedColumnCount = _props4.fixedColumnCount,\n          fixedRowCount = _props4.fixedRowCount,\n          rowHeight = _props4.rowHeight,\n          style = _props4.style,\n          styleBottomLeftGrid = _props4.styleBottomLeftGrid,\n          styleBottomRightGrid = _props4.styleBottomRightGrid,\n          styleTopLeftGrid = _props4.styleTopLeftGrid,\n          styleTopRightGrid = _props4.styleTopRightGrid,\n          width = _props4.width;\n\n\n      var sizeChange = resetAll || height !== this._lastRenderedHeight || width !== this._lastRenderedWidth;\n      var leftSizeChange = resetAll || columnWidth !== this._lastRenderedColumnWidth || fixedColumnCount !== this._lastRenderedFixedColumnCount;\n      var topSizeChange = resetAll || fixedRowCount !== this._lastRenderedFixedRowCount || rowHeight !== this._lastRenderedRowHeight;\n\n      if (resetAll || sizeChange || style !== this._lastRenderedStyle) {\n        this._containerOuterStyle = (0,helpers_extends/* default */.Z)({\n          height: height,\n          overflow: 'visible', // Let :focus outline show through\n          width: width\n        }, style);\n      }\n\n      if (resetAll || sizeChange || topSizeChange) {\n        this._containerTopStyle = {\n          height: this._getTopGridHeight(this.props),\n          position: 'relative',\n          width: width\n        };\n\n        this._containerBottomStyle = {\n          height: height - this._getTopGridHeight(this.props),\n          overflow: 'visible', // Let :focus outline show through\n          position: 'relative',\n          width: width\n        };\n      }\n\n      if (resetAll || styleBottomLeftGrid !== this._lastRenderedStyleBottomLeftGrid) {\n        this._bottomLeftGridStyle = (0,helpers_extends/* default */.Z)({\n          left: 0,\n          overflowX: 'hidden',\n          overflowY: enableFixedColumnScroll ? 'auto' : 'hidden',\n          position: 'absolute'\n        }, styleBottomLeftGrid);\n      }\n\n      if (resetAll || leftSizeChange || styleBottomRightGrid !== this._lastRenderedStyleBottomRightGrid) {\n        this._bottomRightGridStyle = (0,helpers_extends/* default */.Z)({\n          left: this._getLeftGridWidth(this.props),\n          position: 'absolute'\n        }, styleBottomRightGrid);\n      }\n\n      if (resetAll || styleTopLeftGrid !== this._lastRenderedStyleTopLeftGrid) {\n        this._topLeftGridStyle = (0,helpers_extends/* default */.Z)({\n          left: 0,\n          overflowX: 'hidden',\n          overflowY: 'hidden',\n          position: 'absolute',\n          top: 0\n        }, styleTopLeftGrid);\n      }\n\n      if (resetAll || leftSizeChange || styleTopRightGrid !== this._lastRenderedStyleTopRightGrid) {\n        this._topRightGridStyle = (0,helpers_extends/* default */.Z)({\n          left: this._getLeftGridWidth(this.props),\n          overflowX: enableFixedRowScroll ? 'auto' : 'hidden',\n          overflowY: 'hidden',\n          position: 'absolute',\n          top: 0\n        }, styleTopRightGrid);\n      }\n\n      this._lastRenderedColumnWidth = columnWidth;\n      this._lastRenderedFixedColumnCount = fixedColumnCount;\n      this._lastRenderedFixedRowCount = fixedRowCount;\n      this._lastRenderedHeight = height;\n      this._lastRenderedRowHeight = rowHeight;\n      this._lastRenderedStyle = style;\n      this._lastRenderedStyleBottomLeftGrid = styleBottomLeftGrid;\n      this._lastRenderedStyleBottomRightGrid = styleBottomRightGrid;\n      this._lastRenderedStyleTopLeftGrid = styleTopLeftGrid;\n      this._lastRenderedStyleTopRightGrid = styleTopRightGrid;\n      this._lastRenderedWidth = width;\n    }\n  }, {\n    key: '_prepareForRender',\n    value: function _prepareForRender() {\n      if (this._lastRenderedColumnWidth !== this.props.columnWidth || this._lastRenderedFixedColumnCount !== this.props.fixedColumnCount) {\n        this._leftGridWidth = null;\n      }\n\n      if (this._lastRenderedFixedRowCount !== this.props.fixedRowCount || this._lastRenderedRowHeight !== this.props.rowHeight) {\n        this._topGridHeight = null;\n      }\n\n      this._maybeCalculateCachedStyles();\n\n      this._lastRenderedColumnWidth = this.props.columnWidth;\n      this._lastRenderedFixedColumnCount = this.props.fixedColumnCount;\n      this._lastRenderedFixedRowCount = this.props.fixedRowCount;\n      this._lastRenderedRowHeight = this.props.rowHeight;\n    }\n  }, {\n    key: '_renderBottomLeftGrid',\n    value: function _renderBottomLeftGrid(props) {\n      var enableFixedColumnScroll = props.enableFixedColumnScroll,\n          fixedColumnCount = props.fixedColumnCount,\n          fixedRowCount = props.fixedRowCount,\n          rowCount = props.rowCount,\n          hideBottomLeftGridScrollbar = props.hideBottomLeftGridScrollbar;\n      var showVerticalScrollbar = this.state.showVerticalScrollbar;\n\n\n      if (!fixedColumnCount) {\n        return null;\n      }\n\n      var additionalRowCount = showVerticalScrollbar ? 1 : 0,\n          height = this._getBottomGridHeight(props),\n          width = this._getLeftGridWidth(props),\n          scrollbarSize = this.state.showVerticalScrollbar ? this.state.scrollbarSize : 0,\n          gridWidth = hideBottomLeftGridScrollbar ? width + scrollbarSize : width;\n\n      var bottomLeftGrid = external_React_.createElement(Grid_Grid, (0,helpers_extends/* default */.Z)({}, props, {\n        cellRenderer: this._cellRendererBottomLeftGrid,\n        className: this.props.classNameBottomLeftGrid,\n        columnCount: fixedColumnCount,\n        deferredMeasurementCache: this._deferredMeasurementCacheBottomLeftGrid,\n        height: height,\n        onScroll: enableFixedColumnScroll ? this._onScrollTop : undefined,\n        ref: this._bottomLeftGridRef,\n        rowCount: Math.max(0, rowCount - fixedRowCount) + additionalRowCount,\n        rowHeight: this._rowHeightBottomGrid,\n        style: this._bottomLeftGridStyle,\n        tabIndex: null,\n        width: gridWidth\n      }));\n\n      if (hideBottomLeftGridScrollbar) {\n        return external_React_.createElement(\n          'div',\n          {\n            className: 'BottomLeftGrid_ScrollWrapper',\n            style: (0,helpers_extends/* default */.Z)({}, this._bottomLeftGridStyle, {\n              height: height,\n              width: width,\n              overflowY: 'hidden'\n            }) },\n          bottomLeftGrid\n        );\n      }\n      return bottomLeftGrid;\n    }\n  }, {\n    key: '_renderBottomRightGrid',\n    value: function _renderBottomRightGrid(props) {\n      var columnCount = props.columnCount,\n          fixedColumnCount = props.fixedColumnCount,\n          fixedRowCount = props.fixedRowCount,\n          rowCount = props.rowCount,\n          scrollToColumn = props.scrollToColumn,\n          scrollToRow = props.scrollToRow;\n\n\n      return external_React_.createElement(Grid_Grid, (0,helpers_extends/* default */.Z)({}, props, {\n        cellRenderer: this._cellRendererBottomRightGrid,\n        className: this.props.classNameBottomRightGrid,\n        columnCount: Math.max(0, columnCount - fixedColumnCount),\n        columnWidth: this._columnWidthRightGrid,\n        deferredMeasurementCache: this._deferredMeasurementCacheBottomRightGrid,\n        height: this._getBottomGridHeight(props),\n        onScroll: this._onScroll,\n        onScrollbarPresenceChange: this._onScrollbarPresenceChange,\n        ref: this._bottomRightGridRef,\n        rowCount: Math.max(0, rowCount - fixedRowCount),\n        rowHeight: this._rowHeightBottomGrid,\n        scrollToColumn: scrollToColumn - fixedColumnCount,\n        scrollToRow: scrollToRow - fixedRowCount,\n        style: this._bottomRightGridStyle,\n        width: this._getRightGridWidth(props)\n      }));\n    }\n  }, {\n    key: '_renderTopLeftGrid',\n    value: function _renderTopLeftGrid(props) {\n      var fixedColumnCount = props.fixedColumnCount,\n          fixedRowCount = props.fixedRowCount;\n\n\n      if (!fixedColumnCount || !fixedRowCount) {\n        return null;\n      }\n\n      return external_React_.createElement(Grid_Grid, (0,helpers_extends/* default */.Z)({}, props, {\n        className: this.props.classNameTopLeftGrid,\n        columnCount: fixedColumnCount,\n        height: this._getTopGridHeight(props),\n        ref: this._topLeftGridRef,\n        rowCount: fixedRowCount,\n        style: this._topLeftGridStyle,\n        tabIndex: null,\n        width: this._getLeftGridWidth(props)\n      }));\n    }\n  }, {\n    key: '_renderTopRightGrid',\n    value: function _renderTopRightGrid(props) {\n      var columnCount = props.columnCount,\n          enableFixedRowScroll = props.enableFixedRowScroll,\n          fixedColumnCount = props.fixedColumnCount,\n          fixedRowCount = props.fixedRowCount,\n          scrollLeft = props.scrollLeft,\n          hideTopRightGridScrollbar = props.hideTopRightGridScrollbar;\n      var _state2 = this.state,\n          showHorizontalScrollbar = _state2.showHorizontalScrollbar,\n          scrollbarSize = _state2.scrollbarSize;\n\n\n      if (!fixedRowCount) {\n        return null;\n      }\n\n      var additionalColumnCount = showHorizontalScrollbar ? 1 : 0,\n          height = this._getTopGridHeight(props),\n          width = this._getRightGridWidth(props),\n          additionalHeight = showHorizontalScrollbar ? scrollbarSize : 0;\n\n      var gridHeight = height,\n          style = this._topRightGridStyle;\n\n      if (hideTopRightGridScrollbar) {\n        gridHeight = height + additionalHeight;\n        style = (0,helpers_extends/* default */.Z)({}, this._topRightGridStyle, {\n          left: 0\n        });\n      }\n\n      var topRightGrid = external_React_.createElement(Grid_Grid, (0,helpers_extends/* default */.Z)({}, props, {\n        cellRenderer: this._cellRendererTopRightGrid,\n        className: this.props.classNameTopRightGrid,\n        columnCount: Math.max(0, columnCount - fixedColumnCount) + additionalColumnCount,\n        columnWidth: this._columnWidthRightGrid,\n        deferredMeasurementCache: this._deferredMeasurementCacheTopRightGrid,\n        height: gridHeight,\n        onScroll: enableFixedRowScroll ? this._onScrollLeft : undefined,\n        ref: this._topRightGridRef,\n        rowCount: fixedRowCount,\n        scrollLeft: scrollLeft,\n        style: style,\n        tabIndex: null,\n        width: width\n      }));\n\n      if (hideTopRightGridScrollbar) {\n        return external_React_.createElement(\n          'div',\n          {\n            className: 'TopRightGrid_ScrollWrapper',\n            style: (0,helpers_extends/* default */.Z)({}, this._topRightGridStyle, {\n              height: height,\n              width: width,\n              overflowX: 'hidden'\n            }) },\n          topRightGrid\n        );\n      }\n      return topRightGrid;\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.scrollLeft !== prevState.scrollLeft || nextProps.scrollTop !== prevState.scrollTop) {\n        return {\n          scrollLeft: nextProps.scrollLeft != null && nextProps.scrollLeft >= 0 ? nextProps.scrollLeft : prevState.scrollLeft,\n          scrollTop: nextProps.scrollTop != null && nextProps.scrollTop >= 0 ? nextProps.scrollTop : prevState.scrollTop\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return MultiGrid;\n}(external_React_.PureComponent);\n\nMultiGrid_MultiGrid.defaultProps = {\n  classNameBottomLeftGrid: '',\n  classNameBottomRightGrid: '',\n  classNameTopLeftGrid: '',\n  classNameTopRightGrid: '',\n  enableFixedColumnScroll: false,\n  enableFixedRowScroll: false,\n  fixedColumnCount: 0,\n  fixedRowCount: 0,\n  scrollToColumn: -1,\n  scrollToRow: -1,\n  style: {},\n  styleBottomLeftGrid: {},\n  styleBottomRightGrid: {},\n  styleTopLeftGrid: {},\n  styleTopRightGrid: {},\n  hideTopRightGridScrollbar: false,\n  hideBottomLeftGridScrollbar: false\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.state = {\n    scrollLeft: 0,\n    scrollTop: 0,\n    scrollbarSize: 0,\n    showHorizontalScrollbar: false,\n    showVerticalScrollbar: false\n  };\n  this._deferredInvalidateColumnIndex = null;\n  this._deferredInvalidateRowIndex = null;\n\n  this._bottomLeftGridRef = function (ref) {\n    _this2._bottomLeftGrid = ref;\n  };\n\n  this._bottomRightGridRef = function (ref) {\n    _this2._bottomRightGrid = ref;\n  };\n\n  this._cellRendererBottomLeftGrid = function (_ref3) {\n    var rowIndex = _ref3.rowIndex,\n        rest = (0,objectWithoutProperties/* default */.Z)(_ref3, ['rowIndex']);\n\n    var _props5 = _this2.props,\n        cellRenderer = _props5.cellRenderer,\n        fixedRowCount = _props5.fixedRowCount,\n        rowCount = _props5.rowCount;\n\n\n    if (rowIndex === rowCount - fixedRowCount) {\n      return external_React_.createElement('div', {\n        key: rest.key,\n        style: (0,helpers_extends/* default */.Z)({}, rest.style, {\n          height: SCROLLBAR_SIZE_BUFFER\n        })\n      });\n    } else {\n      return cellRenderer((0,helpers_extends/* default */.Z)({}, rest, {\n        parent: _this2,\n        rowIndex: rowIndex + fixedRowCount\n      }));\n    }\n  };\n\n  this._cellRendererBottomRightGrid = function (_ref4) {\n    var columnIndex = _ref4.columnIndex,\n        rowIndex = _ref4.rowIndex,\n        rest = (0,objectWithoutProperties/* default */.Z)(_ref4, ['columnIndex', 'rowIndex']);\n\n    var _props6 = _this2.props,\n        cellRenderer = _props6.cellRenderer,\n        fixedColumnCount = _props6.fixedColumnCount,\n        fixedRowCount = _props6.fixedRowCount;\n\n\n    return cellRenderer((0,helpers_extends/* default */.Z)({}, rest, {\n      columnIndex: columnIndex + fixedColumnCount,\n      parent: _this2,\n      rowIndex: rowIndex + fixedRowCount\n    }));\n  };\n\n  this._cellRendererTopRightGrid = function (_ref5) {\n    var columnIndex = _ref5.columnIndex,\n        rest = (0,objectWithoutProperties/* default */.Z)(_ref5, ['columnIndex']);\n\n    var _props7 = _this2.props,\n        cellRenderer = _props7.cellRenderer,\n        columnCount = _props7.columnCount,\n        fixedColumnCount = _props7.fixedColumnCount;\n\n\n    if (columnIndex === columnCount - fixedColumnCount) {\n      return external_React_.createElement('div', {\n        key: rest.key,\n        style: (0,helpers_extends/* default */.Z)({}, rest.style, {\n          width: SCROLLBAR_SIZE_BUFFER\n        })\n      });\n    } else {\n      return cellRenderer((0,helpers_extends/* default */.Z)({}, rest, {\n        columnIndex: columnIndex + fixedColumnCount,\n        parent: _this2\n      }));\n    }\n  };\n\n  this._columnWidthRightGrid = function (_ref6) {\n    var index = _ref6.index;\n    var _props8 = _this2.props,\n        columnCount = _props8.columnCount,\n        fixedColumnCount = _props8.fixedColumnCount,\n        columnWidth = _props8.columnWidth;\n    var _state3 = _this2.state,\n        scrollbarSize = _state3.scrollbarSize,\n        showHorizontalScrollbar = _state3.showHorizontalScrollbar;\n\n    // An extra cell is added to the count\n    // This gives the smaller Grid extra room for offset,\n    // In case the main (bottom right) Grid has a scrollbar\n    // If no scrollbar, the extra space is overflow:hidden anyway\n\n    if (showHorizontalScrollbar && index === columnCount - fixedColumnCount) {\n      return scrollbarSize;\n    }\n\n    return typeof columnWidth === 'function' ? columnWidth({ index: index + fixedColumnCount }) : columnWidth;\n  };\n\n  this._onScroll = function (scrollInfo) {\n    var scrollLeft = scrollInfo.scrollLeft,\n        scrollTop = scrollInfo.scrollTop;\n\n    _this2.setState({\n      scrollLeft: scrollLeft,\n      scrollTop: scrollTop\n    });\n    var onScroll = _this2.props.onScroll;\n    if (onScroll) {\n      onScroll(scrollInfo);\n    }\n  };\n\n  this._onScrollbarPresenceChange = function (_ref7) {\n    var horizontal = _ref7.horizontal,\n        size = _ref7.size,\n        vertical = _ref7.vertical;\n    var _state4 = _this2.state,\n        showHorizontalScrollbar = _state4.showHorizontalScrollbar,\n        showVerticalScrollbar = _state4.showVerticalScrollbar;\n\n\n    if (horizontal !== showHorizontalScrollbar || vertical !== showVerticalScrollbar) {\n      _this2.setState({\n        scrollbarSize: size,\n        showHorizontalScrollbar: horizontal,\n        showVerticalScrollbar: vertical\n      });\n\n      var onScrollbarPresenceChange = _this2.props.onScrollbarPresenceChange;\n\n      if (typeof onScrollbarPresenceChange === 'function') {\n        onScrollbarPresenceChange({\n          horizontal: horizontal,\n          size: size,\n          vertical: vertical\n        });\n      }\n    }\n  };\n\n  this._onScrollLeft = function (scrollInfo) {\n    var scrollLeft = scrollInfo.scrollLeft;\n\n    _this2._onScroll({\n      scrollLeft: scrollLeft,\n      scrollTop: _this2.state.scrollTop\n    });\n  };\n\n  this._onScrollTop = function (scrollInfo) {\n    var scrollTop = scrollInfo.scrollTop;\n\n    _this2._onScroll({\n      scrollTop: scrollTop,\n      scrollLeft: _this2.state.scrollLeft\n    });\n  };\n\n  this._rowHeightBottomGrid = function (_ref8) {\n    var index = _ref8.index;\n    var _props9 = _this2.props,\n        fixedRowCount = _props9.fixedRowCount,\n        rowCount = _props9.rowCount,\n        rowHeight = _props9.rowHeight;\n    var _state5 = _this2.state,\n        scrollbarSize = _state5.scrollbarSize,\n        showVerticalScrollbar = _state5.showVerticalScrollbar;\n\n    // An extra cell is added to the count\n    // This gives the smaller Grid extra room for offset,\n    // In case the main (bottom right) Grid has a scrollbar\n    // If no scrollbar, the extra space is overflow:hidden anyway\n\n    if (showVerticalScrollbar && index === rowCount - fixedRowCount) {\n      return scrollbarSize;\n    }\n\n    return typeof rowHeight === 'function' ? rowHeight({ index: index + fixedRowCount }) : rowHeight;\n  };\n\n  this._topLeftGridRef = function (ref) {\n    _this2._topLeftGrid = ref;\n  };\n\n  this._topRightGridRef = function (ref) {\n    _this2._topRightGrid = ref;\n  };\n};\n\nMultiGrid_MultiGrid.propTypes =  false ? 0 : {};\n\n\npolyfill(MultiGrid_MultiGrid);\n\n/* harmony default export */ const es_MultiGrid_MultiGrid = ((/* unused pure expression or super */ null && (MultiGrid_MultiGrid)));\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/MultiGrid/index.js\n\n\n/* harmony default export */ const es_MultiGrid = ((/* unused pure expression or super */ null && (MultiGrid)));\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/ScrollSync/ScrollSync.js\n\n\n\n\n\n\n\n\n/**\n * HOC that simplifies the process of synchronizing scrolling between two or more virtualized components.\n */\n\nvar ScrollSync_ScrollSync = function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(ScrollSync, _React$PureComponent);\n\n  function ScrollSync(props, context) {\n    (0,classCallCheck/* default */.Z)(this, ScrollSync);\n\n    var _this = (0,possibleConstructorReturn/* default */.Z)(this, (ScrollSync.__proto__ || get_prototype_of_default()(ScrollSync)).call(this, props, context));\n\n    _this.state = {\n      clientHeight: 0,\n      clientWidth: 0,\n      scrollHeight: 0,\n      scrollLeft: 0,\n      scrollTop: 0,\n      scrollWidth: 0\n    };\n\n    _this._onScroll = _this._onScroll.bind(_this);\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(ScrollSync, [{\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n      var _state = this.state,\n          clientHeight = _state.clientHeight,\n          clientWidth = _state.clientWidth,\n          scrollHeight = _state.scrollHeight,\n          scrollLeft = _state.scrollLeft,\n          scrollTop = _state.scrollTop,\n          scrollWidth = _state.scrollWidth;\n\n\n      return children({\n        clientHeight: clientHeight,\n        clientWidth: clientWidth,\n        onScroll: this._onScroll,\n        scrollHeight: scrollHeight,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        scrollWidth: scrollWidth\n      });\n    }\n  }, {\n    key: '_onScroll',\n    value: function _onScroll(_ref) {\n      var clientHeight = _ref.clientHeight,\n          clientWidth = _ref.clientWidth,\n          scrollHeight = _ref.scrollHeight,\n          scrollLeft = _ref.scrollLeft,\n          scrollTop = _ref.scrollTop,\n          scrollWidth = _ref.scrollWidth;\n\n      this.setState({\n        clientHeight: clientHeight,\n        clientWidth: clientWidth,\n        scrollHeight: scrollHeight,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        scrollWidth: scrollWidth\n      });\n    }\n  }]);\n\n  return ScrollSync;\n}(external_React_.PureComponent);\n\n/* harmony default export */ const es_ScrollSync_ScrollSync = ((/* unused pure expression or super */ null && (ScrollSync_ScrollSync)));\nScrollSync_ScrollSync.propTypes =  false ? 0 : {};\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/ScrollSync/index.js\n\n\n/* harmony default export */ const es_ScrollSync = ((/* unused pure expression or super */ null && (ScrollSync)));\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Table/createMultiSort.js\n\n\n\nfunction createMultiSort(sortCallback) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      defaultSortBy = _ref.defaultSortBy,\n      _ref$defaultSortDirec = _ref.defaultSortDirection,\n      defaultSortDirection = _ref$defaultSortDirec === undefined ? {} : _ref$defaultSortDirec;\n\n  if (!sortCallback) {\n    throw Error('Required parameter \"sortCallback\" not specified');\n  }\n\n  var sortBy = defaultSortBy || [];\n  var sortDirection = {};\n\n  sortBy.forEach(function (dataKey) {\n    sortDirection[dataKey] = defaultSortDirection.hasOwnProperty(dataKey) ? defaultSortDirection[dataKey] : 'ASC';\n  });\n\n  function sort(_ref2) {\n    var defaultSortDirection = _ref2.defaultSortDirection,\n        event = _ref2.event,\n        dataKey = _ref2.sortBy;\n\n    if (event.shiftKey) {\n      // Shift + click appends a column to existing criteria\n      if (sortDirection.hasOwnProperty(dataKey)) {\n        sortDirection[dataKey] = sortDirection[dataKey] === 'ASC' ? 'DESC' : 'ASC';\n      } else {\n        sortDirection[dataKey] = defaultSortDirection;\n        sortBy.push(dataKey);\n      }\n    } else if (event.ctrlKey || event.metaKey) {\n      // Control + click removes column from sort (if pressent)\n      var index = sortBy.indexOf(dataKey);\n      if (index >= 0) {\n        sortBy.splice(index, 1);\n        delete sortDirection[dataKey];\n      }\n    } else {\n      // Clear sortBy array of all non-selected keys\n      sortBy.length = 0;\n      sortBy.push(dataKey);\n\n      // Clear sortDirection object of all non-selected keys\n      var sortDirectionKeys = _Object$keys(sortDirection);\n      sortDirectionKeys.forEach(function (key) {\n        if (key !== dataKey) delete sortDirection[key];\n      });\n\n      // If key is already selected, reverse sort direction.\n      // Else, set sort direction to default direction.\n      if (sortDirection.hasOwnProperty(dataKey)) {\n        sortDirection[dataKey] = sortDirection[dataKey] === 'ASC' ? 'DESC' : 'ASC';\n      } else {\n        sortDirection[dataKey] = defaultSortDirection;\n      }\n    }\n\n    // Notify application code\n    sortCallback({\n      sortBy: sortBy,\n      sortDirection: sortDirection\n    });\n  }\n\n  return {\n    sort: sort,\n    sortBy: sortBy,\n    sortDirection: sortDirection\n  };\n}\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Table/types.js\nvar bpfrpt_proptype_CellDataGetterParams =  true ? null : 0;\nvar types_bpfrpt_proptype_CellRendererParams =  true ? null : 0;\nvar bpfrpt_proptype_HeaderRowRendererParams =  true ? null : 0;\nvar bpfrpt_proptype_HeaderRendererParams =  true ? null : 0;\nvar types_bpfrpt_proptype_RowRendererParams =  true ? null : 0;\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Table/defaultCellDataGetter.js\n\n\n/**\n * Default accessor for returning a cell value for a given attribute.\n * This function expects to operate on either a vanilla Object or an Immutable Map.\n * You should override the column's cellDataGetter if your data is some other type of object.\n */\nfunction defaultCellDataGetter(_ref) {\n  var dataKey = _ref.dataKey,\n      rowData = _ref.rowData;\n\n  if (typeof rowData.get === 'function') {\n    return rowData.get(dataKey);\n  } else {\n    return rowData[dataKey];\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Table/defaultCellRenderer.js\n\n\n/**\n * Default cell renderer that displays an attribute as a simple string\n * You should override the column's cellRenderer if your data is some other type of object.\n */\nfunction defaultCellRenderer(_ref) {\n  var cellData = _ref.cellData;\n\n  if (cellData == null) {\n    return '';\n  } else {\n    return String(cellData);\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Table/defaultHeaderRowRenderer.js\n\n\n\nfunction defaultHeaderRowRenderer(_ref) {\n  var className = _ref.className,\n      columns = _ref.columns,\n      style = _ref.style;\n\n  return external_React_.createElement(\n    'div',\n    { className: className, role: 'row', style: style },\n    columns\n  );\n}\ndefaultHeaderRowRenderer.propTypes =  true ? null : 0;\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Table/SortDirection.js\nvar SortDirection = {\n  /**\n   * Sort items in ascending order.\n   * This means arranging from the lowest value to the highest (e.g. a-z, 0-9).\n   */\n  ASC: 'ASC',\n\n  /**\n   * Sort items in descending order.\n   * This means arranging from the highest value to the lowest (e.g. z-a, 9-0).\n   */\n  DESC: 'DESC'\n};\n\n/* harmony default export */ const Table_SortDirection = (SortDirection);\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Table/SortIndicator.js\n\n\n\n\n\n/**\n * Displayed beside a header to indicate that a Table is currently sorted by this column.\n */\nfunction SortIndicator(_ref) {\n  var sortDirection = _ref.sortDirection;\n\n  var classNames = classnames_default()('ReactVirtualized__Table__sortableHeaderIcon', {\n    'ReactVirtualized__Table__sortableHeaderIcon--ASC': sortDirection === Table_SortDirection.ASC,\n    'ReactVirtualized__Table__sortableHeaderIcon--DESC': sortDirection === Table_SortDirection.DESC\n  });\n\n  return external_React_.createElement(\n    'svg',\n    { className: classNames, width: 18, height: 18, viewBox: '0 0 24 24' },\n    sortDirection === Table_SortDirection.ASC ? external_React_.createElement('path', { d: 'M7 14l5-5 5 5z' }) : external_React_.createElement('path', { d: 'M7 10l5 5 5-5z' }),\n    external_React_.createElement('path', { d: 'M0 0h24v24H0z', fill: 'none' })\n  );\n}\n\nSortIndicator.propTypes =  false ? 0 : {};\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Table/defaultHeaderRenderer.js\n\n\n\n\n/**\n * Default table header renderer.\n */\nfunction defaultHeaderRenderer(_ref) {\n  var dataKey = _ref.dataKey,\n      label = _ref.label,\n      sortBy = _ref.sortBy,\n      sortDirection = _ref.sortDirection;\n\n  var showSortIndicator = sortBy === dataKey;\n  var children = [external_React_.createElement(\n    'span',\n    {\n      className: 'ReactVirtualized__Table__headerTruncatedText',\n      key: 'label',\n      title: label },\n    label\n  )];\n\n  if (showSortIndicator) {\n    children.push(external_React_.createElement(SortIndicator, { key: 'SortIndicator', sortDirection: sortDirection }));\n  }\n\n  return children;\n}\ndefaultHeaderRenderer.propTypes =  true ? null : 0;\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Table/defaultRowRenderer.js\n\n\n\n\n/**\n * Default row renderer for Table.\n */\nfunction defaultRowRenderer(_ref) {\n  var className = _ref.className,\n      columns = _ref.columns,\n      index = _ref.index,\n      key = _ref.key,\n      onRowClick = _ref.onRowClick,\n      onRowDoubleClick = _ref.onRowDoubleClick,\n      onRowMouseOut = _ref.onRowMouseOut,\n      onRowMouseOver = _ref.onRowMouseOver,\n      onRowRightClick = _ref.onRowRightClick,\n      rowData = _ref.rowData,\n      style = _ref.style;\n\n  var a11yProps = { 'aria-rowindex': index + 1 };\n\n  if (onRowClick || onRowDoubleClick || onRowMouseOut || onRowMouseOver || onRowRightClick) {\n    a11yProps['aria-label'] = 'row';\n    a11yProps.tabIndex = 0;\n\n    if (onRowClick) {\n      a11yProps.onClick = function (event) {\n        return onRowClick({ event: event, index: index, rowData: rowData });\n      };\n    }\n    if (onRowDoubleClick) {\n      a11yProps.onDoubleClick = function (event) {\n        return onRowDoubleClick({ event: event, index: index, rowData: rowData });\n      };\n    }\n    if (onRowMouseOut) {\n      a11yProps.onMouseOut = function (event) {\n        return onRowMouseOut({ event: event, index: index, rowData: rowData });\n      };\n    }\n    if (onRowMouseOver) {\n      a11yProps.onMouseOver = function (event) {\n        return onRowMouseOver({ event: event, index: index, rowData: rowData });\n      };\n    }\n    if (onRowRightClick) {\n      a11yProps.onContextMenu = function (event) {\n        return onRowRightClick({ event: event, index: index, rowData: rowData });\n      };\n    }\n  }\n\n  return external_React_.createElement(\n    'div',\n    (0,helpers_extends/* default */.Z)({}, a11yProps, {\n      className: className,\n      key: key,\n      role: 'row',\n      style: style }),\n    columns\n  );\n}\ndefaultRowRenderer.propTypes =  true ? null : 0;\n\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Table/Column.js\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Describes the header and cell contents of a table column.\n */\n\nvar Column = function (_React$Component) {\n  (0,inherits/* default */.Z)(Column, _React$Component);\n\n  function Column() {\n    (0,classCallCheck/* default */.Z)(this, Column);\n\n    return (0,possibleConstructorReturn/* default */.Z)(this, (Column.__proto__ || get_prototype_of_default()(Column)).apply(this, arguments));\n  }\n\n  return Column;\n}(external_React_.Component);\n\nColumn.defaultProps = {\n  cellDataGetter: defaultCellDataGetter,\n  cellRenderer: defaultCellRenderer,\n  defaultSortDirection: Table_SortDirection.ASC,\n  flexGrow: 0,\n  flexShrink: 1,\n  headerRenderer: defaultHeaderRenderer,\n  style: {}\n};\n/* harmony default export */ const Table_Column = ((/* unused pure expression or super */ null && (Column)));\nColumn.propTypes =  false ? 0 : {};\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Table/Table.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Table component with fixed headers and virtualized rows for improved performance with large data sets.\n * This component expects explicit width, height, and padding parameters.\n */\n\nvar Table_Table = function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(Table, _React$PureComponent);\n\n  function Table(props) {\n    (0,classCallCheck/* default */.Z)(this, Table);\n\n    var _this = (0,possibleConstructorReturn/* default */.Z)(this, (Table.__proto__ || get_prototype_of_default()(Table)).call(this, props));\n\n    _this.state = {\n      scrollbarWidth: 0\n    };\n\n    _this._createColumn = _this._createColumn.bind(_this);\n    _this._createRow = _this._createRow.bind(_this);\n    _this._onScroll = _this._onScroll.bind(_this);\n    _this._onSectionRendered = _this._onSectionRendered.bind(_this);\n    _this._setRef = _this._setRef.bind(_this);\n    return _this;\n  }\n\n  (0,createClass/* default */.Z)(Table, [{\n    key: 'forceUpdateGrid',\n    value: function forceUpdateGrid() {\n      if (this.Grid) {\n        this.Grid.forceUpdate();\n      }\n    }\n\n    /** See Grid#getOffsetForCell */\n\n  }, {\n    key: 'getOffsetForRow',\n    value: function getOffsetForRow(_ref) {\n      var alignment = _ref.alignment,\n          index = _ref.index;\n\n      if (this.Grid) {\n        var _Grid$getOffsetForCel = this.Grid.getOffsetForCell({\n          alignment: alignment,\n          rowIndex: index\n        }),\n            scrollTop = _Grid$getOffsetForCel.scrollTop;\n\n        return scrollTop;\n      }\n      return 0;\n    }\n\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: 'invalidateCellSizeAfterRender',\n    value: function invalidateCellSizeAfterRender(_ref2) {\n      var columnIndex = _ref2.columnIndex,\n          rowIndex = _ref2.rowIndex;\n\n      if (this.Grid) {\n        this.Grid.invalidateCellSizeAfterRender({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n\n    /** See Grid#measureAllCells */\n\n  }, {\n    key: 'measureAllRows',\n    value: function measureAllRows() {\n      if (this.Grid) {\n        this.Grid.measureAllCells();\n      }\n    }\n\n    /** CellMeasurer compatibility */\n\n  }, {\n    key: 'recomputeGridSize',\n    value: function recomputeGridSize() {\n      var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref3$columnIndex = _ref3.columnIndex,\n          columnIndex = _ref3$columnIndex === undefined ? 0 : _ref3$columnIndex,\n          _ref3$rowIndex = _ref3.rowIndex,\n          rowIndex = _ref3$rowIndex === undefined ? 0 : _ref3$rowIndex;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: rowIndex,\n          columnIndex: columnIndex\n        });\n      }\n    }\n\n    /** See Grid#recomputeGridSize */\n\n  }, {\n    key: 'recomputeRowHeights',\n    value: function recomputeRowHeights() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.recomputeGridSize({\n          rowIndex: index\n        });\n      }\n    }\n\n    /** See Grid#scrollToPosition */\n\n  }, {\n    key: 'scrollToPosition',\n    value: function scrollToPosition() {\n      var scrollTop = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToPosition({ scrollTop: scrollTop });\n      }\n    }\n\n    /** See Grid#scrollToCell */\n\n  }, {\n    key: 'scrollToRow',\n    value: function scrollToRow() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (this.Grid) {\n        this.Grid.scrollToCell({\n          columnIndex: 0,\n          rowIndex: index\n        });\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._setScrollbarWidth();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this._setScrollbarWidth();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          disableHeader = _props.disableHeader,\n          gridClassName = _props.gridClassName,\n          gridStyle = _props.gridStyle,\n          headerHeight = _props.headerHeight,\n          headerRowRenderer = _props.headerRowRenderer,\n          height = _props.height,\n          id = _props.id,\n          noRowsRenderer = _props.noRowsRenderer,\n          rowClassName = _props.rowClassName,\n          rowStyle = _props.rowStyle,\n          scrollToIndex = _props.scrollToIndex,\n          style = _props.style,\n          width = _props.width;\n      var scrollbarWidth = this.state.scrollbarWidth;\n\n\n      var availableRowsHeight = disableHeader ? height : height - headerHeight;\n\n      var rowClass = typeof rowClassName === 'function' ? rowClassName({ index: -1 }) : rowClassName;\n      var rowStyleObject = typeof rowStyle === 'function' ? rowStyle({ index: -1 }) : rowStyle;\n\n      // Precompute and cache column styles before rendering rows and columns to speed things up\n      this._cachedColumnStyles = [];\n      external_React_.Children.toArray(children).forEach(function (column, index) {\n        var flexStyles = _this2._getFlexStyleForColumn(column, column.props.style);\n\n        _this2._cachedColumnStyles[index] = (0,helpers_extends/* default */.Z)({}, flexStyles, {\n          overflow: 'hidden'\n        });\n      });\n\n      // Note that we specify :rowCount, :scrollbarWidth, :sortBy, and :sortDirection as properties on Grid even though these have nothing to do with Grid.\n      // This is done because Grid is a pure component and won't update unless its properties or state has changed.\n      // Any property that should trigger a re-render of Grid then is specified here to avoid a stale display.\n      return external_React_.createElement(\n        'div',\n        {\n          'aria-label': this.props['aria-label'],\n          'aria-labelledby': this.props['aria-labelledby'],\n          'aria-colcount': external_React_.Children.toArray(children).length,\n          'aria-rowcount': this.props.rowCount,\n          className: classnames_default()('ReactVirtualized__Table', className),\n          id: id,\n          role: 'grid',\n          style: style },\n        !disableHeader && headerRowRenderer({\n          className: classnames_default()('ReactVirtualized__Table__headerRow', rowClass),\n          columns: this._getHeaderColumns(),\n          style: (0,helpers_extends/* default */.Z)({\n            height: headerHeight,\n            overflow: 'hidden',\n            paddingRight: scrollbarWidth,\n            width: width\n          }, rowStyleObject)\n        }),\n        external_React_.createElement(Grid_Grid, (0,helpers_extends/* default */.Z)({}, this.props, {\n          autoContainerWidth: true,\n          className: classnames_default()('ReactVirtualized__Table__Grid', gridClassName),\n          cellRenderer: this._createRow,\n          columnWidth: width,\n          columnCount: 1,\n          height: availableRowsHeight,\n          id: undefined,\n          noContentRenderer: noRowsRenderer,\n          onScroll: this._onScroll,\n          onSectionRendered: this._onSectionRendered,\n          ref: this._setRef,\n          role: 'rowgroup',\n          scrollbarWidth: scrollbarWidth,\n          scrollToRow: scrollToIndex,\n          style: (0,helpers_extends/* default */.Z)({}, gridStyle, {\n            overflowX: 'hidden'\n          })\n        }))\n      );\n    }\n  }, {\n    key: '_createColumn',\n    value: function _createColumn(_ref4) {\n      var column = _ref4.column,\n          columnIndex = _ref4.columnIndex,\n          isScrolling = _ref4.isScrolling,\n          parent = _ref4.parent,\n          rowData = _ref4.rowData,\n          rowIndex = _ref4.rowIndex;\n      var onColumnClick = this.props.onColumnClick;\n      var _column$props = column.props,\n          cellDataGetter = _column$props.cellDataGetter,\n          cellRenderer = _column$props.cellRenderer,\n          className = _column$props.className,\n          columnData = _column$props.columnData,\n          dataKey = _column$props.dataKey,\n          id = _column$props.id;\n\n\n      var cellData = cellDataGetter({ columnData: columnData, dataKey: dataKey, rowData: rowData });\n      var renderedCell = cellRenderer({\n        cellData: cellData,\n        columnData: columnData,\n        columnIndex: columnIndex,\n        dataKey: dataKey,\n        isScrolling: isScrolling,\n        parent: parent,\n        rowData: rowData,\n        rowIndex: rowIndex\n      });\n\n      var onClick = function onClick(event) {\n        onColumnClick && onColumnClick({ columnData: columnData, dataKey: dataKey, event: event });\n      };\n\n      var style = this._cachedColumnStyles[columnIndex];\n\n      var title = typeof renderedCell === 'string' ? renderedCell : null;\n\n      // Avoid using object-spread syntax with multiple objects here,\n      // Since it results in an extra method call to 'babel-runtime/helpers/extends'\n      // See PR https://github.com/bvaughn/react-virtualized/pull/942\n      return external_React_.createElement(\n        'div',\n        {\n          'aria-colindex': columnIndex + 1,\n          'aria-describedby': id,\n          className: classnames_default()('ReactVirtualized__Table__rowColumn', className),\n          key: 'Row' + rowIndex + '-' + 'Col' + columnIndex,\n          onClick: onClick,\n          role: 'gridcell',\n          style: style,\n          title: title },\n        renderedCell\n      );\n    }\n  }, {\n    key: '_createHeader',\n    value: function _createHeader(_ref5) {\n      var column = _ref5.column,\n          index = _ref5.index;\n      var _props2 = this.props,\n          headerClassName = _props2.headerClassName,\n          headerStyle = _props2.headerStyle,\n          onHeaderClick = _props2.onHeaderClick,\n          sort = _props2.sort,\n          sortBy = _props2.sortBy,\n          sortDirection = _props2.sortDirection;\n      var _column$props2 = column.props,\n          columnData = _column$props2.columnData,\n          dataKey = _column$props2.dataKey,\n          defaultSortDirection = _column$props2.defaultSortDirection,\n          disableSort = _column$props2.disableSort,\n          headerRenderer = _column$props2.headerRenderer,\n          id = _column$props2.id,\n          label = _column$props2.label;\n\n      var sortEnabled = !disableSort && sort;\n\n      var classNames = classnames_default()('ReactVirtualized__Table__headerColumn', headerClassName, column.props.headerClassName, {\n        ReactVirtualized__Table__sortableHeaderColumn: sortEnabled\n      });\n      var style = this._getFlexStyleForColumn(column, (0,helpers_extends/* default */.Z)({}, headerStyle, column.props.headerStyle));\n\n      var renderedHeader = headerRenderer({\n        columnData: columnData,\n        dataKey: dataKey,\n        disableSort: disableSort,\n        label: label,\n        sortBy: sortBy,\n        sortDirection: sortDirection\n      });\n\n      var headerOnClick = void 0,\n          headerOnKeyDown = void 0,\n          headerTabIndex = void 0,\n          headerAriaSort = void 0,\n          headerAriaLabel = void 0;\n\n      if (sortEnabled || onHeaderClick) {\n        // If this is a sortable header, clicking it should update the table data's sorting.\n        var isFirstTimeSort = sortBy !== dataKey;\n\n        // If this is the firstTime sort of this column, use the column default sort order.\n        // Otherwise, invert the direction of the sort.\n        var newSortDirection = isFirstTimeSort ? defaultSortDirection : sortDirection === Table_SortDirection.DESC ? Table_SortDirection.ASC : Table_SortDirection.DESC;\n\n        var onClick = function onClick(event) {\n          sortEnabled && sort({\n            defaultSortDirection: defaultSortDirection,\n            event: event,\n            sortBy: dataKey,\n            sortDirection: newSortDirection\n          });\n          onHeaderClick && onHeaderClick({ columnData: columnData, dataKey: dataKey, event: event });\n        };\n\n        var onKeyDown = function onKeyDown(event) {\n          if (event.key === 'Enter' || event.key === ' ') {\n            onClick(event);\n          }\n        };\n\n        headerAriaLabel = column.props['aria-label'] || label || dataKey;\n        headerAriaSort = 'none';\n        headerTabIndex = 0;\n        headerOnClick = onClick;\n        headerOnKeyDown = onKeyDown;\n      }\n\n      if (sortBy === dataKey) {\n        headerAriaSort = sortDirection === Table_SortDirection.ASC ? 'ascending' : 'descending';\n      }\n\n      // Avoid using object-spread syntax with multiple objects here,\n      // Since it results in an extra method call to 'babel-runtime/helpers/extends'\n      // See PR https://github.com/bvaughn/react-virtualized/pull/942\n      return external_React_.createElement(\n        'div',\n        {\n          'aria-label': headerAriaLabel,\n          'aria-sort': headerAriaSort,\n          className: classNames,\n          id: id,\n          key: 'Header-Col' + index,\n          onClick: headerOnClick,\n          onKeyDown: headerOnKeyDown,\n          role: 'columnheader',\n          style: style,\n          tabIndex: headerTabIndex },\n        renderedHeader\n      );\n    }\n  }, {\n    key: '_createRow',\n    value: function _createRow(_ref6) {\n      var _this3 = this;\n\n      var index = _ref6.rowIndex,\n          isScrolling = _ref6.isScrolling,\n          key = _ref6.key,\n          parent = _ref6.parent,\n          style = _ref6.style;\n      var _props3 = this.props,\n          children = _props3.children,\n          onRowClick = _props3.onRowClick,\n          onRowDoubleClick = _props3.onRowDoubleClick,\n          onRowRightClick = _props3.onRowRightClick,\n          onRowMouseOver = _props3.onRowMouseOver,\n          onRowMouseOut = _props3.onRowMouseOut,\n          rowClassName = _props3.rowClassName,\n          rowGetter = _props3.rowGetter,\n          rowRenderer = _props3.rowRenderer,\n          rowStyle = _props3.rowStyle;\n      var scrollbarWidth = this.state.scrollbarWidth;\n\n\n      var rowClass = typeof rowClassName === 'function' ? rowClassName({ index: index }) : rowClassName;\n      var rowStyleObject = typeof rowStyle === 'function' ? rowStyle({ index: index }) : rowStyle;\n      var rowData = rowGetter({ index: index });\n\n      var columns = external_React_.Children.toArray(children).map(function (column, columnIndex) {\n        return _this3._createColumn({\n          column: column,\n          columnIndex: columnIndex,\n          isScrolling: isScrolling,\n          parent: parent,\n          rowData: rowData,\n          rowIndex: index,\n          scrollbarWidth: scrollbarWidth\n        });\n      });\n\n      var className = classnames_default()('ReactVirtualized__Table__row', rowClass);\n      var flattenedStyle = (0,helpers_extends/* default */.Z)({}, style, {\n        height: this._getRowHeight(index),\n        overflow: 'hidden',\n        paddingRight: scrollbarWidth\n      }, rowStyleObject);\n\n      return rowRenderer({\n        className: className,\n        columns: columns,\n        index: index,\n        isScrolling: isScrolling,\n        key: key,\n        onRowClick: onRowClick,\n        onRowDoubleClick: onRowDoubleClick,\n        onRowRightClick: onRowRightClick,\n        onRowMouseOver: onRowMouseOver,\n        onRowMouseOut: onRowMouseOut,\n        rowData: rowData,\n        style: flattenedStyle\n      });\n    }\n\n    /**\n     * Determines the flex-shrink, flex-grow, and width values for a cell (header or column).\n     */\n\n  }, {\n    key: '_getFlexStyleForColumn',\n    value: function _getFlexStyleForColumn(column) {\n      var customStyle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var flexValue = column.props.flexGrow + ' ' + column.props.flexShrink + ' ' + column.props.width + 'px';\n\n      var style = (0,helpers_extends/* default */.Z)({}, customStyle, {\n        flex: flexValue,\n        msFlex: flexValue,\n        WebkitFlex: flexValue\n      });\n\n      if (column.props.maxWidth) {\n        style.maxWidth = column.props.maxWidth;\n      }\n\n      if (column.props.minWidth) {\n        style.minWidth = column.props.minWidth;\n      }\n\n      return style;\n    }\n  }, {\n    key: '_getHeaderColumns',\n    value: function _getHeaderColumns() {\n      var _this4 = this;\n\n      var _props4 = this.props,\n          children = _props4.children,\n          disableHeader = _props4.disableHeader;\n\n      var items = disableHeader ? [] : external_React_.Children.toArray(children);\n\n      return items.map(function (column, index) {\n        return _this4._createHeader({ column: column, index: index });\n      });\n    }\n  }, {\n    key: '_getRowHeight',\n    value: function _getRowHeight(rowIndex) {\n      var rowHeight = this.props.rowHeight;\n\n\n      return typeof rowHeight === 'function' ? rowHeight({ index: rowIndex }) : rowHeight;\n    }\n  }, {\n    key: '_onScroll',\n    value: function _onScroll(_ref7) {\n      var clientHeight = _ref7.clientHeight,\n          scrollHeight = _ref7.scrollHeight,\n          scrollTop = _ref7.scrollTop;\n      var onScroll = this.props.onScroll;\n\n\n      onScroll({ clientHeight: clientHeight, scrollHeight: scrollHeight, scrollTop: scrollTop });\n    }\n  }, {\n    key: '_onSectionRendered',\n    value: function _onSectionRendered(_ref8) {\n      var rowOverscanStartIndex = _ref8.rowOverscanStartIndex,\n          rowOverscanStopIndex = _ref8.rowOverscanStopIndex,\n          rowStartIndex = _ref8.rowStartIndex,\n          rowStopIndex = _ref8.rowStopIndex;\n      var onRowsRendered = this.props.onRowsRendered;\n\n\n      onRowsRendered({\n        overscanStartIndex: rowOverscanStartIndex,\n        overscanStopIndex: rowOverscanStopIndex,\n        startIndex: rowStartIndex,\n        stopIndex: rowStopIndex\n      });\n    }\n  }, {\n    key: '_setRef',\n    value: function _setRef(ref) {\n      this.Grid = ref;\n    }\n  }, {\n    key: '_setScrollbarWidth',\n    value: function _setScrollbarWidth() {\n      if (this.Grid) {\n        var _Grid = (0,external_ReactDOM_.findDOMNode)(this.Grid);\n        var clientWidth = _Grid.clientWidth || 0;\n        var offsetWidth = _Grid.offsetWidth || 0;\n        var scrollbarWidth = offsetWidth - clientWidth;\n\n        this.setState({ scrollbarWidth: scrollbarWidth });\n      }\n    }\n  }]);\n\n  return Table;\n}(external_React_.PureComponent);\n\nTable_Table.defaultProps = {\n  disableHeader: false,\n  estimatedRowSize: 30,\n  headerHeight: 0,\n  headerStyle: {},\n  noRowsRenderer: function noRowsRenderer() {\n    return null;\n  },\n  onRowsRendered: function onRowsRendered() {\n    return null;\n  },\n  onScroll: function onScroll() {\n    return null;\n  },\n  overscanIndicesGetter: accessibilityOverscanIndicesGetter_defaultOverscanIndicesGetter,\n  overscanRowCount: 10,\n  rowRenderer: defaultRowRenderer,\n  headerRowRenderer: defaultHeaderRowRenderer,\n  rowStyle: {},\n  scrollToAlignment: 'auto',\n  scrollToIndex: -1,\n  style: {}\n};\n/* harmony default export */ const es_Table_Table = ((/* unused pure expression or super */ null && (Table_Table)));\nTable_Table.propTypes =  false ? 0 : {};\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/Table/index.js\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ const es_Table = ((/* unused pure expression or super */ null && (Table)));\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/WindowScroller/utils/onScroll.js\n\n\n\nvar mountedInstances = [];\nvar originalBodyPointerEvents = null;\nvar disablePointerEventsTimeoutId = null;\n\nfunction enablePointerEventsIfDisabled() {\n  if (disablePointerEventsTimeoutId) {\n    disablePointerEventsTimeoutId = null;\n\n    if (document.body && originalBodyPointerEvents != null) {\n      document.body.style.pointerEvents = originalBodyPointerEvents;\n    }\n\n    originalBodyPointerEvents = null;\n  }\n}\n\nfunction enablePointerEventsAfterDelayCallback() {\n  enablePointerEventsIfDisabled();\n  mountedInstances.forEach(function (instance) {\n    return instance.__resetIsScrolling();\n  });\n}\n\nfunction enablePointerEventsAfterDelay() {\n  if (disablePointerEventsTimeoutId) {\n    cancelAnimationTimeout(disablePointerEventsTimeoutId);\n  }\n\n  var maximumTimeout = 0;\n  mountedInstances.forEach(function (instance) {\n    maximumTimeout = Math.max(maximumTimeout, instance.props.scrollingResetTimeInterval);\n  });\n\n  disablePointerEventsTimeoutId = requestAnimationTimeout(enablePointerEventsAfterDelayCallback, maximumTimeout);\n}\n\nfunction onScrollWindow(event) {\n  if (event.currentTarget === window && originalBodyPointerEvents == null && document.body) {\n    originalBodyPointerEvents = document.body.style.pointerEvents;\n\n    document.body.style.pointerEvents = 'none';\n  }\n  enablePointerEventsAfterDelay();\n  mountedInstances.forEach(function (instance) {\n    if (instance.props.scrollElement === event.currentTarget) {\n      instance.__handleWindowScrollEvent();\n    }\n  });\n}\n\nfunction registerScrollListener(component, element) {\n  if (!mountedInstances.some(function (instance) {\n    return instance.props.scrollElement === element;\n  })) {\n    element.addEventListener('scroll', onScrollWindow);\n  }\n  mountedInstances.push(component);\n}\n\nfunction unregisterScrollListener(component, element) {\n  mountedInstances = mountedInstances.filter(function (instance) {\n    return instance !== component;\n  });\n  if (!mountedInstances.length) {\n    element.removeEventListener('scroll', onScrollWindow);\n    if (disablePointerEventsTimeoutId) {\n      cancelAnimationTimeout(disablePointerEventsTimeoutId);\n      enablePointerEventsIfDisabled();\n    }\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/WindowScroller/utils/dimensions.js\n\n\n/**\n * Gets the dimensions of the element, accounting for API differences between\n * `window` and other DOM elements.\n */\n\nvar isWindow = function isWindow(element) {\n  return element === window;\n};\n\n// TODO Move this into WindowScroller and import from there\n\n\nvar getBoundingBox = function getBoundingBox(element) {\n  return element.getBoundingClientRect();\n};\n\nfunction getDimensions(scrollElement, props) {\n  if (!scrollElement) {\n    return {\n      height: props.serverHeight,\n      width: props.serverWidth\n    };\n  } else if (isWindow(scrollElement)) {\n    var _window = window,\n        innerHeight = _window.innerHeight,\n        innerWidth = _window.innerWidth;\n\n    return {\n      height: typeof innerHeight === 'number' ? innerHeight : 0,\n      width: typeof innerWidth === 'number' ? innerWidth : 0\n    };\n  } else {\n    return getBoundingBox(scrollElement);\n  }\n}\n\n/**\n * Gets the vertical and horizontal position of an element within its scroll container.\n * Elements that have been scrolled past return negative values.\n * Handles edge-case where a user is navigating back (history) from an already-scrolled page.\n * In this case the bodys top or left position will be a negative number and this elements top or left will be increased (by that amount).\n */\nfunction getPositionOffset(element, container) {\n  if (isWindow(container) && document.documentElement) {\n    var containerElement = document.documentElement;\n    var elementRect = getBoundingBox(element);\n    var containerRect = getBoundingBox(containerElement);\n    return {\n      top: elementRect.top - containerRect.top,\n      left: elementRect.left - containerRect.left\n    };\n  } else {\n    var scrollOffset = getScrollOffset(container);\n    var _elementRect = getBoundingBox(element);\n    var _containerRect = getBoundingBox(container);\n    return {\n      top: _elementRect.top + scrollOffset.top - _containerRect.top,\n      left: _elementRect.left + scrollOffset.left - _containerRect.left\n    };\n  }\n}\n\n/**\n * Gets the vertical and horizontal scroll amount of the element, accounting for IE compatibility\n * and API differences between `window` and other DOM elements.\n */\nfunction getScrollOffset(element) {\n  if (isWindow(element) && document.documentElement) {\n    return {\n      top: 'scrollY' in window ? window.scrollY : document.documentElement.scrollTop,\n      left: 'scrollX' in window ? window.scrollX : document.documentElement.scrollLeft\n    };\n  } else {\n    return {\n      top: element.scrollTop,\n      left: element.scrollLeft\n    };\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/WindowScroller/WindowScroller.js\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Specifies the number of miliseconds during which to disable pointer events while a scroll is in progress.\n * This improves performance and makes scrolling smoother.\n */\nvar WindowScroller_IS_SCROLLING_TIMEOUT = 150;\n\nvar getWindow = function getWindow() {\n  return typeof window !== 'undefined' ? window : undefined;\n};\n\nvar WindowScroller_WindowScroller = function (_React$PureComponent) {\n  (0,inherits/* default */.Z)(WindowScroller, _React$PureComponent);\n\n  function WindowScroller() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0,classCallCheck/* default */.Z)(this, WindowScroller);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0,possibleConstructorReturn/* default */.Z)(this, (_ref = WindowScroller.__proto__ || get_prototype_of_default()(WindowScroller)).call.apply(_ref, [this].concat(args))), _this), _this._window = getWindow(), _this._isMounted = false, _this._positionFromTop = 0, _this._positionFromLeft = 0, _this.state = (0,helpers_extends/* default */.Z)({}, getDimensions(_this.props.scrollElement, _this.props), {\n      isScrolling: false,\n      scrollLeft: 0,\n      scrollTop: 0\n    }), _this._registerChild = function (element) {\n      if (element && !(element instanceof Element)) {\n        console.warn('WindowScroller registerChild expects to be passed Element or null');\n      }\n      _this._child = element;\n      _this.updatePosition();\n    }, _this._onChildScroll = function (_ref2) {\n      var scrollTop = _ref2.scrollTop;\n\n      if (_this.state.scrollTop === scrollTop) {\n        return;\n      }\n\n      var scrollElement = _this.props.scrollElement;\n      if (scrollElement) {\n        if (typeof scrollElement.scrollTo === 'function') {\n          scrollElement.scrollTo(0, scrollTop + _this._positionFromTop);\n        } else {\n          scrollElement.scrollTop = scrollTop + _this._positionFromTop;\n        }\n      }\n    }, _this._registerResizeListener = function (element) {\n      if (element === window) {\n        window.addEventListener('resize', _this._onResize, false);\n      } else {\n        _this._detectElementResize.addResizeListener(element, _this._onResize);\n      }\n    }, _this._unregisterResizeListener = function (element) {\n      if (element === window) {\n        window.removeEventListener('resize', _this._onResize, false);\n      } else if (element) {\n        _this._detectElementResize.removeResizeListener(element, _this._onResize);\n      }\n    }, _this._onResize = function () {\n      _this.updatePosition();\n    }, _this.__handleWindowScrollEvent = function () {\n      if (!_this._isMounted) {\n        return;\n      }\n\n      var onScroll = _this.props.onScroll;\n\n\n      var scrollElement = _this.props.scrollElement;\n      if (scrollElement) {\n        var scrollOffset = getScrollOffset(scrollElement);\n        var _scrollLeft = Math.max(0, scrollOffset.left - _this._positionFromLeft);\n        var _scrollTop = Math.max(0, scrollOffset.top - _this._positionFromTop);\n\n        _this.setState({\n          isScrolling: true,\n          scrollLeft: _scrollLeft,\n          scrollTop: _scrollTop\n        });\n\n        onScroll({\n          scrollLeft: _scrollLeft,\n          scrollTop: _scrollTop\n        });\n      }\n    }, _this.__resetIsScrolling = function () {\n      _this.setState({\n        isScrolling: false\n      });\n    }, _temp), (0,possibleConstructorReturn/* default */.Z)(_this, _ret);\n  }\n\n  (0,createClass/* default */.Z)(WindowScroller, [{\n    key: 'updatePosition',\n    value: function updatePosition() {\n      var scrollElement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props.scrollElement;\n      var onResize = this.props.onResize;\n      var _state = this.state,\n          height = _state.height,\n          width = _state.width;\n\n\n      var thisNode = this._child || external_ReactDOM_.findDOMNode(this);\n      if (thisNode instanceof Element && scrollElement) {\n        var offset = getPositionOffset(thisNode, scrollElement);\n        this._positionFromTop = offset.top;\n        this._positionFromLeft = offset.left;\n      }\n\n      var dimensions = getDimensions(scrollElement, this.props);\n      if (height !== dimensions.height || width !== dimensions.width) {\n        this.setState({\n          height: dimensions.height,\n          width: dimensions.width\n        });\n        onResize({\n          height: dimensions.height,\n          width: dimensions.width\n        });\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var scrollElement = this.props.scrollElement;\n\n      this._detectElementResize = createDetectElementResize();\n\n      this.updatePosition(scrollElement);\n\n      if (scrollElement) {\n        registerScrollListener(this, scrollElement);\n        this._registerResizeListener(scrollElement);\n      }\n\n      this._isMounted = true;\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      var scrollElement = this.props.scrollElement;\n      var prevScrollElement = prevProps.scrollElement;\n\n\n      if (prevScrollElement !== scrollElement && prevScrollElement != null && scrollElement != null) {\n        this.updatePosition(scrollElement);\n\n        unregisterScrollListener(this, prevScrollElement);\n        registerScrollListener(this, scrollElement);\n\n        this._unregisterResizeListener(prevScrollElement);\n        this._registerResizeListener(scrollElement);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var scrollElement = this.props.scrollElement;\n      if (scrollElement) {\n        unregisterScrollListener(this, scrollElement);\n        this._unregisterResizeListener(scrollElement);\n      }\n\n      this._isMounted = false;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n      var _state2 = this.state,\n          isScrolling = _state2.isScrolling,\n          scrollTop = _state2.scrollTop,\n          scrollLeft = _state2.scrollLeft,\n          height = _state2.height,\n          width = _state2.width;\n\n\n      return children({\n        onChildScroll: this._onChildScroll,\n        registerChild: this._registerChild,\n        height: height,\n        isScrolling: isScrolling,\n        scrollLeft: scrollLeft,\n        scrollTop: scrollTop,\n        width: width\n      });\n    }\n\n    // Referenced by utils/onScroll\n\n\n    // Referenced by utils/onScroll\n\n  }]);\n\n  return WindowScroller;\n}(external_React_.PureComponent);\n\nWindowScroller_WindowScroller.defaultProps = {\n  onResize: function onResize() {},\n  onScroll: function onScroll() {},\n  scrollingResetTimeInterval: WindowScroller_IS_SCROLLING_TIMEOUT,\n  scrollElement: getWindow(),\n  serverHeight: 0,\n  serverWidth: 0\n};\nWindowScroller_WindowScroller.propTypes =  true ? null : 0;\n/* harmony default export */ const es_WindowScroller_WindowScroller = ((/* unused pure expression or super */ null && (WindowScroller_WindowScroller)));\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/WindowScroller/index.js\n\n\n/* harmony default export */ const es_WindowScroller = ((/* unused pure expression or super */ null && (WindowScroller)));\n\n;// CONCATENATED MODULE: ./node_modules/react-virtualized/dist/es/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/searchUtilApi.ts\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-search/javadoc/com/ancestry/eb/josephus/fold31/search/service/SearchUtilService.html) */\nvar SearchUtilApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(SearchUtilApi, _super);\n    function SearchUtilApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.SEARCH;\n        _this.baseUrl = '/search-util';\n        return _this;\n    }\n    SearchUtilApi.prototype.listAllTags = function () {\n        return this.get('/tag', {\n            deserializeType: 'SearchTagInfo',\n        });\n    };\n    SearchUtilApi.prototype.getBrowseLevelLabels = function (publicationId) {\n        return this.get(\"/browse-levels/\".concat(publicationId));\n    };\n    SearchUtilApi.prototype.getDocumentLevelLabel = function (publicationId) {\n        return this.get(\"/document-level/\".concat(publicationId), { primitive: true });\n    };\n    return SearchUtilApi;\n}(F3Api/* F3Api */.D4));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/debounce.ts\n\nfunction debounce(func, wait) {\n    var timeout;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (timeout)\n            clearTimeout(timeout);\n        timeout = setTimeout(function () {\n            func.apply(void 0, (0,tslib_es6/* __spreadArray */.ev)([], (0,tslib_es6/* __read */.CR)(args), false));\n        }, wait);\n    };\n}\n;\n\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\n;// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\n;// CONCATENATED MODULE: ./node_modules/memoize-one/dist/memoize-one.esm.js\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (newInputs[i] !== lastInputs[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\n/* harmony default export */ const memoize_one_esm = (memoizeOne);\n\n;// CONCATENATED MODULE: ./node_modules/react-window/dist/index.esm.js\n\n\n\n\n\n\n\n// Animation frame based implementation of setTimeout.\n// Inspired by Joe Lambert, https://gist.github.com/joelambert/1002116#file-requesttimeout-js\nvar hasNativePerformanceNow = typeof performance === 'object' && typeof performance.now === 'function';\nvar now = hasNativePerformanceNow ? function () {\n  return performance.now();\n} : function () {\n  return Date.now();\n};\nfunction cancelTimeout(timeoutID) {\n  cancelAnimationFrame(timeoutID.id);\n}\nfunction requestTimeout(callback, delay) {\n  var start = now();\n\n  function tick() {\n    if (now() - start >= delay) {\n      callback.call(null);\n    } else {\n      timeoutID.id = requestAnimationFrame(tick);\n    }\n  }\n\n  var timeoutID = {\n    id: requestAnimationFrame(tick)\n  };\n  return timeoutID;\n}\n\nvar size = -1; // This utility copied from \"dom-helpers\" package.\n\nfunction getScrollbarSize(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (size === -1 || recalculate) {\n    var div = document.createElement('div');\n    var style = div.style;\n    style.width = '50px';\n    style.height = '50px';\n    style.overflow = 'scroll';\n    document.body.appendChild(div);\n    size = div.offsetWidth - div.clientWidth;\n    document.body.removeChild(div);\n  }\n\n  return size;\n}\nvar cachedRTLResult = null; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n// Chrome does not seem to adhere; its scrollLeft values are positive (measured relative to the left).\n// Safari's elastic bounce makes detecting this even more complicated wrt potential false positives.\n// The safest way to check this is to intentionally set a negative offset,\n// and then verify that the subsequent \"scroll\" event matches the negative offset.\n// If it does not match, then we can assume a non-standard RTL scroll implementation.\n\nfunction getRTLOffsetType(recalculate) {\n  if (recalculate === void 0) {\n    recalculate = false;\n  }\n\n  if (cachedRTLResult === null || recalculate) {\n    var outerDiv = document.createElement('div');\n    var outerStyle = outerDiv.style;\n    outerStyle.width = '50px';\n    outerStyle.height = '50px';\n    outerStyle.overflow = 'scroll';\n    outerStyle.direction = 'rtl';\n    var innerDiv = document.createElement('div');\n    var innerStyle = innerDiv.style;\n    innerStyle.width = '100px';\n    innerStyle.height = '100px';\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = 'positive-descending';\n    } else {\n      outerDiv.scrollLeft = 1;\n\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = 'negative';\n      } else {\n        cachedRTLResult = 'positive-ascending';\n      }\n    }\n\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n\n  return cachedRTLResult;\n}\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL = 150;\n\nvar defaultItemKey = function defaultItemKey(_ref) {\n  var columnIndex = _ref.columnIndex,\n      data = _ref.data,\n      rowIndex = _ref.rowIndex;\n  return rowIndex + \":\" + columnIndex;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsOverscanCount = null;\nvar devWarningsOverscanRowsColumnsCount = null;\nvar devWarningsTagName = null;\n\nif (false) {}\n\nfunction createGridComponent(_ref2) {\n  var _class, _temp;\n\n  var getColumnOffset = _ref2.getColumnOffset,\n      getColumnStartIndexForOffset = _ref2.getColumnStartIndexForOffset,\n      getColumnStopIndexForStartIndex = _ref2.getColumnStopIndexForStartIndex,\n      getColumnWidth = _ref2.getColumnWidth,\n      getEstimatedTotalHeight = _ref2.getEstimatedTotalHeight,\n      getEstimatedTotalWidth = _ref2.getEstimatedTotalWidth,\n      getOffsetForColumnAndAlignment = _ref2.getOffsetForColumnAndAlignment,\n      getOffsetForRowAndAlignment = _ref2.getOffsetForRowAndAlignment,\n      getRowHeight = _ref2.getRowHeight,\n      getRowOffset = _ref2.getRowOffset,\n      getRowStartIndexForOffset = _ref2.getRowStartIndexForOffset,\n      getRowStopIndexForStartIndex = _ref2.getRowStopIndexForStartIndex,\n      initInstanceProps = _ref2.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref2.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref2.validateProps;\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_PureComponent) {\n    _inheritsLoose(Grid, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function Grid(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_assertThisInitialized(_this)));\n      _this._resetIsScrollingTimeoutId = null;\n      _this._outerRef = void 0;\n      _this.state = {\n        instance: _assertThisInitialized(_assertThisInitialized(_this)),\n        isScrolling: false,\n        horizontalScrollDirection: 'forward',\n        scrollLeft: typeof _this.props.initialScrollLeft === 'number' ? _this.props.initialScrollLeft : 0,\n        scrollTop: typeof _this.props.initialScrollTop === 'number' ? _this.props.initialScrollTop : 0,\n        scrollUpdateWasRequested: false,\n        verticalScrollDirection: 'forward'\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoize_one_esm(function (overscanColumnStartIndex, overscanColumnStopIndex, overscanRowStartIndex, overscanRowStopIndex, visibleColumnStartIndex, visibleColumnStopIndex, visibleRowStartIndex, visibleRowStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanColumnStartIndex: overscanColumnStartIndex,\n          overscanColumnStopIndex: overscanColumnStopIndex,\n          overscanRowStartIndex: overscanRowStartIndex,\n          overscanRowStopIndex: overscanRowStopIndex,\n          visibleColumnStartIndex: visibleColumnStartIndex,\n          visibleColumnStopIndex: visibleColumnStopIndex,\n          visibleRowStartIndex: visibleRowStartIndex,\n          visibleRowStopIndex: visibleRowStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoize_one_esm(function (scrollLeft, scrollTop, horizontalScrollDirection, verticalScrollDirection, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          horizontalScrollDirection: horizontalScrollDirection,\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          verticalScrollDirection: verticalScrollDirection,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (rowIndex, columnIndex) {\n        var _this$props = _this.props,\n            columnWidth = _this$props.columnWidth,\n            direction = _this$props.direction,\n            rowHeight = _this$props.rowHeight;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && columnWidth, shouldResetStyleCacheOnItemSizeChange && direction, shouldResetStyleCacheOnItemSizeChange && rowHeight);\n\n        var key = rowIndex + \":\" + columnIndex;\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(key)) {\n          style = itemStyleCache[key];\n        } else {\n          var _style;\n\n          itemStyleCache[key] = style = (_style = {\n            position: 'absolute'\n          }, _style[direction === 'rtl' ? 'right' : 'left'] = getColumnOffset(_this.props, columnIndex, _this._instanceProps), _style.top = getRowOffset(_this.props, rowIndex, _this._instanceProps), _style.height = getRowHeight(_this.props, rowIndex, _this._instanceProps), _style.width = getColumnWidth(_this.props, columnIndex, _this._instanceProps), _style);\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoize_one_esm(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScroll = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientHeight = _event$currentTarget.clientHeight,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollTop = _event$currentTarget.scrollTop,\n            scrollHeight = _event$currentTarget.scrollHeight,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction; // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n          // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n          // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n          // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n\n          var calculatedScrollLeft = scrollLeft;\n\n          if (direction === 'rtl') {\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                calculatedScrollLeft = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                calculatedScrollLeft = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          calculatedScrollLeft = Math.max(0, Math.min(calculatedScrollLeft, scrollWidth - clientWidth));\n          var calculatedScrollTop = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n            scrollLeft: calculatedScrollLeft,\n            scrollTop: calculatedScrollTop,\n            verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward',\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1);\n        });\n      };\n\n      return _this;\n    }\n\n    Grid.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = Grid.prototype;\n\n    _proto.scrollTo = function scrollTo(_ref3) {\n      var scrollLeft = _ref3.scrollLeft,\n          scrollTop = _ref3.scrollTop;\n\n      if (scrollLeft !== undefined) {\n        scrollLeft = Math.max(0, scrollLeft);\n      }\n\n      if (scrollTop !== undefined) {\n        scrollTop = Math.max(0, scrollTop);\n      }\n\n      this.setState(function (prevState) {\n        if (scrollLeft === undefined) {\n          scrollLeft = prevState.scrollLeft;\n        }\n\n        if (scrollTop === undefined) {\n          scrollTop = prevState.scrollTop;\n        }\n\n        if (prevState.scrollLeft === scrollLeft && prevState.scrollTop === scrollTop) {\n          return null;\n        }\n\n        return {\n          horizontalScrollDirection: prevState.scrollLeft < scrollLeft ? 'forward' : 'backward',\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop,\n          scrollUpdateWasRequested: true,\n          verticalScrollDirection: prevState.scrollTop < scrollTop ? 'forward' : 'backward'\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(_ref4) {\n      var _ref4$align = _ref4.align,\n          align = _ref4$align === void 0 ? 'auto' : _ref4$align,\n          columnIndex = _ref4.columnIndex,\n          rowIndex = _ref4.rowIndex;\n      var _this$props2 = this.props,\n          columnCount = _this$props2.columnCount,\n          height = _this$props2.height,\n          rowCount = _this$props2.rowCount,\n          width = _this$props2.width;\n      var _this$state = this.state,\n          scrollLeft = _this$state.scrollLeft,\n          scrollTop = _this$state.scrollTop;\n      var scrollbarSize = getScrollbarSize();\n\n      if (columnIndex !== undefined) {\n        columnIndex = Math.max(0, Math.min(columnIndex, columnCount - 1));\n      }\n\n      if (rowIndex !== undefined) {\n        rowIndex = Math.max(0, Math.min(rowIndex, rowCount - 1));\n      }\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps); // The scrollbar size should be considered when scrolling an item into view,\n      // to ensure it's fully visible.\n      // But we only need to account for its size when it's actually visible.\n\n      var horizontalScrollbarSize = estimatedTotalWidth > width ? scrollbarSize : 0;\n      var verticalScrollbarSize = estimatedTotalHeight > height ? scrollbarSize : 0;\n      this.scrollTo({\n        scrollLeft: columnIndex !== undefined ? getOffsetForColumnAndAlignment(this.props, columnIndex, align, scrollLeft, this._instanceProps, verticalScrollbarSize) : scrollLeft,\n        scrollTop: rowIndex !== undefined ? getOffsetForRowAndAlignment(this.props, rowIndex, align, scrollTop, this._instanceProps, horizontalScrollbarSize) : scrollTop\n      });\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props3 = this.props,\n          initialScrollLeft = _this$props3.initialScrollLeft,\n          initialScrollTop = _this$props3.initialScrollTop;\n\n      if (this._outerRef != null) {\n        var outerRef = this._outerRef;\n\n        if (typeof initialScrollLeft === 'number') {\n          outerRef.scrollLeft = initialScrollLeft;\n        }\n\n        if (typeof initialScrollTop === 'number') {\n          outerRef.scrollTop = initialScrollTop;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var direction = this.props.direction;\n      var _this$state2 = this.state,\n          scrollLeft = _this$state2.scrollLeft,\n          scrollTop = _this$state2.scrollTop,\n          scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n        // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n        // So we need to determine which browser behavior we're dealing with, and mimic it.\n        var outerRef = this._outerRef;\n\n        if (direction === 'rtl') {\n          switch (getRTLOffsetType()) {\n            case 'negative':\n              outerRef.scrollLeft = -scrollLeft;\n              break;\n\n            case 'positive-ascending':\n              outerRef.scrollLeft = scrollLeft;\n              break;\n\n            default:\n              var clientWidth = outerRef.clientWidth,\n                  scrollWidth = outerRef.scrollWidth;\n              outerRef.scrollLeft = scrollWidth - clientWidth - scrollLeft;\n              break;\n          }\n        } else {\n          outerRef.scrollLeft = Math.max(0, scrollLeft);\n        }\n\n        outerRef.scrollTop = Math.max(0, scrollTop);\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          columnCount = _this$props4.columnCount,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey : _this$props4$itemKey,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          rowCount = _this$props4.rowCount,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling;\n\n      var _this$_getHorizontalR = this._getHorizontalRangeToRender(),\n          columnStartIndex = _this$_getHorizontalR[0],\n          columnStopIndex = _this$_getHorizontalR[1];\n\n      var _this$_getVerticalRan = this._getVerticalRangeToRender(),\n          rowStartIndex = _this$_getVerticalRan[0],\n          rowStopIndex = _this$_getVerticalRan[1];\n\n      var items = [];\n\n      if (columnCount > 0 && rowCount) {\n        for (var _rowIndex = rowStartIndex; _rowIndex <= rowStopIndex; _rowIndex++) {\n          for (var _columnIndex = columnStartIndex; _columnIndex <= columnStopIndex; _columnIndex++) {\n            items.push((0,external_React_.createElement)(children, {\n              columnIndex: _columnIndex,\n              data: itemData,\n              isScrolling: useIsScrolling ? isScrolling : undefined,\n              key: itemKey({\n                columnIndex: _columnIndex,\n                data: itemData,\n                rowIndex: _rowIndex\n              }),\n              rowIndex: _rowIndex,\n              style: this._getItemStyle(_rowIndex, _columnIndex)\n            }));\n          }\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalHeight = getEstimatedTotalHeight(this.props, this._instanceProps);\n      var estimatedTotalWidth = getEstimatedTotalWidth(this.props, this._instanceProps);\n      return (0,external_React_.createElement)(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: this._onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, (0,external_React_.createElement)(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: estimatedTotalHeight,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: estimatedTotalWidth\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      var _this$props5 = this.props,\n          columnCount = _this$props5.columnCount,\n          onItemsRendered = _this$props5.onItemsRendered,\n          onScroll = _this$props5.onScroll,\n          rowCount = _this$props5.rowCount;\n\n      if (typeof onItemsRendered === 'function') {\n        if (columnCount > 0 && rowCount > 0) {\n          var _this$_getHorizontalR2 = this._getHorizontalRangeToRender(),\n              _overscanColumnStartIndex = _this$_getHorizontalR2[0],\n              _overscanColumnStopIndex = _this$_getHorizontalR2[1],\n              _visibleColumnStartIndex = _this$_getHorizontalR2[2],\n              _visibleColumnStopIndex = _this$_getHorizontalR2[3];\n\n          var _this$_getVerticalRan2 = this._getVerticalRangeToRender(),\n              _overscanRowStartIndex = _this$_getVerticalRan2[0],\n              _overscanRowStopIndex = _this$_getVerticalRan2[1],\n              _visibleRowStartIndex = _this$_getVerticalRan2[2],\n              _visibleRowStopIndex = _this$_getVerticalRan2[3];\n\n          this._callOnItemsRendered(_overscanColumnStartIndex, _overscanColumnStopIndex, _overscanRowStartIndex, _overscanRowStopIndex, _visibleColumnStartIndex, _visibleColumnStopIndex, _visibleRowStartIndex, _visibleRowStopIndex);\n        }\n      }\n\n      if (typeof onScroll === 'function') {\n        var _this$state3 = this.state,\n            _horizontalScrollDirection = _this$state3.horizontalScrollDirection,\n            _scrollLeft = _this$state3.scrollLeft,\n            _scrollTop = _this$state3.scrollTop,\n            _scrollUpdateWasRequested = _this$state3.scrollUpdateWasRequested,\n            _verticalScrollDirection = _this$state3.verticalScrollDirection;\n\n        this._callOnScroll(_scrollLeft, _scrollTop, _horizontalScrollDirection, _verticalScrollDirection, _scrollUpdateWasRequested);\n      }\n    }; // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n\n\n    _proto._getHorizontalRangeToRender = function _getHorizontalRangeToRender() {\n      var _this$props6 = this.props,\n          columnCount = _this$props6.columnCount,\n          overscanColumnCount = _this$props6.overscanColumnCount,\n          overscanColumnsCount = _this$props6.overscanColumnsCount,\n          overscanCount = _this$props6.overscanCount,\n          rowCount = _this$props6.rowCount;\n      var _this$state4 = this.state,\n          horizontalScrollDirection = _this$state4.horizontalScrollDirection,\n          isScrolling = _this$state4.isScrolling,\n          scrollLeft = _this$state4.scrollLeft;\n      var overscanCountResolved = overscanColumnCount || overscanColumnsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getColumnStartIndexForOffset(this.props, scrollLeft, this._instanceProps);\n      var stopIndex = getColumnStopIndexForStartIndex(this.props, startIndex, scrollLeft, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || horizontalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || horizontalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(columnCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    _proto._getVerticalRangeToRender = function _getVerticalRangeToRender() {\n      var _this$props7 = this.props,\n          columnCount = _this$props7.columnCount,\n          overscanCount = _this$props7.overscanCount,\n          overscanRowCount = _this$props7.overscanRowCount,\n          overscanRowsCount = _this$props7.overscanRowsCount,\n          rowCount = _this$props7.rowCount;\n      var _this$state5 = this.state,\n          isScrolling = _this$state5.isScrolling,\n          verticalScrollDirection = _this$state5.verticalScrollDirection,\n          scrollTop = _this$state5.scrollTop;\n      var overscanCountResolved = overscanRowCount || overscanRowsCount || overscanCount || 1;\n\n      if (columnCount === 0 || rowCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getRowStartIndexForOffset(this.props, scrollTop, this._instanceProps);\n      var stopIndex = getRowStopIndexForStartIndex(this.props, startIndex, scrollTop, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || verticalScrollDirection === 'backward' ? Math.max(1, overscanCountResolved) : 1;\n      var overscanForward = !isScrolling || verticalScrollDirection === 'forward' ? Math.max(1, overscanCountResolved) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(rowCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return Grid;\n  }(external_React_.PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    useIsScrolling: false\n  }, _temp;\n}\n\nvar validateSharedProps = function validateSharedProps(_ref5, _ref6) {\n  var children = _ref5.children,\n      direction = _ref5.direction,\n      height = _ref5.height,\n      innerTagName = _ref5.innerTagName,\n      outerTagName = _ref5.outerTagName,\n      overscanColumnsCount = _ref5.overscanColumnsCount,\n      overscanCount = _ref5.overscanCount,\n      overscanRowsCount = _ref5.overscanRowsCount,\n      width = _ref5.width;\n  var instance = _ref6.instance;\n\n  if (false) {}\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE = 50;\n\nvar getEstimatedTotalHeight = function getEstimatedTotalHeight(_ref, _ref2) {\n  var rowCount = _ref.rowCount;\n  var rowMetadataMap = _ref2.rowMetadataMap,\n      estimatedRowHeight = _ref2.estimatedRowHeight,\n      lastMeasuredRowIndex = _ref2.lastMeasuredRowIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredRowIndex >= rowCount) {\n    lastMeasuredRowIndex = rowCount - 1;\n  }\n\n  if (lastMeasuredRowIndex >= 0) {\n    var itemMetadata = rowMetadataMap[lastMeasuredRowIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = rowCount - lastMeasuredRowIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedRowHeight;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getEstimatedTotalWidth = function getEstimatedTotalWidth(_ref3, _ref4) {\n  var columnCount = _ref3.columnCount;\n  var columnMetadataMap = _ref4.columnMetadataMap,\n      estimatedColumnWidth = _ref4.estimatedColumnWidth,\n      lastMeasuredColumnIndex = _ref4.lastMeasuredColumnIndex;\n  var totalSizeOfMeasuredRows = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredColumnIndex >= columnCount) {\n    lastMeasuredColumnIndex = columnCount - 1;\n  }\n\n  if (lastMeasuredColumnIndex >= 0) {\n    var itemMetadata = columnMetadataMap[lastMeasuredColumnIndex];\n    totalSizeOfMeasuredRows = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = columnCount - lastMeasuredColumnIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedColumnWidth;\n  return totalSizeOfMeasuredRows + totalSizeOfUnmeasuredItems;\n};\n\nvar getItemMetadata = function getItemMetadata(itemType, props, index, instanceProps) {\n  var itemMetadataMap, itemSize, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    itemSize = props.columnWidth;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    itemSize = props.rowHeight;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    if (itemType === 'column') {\n      instanceProps.lastMeasuredColumnIndex = index;\n    } else {\n      instanceProps.lastMeasuredRowIndex = index;\n    }\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem = function findNearestItem(itemType, props, instanceProps, offset) {\n  var itemMetadataMap, lastMeasuredIndex;\n\n  if (itemType === 'column') {\n    itemMetadataMap = instanceProps.columnMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredColumnIndex;\n  } else {\n    itemMetadataMap = instanceProps.rowMetadataMap;\n    lastMeasuredIndex = instanceProps.lastMeasuredRowIndex;\n  }\n\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch(itemType, props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch(itemType, props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch = function findNearestItemBinarySearch(itemType, props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata(itemType, props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch = function findNearestItemExponentialSearch(itemType, props, instanceProps, index, offset) {\n  var itemCount = itemType === 'column' ? props.columnCount : props.rowCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata(itemType, props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch(itemType, props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getOffsetForIndexAndAlignment = function getOffsetForIndexAndAlignment(itemType, props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n  var size = itemType === 'column' ? props.width : props.height;\n  var itemMetadata = getItemMetadata(itemType, props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n  // To ensure it reflects actual measurements instead of just estimates.\n\n  var estimatedTotalSize = itemType === 'column' ? getEstimatedTotalWidth(props, instanceProps) : getEstimatedTotalHeight(props, instanceProps);\n  var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n  var minOffset = Math.max(0, itemMetadata.offset - size + scrollbarSize + itemMetadata.size);\n\n  if (align === 'smart') {\n    if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n      align = 'auto';\n    } else {\n      align = 'center';\n    }\n  }\n\n  switch (align) {\n    case 'start':\n      return maxOffset;\n\n    case 'end':\n      return minOffset;\n\n    case 'center':\n      return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n    case 'auto':\n    default:\n      if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n        return scrollOffset;\n      } else if (minOffset > maxOffset) {\n        // Because we only take into account the scrollbar size when calculating minOffset\n        // this value can be larger than maxOffset when at the end of the list\n        return minOffset;\n      } else if (scrollOffset < minOffset) {\n        return minOffset;\n      } else {\n        return maxOffset;\n      }\n\n  }\n};\n\nvar VariableSizeGrid =\n/*#__PURE__*/\ncreateGridComponent({\n  getColumnOffset: function getColumnOffset(props, index, instanceProps) {\n    return getItemMetadata('column', props, index, instanceProps).offset;\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(props, scrollLeft, instanceProps) {\n    return findNearestItem('column', props, instanceProps, scrollLeft);\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(props, startIndex, scrollLeft, instanceProps) {\n    var columnCount = props.columnCount,\n        width = props.width;\n    var itemMetadata = getItemMetadata('column', props, startIndex, instanceProps);\n    var maxOffset = scrollLeft + width;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < columnCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('column', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  getColumnWidth: function getColumnWidth(props, index, instanceProps) {\n    return instanceProps.columnMetadataMap[index].size;\n  },\n  getEstimatedTotalHeight: getEstimatedTotalHeight,\n  getEstimatedTotalWidth: getEstimatedTotalWidth,\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('column', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(props, index, align, scrollOffset, instanceProps, scrollbarSize) {\n    return getOffsetForIndexAndAlignment('row', props, index, align, scrollOffset, instanceProps, scrollbarSize);\n  },\n  getRowOffset: function getRowOffset(props, index, instanceProps) {\n    return getItemMetadata('row', props, index, instanceProps).offset;\n  },\n  getRowHeight: function getRowHeight(props, index, instanceProps) {\n    return instanceProps.rowMetadataMap[index].size;\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(props, scrollTop, instanceProps) {\n    return findNearestItem('row', props, instanceProps, scrollTop);\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(props, startIndex, scrollTop, instanceProps) {\n    var rowCount = props.rowCount,\n        height = props.height;\n    var itemMetadata = getItemMetadata('row', props, startIndex, instanceProps);\n    var maxOffset = scrollTop + height;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < rowCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata('row', props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref5 = props,\n        estimatedColumnWidth = _ref5.estimatedColumnWidth,\n        estimatedRowHeight = _ref5.estimatedRowHeight;\n    var instanceProps = {\n      columnMetadataMap: {},\n      estimatedColumnWidth: estimatedColumnWidth || DEFAULT_ESTIMATED_ITEM_SIZE,\n      estimatedRowHeight: estimatedRowHeight || DEFAULT_ESTIMATED_ITEM_SIZE,\n      lastMeasuredColumnIndex: -1,\n      lastMeasuredRowIndex: -1,\n      rowMetadataMap: {}\n    };\n\n    instance.resetAfterColumnIndex = function (columnIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        columnIndex: columnIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterRowIndex = function (rowIndex, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instance.resetAfterIndices({\n        rowIndex: rowIndex,\n        shouldForceUpdate: shouldForceUpdate\n      });\n    };\n\n    instance.resetAfterIndices = function (_ref6) {\n      var columnIndex = _ref6.columnIndex,\n          rowIndex = _ref6.rowIndex,\n          _ref6$shouldForceUpda = _ref6.shouldForceUpdate,\n          shouldForceUpdate = _ref6$shouldForceUpda === void 0 ? true : _ref6$shouldForceUpda;\n\n      if (typeof columnIndex === 'number') {\n        instanceProps.lastMeasuredColumnIndex = Math.min(instanceProps.lastMeasuredColumnIndex, columnIndex - 1);\n      }\n\n      if (typeof rowIndex === 'number') {\n        instanceProps.lastMeasuredRowIndex = Math.min(instanceProps.lastMeasuredRowIndex, rowIndex - 1);\n      } // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref7) {\n    var columnWidth = _ref7.columnWidth,\n        rowHeight = _ref7.rowHeight;\n\n    if (false) {}\n  }\n});\n\nvar IS_SCROLLING_DEBOUNCE_INTERVAL$1 = 150;\n\nvar defaultItemKey$1 = function defaultItemKey(index, data) {\n  return index;\n}; // In DEV mode, this Set helps us only log a warning once per component instance.\n// This avoids spamming the console every time a render happens.\n\n\nvar devWarningsDirection = null;\nvar devWarningsTagName$1 = null;\n\nif (false) {}\n\nfunction createListComponent(_ref) {\n  var _class, _temp;\n\n  var getItemOffset = _ref.getItemOffset,\n      getEstimatedTotalSize = _ref.getEstimatedTotalSize,\n      getItemSize = _ref.getItemSize,\n      getOffsetForIndexAndAlignment = _ref.getOffsetForIndexAndAlignment,\n      getStartIndexForOffset = _ref.getStartIndexForOffset,\n      getStopIndexForStartIndex = _ref.getStopIndexForStartIndex,\n      initInstanceProps = _ref.initInstanceProps,\n      shouldResetStyleCacheOnItemSizeChange = _ref.shouldResetStyleCacheOnItemSizeChange,\n      validateProps = _ref.validateProps;\n  return _temp = _class =\n  /*#__PURE__*/\n  function (_PureComponent) {\n    _inheritsLoose(List, _PureComponent);\n\n    // Always use explicit constructor for React components.\n    // It produces less code after transpilation. (#26)\n    // eslint-disable-next-line no-useless-constructor\n    function List(props) {\n      var _this;\n\n      _this = _PureComponent.call(this, props) || this;\n      _this._instanceProps = initInstanceProps(_this.props, _assertThisInitialized(_assertThisInitialized(_this)));\n      _this._outerRef = void 0;\n      _this._resetIsScrollingTimeoutId = null;\n      _this.state = {\n        instance: _assertThisInitialized(_assertThisInitialized(_this)),\n        isScrolling: false,\n        scrollDirection: 'forward',\n        scrollOffset: typeof _this.props.initialScrollOffset === 'number' ? _this.props.initialScrollOffset : 0,\n        scrollUpdateWasRequested: false\n      };\n      _this._callOnItemsRendered = void 0;\n      _this._callOnItemsRendered = memoize_one_esm(function (overscanStartIndex, overscanStopIndex, visibleStartIndex, visibleStopIndex) {\n        return _this.props.onItemsRendered({\n          overscanStartIndex: overscanStartIndex,\n          overscanStopIndex: overscanStopIndex,\n          visibleStartIndex: visibleStartIndex,\n          visibleStopIndex: visibleStopIndex\n        });\n      });\n      _this._callOnScroll = void 0;\n      _this._callOnScroll = memoize_one_esm(function (scrollDirection, scrollOffset, scrollUpdateWasRequested) {\n        return _this.props.onScroll({\n          scrollDirection: scrollDirection,\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: scrollUpdateWasRequested\n        });\n      });\n      _this._getItemStyle = void 0;\n\n      _this._getItemStyle = function (index) {\n        var _this$props = _this.props,\n            direction = _this$props.direction,\n            itemSize = _this$props.itemSize,\n            layout = _this$props.layout;\n\n        var itemStyleCache = _this._getItemStyleCache(shouldResetStyleCacheOnItemSizeChange && itemSize, shouldResetStyleCacheOnItemSizeChange && layout, shouldResetStyleCacheOnItemSizeChange && direction);\n\n        var style;\n\n        if (itemStyleCache.hasOwnProperty(index)) {\n          style = itemStyleCache[index];\n        } else {\n          var _style;\n\n          var _offset = getItemOffset(_this.props, index, _this._instanceProps);\n\n          var size = getItemSize(_this.props, index, _this._instanceProps); // TODO Deprecate direction \"horizontal\"\n\n          var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n          itemStyleCache[index] = style = (_style = {\n            position: 'absolute'\n          }, _style[direction === 'rtl' ? 'right' : 'left'] = isHorizontal ? _offset : 0, _style.top = !isHorizontal ? _offset : 0, _style.height = !isHorizontal ? size : '100%', _style.width = isHorizontal ? size : '100%', _style);\n        }\n\n        return style;\n      };\n\n      _this._getItemStyleCache = void 0;\n      _this._getItemStyleCache = memoize_one_esm(function (_, __, ___) {\n        return {};\n      });\n\n      _this._onScrollHorizontal = function (event) {\n        var _event$currentTarget = event.currentTarget,\n            clientWidth = _event$currentTarget.clientWidth,\n            scrollLeft = _event$currentTarget.scrollLeft,\n            scrollWidth = _event$currentTarget.scrollWidth;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollLeft) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          }\n\n          var direction = _this.props.direction;\n          var scrollOffset = scrollLeft;\n\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // It's also easier for this component if we convert offsets to the same format as they would be in for ltr.\n            // So the simplest solution is to determine which browser behavior we're dealing with, and convert based on it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                scrollOffset = -scrollLeft;\n                break;\n\n              case 'positive-descending':\n                scrollOffset = scrollWidth - clientWidth - scrollLeft;\n                break;\n            }\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          scrollOffset = Math.max(0, Math.min(scrollOffset, scrollWidth - clientWidth));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollLeft ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._onScrollVertical = function (event) {\n        var _event$currentTarget2 = event.currentTarget,\n            clientHeight = _event$currentTarget2.clientHeight,\n            scrollHeight = _event$currentTarget2.scrollHeight,\n            scrollTop = _event$currentTarget2.scrollTop;\n\n        _this.setState(function (prevState) {\n          if (prevState.scrollOffset === scrollTop) {\n            // Scroll position may have been updated by cDM/cDU,\n            // In which case we don't need to trigger another render,\n            // And we don't want to update state.isScrolling.\n            return null;\n          } // Prevent Safari's elastic scrolling from causing visual shaking when scrolling past bounds.\n\n\n          var scrollOffset = Math.max(0, Math.min(scrollTop, scrollHeight - clientHeight));\n          return {\n            isScrolling: true,\n            scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n            scrollOffset: scrollOffset,\n            scrollUpdateWasRequested: false\n          };\n        }, _this._resetIsScrollingDebounced);\n      };\n\n      _this._outerRefSetter = function (ref) {\n        var outerRef = _this.props.outerRef;\n        _this._outerRef = ref;\n\n        if (typeof outerRef === 'function') {\n          outerRef(ref);\n        } else if (outerRef != null && typeof outerRef === 'object' && outerRef.hasOwnProperty('current')) {\n          outerRef.current = ref;\n        }\n      };\n\n      _this._resetIsScrollingDebounced = function () {\n        if (_this._resetIsScrollingTimeoutId !== null) {\n          cancelTimeout(_this._resetIsScrollingTimeoutId);\n        }\n\n        _this._resetIsScrollingTimeoutId = requestTimeout(_this._resetIsScrolling, IS_SCROLLING_DEBOUNCE_INTERVAL$1);\n      };\n\n      _this._resetIsScrolling = function () {\n        _this._resetIsScrollingTimeoutId = null;\n\n        _this.setState({\n          isScrolling: false\n        }, function () {\n          // Clear style cache after state update has been committed.\n          // This way we don't break pure sCU for items that don't use isScrolling param.\n          _this._getItemStyleCache(-1, null);\n        });\n      };\n\n      return _this;\n    }\n\n    List.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n      validateSharedProps$1(nextProps, prevState);\n      validateProps(nextProps);\n      return null;\n    };\n\n    var _proto = List.prototype;\n\n    _proto.scrollTo = function scrollTo(scrollOffset) {\n      scrollOffset = Math.max(0, scrollOffset);\n      this.setState(function (prevState) {\n        if (prevState.scrollOffset === scrollOffset) {\n          return null;\n        }\n\n        return {\n          scrollDirection: prevState.scrollOffset < scrollOffset ? 'forward' : 'backward',\n          scrollOffset: scrollOffset,\n          scrollUpdateWasRequested: true\n        };\n      }, this._resetIsScrollingDebounced);\n    };\n\n    _proto.scrollToItem = function scrollToItem(index, align) {\n      if (align === void 0) {\n        align = 'auto';\n      }\n\n      var itemCount = this.props.itemCount;\n      var scrollOffset = this.state.scrollOffset;\n      index = Math.max(0, Math.min(index, itemCount - 1));\n      this.scrollTo(getOffsetForIndexAndAlignment(this.props, index, align, scrollOffset, this._instanceProps));\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      var _this$props2 = this.props,\n          direction = _this$props2.direction,\n          initialScrollOffset = _this$props2.initialScrollOffset,\n          layout = _this$props2.layout;\n\n      if (typeof initialScrollOffset === 'number' && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          outerRef.scrollLeft = initialScrollOffset;\n        } else {\n          outerRef.scrollTop = initialScrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentDidUpdate = function componentDidUpdate() {\n      var _this$props3 = this.props,\n          direction = _this$props3.direction,\n          layout = _this$props3.layout;\n      var _this$state = this.state,\n          scrollOffset = _this$state.scrollOffset,\n          scrollUpdateWasRequested = _this$state.scrollUpdateWasRequested;\n\n      if (scrollUpdateWasRequested && this._outerRef != null) {\n        var outerRef = this._outerRef; // TODO Deprecate direction \"horizontal\"\n\n        if (direction === 'horizontal' || layout === 'horizontal') {\n          if (direction === 'rtl') {\n            // TRICKY According to the spec, scrollLeft should be negative for RTL aligned elements.\n            // This is not the case for all browsers though (e.g. Chrome reports values as positive, measured relative to the left).\n            // So we need to determine which browser behavior we're dealing with, and mimic it.\n            switch (getRTLOffsetType()) {\n              case 'negative':\n                outerRef.scrollLeft = -scrollOffset;\n                break;\n\n              case 'positive-ascending':\n                outerRef.scrollLeft = scrollOffset;\n                break;\n\n              default:\n                var clientWidth = outerRef.clientWidth,\n                    scrollWidth = outerRef.scrollWidth;\n                outerRef.scrollLeft = scrollWidth - clientWidth - scrollOffset;\n                break;\n            }\n          } else {\n            outerRef.scrollLeft = scrollOffset;\n          }\n        } else {\n          outerRef.scrollTop = scrollOffset;\n        }\n      }\n\n      this._callPropsCallbacks();\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      if (this._resetIsScrollingTimeoutId !== null) {\n        cancelTimeout(this._resetIsScrollingTimeoutId);\n      }\n    };\n\n    _proto.render = function render() {\n      var _this$props4 = this.props,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          direction = _this$props4.direction,\n          height = _this$props4.height,\n          innerRef = _this$props4.innerRef,\n          innerElementType = _this$props4.innerElementType,\n          innerTagName = _this$props4.innerTagName,\n          itemCount = _this$props4.itemCount,\n          itemData = _this$props4.itemData,\n          _this$props4$itemKey = _this$props4.itemKey,\n          itemKey = _this$props4$itemKey === void 0 ? defaultItemKey$1 : _this$props4$itemKey,\n          layout = _this$props4.layout,\n          outerElementType = _this$props4.outerElementType,\n          outerTagName = _this$props4.outerTagName,\n          style = _this$props4.style,\n          useIsScrolling = _this$props4.useIsScrolling,\n          width = _this$props4.width;\n      var isScrolling = this.state.isScrolling; // TODO Deprecate direction \"horizontal\"\n\n      var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n      var onScroll = isHorizontal ? this._onScrollHorizontal : this._onScrollVertical;\n\n      var _this$_getRangeToRend = this._getRangeToRender(),\n          startIndex = _this$_getRangeToRend[0],\n          stopIndex = _this$_getRangeToRend[1];\n\n      var items = [];\n\n      if (itemCount > 0) {\n        for (var _index = startIndex; _index <= stopIndex; _index++) {\n          items.push((0,external_React_.createElement)(children, {\n            data: itemData,\n            key: itemKey(_index, itemData),\n            index: _index,\n            isScrolling: useIsScrolling ? isScrolling : undefined,\n            style: this._getItemStyle(_index)\n          }));\n        }\n      } // Read this value AFTER items have been created,\n      // So their actual sizes (if variable) are taken into consideration.\n\n\n      var estimatedTotalSize = getEstimatedTotalSize(this.props, this._instanceProps);\n      return (0,external_React_.createElement)(outerElementType || outerTagName || 'div', {\n        className: className,\n        onScroll: onScroll,\n        ref: this._outerRefSetter,\n        style: _extends({\n          position: 'relative',\n          height: height,\n          width: width,\n          overflow: 'auto',\n          WebkitOverflowScrolling: 'touch',\n          willChange: 'transform',\n          direction: direction\n        }, style)\n      }, (0,external_React_.createElement)(innerElementType || innerTagName || 'div', {\n        children: items,\n        ref: innerRef,\n        style: {\n          height: isHorizontal ? '100%' : estimatedTotalSize,\n          pointerEvents: isScrolling ? 'none' : undefined,\n          width: isHorizontal ? estimatedTotalSize : '100%'\n        }\n      }));\n    };\n\n    _proto._callPropsCallbacks = function _callPropsCallbacks() {\n      if (typeof this.props.onItemsRendered === 'function') {\n        var itemCount = this.props.itemCount;\n\n        if (itemCount > 0) {\n          var _this$_getRangeToRend2 = this._getRangeToRender(),\n              _overscanStartIndex = _this$_getRangeToRend2[0],\n              _overscanStopIndex = _this$_getRangeToRend2[1],\n              _visibleStartIndex = _this$_getRangeToRend2[2],\n              _visibleStopIndex = _this$_getRangeToRend2[3];\n\n          this._callOnItemsRendered(_overscanStartIndex, _overscanStopIndex, _visibleStartIndex, _visibleStopIndex);\n        }\n      }\n\n      if (typeof this.props.onScroll === 'function') {\n        var _this$state2 = this.state,\n            _scrollDirection = _this$state2.scrollDirection,\n            _scrollOffset = _this$state2.scrollOffset,\n            _scrollUpdateWasRequested = _this$state2.scrollUpdateWasRequested;\n\n        this._callOnScroll(_scrollDirection, _scrollOffset, _scrollUpdateWasRequested);\n      }\n    }; // Lazily create and cache item styles while scrolling,\n    // So that pure component sCU will prevent re-renders.\n    // We maintain this cache, and pass a style prop rather than index,\n    // So that List can clear cached styles and force item re-render if necessary.\n\n\n    _proto._getRangeToRender = function _getRangeToRender() {\n      var _this$props5 = this.props,\n          itemCount = _this$props5.itemCount,\n          overscanCount = _this$props5.overscanCount;\n      var _this$state3 = this.state,\n          isScrolling = _this$state3.isScrolling,\n          scrollDirection = _this$state3.scrollDirection,\n          scrollOffset = _this$state3.scrollOffset;\n\n      if (itemCount === 0) {\n        return [0, 0, 0, 0];\n      }\n\n      var startIndex = getStartIndexForOffset(this.props, scrollOffset, this._instanceProps);\n      var stopIndex = getStopIndexForStartIndex(this.props, startIndex, scrollOffset, this._instanceProps); // Overscan by one item in each direction so that tab/focus works.\n      // If there isn't at least one extra item, tab loops back around.\n\n      var overscanBackward = !isScrolling || scrollDirection === 'backward' ? Math.max(1, overscanCount) : 1;\n      var overscanForward = !isScrolling || scrollDirection === 'forward' ? Math.max(1, overscanCount) : 1;\n      return [Math.max(0, startIndex - overscanBackward), Math.max(0, Math.min(itemCount - 1, stopIndex + overscanForward)), startIndex, stopIndex];\n    };\n\n    return List;\n  }(external_React_.PureComponent), _class.defaultProps = {\n    direction: 'ltr',\n    itemData: undefined,\n    layout: 'vertical',\n    overscanCount: 2,\n    useIsScrolling: false\n  }, _temp;\n} // NOTE: I considered further wrapping individual items with a pure ListItem component.\n// This would avoid ever calling the render function for the same index more than once,\n// But it would also add the overhead of a lot of components/fibers.\n// I assume people already do this (render function returning a class component),\n// So my doing it would just unnecessarily double the wrappers.\n\nvar validateSharedProps$1 = function validateSharedProps(_ref2, _ref3) {\n  var children = _ref2.children,\n      direction = _ref2.direction,\n      height = _ref2.height,\n      layout = _ref2.layout,\n      innerTagName = _ref2.innerTagName,\n      outerTagName = _ref2.outerTagName,\n      width = _ref2.width;\n  var instance = _ref3.instance;\n\n  if (false) { var isHorizontal; }\n};\n\nvar DEFAULT_ESTIMATED_ITEM_SIZE$1 = 50;\n\nvar getItemMetadata$1 = function getItemMetadata(props, index, instanceProps) {\n  var _ref = props,\n      itemSize = _ref.itemSize;\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n\n  if (index > lastMeasuredIndex) {\n    var offset = 0;\n\n    if (lastMeasuredIndex >= 0) {\n      var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n      offset = itemMetadata.offset + itemMetadata.size;\n    }\n\n    for (var i = lastMeasuredIndex + 1; i <= index; i++) {\n      var size = itemSize(i);\n      itemMetadataMap[i] = {\n        offset: offset,\n        size: size\n      };\n      offset += size;\n    }\n\n    instanceProps.lastMeasuredIndex = index;\n  }\n\n  return itemMetadataMap[index];\n};\n\nvar findNearestItem$1 = function findNearestItem(props, instanceProps, offset) {\n  var itemMetadataMap = instanceProps.itemMetadataMap,\n      lastMeasuredIndex = instanceProps.lastMeasuredIndex;\n  var lastMeasuredItemOffset = lastMeasuredIndex > 0 ? itemMetadataMap[lastMeasuredIndex].offset : 0;\n\n  if (lastMeasuredItemOffset >= offset) {\n    // If we've already measured items within this range just use a binary search as it's faster.\n    return findNearestItemBinarySearch$1(props, instanceProps, lastMeasuredIndex, 0, offset);\n  } else {\n    // If we haven't yet measured this high, fallback to an exponential search with an inner binary search.\n    // The exponential search avoids pre-computing sizes for the full set of items as a binary search would.\n    // The overall complexity for this approach is O(log n).\n    return findNearestItemExponentialSearch$1(props, instanceProps, Math.max(0, lastMeasuredIndex), offset);\n  }\n};\n\nvar findNearestItemBinarySearch$1 = function findNearestItemBinarySearch(props, instanceProps, high, low, offset) {\n  while (low <= high) {\n    var middle = low + Math.floor((high - low) / 2);\n    var currentOffset = getItemMetadata$1(props, middle, instanceProps).offset;\n\n    if (currentOffset === offset) {\n      return middle;\n    } else if (currentOffset < offset) {\n      low = middle + 1;\n    } else if (currentOffset > offset) {\n      high = middle - 1;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nvar findNearestItemExponentialSearch$1 = function findNearestItemExponentialSearch(props, instanceProps, index, offset) {\n  var itemCount = props.itemCount;\n  var interval = 1;\n\n  while (index < itemCount && getItemMetadata$1(props, index, instanceProps).offset < offset) {\n    index += interval;\n    interval *= 2;\n  }\n\n  return findNearestItemBinarySearch$1(props, instanceProps, Math.min(index, itemCount - 1), Math.floor(index / 2), offset);\n};\n\nvar getEstimatedTotalSize = function getEstimatedTotalSize(_ref2, _ref3) {\n  var itemCount = _ref2.itemCount;\n  var itemMetadataMap = _ref3.itemMetadataMap,\n      estimatedItemSize = _ref3.estimatedItemSize,\n      lastMeasuredIndex = _ref3.lastMeasuredIndex;\n  var totalSizeOfMeasuredItems = 0; // Edge case check for when the number of items decreases while a scroll is in progress.\n  // https://github.com/bvaughn/react-window/pull/138\n\n  if (lastMeasuredIndex >= itemCount) {\n    lastMeasuredIndex = itemCount - 1;\n  }\n\n  if (lastMeasuredIndex >= 0) {\n    var itemMetadata = itemMetadataMap[lastMeasuredIndex];\n    totalSizeOfMeasuredItems = itemMetadata.offset + itemMetadata.size;\n  }\n\n  var numUnmeasuredItems = itemCount - lastMeasuredIndex - 1;\n  var totalSizeOfUnmeasuredItems = numUnmeasuredItems * estimatedItemSize;\n  return totalSizeOfMeasuredItems + totalSizeOfUnmeasuredItems;\n};\n\nvar VariableSizeList =\n/*#__PURE__*/\ncreateListComponent({\n  getItemOffset: function getItemOffset(props, index, instanceProps) {\n    return getItemMetadata$1(props, index, instanceProps).offset;\n  },\n  getItemSize: function getItemSize(props, index, instanceProps) {\n    return instanceProps.itemMetadataMap[index].size;\n  },\n  getEstimatedTotalSize: getEstimatedTotalSize,\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(props, index, align, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, index, instanceProps); // Get estimated total size after ItemMetadata is computed,\n    // To ensure it reflects actual measurements instead of just estimates.\n\n    var estimatedTotalSize = getEstimatedTotalSize(props, instanceProps);\n    var maxOffset = Math.max(0, Math.min(estimatedTotalSize - size, itemMetadata.offset));\n    var minOffset = Math.max(0, itemMetadata.offset - size + itemMetadata.size);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        return Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(props, offset, instanceProps) {\n    return findNearestItem$1(props, instanceProps, offset);\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(props, startIndex, scrollOffset, instanceProps) {\n    var direction = props.direction,\n        height = props.height,\n        itemCount = props.itemCount,\n        layout = props.layout,\n        width = props.width; // TODO Deprecate direction \"horizontal\"\n\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var itemMetadata = getItemMetadata$1(props, startIndex, instanceProps);\n    var maxOffset = scrollOffset + size;\n    var offset = itemMetadata.offset + itemMetadata.size;\n    var stopIndex = startIndex;\n\n    while (stopIndex < itemCount - 1 && offset < maxOffset) {\n      stopIndex++;\n      offset += getItemMetadata$1(props, stopIndex, instanceProps).size;\n    }\n\n    return stopIndex;\n  },\n  initInstanceProps: function initInstanceProps(props, instance) {\n    var _ref4 = props,\n        estimatedItemSize = _ref4.estimatedItemSize;\n    var instanceProps = {\n      itemMetadataMap: {},\n      estimatedItemSize: estimatedItemSize || DEFAULT_ESTIMATED_ITEM_SIZE$1,\n      lastMeasuredIndex: -1\n    };\n\n    instance.resetAfterIndex = function (index, shouldForceUpdate) {\n      if (shouldForceUpdate === void 0) {\n        shouldForceUpdate = true;\n      }\n\n      instanceProps.lastMeasuredIndex = Math.min(instanceProps.lastMeasuredIndex, index - 1); // We could potentially optimize further by only evicting styles after this index,\n      // But since styles are only cached while scrolling is in progress-\n      // It seems an unnecessary optimization.\n      // It's unlikely that resetAfterIndex() will be called while a user is scrolling.\n\n      instance._getItemStyleCache(-1);\n\n      if (shouldForceUpdate) {\n        instance.forceUpdate();\n      }\n    };\n\n    return instanceProps;\n  },\n  shouldResetStyleCacheOnItemSizeChange: false,\n  validateProps: function validateProps(_ref5) {\n    var itemSize = _ref5.itemSize;\n\n    if (false) {}\n  }\n});\n\nvar FixedSizeGrid =\n/*#__PURE__*/\ncreateGridComponent({\n  getColumnOffset: function getColumnOffset(_ref, index) {\n    var columnWidth = _ref.columnWidth;\n    return index * columnWidth;\n  },\n  getColumnWidth: function getColumnWidth(_ref2, index) {\n    var columnWidth = _ref2.columnWidth;\n    return columnWidth;\n  },\n  getRowOffset: function getRowOffset(_ref3, index) {\n    var rowHeight = _ref3.rowHeight;\n    return index * rowHeight;\n  },\n  getRowHeight: function getRowHeight(_ref4, index) {\n    var rowHeight = _ref4.rowHeight;\n    return rowHeight;\n  },\n  getEstimatedTotalHeight: function getEstimatedTotalHeight(_ref5) {\n    var rowCount = _ref5.rowCount,\n        rowHeight = _ref5.rowHeight;\n    return rowHeight * rowCount;\n  },\n  getEstimatedTotalWidth: function getEstimatedTotalWidth(_ref6) {\n    var columnCount = _ref6.columnCount,\n        columnWidth = _ref6.columnWidth;\n    return columnWidth * columnCount;\n  },\n  getOffsetForColumnAndAlignment: function getOffsetForColumnAndAlignment(_ref7, columnIndex, align, scrollLeft, instanceProps, scrollbarSize) {\n    var columnCount = _ref7.columnCount,\n        columnWidth = _ref7.columnWidth,\n        width = _ref7.width;\n    var lastColumnOffset = Math.max(0, columnCount * columnWidth - width);\n    var maxOffset = Math.min(lastColumnOffset, columnIndex * columnWidth);\n    var minOffset = Math.max(0, columnIndex * columnWidth - width + scrollbarSize + columnWidth);\n\n    if (align === 'smart') {\n      if (scrollLeft >= minOffset - width && scrollLeft <= maxOffset + width) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(width / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastColumnOffset + Math.floor(width / 2)) {\n          return lastColumnOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollLeft >= minOffset && scrollLeft <= maxOffset) {\n          return scrollLeft;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollLeft < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getOffsetForRowAndAlignment: function getOffsetForRowAndAlignment(_ref8, rowIndex, align, scrollTop, instanceProps, scrollbarSize) {\n    var rowHeight = _ref8.rowHeight,\n        height = _ref8.height,\n        rowCount = _ref8.rowCount;\n    var lastRowOffset = Math.max(0, rowCount * rowHeight - height);\n    var maxOffset = Math.min(lastRowOffset, rowIndex * rowHeight);\n    var minOffset = Math.max(0, rowIndex * rowHeight - height + scrollbarSize + rowHeight);\n\n    if (align === 'smart') {\n      if (scrollTop >= minOffset - height && scrollTop <= maxOffset + height) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        // \"Centered\" offset is usually the average of the min and max.\n        // But near the edges of the list, this doesn't hold true.\n        var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n        if (middleOffset < Math.ceil(height / 2)) {\n          return 0; // near the beginning\n        } else if (middleOffset > lastRowOffset + Math.floor(height / 2)) {\n          return lastRowOffset; // near the end\n        } else {\n          return middleOffset;\n        }\n\n      case 'auto':\n      default:\n        if (scrollTop >= minOffset && scrollTop <= maxOffset) {\n          return scrollTop;\n        } else if (minOffset > maxOffset) {\n          // Because we only take into account the scrollbar size when calculating minOffset\n          // this value can be larger than maxOffset when at the end of the list\n          return minOffset;\n        } else if (scrollTop < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getColumnStartIndexForOffset: function getColumnStartIndexForOffset(_ref9, scrollLeft) {\n    var columnWidth = _ref9.columnWidth,\n        columnCount = _ref9.columnCount;\n    return Math.max(0, Math.min(columnCount - 1, Math.floor(scrollLeft / columnWidth)));\n  },\n  getColumnStopIndexForStartIndex: function getColumnStopIndexForStartIndex(_ref10, startIndex, scrollLeft) {\n    var columnWidth = _ref10.columnWidth,\n        columnCount = _ref10.columnCount,\n        width = _ref10.width;\n    var left = startIndex * columnWidth;\n    var numVisibleColumns = Math.ceil((width + scrollLeft - left) / columnWidth);\n    return Math.max(0, Math.min(columnCount - 1, startIndex + numVisibleColumns - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  getRowStartIndexForOffset: function getRowStartIndexForOffset(_ref11, scrollTop) {\n    var rowHeight = _ref11.rowHeight,\n        rowCount = _ref11.rowCount;\n    return Math.max(0, Math.min(rowCount - 1, Math.floor(scrollTop / rowHeight)));\n  },\n  getRowStopIndexForStartIndex: function getRowStopIndexForStartIndex(_ref12, startIndex, scrollTop) {\n    var rowHeight = _ref12.rowHeight,\n        rowCount = _ref12.rowCount,\n        height = _ref12.height;\n    var top = startIndex * rowHeight;\n    var numVisibleRows = Math.ceil((height + scrollTop - top) / rowHeight);\n    return Math.max(0, Math.min(rowCount - 1, startIndex + numVisibleRows - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref13) {\n    var columnWidth = _ref13.columnWidth,\n        rowHeight = _ref13.rowHeight;\n\n    if (false) {}\n  }\n});\n\nvar FixedSizeList =\n/*#__PURE__*/\ncreateListComponent({\n  getItemOffset: function getItemOffset(_ref, index) {\n    var itemSize = _ref.itemSize;\n    return index * itemSize;\n  },\n  getItemSize: function getItemSize(_ref2, index) {\n    var itemSize = _ref2.itemSize;\n    return itemSize;\n  },\n  getEstimatedTotalSize: function getEstimatedTotalSize(_ref3) {\n    var itemCount = _ref3.itemCount,\n        itemSize = _ref3.itemSize;\n    return itemSize * itemCount;\n  },\n  getOffsetForIndexAndAlignment: function getOffsetForIndexAndAlignment(_ref4, index, align, scrollOffset) {\n    var direction = _ref4.direction,\n        height = _ref4.height,\n        itemCount = _ref4.itemCount,\n        itemSize = _ref4.itemSize,\n        layout = _ref4.layout,\n        width = _ref4.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var size = isHorizontal ? width : height;\n    var lastItemOffset = Math.max(0, itemCount * itemSize - size);\n    var maxOffset = Math.min(lastItemOffset, index * itemSize);\n    var minOffset = Math.max(0, index * itemSize - size + itemSize);\n\n    if (align === 'smart') {\n      if (scrollOffset >= minOffset - size && scrollOffset <= maxOffset + size) {\n        align = 'auto';\n      } else {\n        align = 'center';\n      }\n    }\n\n    switch (align) {\n      case 'start':\n        return maxOffset;\n\n      case 'end':\n        return minOffset;\n\n      case 'center':\n        {\n          // \"Centered\" offset is usually the average of the min and max.\n          // But near the edges of the list, this doesn't hold true.\n          var middleOffset = Math.round(minOffset + (maxOffset - minOffset) / 2);\n\n          if (middleOffset < Math.ceil(size / 2)) {\n            return 0; // near the beginning\n          } else if (middleOffset > lastItemOffset + Math.floor(size / 2)) {\n            return lastItemOffset; // near the end\n          } else {\n            return middleOffset;\n          }\n        }\n\n      case 'auto':\n      default:\n        if (scrollOffset >= minOffset && scrollOffset <= maxOffset) {\n          return scrollOffset;\n        } else if (scrollOffset < minOffset) {\n          return minOffset;\n        } else {\n          return maxOffset;\n        }\n\n    }\n  },\n  getStartIndexForOffset: function getStartIndexForOffset(_ref5, offset) {\n    var itemCount = _ref5.itemCount,\n        itemSize = _ref5.itemSize;\n    return Math.max(0, Math.min(itemCount - 1, Math.floor(offset / itemSize)));\n  },\n  getStopIndexForStartIndex: function getStopIndexForStartIndex(_ref6, startIndex, scrollOffset) {\n    var direction = _ref6.direction,\n        height = _ref6.height,\n        itemCount = _ref6.itemCount,\n        itemSize = _ref6.itemSize,\n        layout = _ref6.layout,\n        width = _ref6.width;\n    // TODO Deprecate direction \"horizontal\"\n    var isHorizontal = direction === 'horizontal' || layout === 'horizontal';\n    var offset = startIndex * itemSize;\n    var size = isHorizontal ? width : height;\n    var numVisibleItems = Math.ceil((size + scrollOffset - offset) / itemSize);\n    return Math.max(0, Math.min(itemCount - 1, startIndex + numVisibleItems - 1 // -1 is because stop index is inclusive\n    ));\n  },\n  initInstanceProps: function initInstanceProps(props) {// Noop\n  },\n  shouldResetStyleCacheOnItemSizeChange: true,\n  validateProps: function validateProps(_ref7) {\n    var itemSize = _ref7.itemSize;\n\n    if (false) {}\n  }\n});\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(prev, next) {\n  for (var attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n\n  for (var _attribute in next) {\n    if (prev[_attribute] !== next[_attribute]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-api.html#reactmemo\n\nfunction areEqual(prevProps, nextProps) {\n  var prevStyle = prevProps.style,\n      prevRest = _objectWithoutPropertiesLoose(prevProps, [\"style\"]);\n\n  var nextStyle = nextProps.style,\n      nextRest = _objectWithoutPropertiesLoose(nextProps, [\"style\"]);\n\n  return !shallowDiffers(prevStyle, nextStyle) && !shallowDiffers(prevRest, nextRest);\n}\n\n// It knows to compare individual style props and ignore the wrapper object.\n// See https://reactjs.org/docs/react-component.html#shouldcomponentupdate\n\nfunction shouldComponentUpdate(nextProps, nextState) {\n  return !areEqual(this.props, nextProps) || shallowDiffers(this.state, nextState);\n}\n\n\n//# sourceMappingURL=index.esm.js.map\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/fileApi.ts\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/service/FileService.html) */\nvar FileApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(FileApi, _super);\n    function FileApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.FOLD31;\n        _this.baseUrl = '/api/file';\n        return _this;\n    }\n    FileApi.prototype.listBuildErrorImages = function (key, count) {\n        return this.get('/errors/images', {\n            params: { key: key, count: count },\n        });\n    };\n    FileApi.prototype.listPublicationBuildErrors = function (publicationId, count) {\n        return this.get(\"/errors/\".concat(publicationId), {\n            params: { count: count },\n            deserializeType: 'FileBuildError',\n        });\n    };\n    FileApi.prototype.listPublicationsWithBuildErrors = function () {\n        return this.get('/errors');\n    };\n    FileApi.prototype.reprocessErrorImages = function (key) {\n        return this.post('/errors/reprocess', null, {\n            params: { key: key },\n            primitive: true,\n        });\n    };\n    FileApi.prototype.getFileIndexByImage = function (imageId, count, properties, sparse) {\n        if (count === void 0) { count = 0; }\n        if (properties === void 0) { properties = []; }\n        if (sparse === void 0) { sparse = false; }\n        var property = properties.join(',');\n        return this.get(\"/index/image/\".concat(imageId), {\n            params: { property: property, count: count, sparse: sparse },\n            deserializeType: 'FileIndex',\n        });\n    };\n    FileApi.prototype.getFileIndexByClusterKey = function (clusterKey, count, properties, sparse) {\n        if (count === void 0) { count = 0; }\n        if (properties === void 0) { properties = []; }\n        if (sparse === void 0) { sparse = false; }\n        var property = properties.join(',');\n        return this.get(\"/index/cluster/\".concat(clusterKey), {\n            params: { property: property, count: count, sparse: sparse },\n            deserializeType: 'FileIndex',\n        });\n    };\n    FileApi.prototype.getFileIndexPage = function (clusterKey, lastSortKey, count, properties, sparse) {\n        if (count === void 0) { count = 10; }\n        if (sparse === void 0) { sparse = false; }\n        var property = properties.join(',');\n        return this.get(\"/index/page/\".concat(clusterKey), {\n            params: { property: property, count: count, 'sort-key': lastSortKey },\n            deserializeType: 'FileIndexImageData',\n        });\n    };\n    FileApi.prototype.reprocessErrorImagesPublication = function (publicationId) {\n        return this.post(\"/errors/reprocess/publication/\".concat(publicationId));\n    };\n    return FileApi;\n}(F3Api/* F3Api */.D4));\n\n\n// EXTERNAL MODULE: ./node_modules/react-dom/server.browser.js\nvar server_browser = __webpack_require__(97762);\n;// CONCATENATED MODULE: ./src/ts/shared/pages/viewer/viewerHelpers.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar config = (0,sharedConfig/* getConfig */.iE)();\n/* To understand the coordinate systems we are dealing with, visit https://openseadragon.github.io/examples/viewport-coordinates/ */\nvar F3_FILTERS_NS = 'F3_FILTERS';\nvar BRIGHT_MAX = 255;\nvar BRIGHT_MIN = (/* unused pure expression or super */ null && (-255));\nvar BRIGHT_DEFAULT = 0;\nvar CONTRAST_MAX = 5;\nvar CONTRAST_DEFAULT = 1;\nvar CONTRAST_SPREAD = CONTRAST_MAX - CONTRAST_DEFAULT;\nvar CONTRAST_MIN = 0;\nvar BACKEND_MAX = 100;\nvar BACKEND_MIN = (/* unused pure expression or super */ null && (-100));\nvar INVERT_DEFAULT = false;\nvar setOSDFilterProcessors = function (OSDViewer, filters) {\n    var processors = [];\n    if (filters.brightness !== undefined) {\n        var brightness = Math.min(BRIGHT_MAX, Math.max(BRIGHT_MIN, filters.brightness));\n        if (filters.invert)\n            brightness = -brightness;\n        processors.push(OpenSeadragon.Filters.BRIGHTNESS(brightness));\n    }\n    if (filters.contrast !== undefined) {\n        var contrast = Math.min(CONTRAST_MAX, Math.max(CONTRAST_MIN, filters.contrast));\n        processors.push(OpenSeadragon.Filters.CONTRAST(contrast));\n    }\n    if (filters.invert === true) {\n        processors.push(OpenSeadragon.Filters.INVERT());\n    }\n    OSDViewer === null || OSDViewer === void 0 ? void 0 : OSDViewer.setFilterOptions({\n        filters: { processors: processors },\n        loadMode: 'sync',\n    });\n    if (OSDViewer !== null) {\n        OSDViewer[F3_FILTERS_NS] = convertFiltersToBackend(filters);\n    }\n};\nfunction convertFiltersToBackend(filters) {\n    return {\n        brightness: Math.round(filters.brightness / (BRIGHT_MAX / BACKEND_MAX)),\n        contrast: Math.round(filters.contrast < CONTRAST_DEFAULT ? (1 - filters.contrast) * BACKEND_MIN : (filters.contrast - CONTRAST_DEFAULT) / CONTRAST_SPREAD * BACKEND_MAX),\n        invert: filters.invert,\n    };\n}\nfunction getBackendFilters(OSDViewer) {\n    return OSDViewer[F3_FILTERS_NS];\n}\nvar openImage = function (OSDViewer, image, domain, env) {\n    OSDViewer === null || OSDViewer === void 0 ? void 0 : OSDViewer.open(getTileSource(image, domain, env));\n};\nvar getTileSource = function (image, domain, env) {\n    var _a = getDocument(image), height = _a.height, width = _a.width;\n    var imageId = getWrappedContentId(image);\n    var token = getImageToken(image);\n    if (token) {\n        return {\n            height: height,\n            width: width,\n            tileSize: 512,\n            getTileUrl: function (level, x, y) {\n                return \"\".concat(getImageHost(domain, env), \"/img/dz/\").concat(imageId, \"/\").concat(level, \"/\").concat(x, \"_\").concat(y, \".jpeg?token=\").concat(token);\n            },\n        };\n    }\n    else {\n        return {\n            height: height,\n            width: width,\n            maxLevel: 0,\n            minLevel: 0,\n            tileSize: Math.max(width, height),\n            getTileUrl: function () {\n                return getThumbnail({ domain: domain, environment: env, path: 'reference', query: { height: 400, width: 400 }, ref: getWrappedContentRef(image) });\n            },\n        };\n    }\n};\nvar padRectangle = function (rect, padding) {\n    if (padding === void 0) { padding = 0; }\n    return Object.keys(rect).reduce(function (finalObj, key) {\n        switch (key) {\n            case 'w':\n            case 'h':\n                finalObj[key] = rect[key] + padding * 2;\n                break;\n            case 'x':\n            case 'y':\n                finalObj[key] = rect[key] - padding;\n                break;\n            case 'rotation':\n                finalObj[key] = rect[key];\n                break;\n        }\n        return finalObj;\n    }, {});\n};\nvar zoomToRectangle = function (OSDViewer, rectangle, padding) {\n    if (padding === void 0) { padding = 0; }\n    var paddedRect = padRectangle(rectangle, padding);\n    OSDViewer === null || OSDViewer === void 0 ? void 0 : OSDViewer.viewport.fitBoundsWithConstraints(rectToOSDRect(OSDViewer, paddedRect));\n};\nvar rectToOSDRect = function (OSDViewer, rectangle) {\n    var x = rectangle.x, y = rectangle.y, h = rectangle.h, w = rectangle.w;\n    return OSDViewer === null || OSDViewer === void 0 ? void 0 : OSDViewer.viewport.imageToViewportRectangle(x, y, w, h);\n};\nvar zoomIn = function (OSDViewer) {\n    OSDViewer.viewport.zoomBy(OSDViewer.zoomPerClick);\n    OSDViewer.viewport.applyConstraints();\n};\nvar zoomOut = function (OSDViewer) {\n    OSDViewer.viewport.zoomBy(1 / OSDViewer.zoomPerClick);\n    OSDViewer.viewport.applyConstraints();\n};\nvar resetZoom = function (OSDViewer) {\n    OSDViewer.viewport.zoomTo(0);\n    OSDViewer.viewport.applyConstraints();\n};\nvar getViewportRect = function (OSDViewer) {\n    return OSDViewer.viewport.getBounds();\n};\nvar getImageRect = function (OSDViewer, imageNum) {\n    var _a;\n    if (imageNum === void 0) { imageNum = 0; }\n    var rotation = getRotation(OSDViewer);\n    var isRotated = rotation === 90 || rotation === 270;\n    var rect = OSDViewer.viewport.viewportToViewerElementRectangle((_a = getImage(OSDViewer, imageNum)) === null || _a === void 0 ? void 0 : _a.getBounds());\n    return {\n        rotated: {\n            width: rect.width,\n            height: rect.height,\n        },\n        unrotated: {\n            width: isRotated ? rect.height : rect.width,\n            height: isRotated ? rect.width : rect.height,\n        },\n    };\n};\nvar getImageDimensions = function (OSDViewer, imageNum) {\n    var _a;\n    if (imageNum === void 0) { imageNum = 0; }\n    return (_a = getImage(OSDViewer, imageNum)) === null || _a === void 0 ? void 0 : _a.getContentSize();\n};\nvar getImage = function (OSDViewer, imageNum) {\n    if (imageNum === void 0) { imageNum = 0; }\n    return OSDViewer.world.getItemAt(imageNum);\n};\nvar getVisibleImageCrop = function (OSDViewer, constrain) {\n    if (constrain === void 0) { constrain = true; }\n    var visibleRect = getVisibleImageRectangle(OSDViewer);\n    if (!visibleRect)\n        return {};\n    var imageSize = getImageDimensions(OSDViewer, 0);\n    return {\n        height: visibleRect.h / imageSize.y * 100,\n        width: visibleRect.w / imageSize.x * 100,\n        x: visibleRect.x / imageSize.x * 100,\n        y: visibleRect.y / imageSize.y * 100,\n        unit: '%',\n    };\n};\nvar getRotation = function (OSDViewer) {\n    return OSDViewer === null || OSDViewer === void 0 ? void 0 : OSDViewer.viewport.getRotation();\n};\nvar getVisibleImageRectangle = function (OSDViewer) {\n    if (!OSDViewer)\n        return null;\n    var viewportRect = getViewportRect(OSDViewer);\n    var visibleImageRect = OSDViewer.viewport.viewportToImageRectangle(viewportRect);\n    var imageRect = getImageDimensions(OSDViewer);\n    if (!imageRect)\n        return null;\n    return {\n        x: Math.round(Math.max(visibleImageRect.x, 0)),\n        y: Math.round(Math.max(visibleImageRect.y, 0)),\n        h: Math.round(Math.min(visibleImageRect.height, imageRect.y)),\n        w: Math.round(Math.min(visibleImageRect.width, imageRect.x)),\n        rotation: getRotation(OSDViewer),\n    };\n};\nvar cropToImageRect = function (crop, OSDViewer) {\n    var pixelCrop = toPixelCrop(crop, OSDViewer);\n    var _a = unrotateCrop(pixelCrop, OSDViewer), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n    var zoomRatio = getZoomRatio(OSDViewer);\n    return {\n        w: width / zoomRatio,\n        h: height / zoomRatio,\n        x: x / zoomRatio,\n        y: y / zoomRatio,\n        rotation: 0,\n    };\n};\nfunction getZoomRatio(OSDViewer) {\n    var imageWidth = getImageDimensions(OSDViewer).x;\n    var displayedWidth = getImageRect(OSDViewer).unrotated.width;\n    return displayedWidth / imageWidth; // just using width because it should be the same as height\n}\n/* The crop passed to this function should be unrotated */\nvar toPercentCrop = function (crop, OSDViewer) {\n    if (crop.unit === '%')\n        return crop;\n    var _a = getImageRect(OSDViewer).rotated, width = _a.width, height = _a.height;\n    return {\n        unit: '%',\n        width: crop.width / width * 100,\n        height: crop.height / height * 100,\n        x: crop.x / width * 100,\n        y: crop.y / height * 100,\n    };\n};\n/* The crop passed to this function should be unrotated */\nvar toPixelCrop = function (crop, OSDViewer) {\n    if (crop.unit === 'px')\n        return crop;\n    var _a = getImageRect(OSDViewer).rotated, width = _a.width, height = _a.height;\n    return {\n        unit: 'px',\n        width: crop.width / 100 * width,\n        height: crop.height / 100 * height,\n        x: crop.x / 100 * width,\n        y: crop.y / 100 * height,\n    };\n};\nfunction unrotateCrop(crop, OSDViewer) {\n    var pixelCrop = toPixelCrop(crop, OSDViewer);\n    var _a = getImageRect(OSDViewer).unrotated, width = _a.width, height = _a.height;\n    var rotation = getRotation(OSDViewer);\n    var unrotatedCrop;\n    switch (rotation) {\n        case 0:\n            unrotatedCrop = pixelCrop;\n            break;\n        case 90:\n            unrotatedCrop = __assign(__assign({}, pixelCrop), { width: pixelCrop.height, height: pixelCrop.width, x: pixelCrop.y, y: height - (pixelCrop.x + pixelCrop.width) });\n            break;\n        case 180:\n            unrotatedCrop = __assign(__assign({}, pixelCrop), { x: width - (pixelCrop.x + pixelCrop.width), y: height - (pixelCrop.y + pixelCrop.height) });\n            break;\n        case 270:\n            unrotatedCrop = __assign(__assign({}, pixelCrop), { width: pixelCrop.height, height: pixelCrop.width, x: width - (pixelCrop.y + pixelCrop.height), y: pixelCrop.x });\n            break;\n    }\n    switch (crop.unit) {\n        case '%': return toPercentCrop(unrotatedCrop, OSDViewer);\n        case 'px': return unrotatedCrop;\n    }\n}\nfunction imageRectToCrop(OSDViewer, rect, unit) {\n    var zoomRatio = getZoomRatio(OSDViewer);\n    var crop = {\n        width: rect.w * zoomRatio,\n        height: rect.h * zoomRatio,\n        x: rect.x * zoomRatio,\n        y: rect.y * zoomRatio,\n        unit: 'px',\n    };\n    if (unit === '%') {\n        crop = toPercentCrop(crop, OSDViewer);\n    }\n    return rotateCrop(crop, OSDViewer);\n}\nfunction rotateCrop(crop, OSDViewer) {\n    var pixelCrop = toPixelCrop(crop, OSDViewer);\n    var _a = getImageRect(OSDViewer).unrotated, width = _a.width, height = _a.height;\n    var rotation = getRotation(OSDViewer);\n    var rotatedCrop;\n    switch (rotation) {\n        case 0:\n            rotatedCrop = pixelCrop;\n            break;\n        case 90:\n            rotatedCrop = __assign(__assign({}, pixelCrop), { x: height - (pixelCrop.y + pixelCrop.height), y: pixelCrop.x, width: pixelCrop.height, height: pixelCrop.width });\n            break;\n        case 180:\n            rotatedCrop = __assign(__assign({}, pixelCrop), { x: width - (pixelCrop.x + pixelCrop.width), y: height - (pixelCrop.y + pixelCrop.height) });\n            break;\n        case 270:\n            rotatedCrop = __assign(__assign({}, pixelCrop), { x: pixelCrop.y, y: width - (pixelCrop.x + pixelCrop.width), width: pixelCrop.height, height: pixelCrop.width });\n            break;\n    }\n    switch (crop.unit) {\n        case 'px': return rotatedCrop;\n        case '%': return toPercentCrop(rotatedCrop, OSDViewer);\n    }\n}\nvar subRectToRelativeRect = function (rect, imageRect) {\n    return __assign(__assign({}, rect), { x: rect.x / imageRect.w, y: rect.y / imageRect.h, w: rect.w / imageRect.w, h: rect.h / imageRect.h });\n};\nvar relativeRectToCssRect = function (rect) {\n    return {\n        width: \"\".concat(rect.w * 100, \"%\"),\n        height: \"\".concat(rect.h * 100, \"%\"),\n        left: \"\".concat(rect.x * 100, \"%\"),\n        top: \"\".concat(rect.y * 100, \"%\"),\n    };\n};\nvar generatePDFContent = function (_a) {\n    var objRef = _a.objRef, fileIndex = _a.fileIndex, environment = _a.environment, domain = _a.domain, options = _a.options, imageContent = _a.imageContent, subImageContent = _a.subImageContent, cluster = _a.cluster, publication = _a.publication;\n    return __awaiter(void 0, void 0, void 0, function () {\n        var token, anchorImageId, contentType, pdfObj, env, isCluster, props, addObjRefMetadata, imageIds, clusterId, fileMetadata, images, content;\n        var _b, _c, _d, _e;\n        var _f;\n        return __generator(this, function (_g) {\n            switch (_g.label) {\n                case 0:\n                    token = getImageToken(imageContent);\n                    anchorImageId = +getWrappedContentId(imageContent);\n                    contentType = (objRef || {}).contentType;\n                    pdfObj = contentType === 'SUB_IMAGE' ? subImageContent : imageContent;\n                    env = environment;\n                    env = env.replace(/local:?/, '') || 'dev';\n                    isCluster = !!(!contentType && cluster);\n                    props = {\n                        options: options,\n                        domain: domain,\n                        environment: env,\n                        metadata: [],\n                        anchorImageId: anchorImageId,\n                    };\n                    addObjRefMetadata = function () {\n                        if (objRef) {\n                            props.metadata.push({\n                                name: 'source',\n                                label: 'Source URL',\n                                value: getFullContentUrl(domain, env, objRef, getContentSlug(pdfObj)),\n                                created: null,\n                            });\n                        }\n                    };\n                    if (!(contentType === 'FILE' || isCluster)) return [3 /*break*/, 5];\n                    imageIds = void 0;\n                    if (!isCluster) return [3 /*break*/, 2];\n                    return [4 /*yield*/, new FilmstripApi().getCluster(anchorImageId)];\n                case 1:\n                    imageIds = _g.sent();\n                    props.metadata.push({\n                        name: 'Title',\n                        value: cluster.clusterTitle,\n                        created: null,\n                    }, {\n                        name: 'Total Images',\n                        value: String(cluster.size),\n                        created: null,\n                    });\n                    return [3 /*break*/, 4];\n                case 2:\n                    clusterId = getClusterId(imageContent);\n                    fileMetadata = fileIndex.getFileIndexMedatata(clusterId);\n                    return [4 /*yield*/, fileIndex.getFileIndexImageDataAsync(clusterId)];\n                case 3:\n                    images = _g.sent();\n                    imageIds = images.map(function (item) { return item.imageId; });\n                    addObjRefMetadata();\n                    (_b = props.metadata).push.apply(_b, __spreadArray([], __read(fileMetadata), false));\n                    _g.label = 4;\n                case 4:\n                    props.tokens = imageIds.map(function (id) {\n                        return {\n                            imageId: id,\n                            token: token,\n                            width: options.width,\n                            height: options.height,\n                        };\n                    });\n                    (_f = props === null || props === void 0 ? void 0 : props.options) === null || _f === void 0 ? true : delete _f.crop; // just in case it accidentally gets passed in.\n                    return [3 /*break*/, 6];\n                case 5:\n                    props.tokens = [{\n                            height: options.height,\n                            width: options.width,\n                            imageId: anchorImageId,\n                            token: token,\n                        }];\n                    addObjRefMetadata();\n                    if (contentType === 'SUB_IMAGE') {\n                        (_c = props.metadata).push.apply(_c, __spreadArray([], __read(subImageContent.document.metadata || []), false));\n                    }\n                    (_d = props.metadata).push.apply(_d, __spreadArray([], __read(imageContent.document.metadata || []), false));\n                    _g.label = 6;\n                case 6:\n                    if (publication.metadata) {\n                        (_e = props.metadata).push.apply(_e, __spreadArray([], __read(publication.metadata), false));\n                    }\n                    content = ReactDOMServer.renderToStaticMarkup(React.createElement(ImagePdfPage, props));\n                    return [2 /*return*/, content.replaceAll(/[\\n\\t]+/g, '')];\n            }\n        });\n    });\n};\nvar queuePdfDownload = function (options) { return __awaiter(void 0, void 0, void 0, function () {\n    var pdfContent;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, generatePDFContent(options)];\n            case 1:\n                pdfContent = _a.sent();\n                return [4 /*yield*/, new ImagePdfApi().queueDocument({ doc: options.reportedObjRef, content: pdfContent, filename: \"\".concat(options.title, \".pdf\") })];\n            case 2: return [2 /*return*/, _a.sent()];\n        }\n    });\n}); };\nvar downloadJpg = function (options, token, backendHostBase) {\n    var reportedObjRef = options.reportedObjRef;\n    var url = getImageDownloadUrl({\n        imageId: +reportedObjRef.objectId,\n        token: token,\n    }, __assign(__assign({}, options.options), { title: options.title }), backendHostBase);\n    downloadUrl(url);\n};\nvar printPDFContent = function (options) {\n    return new Promise(function (resolve) { return __awaiter(void 0, void 0, void 0, function () {\n        function handleLoad() {\n            w.print();\n            setTimeout(function () {\n                w.close();\n                resolve(null);\n            }, 500);\n        }\n        var content, w, allImages, loadedImages_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, generatePDFContent(options)];\n                case 1:\n                    content = _a.sent();\n                    w = window.open();\n                    w.document.body.innerHTML = content;\n                    allImages = w.document.querySelectorAll('img');\n                    if (allImages.length > 0) {\n                        loadedImages_1 = 0;\n                        allImages.forEach(function (img) {\n                            img.onload = function () {\n                                loadedImages_1++;\n                                if (loadedImages_1 === allImages.length) {\n                                    handleLoad();\n                                }\n                            };\n                        });\n                    }\n                    else {\n                        handleLoad();\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); });\n};\nfunction downloadUrl(url) {\n    var el = document.createElement('a');\n    el.setAttribute('href', url);\n    el.setAttribute('download', 'true');\n    el.setAttribute('target', '_blank');\n    document.body.appendChild(el);\n    el.click();\n    document.body.removeChild(el);\n}\nvar getImageDownloadUrl = function (imageToken, options, hostBase, anchorImageId) {\n    if (anchorImageId === void 0) { anchorImageId = imageToken.imageId; }\n    var imageId = imageToken.imageId, rest = (0,tslib_es6/* __rest */._T)(imageToken, [\"imageId\"]);\n    var params = (0,mapUtil/* filterEmpty */.OU)((0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, options), rest), { id: imageId, anchor: anchorImageId, title: options.title }));\n    return \"https://img.\".concat(hostBase, \"/img/img\").concat((0,queryUtil/* toQueryString */.UK)(params));\n};\nvar getPdfDownloadUrl = function (requestId, hostBase) {\n    return \"https://img.\".concat(hostBase, \"/img/pdf-generator/\").concat(requestId);\n};\nvar getImageDataRectangle = function (imageData) {\n    var _a = getDocument(imageData), _b = _a.width, width = _b === void 0 ? 0 : _b, _c = _a.height, height = _c === void 0 ? 0 : _c;\n    return {\n        x: 0,\n        y: 0,\n        w: width,\n        h: height,\n        rotation: 0,\n    };\n};\nvar getViewerPageTitle = function (title, publication) {\n    return \"\".concat(title).concat(publication ? \" - \".concat(publication.shortTitle || publication.title) : '');\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/imageApi.ts\n\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/service/DocumentService.html) */\nvar ImageApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(ImageApi, _super);\n    function ImageApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.FOLD31;\n        _this.baseUrl = '/api/document';\n        return _this;\n    }\n    ImageApi.prototype.addUpload = function (filename) {\n        return this.post('/upload', { filename: filename }, {\n            deserializeType: 'Image',\n        });\n    };\n    ImageApi.prototype.deleteUpload = function (imageId) {\n        return this.delete(\"/image/\".concat(imageId));\n    };\n    ImageApi.prototype.addImageMetadata = function (imageId, metadata) {\n        return this.post(\"/upload-metadata/\".concat(imageId), metadata, {\n            serializeType: 'Metadata',\n        });\n    };\n    ImageApi.prototype.getImage = function (imageId, flags) {\n        return this.get(\"/image/\".concat(imageId), {\n            params: { flag: flags },\n            deserializeType: 'Image',\n        });\n    };\n    ImageApi.prototype.getImagePermissions = function (imageId, imageType) {\n        return this.get(\"/permissions/\".concat(imageType, \"/\").concat(imageId), {\n            deserializeType: 'Permissions',\n        });\n    };\n    ImageApi.prototype.getSubImage = function (subImageId, flags) {\n        return this.get(\"/sub-image/\".concat(subImageId), {\n            params: { flag: flags },\n            deserializeType: 'SubImage',\n        });\n    };\n    ImageApi.prototype.getViewerImage = function (imageId, otherIds, flags, fcfToken) {\n        var idList = ['ann-id', 'leg-ann-id', 'leg-fnote-id', 'sub-id'];\n        var params = { flag: flags };\n        if (imageId) {\n            params.id = imageId;\n        }\n        if (fcfToken)\n            params.inv = fcfToken;\n        if (otherIds) {\n            for (var i in idList) {\n                if (otherIds[idList[i]])\n                    params[idList[i]] = otherIds[idList[i]];\n            }\n        }\n        return this.get('/viewer-image', {\n            params: params,\n            deserializeType: 'ViewerImage',\n        });\n    };\n    ImageApi.prototype.getFirstHit = function (fileId, keywords) {\n        var _a = (0,tslib_es6/* __read */.CR)(fileId.split('.'), 2), id1 = _a[0], id2 = _a[1];\n        var params = {};\n        if (keywords && keywords.length > 0) {\n            params.keyword = keywords;\n        }\n        return this.get(\"/first-hit/\".concat(id1, \"/\").concat(id2), {\n            params: params,\n            primitive: true,\n        });\n    };\n    /* This api can only be called with an imageId that belongs to a file */\n    ImageApi.prototype.getDocumentTokens = function (imageId, token, max) {\n        if (max === void 0) { max = 10000; }\n        return this.get(\"/doc-token/\".concat(imageId), {\n            params: { token: token, max: max },\n            deserializeType: 'DocumentTokens',\n        });\n    };\n    ImageApi.prototype.setCoverImage = function (pubId, imageId, isSubImage) {\n        var _a;\n        return this.put(\"/cover-image/\".concat(pubId, \"/\").concat(imageId), null, {\n            params: (_a = {},\n                _a['sub-image'] = isSubImage,\n                _a),\n        });\n    };\n    ImageApi.prototype.getSampleImages = function (pubId, params) {\n        if (params === void 0) { params = {}; }\n        return this.get(\"/sample-images/\".concat(pubId), {\n            params: params,\n            deserializeType: 'SampleImage',\n        });\n    };\n    ImageApi.prototype.setSampleImage = function (pubId, imageId, isSubImage, title) {\n        var _a;\n        return this.put(\"/sample-images/\".concat(pubId, \"/\").concat(imageId), null, {\n            params: (_a = {},\n                _a['sub-image'] = isSubImage,\n                _a.title = title,\n                _a),\n        });\n    };\n    //cluster key format: 60.1234567890\n    ImageApi.prototype.getFileImages = function (clusterKey) {\n        var _a = (0,tslib_es6/* __read */.CR)(clusterKey.split('.'), 2), publicationId = _a[0], docId = _a[1];\n        return this.get(\"/file-images/\".concat(publicationId, \"/\").concat(docId));\n    };\n    ImageApi.prototype.SERVER_downloadImage = function (documentToken, options, hostBase) {\n        return (0,tslib_es6/* __awaiter */.mG)(this, void 0, void 0, function () {\n            var url;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                url = getImageDownloadUrl(documentToken, options, hostBase);\n                return [2 /*return*/, this.download(url)];\n            });\n        });\n    };\n    ImageApi.prototype.publicationSort = function (publicationId) {\n        return this.post(\"/pub-sort\".concat(publicationId ? \"/\".concat(publicationId) : ''), {\n            primitive: true,\n        });\n    };\n    ImageApi.prototype.getFileMap = function (publicationId, documentId) {\n        return this.get(\"/file-map/\".concat(publicationId, \"/\").concat(documentId), {\n            deserializeType: 'PublicationFileMap',\n        });\n    };\n    ImageApi.prototype.showImage = function (imageId) {\n        return this.put(\"/show-image/\".concat(imageId));\n    };\n    ImageApi.prototype.hideImage = function (imageId) {\n        return this.delete(\"/hide-image/\".concat(imageId));\n    };\n    return ImageApi;\n}(F3Api/* F3Api */.D4));\n\n;\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/browse/BrowseDocumentsItem.tsx\n\n\n\n\n\nvar BrowseDocumentsItem = function (_a) {\n    var contentObject = _a.contentObject, getDisplayTitle = _a.getDisplayTitle;\n    var docTitle = contentObject.shortTitle || getDisplayTitle(contentObject.title);\n    return external_React_default().createElement(F3Link/* F3Link */.y, { href: (0,slug/* getContentObjectUrl */.vE)(contentObject).fullPath, title: contentObject.title },\n        external_React_default().createElement(\"figure\", { className: 'browse-thumbnail' },\n            external_React_default().createElement(\"div\", { className: 'obscured-image-container position-relative' },\n                external_React_default().createElement(Thumbnail/* Thumbnail */.pl, { alt: '', contentObject: contentObject, exact: true, size: 100 })),\n            external_React_default().createElement(\"figcaption\", { className: 'text-center' }, (0,templating/* truncate */.$G)(docTitle, 50))));\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/pages/browse/browseHelpers.ts\nvar browseHelpers = __webpack_require__(13999);\n;// CONCATENATED MODULE: ./src/ts/shared/pages/browse/BrowseDocumentsColumn.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar FILE_IMG_BATCH_SIZE = 25;\nvar DOCUMENT_BATCH_SIZE = 100;\nvar MAX_DOCUMENT_INDEX = 10000; // Elastic Search limit\nvar MAX_BATCHES_CACHE = 5; // cache MAX_BATCHES_CACHE * DOCUMENT_BATCH_SIZE results\nvar DOC_TITLE_DELIMITER = ' - ';\nvar GRID_SIZE = 150;\nvar BrowseDocumentsColumn = function (_a) {\n    var height = _a.height, width = _a.width, f3Query = _a.f3Query, columnStates = _a.columnStates, label = _a.label;\n    var _b = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), totalCount = _b[0], setTotalCount = _b[1];\n    var batches = (0,external_React_.useRef)(new Map());\n    var isFileColumn = (0,external_React_.useRef)(false);\n    var fileContentObject = (0,external_React_.useRef)(null);\n    var fileImageIds = (0,external_React_.useRef)(null);\n    var rerender = (0,useRerender/* useRerender */.S)().rerender;\n    var _c = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(true), 2), loading = _c[0], setLoading = _c[1];\n    var lastColumn = columnStates.at(-2);\n    var ref = (0,external_React_.useRef)();\n    var fetchContentObjsForOffset = function (offset) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var batch, batchOffset, results, total, batchImageIds, objReferences, parentColumn, documentsQuery, searchResults, _a, contentType, objectId, idType, imageIds, fileIndex, windowSize_1;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    batch = getBatchForOffset(offset, isFileColumn.current);\n                    if (batches.current.has(batch))\n                        return [2 /*return*/];\n                    batches.current.set(batch, []);\n                    batchOffset = batch * getBatchSize(isFileColumn.current);\n                    if (!isFileColumn.current) return [3 /*break*/, 2];\n                    batchImageIds = fileImageIds.current.slice(batchOffset, batchOffset + FILE_IMG_BATCH_SIZE);\n                    objReferences = batchImageIds.map(function (imgId) { return ({ contentType: 'IMAGE', objectId: String(imgId) }); });\n                    return [4 /*yield*/, new ObjectReferenceApi().getContentObjects(objReferences)];\n                case 1:\n                    results = _b.sent();\n                    total = fileImageIds.current.length;\n                    if (offset === 0) {\n                        /* display the FILE as the first result */\n                        results.unshift(fileContentObject.current);\n                        total += 1;\n                    }\n                    return [3 /*break*/, 8];\n                case 2:\n                    parentColumn = columnStates.at(-1);\n                    documentsQuery = (0,browseHelpers/* createBrowseColumnQuery */.gt)(f3Query, parentColumn.facetType, columnStates);\n                    documentsQuery.updateQuery({ sortOrder: 'FILMSTRIP' });\n                    documentsQuery.Filters.addItem({ type: 'general.title.content.doc-type', values: [{ value: 'PUBLICATION' }], exclude: true }); // in flat publications, we don't want to show the publication itself\n                    return [4 /*yield*/, new SearchApi().fetchResults(documentsQuery.toHitQuery(batchOffset, DOCUMENT_BATCH_SIZE))];\n                case 3:\n                    searchResults = _b.sent();\n                    results = searchResults.hits.map(function (hit) { return hit.doc; });\n                    total = searchResults.total;\n                    if (!(total === 1)) return [3 /*break*/, 8];\n                    _a = results[0].id, contentType = _a.contentType, objectId = _a.objectId;\n                    if (!(contentType === 'FILE')) return [3 /*break*/, 8];\n                    fileContentObject.current = results[0];\n                    idType = objectId.match(/\\d+\\.\\d+/) ? 'cluster' : 'image';\n                    if (!(idType === 'cluster')) return [3 /*break*/, 5];\n                    return [4 /*yield*/, new ImageApi().getFileImages(objectId)];\n                case 4:\n                    imageIds = _b.sent();\n                    setTotalCount(imageIds.length);\n                    fileImageIds.current = imageIds;\n                    return [3 /*break*/, 7];\n                case 5: return [4 /*yield*/, new FileApi().getFileIndexByImage(objectId, results[0].fileLength, ['imageId'], false)];\n                case 6:\n                    fileIndex = _b.sent();\n                    setTotalCount(fileIndex.fileLength);\n                    fileImageIds.current = fileIndex.page.items.map(function (item) { return item.imageId; });\n                    _b.label = 7;\n                case 7:\n                    isFileColumn.current = true;\n                    batches.current.delete(batch);\n                    fetchContentObjsForOffset(offset);\n                    return [2 /*return*/];\n                case 8:\n                    if (batches.current.size > MAX_BATCHES_CACHE) {\n                        windowSize_1 = Math.floor(MAX_BATCHES_CACHE - 1 / 2);\n                        batches.current.forEach(function (_, key) {\n                            if (key < batch - windowSize_1 || key > batch + windowSize_1) {\n                                batches.current.delete(key);\n                            }\n                        });\n                    }\n                    batches.current.set(batch, results);\n                    setLoading(false);\n                    setTotalCount(total);\n                    rerender();\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var debouncedFetch = (0,external_React_.useCallback)(debounce(fetchContentObjsForOffset, 100), []);\n    var getObjAtOffset = function (offset) {\n        var _a;\n        var batch = getBatchForOffset(offset, isFileColumn.current);\n        var batchIndex = offset - batch * getBatchSize(isFileColumn.current);\n        return (_a = batches.current.get(batch)) === null || _a === void 0 ? void 0 : _a[batchIndex];\n    };\n    (0,external_React_.useEffect)(function () {\n        fetchContentObjsForOffset(0);\n    }, []);\n    var lastNonNullColumn = (0,external_React_.useMemo)(function () {\n        for (var i = columnStates.length - 1; i >= 0; i--) {\n            var label_1 = columnStates[i].selectedLabel;\n            if (label_1 && label_1 !== browseHelpers/* NULL_CHARACTER */.Vp) {\n                return columnStates[i];\n            }\n        }\n    }, [columnStates]);\n    var gridColCount = Math.floor(width / GRID_SIZE);\n    var gridColWidth = width / gridColCount;\n    var gridRowCount = totalCount ? Math.ceil(totalCount / gridColCount) : 0;\n    var gridRowHeight = height / Math.floor(height / GRID_SIZE);\n    return external_React_default().createElement(\"div\", { className: (0,classUtil/* classStr */.B)('BrowseColumn', loading && 'loading') },\n        external_React_default().createElement(\"div\", { className: 'BrowseColumnHeader p-2 border-bottom' },\n            external_React_default().createElement(\"div\", { className: 'text-uppercase text-dark' },\n                external_React_default().createElement(\"h2\", { className: 'fw-bold h6 d-inline' }, label),\n                \" \",\n                external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'fs-6 text-muted' }, \"\\u00B7\"),\n                \" \",\n                external_React_default().createElement(\"span\", { className: (0,classUtil/* classStr */.B)('fs-6', 'text-muted') }, totalCount))),\n        totalCount === 0 && !loading &&\n            external_React_default().createElement(\"div\", { className: 'text-center text-muted alert' }, \"No results\"),\n        external_React_default().createElement(\"fieldset\", { className: 'position-relative' },\n            external_React_default().createElement(\"legend\", { className: 'visually-hidden' },\n                \"Choose a \",\n                label),\n            loading && external_React_default().createElement(LoadIndicator/* LoadIndicator */.O, null),\n            external_React_default().createElement(FixedSizeGrid, { ref: ref, className: 'BrowseGridColumn', columnCount: gridColCount, columnWidth: gridColWidth, height: height, itemKey: function (_a) {\n                    var columnIndex = _a.columnIndex, rowIndex = _a.rowIndex;\n                    return rowColToIndex({ columnIndex: columnIndex, rowIndex: rowIndex }, gridColCount);\n                }, rowCount: gridRowCount, rowHeight: gridRowHeight, width: width }, function (_a) {\n                var style = _a.style, columnIndex = _a.columnIndex, rowIndex = _a.rowIndex;\n                var index = rowColToIndex({ columnIndex: columnIndex, rowIndex: rowIndex }, gridColCount);\n                if (index > totalCount - 1)\n                    return null;\n                var contentObject = getObjAtOffset(index);\n                if (!contentObject) {\n                    debouncedFetch(index);\n                    return external_React_default().createElement(\"div\", { className: 'skele-load', style: { width: '150px', height: '150px' } });\n                }\n                return external_React_default().createElement(\"div\", { className: 'overflow-hidden p-2', style: style },\n                    external_React_default().createElement(BrowseDocumentsItem, { key: (0,content_contentObject/* objectRefToString */.eV)(contentObject.id), contentObject: contentObject, getDisplayTitle: function (title) {\n                            if (title.includes(DOC_TITLE_DELIMITER)) {\n                                title = title.replace(\"\".concat(lastNonNullColumn.selectedLabel).concat(DOC_TITLE_DELIMITER), '');\n                            }\n                            return title;\n                        } }));\n            })));\n};\nvar rowColToIndex = function (_a, columnCount) {\n    var rowIndex = _a.rowIndex, columnIndex = _a.columnIndex;\n    return rowIndex * columnCount + columnIndex;\n};\nvar getBatchForOffset = function (offset, isFilesColumn) { return Math.floor(offset / getBatchSize(isFilesColumn)); };\nvar getBatchSize = function (isFilesColumn) { return isFilesColumn ? FILE_IMG_BATCH_SIZE : DOCUMENT_BATCH_SIZE; };\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/DropdownItem.tsx\n\n\n\nvar DropdownItem = (0,external_React_.forwardRef)(function (_a, ref) {\n    var active = _a.active, rest = (0,tslib_es6/* __rest */._T)(_a, [\"active\"]);\n    return external_React_default().createElement(\"li\", null,\n        external_React_default().createElement(F3Button/* F3Button */.Vk, (0,tslib_es6/* __assign */.pi)({ btnType: null, className: \"dropdown-item\".concat(active ? ' active fw-bold' : '') }, rest, { ref: ref })));\n});\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/useCurrentState.ts\n\n/*\n * Sometimes in callbacks, the state can be stale because the function closed over the old state.\n * Most of the time, using useCallback with the proper dependencies works, but sometimes, getting\n * the current value of a state variable can be difficult. This hook solves that:\n *\n * function Component({ name = 'Suzy', setName }) {\n * \tconst [age, setAge] = useState(10);\n *  const currentAge = useCurrentState(age);\n *  const currentName = useCurrentState(name);\n *\n *  return <Button\n * \t  onClick={() => {\n *      setAge(12);\n *      setName('John')\n * \t    setTimeout(() => {\n *         console.log({ name, currentName, age, currentAge }) // logs { name: 'Suzy', currentName: 'John', age: 10, currentAge: 12 }\n *      }, 100)\n *    }}\n *  >\n * \t  Click\n *  </Button>\n * }\n */\nvar useCurrentState = function (val) {\n    var state = (0,external_React_.useRef)(val);\n    (0,external_React_.useEffect)(function () {\n        state.current = val;\n    });\n    return state;\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/DataCache.ts\nvar DataCache = __webpack_require__(21861);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/hooks/usePublicationAccessLevel.ts\n\n\n\n\n\n\nvar clientPublicationAccessLevelCache = new DataCache/* DataCache */.l(function () { return new publicationApi_PublicationApi().getAccessLevels(); }, { ttl: (0,time.getTimeInMs)(5, 'min') });\nvar usePublicationAccessLevel = function () {\n    var _a = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(true), 2), loading = _a[0], setLoading = _a[1];\n    (0,useAsyncEffect/* useAsyncEffect */.b)(function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, clientPublicationAccessLevelCache.getAsync()];\n                case 1:\n                    _a.sent();\n                    setLoading(false);\n                    return [2 /*return*/];\n            }\n        });\n    }); }, []);\n    var getAccessLevel = function (pubId) {\n        var _a;\n        return (_a = clientPublicationAccessLevelCache.getSync()) === null || _a === void 0 ? void 0 : _a[pubId];\n    };\n    return {\n        loading: loading,\n        getPublicationAccessLevel: function (pubId) {\n            return getAccessLevel(pubId);\n        },\n        isPublicationPremium: function (pubId) {\n            return getAccessLevel(pubId) === 'SUBSCRIBER';\n        },\n        isPublicationFree: function (pubId) {\n            var level = getAccessLevel(pubId);\n            return level === 'PUBLIC' || level === 'REGISTERED';\n        },\n    };\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/searchHelpers.ts\n\n\n\n\n\n\n\n\n\n\n\nvar SEARCH_FACETS_KEY = 'f3_search_facets';\nvar PAGE_SIZE_KEY = 'PageSize';\nvar isFacetTypePremium = function (facetType) {\n    return facetType in PREMIUM_FACETS_MAP;\n};\nvar isPartialSearchResults = function (results) {\n    return results.shards.successful < results.shards.total;\n};\nfunction findFacetList(facetType, results, placeFacetLevel) {\n    var e_1, _a, e_2, _b;\n    var facetList;\n    if (results !== null) {\n        try {\n            for (var results_1 = (0,tslib_es6/* __values */.XA)(results), results_1_1 = results_1.next(); !results_1_1.done; results_1_1 = results_1.next()) {\n                var result = results_1_1.value;\n                if (!result.facets)\n                    continue;\n                try {\n                    for (var _c = (e_2 = void 0, (0,tslib_es6/* __values */.XA)(result.facets)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                        var list = _d.value;\n                        if (list.type === facetType) {\n                            if (facetType.startsWith('place') && placeFacetLevel !== list.placeLevel)\n                                continue;\n                            facetList = list;\n                            break;\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n                if (facetList)\n                    break;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (results_1_1 && !results_1_1.done && (_a = results_1.return)) _a.call(results_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    return facetList;\n}\nfunction findFacetSubList(parentFacetType, parentFacet, results) {\n    var filterFn;\n    var childFacetType = getChildFacetType(parentFacetType);\n    switch (parentFacetType) {\n        case 'general.title.content.doc-type':\n            filterFn = function (facet) {\n                /* Checking if the current facet value (i.e. COMPANY) is a sub type of parent (i.e. MILITARY_UNIT) */\n                return isTypeChildOfParent(parentFacet.value, facet.value);\n            };\n            break;\n    }\n    var facetList = findFacetList(childFacetType, results);\n    if (!facetList || facetList.facets.length === 0)\n        return null;\n    var filteredFacets = facetList.facets.filter(filterFn);\n    return __assign(__assign({}, facetList), { facets: filteredFacets });\n}\nfunction safeRename(obj, from, to, transform) {\n    if (obj[from] && !obj[to]) {\n        obj[to] = transform ? transform(obj[from]) : obj[from];\n        delete obj[from];\n    }\n}\nfunction monthsToDateTime(m) {\n    var d = new Date();\n    d.setMonth(d.getMonth() - +m);\n    return d.toISOString().slice(0, 19) + '+0000';\n}\nfunction oldQueryToF3Query(obj, publications) {\n    var e_3, _a;\n    var f3Query = new F3Query();\n    var yearsHandled = false;\n    var gsNameshandles = false;\n    var placesHandled = false;\n    var sNamesHandled = false;\n    var _loop_1 = function (key, val) {\n        switch (key) {\n            case 'query':\n                val.split(',').forEach(function (keyword) {\n                    f3Query.Keywords.addItem(keyword);\n                });\n                break;\n            case 'dr_year':\n                f3Query.FieldedKeywords.addItem({\n                    type: 'date',\n                    texts: [val.replace(/m,/, '')],\n                });\n                break;\n            case 'w':\n                val.split(',').forEach(function (within) {\n                    f3Query.Within.addItem({ value: within });\n                });\n                break;\n            case 'dm':\n                var numMonths = parseInt(val);\n                var lastUpdated = void 0;\n                if (numMonths >= 12)\n                    lastUpdated = '1_YEAR';\n                else if (numMonths >= 6)\n                    lastUpdated = '6_MONTHS';\n                else if (numMonths >= 3)\n                    lastUpdated = '3_MONTHS';\n                else if (numMonths >= 1)\n                    lastUpdated = '1_MONTH';\n                else\n                    lastUpdated = null;\n                f3Query.updateQuery({ lastUpdated: lastUpdated });\n                break;\n            case 'f_military_unit':\n                f3Query.FieldedKeywords.addItem({\n                    type: 'military.service',\n                    texts: [val],\n                });\n                break;\n            case 'gteq_year':\n                f3Query.Filters.addItem({\n                    type: 'date',\n                    values: [{ value: \"\".concat(val).concat(obj.lteq_year ? \" - \".concat(obj.lteq_year) : '') }],\n                });\n                yearsHandled = true;\n                break;\n            case 'lteq_year':\n                if (yearsHandled)\n                    break;\n                f3Query.Filters.addItem({\n                    type: 'date',\n                    values: [{ value: val }],\n                });\n                break;\n            case 'gsfn':\n                f3Query.Filters.addItem({\n                    type: 'full-name',\n                    values: [{ value: \"\".concat(val).concat(obj.gsln ? \" \".concat(obj.gsln) : '') }],\n                });\n                gsNameshandles = true;\n                break;\n            case 'gsln':\n                if (gsNameshandles)\n                    break;\n                f3Query.Filters.addItem({\n                    type: 'full-name',\n                    values: [{ value: val }],\n                });\n                break;\n            case 'p_place_usa':\n            case 's_place':\n                if (placesHandled)\n                    break;\n                placesHandled = true;\n                var statesArr = [];\n                if ('p_place_usa' in obj)\n                    statesArr.push(obj.p_place_usa);\n                if ('s_place' in obj)\n                    statesArr.push(obj.s_place);\n                var states = statesArr\n                    .join(',') // joining and splitting because statesArr could be something like this: ['UT,NV,AK','Mississipi,Vermont']\n                    .split(',')\n                    .filter(function (x) { return x !== 'none'; });\n                var validStates_1 = [];\n                var invalidStates_1 = [];\n                states.forEach(function (state) {\n                    var longName = state.length === 2 ? shortToLong(state) : state;\n                    var stateId = getPlaceId(longName);\n                    if (longName && stateId) {\n                        validStates_1.push(\"\".concat(stateId, \":\").concat(longName, \", United States of America\"));\n                    }\n                    else {\n                        invalidStates_1.push(state);\n                    }\n                });\n                validStates_1.forEach(function (state) {\n                    f3Query.Filters.addItem({\n                        type: 'place',\n                        values: [{ value: state }],\n                    });\n                });\n                invalidStates_1.forEach(function (state) {\n                    f3Query.FieldedKeywords.addItem({\n                        type: 'place',\n                        texts: [state],\n                    });\n                });\n                break;\n            case 't':\n                val\n                    .split(',')\n                    .filter(function (id) { return id !== '-1'; })\n                    .forEach(function (id) {\n                    var pub = publications[id];\n                    if (pub) {\n                        f3Query.Filters.addItem({\n                            type: 'general.title.id',\n                            values: [{ value: id, label: pub.shortTitle }],\n                        });\n                    }\n                });\n                break;\n            case 's_publication-browse-title':\n                var name = obj['s_publication-browse-title'];\n                var publicationNames = name.split('|');\n                var matches = getPublicationsByTitle(publicationNames, publications);\n                matches.forEach(function (pub) {\n                    f3Query.Filters.addItem({\n                        type: 'general.title.id',\n                        values: [{ value: \"\".concat(pub.publicationId), label: getTitle(pub) }],\n                    });\n                });\n                break;\n            case 's_given_name':\n                sNamesHandled = true;\n                f3Query.FieldedKeywords.addItem({\n                    type: 'full-name',\n                    texts: [\"\".concat(val).concat(obj.s_surname ? \" \".concat(obj.s_surname) : '')],\n                });\n                break;\n            case 's_surname':\n                if (sNamesHandled)\n                    break;\n                f3Query.FieldedKeywords.addItem({\n                    type: 'full-name',\n                    texts: [val],\n                });\n                break;\n        }\n    };\n    try {\n        for (var _b = __values(Object.entries(obj)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var _d = __read(_c.value, 2), key = _d[0], val = _d[1];\n            _loop_1(key, val);\n        }\n    }\n    catch (e_3_1) { e_3 = { error: e_3_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_3) throw e_3.error; }\n    }\n    return f3Query;\n}\nvar OLD_QUERY_PARAMS = (/* unused pure expression or super */ null && (['query', 'dr_year', 'w', 'dm', 'f_military_unit', 'gteq_year', 'lteq_year', 'gsfn', 'gsln', 'p_place_usa', 's_place', 't', 's_publication-browse-title', 's_given_name', 's_surname']));\n/*\n * export function convertFromOldQuery(obj: Obj) {\n * \tsafeRename(obj, 'query', 'keywords');\n * \tsafeRename(obj, 'dr_year', 'date~', v => v && v.replace(/m,/, ''));\n * \tsafeRename(obj, 'w', 'within');\n * \tsafeRename(obj, 'dm', 'lastUpdated', monthsToDateTime);\n * \tsafeRename(obj, 'f_military_unit', 'military.service~');\n * \tsafeRename(obj, 'gteq_year', 'date', startYear => {\n * \t\tif (obj.lteq_year) {\n * \t\t\treturn `${startYear} - ${obj.lteq_year}`;\n * \t\t} else {\n * \t\t\treturn startYear;\n * \t\t}\n * \t});\n * \tsafeRename(obj, 'lteq_year', 'date', endYear => {\n * \t\tif (obj.gteq_year) {\n * \t\t\treturn `${obj.gteq_year} - ${endYear}`;\n * \t\t} else {\n * \t\t\treturn endYear;\n * \t\t}\n * \t});\n * \tsafeRename(obj, 'gsfn', 'full-name~', firstName => {\n * \t\tif (obj.gsln) {\n * \t\t\treturn `${firstName} ${obj.gsln}`;\n * \t\t} else {\n * \t\t\treturn firstName;\n * \t\t}\n * \t});\n * \tsafeRename(obj, 'gsln', 'full-name~', lastName => {\n * \t\tif (obj.gsfn) {\n * \t\t\treturn `${obj.gsfn} ${lastName}`;\n * \t\t} else {\n * \t\t\treturn lastName;\n * \t\t}\n * \t});\n */\n/*\n * \tif ('p_place_usa' in obj || 's_place' in obj) {\n * \t\tlet statesArr = [];\n */\n/*\n * \t\tif ('p_place_usa' in obj) statesArr.push(obj.p_place_usa);\n * \t\tif ('s_place' in obj) statesArr.push(obj.s_place);\n */\n/*\n * \t\tlet states = statesArr\n * \t\t\t.join(',') // joining and splitting because statesArr could be something like this: ['UT,NV,AK','Mississipi,Vermont']\n * \t\t\t.split(',')\n * \t\t\t.filter(x => x !== 'none');\n */\n/*\n * \t\tlet validStates: string[] = [];\n * \t\tlet invalidStates: string[] = [];\n */\n/*\n * \t\tstates.forEach(state => {\n * \t\t\tlet longName = state.length === 2 ? shortToLong(state) : state;\n * \t\t\tlet stateId = getPlaceId(longName);\n */\n/*\n * \t\t\tif (longName && stateId) {\n * \t\t\t\tvalidStates.push(`${stateId}:${longName}, United States of America`);\n * \t\t\t} else {\n * \t\t\t\tinvalidStates.push(state);\n * \t\t\t}\n * \t\t});\n */\n/*\n * \t\tdelete obj.p_place_usa;\n * \t\tdelete obj.s_place;\n */\n/*\n * \t\tif (validStates.length) {\n * \t\t\tobj.place = validStates.join(';');\n * \t\t}\n * \t\tif (invalidStates.length) {\n * \t\t\tobj['place~'] = invalidStates.join(';');\n * \t\t}\n * \t}\n */\n/*\n * \tif ('t' in obj) {\n * \t\tlet pubStr = (obj.t as string)\n * \t\t\t.split(',')\n * \t\t\t.filter(id => id !== '-1')\n * \t\t\t.map(id => {\n * \t\t\t\tlet pub = getPublication(id);\n * \t\t\t\tif (pub) return `${id}:${pub.shortTitle}`;\n * \t\t\t\treturn id;\n * \t\t\t})\n * \t\t\t.join(';');\n */\n// \t\tdelete obj.t;\n/*\n * \t\tif (pubStr.length) {\n * \t\t\tobj['general.title.id'] = pubStr;\n * \t\t}\n * \t}\n */\n/*\n * \tif ('s_publication-browse-title' in obj) {\n * \t\tlet name = obj['s_publication-browse-title'];\n * \t\tlet publicationNames = name.split('|');\n * \t\tlet matches = getPublicationsByTitle(publicationNames, publications);\n */\n/*\n * \t\tlet renameType = 'general.title.id';\n * \t\tlet renameVal: string;\n */\n// \t\tlet convertedAllPublications = matches.length == publicationNames.length;\n// \t\t/*\n// \t\t * Weren't able to convert all publications.\n// \t\t * If we only have one, make it a fielded keyword.\n// \t\t * If we weren't able to convert any of them, make them all fielded keywords.\n// \t\t * If we had some that matched and some that didn't, drop to else block and convert\n// \t\t * all of the ones that did match.\n// \t\t */\n// \t\tif (!convertedAllPublications && (publicationNames.length === 1 || matches.length === 0)) {\n// \t\t\trenameType += '~';\n// \t\t\trenameVal = publicationNames.join(';');\n// \t\t} else {\n// \t\t\trenameVal = matches\n// \t\t\t\t.map(pub => `${pub.publicationId}:${pub.shortTitle || pub.title}`)\n// \t\t\t\t.join(';');\n// \t\t}\n/*\n * \t\tif (renameVal) {\n * \t\t\tsafeRename(obj, 's_publication-browse-title', renameType, () => renameVal);\n * \t\t}\n * \t}\n */\n/*\n * \tif (obj.s_given_name || obj.s_surname) {\n * \t\tlet name = [obj.s_given_name || '', obj.s_surname || ''].filter(v => v).join(' ');\n * \t\tobj.keywords = [obj.keywords, name].filter(v => v).join(';');\n * \t}\n * }\n */\nvar isParamEditable = function (param) {\n    switch (param.paramType) {\n        case 'fieldedKeywords':\n        case 'keywords':\n            return true;\n        default:\n            return false;\n    }\n};\nvar RAND_MAX = Math.pow(2, 31) - 1; // same as PHP's rand max\nfunction setPqSearchId(sessionInfo) {\n    /*\n     * This function is required to properly report search requests to PQ.\n     * This cookie is used alongside the sess cookie for proper reporting.\n     */\n    var now = Date.now();\n    var rand = Math.floor(Math.random() * RAND_MAX);\n    var pqsid = \"\".concat(sessionInfo.sessionid, \":\").concat(now, \":\").concat(rand);\n    setCookie(COOKIES.PQ_SEARCH, pqsid, {\n        expires: getTimeInSeconds(4, 'hr'),\n    });\n}\nfunction saveSearchPlaces(f3Query) {\n    var values = f3Query.Filters\n        .filter(function (filter) { return filter.type === 'place' && filter.values.every(function (val) { return !val.value.includes('/'); }); })\n        .flatMap(function (filter) { return filter.values; });\n    local.set(LOCAL_STORAGE_KEYS.SEARCH_PLACE, values);\n}\nfunction convertInTagQuery(f3Query) {\n    var _a, _b, _c, _d;\n    if (f3Query.query.sortOrder === 'IN') {\n        f3Query.query.sortOrder = 'RELEVANCE';\n        if ((_a = f3Query.query) === null || _a === void 0 ? void 0 : _a.inTag) {\n            (_d = (_c = (_b = f3Query.query) === null || _b === void 0 ? void 0 : _b.inTag) === null || _c === void 0 ? void 0 : _c.tags) === null || _d === void 0 ? void 0 : _d.forEach(function (tag) {\n                f3Query.Tags.addItem({\n                    name: tag,\n                    privateTagUserId: f3Query.query.inTag.userId,\n                });\n            });\n            f3Query.query.inTag = null;\n            f3Query.query.retrievePrivateTagUserId = null;\n        }\n    }\n    return f3Query;\n}\nfunction getPublicationsByTitle(titles, publications) {\n    if (!Array.isArray(titles))\n        titles = [titles];\n    var valid = [];\n    titles.forEach(function (title) {\n        var e_4, _a;\n        var found = false;\n        try {\n            for (var _b = __values(Object.values(publications)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var pub = _c.value;\n                if ((pub.shortTitle || pub.title).indexOf(title) >= 0) {\n                    valid.push(pub);\n                    found = true;\n                    break;\n                }\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        if (!found) {\n            /* If this happens, there is likely a link on a go stack page with an incorrect publication name */\n            console.warn(\"Tried to convert an invalid publication name: \\\"\".concat(title, \"\\\"\"));\n        }\n    });\n    return valid;\n}\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/browse/BrowseItemsColumn.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar DEFAULT_SORT = 'ALPHABETICAL';\nvar DEFAULT_FILTER = 'TERM';\nvar maxColumnSize = f3_query_F3Query/* F3Query */.$J.BROWSE_FACET_REQUEST_SIZE;\nvar LINE_HEIGHT = 25;\nvar PUB_ITEM_HEIGHT = LINE_HEIGHT * 3;\nvar ITEM_HEIGHT = LINE_HEIGHT * 2;\nvar HELP_SIZE = ITEM_HEIGHT * 2;\nvar BrowseItemsColumn = function (_a) {\n    var _b, _c, _d;\n    var height = _a.height, width = _a.width, columnStates = _a.columnStates, columnState = _a.columnState, label = _a.label, f3Query = _a.f3Query, updateColumnState = _a.updateColumnState, setResultsView = _a.setResultsView;\n    var publications = (0,external_React_.useContext)(fold3PageContext/* Fold3PageContext */.h).publications;\n    var isAuthenticated = (0,useUser/* useUser */.a)().isAuthenticated;\n    var userInteraction = (0,external_React_.useRef)(false);\n    var listRef = (0,external_React_.useRef)();\n    var filterInputRef = (0,external_React_.useRef)();\n    var initialRender = (0,external_React_.useRef)(true);\n    var _e = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), facetList = _e[0], setFacetList = _e[1];\n    var _f = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), loading = _f[0], setLoading = _f[1];\n    var addErrorAlert = (0,useAlerts/* useAlerts */.Z)().addErrorAlert;\n    var currentColumnStates = useCurrentState(columnStates);\n    var currentColumnState = useCurrentState(columnState);\n    var facetType = columnState.facetType, filterType = columnState.filterType, filterVal = columnState.filterVal, sortOrder = columnState.sortOrder, selectedValue = columnState.selectedValue;\n    var isPublicationFree = usePublicationAccessLevel().isPublicationFree;\n    var _g = useLocalizedContent(), localizePublicationProp = _g.localizePublicationProp, localizeContentType = _g.localizeContentType;\n    var t = (0,external_ReactI18next_.useTranslation)('browse').t;\n    var fetchResults = function (columnState) { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var facetType, sortOrder, browseQuery, isPubColumn, facetCount, allFacets, newFacetList, e_1;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    setFacetList(null);\n                    setLoading(true);\n                    facetType = columnState.facetType, sortOrder = columnState.sortOrder;\n                    browseQuery = (0,browseHelpers/* createBrowseColumnQuery */.gt)(f3Query, facetType, currentColumnStates.current);\n                    isPubColumn = facetType === 'general.title.id';\n                    facetCount = isPubColumn ? 1000 : maxColumnSize;\n                    browseQuery.FacetRequests.addItem({\n                        type: facetType,\n                        maxCount: facetCount,\n                        requiredValues: [\"\".concat(browseHelpers/* NULL_CHARACTER */.Vp, \"\\t\").concat(browseHelpers/* NULL_CHARACTER */.Vp, \"f\")],\n                        sort: sortOrder, // Alphabetical sort doesn't work on publications\n                    });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, new SearchApi().fetchResults(browseQuery.toFacetQuery())];\n                case 2:\n                    allFacets = _a.sent();\n                    newFacetList = findFacetList(facetType, [allFacets]);\n                    if (isPubColumn) {\n                        newFacetList.facets = newFacetList.facets.map(function (facet) {\n                            var pub = publications[facet.value];\n                            var fieldConfig = pub.fieldConfigName;\n                            return (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, facet), { label: localizePublicationProp(fieldConfig, 'shortTitle', facet.label || facet.value) });\n                        });\n                    }\n                    /* Have to sort publication column manually because backend sorts based on publicationId, not title */\n                    if (isPubColumn && sortOrder === 'ALPHABETICAL') {\n                        newFacetList.facets.sort(function (facetA, facetB) { return (0,sortUtil/* alphaNumericSort */.R_)(facetA.label, facetB.label); });\n                    }\n                    setFacetList(newFacetList);\n                    setLoading(false);\n                    return [3 /*break*/, 4];\n                case 3:\n                    e_1 = _a.sent();\n                    console.error(e_1);\n                    addErrorAlert(t('common:somethingWrong'));\n                    setLoading(false);\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    (0,external_React_.useEffect)(function () {\n        fetchResults(columnState);\n    }, [columnState.filterType, columnState.sortOrder]);\n    var debouncedUpdate = (0,external_React_.useMemo)(function () {\n        return debounce(function (partialState) {\n            var newState = (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, currentColumnState.current), partialState);\n            fetchResults(newState);\n        }, 500);\n    }, []);\n    var selectedIndex = (0,external_React_.useMemo)(function () {\n        if (facetList === null)\n            return -1;\n        return facetList.facets.findIndex(function (facet) { return facet.value == selectedValue; });\n    }, [facetList, selectedValue]);\n    var filterDisabled = ((_b = facetList === null || facetList === void 0 ? void 0 : facetList.facets) === null || _b === void 0 ? void 0 : _b.length) <= 1 && !currentColumnState.current.filterVal;\n    // if (facetList?.facets?.length === 1 && facetList?.facets?.[0]?.label === NULL_CHARACTER) {\n    // \treturn null;\n    // }\n    var renderColumnHelp = ((_c = facetList === null || facetList === void 0 ? void 0 : facetList.facets) === null || _c === void 0 ? void 0 : _c.length) === maxColumnSize;\n    var itemHeight = (facetList === null || facetList === void 0 ? void 0 : facetList.type) === 'general.title.id' ? PUB_ITEM_HEIGHT : ITEM_HEIGHT;\n    return external_React_default().createElement(\"div\", { \"aria-label\": 'Browse Column', className: (0,classUtil/* classStr */.B)('BrowseColumn', loading && 'loading'), onClick: function () { return userInteraction.current = true; } },\n        external_React_default().createElement(\"div\", { className: 'BrowseColumnHeader p-2 border-bottom' },\n            external_React_default().createElement(\"div\", { className: 'text-uppercase text-dark' },\n                external_React_default().createElement(\"h2\", { className: 'fw-bold me-1 h6 d-inline' }, label),\n                external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'fs-6 text-muted me-1' }, \"\\u00B7\"),\n                external_React_default().createElement(\"span\", { className: (0,classUtil/* classStr */.B)('fs-6', !!filterVal ? 'text-primary' : 'text-muted') }, facetList === null || facetList === void 0 ? void 0 : facetList.facets.length)),\n            external_React_default().createElement(\"fieldset\", { className: 'col-12' },\n                external_React_default().createElement(\"label\", { className: 'visually-hidden', htmlFor: 'publication-text-filter' }, t('browseItemsColumn.filterLabel', 'Filter {{label}}', { label: label })),\n                external_React_default().createElement(\"div\", { className: 'col-12' },\n                    external_React_default().createElement(\"div\", { className: 'input-group' },\n                        external_React_default().createElement(F3Input, { ref: filterInputRef, \"aria-label\": 'Filter Input', autoComplete: 'off', autoFocus: true, className: \"form-control\".concat(filterDisabled ? ' opacity-50' : ''), disabled: filterDisabled, id: 'publication-text-filter', name: 'publication-text-filter', onValueChange: function (val) {\n                                updateColumnState(facetType, { filterVal: val });\n                                debouncedUpdate({ filterVal: val });\n                            }, placeholder: t('browseItemsColumn.filterLabel', 'Filter {{label}}', { label: label }), type: 'search', value: filterVal }),\n                        external_React_default().createElement(Popout, { \"aria-label\": '', id: 'browse-sort-dropdown', popoutContent: external_React_default().createElement(\"ul\", { className: 'list-unstyled' },\n                                external_React_default().createElement(\"li\", { className: 'text-uppercase text-secondary fs-6' }, t('browseItemsColum.sort', 'Sort')),\n                                external_React_default().createElement(DropdownItem, { active: sortOrder === 'ALPHABETICAL', onClick: function () { return updateColumnState(facetType, { sortOrder: 'ALPHABETICAL' }); } }, t('browseItemsColumn.sort.alphabetically', 'Sort Alphabetically')),\n                                external_React_default().createElement(DropdownItem, { active: sortOrder === 'RANK', onClick: function () { return updateColumnState(facetType, { sortOrder: 'RANK' }); } }, t('browseItemsColumn.sort.numerically', 'Sort by # Records')),\n                                facetType !== 'general.title.id' &&\n                                    external_React_default().createElement((external_React_default()).Fragment, null,\n                                        external_React_default().createElement(\"li\", null,\n                                            external_React_default().createElement(\"hr\", { className: 'dropdown-divider' })),\n                                        external_React_default().createElement(\"li\", { className: 'text-uppercase text-secondary fs-6' }, t('browseItemsColumn.filter', 'Filter Type')),\n                                        external_React_default().createElement(DropdownItem, { active: filterType === 'TERM', onClick: function () { return updateColumnState(facetType, { filterType: 'TERM' }); } }, t('browseItemsColumn.filter.contains', 'Filter: Contains')),\n                                        external_React_default().createElement(DropdownItem, { active: filterType === 'PREFIX', onClick: function () { return updateColumnState(facetType, { filterType: 'PREFIX' }); } }, t('browseItemsColumn.filter.starts', 'Filter: Starts With')))), targetContent: external_React_default().createElement(F3Button/* F3Button */.Vk, { \"aria-label\": t('browseItemsColumn.filterSortAria', 'Filter and Sort Settings'), btnType: (sortOrder !== DEFAULT_SORT || filterType !== DEFAULT_FILTER) ? 'secondary' : null, className: 'border-0 rounded-0 rounded-end', outline: true, size: 'lg' },\n                                external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-filter lg' })) }))))),\n        ((_d = facetList === null || facetList === void 0 ? void 0 : facetList.facets) === null || _d === void 0 ? void 0 : _d.length) === 0 &&\n            !loading &&\n            external_React_default().createElement(\"div\", { className: 'text-center text-muted alert' }, filterVal.length > 0 ?\n                external_React_default().createElement((external_React_default()).Fragment, null,\n                    external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'browseItemsColumn.noResults.withFilter', t: t },\n                        \"No results matching \\\"\",\n                        external_React_default().createElement(\"b\", null, { filterVal: filterVal }),\n                        \"\\\".\"),\n                    external_React_default().createElement(\"div\", { className: 'mw-100 ms-1' },\n                        external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'link', className: 'mx-1 px-0 pt-0', onClick: function () {\n                                var newFilterType = filterType === 'PREFIX' ? 'TERM' : 'PREFIX';\n                                updateColumnState(facetType, { filterType: newFilterType });\n                            } }, filterType === 'PREFIX' ?\n                            t('browseItemsColumn.noResults.prefix', 'Instead, you can try searching for words that start with \"{{filterVal}}\".', { filterVal: filterVal }) :\n                            t('browseItemsColumn.noResults.term', 'Instead, you can try searching for words that contain \"{{filterVal}}\".', { filterVal: filterVal })))) :\n                t('browseItemsColumn.noResults.withoutFilter', 'No results')),\n        external_React_default().createElement(\"fieldset\", { className: 'position-relative' },\n            external_React_default().createElement(\"legend\", { className: 'visually-hidden' }, t('browseItemsColumn.aria.choosePrompt', 'Choose a {{label}}. Activating these elements will cause content on the page to be updated.', { label: label })),\n            loading && external_React_default().createElement(LoadIndicator/* LoadIndicator */.O, null),\n            facetType !== 'general.title.id' &&\n                (facetList === null || facetList === void 0 ? void 0 : facetList.facets.length) > 1 &&\n                external_React_default().createElement(\"div\", { className: (0,classUtil/* classStr */.B)('lh-sm', 'BrowseRow', 'px-3', 'py-2', 'odd', 'border-bottom', 'border-2', 'd-flex', selectedValue === f3_query_F3Query/* NO_FILTER_VALUE */.$g && 'selected fw-bold'), onClick: function () { return updateColumnState(facetType, { selectedValue: f3_query_F3Query/* NO_FILTER_VALUE */.$g }); }, role: 'button' }, t('browseItemsColumn.selectAllBtn', 'Select All')),\n            external_React_default().createElement(FixedSizeList, { ref: listRef, height: height, innerElementType: function (_a) {\n                    var _b, _c, _d;\n                    var style = _a.style, children = _a.children, rest = (0,tslib_es6/* __rest */._T)(_a, [\"style\", \"children\"]);\n                    var bottomPadding = 0;\n                    if (renderColumnHelp) {\n                        bottomPadding += HELP_SIZE;\n                    }\n                    var _e = currentColumnState.current, facetType = _e.facetType, filterVal = _e.filterVal, filterType = _e.filterType;\n                    return external_React_default().createElement(\"ul\", (0,tslib_es6/* __assign */.pi)({}, rest, { className: 'mb-0 list-unstyled', style: (0,tslib_es6/* __assign */.pi)((0,tslib_es6/* __assign */.pi)({}, style), { height: \"\".concat(parseFloat(style.height) + bottomPadding, \"px\") }) }),\n                        children,\n                        renderColumnHelp &&\n                            external_React_default().createElement(\"li\", { className: 'lh-sm px-3 py-2 text-center alert-info d-flex flex-column justify-content-center', style: {\n                                    height: \"\".concat(HELP_SIZE, \"px\"),\n                                    position: 'absolute',\n                                    top: facetList.facets.length * itemHeight,\n                                    left: 0,\n                                    right: 0,\n                                } },\n                                t('browseItemsColumn.haventFoundPrompt', 'Haven\\'t found what you\\'re looking for?'),\n                                !!filterVal ?\n                                    external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'link', onClick: function () {\n                                            var newFilterType = filterType === 'PREFIX' ? 'TERM' : 'PREFIX';\n                                            updateColumnState(facetType, { filterType: newFilterType });\n                                        } },\n                                        filterType === 'TERM' &&\n                                            t('browseItemsColumn.haventFoundPrompt.changeFilter.TERM', 'Show all results containing \"{{filterVal}}\"', { filterVal: filterVal }),\n                                        filterType === 'PREFIX' &&\n                                            t('browseItemsColumn.haventFoundPrompt.changeFilter.PREFIX', 'Show only results starting with \"{{filterVal}}\"', { filterVal: filterVal })) :\n                                    external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'link', onClick: function () {\n                                            filterInputRef.current.focus();\n                                            filterInputRef.current.scrollIntoView({ block: 'center' });\n                                        } }, t('browseItemsColumn.haventFoundPrompt.addFilter', 'Try adding a filter'))),\n                        !renderColumnHelp &&\n                            filterVal !== '' &&\n                            external_React_default().createElement(\"li\", { className: 'lh-sm px-3 py-2 text-center text-muted d-flex flex-column justify-content-center', style: {\n                                    position: 'absolute',\n                                    top: ((_b = facetList === null || facetList === void 0 ? void 0 : facetList.facets) === null || _b === void 0 ? void 0 : _b.length) * itemHeight,\n                                    left: 0,\n                                    right: 0,\n                                } },\n                                filterType === 'TERM' &&\n                                    ((_c = facetList === null || facetList === void 0 ? void 0 : facetList.facets) === null || _c === void 0 ? void 0 : _c.length) > 0 &&\n                                    t('browseItemsColumn.filteredMsg.TERM', 'Displaying results containing \"{{filterVal}}\".', { filterVal: filterVal }),\n                                filterType === 'PREFIX' &&\n                                    ((_d = facetList === null || facetList === void 0 ? void 0 : facetList.facets) === null || _d === void 0 ? void 0 : _d.length) > 0 &&\n                                    t('browseItemsColumn.filteredMsg.PREFIX', 'Displaying results starting with \"{{filterVal}}\".', { filterVal: filterVal }),\n                                external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'link', onClick: function () {\n                                        updateColumnState(facetType, { filterType: 'TERM', filterVal: '', sortOrder: 'ALPHABETICAL' });\n                                        debouncedUpdate({ filterVal: '' });\n                                    } }, t('browseItemsColumn.clearFilterBtn', 'Clear Filter'))));\n                }, itemCount: facetList === null || facetList === void 0 ? void 0 : facetList.facets.length, itemKey: function (i) { return facetList.facets[i].value; }, itemSize: itemHeight, onItemsRendered: function () {\n                    if (!listRef.current)\n                        return;\n                    if (initialRender.current) {\n                        initialRender.current = false;\n                        if (selectedIndex) {\n                            listRef.current.scrollToItem(selectedIndex, 'start');\n                        }\n                    }\n                }, width: width }, function (_a) {\n                var index = _a.index, style = _a.style;\n                var odd = index % 2 === 1;\n                var item = facetList.facets[index];\n                var isPubColumn = facetType === 'general.title.id';\n                var publication = isPubColumn ? publications[item.value] : null;\n                var displayLabel = (0,browseHelpers/* getBrowseFacetLabel */.ih)(item.label, label);\n                var displayFree = isPubColumn && !isAuthenticated && isPublicationFree(item.value);\n                var uniqueId = \"br_\".concat(facetList.facets[index].value);\n                var selected = index === selectedIndex;\n                return external_React_default().createElement(\"li\", { key: item.value, className: (0,classUtil/* classStr */.B)('lh-sm', 'BrowseRow', 'px-3', 'py-2', odd && 'odd', 'd-flex', index === selectedIndex && 'selected'), onClick: function () {\n                        updateColumnState(facetType, { selectedValue: item.value, selectedLabel: item.label });\n                    }, style: style },\n                    external_React_default().createElement(\"input\", { autoComplete: 'off', className: 'btn-check flex-shrink-0', defaultChecked: selected, id: uniqueId, name: \"browseRow_\".concat(displayLabel === null || displayLabel === void 0 ? void 0 : displayLabel.replaceAll(' ', '_')), type: 'radio' }),\n                    external_React_default().createElement(\"label\", { className: (0,classUtil/* classStr */.B)('flex-grow-1 w-100 align-items-center', item.label === browseHelpers/* NULL_CHARACTER */.Vp && 'fst-italic'), htmlFor: uniqueId },\n                        external_React_default().createElement(\"span\", { className: (0,classUtil/* classStr */.B)('clipped-text', isPubColumn ? 'three-lines' : 'two-lines'), title: displayLabel }, displayLabel)),\n                    displayFree &&\n                        external_React_default().createElement(\"small\", { className: 'free-publication text-uppercase text-success me-2' }, \"Free\"),\n                    item.nodeType !== 'FILE' &&\n                        external_React_default().createElement(\"small\", { className: 'text-muted px-2' },\n                            external_React_default().createElement(NumberAbbrev/* NumberAbbrev */.a, { verbose: false }, { count: item.count })),\n                    item.nodeType === 'FILE' &&\n                        external_React_default().createElement(\"span\", { className: 'icon-f3 icon-mem-topic', title: t('browseItemsColumn.fileIcon', \"View all records in {{contentTypeLabel}}\", { contentTypeLabel: localizeContentType('FILE', { demonstrative: 'proximal' }) }) }),\n                    isPubColumn &&\n                        external_React_default().createElement(F3Link/* F3Link */.y, { \"aria-label\": 'Read more information on publication', className: 'btn-link inline-block icon-f3 icon-info', href: (0,slug/* getContentPath */.kQ)('PUBLICATION', item.value, publication.slug), onClick: function (e) { return e.stopPropagation(); }, target: '_blank' }),\n                    external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-arrow-right text-muted opacity-50 d-md-none' }));\n            })));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/browse/BrowseColumns.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar DOC_COL_FACET_TYPE = 'DOC_COL';\nvar BrowseColumns = function (_a) {\n    var f3Query = _a.f3Query, _b = _a.idealColumnWidth, idealColumnWidth = _b === void 0 ? 300 : _b, columnStates = _a.columnStates, setColumnStates = _a.setColumnStates;\n    var columnsRef = (0,external_React_.useRef)(null);\n    var _c = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(0), 2), firstColIndex = _c[0], setFirstColIndex = _c[1];\n    var _d = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), columnLabels = _d[0], setColumnLabels = _d[1];\n    var _e = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), documentColumnLabel = _e[0], setDocumentColumnLabel = _e[1];\n    var _f = (0,useAlerts/* useAlerts */.Z)(), addAlert = _f.addAlert, clearAlerts = _f.clearAlerts;\n    var t = (0,external_ReactI18next_.useTranslation)('browse').t;\n    var localizePublicationField = useLocalizedContent().localizePublicationField;\n    var publications = (0,external_React_.useContext)(fold3PageContext/* Fold3PageContext */.h).publications;\n    var publicationId = (0,external_React_.useMemo)(function () {\n        var _a;\n        var pubId = (_a = columnStates\n            .find(function (col) { return col.facetType === 'general.title.id'; })) === null || _a === void 0 ? void 0 : _a.selectedValue;\n        if (pubId)\n            return +pubId;\n    }, [columnStates]);\n    // const nonNulColumns = useCurrentState(columnStates.filter(state => state.selectedLabel !== NULL_CHARACTER));\n    var showDocColumn = columnLabels !== null &&\n        columnStates.length - 2 === Object.keys(columnLabels).length &&\n        !!columnStates.at(-2).selectedValue;\n    (0,external_React_.useEffect)(function () {\n        return f3Query.onModified(function () {\n            setColumnStates(function () { return (0,browseHelpers/* getDefaultBrowseColumns */.TO)(); });\n        });\n    }, []);\n    (0,external_React_.useEffect)(function () {\n        var pub = publications[publicationId];\n        if (!pub)\n            return;\n        clearAlerts();\n        if (pub.migrationMode !== 'DONE' && pub.migrationMode !== 'OFF') {\n            addAlert({\n                type: 'warning',\n                message: t('browseColumns.pubMigrationWarning', 'We are currently working on this publication. You may experience data inconsistencies during this time.'),\n                expires: (0,time.getTimeInMs)(10, 'sec'),\n            });\n        }\n    }, [publicationId]);\n    (0,useAsyncEffect/* useAsyncEffect */.b)(function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var _a, labels, documentLabel, columnLabels;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    setColumnLabels(null);\n                    if (!publicationId)\n                        return [2 /*return*/];\n                    return [4 /*yield*/, Promise.all([\n                            new SearchUtilApi().getBrowseLevelLabels(publicationId),\n                            new SearchUtilApi().getDocumentLevelLabel(publicationId),\n                        ])];\n                case 1:\n                    _a = tslib_es6/* __read */.CR.apply(void 0, [_b.sent(), 2]), labels = _a[0], documentLabel = _a[1];\n                    columnLabels = facetTypes/* BROWSE_FACET_TYPES */.wh.reduce(function (finalObj, facetType, i) {\n                        var label = labels[i - 1];\n                        if (facetType === 'general.title.id' || !label) {\n                            return finalObj;\n                        }\n                        label = localizePublicationField(publication === null || publication === void 0 ? void 0 : publication.fieldConfigName, { name: label, label: label });\n                        finalObj[facetType] = label;\n                        return finalObj;\n                    }, {});\n                    documentLabel = localizePublicationField(publication === null || publication === void 0 ? void 0 : publication.fieldConfigName, { name: documentLabel, label: documentLabel });\n                    setDocumentColumnLabel(documentLabel);\n                    setColumnLabels(columnLabels);\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [publicationId]);\n    (0,external_React_.useEffect)(function () {\n        var debouncedColumnsCalc = debounce(updateFirstColIndex, 500);\n        window.addEventListener('resize', debouncedColumnsCalc);\n        return function () { return window.removeEventListener('resize', debouncedColumnsCalc); };\n    }, []);\n    function getColumnsInfo(totalWidth) {\n        var widthMinusPadding = totalWidth - getPaddingAmt(totalWidth);\n        var numCols = Math.floor(widthMinusPadding / idealColumnWidth);\n        var colWidth = widthMinusPadding / numCols;\n        return { numCols: numCols, colWidth: colWidth };\n    }\n    var getVisibleColumnCount = function () {\n        var width = getColumnsWidth();\n        if (width !== undefined) {\n            return getColumnsInfo(width).numCols;\n        }\n    };\n    var getColumnsWidth = function () {\n        var _a;\n        var rect = (_a = columnsRef === null || columnsRef === void 0 ? void 0 : columnsRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n        if (rect) {\n            return rect.width;\n        }\n    };\n    var updateFirstColIndex = (0,external_React_.useCallback)(function () {\n        var visibleColumns = getVisibleColumnCount();\n        var firstIndex = columnStates.length - visibleColumns;\n        var width = getColumnsWidth();\n        var isMobile = displayMobile(width);\n        if (showDocColumn && !isMobile)\n            firstIndex += 2;\n        setFirstColIndex(Math.max(0, firstIndex));\n    }, [columnStates, showDocColumn]);\n    var lastColumnIndex = (0,external_React_.useMemo)(function () {\n        return firstColIndex + getVisibleColumnCount();\n    }, [firstColIndex]);\n    (0,external_React_.useEffect)(function () {\n        updateFirstColIndex();\n    }, [columnStates.length, showDocColumn]);\n    var handleUpdateColumnState = function (facetType, toUpdate) {\n        setColumnStates(function (columnStates) {\n            var i = columnStates.findIndex(function (state) { return state.facetType === facetType; });\n            var updatedStates = columnStates.slice(0, i);\n            var currentState = columnStates[i];\n            if (!currentState)\n                currentState = (0,browseHelpers/* createDefaultBrowseColumnState */.KD)();\n            ['filterType', 'filterVal', 'sortOrder'].forEach(function (key) {\n                if (key in toUpdate) {\n                    toUpdate.selectedLabel = null;\n                    toUpdate.selectedValue = null;\n                }\n            });\n            var updatedState = (0,lib_deepMerge/* deepMerge */.R)(currentState, toUpdate);\n            updatedStates.push(updatedState);\n            var lastState = updatedStates.at(-1);\n            if (lastState.selectedValue) {\n                var nextFacetType = getNextFacetType(lastState.facetType);\n                if (nextFacetType) {\n                    updatedStates.push((0,browseHelpers/* createDefaultBrowseColumnState */.KD)({ facetType: nextFacetType }));\n                }\n            }\n            return updatedStates;\n        });\n    };\n    var getNextFacetType = function (facetType) {\n        var i = facetTypes/* BROWSE_FACET_TYPES */.wh.indexOf(facetType);\n        return facetTypes/* BROWSE_FACET_TYPES */.wh[i + 1];\n    };\n    var publicationColumn = (0,external_React_.useMemo)(function () {\n        var pubColumn = columnStates.find(function (state) { return state.facetType === 'general.title.id'; });\n        return pubColumn || (0,browseHelpers/* createDefaultBrowseColumnState */.KD)({ facetType: 'general.title.id' });\n    }, [columnStates]);\n    var publication = (0,external_React_.useMemo)(function () {\n        if (!publicationColumn || !publicationColumn.selectedValue)\n            return;\n        return publications[publicationColumn.selectedValue];\n    }, [publicationColumn]);\n    return external_React_default().createElement(AutoSizer_AutoSizer, null, function (_a) {\n        var width = _a.width, height = _a.height;\n        var colWidth = getColumnsInfo(width).colWidth;\n        var translate = firstColIndex * colWidth;\n        if (firstColIndex > 0)\n            translate -= getPaddingAmt(width);\n        var filterColHeight = height - 79; // height minus heading and filter box\n        var nonPubColHeight = filterColHeight - 50; // account for \"select all\" section of columns\n        return external_React_default().createElement(\"div\", { ref: function (node) {\n                if (columnsRef.current === null && width > 0) {\n                    columnsRef.current = node;\n                    updateFirstColIndex();\n                }\n            }, \"aria-label\": 'Browse Overlay', className: (0,classUtil/* classStr */.B)('BrowseColumns', 'overflow-hidden'), style: { width: width, height: height } },\n            firstColIndex > 0 &&\n                external_React_default().createElement(\"div\", { className: 'browse-arrow left', onClick: function () { return setFirstColIndex(function (index) { return index - 1; }); }, role: 'button', tabIndex: 0 },\n                    external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-arrow-left' }),\n                    external_React_default().createElement(\"span\", { className: 'visually-hidden-focusable' }, t('browseColumn.showPreviousBtn', 'Show previous browse section'))),\n            lastColumnIndex < columnStates.length + (showDocColumn && !displayMobile(width) ? 2 : 0) &&\n                external_React_default().createElement(\"div\", { className: 'browse-arrow right', onClick: function () { return setFirstColIndex(function (index) { return index + 1; }); }, role: 'button', tabIndex: 0 },\n                    external_React_default().createElement(\"span\", { \"aria-hidden\": 'true', className: 'icon-f3 icon-arrow-right' }),\n                    external_React_default().createElement(\"span\", { className: 'visually-hidden-focusable' }, t('browseColumn.showNextBtn', 'Show next browse section'))),\n            external_React_default().createElement(\"div\", { className: 'browse-columns-inner', style: { transform: \"translateX(-\".concat(translate, \"px)\") } },\n                external_React_default().createElement(BrowseItemsColumn, { key: f3Query.queryString.getValue(), columnState: publicationColumn, columnStates: columnStates, f3Query: f3Query, height: filterColHeight, label: t('browseColumns.pubColumnHeader', 'Publications'), updateColumnState: handleUpdateColumnState, width: colWidth }),\n                columnStates.slice(1).map(function (column, i, arr) {\n                    if (columnLabels === null || !(column.facetType in columnLabels))\n                        return null;\n                    var key = JSON.stringify(arr[i - 1]);\n                    return external_React_default().createElement(BrowseItemsColumn, { key: key, columnState: column, columnStates: columnStates, f3Query: f3Query, height: nonPubColHeight, label: columnLabels[column.facetType], updateColumnState: handleUpdateColumnState, width: colWidth });\n                }),\n                showDocColumn &&\n                    external_React_default().createElement(BrowseDocumentsColumn, { key: JSON.stringify(columnStates.at(-2)), columnStates: columnStates, f3Query: f3Query, height: height - 35, label: documentColumnLabel, width: colWidth * (displayMobile(width) ? 1 : 2) })));\n    });\n};\nvar displayMobile = function (width) {\n    return width <= 767;\n};\nvar getPaddingAmt = function (width) {\n    return displayMobile(width) ? 0 : 30; // 30 px to show part of off-screen columns\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/index-records/IndexRecordBrowseTab.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar IndexRecordBrowseTab = function (_a) {\n    var content = (0,external_React_.useContext)(IndexRecordContentContext).content;\n    var _b = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), columnStates = _b[0], setColumnStates = _b[1];\n    var publications = (0,external_React_.useContext)(fold3PageContext/* Fold3PageContext */.h).publications;\n    var t = (0,external_ReactI18next_.useTranslation)('index').t;\n    var pub = publications[(0,contentRuntime/* getPublicationId */.R)(content)];\n    (0,external_React_.useEffect)(function () {\n        f3Query.current.Filters.addItem({\n            type: 'general.title.id',\n            values: [{\n                    value: \"\".concat(pub.publicationId),\n                    label: pub.shortTitle || pub.title,\n                }],\n        });\n    }, []);\n    var f3Query = (0,external_React_.useRef)(new f3_query_F3Query/* F3Query */.$J());\n    var rerender = (0,useRerender/* useRerender */.S)().rerender;\n    (0,useAsyncEffect/* useAsyncEffect */.b)(function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var columns;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, (0,browseHelpers/* generateWrappedContentBrowseColumns */.YG)(content, pub)];\n                case 1:\n                    columns = _a.sent();\n                    setColumnStates(columns);\n                    rerender();\n                    return [2 /*return*/];\n            }\n        });\n    }); }, []);\n    return external_React_default().createElement(\"div\", { \"aria-labelledby\": 'tab-brws', className: (0,classUtil/* classStr */.B)('IndexRecordBrowseTab', 'container-fluid py-5 px-0'), id: 'browse-tab', style: { height: '500px' } },\n        external_React_default().createElement(\"h2\", { className: 'd-none d-print-block text-center h4' }, t('browseIndexrecord', 'Browse the index record')),\n        !columnStates ?\n            external_React_default().createElement(LoadIndicator/* LoadIndicator */.O, null) :\n            external_React_default().createElement(BrowseColumns, { columnStates: columnStates, f3Query: f3Query.current, idealColumnWidth: 225, setColumnStates: setColumnStates }));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/automatedTesting.ts\n\nvar isTesting = function () {\n    return (0,lib_getRuntime/* isBrowserRuntime */.wK)() && !!window.Cypress;\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/hooks/useStorage.ts\nvar useStorage = __webpack_require__(62784);\n;// CONCATENATED MODULE: ./src/ts/shared/lib/polyfills.ts\nfunction scrollIntoViewIfNeeded(globalObj) {\n    if (globalObj.Element && !Element.prototype.scrollIntoViewIfNeeded) {\n        Element.prototype.scrollIntoViewIfNeeded = function (centerIfNeeded) {\n            centerIfNeeded = arguments.length === 0 ? true : !!centerIfNeeded;\n            var parent = this.parentNode, parentComputedStyle = window.getComputedStyle(parent, null), parentBorderTopWidth = parseInt(parentComputedStyle.getPropertyValue('border-top-width')), parentBorderLeftWidth = parseInt(parentComputedStyle.getPropertyValue('border-left-width')), overTop = this.offsetTop - parent.offsetTop < parent.scrollTop, overBottom = this.offsetTop - parent.offsetTop + this.clientHeight - parentBorderTopWidth > parent.scrollTop + parent.clientHeight, overLeft = this.offsetLeft - parent.offsetLeft < parent.scrollLeft, overRight = this.offsetLeft - parent.offsetLeft + this.clientWidth - parentBorderLeftWidth > parent.scrollLeft + parent.clientWidth, alignWithTop = overTop && !overBottom;\n            if ((overTop || overBottom) && centerIfNeeded) {\n                parent.scrollTop = this.offsetTop - parent.offsetTop - parent.clientHeight / 2 - parentBorderTopWidth + this.clientHeight / 2;\n            }\n            if ((overLeft || overRight) && centerIfNeeded) {\n                parent.scrollLeft = this.offsetLeft - parent.offsetLeft - parent.clientWidth / 2 - parentBorderLeftWidth + this.clientWidth / 2;\n            }\n            if ((overTop || overBottom || overLeft || overRight) && !centerIfNeeded) {\n                this.scrollIntoView(alignWithTop);\n            }\n        };\n    }\n}\nfunction arrayAt() {\n    /* For dumb Safari */\n    if (!(typeof Array.prototype.at === 'function')) {\n        Array.prototype.at = function (i) {\n            if (i >= 0)\n                return this[i];\n            return this[this.length + i];\n        };\n    }\n}\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/Alert.tsx\n\n\n\nvar Alert = function (_a) {\n    var alert = _a.alert, className = _a.className, alertId = _a.alertId, onClose = _a.onClose;\n    return external_React_default().createElement(\"li\", { className: (0,classUtil/* classStr */.B)(className, \"my-3 container shadow-sm col-12 col-md-auto alert alert-\".concat(alert.type, \" \").concat(alert.closeable ? 'alert-dismissible' : '')), \"data-cy\": 'alert-list', id: (alertId === null || alertId === void 0 ? void 0 : alertId.length) > 0 ? alertId : null, role: 'alert' },\n        alert.message,\n        alert.closeable &&\n            external_React_default().createElement(F3Button/* CloseButton */.PZ, { className: 'text-muted', onClick: function () { return onClose === null || onClose === void 0 ? void 0 : onClose(alert); } }));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/Alerts.tsx\n\n\n\n\nvar Alerts = function () {\n    var _a = (0,external_React_.useContext)(fold3PageContext/* Fold3PageContext */.h).alerts, alerts = _a.alerts, closeAlert = _a.closeAlert, errorAlertId = _a.errorAlertId, successAlertId = _a.successAlertId;\n    if (alerts.length === 0)\n        return null;\n    var alertComponents = alerts.map(function (alert, i) {\n        switch (alert.type) {\n            case 'info':\n            case 'success':\n                return external_React_default().createElement(Alert, { key: i, alert: alert, alertId: successAlertId, className: alert.className, onClose: closeAlert });\n            case 'warning':\n            case 'danger':\n                return external_React_default().createElement(Alert, { key: i, alert: alert, alertId: errorAlertId, className: alert.className, onClose: closeAlert });\n        }\n    });\n    return external_React_default().createElement(ErrorBoundary/* ErrorBoundary */.S, null,\n        external_React_default().createElement(\"ul\", { className: 'flex-column list-unstyled position-fixed d-flex justify-content-center w-100 zi-popover', id: 'alert-list' }, alertComponents));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/ClientRender.tsx\n\n\nvar ClientRender = function (_a) {\n    var children = _a.children;\n    var _b = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), render = _b[0], setRender = _b[1];\n    /* There are other ways to get this to render in the browser, but this prevents hydration warnings */\n    (0,external_React_.useEffect)(function () {\n        setRender(true);\n    }, []);\n    return render ? external_React_default().createElement((external_React_default()).Fragment, null, children) : null;\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/lib/hooks/useLocalePlace.ts\nvar useLocalePlace = __webpack_require__(53390);\n;// CONCATENATED MODULE: ./src/ts/shared/components/Countdown.tsx\n\n\n\n\nvar Countdown = function (_a) {\n    var start = _a.start;\n    var _b = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(start), 2), count = _b[0], setCount = _b[1];\n    (0,external_React_.useEffect)(function () {\n        var interval = setInterval(function () {\n            setCount(function (count) {\n                if (count === 1) {\n                    clearInterval(interval);\n                }\n                return count - 1;\n            });\n        }, (0,time.getTimeInMs)(1, 'sec'));\n    }, []);\n    return external_React_default().createElement(\"span\", null, count);\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/components/SiteLogo.tsx\nvar SiteLogo = __webpack_require__(1342);\n;// CONCATENATED MODULE: ./src/ts/shared/components/DomainMismatchDialog.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar DOMAIN_DIALOG_CLOSED = 'f3_domain_dialog_closed';\nvar redirectSeconds = 15;\nvar DomainMismatchDialog = function (_a) {\n    var recommendedDomain = _a.recommendedDomain;\n    var closeDialog = (0,useDialogs/* useDialogs */.q)().closeDialog;\n    var local = (0,useStorage/* useStorage */.y)().local;\n    var timeoutRef = (0,external_React_.useRef)();\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    var siteLabel = (0,useDomain/* useDomain */.a)().siteLabel;\n    var getLocalePlace = (0,useLocalePlace/* useLocalePlace */.D)();\n    var redirectUrl = \"/node/auth/switch-site\".concat((0,queryUtil/* toQueryString */.UK)({\n        domain: recommendedDomain,\n        next: encodeURIComponent(location.pathname + location.search),\n    }));\n    (0,external_React_.useEffect)(function () {\n        timeoutRef.current = setTimeout(function () {\n            window.location.href = redirectUrl;\n        }, (0,time.getTimeInMs)(redirectSeconds, 'sec'));\n    }, []);\n    var recommendedSiteLabel = \"\".concat((0,localization_domain/* getSiteName */.hA)(recommendedDomain), \" - \").concat(getLocalePlace((0,localization_domain/* getCountryCodeForDomain */.wW)(recommendedDomain)));\n    return external_React_default().createElement(Dialog, { closeable: true, onClose: function () {\n            local.set(DOMAIN_DIALOG_CLOSED, true);\n            clearTimeout(timeoutRef.current);\n        }, size: 'lg' },\n        external_React_default().createElement((external_React_default()).Fragment, null,\n            external_React_default().createElement(\"div\", { className: 'mt-n3 mx-n3 mb-3', style: { backgroundImage: \"url(/img/changeDomain.jpg)\", backgroundRepeat: \"no-repeat\", height: \"200px\", backgroundSize: \"cover\", backgroundPosition: \"center\" } }),\n            external_React_default().createElement(\"div\", { className: 'text-center' },\n                external_React_default().createElement(SiteLogo/* SiteLogo */.S, { color: { mobile: true, desktop: true } })),\n            external_React_default().createElement(\"div\", { className: 'pb-3 border-bottom' },\n                external_React_default().createElement(\"h1\", { className: 'h5 my-2 text-center text-primary' },\n                    external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'domainMismatch.recommendedSite', t: t },\n                        \"You have arrived at \",\n                        { siteLabel: siteLabel },\n                        \".\",\n                        external_React_default().createElement(\"br\", null),\n                        \"We recommend that you visit \",\n                        { recommendedSiteLabel: recommendedSiteLabel },\n                        \".\"))),\n            external_React_default().createElement(\"h2\", { className: 'h5 text-center my-3' },\n                external_React_default().createElement(\"em\", null,\n                    external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'domainMismatch.betterPlace', t: t },\n                        \"Here's why \",\n                        external_React_default().createElement(\"span\", null, { recommendedSiteLabel: recommendedSiteLabel }),\n                        \" is a better place for you to visit:\"))),\n            external_React_default().createElement(\"div\", { className: 'row justify-content-center mt-3' },\n                external_React_default().createElement(\"div\", { className: 'col-12 col-md-8' },\n                    external_React_default().createElement(\"ul\", { className: 'mb-3' },\n                        external_React_default().createElement(\"li\", null, t('domainMismatch.betterResouces', 'Better resources for localised historical information')),\n                        external_React_default().createElement(\"li\", null, t('domainMismatch.relevantResults', 'More relevant search results')),\n                        external_React_default().createElement(\"li\", null, t('domainMismatch.localCurrency', 'Local Currency')),\n                        external_React_default().createElement(\"li\", null, t('domainMismatch.sameAccess', 'Same access to millions of records from all over the globe'))))),\n            external_React_default().createElement(\"div\", { className: 'text-center' },\n                external_React_default().createElement(F3Link/* F3Link */.y, { className: 'btn btn-primary btn-lg', href: redirectUrl }, t('domainMismatch.goToSite', 'Go to {{recommendedSiteLabel}}', { recommendedSiteLabel: recommendedSiteLabel }))),\n            external_React_default().createElement(\"div\", { className: 'text-center p-3' },\n                external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'link', onClick: function () {\n                        local.set(DOMAIN_DIALOG_CLOSED, true);\n                        clearTimeout(timeoutRef.current);\n                        closeDialog();\n                    } }, t('domainMismatch.continueToSite', 'Continue to {{siteLabel}}', { siteLabel: siteLabel }))),\n            external_React_default().createElement(\"div\", { className: 'alert-info p-3 alert mb-0' },\n                external_React_default().createElement(\"strong\", { className: 'me-1' }, t('domainMismatch.whatToDo', 'Not sure what to do?')),\n                external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'domainMismatch.redirectTime', t: t },\n                    \"Don't worry. We'll send you to \",\n                    external_React_default().createElement(\"span\", { className: 'me-1' }, { recommendedSiteLabel: recommendedSiteLabel }),\n                    \" in \",\n                    external_React_default().createElement(Countdown, { start: redirectSeconds }),\n                    \" \",\n                    external_React_default().createElement(\"span\", { className: 'ms-1' }, \"seconds.\")))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/NewFWRWelcomeDialog.tsx\n\n\n\n\n\n\n\n\nvar NEW_FWR_DOMAIN_KEY = 'f3_fwr_welcome_dialog';\nvar NewFWRWelcomeDialog = function (_a) {\n    var siteName = (0,useDomain/* useDomain */.a)().siteName;\n    var local = (0,useStorage/* useStorage */.y)().local;\n    var closeDialog = (0,useDialogs/* useDialogs */.q)().closeDialog;\n    var t = (0,external_ReactI18next_.useTranslation)('welcome').t;\n    return external_React_default().createElement(Dialog, { onClose: function () {\n            local.set(NEW_FWR_DOMAIN_KEY, true);\n        }, size: 'lg' },\n        external_React_default().createElement(\"div\", { className: 'pt-5 pb-3 mt-n3 mx-n3 mb-3', style: { backgroundImage: \"url(/img/welcome-img.jpg)\", backgroundRepeat: \"no-repeat\" } },\n            external_React_default().createElement(\"h1\", { className: 'mt-5 mb-0 h5 pt-5 text-primary text-center' }, t('welcomeNew', 'Welcome to the new')),\n            external_React_default().createElement(\"img\", { alt: 'Forces War Records by Ancestry', className: 'img-fluid mt-2 mx-auto d-block', height: '65', src: '/img/fwr-color-ba@2x.png', width: '180' })),\n        external_React_default().createElement(\"h2\", { className: 'h5 text-primary text-center' }, t('discoverMoreImproved', 'Discover more military records than ever with our new and improved website')),\n        external_React_default().createElement(\"p\", { className: 'text-center fw-bold' }, t('whatToExpect', \"Here's what to expect\")),\n        external_React_default().createElement(\"div\", { className: 'row justify-content-center' },\n            external_React_default().createElement(\"div\", { className: 'col-12 col-md-6' },\n                external_React_default().createElement(\"ul\", { className: 'mb-0 mb-md-2' },\n                    external_React_default().createElement(\"li\", null, t('recordCount', 'Over 500 million more records')),\n                    external_React_default().createElement(\"li\", null, t('accessToAllSaved', 'Access to all of your saved records, bookmarks, and contributions')),\n                    external_React_default().createElement(\"li\", null, t('abilityToAnnotate', 'Ability to annotate, comment, print, and save images')))),\n            external_React_default().createElement(\"div\", { className: 'col-12 col-md-6' },\n                external_React_default().createElement(\"ul\", null,\n                    external_React_default().createElement(\"li\", null, t('detailedHelpCentre', 'Improved design and detailed Help Centre')),\n                    external_React_default().createElement(\"li\", null, t('abilityCreateMemorial', 'Ability to create a memorial for a loved one')),\n                    external_React_default().createElement(\"li\", null, t('saveRecords', 'Ability to save records to your Ancestry family tree'))))),\n        external_React_default().createElement(\"div\", { className: 'row justify-content-center' },\n            external_React_default().createElement(\"div\", { className: 'col-12 text-center' },\n                external_React_default().createElement(\"p\", null,\n                    external_React_default().createElement(\"strong\", null, t('wantHelp', 'Want help getting started?')),\n                    external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'visitLink', t: t },\n                        \"Visit our \",\n                        external_React_default().createElement(F3Link/* F3Link */.y, { href: '/help', onClick: function () { local.set(NEW_FWR_DOMAIN_KEY, true); } }, \"Help Centre\"),\n                        \" for more information.\")),\n                external_React_default().createElement(\"p\", { className: 'text-center' },\n                    external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'secondary3', onClick: function () {\n                            closeDialog();\n                            local.set(NEW_FWR_DOMAIN_KEY, true);\n                        }, size: 'lg' }, t('startExploring', 'Start Exploring'))),\n                external_React_default().createElement(\"p\", null, t('fwrWelcome.hopeEnjoy', 'We hope you enjoy the new site, and that you uncover more family history with {{siteName}}.', { siteName: siteName })))));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/apis/betaApi.ts\n\n\n/** [See Documentation](https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/service/BetaService.html) */\nvar BetaApi = /** @class */ (function (_super) {\n    (0,tslib_es6/* __extends */.ZT)(BetaApi, _super);\n    function BetaApi() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.service = F3Api/* BackendService */.v$.FOLD31;\n        _this.baseUrl = '/api/beta';\n        return _this;\n    }\n    //requires construction with req\n    BetaApi.prototype.listBetasForUser = function () {\n        return this.get('/user', { deserializeType: 'Beta' });\n    };\n    BetaApi.prototype.getBetaByUserTag = function (userTag) {\n        var url = \"/\".concat(userTag);\n        return this.get(url, { deserializeType: 'Beta' });\n    };\n    BetaApi.prototype.listBetas = function (status) {\n        var url = status ? \"?status=\".concat(status) : '';\n        return this.get(url, { deserializeType: 'Beta' });\n    };\n    BetaApi.prototype.adminCreateBeta = function (beta) {\n        return this.post('', beta, { serializeType: 'Beta' });\n    };\n    BetaApi.prototype.adminUpdateBeta = function (beta) {\n        return this.put(\"/\".concat(beta.userTag), beta, { serializeType: 'Beta' });\n    };\n    BetaApi.prototype.adminDeleteBeta = function (userTag) {\n        return this.delete(\"/\".concat(userTag));\n    };\n    BetaApi.prototype.adminCreateBetaBanner = function (banner) {\n        return this.post('/banner', banner, { serializeType: 'BetaBanner' });\n    };\n    BetaApi.prototype.adminUpdateBetaBanner = function (banner) {\n        return this.put(\"/banner/\".concat(banner.id), banner, {\n            serializeType: 'BetaBanner',\n        });\n    };\n    BetaApi.prototype.adminDeleteBetaBanner = function (id) {\n        return this.delete(\"/banner/\".concat(id));\n    };\n    BetaApi.prototype.getBetaBanner = function (id) {\n        return this.get(\"/banner/\".concat(id), { deserializeType: 'BetaBanner' });\n    };\n    BetaApi.prototype.listBetaBanners = function (status) {\n        return this.get(\"/banner\".concat(status ? \"/\".concat(status) : ''), {\n            deserializeType: 'BetaBanner',\n        });\n    };\n    BetaApi.prototype.listBetaBannersByUserTag = function (userTag) {\n        return this.get(\"/banner/userTag/\".concat(userTag), {\n            deserializeType: 'BetaBanner',\n        });\n    };\n    return BetaApi;\n}(F3Api/* F3Api */.D4));\n\n\n;// CONCATENATED MODULE: ./src/ts/shared/lib/feedbackHelpers.ts\nvar feedbackTypeToCategory = function (type) {\n    var category;\n    switch (type) {\n        case 'CORRECTION':\n            category = 'CORRECTION';\n            break;\n        case 'COPYRIGHT':\n            category = 'ABUSE';\n            break;\n        case 'INAPPROPRIATE':\n            category = 'ABUSE';\n            break;\n        case 'OFFENSIVE':\n            category = 'ABUSE';\n            break;\n        case 'IMAGE_PROBLEM':\n            category = 'PROBLEM';\n            break;\n        case 'ACCOUNT':\n            category = 'PROBLEM';\n            break;\n        case 'INSTITUTION':\n            category = 'PROBLEM';\n            break;\n        case 'OTHER_PROBLEM':\n            category = 'PROBLEM';\n            break;\n        case 'SITE_PROBLEM':\n            category = 'PROBLEM';\n            break;\n        case 'BETA':\n            category = 'FEEDBACK';\n            break;\n        case 'BUSINESS_INQUIRY':\n            category = 'FEEDBACK';\n            break;\n        case 'FEEDBACK':\n            category = 'FEEDBACK';\n            break;\n        case 'CONTENT': return; // can't be determined\n        case 'NOT_MILITARY': return; // can't be determined\n        case 'EXPERT':\n            category = 'FEEDBACK';\n            break;\n        case 'AFFILIATE':\n            category = 'FEEDBACK';\n            break;\n    }\n    return category || 'FEEDBACK';\n};\nvar ratingToStr = function (rating) {\n    if (!rating)\n        return '';\n    var msg = '';\n    switch (rating) {\n        case 1:\n            msg = 'bad';\n            break;\n        case 2:\n            msg = 'ok';\n            break;\n        case 3:\n            msg = 'good';\n            break;\n    }\n    return \"RATING:\".concat(msg);\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/forms/F3Select.tsx\n\n\n\n\nvar F3Select = (0,external_React_.forwardRef)(function (props, ref) {\n    var values = props.values, _a = props.loading, loading = _a === void 0 ? !values : _a, getLabel = props.getLabel, disabled = props.disabled, onValueChange = props.onValueChange, _b = props.displayBlank, displayBlank = _b === void 0 ? true : _b, validate = props.validate, otherProps = (0,tslib_es6/* __rest */._T)(props, [\"values\", \"loading\", \"getLabel\", \"disabled\", \"onValueChange\", \"displayBlank\", \"validate\"]);\n    var _c = useFormValidation(ref, otherProps, validate), validationMessage = _c.validationMessage, className = _c.className, rest = (0,tslib_es6/* __rest */._T)(_c, [\"validationMessage\", \"className\"]);\n    return external_React_default().createElement(\"div\", null,\n        external_React_default().createElement(\"select\", (0,tslib_es6/* __assign */.pi)({}, rest, { className: (0,classUtil/* classStr */.B)(className, 'form-select'), disabled: disabled !== undefined ? disabled : loading, onChange: function (e) {\n                var _a;\n                (_a = rest.onChange) === null || _a === void 0 ? void 0 : _a.call(rest, e);\n                onValueChange === null || onValueChange === void 0 ? void 0 : onValueChange(e.target.value);\n            } }),\n            displayBlank && external_React_default().createElement(\"option\", null),\n            values.map(function (value) {\n                var label = (getLabel === null || getLabel === void 0 ? void 0 : getLabel(value)) || value;\n                return external_React_default().createElement(\"option\", { key: \"\".concat(label, \":\").concat(value), value: value }, label);\n            })),\n        external_React_default().createElement(\"div\", { \"aria-label\": 'Invalid Feedback', className: 'invalid-feedback icon-f3 icon-warning', role: 'alert' }, validationMessage));\n});\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/feedback/FeedbackForm.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar FeedbackForm = function (_a) {\n    var _b = _a.type, _type = _b === void 0 ? '' : _b, _c = _a.category, _category = _c === void 0 ? feedbackTypeToCategory(_type) : _c, _d = _a.showRating, showRating = _d === void 0 ? true : _d, _e = _a.showFreeform, showFreeform = _e === void 0 ? true : _e, _f = _a.freeformOptional, freeformOptional = _f === void 0 ? !showFreeform : _f, onSubmitted = _a.onSubmitted, objectReference = _a.objectReference;\n    var user = (0,useUser/* useUser */.a)().user;\n    var _g = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(_type), 2), type = _g[0], setType = _g[1];\n    var _h = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(_category), 2), category = _h[0], setCategory = _h[1];\n    var _j = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(''), 2), message = _j[0], setMessage = _j[1];\n    var _k = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)((user === null || user === void 0 ? void 0 : user.email) || ''), 2), email = _k[0], setEmail = _k[1];\n    var _l = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), rating = _l[0], setRating = _l[1];\n    var _m = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(false), 2), loading = _m[0], setLoading = _m[1];\n    var _o = (0,useAlerts/* useAlerts */.Z)(), addSuccessAlert = _o.addSuccessAlert, addErrorAlert = _o.addErrorAlert;\n    var siteName = (0,useDomain/* useDomain */.a)().siteName;\n    var _p = (0,tslib_es6/* __read */.CR)((0,external_ReactRouterDOM_.useSearchParams)(), 2), searchParams = _p[0], setSearchParams = _p[1];\n    var subject = searchParams.get('subject');\n    var f3Domain = (0,useDomain/* useDomain */.a)().f3Domain;\n    var _q = useCaptchaToken(), captchaToken = _q.captchaToken, onCaptchaResponse = _q.onCaptchaResponse;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    (0,external_React_.useEffect)(function () {\n        if (subject) {\n            setType(subject);\n            setCategory(feedbackTypeToCategory(subject));\n        }\n    }, [subject]);\n    return external_React_default().createElement(F3Form, { clearOnSubmit: true, id: 'FeedbackForm', onSubmit: function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n            var e_1;\n            return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (showRating && !rating) {\n                            addErrorAlert(external_React_default().createElement(ErrorMessage, { err: 'RATING' }));\n                            return [2 /*return*/, false];\n                        }\n                        setLoading(true);\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, new UserReportApi().submitFeedback({\n                                type: type,\n                                message: message,\n                                email: email,\n                                category: category,\n                                rating: rating,\n                                objectId: (objectReference === null || objectReference === void 0 ? void 0 : objectReference.objectId) ? +(objectReference === null || objectReference === void 0 ? void 0 : objectReference.objectId) : null,\n                                objectType: objectReference === null || objectReference === void 0 ? void 0 : objectReference.contentType,\n                                url: window.location.pathname,\n                            }, captchaToken.current)];\n                    case 2:\n                        _a.sent();\n                        addSuccessAlert(external_React_default().createElement(SuccessMessage, { category: category, type: type }), null);\n                        setType(_type);\n                        setMessage('');\n                        setCategory(_category);\n                        setRating(null);\n                        setEmail((user === null || user === void 0 ? void 0 : user.email) || '');\n                        onSubmitted === null || onSubmitted === void 0 ? void 0 : onSubmitted();\n                        grecaptcha.reset();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        addErrorAlert(external_React_default().createElement(ErrorMessage, { err: e_1.response.data.type }));\n                        return [3 /*break*/, 4];\n                    case 4:\n                        setLoading(false);\n                        return [2 /*return*/];\n                }\n            });\n        }); } },\n        !_type &&\n            external_React_default().createElement(FormRow, { label: t('feedbackForm.feedbackTypeLabel', 'Subject') },\n                external_React_default().createElement(F3Select, { className: 'form-select', getLabel: function (val) {\n                        switch (val) {\n                            case 'ACCOUNT': return t('feedbackForm.feedbackType.account', 'Account Question / Subscription Cancellation');\n                            case 'AFFILIATE': return t('feedbackForm.feedbackType.affiliate', 'Affiliate Partnership');\n                            case 'SITE_PROBLEM': return t('feedbackForm.feedbackType.site', 'Site Question or Problem');\n                            case 'CONTENT': return t('feedbackForm.feedbackType.content', 'Content Inquiry');\n                            case 'BUSINESS_INQUIRY': return t('feedbackForm.feedbackType.business', 'Business or Press Inquiry');\n                            case 'INSTITUTION': return t('feedbackForm.feedbackType.institution', 'Institutional Issue');\n                            case 'FEEDBACK': return t('feedbackForm.feedbackType.feedback', 'General Feedback');\n                        }\n                    }, onValueChange: function (type) {\n                        setType(type);\n                        if (!category) {\n                            setCategory(feedbackTypeToCategory(type));\n                        }\n                    }, required: true, value: type, values: f3Domain === 'FOLD3_US' ? ['ACCOUNT', 'AFFILIATE', 'SITE_PROBLEM', 'CONTENT', 'BUSINESS_INQUIRY', 'INSTITUTION', 'FEEDBACK'] : ['ACCOUNT', 'AFFILIATE', 'SITE_PROBLEM', 'CONTENT', 'BUSINESS_INQUIRY', 'FEEDBACK'] })),\n        !_category &&\n            external_React_default().createElement(FormRow, { label: t('feedbackForm.feedbackCategoryLabel', 'Category') },\n                external_React_default().createElement(F3Select, { getLabel: function (val) {\n                        switch (val) {\n                            case 'ABUSE': return t('feedbackForm.category.abuse', 'Abuse');\n                            case 'CORRECTION': return t('feedbackForm.category.correction', 'Correction');\n                            case 'FEEDBACK': return t('feedbackForm.category.feedback', 'Feedback');\n                            case 'PROBLEM': return t('feedbackForm.category.problem', 'Problem');\n                        }\n                    }, onValueChange: setCategory, required: true, value: category, values: ['ABUSE', 'CORRECTION', 'FEEDBACK', 'PROBLEM'] })),\n        showRating &&\n            external_React_default().createElement(FormRow, { className: 'ratings', label: 'How would you rate your experience?' },\n                external_React_default().createElement(\"div\", { className: 'text-center text-md-start' },\n                    external_React_default().createElement(F3Button/* F3Button */.Vk, { \"aria-label\": 'Disliked', className: (0,classUtil/* classStr */.B)('lh-1', 'mr-2', 'border-0', 'fs-1', 'icon-f3', 'a2-icon-frown', rating === 1 && 'active'), onClick: function () { return setRating(1); }, outline: true }),\n                    external_React_default().createElement(F3Button/* F3Button */.Vk, { \"aria-label\": \"It's okay\", className: (0,classUtil/* classStr */.B)('lh-1', 'mr-2', 'border-0', 'fs-1', 'icon-f3', 'a2-icon-neutral', rating === 2 && 'active'), onClick: function () { return setRating(2); }, outline: true }),\n                    external_React_default().createElement(F3Button/* F3Button */.Vk, { \"aria-label\": 'I like it', className: (0,classUtil/* classStr */.B)('lh-1', 'mr-2', 'border-0', 'fs-1', 'icon-f3', 'a2-icon-smile', rating === 3 && 'active'), onClick: function () { return setRating(3); }, outline: true }))),\n        showFreeform &&\n            external_React_default().createElement(FormRow, { label: t('feedbackForm.enterMessage', 'Enter your message') },\n                external_React_default().createElement(F3TextArea, { className: 'form-control', cols: 50, onChange: function (e) { return setMessage(e.target.value); }, placeholder: freeformOptional ? t('feedbackForm.optional', '(Optional)') : '', required: true, rows: 5, validate: function (val) {\n                        if (freeformOptional)\n                            return;\n                        return validateLength(val, 'FEEDBACK');\n                    }, value: message })),\n        !user &&\n            external_React_default().createElement(FormRow, { label: t('feedbackForm.email', 'Your email') },\n                external_React_default().createElement(F3Input, { className: 'form-control', onChange: function (e) { return setEmail(e.target.value); }, required: true, type: 'email', value: email })),\n        external_React_default().createElement(F3SpamInput, null),\n        external_React_default().createElement(\"div\", { className: 'row mb-2' },\n            external_React_default().createElement(\"div\", { className: 'offset-md-3 col' },\n                external_React_default().createElement(CaptchaCheckbox, { onCaptchaResponse: onCaptchaResponse }))),\n        external_React_default().createElement(\"div\", { className: 'row mb-2' },\n            external_React_default().createElement(\"div\", { className: 'offset-md-3 col' },\n                external_React_default().createElement(F3Button/* SubmitButton */.Mm, null, t('feedbackForm.submit', 'Send Message')))));\n};\nvar SuccessMessage = function (_a) {\n    var type = _a.type, _b = _a.category, category = _b === void 0 ? feedbackTypeToCategory(type) : _b;\n    var siteName = (0,useDomain/* useDomain */.a)().siteName;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    switch (category) {\n        case 'ABUSE':\n        case 'FEEDBACK':\n        case 'PROBLEM':\n            switch (type) {\n                case 'BETA':\n                case 'FEEDBACK':\n                    return external_React_default().createElement(\"span\", null, t('successMessage.feedback.thanks', 'Thank you for your feedback.'));\n                default:\n                    return external_React_default().createElement(\"div\", null,\n                        external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'successMessage.feedback.other', t: t },\n                            external_React_default().createElement(\"p\", null,\n                                external_React_default().createElement(\"b\", null,\n                                    \"Thank you for contacting \",\n                                    external_React_default().createElement(\"span\", null, { siteName: siteName }),\n                                    \".\"),\n                                \" We have received your message.\"),\n                            external_React_default().createElement(\"p\", null,\n                                \"We want to assure you that your message is very important to us. You should receive a response within \",\n                                external_React_default().createElement(\"b\", null, \"1-2 business days\"),\n                                \". We will respond to all messages in the order in which they are received.\"),\n                            external_React_default().createElement(\"p\", { className: 'text-muted' }, \"Please note that submitting another message about the same issue will not expedite service.\")));\n            }\n        case 'CORRECTION':\n            return external_React_default().createElement(\"span\", null, t('successMessage.feedback.correction', 'Thank you for your contribution.'));\n    }\n};\nvar ErrorMessage = function (_a) {\n    var err = _a.err;\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    var msg;\n    switch (err) {\n        case 'EMAIL':\n            msg = t('errorMessage.email', 'Please enter a valid email');\n            break;\n        case 'MESSAGE':\n            msg = t('errorMessage.message', 'Please enter a message between 10 and 1000 characters');\n            break;\n        case 'TYPE':\n            msg = t('errorMessage.type', 'Please select a subject');\n            break;\n        case 'CATEGORY':\n            msg = t('errorMessage.category', 'Please select a category');\n            break;\n        case 'RATING':\n            msg = t('errorMessage.rating', 'Please select a rating');\n            break;\n        default:\n            msg = t('errorMessage.other', 'There was an error with your submission. Please try again.');\n            break;\n    }\n    return external_React_default().createElement(\"span\", null, msg);\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/feedback/FeedbackDialog.tsx\n\n\n\n\n\n\nvar FeedbackDialog = function (_a) {\n    var rest = (0,tslib_es6/* __rest */._T)(_a, []);\n    var closeDialog = (0,useDialogs/* useDialogs */.q)().closeDialog;\n    return external_React_default().createElement(Dialog, { closeable: true, title: (0,external_i18next_.t)('feedbackDialog.provideFeedback', 'Please provide your feedback', { ns: 'components' }) },\n        external_React_default().createElement(FeedbackForm, (0,tslib_es6/* __assign */.pi)({}, rest, { onSubmitted: closeDialog })));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/beta/BetaBanner.tsx\n\n\n\n\n\n\n\n\n\n\n\nvar CustomerBetaBanner = function (_a) {\n    var userTag = _a.userTag;\n    var f3Domain = (0,external_React_.useContext)(fold3PageContext/* Fold3PageContext */.h).f3Domain;\n    var openDialog = (0,useDialogs/* useDialogs */.q)().openDialog;\n    var _b = (0,tslib_es6/* __read */.CR)((0,external_React_.useState)(null), 2), banners = _b[0], setBanners = _b[1];\n    var location = (0,external_ReactRouterDOM_.useLocation)();\n    var t = (0,external_ReactI18next_.useTranslation)('components').t;\n    (0,useAsyncEffect/* useAsyncEffect */.b)(function () { return (0,tslib_es6/* __awaiter */.mG)(void 0, void 0, void 0, function () {\n        var banners;\n        return (0,tslib_es6/* __generator */.Jh)(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, new BetaApi().listBetaBanners('ACTIVE')];\n                case 1:\n                    banners = _a.sent();\n                    setBanners(banners);\n                    return [2 /*return*/];\n            }\n        });\n    }); }, []);\n    var banner = (0,external_React_.useMemo)(function () {\n        if (!banners)\n            return;\n        if (userTag) {\n            return banners.find(function (b) { return b.userTag === userTag; });\n        }\n        var pathname = location.pathname, search = location.search;\n        var path = \"\".concat(pathname).concat(search);\n        return banners === null || banners === void 0 ? void 0 : banners.find(function (b) {\n            return b.pathRegex ?\n                new RegExp(b.pathRegex).test(path) && b.domain === f3Domain :\n                false;\n        });\n    }, [banners, location]);\n    if (!banner)\n        return null;\n    return external_ReactDOM_default().createPortal(external_React_default().createElement(\"div\", { className: 'd-print-none', suppressHydrationWarning: true },\n        external_React_default().createElement(\"div\", { className: 'alert alert-warning border-0 mb-0 p-2 text-center' },\n            external_React_default().createElement(\"span\", null,\n                (banner === null || banner === void 0 ? void 0 : banner.message) ?\n                    external_React_default().createElement(\"span\", { className: 'icon-f3 icon-warning', dangerouslySetInnerHTML: { __html: banner === null || banner === void 0 ? void 0 : banner.message } }) :\n                    external_React_default().createElement(\"span\", null, t('betaBanner.warning', 'This page is currently in BETA.')),\n                (banner === null || banner === void 0 ? void 0 : banner.includeFeedbackButton) &&\n                    external_React_default().createElement(external_ReactI18next_.Trans, { i18nKey: 'betaBanner.bannerText', t: t },\n                        \"We would love your\",\n                        external_React_default().createElement(F3Button/* F3Button */.Vk, { btnType: 'link', className: 'p-0 mx-1 align-baseline', onClick: function () {\n                                openDialog(external_React_default().createElement(FeedbackDialog, { category: 'FEEDBACK', freeformOptional: true, type: 'BETA' }));\n                            } },\n                            external_React_default().createElement(\"u\", null, \"feedback\")),\n                        \"about your experience.\")))), document.querySelector('#betaBanner'));\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/components/dialogs/Dialogs.tsx\n\n\nvar Dialogs = function () {\n    var dialogs = (0,useDialogs/* useDialogs */.q)().dialogs;\n    if ((dialogs === null || dialogs === void 0 ? void 0 : dialogs.length) === 0)\n        return null;\n    return external_React_default().createElement((external_React_default()).Fragment, null, dialogs.map(function (dialog, i, arr) {\n        return external_React_default().createElement(\"div\", { key: i, className: i === arr.length - 1 ? 'visible' : 'invisible' }, dialog);\n    }));\n};\n\n// EXTERNAL MODULE: ./src/ts/shared/components/sidebars/PageSidebars.tsx\nvar PageSidebars = __webpack_require__(52035);\n;// CONCATENATED MODULE: ./src/ts/shared/components/BasePage.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\narrayAt();\nvar BasePage = function (_a) {\n    var children = _a.children, content = _a.content, displayRef = _a.displayRef;\n    var siteType = (0,useDomain/* useDomain */.a)().siteType;\n    var _b = (0,useUser/* useUser */.a)(), user = _b.user, institution = _b.institution, isSilo = _b.isSilo;\n    var _c = (0,external_React_.useContext)(fold3PageContext/* Fold3PageContext */.h), requestCountry = _c.requestCountry, f3Domain = _c.f3Domain;\n    var openDialog = (0,useDialogs/* useDialogs */.q)().openDialog;\n    var local = (0,useStorage/* useStorage */.y)().local;\n    var navigate = (0,external_ReactRouterDOM_.useNavigate)();\n    /* These dialogs can stack. If one is dismissed, the other one will show up until the user has resolved them all. */\n    (0,external_React_.useEffect)(function () {\n        var _a, _b;\n        var action = 'VIEW';\n        if (content && !(0,contentRuntime/* isAllowed */.yy)(content, [action])) {\n            var contentType = (displayRef === null || displayRef === void 0 ? void 0 : displayRef.contentType) || (0,contentMetadata/* getWrappedContentType */.Rf)(content);\n            var objectId = (displayRef === null || displayRef === void 0 ? void 0 : displayRef.objectId) || (0,contentMetadata/* getWrappedContentId */.OW)(content);\n            openDialog(external_React_default().createElement(Deny, { action: action, closeable: true, contentType: contentType, id: objectId, onClose: function () {\n                    if (history.length > 1) {\n                        navigate(-1);\n                    }\n                    else {\n                        navigate('/');\n                    }\n                    return false;\n                }, publicationId: (0,contentRuntime/* getPublicationId */.R)(content), requirement: isSilo ? 'silo' : minAccountStatusToDenyRequirement((0,contentRuntime/* checkAction */.Rj)(content, action)) }));\n        }\n        if ((_b = (_a = window === null || window === void 0 ? void 0 : window.F3) === null || _a === void 0 ? void 0 : _a.page) === null || _b === void 0 ? void 0 : _b.image) {\n            // just don't show this dialog in the old viewer. It's going away soon and is messy to handle the interaction\n            return;\n        }\n        if (isTesting())\n            return;\n        /* This will only show if they were redirected from an old FWR page and they haven't already dismissed it. */\n        if (siteType === 'FWR' && !local.get(NEW_FWR_DOMAIN_KEY) && (0,clientCookies/* getCookie */.ej)(cookies_enum/* COOKIES */.E9.FWR_REDIRECT)) {\n            openDialog(external_React_default().createElement(NewFWRWelcomeDialog, null));\n        }\n        /* Domains are arranged in order of their precedence */\n        var possibleDomains = [\n            user === null || user === void 0 ? void 0 : user.registrationDomain,\n            institution === null || institution === void 0 ? void 0 : institution.domain,\n            (0,localization_domain/* getDomainForISOCountry */.SX)(requestCountry),\n        ].filter(function (x) { return !!x; });\n        if (possibleDomains.length > 0 && // no possible domains. They are signed out, not at a domain, and have no request country, or a request country we don't support like Tajikistan\n            !possibleDomains.includes(f3Domain) && // none of the possible domains matches the domain they are currently at\n            !local.get(DOMAIN_DIALOG_CLOSED) && // they haven't already dismissed the mismatch dialog\n            !(0,clientCookies/* getCookie */.ej)(cookies_enum/* COOKIES */.E9.CHOOSE_DOMAIN) // they didn't just come from the choose domain page\n        ) {\n            var recommendedDomain = possibleDomains[0];\n            openDialog(external_React_default().createElement(DomainMismatchDialog, { recommendedDomain: recommendedDomain }));\n        }\n    }, []);\n    return external_React_default().createElement((external_React_default()).Fragment, null,\n        external_React_default().createElement(Dialogs, null),\n        external_React_default().createElement(Alerts, null),\n        external_React_default().createElement(ClientRender, null,\n            external_React_default().createElement(PageSidebars/* PageSidebars */.y, null),\n            external_React_default().createElement(CustomerBetaBanner, null)),\n        children);\n};\n\n;// CONCATENATED MODULE: ./src/ts/shared/pages/index-records/IndexRecordPage.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar IndexRecordPage = function (_a) {\n    var content = _a.content, relations = _a.relations;\n    var context = useContentContext({\n        initialContent: content,\n        initialRelations: relations,\n        ComputedValuesClass: IndexRecordComputedValues,\n        ContentApi: IndexRecordApi,\n    });\n    var addRecentContentView = useRecentViews().addRecentContentView;\n    var location = (0,external_ReactRouterDOM_.useLocation)();\n    var onBrowsePage = location.pathname === getIndexRecordPageTabPath(context.content, 'BROWSE');\n    (0,external_React_.useEffect)(function () {\n        addRecentContentView(content);\n    }, []);\n    var a = context.computedValues.groupedElements.LINK;\n    return external_React_default().createElement(IndexRecordContentContext.Provider, { value: context },\n        external_React_default().createElement(BasePage, { content: content },\n            external_React_default().createElement(external_ReactRouterDOM_.Routes, null,\n                external_React_default().createElement(external_ReactRouterDOM_.Route, { element: external_React_default().createElement(\"div\", { className: 'position-relative pt-2 pt-md-4' },\n                        external_React_default().createElement(\"div\", { className: 'w-100 top-0 start-0 banner d-print-none position-absolute h-50 bg-light' }),\n                        external_React_default().createElement(\"div\", { className: ' container-md' },\n                            external_React_default().createElement(\"div\", { className: 'row justify-content-center' },\n                                external_React_default().createElement(\"div\", { className: 'col-12 col-md-10 position-relative bg-white mx-auto mb-2 border', id: 'record-page' },\n                                    external_React_default().createElement(IndexRecordHeader, null),\n                                    external_React_default().createElement(IndexRecordTitle, null),\n                                    external_React_default().createElement(IndexRecordNavigation, null),\n                                    external_React_default().createElement(\"div\", { className: 'mt-3', id: \"tabs\".concat(onBrowsePage ? ' full-width' : '') },\n                                        external_React_default().createElement(external_ReactRouterDOM_.Outlet, null)))))), path: '/record/:recordId/:slug/*' },\n                    external_React_default().createElement(external_ReactRouterDOM_.Route, { element: external_React_default().createElement(IndexRecordInfoTab, null), index: true }),\n                    external_React_default().createElement(external_ReactRouterDOM_.Route, { element: external_React_default().createElement(IndexRecordMemorialsTab, null), path: 'memorials' }),\n                    external_React_default().createElement(external_ReactRouterDOM_.Route, { element: external_React_default().createElement(IndexRecordCommentsTab, null), path: 'comments' }),\n                    external_React_default().createElement(external_ReactRouterDOM_.Route, { element: external_React_default().createElement(IndexRecordBrowseTab, null), path: 'browse' })))));\n};\ntryHydrate(IndexRecordPage);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDE4NTguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUE4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUM3RkE7QUFFQTtBQUFBO0FBWUE7QUFYQTtBQUFBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzs7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTs7Ozs7O0FDZkE7QUFDQTtBQWlCQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBOzs7Ozs7Ozs7QUFFQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDN0lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBSUE7QUFBQTtBQXVDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEzSEE7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBOzs7QUFBQTtBQUNBO0FBQUE7OztBQUFBO0FBQ0E7QUFBQTs7O0FBQUE7QUFDQTtBQUFBOzs7QUFBQTtBQUVBO0FBQUE7OztBQUFBO0FBRUE7QUFBQTs7O0FBQUE7QUFDQTtBQUFBOzs7QUFBQTtBQUVBO0FBQUE7OztBQUFBO0FBQ0E7QUFBQTs7O0FBQUE7QUFFQTtBQUFBOzs7QUFBQTtBQUNBO0FBQUE7OztBQUFBO0FBQ0E7QUFBQTs7O0FBQUE7QUFDQTtBQUFBOzs7QUFBQTtBQUVBO0FBQUE7OztBQUFBO0FBRUE7QUFBQTs7O0FBQUE7QUFDQTtBQUFBOzs7QUFBQTtBQStFQTtBQUNBO0FBQ0E7QUFRQTtBQUFBOzs7OztBQzFJQTtBQUdBO0FBQUE7QUFBQTs7QUFFQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7O0FDSEE7QUFDQTtBQUNBOzs7Ozs7QUNKQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTs7O0FBQ0E7QUFFQTs7Ozs7QUFDQTtBQUNBOztBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBRUE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7Ozs7QUMzSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQzNEQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQVdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFQQTtBQVNBOzs7QUFDQTtBQUVBOzs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBSEE7QUFLQTs7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDNUZBOzs7Ozs7Ozs7O0FDRUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBT0E7QUFMQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUFBOzs7Ozs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDcEVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUdBOzs7O0FDbENBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7O0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTs7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7Ozs7QUFLQTs7Ozs7QUFFQTs7Ozs7QUNsREE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7Ozs7QUM3REE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQy9CQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFPQTtBQVBBOztBQW9NQTtBQXpMQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRkE7QUFJQTs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBOzs7O0FBQ0E7QUFDQTtBQUlBOztBQUxBO0FBT0E7Ozs7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBOzs7OztBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBOztBQU5BO0FBUUE7Ozs7QUFDQTtBQUVBO0FBQUE7Ozs7O0FBQ0E7QUFFQTs7QUFBQTtBQUNBOzs7O0FBQ0E7QUFFQTtBQUFBOzs7OztBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7O0FBRkE7QUFJQTs7OztBQUNBO0FBRUE7Ozs7O0FBS0E7QUFFQTs7O0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTs7Ozs7QUNsTkE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBYUE7QUFYQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBSUE7QUFNQTtBQUNBO0FBUUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBOzs7O0FBR0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQU1BOzs7QUM3TUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7O0FDdEJBO0FBQ0E7QUFPQTtBQUVBO0FBQUE7QUFDQTtBQVVBOzs7O0FDckJBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTs7QUFBQTtBQUNBOztBQUdBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7Ozs7QUFHQTs7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFFQTs7Ozs7QUFFQTtBQUtBOzs7O0FDaEZBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQU1BO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7OztBQzdDQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBR0E7QUFNQTtBQUNBO0FBR0E7Ozs7QUNoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFFQTs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFTQTs7Ozs7QUFHQTs7OztBQUtBO0FBQ0E7QUFDQTs7QUFBQTs7QUFFQTs7QUFBQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7O0FBR0E7QUFDQTs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFXQTs7Ozs7OztBQzlGQTtBQUNBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FDbERBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7Ozs7Ozs7OztBQ1ZBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7OztBQ3RFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvQkE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQVNBO0FBV0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFNQTs7Ozs7O0FDM0hBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBNERBO0FBMURBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7Ozs7OztBQ2hFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBK1BBO0FBN1BBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7Ozs7QUFDQTs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7OztBQ3hRQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDSEE7QUFFQTtBQUVBOzs7O0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBOzs7OztBQUVBOzs7Ozs7Ozs7O0FDWkE7QUFDQTtBQVFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTs7OztBQzNCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFRQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7OztBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQU1BO0FBTUE7QUFBQTtBQUNBO0FBSUE7OztBQ2pHQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBS0E7Ozs7QUN2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTs7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFHQTs7OztBQzdEQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBR0E7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7O0FBREE7QUFDQTs7O0FBR0E7Ozs7QUFFQTtBQUNBOzs7OztBQUVBO0FBRUE7QUFLQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUlBOzs7QUN2RUE7QUFxQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7QUNwSkE7QUFFQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFHQTtBQUdBO0FBSUE7Ozs7QUNqQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBR0E7QUFFQTtBQUdBO0FBQ0E7O0FBQUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBRUE7QUFDQTtBQUNBOzs7QUFJQTs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFNQTs7QUFBQTtBQUNBOzs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBT0E7QUFDQTtBQUVBO0FBQUE7QUFFQTs7O0FBR0E7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUdBO0FBTUE7QUFDQTtBQUdBOzs7O0FDaE1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTs7Ozs7QUFPQTtBQUNBOzs7O0FBR0E7O0FBQUE7QUFDQTs7OztBQUVBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFBQTtBQUNBOztBQUdBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7Ozs7O0FBRUE7QUFHQTtBQUNBO0FBQ0E7O0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQWNBO0FBSUE7QUFDQTtBQUNBO0FBWUE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBTUE7Ozs7QUMzSkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7O0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTs7Ozs7O0FBSUE7O0FBQUE7QUFDQTs7OztBQUVBOzs7QUFDQTs7OztBQUNBO0FBS0E7Ozs7QUNqRkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7O0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFHQTs7Ozs7O0FBSUE7O0FBQUE7QUFDQTs7OztBQUVBOzs7QUFDQTs7OztBQUNBO0FBR0E7Ozs7QUMxQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBSUE7QUFLQTtBQUVBOztBQUFBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTs7O0FDakZBOzs7OztBQ0FBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUN6QkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTs7QUFDQTs7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBR0E7QUFDQTs7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBQ0E7O0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBOzs7O0FBR0E7O0FBQUE7QUFDQTs7OztBQUVBOzs7QUFHQTs7OztBQUNBO0FBUUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBOztBQUNBOztBQUFBO0FBQ0E7QUFJQTs7O0FDMUpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBRUE7QUFDQTs7QUFBQTtBQUVBO0FBQ0E7O0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBRUE7QUFDQTs7QUFBQTtBQUVBO0FBQ0E7O0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7OztBQzdKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBQUE7O0FBQUE7QUFDQTtBQUdBO0FBQ0E7O0FBQ0E7O0FBQUE7O0FBQUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFLQTs7OztBQ3ZFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBSEE7QUFDQTs7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7OztBQzlLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDcEJBO0FBY0E7QUFDQTtBQUFBO0FBSUE7QUFBQTtBQUhBO0FBQ0E7O0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7Ozs7QUN4SUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBOzs7O0FBQ0E7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBQ0E7QUFFQTtBQUNBOzs7QUNwQkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1RBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7Ozs7OztBQ3pHQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7Ozs7QUNwR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7Ozs7OztBQzlFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUVBO0FBQ0E7O0FBQUE7QUFHQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUFBO0FBR0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBSUE7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQVlBOzs7O0FDcExBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBc0JBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7O0FBQ0E7O0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDNUxBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDdENBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7O0FDcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBRUE7OztBQ25DQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBV0E7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBOztBQVVBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBOzs7O0FBSUE7O0FBQUE7Ozs7QUFFQTs7QUFBQTtBQUNBO0FBQ0E7Ozs7QUFFQTs7Ozs7QUFHQTtBQUtBO0FBQ0E7QUFJQTtBQUNBO0FBU0E7QUFLQTs7Ozs7O0FDekxBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEyREE7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7Ozs7QUFLQTs7QUFBQTtBQUNBOzs7O0FBQ0E7QUFJQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDekpBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFvRUE7QUFsRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUhBO0FBSUE7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzs7Ozs7QUMzRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFLQTtBQUVBO0FBRUE7QUFrQkE7Ozs7O0FDMUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDaElBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFPQTtBQUxBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7OztBQ2RBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDZEE7QUFDQTtBQWVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7OztBQzdCQTtBQVVBO0FBQ0E7QUFNQTtBQUlBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFTQTtBQUtBO0FBR0E7Ozs7QUM5Q0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOzs7O0FDekJBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBTUE7Ozs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOztBQUFBO0FBRUE7QUFDQTs7OztBQUVBO0FBQ0E7QUFDQTs7OztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUNBO0FBTUE7QUFLQTtBQVdBO0FBQ0E7QUFHQTtBQVFBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7Ozs7QUN6SUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFJQTtBQUNBOzs7O0FDZEE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7O0FDWkE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDTEE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7O0FBQUE7QUFFQTtBQUNBOztBQUVBOztBQUFBO0FBRUE7Ozs7O0FBRUE7QUFPQTs7OztBQ2pEQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFOQTs7O0FBU0E7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFVQTtBQUlBO0FBR0E7QUFRQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBTUE7QUFFQTtBQUNBO0FBR0E7QUFRQTtBQUdBO0FBR0E7QUFDQTtBQU1BO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFrQkE7OztBQ3hSQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBS0E7OztBQ2pFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFXQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFFQTtBQUdBO0FBRUE7QUFNQTs7OztBQ3BFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBV0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBWUE7Ozs7QUM5REE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFnQ0E7QUE5QkE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7Ozs7OztBQ3RDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBS0E7OztBQ1pBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBVUE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFXQTs7OztBQ3hEQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFXQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBOztBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFJQTtBQUNBO0FBR0E7QUFZQTs7Ozs7O0FDN0pBO0FBQ0E7QUFDQTtBQW9CQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFpS0E7QUEvSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSEE7QUFLQTs7OztBQUNBO0FBRUE7QUFDQTs7Ozs7O0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQU5BO0FBVUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBQ0E7QUFFQTtBQUNBOztBQUFBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSEE7QUFNQTtBQUVBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7O0FDekxBO0FBQ0E7QUFhQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUF5REE7QUF2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTs7OztBQUNBO0FBQ0E7QUFDQTs7QUFGQTtBQUlBOzs7O0FBQ0E7QUFFQTtBQUFBOzs7O0FBQ0E7QUFDQTtBQUNBOztBQUZBO0FBSUE7Ozs7QUFDQTtBQUVBO0FBQUE7Ozs7QUFDQTtBQUNBO0FBQ0E7O0FBRkE7QUFJQTs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7O0FDN0VBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFDQTtBQUFBO0FBQUE7Ozs7O0FDSEE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQWtDQTtBQWhDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFKQTtBQU1BOzs7O0FBQ0E7QUFDQTtBQUFBOzs7Ozs7OztBQ3ZDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7OztBQzdEQTtBQUVBO0FBQ0E7QUFjQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBRkE7O0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7Ozs7Ozs7QUNuQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFhQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOzs7QUFHQTtBQUVBOzs7OztBQUtBO0FBRUE7OztBQUdBO0FBRUE7QUFFQTtBQUNBOzs7QUNuVUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDZkE7QUFBQTtBQUFBOzs7Ozs7QUFFQTs7QUFBQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7Ozs7O0FBRUE7Ozs7OztBQ1ZBO0FBQ0E7QUFDQTtBQVdBO0FBQUE7QUFBQTs7QUFpQ0E7QUFoQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7Ozs7O0FDOUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQWVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQU1BO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQVVBOzs7O0FDdEVBO0FBRUE7QUFDQTtBQWlCQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFXQTtBQUNBO0FBR0E7QUFHQTs7OztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBQ0E7O0FBQUE7QUFDQTtBQUVBO0FBRUE7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOzs7O0FBQ0E7QUFFQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFPQTtBQUNBO0FBT0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQVFBO0FBQ0E7QUFDQTs7Ozs7QUFFQTtBQUNBOztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBQ0E7QUFFQTs7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUdBOzs7O0FDN05BO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBSUE7QUFFQTs7OztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUpBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFFQTs7OztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFFQTtBQUVBOzs7O0FDaEVBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFDQTs7OztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVNBO0FBTUE7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUVBO0FBV0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7QUFFQTs7O0FBR0E7QUFFQTs7Ozs7QUFLQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUMzSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQU1BO0FBQ0E7QUFHQTtBQUNBO0FBSUE7QUFJQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7Ozs7O0FBSUE7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFOQTtBQVFBOzs7O0FBRUE7Ozs7O0FBRUE7QUFFQTtBQUVBO0FBY0E7QUFNQTtBQUdBO0FBQ0E7Ozs7QUMzS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQVFBO0FBQ0E7QUFDQTs7OztBQUdBOztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBQ0E7QUFNQTtBQUNBO0FBS0E7QUFLQTs7OztBQy9FQTtBQUNBO0FBU0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQU1BO0FBRUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUdBOzs7QUM5Q0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFJQTtBQUdBOzs7O0FDdkNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBY0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOzs7OztBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBR0E7QUFDQTs7QUFBQTtBQUNBOzs7QUFFQTtBQUNBOzs7O0FBRUE7Ozs7O0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFJQTtBQUVBO0FBRUE7QUFDQTtBQU1BO0FBR0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQVFBO0FBR0E7Ozs7QUFJQTs7QUFBQTs7OztBQUVBOztBQUFBO0FBRUE7OztBQUdBO0FBQ0E7Ozs7QUFFQTs7Ozs7QUFHQTtBQVdBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQU9BO0FBYUE7Ozs7QUM1UUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7O0FBQ0E7QUFHQTtBQUNBOzs7O0FBRUE7O0FBQUE7QUFDQTs7OztBQUNBOzs7O0FBS0E7O0FBQUE7QUFDQTs7OztBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFhQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUtBO0FBU0E7QUFLQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFRQTs7OztBQzVKQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUFBO0FBQUE7Ozs7O0FDVkE7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFBQTtBQUFBOzs7OztBQ1ZBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBOENBO0FBNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBOzs7O0FBQ0E7QUFDQTtBQUNBOztBQUZBO0FBSUE7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7O0FDdERBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQUE7QUFBQTs7Ozs7QUNaQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFTQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYUE7QUFBQTs7Ozs7QUM1QkE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBOztBQUNBO0FBQUE7QUFBQTs7Ozs7QUNIQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFBQTtBQUFBOzs7OztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUFBOztBQUlBO0FBQUE7QUFBQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQzNDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtCQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBRUE7QUFBQTs7Ozs7O0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBQUE7QUFFQTs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FDdklBO0FBR0E7QUFDQTtBQUNBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7OztBQ3JQQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFLQTtBQUlBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFFQTs7Ozs7QUFFQTtBQU9BO0FBQ0E7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBUUE7QUFDQTs7QUFBQTtBQUtBO0FBR0E7QUFLQTs7OztBQ2pMQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUNBOzs7O0FBR0E7O0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7Ozs7O0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFRQTtBQUNBOztBQUNBOztBQUFBOztBQUFBO0FBR0E7QUFFQTs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBR0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7O0FBQUE7QUFDQTtBQUVBOztBQUFBO0FBQ0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBRUE7QUFJQTs7OztBQzdJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBRUE7QUFPQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7O0FBQUE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBT0E7QUFDQTtBQU1BO0FBS0E7QUFFQTs7OztBQUdBOztBQUFBOzs7O0FBRUE7O0FBQUE7QUFDQTtBQUNBOzs7O0FBRUE7Ozs7O0FBR0E7QUFJQTtBQUtBO0FBS0E7OztBQ2xNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBS0E7Ozs7Ozs7Ozs7Ozs7O0FDN0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDN0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQzVCQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUF5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBS0E7QUFVQTtBQXdCQTtBQUlBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDMUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNsVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUMvTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWVBOzs7Ozs7Ozs7QUM5SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXlOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQy9nREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDdEJBO0FBSUE7OztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDM0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvQ0E7OztBQzdMQTs7Ozs7O0FDQUE7QUFRQTs7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFHQTs7O0FDM0tBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUMvTUE7QUFDQTtBQUNBO0FBQ0E7OztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ptQkE7QUFHQTtBQUlBO0FBSUE7QUFNQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNqSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFtQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzVSQTtBQUNBO0FBQ0E7OztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFGQTtBQUNBO0FBQ0E7OztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9SQTtBQUNBO0FBQ0E7Ozs7OztBQ0ZBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFNQTtBQUtBO0FBQ0E7QUFDQTtBQUNBOzs7QUN6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFrR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN6V0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdE1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFvQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzdjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDdERBO0FBQ0E7QUFDQTtBQUNBOzs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3AxQkE7QUFDQTtBQUNBOzs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqRkE7QUFDQTtBQUNBOzs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4RUE7QUFTQTtBQVdBO0FBYUE7QUFRQTtBQXdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNyRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNoRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDaGxCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW1DQTs7O0FDaFFBO0FBQ0E7QUFDQTs7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDVkE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFlQTtBQWJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzs7OztBQ3JCQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTRDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNsaEVBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBd0RBO0FBdERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7Ozs7OztBQy9EQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQkE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWdCQTtBQUFBOzs7Ozs7OztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBOztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7OztBQUNBO0FBRUE7Ozs7QUFDQTs7QUFBQTtBQUNBO0FBQUE7OztBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUEzQkE7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7O0FBU0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7O0FDbG5CQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBeUlBO0FBdklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBQ0E7QUFDQTs7O0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7O0FBQUE7OztBQ25KQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFPQTtBQUdBOzs7Ozs7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7O0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBRUE7QUFFQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTs7QUFFQTs7QUFBQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUNBO0FBRUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUFBOztBQUFBO0FBS0E7QUFDQTtBQUtBO0FBQ0E7O0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUlBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDcE5BO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQU9BOzs7QUNoQkE7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXNCQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7Ozs7QUNqQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUVBOzs7QUFDQTs7QUFBQTtBQUNBOzs7O0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ2hDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUVBOztBQUNBO0FBQUE7QUFDQTtBQUFBOztBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBRUE7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBRUE7QUFFQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQW5KQTtBQUFBO0FBQUE7QUFvSkE7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFFQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1DQTtBQUVBOzs7QUFHQTtBQUVBOzs7QUFHQTtBQUVBOzs7OztBQUtBO0FBRUE7OztBQUdBO0FBRUE7Ozs7QUFJQTtBQUVBOzs7Ozs7O0FBT0E7QUFFQTs7O0FBR0E7QUFFQTs7Ozs7Ozs7QUFRQTtBQUVBOzs7Ozs7Ozs7OztBQVdBO0FBRUE7QUFFQTs7Ozs7QUFLQTtBQUVBOzs7OztBQUtBO0FBRUE7OztBQUdBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUVBOzs7Ozs7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7O0FBQ0E7O0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7Ozs7QUNyZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBZUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUdBOztBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7OztBQVFBO0FBQ0E7QUFDQTs7Ozs7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBS0E7QUFLQTtBQUdBO0FBTUE7QUFPQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFNQTtBQWtCQTtBQVVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBS0E7QUFLQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFRQTs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQVFBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFPQTtBQUtBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUdBO0FBUUE7QUFJQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBR0E7QUFDQTtBQVFBO0FBRUE7QUFJQTs7OztBQ3hkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXVCQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBSEE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBTUE7QUFDQTtBQUtBO0FBQ0E7QUFNQTtBQUNBO0FBR0E7QUFJQTtBQVdBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFVQTtBQUdBO0FBQ0E7QUFXQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7O0FDalVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTs7OztBQUNBOztBQUFBO0FBQ0E7QUFFQTs7OztBQUNBO0FBRUE7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQVFBOzs7QUNqRUE7QUFFQTtBQUNBO0FBQ0E7Ozs7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN0Q0E7QUFDQTtBQUVBO0FBU0E7QUFBQTtBQUNBO0FBTUE7QUFFQTtBQUNBO0FBTUE7OztBQzVCQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBSUE7Ozs7QUN2Q0E7QUFNQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7Ozs7OztBQ2ZBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7Ozs7QUN2QkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUNBOztBQUNBOztBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQU9BO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTs7QUFDQTs7QUFBQTs7QUFBQTtBQUtBOzs7QUMvR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQU1BO0FBSUE7Ozs7QUNoRkE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUEwREE7QUF4REE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7OztBQzlEQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTs7OztBQzVDQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUVBOzs7O0FDeENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQVRBO0FBV0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTs7OztBQUVBOzs7QUFHQTs7OztBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBTUE7QUFVQTtBQUNBO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUNBOztBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDalFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7Ozs7QUNqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBQ0E7O0FBQUE7QUFDQTs7OztBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBOztBQUVBO0FBSUE7QUFLQTtBQUVBO0FBR0E7QUFPQTs7O0FDbEZBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBR0E7QUFDQTtBQUdBOzs7OztBQ2ZBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOzs7QUN6R0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFJQTtBQUlBO0FBSUE7QUFRQTtBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbnRleHQvY29udGVudENvbnRleHQudHM/YWEwYyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL0NvbXB1dGVkQ2xhc3MudHM/NGNhNyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL3V1aWRUb0RhdGUudHM/ZDk4ZiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2NvbnRlbnQvY29udGVudEVsZW1lbnRzLnRzP2Y5MjQiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9jb250ZW50L2NvbnRlbnRDb21wdXRlZFZhbHVlcy50cz82MmVjIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvY29udGVudC9pbmRleC1yZWNvcmRzL2luZGV4UmVjb3JkQ29tcHV0ZWRWYWx1ZXMudHM/YzZlNCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2NvbnRlbnQvY29udGVudERvY3VtZW50LnRzP2ExZmQiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9jb250ZW50L2NvbnRlbnQudHM/ZjFlOCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2NvbnRlbnQvY29udGVudFJlbGF0aW9ucy50cz80OGI2Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvaG9va3MvdXNlQ29udGVudENvbnRleHQudHM/YThlZSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC9leHRlcm5hbCB2YXIgXCJpMThuZXh0SHR0cEJhY2tlbmRcIj9lZjU3Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9hcGlzL2NhY2hlQXBpLnRzP2U1NWQiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9sb2NhbGl6YXRpb24vY29udGVudExvY2FsaXphdGlvbklkLnRzPzg3MDUiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9sb2NhbGl6YXRpb24vaTE4bi50cz9lNjcyIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvdHJ5SHlkcmF0ZS50c3g/MWFkMyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zZXJ2ZXIvbGliL2NvbnRlbnRWYWxpZGF0aW9uLnRzP2Q4N2YiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9jb250ZW50L2Rlc2VyaWFsaXplUnVudGltZVByb3BlcnRpZXNPdGhlci50cz8zOTJlIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9hcGlzL2NvbnRlbnRBcGkudHM/MmJjNCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvYXBpcy9pbmRleFJlY29yZEFwaS50cz9jY2E1Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL2RpYWxvZ3MvRGlhbG9nLnRzeD8xNDQwIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvaG9va3MvdXNlU2hhcmVGb3J3YXJkZWRSZWYudHM/MjNmZCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9mb3Jtcy9GM1NwYW1JbnB1dC50c3g/Mjc0NyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9mb3Jtcy9GM0Zvcm0udHN4PzYwZGIiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9ob29rcy91c2VGb3JtVmFsaWRhdGlvbi50cz85YWYxIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL2Zvcm1zL0YzSW5wdXQudHN4PzE4OGEiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvQ29tbWVudEVsZW1lbnREaWFsb2cudHN4P2UwODgiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9jdXJyZW50VXNlci50cz85YjYwIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvZGVueVVybC50cz8wYWFiIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvaG9va3MvdXNlTG9jYWxpemVkQ29udGVudC50cz9mOGExIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL0FuY2VzdHJ5U1NPLnRzeD9lOTBmIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9hcGlzL25vZGVBcGkudHM/ZTRmZSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvYXBpcy91c2VyQXBpLnRzP2JmYjQiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2VudW1zL3VzZXJQcmVmZXJlbmNlLmVudW0udHM/MDFjYiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2NvbW11bmljYXRpb25zSGVscGVycy50cz8xNWY0Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL2Zvcm1zL0YzQ2hlY2tib3gudHN4PzJhNzciLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvQ2FwdGNoYUNoZWNrYm94LnRzeD9jYmE5Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL0NvbW11bmljYXRpb25zT3B0SW4udHN4PzlmZmUiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvVGVybXNBbmRDb25kaXRpb25zLnRzeD9hODg3Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL2xvZ2luL0FuY2VzdHJ5UmVnaXN0ZXJGb3JtLnRzeD83MzE2Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvaG9va3MvdXNlU3RyaW5nVmFsaWRhdGlvbi50cz9hMTBjIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL1Bhc3N3b3JkUmVxdWlyZW1lbnRzLnRzeD83ZGI2Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL0NoYW5nZVBhc3N3b3JkRm9ybS50c3g/ZWIyZSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9sb2dpbi9Gb2xkM0xvZ2luRm9ybS50c3g/MDhkMiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9sb2dpbi9BbmNlc3RyeU5vdEZvdW5kRm9ybS50c3g/OGI5OCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9sb2dpbi9BbmNlc3RyeVVubGlua2VkRm9ybS50c3g/ZmRhNyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9sb2dpbi9BbmNlc3RyeUxvZ2luRm9ybS50c3g/OGUzYSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9sb2dpbi9Mb2dpbkZvcm0udHN4PzcyZTMiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvZXh0ZXJuYWwgdmFyIFwiTWFpbGNoZWNrXCI/MjQxNiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2VtYWlsLnRzPzRkOTUiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvZGVueS9EZW55LUNvbmZpcm0udHN4PzNlOTUiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvZGVueS9EZW55LUxvZ2luLnRzeD9kZmQ2Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL2RlbnkvRGVueS1TaWxvLnRzeD8zYjRhIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9hcGlzL2NvbW1lcmNlQXBpLnRzPzUxYWYiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9ob29rcy91c2VMb2NhbGVDdXJyZW5jeS50cz8zY2U1Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9hcGlzL3B1YmxpY2F0aW9uQXBpLnRzPzJhMGUiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9ob29rcy91c2VSZWNvcmRDb3VudC50cz80Zjk1Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvc2hhcmVkRHluYW1pY0NvbmZpZy50cz9lNzdiIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvb2ZmZXJzLnRzP2EzZDAiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2VydmVyL2xpYi9jb29raWUudHM/ODhkMCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL3NvdXJjZUlkcy50cz81ZmYxIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL2RlbnkvRGVueS1TdWJzY3JpYmUudHN4PzlhMGEiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvZGVueS9EZW55LnRzeD8yMzU5Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvaG9va3MvdXNlQ29udGVudFBlcm1pc3Npb25zLnRzeD9lNzZkIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvaG9va3MvdXNlTG9jYWxlRGF0ZXMudHM/ODA3ZCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9Db25maXJtRGlhbG9nLnRzeD82MzQ5Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvaG9va3MvdXNlVmVyaWZ5LnRzPzRmYWUiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL3BhZ2VzL2luZGV4LXJlY29yZHMvSW5kZXhSZWNvcmRDb21tZW50c1RhYi50c3g/YTJmOCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9TYXZlVG9BbmNlc3RyeS50c3g/NjE2ZCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvYXBpcy90YWdBcGkudHM/NDQ0ZSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy90YWcvU2hhcmVCdXR0b24udHN4PzdhNGUiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2VudW1zL0tleUNvZGUuZW51bS50cz9mMTY5Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9hcGlzL3VzZXJSZXBvcnRBcGkudHM/MDAyZiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2hvb2tzL3VzZUNhcHRjaGFUb2tlbi50cz9kYTQ1Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9wYWdlcy9hZG1pbi9jb21wb25lbnRzL0Zvcm1Sb3cudHN4Pzc5NzMiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvZm9ybXMvRjNSYWRpby50c3g/N2ExNiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9mb3Jtcy9GM1RleHRBcmVhLnRzeD8zYTBiIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL1JlcG9ydERpYWxvZy50c3g/ZDAwMCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2hvb2tzL3VzZUxvY2FsaXplZFRhZ3MudHM/MmM5NiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2hvb2tzL3VzZVRhZ3MudHM/NzI5ZCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvcGFnZXMvZ2FsbGVyeS91dGlscy9nYWxsZXJ5VGFnLnRzPzRkNTMiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL3BhZ2VzL2dhbGxlcnkvdXRpbHMvZ2FsbGVyeVRlbXBsYXRpbmcudHM/MWQzYyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy90YWcvQm9va21hcmtUYWdQaWxsLnRzeD82MGYwIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL3RhZy9UYWdEcmF3ZXJDb250ZW50LnRzeD9hNGRkIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL3RhZy9UYWdEcmF3ZXIudHN4P2YwNjciLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvdGFnL1RhZ0J1dHRvbi50c3g/NDUzZiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9TaGFyZUJvb2ttYXJrVGFnQnV0dG9ucy50c3g/M2ZjYSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvYXBpcy9tYXJrZXRpbmdEb2N1bWVudEFwaS50cz8xMGJhIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL2xpc3QvUG9wb3V0LnRzeD9jYmQ4Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL3NoYXJlLWRpYWxvZy9FbWJlZFNoYXJlLnRzeD9hYjg4Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL3NoYXJlLWRpYWxvZy9TaGFyZURpYWxvZy50c3g/ZDY2MyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvYXBpcy9jb25uZWN0aW9uc0FwaS50cz9mODBmIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9hcGlzL21lbW9yaWFsU3ViamVjdEFwaS50cz80N2FkIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9hcGlzL21lbW9yaWFsQXBpLnRzPzIyOWIiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2FwaXMvb2JqZWN0UmVmZXJlbmNlQXBpLnRzPzQwYzYiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9mYWNldEhlbHBlcnMudHM/ZjkxNyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvYXBpcy9zZWFyY2hBcGkudHM/ODFmOCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL3JlY2VudFZpZXdzLnRzPzRlYWEiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9ob29rcy91c2VSZWNlbnRWaWV3cy50cz9kZTNmIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvb24udHM/MWFmNSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9QaWNrZXIudHN4PzBmNTkiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvTWVtb3JpYWxQaWNrZXIudHN4P2NjZWIiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvVGFiQmFyLnRzeD84ZmUzIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL01lbW9yaWFsUGlja2Vycy50c3g/ZThjYyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9NZW1vcmlhbFBpY2tlckRpYWxvZy50c3g/ZTJkOCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvcGFnZXMvaW5kZXgtcmVjb3Jkcy9JbmRleFJlY29yZE1lbW9yaWFsQ29ubmVjdGlvbkRpYWxvZy50c3g/MzlhNiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9CdXR0b25Hcm91cC50c3g/MzE1ZiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvcGFnZXMvaW5kZXgtcmVjb3Jkcy9JbmRleFJlY29yZE5hdmlnYXRpb24udHN4PzhiZTMiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL3BhZ2VzL2luZGV4LXJlY29yZHMvSW5kZXhSZWNvcmRBY3Rpb25zRHJvcGRvd24udHN4PzI3YWQiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL3BhZ2VzL2luZGV4LXJlY29yZHMvSW5kZXhSZWNvcmRIZWFkZXIudHN4PzMxOGEiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvRGVzY3JpcHRpb25MaXN0LnRzeD9hNjMxIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL0NvbnRlbnREb2N1bWVudExpbmtzLnRzeD9hNDQzIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL0NvbnRlbnRNZXRhZGF0YUxpc3QudHN4P2FlZDQiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL3BhZ2VzL2luZGV4LXJlY29yZHMvSW5kZXhSZWNvcmRJbmZvVGFiLnRzeD9jOTliIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9hcGlzL2JhdHRsZUFwaS50cz8zNjQ1Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9hcGlzL2NvbXBhbnlBcGkudHM/OGRkMiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvYXBpcy9pbWFnZURhdGFBcGkudHM/MWE3MCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvYXBpcy9yZWdpbWVudEFwaS50cz83ODRiIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9hcGlzL3N1YkltYWdlRGF0YUFwaS50cz81YWU1Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9hcGlzL3N1YmplY3RBcGkudHM/ZjgzNyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvYXBpcy91bml0QXBpLnRzPzdjZjUiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9jb250ZW50L2dldENvbnRlbnRBcGkudHM/MDZhZSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL21lbW9yaWFsSGVscGVycy50cz9hMTY1Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvY29udGVudC9tZW1vcmlhbHMvbWVtb3JpYWxDb250ZW50LnRzPzRhYTAiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL3BhZ2VzL21lbW9yaWFscy9mYWN0cy9TZWxlY3RGYWN0cy50c3g/OGM5ZiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvcGFnZXMvbWVtb3JpYWxzL2ZhY3RzL0ltcG9ydEZhY3RzRGlhbG9nLnRzeD9jNWZiIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9wYWdlcy9pbmRleC1yZWNvcmRzL0luZGV4UmVjb3JkTWVtb3JpYWxzVGFiLnRzeD8wMWE4Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9wYWdlcy9pbmRleC1yZWNvcmRzL0luZGV4UmVjb3JkVGl0bGUudHN4PzczZDQiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQvcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQuZXMuanM/NTQyMiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0dyaWQvdXRpbHMvY2FsY3VsYXRlU2l6ZUFuZFBvc2l0aW9uRGF0YUFuZFVwZGF0ZVNjcm9sbE9mZnNldC5qcz81NmM1Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvR3JpZC90eXBlcy5qcz9hYmNjIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvR3JpZC91dGlscy9DZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5qcz81NDg5Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvR3JpZC91dGlscy9tYXhFbGVtZW50U2l6ZS5qcz8xZTRmIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvR3JpZC91dGlscy9TY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuanM/OGI4NiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL3V0aWxzL2NyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIuanM/Yzg4YiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0dyaWQvZGVmYXVsdE92ZXJzY2FuSW5kaWNlc0dldHRlci5qcz80MThkIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvR3JpZC91dGlscy91cGRhdGVTY3JvbGxJbmRleEhlbHBlci5qcz8zY2Y2Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvR3JpZC9kZWZhdWx0Q2VsbFJhbmdlUmVuZGVyZXIuanM/M2E1YSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL3V0aWxzL2FuaW1hdGlvbkZyYW1lLmpzPzE3YTgiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy91dGlscy9yZXF1ZXN0QW5pbWF0aW9uVGltZW91dC5qcz8zNGJmIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvR3JpZC9HcmlkLmpzP2VmZmEiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9HcmlkL2FjY2Vzc2liaWxpdHlPdmVyc2NhbkluZGljZXNHZXR0ZXIuanM/MmYwOSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0dyaWQvaW5kZXguanM/NWMyNCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0Fycm93S2V5U3RlcHBlci90eXBlcy5qcz81NmY0Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvQXJyb3dLZXlTdGVwcGVyL0Fycm93S2V5U3RlcHBlci5qcz9lMTUxIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvQXJyb3dLZXlTdGVwcGVyL2luZGV4LmpzP2Q3YTEiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy92ZW5kb3IvZGV0ZWN0RWxlbWVudFJlc2l6ZS5qcz85YjQwIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvQXV0b1NpemVyL0F1dG9TaXplci5qcz9iOGZhIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvQXV0b1NpemVyL2luZGV4LmpzP2VjNmYiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9DZWxsTWVhc3VyZXIvdHlwZXMuanM/ZWRlMyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0NlbGxNZWFzdXJlci9DZWxsTWVhc3VyZXIuanM/MzRlNiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0NlbGxNZWFzdXJlci9DZWxsTWVhc3VyZXJDYWNoZS5qcz8wOWVmIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvQ2VsbE1lYXN1cmVyL2luZGV4LmpzPzZhNzYiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9Db2xsZWN0aW9uL0NvbGxlY3Rpb25WaWV3LmpzP2Q5YTgiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9Db2xsZWN0aW9uL3R5cGVzLmpzP2VlMjIiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9Db2xsZWN0aW9uL1NlY3Rpb24uanM/MmM2YSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0NvbGxlY3Rpb24vU2VjdGlvbk1hbmFnZXIuanM/MWYxMSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0NvbGxlY3Rpb24vdXRpbHMvY2FsY3VsYXRlU2l6ZUFuZFBvc2l0aW9uRGF0YS5qcz9hNThhIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvdXRpbHMvZ2V0VXBkYXRlZE9mZnNldEZvckluZGV4LmpzPzBlYjEiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9Db2xsZWN0aW9uL0NvbGxlY3Rpb24uanM/MTZiOSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0NvbGxlY3Rpb24vaW5kZXguanM/MWNmNyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0NvbHVtblNpemVyL0NvbHVtblNpemVyLmpzPzY5MGYiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9Db2x1bW5TaXplci9pbmRleC5qcz8xNjdhIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvSW5maW5pdGVMb2FkZXIvSW5maW5pdGVMb2FkZXIuanM/Y2NkNCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0luZmluaXRlTG9hZGVyL2luZGV4LmpzP2JhNDUiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9MaXN0L3R5cGVzLmpzPzBkN2EiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9MaXN0L0xpc3QuanM/MWMzOSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL0xpc3QvaW5kZXguanM/MWZhYSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL3ZlbmRvci9iaW5hcnlTZWFyY2hCb3VuZHMuanM/OTIwMSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL3ZlbmRvci9pbnRlcnZhbFRyZWUuanM/NDRiOSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL01hc29ucnkvUG9zaXRpb25DYWNoZS5qcz80ZjBiIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvTWFzb25yeS9NYXNvbnJ5LmpzP2RkYzQiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9NYXNvbnJ5L2NyZWF0ZUNlbGxQb3NpdGlvbmVyLmpzP2M5NTMiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9NYXNvbnJ5L2luZGV4LmpzP2E5MTAiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9NdWx0aUdyaWQvQ2VsbE1lYXN1cmVyQ2FjaGVEZWNvcmF0b3IuanM/YjdlNSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL011bHRpR3JpZC9NdWx0aUdyaWQuanM/ZDRkNyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL011bHRpR3JpZC9pbmRleC5qcz8wZjMzIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvU2Nyb2xsU3luYy9TY3JvbGxTeW5jLmpzPzE2NmIiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9TY3JvbGxTeW5jL2luZGV4LmpzPzQ2ODMiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9UYWJsZS9jcmVhdGVNdWx0aVNvcnQuanM/ODQyMCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL1RhYmxlL3R5cGVzLmpzP2QwNjIiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9UYWJsZS9kZWZhdWx0Q2VsbERhdGFHZXR0ZXIuanM/ZDBkOSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL1RhYmxlL2RlZmF1bHRDZWxsUmVuZGVyZXIuanM/NTg3MCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL1RhYmxlL2RlZmF1bHRIZWFkZXJSb3dSZW5kZXJlci5qcz9lZTY0Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvVGFibGUvU29ydERpcmVjdGlvbi5qcz8yMTBmIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvVGFibGUvU29ydEluZGljYXRvci5qcz85ZmU0Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvVGFibGUvZGVmYXVsdEhlYWRlclJlbmRlcmVyLmpzPzQwMmIiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9UYWJsZS9kZWZhdWx0Um93UmVuZGVyZXIuanM/N2ZlYSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL1RhYmxlL0NvbHVtbi5qcz81ZDUwIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvVGFibGUvVGFibGUuanM/YWRiNiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL1RhYmxlL2luZGV4LmpzPzNmNWIiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9XaW5kb3dTY3JvbGxlci91dGlscy9vblNjcm9sbC5qcz9lN2NmIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvV2luZG93U2Nyb2xsZXIvdXRpbHMvZGltZW5zaW9ucy5qcz9mZmM1Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXZpcnR1YWxpemVkL2Rpc3QvZXMvV2luZG93U2Nyb2xsZXIvV2luZG93U2Nyb2xsZXIuanM/YjkwNSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dWFsaXplZC9kaXN0L2VzL1dpbmRvd1Njcm9sbGVyL2luZGV4LmpzPzAzYWEiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVhbGl6ZWQvZGlzdC9lcy9pbmRleC5qcz83M2I5Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9hcGlzL3NlYXJjaFV0aWxBcGkudHM/NjI3NSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2RlYm91bmNlLnRzPzA3ZGIiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcy5qcz8wZDA3Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3NldFByb3RvdHlwZU9mLmpzPzRmYjEiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZS5qcz9lMGMwIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2Fzc2VydFRoaXNJbml0aWFsaXplZC5qcz9iYTBhIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL21lbW9pemUtb25lL2Rpc3QvbWVtb2l6ZS1vbmUuZXNtLmpzPzViMGEiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvcmVhY3Qtd2luZG93L2Rpc3QvaW5kZXguZXNtLmpzPzg5MWQiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2FwaXMvZmlsZUFwaS50cz80NTBmIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9wYWdlcy92aWV3ZXIvdmlld2VySGVscGVycy50cz9lN2VlIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9hcGlzL2ltYWdlQXBpLnRzPzgyNjMiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL3BhZ2VzL2Jyb3dzZS9Ccm93c2VEb2N1bWVudHNJdGVtLnRzeD9mYjI3Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9wYWdlcy9icm93c2UvQnJvd3NlRG9jdW1lbnRzQ29sdW1uLnRzeD9jNDhjIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL0Ryb3Bkb3duSXRlbS50c3g/YTIzZCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvbGliL2hvb2tzL3VzZUN1cnJlbnRTdGF0ZS50cz84Zjc0Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvaG9va3MvdXNlUHVibGljYXRpb25BY2Nlc3NMZXZlbC50cz85Y2MyIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvc2VhcmNoSGVscGVycy50cz8xYzg1Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9wYWdlcy9icm93c2UvQnJvd3NlSXRlbXNDb2x1bW4udHN4P2E4ZmQiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL3BhZ2VzL2Jyb3dzZS9Ccm93c2VDb2x1bW5zLnRzeD9hZTI4Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9wYWdlcy9pbmRleC1yZWNvcmRzL0luZGV4UmVjb3JkQnJvd3NlVGFiLnRzeD9iNTU0Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvYXV0b21hdGVkVGVzdGluZy50cz81NGQ3Iiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9saWIvcG9seWZpbGxzLnRzPzkzYTciLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvQWxlcnQudHN4P2M2MDgiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvQWxlcnRzLnRzeD83YmUwIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL0NsaWVudFJlbmRlci50c3g/MDU3YiIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9Db3VudGRvd24udHN4PzQ0MTEiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvRG9tYWluTWlzbWF0Y2hEaWFsb2cudHN4PzcwNDgiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvTmV3RldSV2VsY29tZURpYWxvZy50c3g/Mzg0NSIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvYXBpcy9iZXRhQXBpLnRzPzAzZmYiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2xpYi9mZWVkYmFja0hlbHBlcnMudHM/Zjg2ZCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9mb3Jtcy9GM1NlbGVjdC50c3g/ZTkyOCIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9mZWVkYmFjay9GZWVkYmFja0Zvcm0udHN4PzRiMGIiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvZmVlZGJhY2svRmVlZGJhY2tEaWFsb2cudHN4P2Y5NmMiLCJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9zcmMvdHMvc2hhcmVkL2NvbXBvbmVudHMvYmV0YS9CZXRhQmFubmVyLnRzeD8xMjMyIiwid2VicGFjazovL2ZvbGQzLWZyb250ZW5kLy4vc3JjL3RzL3NoYXJlZC9jb21wb25lbnRzL2RpYWxvZ3MvRGlhbG9ncy50c3g/MWYwNyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvY29tcG9uZW50cy9CYXNlUGFnZS50c3g/NmJhNyIsIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvcGFnZXMvaW5kZXgtcmVjb3Jkcy9JbmRleFJlY29yZFBhZ2UudHN4PzlhNTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJhdHRsZUFwaSB9IGZyb20gJy4uL2FwaXMvYmF0dGxlQXBpJztcbmltcG9ydCB7IENvbXBhbnlBcGkgfSBmcm9tICcuLi9hcGlzL2NvbXBhbnlBcGknO1xuaW1wb3J0IHsgSW1hZ2VEYXRhQXBpIH0gZnJvbSAnLi4vYXBpcy9pbWFnZURhdGFBcGknO1xuaW1wb3J0IHsgSW5kZXhSZWNvcmRBcGkgfSBmcm9tICcuLi9hcGlzL2luZGV4UmVjb3JkQXBpJztcbmltcG9ydCB7IE1lbW9yaWFsQXBpIH0gZnJvbSAnLi4vYXBpcy9tZW1vcmlhbEFwaSc7XG5pbXBvcnQgeyBDb21wYWN0UHVibGljYXRpb24gfSBmcm9tICcuLi9hcGlzL3B1YmxpY2F0aW9uQXBpJztcbmltcG9ydCB7IFJlZ2ltZW50QXBpIH0gZnJvbSAnLi4vYXBpcy9yZWdpbWVudEFwaSc7XG5pbXBvcnQgeyBTdWJJbWFnZURhdGFBcGkgfSBmcm9tICcuLi9hcGlzL3N1YkltYWdlRGF0YUFwaSc7XG5pbXBvcnQgeyBTdWJqZWN0QXBpIH0gZnJvbSAnLi4vYXBpcy9zdWJqZWN0QXBpJztcbmltcG9ydCB7IFVuaXRBcGkgfSBmcm9tICcuLi9hcGlzL3VuaXRBcGknO1xuaW1wb3J0IHsgQ29udGVudE9iamVjdCwgRG9jdW1lbnRFbGVtZW50VXBkYXRlUmVzdWx0cywgV3JhcHBlZENvbnRlbnREb2N1bWVudCB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IEJhdHRsZUNvbXB1dGVkVmFsdWVzIH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvYmF0dGxlcy9iYXR0bGVDb21wdXRlZFZhbHVlcyc7XG5pbXBvcnQgeyBXcmFwcGVkQmF0dGxlQ29udGVudCB9IGZyb20gJy4uL2xpYi9jb250ZW50L2JhdHRsZXMvYmF0dGxlQ29udGVudCc7XG5pbXBvcnQgeyBXcmFwcGVkQ29tcGFueUNvbnRlbnQgfSBmcm9tICcuLi9saWIvY29udGVudC9jb21wYW5pZXMvY29tcGFueUNvbnRlbnQnO1xuaW1wb3J0IHsgQ29udGVudENvbXB1dGVkVmFsdWVzIH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvY29udGVudENvbXB1dGVkVmFsdWVzJztcbmltcG9ydCB7IFdyYXBwZWRJbWFnZURhdGFDb250ZW50IH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvaW1hZ2VEYXRhL2ltYWdlQ29udGVudCc7XG5pbXBvcnQgeyBJbWFnZURhdGFDb21wdXRlZFZhbHVlcyB9IGZyb20gJy4uL2xpYi9jb250ZW50L2ltYWdlRGF0YS9pbWFnZURhdGFDb21wdXRlZFZhbHVlcyc7XG5pbXBvcnQgeyBXcmFwcGVkU3ViSW1hZ2VEYXRhQ29udGVudCB9IGZyb20gJy4uL2xpYi9jb250ZW50L2ltYWdlRGF0YS9zdWJJbWFnZUNvbnRlbnQnO1xuaW1wb3J0IHsgU3ViSW1hZ2VEYXRhQ29tcHV0ZWRWYWx1ZXMgfSBmcm9tICcuLi9saWIvY29udGVudC9pbWFnZURhdGEvc3ViSW1hZ2VEYXRhQ29tcHV0ZWRWYWx1ZXMnO1xuaW1wb3J0IHsgSW5kZXhSZWNvcmRDb21wdXRlZFZhbHVlcyB9IGZyb20gJy4uL2xpYi9jb250ZW50L2luZGV4LXJlY29yZHMvaW5kZXhSZWNvcmRDb21wdXRlZFZhbHVlcyc7XG5pbXBvcnQgeyBXcmFwcGVkSW5kZXhSZWNvcmRDb250ZW50IH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvaW5kZXgtcmVjb3Jkcy9pbmRleFJlY29yZENvbnRlbnQnO1xuaW1wb3J0IHsgTWVtb3JpYWxQYWdlQ29tcHV0ZWRWYWx1ZXMgfSBmcm9tICcuLi9saWIvY29udGVudC9tZW1vcmlhbHMvbWVtb3JpYWxDb21wdXRlZFZhbHVlcyc7XG5pbXBvcnQgeyBXcmFwcGVkTWVtb3JpYWxPclN1YmplY3RDb250ZW50IH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvbWVtb3JpYWxzL21lbW9yaWFsQ29udGVudCc7XG5pbXBvcnQgeyBXcmFwcGVkUmVnaW1lbnRDb250ZW50IH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvcmVnaW1lbnRzL3JlZ2ltZW50Q29udGVudCc7XG5pbXBvcnQgeyBXcmFwcGVkVW5pdENvbnRlbnQgfSBmcm9tICcuLi9saWIvY29udGVudC91bml0cy91bml0Q29udGVudCc7XG5cbmludGVyZmFjZSBVcGRhdGVDb250ZW50Rm48VD4ge1xuXHQoZm46IChjb250ZW50OiBUKSA9PiBULCBpbnZhbGlkYXRlPzogYm9vbGVhbik6IFByb21pc2U8VD5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVSZWxhdGlvbnNGbiB7XG5cdChmbjogKHJlbGF0aW9uczogQ29udGVudE9iamVjdFtdKSA9PiBDb250ZW50T2JqZWN0W10sIGludmFsaWRhdGU/OiBib29sZWFuKTogUHJvbWlzZTxDb250ZW50T2JqZWN0W10+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVyZ2VFbGVtZW50VXBkYXRlUmVzdWx0c0ZuPFQ+IHtcblx0KHJlc3VsdHM6IERvY3VtZW50RWxlbWVudFVwZGF0ZVJlc3VsdHMpOiBQcm9taXNlPHsgY29udGVudDogVCwgcmVsYXRpb25zOiBDb250ZW50T2JqZWN0W10gfT5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZXRDb250ZW50QW5kUmVsYXRpb25zRm48VD4ge1xuXHQoY29udGVudEFuZFJlbGF0aW9uczogeyBjb250ZW50OiBULCByZWxhdGlvbnM/OiBDb250ZW50T2JqZWN0W10gfSk6IFByb21pc2U8eyBjb250ZW50OiBULCByZWxhdGlvbnM6IENvbnRlbnRPYmplY3RbXSB9PlxufVxuXG5leHBvcnQgdHlwZSBDb250ZW50QXBpcyA9IHR5cGVvZiBCYXR0bGVBcGkgfCB0eXBlb2YgTWVtb3JpYWxBcGkgfCB0eXBlb2YgU3ViamVjdEFwaSB8IHR5cGVvZiBSZWdpbWVudEFwaSB8IHR5cGVvZiBJbmRleFJlY29yZEFwaSB8IHR5cGVvZiBDb21wYW55QXBpIHwgdHlwZW9mIFVuaXRBcGkgfCB0eXBlb2YgSW1hZ2VEYXRhQXBpIHwgdHlwZW9mIFN1YkltYWdlRGF0YUFwaTtcblxuZXhwb3J0IGludGVyZmFjZSBDb250ZW50Q29udGV4dDxcblx0VCBleHRlbmRzIFdyYXBwZWRDb250ZW50RG9jdW1lbnQgPSBXcmFwcGVkQ29udGVudERvY3VtZW50LFxuXHRDIGV4dGVuZHMgQ29udGVudENvbXB1dGVkVmFsdWVzPFQ+ID0gbnVsbCxcblx0QSBleHRlbmRzIENvbnRlbnRBcGlzID0gQ29udGVudEFwaXMsXG4+IHtcblx0Y29udGVudDogVFxuXHRDb250ZW50QXBpOiBBXG5cdHVwZGF0ZUNvbnRlbnQ6IFVwZGF0ZUNvbnRlbnRGbjxUPlxuXHRyZWxhdGlvbnM/OiBDb250ZW50T2JqZWN0W11cblx0dXBkYXRlUmVsYXRpb25zOiBVcGRhdGVSZWxhdGlvbnNGblxuXHRjb21wdXRlZFZhbHVlczogQ1xuXHRtZXJnZUVsZW1lbnRVcGRhdGVSZXN1bHRzOiBNZXJnZUVsZW1lbnRVcGRhdGVSZXN1bHRzRm48VD5cblx0dXBkYXRlQ29tcHV0ZWRWYWx1ZXModG9VcGRhdGU6IHsgY29udGVudD86IFQsIHJlbGF0aW9ucz86IENvbnRlbnRPYmplY3RbXSB9KTogdm9pZFxuXHRzZXRDb250ZW50QW5kUmVsYXRpb25zOiBTZXRDb250ZW50QW5kUmVsYXRpb25zRm48VD5cblx0cHVibGljYXRpb246IENvbXBhY3RQdWJsaWNhdGlvblxufVxuXG5jb25zdCBjcmVhdGVDb250ZW50Q29udGV4dCA9ICgpID0+IHtcblx0cmV0dXJuIFJlYWN0LmNyZWF0ZUNvbnRleHQ8Q29udGVudENvbnRleHQ+KHtcblx0XHRjb250ZW50OiBudWxsLFxuXHRcdENvbnRlbnRBcGk6IG51bGwsXG5cdFx0dXBkYXRlQ29udGVudDogbnVsbCxcblx0XHRyZWxhdGlvbnM6IG51bGwsXG5cdFx0dXBkYXRlUmVsYXRpb25zOiBudWxsLFxuXHRcdGNvbXB1dGVkVmFsdWVzOiBudWxsLFxuXHRcdG1lcmdlRWxlbWVudFVwZGF0ZVJlc3VsdHM6IG51bGwsXG5cdFx0dXBkYXRlQ29tcHV0ZWRWYWx1ZXM6IG51bGwsXG5cdFx0c2V0Q29udGVudEFuZFJlbGF0aW9uczogbnVsbCxcblx0XHRwdWJsaWNhdGlvbjogbnVsbCxcblx0fSk7XG59O1xuXG50eXBlIE1lbW9yaWFsQ29udGVudENvbnRleHQgPSBSZWFjdC5Db250ZXh0PENvbnRlbnRDb250ZXh0PFdyYXBwZWRNZW1vcmlhbE9yU3ViamVjdENvbnRlbnQsIE1lbW9yaWFsUGFnZUNvbXB1dGVkVmFsdWVzLCB0eXBlb2YgTWVtb3JpYWxBcGkgfCB0eXBlb2YgU3ViamVjdEFwaT4+O1xudHlwZSBCYXR0bGVDb250ZW50Q29udGV4dCA9IFJlYWN0LkNvbnRleHQ8Q29udGVudENvbnRleHQ8V3JhcHBlZEJhdHRsZUNvbnRlbnQsIEJhdHRsZUNvbXB1dGVkVmFsdWVzLCB0eXBlb2YgQmF0dGxlQXBpPj47XG50eXBlIFJlZ2ltZW50Q29udGVudENvbnRleHQgPSBSZWFjdC5Db250ZXh0PENvbnRlbnRDb250ZXh0PFdyYXBwZWRSZWdpbWVudENvbnRlbnQsIG51bGwsIHR5cGVvZiBSZWdpbWVudEFwaT4+O1xudHlwZSBDb21wYW55Q29udGVudENvbnRleHQgPSBSZWFjdC5Db250ZXh0PENvbnRlbnRDb250ZXh0PFdyYXBwZWRDb21wYW55Q29udGVudCwgbnVsbCwgdHlwZW9mIENvbXBhbnlBcGk+PjtcbnR5cGUgSW5kZXhSZWNvcmRDb250ZW50Q29udGV4dCA9IFJlYWN0LkNvbnRleHQ8Q29udGVudENvbnRleHQ8V3JhcHBlZEluZGV4UmVjb3JkQ29udGVudCwgSW5kZXhSZWNvcmRDb21wdXRlZFZhbHVlcywgdHlwZW9mIEluZGV4UmVjb3JkQXBpPj47XG50eXBlIEltYWdlQ29udGVudENvbnRleHQgPSBSZWFjdC5Db250ZXh0PENvbnRlbnRDb250ZXh0PFdyYXBwZWRJbWFnZURhdGFDb250ZW50LCBJbWFnZURhdGFDb21wdXRlZFZhbHVlcywgdHlwZW9mIEltYWdlRGF0YUFwaT4+O1xudHlwZSBVbml0Q29udGVudENvbnRleHQgPSBSZWFjdC5Db250ZXh0PENvbnRlbnRDb250ZXh0PFdyYXBwZWRVbml0Q29udGVudCwgbnVsbCwgdHlwZW9mIFVuaXRBcGk+PjtcbnR5cGUgU3ViSW1hZ2VDb250ZW50Q29udGV4dCA9IFJlYWN0LkNvbnRleHQ8Q29udGVudENvbnRleHQ8V3JhcHBlZFN1YkltYWdlRGF0YUNvbnRlbnQsIFN1YkltYWdlRGF0YUNvbXB1dGVkVmFsdWVzLCB0eXBlb2YgU3ViSW1hZ2VEYXRhQXBpPj47XG5cbmV4cG9ydCBjb25zdCBNZW1vcmlhbENvbnRlbnRDb250ZXh0OiBNZW1vcmlhbENvbnRlbnRDb250ZXh0ID0gY3JlYXRlQ29udGVudENvbnRleHQoKSBhcyBNZW1vcmlhbENvbnRlbnRDb250ZXh0O1xuZXhwb3J0IGNvbnN0IEJhdHRsZUNvbnRlbnRDb250ZXh0OiBCYXR0bGVDb250ZW50Q29udGV4dCA9IGNyZWF0ZUNvbnRlbnRDb250ZXh0KCkgYXMgQmF0dGxlQ29udGVudENvbnRleHQ7XG5leHBvcnQgY29uc3QgUmVnaW1lbnRDb250ZW50Q29udGV4dDogUmVnaW1lbnRDb250ZW50Q29udGV4dCA9IGNyZWF0ZUNvbnRlbnRDb250ZXh0KCkgYXMgUmVnaW1lbnRDb250ZW50Q29udGV4dDtcbmV4cG9ydCBjb25zdCBDb21wYW55Q29udGVudENvbnRleHQ6IENvbXBhbnlDb250ZW50Q29udGV4dCA9IGNyZWF0ZUNvbnRlbnRDb250ZXh0KCkgYXMgQ29tcGFueUNvbnRlbnRDb250ZXh0O1xuZXhwb3J0IGNvbnN0IEluZGV4UmVjb3JkQ29udGVudENvbnRleHQ6IEluZGV4UmVjb3JkQ29udGVudENvbnRleHQgPSBjcmVhdGVDb250ZW50Q29udGV4dCgpIGFzIEluZGV4UmVjb3JkQ29udGVudENvbnRleHQ7XG5leHBvcnQgY29uc3QgSW1hZ2VDb250ZW50Q29udGV4dDogSW1hZ2VDb250ZW50Q29udGV4dCA9IGNyZWF0ZUNvbnRlbnRDb250ZXh0KCkgYXMgSW1hZ2VDb250ZW50Q29udGV4dDtcbmV4cG9ydCBjb25zdCBVbml0Q29udGVudENvbnRleHQ6IFVuaXRDb250ZW50Q29udGV4dCA9IGNyZWF0ZUNvbnRlbnRDb250ZXh0KCkgYXMgVW5pdENvbnRlbnRDb250ZXh0O1xuZXhwb3J0IGNvbnN0IFN1YkltYWdlQ29udGVudENvbnRleHQ6IFN1YkltYWdlQ29udGVudENvbnRleHQgPSBjcmVhdGVDb250ZW50Q29udGV4dCgpIGFzIGFueSBhcyBTdWJJbWFnZUNvbnRlbnRDb250ZXh0O1xuIiwiaW1wb3J0IHsgQ29tcHV0ZWQsIGlzQ29tcHV0ZWQgfSBmcm9tICcuL2NvbXB1dGVkJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbXB1dGVkQ2xhc3Mge1xuXHRwcm90ZWN0ZWQgaW52YWxpZGF0ZUFsbCgpIHtcblx0XHRPYmplY3Qua2V5cyh0aGlzKS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0XHRpZiAoaXNDb21wdXRlZCgodGhpcyBhcyBhbnkpW2tleV0pKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0KCh0aGlzIGFzIGFueSlba2V5XSBhcyBDb21wdXRlZDxhbnk+KT8uc2V0SW52YWxpZCgpO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGBDb3VsZCBub3QgaW52YWxpZGF0ZSBrZXkgJHtrZXl9YCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxufVxuIiwiLyoqIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20veGVocmFkL1VVSURfdG9fRGF0ZS9ibG9iL21hc3Rlci9VVUlEX3RvX0RhdGUuanMgKi9cbmZ1bmN0aW9uIGdldFRpbWVJbnQodXVpZFN0cjogc3RyaW5nKSB7XG5cdHZhciB1dWlkQXJyID0gdXVpZFN0ci5zcGxpdCgnLScpO1xuXHR2YXIgdGltZVN0ciA9IFtcblx0XHR1dWlkQXJyWzJdLnN1YnN0cmluZygxKSxcblx0XHR1dWlkQXJyWzFdLFxuXHRcdHV1aWRBcnJbMF0sXG5cdF0uam9pbignJyk7XG5cblx0cmV0dXJuIHBhcnNlSW50KHRpbWVTdHIsIDE2KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB1dWlkVG9EYXRlKHV1aWRTdHI6IHN0cmluZykge1xuXHR2YXIgaW50VGltZSA9IGdldFRpbWVJbnQodXVpZFN0cikgLSAxMjIxOTI5MjgwMDAwMDAwMDA7XG5cdHZhciBpbnRNcyA9IE1hdGguZmxvb3IoaW50VGltZSAvIDEwMDAwKTtcblxuXHRyZXR1cm4gbmV3IERhdGUoaW50TXMpO1xufTtcbiIsImltcG9ydCB7IENvbnRlbnREb2N1bWVudENvbW1lbnQsIENvbnRlbnREb2N1bWVudENvcnJlY3Rpb24sIENvbnRlbnREb2N1bWVudEVsZW1lbnRNZXRhZGF0YSwgQ29udGVudERvY3VtZW50TGluaywgQ3JlYXRlRG9jdW1lbnRFbGVtZW50LCBEb2N1bWVudEVsZW1lbnRSZWZlcmVuY2UsIERvY3VtZW50RWxlbWVudFR5cGUsIEltYWdlQW5ub3RhdGlvbiwgTWVtb3JpYWxCYWNrZ3JvdW5kSW1hZ2UsIE1lbW9yaWFsRmFjdCwgTWVtb3JpYWxGYWN0U291cmNlLCBNZW1vcmlhbFBhcnRuZXIsIE1lbW9yaWFsU291cmNlLCBNZW1vcmlhbFN0b3J5LCBVcGRhdGVEb2N1bWVudEVsZW1lbnQsIFdyYXBwZWRDb250ZW50RG9jdW1lbnQsIFdyYXBwZWRDb250ZW50RG9jdW1lbnRBYnN0cmFjdERvY3VtZW50LCBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudCwgV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnRBYnN0cmFjdEVsZW1lbnQgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBPYmogfSBmcm9tICcuLi8uLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgZGVlcE1lcmdlIH0gZnJvbSAnLi4vZGVlcE1lcmdlJztcbmltcG9ydCB7IGFscGhhTnVtZXJpY1NvcnQgfSBmcm9tICcuLi9zb3J0VXRpbCc7XG5cbnR5cGUgR0RFID0gT2JqPERvY3VtZW50RWxlbWVudFR5cGUsIFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50W10+XG5leHBvcnQgaW50ZXJmYWNlIEdyb3VwZWREb2N1bWVudEVsZW1lbnRzIGV4dGVuZHMgR0RFIHtcblx0RkFDVD86IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50PE1lbW9yaWFsRmFjdD5bXVxuXHRGQUNUX1NPVVJDRT86IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50PE1lbW9yaWFsRmFjdFNvdXJjZT5bXVxuXHRCQUNLR1JPVU5EX0lNQUdFPzogV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQ8TWVtb3JpYWxCYWNrZ3JvdW5kSW1hZ2U+W11cblx0UEFSVE5FUj86IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50PE1lbW9yaWFsUGFydG5lcj5bXVxuXHRTT1VSQ0U/OiBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudDxNZW1vcmlhbFNvdXJjZT5bXVxuXHRTVE9SWT86IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50PE1lbW9yaWFsU3Rvcnk+W11cblx0Q09SUkVDVElPTj86IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50PENvbnRlbnREb2N1bWVudENvcnJlY3Rpb24+W11cblx0Q09NTUVOVD86IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50PENvbnRlbnREb2N1bWVudENvbW1lbnQ+W11cblx0SU1BR0VfQU5OT1RBVElPTj86IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50PEltYWdlQW5ub3RhdGlvbj5bXVxuXHRMSU5LPzogV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQ8Q29udGVudERvY3VtZW50TGluaz5bXVxufVxuXG5cbmV4cG9ydCBjb25zdCBnZXRFbGVtZW50cyA9IDxEIGV4dGVuZHMgV3JhcHBlZENvbnRlbnREb2N1bWVudEFic3RyYWN0RG9jdW1lbnQsIEUgZXh0ZW5kcyBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudEFic3RyYWN0RWxlbWVudCwgTz4oY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudDxELCBFLCBPPikgPT4ge1xuXHRyZXR1cm4gY29udGVudC5lbGVtZW50cztcbn07XG5cbmNvbnN0IGdldEVsZW1lbnRJbmRleCA9IChjb250ZW50OiBXcmFwcGVkQ29udGVudERvY3VtZW50LCBpZDogc3RyaW5nKSA9PiB7XG5cdHJldHVybiBnZXRFbGVtZW50cyhjb250ZW50KS5maW5kSW5kZXgoZWwgPT4gZWwubWV0YWRhdGEuaWQub2JqZWN0SWQgPT0gaWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IG1lcmdlRWxlbWVudE1ldGFkYXRhID0gPEQgZXh0ZW5kcyBXcmFwcGVkQ29udGVudERvY3VtZW50Pihjb250ZW50OiBELCBlbGVtZW50TWV0YWRhdGE6IENvbnRlbnREb2N1bWVudEVsZW1lbnRNZXRhZGF0YVtdKSA9PiB7XG5cdGxldCB1cGRhdGVkTWV0YWRhdGFCeUlkID0gZWxlbWVudE1ldGFkYXRhLnJlZHVjZSgoZmluYWxPYmosIG1kKSA9PiB7XG5cdFx0ZmluYWxPYmpbbWQuaWQub2JqZWN0SWRdID0gbWQ7XG5cdFx0cmV0dXJuIGZpbmFsT2JqO1xuXHR9LCB7fSBhcyBPYmo8c3RyaW5nLCBDb250ZW50RG9jdW1lbnRFbGVtZW50TWV0YWRhdGE+KTtcblxuXHRjb250ZW50LmVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG5cdFx0bGV0IGlkID0gZ2V0RWxlbWVudElkKGVsZW1lbnQpO1xuXHRcdGxldCBtZCA9IHVwZGF0ZWRNZXRhZGF0YUJ5SWRbaWRdO1xuXG5cdFx0aWYgKG1kKSB7XG5cdFx0XHRlbGVtZW50Lm1ldGFkYXRhID0gZGVlcE1lcmdlKGVsZW1lbnQubWV0YWRhdGEsIG1kKTtcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBjb250ZW50O1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZEVsZW1lbnRzID0gKGNvbnRlbnQ6IFdyYXBwZWRDb250ZW50RG9jdW1lbnQsIGVsZW1lbnRzOiBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudCB8IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50W10pID0+IHtcblx0aWYgKCFBcnJheS5pc0FycmF5KGVsZW1lbnRzKSkgZWxlbWVudHMgPSBbZWxlbWVudHNdO1xuXHRjb250ZW50LmVsZW1lbnRzLnB1c2goLi4uZWxlbWVudHMpO1xuXHRyZXR1cm4gY29udGVudDtcbn07XG5cbmV4cG9ydCBjb25zdCByZW1vdmVFbGVtZW50cyA9IChjb250ZW50OiBXcmFwcGVkQ29udGVudERvY3VtZW50LCByZWZzOiBEb2N1bWVudEVsZW1lbnRSZWZlcmVuY2UgfCBEb2N1bWVudEVsZW1lbnRSZWZlcmVuY2VbXSkgPT4ge1xuXHRpZiAoIUFycmF5LmlzQXJyYXkocmVmcykpIHJlZnMgPSBbcmVmc107XG5cdHJlZnMuZm9yRWFjaChyZWYgPT4ge1xuXHRcdGxldCBpID0gZ2V0RWxlbWVudEluZGV4KGNvbnRlbnQsIHJlZi5vYmplY3RJZCk7XG5cdFx0aWYgKGkgPj0gMCkge1xuXHRcdFx0Z2V0RWxlbWVudHMoY29udGVudCkuc3BsaWNlKGksIDEpO1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBjb250ZW50O1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUVsZW1lbnRzID0gPFQgZXh0ZW5kcyBXcmFwcGVkQ29udGVudERvY3VtZW50Pihjb250ZW50OiBULCBlbGVtZW50czogV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQgfCBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudFtdKTogVCA9PiB7XG5cdGlmICghQXJyYXkuaXNBcnJheShlbGVtZW50cykpIGVsZW1lbnRzID0gW2VsZW1lbnRzXTtcblx0ZWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG5cdFx0bGV0IGkgPSBnZXRFbGVtZW50SW5kZXgoY29udGVudCwgZ2V0RWxlbWVudElkKGVsKSk7XG5cdFx0aWYgKGkgPj0gMCkge1xuXHRcdFx0Z2V0RWxlbWVudHMoY29udGVudCkuc3BsaWNlKGksIDEsIGVsKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Z2V0RWxlbWVudHMoY29udGVudCkucHVzaChlbCk7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIGNvbnRlbnQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0R3JvdXBlZEVsZW1lbnRzID0gKGNvbnRlbnQ6IFdyYXBwZWRDb250ZW50RG9jdW1lbnQpID0+IHtcblx0Y29uc3QgZWxlbWVudHMgPSBnZXRFbGVtZW50cyhjb250ZW50KTtcblxuXHRjb25zdCBncm91cGVkRWxlbWVudHMgPSBlbGVtZW50cy5yZWR1Y2UoKGZpbmFsT2JqLCBlbCkgPT4ge1xuXHRcdGNvbnN0IHsgY29udGVudFR5cGUgfSA9IGVsLm1ldGFkYXRhLmlkO1xuXG5cdFx0aWYgKCEoY29udGVudFR5cGUgaW4gZmluYWxPYmopKSBmaW5hbE9ialtjb250ZW50VHlwZV0gPSBbXTtcblx0XHRmaW5hbE9ialtjb250ZW50VHlwZV0ucHVzaChlbCBhcyBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudDxhbnk+KTtcblxuXHRcdHJldHVybiBmaW5hbE9iajtcblx0fSwge30gYXMgR3JvdXBlZERvY3VtZW50RWxlbWVudHMpO1xuXG5cdGZvciAobGV0IF9lbGVtZW50cyBvZiBPYmplY3QudmFsdWVzKGdyb3VwZWRFbGVtZW50cykpIHtcblx0XHRjb25zdCBlbGVtZW50czogV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnRbXSA9IF9lbGVtZW50cztcblx0XHRsZXQgc2FtcGxlID0gZWxlbWVudHNbMF07XG5cdFx0aWYgKHNhbXBsZS5tZXRhZGF0YS5vcmRpbmFsID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuXG5cdFx0ZWxlbWVudHMuc29ydCgoZWwxLCBlbDIpID0+IGFscGhhTnVtZXJpY1NvcnQoZWwxLm1ldGFkYXRhLm9yZGluYWwsIGVsMi5tZXRhZGF0YS5vcmRpbmFsKSk7XG5cdH1cblxuXHRyZXR1cm4gZ3JvdXBlZEVsZW1lbnRzO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzRWxlbWVudCA9IChlbDogYW55KSA9PiB7XG5cdHJldHVybiAhIWVsPy5tZXRhZGF0YT8uaWQ/Lm9iamVjdElkO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEVsZW1lbnRJZCA9IChlbDogV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQpID0+IHtcblx0cmV0dXJuIGdldEVsZW1lbnRUeXBlQW5kSWQoZWwpLm9iamVjdElkO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEVsZW1lbnRPd25lciA9IChlbDogV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQpID0+IHtcblx0cmV0dXJuIGVsLm1ldGFkYXRhLm93bmVyO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEVsZW1lbnRUeXBlQW5kSWQgPSAoZWw6IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50KSA9PiB7XG5cdHJldHVybiBlbC5tZXRhZGF0YS5pZDtcbn07XG5cbmNvbnN0IGdldEVsZW1lbnRUeXBlID0gKGVsOiBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudCkgPT4ge1xuXHRyZXR1cm4gZ2V0RWxlbWVudFR5cGVBbmRJZChlbCkuY29udGVudFR5cGU7XG59O1xuXG5jb25zdCBpc0ZhY3QgPSAoZWw6IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50KSA9PiB7XG5cdHJldHVybiBnZXRFbGVtZW50VHlwZShlbCkgPT09ICdGQUNUJztcbn07XG5cbmV4cG9ydCBjb25zdCBpc0RhdGVGYWN0ID0gKGVsOiBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudCkgPT4ge1xuXHRyZXR1cm4gIGlzRmFjdChlbCkgJiYgKGVsLmVsZW1lbnQgYXMgTWVtb3JpYWxGYWN0KS50eXBlLnN0YXJ0c1dpdGgoJ2RhdGUnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1BsYWNlRmFjdCA9IChlbDogV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQpID0+IHtcblx0cmV0dXJuIGlzRmFjdChlbCkgJiYgKGVsLmVsZW1lbnQgYXMgTWVtb3JpYWxGYWN0KS50eXBlLnN0YXJ0c1dpdGgoJ3BsYWNlJyk7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQ29tbWVudEVsZW1lbnQgPSAodmFsdWU6IHN0cmluZyk6IENyZWF0ZURvY3VtZW50RWxlbWVudDxDb250ZW50RG9jdW1lbnRDb21tZW50PiA9PiB7XG5cdHJldHVybiB7XG5cdFx0dHlwZTogJ0NPTU1FTlQnLFxuXHRcdGVsZW1lbnQ6IHsgdmFsdWUgfSxcblx0fTtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVDb21tZW50RWxlbWVudCA9IChpZDogRG9jdW1lbnRFbGVtZW50UmVmZXJlbmNlLCB2YWx1ZTogc3RyaW5nKTogVXBkYXRlRG9jdW1lbnRFbGVtZW50PENvbnRlbnREb2N1bWVudENvbW1lbnQ+ID0+IHtcblx0cmV0dXJuIHtcblx0XHRpZCxcblx0XHRlbGVtZW50OiB7IHZhbHVlIH0sXG5cdH07XG59O1xuIiwiaW1wb3J0IHsgQ29udGVudERvY3VtZW50Q29ycmVjdGlvbiwgQ29udGVudERvY3VtZW50TGluaywgQ29udGVudE9iamVjdCwgQ29udGVudFR5cGUsIERvY3VtZW50RWxlbWVudFR5cGUsIEltYWdlRGF0YSwgSW5kZXhSZWNvcmQsIE1lbW9yaWFsQmFja2dyb3VuZEltYWdlLCBNZW1vcmlhbENvdmVySW1hZ2UsIE1lbW9yaWFsRmFjdCwgTWVtb3JpYWxGYWN0U291cmNlLCBNZW1vcmlhbFBhcnRuZXIsIE1lbW9yaWFsU291cmNlLCBNZW1vcmlhbFN0b3J5LCBQYXJ0bmVySW5zdGl0dXRpb24sIFVzZXIsIFdyYXBwZWRDb250ZW50RG9jdW1lbnQsIFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50LCBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudEFic3RyYWN0RWxlbWVudCB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IE9iaiB9IGZyb20gJy4uLy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBjb21wdXRlZCB9IGZyb20gJy4uL2NvbXB1dGVkJztcbmltcG9ydCB7IENvbXB1dGVkQ2xhc3MgfSBmcm9tICcuLi9Db21wdXRlZENsYXNzJztcbmltcG9ydCB7IHV1aWRUb0RhdGUgfSBmcm9tICcuLi91dWlkVG9EYXRlJztcbmltcG9ydCB7IGdldEVsZW1lbnRJZCwgZ2V0RWxlbWVudHMsIGdldEdyb3VwZWRFbGVtZW50cyB9IGZyb20gJy4vY29udGVudEVsZW1lbnRzJztcbmltcG9ydCB7IGdldFBhcnRuZXJzLCBnZXRVc2VycyB9IGZyb20gJy4vY29udGVudFJ1bnRpbWUnO1xuXG5leHBvcnQgY2xhc3MgQ29udGVudENvbXB1dGVkVmFsdWVzPEQgZXh0ZW5kcyBXcmFwcGVkQ29udGVudERvY3VtZW50ID0gV3JhcHBlZENvbnRlbnREb2N1bWVudD4gZXh0ZW5kcyBDb21wdXRlZENsYXNzIHtcblx0cHJvdGVjdGVkIGNvbnRlbnQ6IEQ7XG5cdHByb3RlY3RlZCByZWxhdGlvbnM6IENvbnRlbnRPYmplY3RbXTtcblxuXHRjb25zdHJ1Y3Rvcihjb250ZW50OiBELCByZWxhdGlvbnM6IENvbnRlbnRPYmplY3RbXSkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5jb250ZW50ID0gY29udGVudDtcblx0XHR0aGlzLnJlbGF0aW9ucyA9IHJlbGF0aW9ucztcblx0fVxuXG5cdGdldENvbnRlbnQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuY29udGVudDtcblx0fVxuXG5cdHVwZGF0ZUNvbnRlbnRBbmRSZWxhdGlvbnMoeyBjb250ZW50LCByZWxhdGlvbnMgfTogeyBjb250ZW50PzogRCwgcmVsYXRpb25zPzogQ29udGVudE9iamVjdFtdIH0pIHtcblx0XHRpZiAoY29udGVudCAhPT0gdW5kZWZpbmVkKSB0aGlzLmNvbnRlbnQgPSBjb250ZW50O1xuXHRcdGlmIChyZWxhdGlvbnMgIT09IHVuZGVmaW5lZCkgdGhpcy5yZWxhdGlvbnMgPSByZWxhdGlvbnM7XG5cdFx0dGhpcy5pbnZhbGlkYXRlQWxsKCk7XG5cdH1cblxuXHRnZXQgZWxlbWVudHMoKSB7IHJldHVybiB0aGlzLl9lbGVtZW50cy5nZXRWYWx1ZSgpOyB9XG5cdGdldCBncm91cGVkRWxlbWVudHMoKSB7IHJldHVybiB0aGlzLl9ncm91cGVkRWxlbWVudHMuZ2V0VmFsdWUoKTsgfVxuXHRnZXQgZWxlbWVudHNCeUVsZW1lbnRJZCgpIHsgcmV0dXJuIHRoaXMuX2VsZW1lbnRzQnlFbGVtZW50SWQuZ2V0VmFsdWUoKTsgfVxuXHRnZXQgZ3JvdXBlZFJlbGF0aW9ucygpIHsgcmV0dXJuIHRoaXMuX2dyb3VwZWRSZWxhdGlvbnMuZ2V0VmFsdWUoKTsgfVxuXG5cdGdldCByZWxhdGlvbnNCeVJlbGF0aW9uSWQoKSB7IHJldHVybiB0aGlzLl9yZWxhdGlvbnNCeVJlbGF0aW9uSWQuZ2V0VmFsdWUoKTsgfVxuXG5cdGdldCBzb3VyY2VzKCkgeyByZXR1cm4gdGhpcy5fc291cmNlcy5nZXRWYWx1ZSgpOyB9XG5cdGdldCBzb3VyY2VzQnlTb3VyY2VJZCgpIHsgcmV0dXJuIHRoaXMuX3NvdXJjZXNCeVNvdXJjZUlkLmdldFZhbHVlKCk7IH1cblxuXHRnZXQgc3RvcmllcygpIHsgcmV0dXJuIHRoaXMuX3N0b3JpZXMuZ2V0VmFsdWUoKTsgfVxuXHRnZXQgc3Rvcmllc0J5U3RvcnlJZCgpIHsgcmV0dXJuIHRoaXMuX3N0b3JpZXNCeVN0b3J5SWQuZ2V0VmFsdWUoKTsgfVxuXG5cdGdldCBwYXJ0bmVycygpIHsgcmV0dXJuIHRoaXMuX3BhcnRuZXJzLmdldFZhbHVlKCk7IH1cblx0Z2V0IGJhY2tncm91bmRJbWFnZSgpIHsgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRJbWFnZS5nZXRWYWx1ZSgpOyB9XG5cdGdldCBjb3ZlckltYWdlKCkgeyByZXR1cm4gdGhpcy5fY292ZXJJbWFnZS5nZXRWYWx1ZSgpOyB9XG5cdGdldCBwYXJ0bmVyc0J5UGFydG5lcklkKCkgeyByZXR1cm4gdGhpcy5fcGFydG5lcnNCeVBhcnRuZXJJZC5nZXRWYWx1ZSgpOyB9XG5cblx0Z2V0IHVzZXJzQnlVc2VySWQoKSB7IHJldHVybiB0aGlzLl91c2Vyc0J5VXNlcklkLmdldFZhbHVlKCk7IH1cblxuXHRnZXQgcmVsYXRpb25DcmVhdGlvbkJ5UmVsYXRpb25JZCgpIHsgcmV0dXJuIHRoaXMuX3JlbGF0aW9uQ3JlYXRpb25CeVJlbGF0aW9uSWQuZ2V0VmFsdWUoKTsgfVxuXHRnZXQgY29ycmVjdGlvbnNCeU1ldGFkYXRhTmFtZSgpIHsgcmV0dXJuIHRoaXMuX2NvcnJlY3Rpb25zQnlNZXRhZGF0YU5hbWUuZ2V0VmFsdWUoKTsgfVxuXG5cdC8qIENPTVBVVEVEIFZBTFVFUyAqL1xuXHRwcml2YXRlIF9lbGVtZW50cyA9IGNvbXB1dGVkKCgpID0+IGdldEVsZW1lbnRzKHRoaXMuY29udGVudCkpO1xuXHRwcml2YXRlIF9lbGVtZW50c0J5RWxlbWVudElkID0gY29tcHV0ZWQoKCkgPT4gdGhpcy5ncm91cEVsZW1lbnRzQnlJZCh0aGlzLmVsZW1lbnRzKSk7XG5cblx0cHJpdmF0ZSBfc291cmNlc0J5U291cmNlSWQgPSBjb21wdXRlZCgoKSA9PiB0aGlzLmdyb3VwRWxlbWVudHNCeUlkKHRoaXMuc291cmNlcykpO1xuXHRwcml2YXRlIF9zb3VyY2VzID0gY29tcHV0ZWQoKCkgPT4ge1xuXHRcdHJldHVybiB0aGlzLmdldEdyb3VwZWRFbGVtZW50VHlwZSgnU09VUkNFJyk7XG5cdH0pO1xuXG5cdHByaXZhdGUgX2NvcnJlY3Rpb25zQnlNZXRhZGF0YU5hbWUgPSBjb21wdXRlZCgoKSA9PiB7XG5cdFx0Y29uc3QgZG9jdW1lbnQgPSB0aGlzLmNvbnRlbnQuZG9jdW1lbnQgYXMgSW1hZ2VEYXRhIHwgSW5kZXhSZWNvcmQ7XG5cdFx0Y29uc3QgeyBDT1JSRUNUSU9OIH0gPSB0aGlzLmdyb3VwZWRFbGVtZW50cztcblx0XHRyZXR1cm4gKGRvY3VtZW50Lm1ldGFkYXRhIHx8IFtdKS5yZWR1Y2UoKGZpbmFsT2JqLCBtZXRhZGF0YSkgPT4ge1xuXHRcdFx0bGV0IGZpbHRlcmVkQ29ycmVjdGlvbnMgPSBDT1JSRUNUSU9OPy5maWx0ZXIoY29ycmVjdGlvbiA9PiB7XG5cdFx0XHRcdHJldHVybiBjb3JyZWN0aW9uLmVsZW1lbnQuZmllbGQgPT09IG1ldGFkYXRhLm5hbWU7XG5cdFx0XHR9KTtcblx0XHRcdGlmIChmaWx0ZXJlZENvcnJlY3Rpb25zPy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGZpbmFsT2JqW21ldGFkYXRhLm5hbWVdID0gZmlsdGVyZWRDb3JyZWN0aW9ucztcblx0XHRcdH1cblx0XHRcdHJldHVybiBmaW5hbE9iajtcblx0XHR9LCB7fSBhcyBPYmo8c3RyaW5nLCBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudDxDb250ZW50RG9jdW1lbnRDb3JyZWN0aW9uPltdPik7XG5cdH0pO1xuXG5cdHByaXZhdGUgX3N0b3JpZXMgPSBjb21wdXRlZCgoKSA9PiB0aGlzLmdldEdyb3VwZWRFbGVtZW50VHlwZSgnU1RPUlknKSk7XG5cdHByaXZhdGUgX3N0b3JpZXNCeVN0b3J5SWQgPSBjb21wdXRlZCgoKSA9PiB0aGlzLmdyb3VwRWxlbWVudHNCeUlkKHRoaXMuc3RvcmllcykpO1xuXG5cdHByaXZhdGUgX3BhcnRuZXJzID0gY29tcHV0ZWQoKCkgPT4gdGhpcy5nZXRHcm91cGVkRWxlbWVudFR5cGUoJ1BBUlRORVInKSk7XG5cdHByaXZhdGUgX3BhcnRuZXJzQnlQYXJ0bmVySWQgPSBjb21wdXRlZCgoKSA9PiB7XG5cdFx0Y29uc3QgcGFydG5lcnMgPSBnZXRQYXJ0bmVycyh0aGlzLmNvbnRlbnQpIHx8IFtdO1xuXHRcdHJldHVybiBwYXJ0bmVycy5yZWR1Y2UoKGZpbmFsT2JqLCBwYXJ0bmVyKSA9PiB7XG5cdFx0XHRmaW5hbE9ialtwYXJ0bmVyLmluc3RpdHV0aW9uLmluc3RpdHV0aW9uSWRdID0gcGFydG5lcjtcblx0XHRcdHJldHVybiBmaW5hbE9iajtcblx0XHR9LCB7fSBhcyBPYmo8c3RyaW5nLCBQYXJ0bmVySW5zdGl0dXRpb24+KTtcblx0fSk7XG5cblx0cHJpdmF0ZSBfY292ZXJJbWFnZSA9IGNvbXB1dGVkKCgpID0+IHRoaXMuZ2V0R3JvdXBlZEVsZW1lbnRUeXBlKCdDT1ZFUl9JTUFHRScpPy5bMF0pO1xuXHRwcml2YXRlIF9iYWNrZ3JvdW5kSW1hZ2UgPSBjb21wdXRlZCgoKSA9PiB0aGlzLmdldEdyb3VwZWRFbGVtZW50VHlwZSgnQkFDS0dST1VORF9JTUFHRScpPy5bMF0pO1xuXHRwcml2YXRlIF9ncm91cGVkRWxlbWVudHMgPSBjb21wdXRlZCgoKSA9PiBnZXRHcm91cGVkRWxlbWVudHModGhpcy5jb250ZW50KSk7XG5cblx0cHJpdmF0ZSBfcmVsYXRpb25DcmVhdGlvbkJ5UmVsYXRpb25JZCA9IGNvbXB1dGVkKCgpID0+IHtcblx0XHRyZXR1cm4gT2JqZWN0LmtleXModGhpcy5yZWxhdGlvbnNCeVJlbGF0aW9uSWQpLnJlZHVjZSgoZmluYWxPYmosIGtleSkgPT4ge1xuXHRcdFx0ZmluYWxPYmpba2V5XSA9IHV1aWRUb0RhdGUoa2V5KTtcblx0XHRcdHJldHVybiBmaW5hbE9iajtcblx0XHR9LCB7fSBhcyBPYmo8c3RyaW5nLCBEYXRlPik7XG5cdH0pO1xuXG5cdHByaXZhdGUgX2dyb3VwZWRSZWxhdGlvbnMgPSBjb21wdXRlZCgoKSA9PiB7XG5cdFx0cmV0dXJuIHRoaXMucmVsYXRpb25zLnJlZHVjZSgoZmluYWxPYmosIG9iaikgPT4ge1xuXHRcdFx0Y29uc3QgeyBjb250ZW50VHlwZSB9ID0gb2JqLmlkO1xuXHRcdFx0aWYgKCEoY29udGVudFR5cGUgaW4gZmluYWxPYmopKSBmaW5hbE9ialtjb250ZW50VHlwZV0gPSBbXTtcblx0XHRcdGZpbmFsT2JqW2NvbnRlbnRUeXBlXS5wdXNoKG9iaik7XG5cdFx0XHRyZXR1cm4gZmluYWxPYmo7XG5cdFx0fSwge30gYXMgT2JqPENvbnRlbnRUeXBlLCBDb250ZW50T2JqZWN0W10+KTtcblx0fSk7XG5cblx0cHJpdmF0ZSBfcmVsYXRpb25zQnlSZWxhdGlvbklkID0gY29tcHV0ZWQoKCkgPT4ge1xuXHRcdHJldHVybiB0aGlzLnJlbGF0aW9ucy5yZWR1Y2UoKGZpbmFsT2JqLCByZWxhdGlvbikgPT4ge1xuXHRcdFx0ZmluYWxPYmpbcmVsYXRpb24ucmVsYXRpb25JZF0gPSByZWxhdGlvbjtcblx0XHRcdHJldHVybiBmaW5hbE9iajtcblx0XHR9LCB7fSBhcyBPYmo8c3RyaW5nLCBDb250ZW50T2JqZWN0Pik7XG5cdH0pO1xuXG5cdHByaXZhdGUgX3VzZXJzQnlVc2VySWQgPSBjb21wdXRlZCgoKSA9PiB7XG5cdFx0cmV0dXJuIGdldFVzZXJzKHRoaXMuY29udGVudCkucmVkdWNlKChmaW5hbE9iaiwgdXNlcikgPT4ge1xuXHRcdFx0ZmluYWxPYmpbdXNlci51c2VySWRdID0gdXNlcjtcblx0XHRcdHJldHVybiBmaW5hbE9iajtcblx0XHR9LCB7fSBhcyBPYmo8c3RyaW5nLCBVc2VyPik7XG5cdH0pO1xuXG5cdHByb3RlY3RlZCBnZXRHcm91cGVkRWxlbWVudFR5cGUodHlwZTogJ0ZBQ1QnKTogV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQ8TWVtb3JpYWxGYWN0PltdO1xuXHRwcm90ZWN0ZWQgZ2V0R3JvdXBlZEVsZW1lbnRUeXBlKHR5cGU6ICdGQUNUX1NPVVJDRScpOiBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudDxNZW1vcmlhbEZhY3RTb3VyY2U+W107XG5cdHByb3RlY3RlZCBnZXRHcm91cGVkRWxlbWVudFR5cGUodHlwZTogJ1NPVVJDRScpOiBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudDxNZW1vcmlhbFNvdXJjZT5bXTtcblx0cHJvdGVjdGVkIGdldEdyb3VwZWRFbGVtZW50VHlwZSh0eXBlOiAnU1RPUlknKTogV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQ8TWVtb3JpYWxTdG9yeT5bXTtcblx0cHJvdGVjdGVkIGdldEdyb3VwZWRFbGVtZW50VHlwZSh0eXBlOiAnUEFSVE5FUicpOiBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudDxNZW1vcmlhbFBhcnRuZXI+W107XG5cdHByb3RlY3RlZCBnZXRHcm91cGVkRWxlbWVudFR5cGUodHlwZTogJ0JBQ0tHUk9VTkRfSU1BR0UnKTogV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQ8TWVtb3JpYWxCYWNrZ3JvdW5kSW1hZ2U+W107XG5cdHByb3RlY3RlZCBnZXRHcm91cGVkRWxlbWVudFR5cGUodHlwZTogJ0NPVkVSX0lNQUdFJyk6IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50PE1lbW9yaWFsQ292ZXJJbWFnZT5bXTtcblx0cHJvdGVjdGVkIGdldEdyb3VwZWRFbGVtZW50VHlwZSh0eXBlOiAnTElOSycpOiBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudDxDb250ZW50RG9jdW1lbnRMaW5rPltdO1xuXHRwcm90ZWN0ZWQgZ2V0R3JvdXBlZEVsZW1lbnRUeXBlKHR5cGU6IERvY3VtZW50RWxlbWVudFR5cGUpOiBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudDxXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudEFic3RyYWN0RWxlbWVudD5bXSB7XG5cdFx0cmV0dXJuIHRoaXMuZ3JvdXBlZEVsZW1lbnRzW3R5cGVdIHx8IFtdO1xuXHR9XG5cblx0cHJvdGVjdGVkIGdyb3VwRWxlbWVudHNCeUlkID0gPFQgZXh0ZW5kcyBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudEFic3RyYWN0RWxlbWVudD4oZWxlbWVudHM6IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50PFQ+W10pID0+IHtcblx0XHRyZXR1cm4gZWxlbWVudHMucmVkdWNlKChmaW5hbE9iaiwgZWxlbWVudCkgPT4ge1xuXHRcdFx0ZmluYWxPYmpbZ2V0RWxlbWVudElkKGVsZW1lbnQpXSA9IGVsZW1lbnQ7XG5cdFx0XHRyZXR1cm4gZmluYWxPYmo7XG5cdFx0fSwge30gYXMgT2JqPHN0cmluZywgV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQ8VD4+KTtcblx0fTtcbn1cbiIsImltcG9ydCB7IENvbnRlbnRDb21wdXRlZFZhbHVlcyB9IGZyb20gJy4uL2NvbnRlbnRDb21wdXRlZFZhbHVlcyc7XG5pbXBvcnQgeyBXcmFwcGVkSW5kZXhSZWNvcmRDb250ZW50IH0gZnJvbSAnLi9pbmRleFJlY29yZENvbnRlbnQnO1xuXG5leHBvcnQgY2xhc3MgSW5kZXhSZWNvcmRDb21wdXRlZFZhbHVlcyBleHRlbmRzIENvbnRlbnRDb21wdXRlZFZhbHVlczxXcmFwcGVkSW5kZXhSZWNvcmRDb250ZW50PiB7XG5cbn1cbiIsImltcG9ydCB7IFdyYXBwZWRDb250ZW50RG9jdW1lbnRBYnN0cmFjdERvY3VtZW50LCBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudEFic3RyYWN0RWxlbWVudCwgV3JhcHBlZENvbnRlbnREb2N1bWVudCB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcblxuZXhwb3J0IGNvbnN0IGdldERvY3VtZW50ID0gPEQgZXh0ZW5kcyBXcmFwcGVkQ29udGVudERvY3VtZW50QWJzdHJhY3REb2N1bWVudCwgRSBleHRlbmRzIFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50QWJzdHJhY3RFbGVtZW50LCBPPihjb250ZW50OiBXcmFwcGVkQ29udGVudERvY3VtZW50PEQsIEUsIE8+KSA9PiB7XG5cdHJldHVybiBjb250ZW50LmRvY3VtZW50O1xufTtcbiIsImltcG9ydCB7IENvbXBhY3RQdWJsaWNhdGlvbiwgUHVibGljYXRpb25BcGkgfSBmcm9tICcuLi8uLi9hcGlzL3B1YmxpY2F0aW9uQXBpJztcbmltcG9ydCB7IFNUQURhdGEgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL1NhdmVUb0FuY2VzdHJ5JztcbmltcG9ydCB7IEJhdHRsZSwgQ29tcGFueURldGFpbHMsIERvY3VtZW50RWxlbWVudFVwZGF0ZVJlc3VsdHMsIERvbWFpbiwgSW1hZ2VEYXRhLCBJbmRleFJlY29yZCwgTWVtb3JpYWwsIE1pbGl0YXJ5VW5pdCwgUmVnaW1lbnQsIFN1YkltYWdlRGF0YSwgU3ViamVjdCwgV3JhcHBlZENvbnRlbnREb2N1bWVudCB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IEZvbGQzRW52aXJvbm1lbnQgfSBmcm9tICcuLi8uLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgZGVlcE1lcmdlIH0gZnJvbSAnLi4vZGVlcE1lcmdlJztcbmltcG9ydCB7IGdldFNpdGVOYW1lIH0gZnJvbSAnLi4vbG9jYWxpemF0aW9uL2RvbWFpbic7XG5pbXBvcnQgeyB1bmVzY2FwZUhUTUwgfSBmcm9tICcuLi90ZW1wbGF0aW5nJztcbmltcG9ydCB7IGdldFRodW1ibmFpbCB9IGZyb20gJy4uL3RodW1ibmFpbCc7XG5pbXBvcnQgeyBXcmFwcGVkQmF0dGxlQ29udGVudCB9IGZyb20gJy4vYmF0dGxlcy9iYXR0bGVDb250ZW50JztcbmltcG9ydCB7IFdyYXBwZWRDb21wYW55Q29udGVudCB9IGZyb20gJy4vY29tcGFuaWVzL2NvbXBhbnlDb250ZW50JztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi9jb250ZW50RG9jdW1lbnQnO1xuaW1wb3J0IHsgYWRkRWxlbWVudHMsIHJlbW92ZUVsZW1lbnRzLCB1cGRhdGVFbGVtZW50cyB9IGZyb20gJy4vY29udGVudEVsZW1lbnRzJztcbmltcG9ydCB7IGdldE1ldGFkYXRhLCBnZXRXcmFwcGVkQ29udGVudFJlZiwgZ2V0V3JhcHBlZENvbnRlbnRUeXBlIH0gZnJvbSAnLi9jb250ZW50TWV0YWRhdGEnO1xuaW1wb3J0IHsgZ2V0Q29udGVudFR5cGVMYWJlbCB9IGZyb20gJy4vY29udGVudE9iamVjdCc7XG5pbXBvcnQgeyBnZXRQdWJsaWNhdGlvbklkLCBtZXJnZVJ1bnRpbWVQcm9wZXJ0aWVzIH0gZnJvbSAnLi9jb250ZW50UnVudGltZSc7XG5pbXBvcnQgeyBXcmFwcGVkSW5kZXhSZWNvcmRDb250ZW50IH0gZnJvbSAnLi9pbmRleC1yZWNvcmRzL2luZGV4UmVjb3JkQ29udGVudCc7XG5pbXBvcnQgeyBXcmFwcGVkUmVnaW1lbnRDb250ZW50IH0gZnJvbSAnLi9yZWdpbWVudHMvcmVnaW1lbnRDb250ZW50JztcblxuZXhwb3J0IGNvbnN0IGdldE93bmVyID0gKGNvbnRlbnQ6IFdyYXBwZWRDb250ZW50RG9jdW1lbnQpID0+IHtcblx0cmV0dXJuIGdldE1ldGFkYXRhKGNvbnRlbnQpLm93bmVyO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNhdmVUb0FuY2VzdHJ5RGF0YSA9IGFzeW5jIChjb250ZW50OiBXcmFwcGVkQ29udGVudERvY3VtZW50LCBkb21haW46IERvbWFpbiwgZW52aXJvbm1lbnQ6IEZvbGQzRW52aXJvbm1lbnQsIHB1YmxpY2F0aW9uOiBDb21wYWN0UHVibGljYXRpb24pOiBQcm9taXNlPFNUQURhdGE+ID0+IHtcblx0bGV0IGRhdGE6IFNUQURhdGEgPSB7XG5cdFx0Y2l0YXRpb246IHtcblx0XHRcdHRpdGxlOiBnZXRDb250ZW50VGl0bGUoY29udGVudCksXG5cdFx0XHR1cmw6IGxvY2F0aW9uLmhyZWYsXG5cdFx0fSxcblx0XHRtZWRpYToge1xuXHRcdFx0dXJsOiBnZXRUaHVtYm5haWwoe1xuXHRcdFx0XHRwYXRoOiAncmVmZXJlbmNlJyxcblx0XHRcdFx0cmVmOiBnZXRXcmFwcGVkQ29udGVudFJlZihjb250ZW50KSxcblx0XHRcdFx0ZG9tYWluLFxuXHRcdFx0XHRlbnZpcm9ubWVudCxcblx0XHRcdFx0cXVlcnk6IHtcblx0XHRcdFx0XHR3aWR0aDogNDAwLFxuXHRcdFx0XHRcdGhlaWdodDogNDAwLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSksXG5cblx0XHRcdC8vIHVybDogZ2V0TWVkaWFUaHVtYm5haWwoY29udGVudCksXG5cdFx0fSxcblx0XHRzb3VyY2U6IHtcblx0XHRcdHRpdGxlOiAnJyxcblx0XHRcdHB1Ymxpc2hlck5hbWU6ICcnLFxuXHRcdFx0cHVibGlzaGVkRGF0ZTogJycsXG5cdFx0XHRwdWJsaXNoZWRMb2NhdGlvbjogJycsXG5cdFx0fSxcblx0fTtcblxuXHRhd2FpdCBwb3B1bGF0ZVNUQVB1YmxpY2F0aW9uRGF0YShkYXRhLCBwdWJsaWNhdGlvbik7XG5cblx0bGV0IGRlc2NyaXB0aW9uID0gZ2V0RGVzY3JpcHRpb24oY29udGVudCk7XG5cdGlmIChkZXNjcmlwdGlvbikgZGF0YS5tZWRpYS5ub3RlID0gZGVzY3JpcHRpb247XG5cblx0cmV0dXJuIGRhdGE7XG59O1xuXG5leHBvcnQgY29uc3QgcG9wdWxhdGVTVEFQdWJsaWNhdGlvbkRhdGEgPSBhc3luYyAoZGF0YTogU1RBRGF0YSwgcHVibGljYXRpb246IENvbXBhY3RQdWJsaWNhdGlvbikgPT4ge1xuXHRpZiAocHVibGljYXRpb24pIHtcblx0XHRsZXQgcHVibGljYXRpb25NZXRhZGF0YSA9IGF3YWl0IG5ldyBQdWJsaWNhdGlvbkFwaSgpLmdldFB1YmxpY2F0aW9uRXZlbnRNZXRhZGF0YShwdWJsaWNhdGlvbi5wdWJsaWNhdGlvbklkKTtcblxuXHRcdGxldCB7IGRhdGUsIHBsYWNlLCBuYW1lIH0gPSBwdWJsaWNhdGlvbk1ldGFkYXRhO1xuXG5cdFx0ZGF0YS5zb3VyY2UgPSB7XG5cdFx0XHR0aXRsZTogbmFtZSxcblx0XHRcdHB1Ymxpc2hlZERhdGU6IGRhdGUsXG5cdFx0XHRwdWJsaXNoZWRMb2NhdGlvbjogcGxhY2UsXG5cdFx0XHRwdWJsaXNoZXJOYW1lOiBnZXRTaXRlTmFtZShwdWJsaWNhdGlvbi5kb21haW4pLFxuXHRcdCB9O1xuXHR9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGVudFRpdGxlKGNvbnRlbnQ6IFdyYXBwZWRCYXR0bGVDb250ZW50KTogc3RyaW5nO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRlbnRUaXRsZShjb250ZW50OiBXcmFwcGVkQ29tcGFueUNvbnRlbnQpOiBzdHJpbmc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGVudFRpdGxlKGNvbnRlbnQ6IFdyYXBwZWRSZWdpbWVudENvbnRlbnQpOiBzdHJpbmc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGVudFRpdGxlKGNvbnRlbnQ6IFdyYXBwZWRCYXR0bGVDb250ZW50KTogc3RyaW5nO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRlbnRUaXRsZShjb250ZW50OiBXcmFwcGVkQ29udGVudERvY3VtZW50PE1lbW9yaWFsPik6IHN0cmluZztcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZW50VGl0bGUoY29udGVudDogV3JhcHBlZEluZGV4UmVjb3JkQ29udGVudCk6IHN0cmluZztcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZW50VGl0bGUoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCk6IHN0cmluZztcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZW50VGl0bGUoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCk6IHN0cmluZyB7XG5cdGxldCB0aXRsZTtcblx0c3dpdGNoIChnZXRXcmFwcGVkQ29udGVudFR5cGUoY29udGVudCkpIHtcblx0XHRjYXNlICdCQVRUTEUnOlxuXHRcdGNhc2UgJ1JFR0lNRU5UJzpcblx0XHRjYXNlICdDT01QQU5ZJzpcblx0XHRjYXNlICdNSUxJVEFSWV9VTklUJzpcblx0XHRcdHRpdGxlID0gKGdldERvY3VtZW50KGNvbnRlbnQpIGFzIEJhdHRsZSB8IFJlZ2ltZW50IHwgQ29tcGFueURldGFpbHMgfCBNaWxpdGFyeVVuaXQpLm5hbWU7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdTVE9SWV9QQUdFJzpcblx0XHRjYXNlICdTVUJKRUNUJzpcblx0XHRjYXNlICdJTkRFWF9SRUNPUkQnOlxuXHRcdGNhc2UgJ0lNQUdFJzpcblx0XHRjYXNlICdTVUJfSU1BR0UnOlxuXHRcdFx0dGl0bGUgPSAoZ2V0RG9jdW1lbnQoY29udGVudCkgYXMgTWVtb3JpYWwgfCBJbmRleFJlY29yZCB8IEltYWdlRGF0YSB8IFN1YkltYWdlRGF0YSB8IFN1YmplY3QpLnRpdGxlO1xuXHRcdFx0YnJlYWs7XG5cdH1cblx0cmV0dXJuIHVuZXNjYXBlSFRNTCh0aXRsZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZXNjcmlwdGlvbihjb250ZW50OiBXcmFwcGVkQ29udGVudERvY3VtZW50KTogc3RyaW5nO1xuZXhwb3J0IGZ1bmN0aW9uIGdldERlc2NyaXB0aW9uKGNvbnRlbnQ6IFdyYXBwZWRDb250ZW50RG9jdW1lbnQpOiBzdHJpbmcge1xuXHRsZXQgZGVzY3JpcHRpb247XG5cblx0c3dpdGNoIChnZXRXcmFwcGVkQ29udGVudFR5cGUoY29udGVudCkpIHtcblx0XHRjYXNlICdTVE9SWV9QQUdFJzpcblx0XHRjYXNlICdTVUJKRUNUJzpcblx0XHRcdGRlc2NyaXB0aW9uID0gKGdldERvY3VtZW50KGNvbnRlbnQpIGFzIE1lbW9yaWFsKS5kZXNjcmlwdGlvbjtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRkZXNjcmlwdGlvbiA9ICcnO1xuXHRcdFx0YnJlYWs7XG5cdH1cblxuXHRyZXR1cm4gdW5lc2NhcGVIVE1MKGRlc2NyaXB0aW9uKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1B1YmxpY2F0aW9uKGNvbnRlbnQ6IFdyYXBwZWRDb250ZW50RG9jdW1lbnQpIHtcblx0cmV0dXJuICEhZ2V0UHVibGljYXRpb25JZChjb250ZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlRG9jdW1lbnRVcGRhdGVzPEQgZXh0ZW5kcyBXcmFwcGVkQ29udGVudERvY3VtZW50Pihjb250ZW50OiBELCB1cGRhdGU6IEQpOiBEIHtcblx0aWYgKHVwZGF0ZS5kb2N1bWVudCkgY29udGVudC5kb2N1bWVudCA9IGRlZXBNZXJnZShjb250ZW50LmRvY3VtZW50LCB1cGRhdGUuZG9jdW1lbnQpO1xuXHRpZiAodXBkYXRlLm1ldGFkYXRhKSBjb250ZW50Lm1ldGFkYXRhID0gZGVlcE1lcmdlKGNvbnRlbnQubWV0YWRhdGEsIHVwZGF0ZS5tZXRhZGF0YSk7XG5cblx0cmV0dXJuIGNvbnRlbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZURvY3VtZW50RWxlbWVudFVwZGF0ZXM8RCBleHRlbmRzIFdyYXBwZWRDb250ZW50RG9jdW1lbnQ+KGNvbnRlbnQ6IEQsIHVwZGF0ZTogRG9jdW1lbnRFbGVtZW50VXBkYXRlUmVzdWx0cyk6IEQge1xuXHRjb25zdCB7IGNoYW5nZXMgPSBbXSwgZGVsZXRpb25zID0gW10sIG5ld0VsZW1lbnRzID0gW10sIHJ1bnRpbWVQcm9wZXJ0aWVzID0ge30gfSA9IHVwZGF0ZTtcblxuXHRyZW1vdmVFbGVtZW50cyhjb250ZW50LCBkZWxldGlvbnMpO1xuXHR1cGRhdGVFbGVtZW50cyhjb250ZW50LCBjaGFuZ2VzKTtcblx0YWRkRWxlbWVudHMoY29udGVudCwgbmV3RWxlbWVudHMpO1xuXHRtZXJnZVJ1bnRpbWVQcm9wZXJ0aWVzKGNvbnRlbnQsIHJ1bnRpbWVQcm9wZXJ0aWVzKTtcblxuXHRyZXR1cm4gY29udGVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFdyYXBwZWRDb250ZW50VHlwZUxhYmVsPEQgZXh0ZW5kcyBXcmFwcGVkQ29udGVudERvY3VtZW50Pihjb250ZW50OiBEKTogc3RyaW5nIHtcblx0cmV0dXJuIGdldENvbnRlbnRUeXBlTGFiZWwoZ2V0V3JhcHBlZENvbnRlbnRUeXBlKGNvbnRlbnQpKTtcbn1cbiIsImltcG9ydCB7IENvbnRlbnRPYmplY3QsIERvY3VtZW50RWxlbWVudFVwZGF0ZVJlc3VsdHMsIE9iamVjdFJlZmVyZW5jZSB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IE9iaiB9IGZyb20gJy4uLy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBhbHBoYU51bWVyaWNTb3J0IH0gZnJvbSAnLi4vc29ydFV0aWwnO1xuaW1wb3J0IHsgYXJlU2FtZU9iamVjdCB9IGZyb20gJy4vY29udGVudE9iamVjdCc7XG5cbmV4cG9ydCBjb25zdCBhZGRSZWxhdGlvbiA9IChyZWxhdGlvbnM6IENvbnRlbnRPYmplY3RbXSwgcmVsYXRpb246IENvbnRlbnRPYmplY3QpID0+IHtcblx0cmV0dXJuIHVwZGF0ZVJlbGF0aW9uKHJlbGF0aW9ucywgcmVsYXRpb24pOyAvLyB1c2luZyB1cGRhdGVSZWxhdGlvbiBqdXN0IGluIGNhc2UgcmVsYXRpb24gYWxyZWFkeSBleGlzdHNcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRSZWxhdGlvbnMgPSAocmVsYXRpb25zOiBDb250ZW50T2JqZWN0W10sIG5ld1JlbGF0aW9uczogQ29udGVudE9iamVjdFtdKSA9PiB7XG5cdG5ld1JlbGF0aW9ucy5mb3JFYWNoKHJlbGF0aW9uID0+IHsgYWRkUmVsYXRpb24ocmVsYXRpb25zLCByZWxhdGlvbik7IH0pO1xuXHRyZXR1cm4gcmVsYXRpb25zO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbW92ZVJlbGF0aW9uID0gKHJlbGF0aW9uczogQ29udGVudE9iamVjdFtdLCByZWxhdGlvbklkOiBzdHJpbmcpID0+IHtcblx0bGV0IGluZGV4ID0gZmluZFJlbGF0aW9uSW5kZXgocmVsYXRpb25zLCByZWxhdGlvbklkKTtcblx0aWYgKGluZGV4ID49IDApIHJlbGF0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRyZXR1cm4gcmVsYXRpb25zO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVJlbGF0aW9uc09yZGVyID0gKHJlbGF0aW9uczogQ29udGVudE9iamVjdFtdLCB1cGRhdGVkVVVJRHNPcmRlcjogc3RyaW5nW10pID0+IHtcblx0Y29uc3QgdXBkYXRlZFVVSURzTWFwID0gdXBkYXRlZFVVSURzT3JkZXIucmVkdWNlKChmaW5hbE9iaiwgdXVpZCwgaSkgPT4ge1xuXHRcdHJldHVybiB7IC4uLmZpbmFsT2JqLCBbdXVpZF06IGkgfTtcblx0fSwge30gYXMgT2JqPHN0cmluZywgbnVtYmVyPik7XG5cblx0cmV0dXJuIHJlbGF0aW9ucy5zb3J0KChyZWxhdGlvbkEsIHJlbGF0aW9uQikgPT4ge1xuXHRcdGNvbnN0IGluZGV4QSA9IHVwZGF0ZWRVVUlEc01hcFtyZWxhdGlvbkEucmVsYXRpb25JZF07XG5cdFx0Y29uc3QgaW5kZXhCID0gdXBkYXRlZFVVSURzTWFwW3JlbGF0aW9uQi5yZWxhdGlvbklkXTtcblxuXHRcdGlmIChpbmRleEEgIT09IHVuZGVmaW5lZCAmJiBpbmRleEIgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIGFscGhhTnVtZXJpY1NvcnQoaW5kZXhBLCBpbmRleEIpO1xuXHRcdH1cblx0XHRyZXR1cm4gMDtcblx0fSk7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlUmVsYXRpb24gPSAocmVsYXRpb25zOiBDb250ZW50T2JqZWN0W10sIHVwZGF0ZWRSZWxhdGlvbjogQ29udGVudE9iamVjdCkgPT4ge1xuXHRsZXQgaW5kZXggPSBmaW5kUmVsYXRpb25JbmRleChyZWxhdGlvbnMsIHVwZGF0ZWRSZWxhdGlvbi5yZWxhdGlvbklkKTtcblx0bGV0IHNwbGljZUluZGV4ID0gaW5kZXggIT09IC0xID8gaW5kZXggOiByZWxhdGlvbnMubGVuZ3RoO1xuXHRyZWxhdGlvbnMuc3BsaWNlKHNwbGljZUluZGV4LCAxLCB1cGRhdGVkUmVsYXRpb24pO1xuXHRyZXR1cm4gcmVsYXRpb25zO1xufTtcblxuZXhwb3J0IGNvbnN0IG1lcmdlUmVsYXRpb25VcGRhdGVzID0gKHJlbGF0aW9uczogQ29udGVudE9iamVjdFtdLCByZXN1bHRzOiBEb2N1bWVudEVsZW1lbnRVcGRhdGVSZXN1bHRzKSA9PiB7XG5cdGxldCB1bmlxdWVSZWxhdGlvbnMgPSAocmVzdWx0cy5uZXdDb25uZWN0aW9ucyB8fCBbXSkuZmlsdGVyKGNvbm5lY3Rpb24gPT4ge1xuXHRcdHJldHVybiAhcmVsYXRpb25zLnNvbWUocmVsYXRpb24gPT4gYXJlU2FtZU9iamVjdChyZWxhdGlvbi5pZCwgY29ubmVjdGlvbi5pZCkpO1xuXHR9KTtcblx0cmV0dXJuIFsuLi5yZWxhdGlvbnMsIC4uLnVuaXF1ZVJlbGF0aW9uc107XG59O1xuXG5jb25zdCBmaW5kUmVsYXRpb25JbmRleCA9IChyZWxhdGlvbnM6IENvbnRlbnRPYmplY3RbXSwgcmVsYXRpb25JZDogc3RyaW5nKSA9PiB7XG5cdHJldHVybiByZWxhdGlvbnMuZmluZEluZGV4KHJlbCA9PiByZWwucmVsYXRpb25JZCA9PT0gcmVsYXRpb25JZCk7XG59O1xuXG5leHBvcnQgY29uc3QgZmluZFJlbGF0aW9uQnlSZWZlcmVuY2UgPSAocmVsYXRpb25zOiBDb250ZW50T2JqZWN0W10gPSBbXSwgcmVmOiBPYmplY3RSZWZlcmVuY2UpID0+IHtcblx0cmV0dXJuIHJlbGF0aW9ucy5maW5kKHJlbCA9PiB7XG5cdFx0Y29uc3QgeyBjb250ZW50VHlwZSwgb2JqZWN0SWQgfSA9IHJlbC5pZDtcblx0XHRyZXR1cm4gY29udGVudFR5cGUgPT09IHJlZi5jb250ZW50VHlwZSAmJiBvYmplY3RJZCA9PT0gcmVmLm9iamVjdElkO1xuXHR9KTtcbn07XG4iLCJpbXBvcnQgY2xvbmUgZnJvbSAnY2xvbmUnO1xuaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENvbnRlbnRBcGlzLCBDb250ZW50Q29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvY29udGVudENvbnRleHQnO1xuaW1wb3J0IHsgRm9sZDNQYWdlQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvZm9sZDNQYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBDb250ZW50T2JqZWN0LCBEb2N1bWVudEVsZW1lbnRVcGRhdGVSZXN1bHRzLCBXcmFwcGVkQ29udGVudERvY3VtZW50IH0gZnJvbSAnLi4vLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgbWVyZ2VEb2N1bWVudEVsZW1lbnRVcGRhdGVzIH0gZnJvbSAnLi4vY29udGVudC9jb250ZW50JztcbmltcG9ydCB7IENvbnRlbnRDb21wdXRlZFZhbHVlcyB9IGZyb20gJy4uL2NvbnRlbnQvY29udGVudENvbXB1dGVkVmFsdWVzJztcbmltcG9ydCB7IG1lcmdlUmVsYXRpb25VcGRhdGVzIH0gZnJvbSAnLi4vY29udGVudC9jb250ZW50UmVsYXRpb25zJztcbmltcG9ydCB7IGdldFB1YmxpY2F0aW9uSWQgfSBmcm9tICcuLi9jb250ZW50L2NvbnRlbnRSdW50aW1lJztcbmltcG9ydCB7IHVzZVJlcmVuZGVyIH0gZnJvbSAnLi91c2VSZXJlbmRlcic7XG5cblxuaW50ZXJmYWNlIENvbnRlbnRDb250ZXh0QXJnczxUIGV4dGVuZHMgV3JhcHBlZENvbnRlbnREb2N1bWVudCwgQyBleHRlbmRzIENvbnRlbnRDb21wdXRlZFZhbHVlczxUPiwgQSBleHRlbmRzIENvbnRlbnRBcGlzPiB7XG5cdGluaXRpYWxDb250ZW50OiBUXG5cdGluaXRpYWxSZWxhdGlvbnM/OiBDb250ZW50T2JqZWN0W11cblx0Q29tcHV0ZWRWYWx1ZXNDbGFzcz86IG5ldyAoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCwgcmVsYXRpb25zOiBDb250ZW50T2JqZWN0W10pID0+IENcblx0Q29udGVudEFwaTogQVxufVxuXG5cbmV4cG9ydCBjb25zdCB1c2VDb250ZW50Q29udGV4dCA9IDxUIGV4dGVuZHMgV3JhcHBlZENvbnRlbnREb2N1bWVudCA9IFdyYXBwZWRDb250ZW50RG9jdW1lbnQsIEMgZXh0ZW5kcyBDb250ZW50Q29tcHV0ZWRWYWx1ZXM8VD4gPSBudWxsLCBBIGV4dGVuZHMgQ29udGVudEFwaXMgPSBDb250ZW50QXBpcz4oeyBpbml0aWFsQ29udGVudCwgaW5pdGlhbFJlbGF0aW9ucyA9IFtdLCBDb21wdXRlZFZhbHVlc0NsYXNzLCBDb250ZW50QXBpIH06IENvbnRlbnRDb250ZXh0QXJnczxULCBDLCBBPik6IENvbnRlbnRDb250ZXh0PFQsIEMsIEE+ID0+IHtcblx0Y29uc3QgW2NvbnRlbnQsIHNldENvbnRlbnRdID0gdXNlU3RhdGUoaW5pdGlhbENvbnRlbnQpO1xuXHRjb25zdCBbcmVsYXRpb25zLCBzZXRSZWxhdGlvbnNdID0gdXNlU3RhdGUoaW5pdGlhbFJlbGF0aW9ucyk7XG5cdGNvbnN0IGNvbXB1dGVkVmFsdWVzID0gdXNlUmVmKHR5cGVvZiBDb21wdXRlZFZhbHVlc0NsYXNzID09PSAnZnVuY3Rpb24nID8gbmV3IENvbXB1dGVkVmFsdWVzQ2xhc3MoY29udGVudCwgcmVsYXRpb25zKSA6IG51bGwpO1xuXHRjb25zdCB7IHJlcmVuZGVyIH0gPSB1c2VSZXJlbmRlcigpO1xuXHRjb25zdCB7IHB1YmxpY2F0aW9ucyB9ID0gdXNlQ29udGV4dChGb2xkM1BhZ2VDb250ZXh0KTtcblxuXHRjb25zdCB1cGRhdGVDb21wdXRlZFZhbHVlcyA9ICh0b1VwZGF0ZTogeyBjb250ZW50PzogVCwgcmVsYXRpb25zPzogQ29udGVudE9iamVjdFtdIH0pID0+IHtcblx0XHRjb21wdXRlZFZhbHVlcy5jdXJyZW50Py51cGRhdGVDb250ZW50QW5kUmVsYXRpb25zPy4odG9VcGRhdGUpO1xuXHRcdHJlcmVuZGVyKCk7XG5cdH07XG5cblx0Y29uc3QgdXBkYXRlQ29udGVudCA9IChmbjogKGNvbnRlbnQ6IFQpID0+IFQsIGludmFsaWRhdGU6IGJvb2xlYW4gPSB0cnVlKTogUHJvbWlzZTxUPiA9PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHNldENvbnRlbnQoY29udGVudCA9PiB7XG5cdFx0XHRcdGNvbnN0IGNvcHkgPSBjbG9uZShjb250ZW50KTtcblx0XHRcdFx0bGV0IG5ld0NvbnRlbnQgPSBmbihjb3B5KTtcblx0XHRcdFx0aWYgKGludmFsaWRhdGUpIHVwZGF0ZUNvbXB1dGVkVmFsdWVzKHsgY29udGVudDogbmV3Q29udGVudCB9KTtcblx0XHRcdFx0cmVzb2x2ZShuZXdDb250ZW50KTtcblx0XHRcdFx0cmV0dXJuIG5ld0NvbnRlbnQ7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fTtcblxuXHRjb25zdCB1cGRhdGVSZWxhdGlvbnMgPSAoZm46IChyZWxhdGlvbnM6IENvbnRlbnRPYmplY3RbXSkgPT4gQ29udGVudE9iamVjdFtdLCBpbnZhbGlkYXRlOiBib29sZWFuID0gdHJ1ZSk6IFByb21pc2U8Q29udGVudE9iamVjdFtdPiA9PiB7XG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdHNldFJlbGF0aW9ucyhyZWxhdGlvbnMgPT4ge1xuXHRcdFx0XHRjb25zdCBjb3B5ID0gY2xvbmUocmVsYXRpb25zKTtcblx0XHRcdFx0bGV0IG5ld1JlbGF0aW9ucyA9IGZuKGNvcHkpO1xuXHRcdFx0XHRpZiAoaW52YWxpZGF0ZSkgdXBkYXRlQ29tcHV0ZWRWYWx1ZXMoeyByZWxhdGlvbnM6IG5ld1JlbGF0aW9ucyB9KTtcblx0XHRcdFx0cmVzb2x2ZShuZXdSZWxhdGlvbnMpO1xuXHRcdFx0XHRyZXR1cm4gbmV3UmVsYXRpb25zO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH07XG5cblx0Y29uc3QgbWVyZ2VFbGVtZW50VXBkYXRlUmVzdWx0cyA9IGFzeW5jIChyZXN1bHRzOiBEb2N1bWVudEVsZW1lbnRVcGRhdGVSZXN1bHRzKSA9PiB7XG5cdFx0Y29uc3QgW2NvbnRlbnQsIHJlbGF0aW9uc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG5cdFx0XHR1cGRhdGVDb250ZW50KGNvbnRlbnQgPT4ge1xuXHRcdFx0XHRyZXR1cm4gbWVyZ2VEb2N1bWVudEVsZW1lbnRVcGRhdGVzKGNvbnRlbnQsIHJlc3VsdHMpO1xuXHRcdFx0fSwgdHJ1ZSksXG5cdFx0XHR1cGRhdGVSZWxhdGlvbnMocmVsYXRpb25zID0+IHtcblx0XHRcdFx0cmV0dXJuIG1lcmdlUmVsYXRpb25VcGRhdGVzKHJlbGF0aW9ucywgcmVzdWx0cyk7XG5cdFx0XHR9LCB0cnVlKSxcblx0XHRdKTtcblxuXHRcdHJldHVybiB7IGNvbnRlbnQsIHJlbGF0aW9ucyB9O1xuXHR9O1xuXG5cdGNvbnN0IHNldENvbnRlbnRBbmRSZWxhdGlvbnMgPSBhc3luYyAoY29udGVudEFuZFJlbGF0aW9uczogeyBjb250ZW50OiBULCByZWxhdGlvbnM/OiBDb250ZW50T2JqZWN0W10gfSkgPT4ge1xuXHRcdHVwZGF0ZUNvbXB1dGVkVmFsdWVzKGNvbnRlbnRBbmRSZWxhdGlvbnMpO1xuXG5cdFx0Y29uc3QgW2NvbnRlbnQsIHJlbGF0aW9uc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG5cdFx0XHR1cGRhdGVDb250ZW50KCgpID0+IGNvbnRlbnRBbmRSZWxhdGlvbnMuY29udGVudCwgZmFsc2UpLFxuXHRcdFx0dXBkYXRlUmVsYXRpb25zKCgpID0+IGNvbnRlbnRBbmRSZWxhdGlvbnMucmVsYXRpb25zIHx8IFtdLCBmYWxzZSksXG5cdFx0XSk7XG5cblx0XHRyZXR1cm4geyBjb250ZW50LCByZWxhdGlvbnMgfTtcblx0fTtcblxuXHRyZXR1cm4ge1xuXHRcdGNvbnRlbnQsXG5cdFx0Q29udGVudEFwaSxcblx0XHRyZWxhdGlvbnMsXG5cdFx0Y29tcHV0ZWRWYWx1ZXM6IGNvbXB1dGVkVmFsdWVzLmN1cnJlbnQsXG5cdFx0dXBkYXRlQ29udGVudCxcblx0XHR1cGRhdGVSZWxhdGlvbnMsXG5cdFx0bWVyZ2VFbGVtZW50VXBkYXRlUmVzdWx0cyxcblx0XHR1cGRhdGVDb21wdXRlZFZhbHVlcyxcblx0XHRzZXRDb250ZW50QW5kUmVsYXRpb25zLFxuXHRcdHB1YmxpY2F0aW9uOiBjb250ZW50ID8gcHVibGljYXRpb25zW2dldFB1YmxpY2F0aW9uSWQoY29udGVudCldIDogdW5kZWZpbmVkLFxuXHR9O1xufTtcbiIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBpMThuZXh0SHR0cEJhY2tlbmQ7IiwiaW1wb3J0IHsgRGVzZXJpYWxpemVUeXBlIH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgT2JqIH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IEJhY2tlbmRTZXJ2aWNlLCBGM0FwaSB9IGZyb20gJy4vRjNBcGknO1xuaW1wb3J0IHsgQ29tcGFjdFB1YmxpY2F0aW9uIH0gZnJvbSAnLi9wdWJsaWNhdGlvbkFwaSc7XG5cbmV4cG9ydCBjbGFzcyBDYWNoZUFwaSBleHRlbmRzIEYzQXBpIHtcblx0c2VydmljZTogQmFja2VuZFNlcnZpY2UgPSBudWxsO1xuXHRiYXNlVXJsID0gJy9ub2RlL2NhY2hlJztcblxuXHRhc3luYyBnZXRQdWJsaWNhdGlvbkNhY2hlKCk6IFByb21pc2U8T2JqPHN0cmluZywgQ29tcGFjdFB1YmxpY2F0aW9uPj4ge1xuXHRcdHJldHVybiB0aGlzLmdldCgnL3B1YmxpY2F0aW9ucycsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJzpQdWJsaWNhdGlvbicgYXMgRGVzZXJpYWxpemVUeXBlLFxuXHRcdH0pO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBDb250ZW50U3ViVHlwZSwgQ29udGVudFR5cGUsIERvbWFpbiwgRmFjZXRUeXBlLCBQdWJsaWNhdGlvbiwgVGl0bGVDb2xsZWN0aW9uLCBUaXRsZUNvbGxlY3Rpb25Hcm91cCB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcblxuZXhwb3J0IHR5cGUgTG9jYWxpemFibGVQdWJsaWNhdGlvbiA9IFBpY2s8UHVibGljYXRpb24sICd0aXRsZScgfCAnc2hvcnREZXNjcmlwdGlvbicgfCAnc2hvcnRUaXRsZScgfCAnbWV0YWRhdGEnPlxuZXhwb3J0IHR5cGUgTG9jYWxpemFibGVUaXRsZUNvbGxlY3Rpb24gPSBQaWNrPFRpdGxlQ29sbGVjdGlvbiwgJ2xvbmdEZXNjcmlwdGlvbkhlYWQnIHwgJ3RpdGxlJyB8ICdzdWJUaXRsZScgfCAnc2hvcnRUaXRsZSc+XG5leHBvcnQgdHlwZSBMb2NhbGl6YWJsZVRpdGxlQ29sbGVjdGlvbkdyb3VwID0gUGljazxUaXRsZUNvbGxlY3Rpb25Hcm91cCwgJ3RpdGxlJyB8ICdwYWdlVGl0bGUnIHwgJ3BhZ2VTdWJUaXRsZSc+O1xuXG4vKiBCeSBjb252ZW50aW9uLCBsZXQncyBuYW1lIGFsbCBvZiB0aGVzZSBDT05URU5ULShmaWxlbmFtZSkgKi9cbmV4cG9ydCBjb25zdCBDT05URU5UX0pTT05fTkFNRVNQQUNFUyA9IHtcblx0UFVCTElDQVRJT05TOiAnQ09OVEVOVC1wdWJsaWNhdGlvbnMnLFxuXHRGQUNFVFM6ICdDT05URU5ULWZhY2V0cycsXG5cdENPTExFQ1RJT046ICdDT05URU5ULWNvbGxlY3Rpb24nLFxuXHRDT05URU5UX1RZUEU6ICdDT05URU5ULWNvbnRlbnQtdHlwZScsXG5cdENPTExFQ1RJT05fR1JPVVA6ICdDT05URU5ULWNvbGxlY3Rpb24tZ3JvdXAnLFxufTtcblxuY29uc3QgcGFydHNUb0tleSA9ICguLi5wYXJ0czogc3RyaW5nW10pID0+IHtcblx0cmV0dXJuIHBhcnRzXG5cdFx0LmZpbHRlcih4ID0+ICEheClcblx0XHQuam9pbignLicpO1xufTtcblxudHlwZSBDb250ZW50SWRBcnRpY2xlID0gJ2RlZmluaXRlJyB8ICdpbmRlZmluaXRlJztcbnR5cGUgQ29udGVudElkRGVtb25zdHJhdGl2ZSA9ICdwcm94aW1hbCcgfCAnZGlzdGFsJzsgLy8gaWUgdGhpcy90aGVzZSB2cyB0aGF0L3Rob3NlXG50eXBlIENvbnRlbnRJZEFtb3VudCA9ICdhbGwnIHwgJ290aGVyJyB8ICdvbmUnIHwgbnVtYmVyO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRlbnRUeXBlSWRPcHRpb25zIHtcblx0YW1vdW50PzogQ29udGVudElkQW1vdW50XG5cdGFydGljbGU/OiBDb250ZW50SWRBcnRpY2xlXG5cdGRlbW9uc3RyYXRpdmU/OiBDb250ZW50SWREZW1vbnN0cmF0aXZlXG59XG5cbmV4cG9ydCBjb25zdCBDb250ZW50SWRfTm9OYW1lc3BhY2UgPSB7XG5cdGNvbnRlbnRUeXBlKGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSB8IENvbnRlbnRTdWJUeXBlLCBvcHRpb25zOiBDb250ZW50VHlwZUlkT3B0aW9ucyA9IHt9KSB7XG5cdFx0bGV0IHsgYW1vdW50ID0gJ29uZScsIGFydGljbGUsIGRlbW9uc3RyYXRpdmUgfSA9IG9wdGlvbnM7XG5cblx0XHRpZiAodHlwZW9mIGFtb3VudCA9PT0gJ251bWJlcicpIHtcblx0XHRcdHN3aXRjaCAoYW1vdW50KSB7XG5cdFx0XHRcdGNhc2UgMTogYW1vdW50ID0gJ29uZSc7IGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OiBhbW91bnQgPSAnb3RoZXInOyBicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRsZXQgaWRQYXJ0czogc3RyaW5nW10gPSBbY29udGVudFR5cGVdO1xuXG5cdFx0aWYgKGFydGljbGUpIGlkUGFydHMucHVzaCgnYXJ0aWNsZScsIGFydGljbGUpO1xuXHRcdGVsc2UgaWYgKGRlbW9uc3RyYXRpdmUpIGlkUGFydHMucHVzaCgnZGVtb25zdHJhdGl2ZScsIGRlbW9uc3RyYXRpdmUpO1xuXG5cdFx0aWRQYXJ0cy5wdXNoKGFtb3VudCk7XG5cblx0XHRyZXR1cm4gaWRQYXJ0cy5qb2luKCdfJyk7XG5cdH0sXG5cdHB1YihmaWVsZENvbmZpZ05hbWU6IHN0cmluZywgcHJvcDoga2V5b2YgTG9jYWxpemFibGVQdWJsaWNhdGlvbikge1xuXHRcdHJldHVybiBwYXJ0c1RvS2V5KGZpZWxkQ29uZmlnTmFtZSwgcHJvcCk7XG5cdH0sXG5cdHB1YkZpZWxkKGZpZWxkQ29uZmlnTmFtZTogc3RyaW5nLCBmaWVsZDogc3RyaW5nKSB7XG5cdFx0cmV0dXJuIHBhcnRzVG9LZXkoZmllbGRDb25maWdOYW1lLCAnZmllbGRzJywgZmllbGQpO1xuXHR9LFxuXHRwdWJNZChmaWVsZENvbmZpZ05hbWU6IHN0cmluZywgbWROYW1lOiBzdHJpbmcpIHtcblx0XHRyZXR1cm4gcGFydHNUb0tleShmaWVsZENvbmZpZ05hbWUsICdtZXRhZGF0YScsIG1kTmFtZSk7XG5cdH0sXG5cdGZhY2V0KGZhY2V0VHlwZTogRmFjZXRUeXBlLCB2YWx1ZT86IHN0cmluZykge1xuXHRcdHJldHVybiBwYXJ0c1RvS2V5KGZhY2V0VHlwZSwgdmFsdWUpO1xuXHR9LFxuXHRjb2xsZWN0aW9uKHNsdWc6IHN0cmluZywgcHJvcDoga2V5b2YgTG9jYWxpemFibGVUaXRsZUNvbGxlY3Rpb24pIHtcblx0XHRyZXR1cm4gcGFydHNUb0tleShzbHVnLCBwcm9wKTtcblx0fSxcblx0Y29sbGVjdGlvbkdyb3VwKGRvbWFpbjogRG9tYWluLCB0aXRsZTogc3RyaW5nLCBwcm9wOiBrZXlvZiBMb2NhbGl6YWJsZVRpdGxlQ29sbGVjdGlvbkdyb3VwKSB7XG5cdFx0cmV0dXJuIHBhcnRzVG9LZXkoZG9tYWluLCB0aXRsZSwgcHJvcCk7XG5cdH0sXG59O1xuIiwiaW1wb3J0IHsgSW5pdE9wdGlvbnMgfSBmcm9tICdpMThuZXh0JztcbmltcG9ydCB7IENPTlRFTlRfSlNPTl9OQU1FU1BBQ0VTIH0gZnJvbSAnLi9jb250ZW50TG9jYWxpemF0aW9uSWQnO1xuXG5leHBvcnQgY29uc3QgU1VQUE9SVEVEX0xBTkdTID0gW1xuXHQnZW4nLFxuXHQnZW4tVVMnLFxuXHQnZW4tR0InLFxuXHQnZW4tQ0EnLFxuXHQnZW4tQVUnLFxuXHQnZW4tTlonLFxuXG5cdCdmcicsXG5cdCdmci1DQScsXG5cblx0J1paJyxcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJMThuSW5pdE9wdGlvbnMoX29wdHM6IFBhcnRpYWw8SW5pdE9wdGlvbnM+ID0ge30pOiBJbml0T3B0aW9ucyB7XG5cdGNvbnN0IHsgQ09OVEVOVF9UWVBFLCBGQUNFVFMsIFBVQkxJQ0FUSU9OUywgQ09MTEVDVElPTiwgQ09MTEVDVElPTl9HUk9VUCB9ID0gQ09OVEVOVF9KU09OX05BTUVTUEFDRVM7XG5cdGNvbnN0IHsgbnMgPSBbXSwgLi4ub3B0cyB9ID0gX29wdHM7XG5cblx0cmV0dXJuIHtcblx0XHRpbnRlcnBvbGF0aW9uOiB7XG5cdFx0XHRlc2NhcGVWYWx1ZTogZmFsc2UsXG5cdFx0fSxcblx0XHRwYXJ0aWFsQnVuZGxlZExhbmd1YWdlczogdHJ1ZSxcblx0XHRrZXlTZXBhcmF0b3I6IGZhbHNlLFxuXHRcdG5zOiBbJ2NvbW1vbicsICdjb21wb25lbnRzJywgQ09OVEVOVF9UWVBFLCBGQUNFVFMsIFBVQkxJQ0FUSU9OUywgQ09MTEVDVElPTiwgQ09MTEVDVElPTl9HUk9VUCwgJ2Zvb3RlcicsICduYXZiYXInLCAuLi5uc10sIC8vIHByZWxvYWQgYWxsIHRoZSBtb3N0IGNvbW1vbiBuYW1lc3BhY2VzXG5cdFx0c3VwcG9ydGVkTG5nczogU1VQUE9SVEVEX0xBTkdTLFxuXHRcdGRldGVjdGlvbjoge1xuXHRcdFx0c3VwcG9ydGVkTG5nczogU1VQUE9SVEVEX0xBTkdTLFxuXHRcdH0sXG5cdFx0Li4ub3B0cyxcblx0fTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBpMThuZXh0IGZyb20gJ2kxOG5leHQnO1xuaW1wb3J0IGkxOEh0dHBCYWNrZW5kIGZyb20gJ2kxOG5leHQtaHR0cC1iYWNrZW5kJztcbmltcG9ydCB7IGh5ZHJhdGVSb290IH0gZnJvbSAncmVhY3QtZG9tL2NsaWVudCc7XG5pbXBvcnQgKiBhcyBSZWFjdFJvdXRlckRPTSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IEZvbGQzUGFnZSwgRnVsbEZvbGQzUGFnZVByb3BzIH0gZnJvbSAnLi4vLi4vc2VydmVyL3RlbXBsYXRpbmcvRm9sZDNQYWdlJztcbmltcG9ydCB7IENhY2hlQXBpIH0gZnJvbSAnLi4vYXBpcy9jYWNoZUFwaSc7XG5pbXBvcnQgeyBPYmogfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgaXNOb2RlUnVudGltZSB9IGZyb20gJy4vZ2V0UnVudGltZSc7XG5pbXBvcnQgeyBnZXRJMThuSW5pdE9wdGlvbnMgfSBmcm9tICcuL2xvY2FsaXphdGlvbi9pMThuJztcblxuZXhwb3J0IGNvbnN0IEYzX1BBR0VfTkFNRVNQQUNFID0gJ0YzX1BBR0VfREFUQSc7XG5leHBvcnQgY29uc3QgRjNfQ09NUE9ORU5UX05BTUVTUEFDRSA9ICdGM19DT01QT05FTlRfREFUQSc7XG5cbmV4cG9ydCBjb25zdCB0cnlIeWRyYXRlID0gYXN5bmMgKENvbXBvbmVudDogYW55LCBnZXRDbGllbnRQcm9wcz86IChwcm9wczogT2JqKSA9PiBPYmopID0+IHtcblx0dHJ5IHtcblx0XHRpZiAoaXNOb2RlUnVudGltZSgpKSByZXR1cm47XG5cblx0XHRsZXQgaHlkcmF0ZURhdGEgPSBKU09OLnBhcnNlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoeWRyYXRlLWRhdGEnKS5pbm5lckhUTUwpO1xuXG5cdFx0bGV0IHBhZ2VEYXRhID0gaHlkcmF0ZURhdGFbRjNfUEFHRV9OQU1FU1BBQ0VdIGFzIEZ1bGxGb2xkM1BhZ2VQcm9wcyxcblx0XHRcdGNvbXBvbmVudERhdGEgPSBoeWRyYXRlRGF0YVtGM19DT01QT05FTlRfTkFNRVNQQUNFXTtcblxuXHRcdGlmIChnZXRDbGllbnRQcm9wcykge1xuXHRcdFx0Y29tcG9uZW50RGF0YSA9IGdldENsaWVudFByb3BzKGNvbXBvbmVudERhdGEpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHB1YmxpY2F0aW9ucyA9IGF3YWl0IG5ldyBDYWNoZUFwaSgpLmdldFB1YmxpY2F0aW9uQ2FjaGUoKTtcblxuXHRcdGkxOG5leHRcblx0XHRcdC51c2UobmV3IGkxOEh0dHBCYWNrZW5kKG51bGwsIHtcblx0XHRcdFx0bG9hZFBhdGg6ICcvbG9jYWxlcy97e2xuZ319L3t7bnN9fS5qc29uJyxcblx0XHRcdH0pKVxuXHRcdFx0LmluaXQoZ2V0STE4bkluaXRPcHRpb25zKHtcblx0XHRcdFx0bG5nOiBwYWdlRGF0YS5pbml0aWFsTGFuZ3VhZ2UsXG5cdFx0XHRcdGxvYWQ6ICdjdXJyZW50T25seScsXG5cdFx0XHRcdG5zOiBwYWdlRGF0YS5wcmVsb2FkTlMgfHwgW10sXG5cdFx0XHR9KSk7XG5cblx0XHRoeWRyYXRlUm9vdChcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoeWRyYXRlLXJvb3QnKSxcblx0XHRcdDxGb2xkM1BhZ2Ugey4uLnBhZ2VEYXRhfSBpMThuPXtpMThuZXh0fSBwdWJsaWNhdGlvbnM9e3B1YmxpY2F0aW9uc30+XG5cdFx0XHRcdDxSZWFjdFJvdXRlckRPTS5Ccm93c2VyUm91dGVyPlxuXHRcdFx0XHRcdDxDb21wb25lbnQgey4uLmNvbXBvbmVudERhdGF9IC8+XG5cdFx0XHRcdDwvUmVhY3RSb3V0ZXJET00uQnJvd3NlclJvdXRlcj5cblx0XHRcdDwvRm9sZDNQYWdlPixcblx0XHQpO1xuXHR9IGNhdGNoKGUpIHtcblx0XHRjb25zb2xlLmVycm9yKGUpO1xuXHR9XG59O1xuIiwiaW1wb3J0IHsgT2JqIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBudW1iZXJXaXRoQ29tbWFzIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2xpYi90ZW1wbGF0aW5nJztcblxuZXhwb3J0IHR5cGUgQ29udGVudExlbmd0aFR5cGUgPSBrZXlvZiB0eXBlb2YgTUFYX0NPTlRFTlRfTEVOR1RIUztcblxuY29uc3QgTUFYX0NPTlRFTlRfTEVOR1RIUyA9IHtcblx0QU5OT1RBVElPTjogMTAyNCxcblx0QU5OT1RBVElPTl9HRU5FUkFMOiAxNjM4NCxcblx0QU5OT1RBVElPTl9MQUJFTDogMzIsXG5cdEZFRURCQUNLOiAzMDAsXG5cdENBTkNFTF9SRUFTT046IDUxMixcblx0Q09OVEVOVF9ET0NVTUVOVF9DT01NRU5UOiA0MDk2LFxuXHRDT1JSRUNUSU9OOiA1MTIsXG5cdElOREVYX1JFQ09SRF9DT01NRU5UOiAxNjM4NCxcblx0TUVNT1JJQUxfREVTQ1JJUFRJT046IDY1NTM1LFxuXHRNRU1PUklBTF9GQUNUX1NPVVJDRV9DT01NRU5UOiAyNTYsXG5cdE1FTU9SSUFMX1NUT1JZX0NPTlRFTlQ6IDY1NTM1LFxuXHRNRU1PUklBTF9TVE9SWV9MSU5LOiA0MDk2LFxuXHRNRU1PUklBTF9TVE9SWV9MSU5LX1RFWFQ6IDEwMjQsXG5cdE1FTU9SSUFMX1NUT1JZX1RJVExFOiAyNTYsXG5cdE1FTU9SSUFMX1RJVExFOiAyNTYsXG5cdE1FTU9SSUFMX1VSTF9USVRMRTogMTAyNCxcblx0VFJBTlNDUklQVElPTjogMTYzODQsXG5cdFVSTDogNDA5Nixcbn07XG5cbi8qIFRoZXNlIG9uZXMgYXJlbid0IGRlZmluZWQgYnkgdGhlIGJhY2tlbmQuIFRoZXkgYXJlIGFyYml0cmFyeSBmb3Igd2hhdCBtYWtlcyBzZW5zZS4gKi9cbmNvbnN0IE1JTl9DT05URU5UX0xFTkdUSFM6IE9iajxrZXlvZiB0eXBlb2YgTUFYX0NPTlRFTlRfTEVOR1RIUywgbnVtYmVyPiA9IHtcblx0RkVFREJBQ0s6IDEwLFxuXHRBTk5PVEFUSU9OX0dFTkVSQUw6IDEsXG59O1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVMZW5ndGggPSAoaW5wdXQ6IHN0cmluZywgY29udGVudFR5cGU6IENvbnRlbnRMZW5ndGhUeXBlKSA9PiB7XG5cdGxldCBsYWJlbDtcblx0bGV0IG1heExlbmd0aCA9IE1BWF9DT05URU5UX0xFTkdUSFNbY29udGVudFR5cGVdO1xuXHRsZXQgbWluTGVuZ3RoID0gTUlOX0NPTlRFTlRfTEVOR1RIU1tjb250ZW50VHlwZV0gfHwgMDtcblx0Y29uc3QgdG9vTG9uZyA9IG1heExlbmd0aCAhPT0gdW5kZWZpbmVkICYmIGlucHV0Lmxlbmd0aCA+IG1heExlbmd0aDtcblx0Y29uc3QgdG9vU2hvcnQgPSBtaW5MZW5ndGggIT09IHVuZGVmaW5lZCAmJiBpbnB1dC5sZW5ndGggPCBtaW5MZW5ndGg7XG5cblx0aWYgKCF0b29Mb25nICYmICF0b29TaG9ydCkgcmV0dXJuIG51bGw7XG5cblx0c3dpdGNoIChjb250ZW50VHlwZSkge1xuXHRcdGNhc2UgJ01FTU9SSUFMX1RJVExFJzogbGFiZWwgPSAndGl0bGUnOyBicmVhaztcblx0XHRjYXNlICdNRU1PUklBTF9ERVNDUklQVElPTic6IGxhYmVsID0gJ2Rlc2NyaXB0aW9uJzsgYnJlYWs7XG5cdFx0Y2FzZSAnTUVNT1JJQUxfRkFDVF9TT1VSQ0VfQ09NTUVOVCc6IGxhYmVsID0gJ2NvbW1lbnQnOyBicmVhaztcblx0XHRjYXNlICdNRU1PUklBTF9TVE9SWV9USVRMRSc6IGxhYmVsID0gJ3RpdGxlJzsgYnJlYWs7XG5cdFx0Y2FzZSAnTUVNT1JJQUxfU1RPUllfQ09OVEVOVCc6IGxhYmVsID0gJ3N0b3J5JzsgYnJlYWs7XG5cdFx0Y2FzZSAnQ09OVEVOVF9ET0NVTUVOVF9DT01NRU5UJzogbGFiZWwgPSAnY29tbWVudCc7IGJyZWFrO1xuXHRcdGNhc2UgJ01FTU9SSUFMX1VSTF9USVRMRSc6IGxhYmVsID0gJ3RpdGxlJzsgYnJlYWs7XG5cdFx0Y2FzZSAnTUVNT1JJQUxfU1RPUllfTElOSyc6IGxhYmVsID0gJ2xpbmsgVVJMJzsgYnJlYWs7XG5cdFx0Y2FzZSAnTUVNT1JJQUxfU1RPUllfTElOS19URVhUJzogbGFiZWwgPSAnbGluayB0ZXh0JzsgYnJlYWs7XG5cdFx0Y2FzZSAnQ0FOQ0VMX1JFQVNPTic6IGxhYmVsID0gJ2ZlZWRiYWNrJzsgYnJlYWs7XG5cdFx0Y2FzZSAnQ09SUkVDVElPTic6IGxhYmVsID0gJ2NvcnJlY3Rpb24nOyBicmVhaztcblx0XHRjYXNlICdGRUVEQkFDSyc6IGxhYmVsID0gJ2ZlZWRiYWNrJzsgYnJlYWs7XG5cdFx0ZGVmYXVsdDogbGFiZWwgPSAndGV4dCc7IGJyZWFrO1xuXHR9XG5cblx0Y29uc3QgbGVuZ3RoU3RyID0gdG9vTG9uZyA/ICdsb25nJyA6ICdzaG9ydCc7XG5cdGNvbnN0IGxpbWl0U3RyID0gdG9vTG9uZyA/ICdNYXgnIDogJ01pbic7XG5cdGNvbnN0IGxpbWl0TnVtID0gdG9vTG9uZyA/IG1heExlbmd0aCA6IHRvb1Nob3J0ID8gbWluTGVuZ3RoIDogbnVsbDtcblxuXHRyZXR1cm4gYFRoZSAke2xhYmVsfSB5b3UgZW50ZXJlZCBpcyB0b28gJHtsZW5ndGhTdHJ9LiAke2lucHV0Lmxlbmd0aH0ke2xpbWl0TnVtID8gYCAoJHtsaW1pdFN0cn06ICR7bnVtYmVyV2l0aENvbW1hcyhsaW1pdE51bSl9KWAgOiAnJ31gO1xufTtcbiIsImltcG9ydCB7IENvbnRlbnRUeXBlLCBEZXNlcmlhbGl6ZVR5cGUsIERvbWFpbiB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IGRlc2VyaWFsaXplciB9IGZyb20gJy4uL2Rlc2VyaWFsaXplcic7XG5cbi8vIGltcG9ydCB7IGxvY2FsaXplQ29udGVudCB9IGZyb20gJy4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb24nO1xuXG4vKiBUaGlzIGZ1bmN0aW9uIG1vZGlmaWVzIHRoZSBvYmplY3QgaW4gcGxhY2UgYW5kIGRvZXNuJ3QgcmV0dXJuIGFueXRoaW5nLiAqL1xuZXhwb3J0IGNvbnN0IGRlc2VyaWFsaXplUnVudGltZVByb3BlcnRpZXNPdGhlciA9IChjb250ZW50VHlwZTogQ29udGVudFR5cGUsIG90aGVyOiBhbnksIGRvbWFpbjogRG9tYWluKSA9PiB7XG5cdHN3aXRjaCAoY29udGVudFR5cGUpIHtcblx0XHRjYXNlICdCQVRUTEUnOlxuXHRcdGNhc2UgJ0NPTVBBTlknOlxuXHRcdGNhc2UgJ1JFR0lNRU5UJzpcblx0XHRcdGlmIChvdGhlcj8uaW1hZ2VNZXRhZGF0YSkge1xuXHRcdFx0XHRvdGhlci5pbWFnZU1ldGFkYXRhID0gZGVzZXJpYWxpemVyLmRlc2VyaWFsaXplKG90aGVyLmltYWdlTWV0YWRhdGEsICdSZWdpbWVudEltYWdlTWV0YWRhdGEnKTtcblxuXHRcdFx0XHQvLyBvdGhlci5pbWFnZU1ldGFkYXRhID0gbG9jYWxpemVDb250ZW50KG90aGVyLmltYWdlTWV0YWRhdGEsICdSZWdpbWVudEltYWdlTWV0YWRhdGEnLCBkb21haW4pO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnU1RPUllfUEFHRSc6XG5cdFx0XHRpZiAob3RoZXI/LmltYWdlcykge1xuXHRcdFx0XHRvdGhlci5pbWFnZXMgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemUob3RoZXIuaW1hZ2VzLCAnOk1lbW9yaWFsSG9ub3JJbWFnZScgYXMgRGVzZXJpYWxpemVUeXBlKTtcblxuXHRcdFx0XHQvLyBvdGhlci5pbWFnZXMgPSBsb2NhbGl6ZUNvbnRlbnQob3RoZXIuaW1hZ2VzLCAnOk1lbW9yaWFsSG9ub3JJbWFnZScgYXMgRGVzZXJpYWxpemVUeXBlLCBkb21haW4pO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnSU1BR0UnOlxuXHRcdGNhc2UgJ0lOREVYX1JFQ09SRCc6XG5cdFx0XHRpZiAob3RoZXI/LnJvbGwpIHtcblx0XHRcdFx0b3RoZXIucm9sbCA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZShvdGhlci5yb2xsLCAnSW1hZ2VEYXRhUm9sbCcpO1xuXG5cdFx0XHRcdC8vIG90aGVyLnJvbGwgPSBsb2NhbGl6ZUNvbnRlbnQob3RoZXIucm9sbCwgJ0ltYWdlRGF0YVJvbGwnLCBkb21haW4pO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuO1xuXHR9XG59O1xuXG4iLCJpbXBvcnQgeyBDb250ZW50RG9jdW1lbnRFbGVtZW50TWV0YWRhdGEsIENvbnRlbnREb2N1bWVudFBlcm1pc3Npb24sIENvbnRlbnRUeXBlLCBDcmVhdGVEb2N1bWVudEVsZW1lbnQsIENyZWF0ZURvY3VtZW50UmVxdWVzdCwgRG9jdW1lbnRFbGVtZW50VXBkYXRlUmVzdWx0cywgSW1hZ2VEYXRhRmxhZywgSW5kZXhSZWNvcmRGbGFnLCBNZW1vcmlhbEZsYWcsIE9iamVjdFJlZmVyZW5jZSwgUmVvcmRlckRvY3VtZW50RWxlbWVudHMsIFVwZGF0ZURvY3VtZW50RWxlbWVudCwgVXBkYXRlRG9jdW1lbnRFbGVtZW50cywgV3JhcHBlZENvbnRlbnREb2N1bWVudCwgV3JhcHBlZENvbnRlbnREb2N1bWVudEFic3RyYWN0RG9jdW1lbnQsIFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50LCBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudEFic3RyYWN0RWxlbWVudCB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IE9iaiB9IGZyb20gJy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBnZXRFbGVtZW50VHlwZUFuZElkIH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvY29udGVudEVsZW1lbnRzJztcbmltcG9ydCB7IGdldFdyYXBwZWRDb250ZW50SWQgfSBmcm9tICcuLi9saWIvY29udGVudC9jb250ZW50TWV0YWRhdGEnO1xuaW1wb3J0IHsgZGVzZXJpYWxpemVSdW50aW1lUHJvcGVydGllc090aGVyIH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvZGVzZXJpYWxpemVSdW50aW1lUHJvcGVydGllc090aGVyJztcbmltcG9ydCB7IGRlc2VyaWFsaXplciB9IGZyb20gJy4uL2xpYi9kZXNlcmlhbGl6ZXInO1xuXG4vLyBpbXBvcnQgeyBsb2NhbGl6ZUNvbnRlbnQgfSBmcm9tICcuLi9saWIvbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvbic7XG5pbXBvcnQgeyBmaWx0ZXJVbmRlZmluZWQgfSBmcm9tICcuLi9saWIvbWFwVXRpbCc7XG5pbXBvcnQgeyB1dWlkVG9EYXRlIH0gZnJvbSAnLi4vbGliL3V1aWRUb0RhdGUnO1xuaW1wb3J0IHsgQmF0dGxlRmxhZyB9IGZyb20gJy4vYmF0dGxlQXBpJztcbmltcG9ydCB7IEYzQXBpIH0gZnJvbSAnLi9GM0FwaSc7XG5cbmV4cG9ydCB0eXBlIEZsYWcgPSBNZW1vcmlhbEZsYWcgfCBCYXR0bGVGbGFnIHwgSW5kZXhSZWNvcmRGbGFnIHwgSW1hZ2VEYXRhRmxhZyAvKiBhZGQgb3RoZXIgdHlwZXMgYXMgdGhleSBhcmUgbWFkZSBhdmFpbGFibGUgKi9cbmV4cG9ydCB0eXBlIENvbnRlbnRBcGlUeXBlID0gQ29udGVudFR5cGUgJiAoJ0JBVFRMRScgfCAnQ09NUEFOWScgfCAnSU5ERVhfUkVDT1JEJyB8ICdSRUdJTUVOVCcgfCAnSU1BR0UnIHwgJ1NVQl9JTUFHRScgfCAnU1RPUllfUEFHRScgfCAnU1VCSkVDVCcgfCAnTUlMSVRBUllfVU5JVCcpO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29udGVudEFwaTxcblx0RCBleHRlbmRzIFdyYXBwZWRDb250ZW50RG9jdW1lbnQsXG5cdEFEIGV4dGVuZHMgV3JhcHBlZENvbnRlbnREb2N1bWVudEFic3RyYWN0RG9jdW1lbnQsXG5cdEUgZXh0ZW5kcyBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudEFic3RyYWN0RWxlbWVudCA9IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50QWJzdHJhY3RFbGVtZW50LFxuXHRGIGV4dGVuZHMgRmxhZyA9IEZsYWcsXG5cdE8gZXh0ZW5kcyBhbnkgPSBhbnksXG5cdFAgZXh0ZW5kcyBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9uID0gQ29udGVudERvY3VtZW50UGVybWlzc2lvblxuPiBleHRlbmRzIEYzQXBpIHtcblx0YWJzdHJhY3QgYmFzZVBhdGg6IHN0cmluZztcblx0YWJzdHJhY3QgY29udGVudFR5cGU6IENvbnRlbnRUeXBlO1xuXG5cdGNvbnN0cnVjdEJhc2VVcmwoc3ViVHlwZTogc3RyaW5nKSB7XG5cdFx0cmV0dXJuIGAke3RoaXMuYmFzZVBhdGh9LyR7c3ViVHlwZX0vJHt0aGlzLmNvbnRlbnRUeXBlfWA7XG5cdH1cblxuXHRyZW9yZGVyRWxlbWVudHMoaWQ6IHN0cmluZyB8IG51bWJlciwgcmVvcmRlcjogUmVvcmRlckRvY3VtZW50RWxlbWVudHMpOiBQcm9taXNlPENvbnRlbnREb2N1bWVudEVsZW1lbnRNZXRhZGF0YVtdPiB7XG5cdFx0cmV0dXJuIHRoaXMucHV0KGAke3RoaXMuY29uc3RydWN0QmFzZVVybCgncmVvcmRlcicpfS8ke2lkfWAsIHJlb3JkZXIsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0NvbnRlbnREb2N1bWVudEVsZW1lbnRNZXRhZGF0YScsXG5cdFx0XHRzZXJpYWxpemVUeXBlOiAnUmVvcmRlckRvY3VtZW50RWxlbWVudHMnLFxuXHRcdH0pO1xuXHR9XG5cblx0YXN5bmMgY3JlYXRlRG9jdW1lbnQoZG9jOiBDcmVhdGVEb2N1bWVudFJlcXVlc3Q8QUQsIEU+KTogUHJvbWlzZTxEPiB7XG5cdFx0Y29uc3Qgc2VyaWFsaXplZEVsZW1lbnRzID0gKGRvYy5lbGVtZW50c8KgfHwgW10pLm1hcChlbCA9PiB7XG5cdFx0XHRsZXQgc2VyaWFsaXplZEVsID0gZGVzZXJpYWxpemVyLnNlcmlhbGl6ZUFic3RyYWN0RWxlbWVudChlbC5lbGVtZW50LCBlbC50eXBlKTtcblx0XHRcdHJldHVybiBkZXNlcmlhbGl6ZXIuc2VyaWFsaXplKHsgdHlwZTogZWwudHlwZSwgZWxlbWVudDogc2VyaWFsaXplZEVsIH0sICdDcmVhdGVEb2N1bWVudEVsZW1lbnQnKTtcblx0XHR9KTtcblx0XHRjb25zdCBzZXJpYWxpemVkID0gZGVzZXJpYWxpemVyLnNlcmlhbGl6ZUFic3RyYWN0RG9jdW1lbnQoZG9jLmRvY3VtZW50LCB0aGlzLmNvbnRlbnRUeXBlKTtcblxuXHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLnBvc3QodGhpcy5jb25zdHJ1Y3RCYXNlVXJsKCdkb2N1bWVudCcpLCB7IGVsZW1lbnRzOiBzZXJpYWxpemVkRWxlbWVudHMsIGRvY3VtZW50OiBzZXJpYWxpemVkIH0sIHtcblx0XHRcdHNlcmlhbGl6ZVR5cGU6ICdDcmVhdGVEb2N1bWVudFJlcXVlc3QnLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRoaXMuZGVzZXJpYWxpemVXcmFwcGVkQ29udGVudERvY3VtZW50KGNvbnRlbnQpO1xuXHR9XG5cblx0ZGVsZXRlRG9jdW1lbnQoaWQ6IG51bWJlciB8IHN0cmluZykge1xuXHRcdHJldHVybiB0aGlzLmRlbGV0ZShgJHt0aGlzLmNvbnN0cnVjdEJhc2VVcmwoJ2RvY3VtZW50Jyl9LyR7aWR9YCk7XG5cdH1cblxuXHRhc3luYyBnZXREb2N1bWVudChpZDogbnVtYmVyIHwgc3RyaW5nLCBmbGFncz86IEZbXSwgcGFyYW1zOiBPYmogPSB7fSk6IFByb21pc2U8RD4ge1xuXHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmdldChgJHt0aGlzLmNvbnN0cnVjdEJhc2VVcmwoJ2RvY3VtZW50Jyl9LyR7aWR9YCwge1xuXHRcdFx0cGFyYW1zOiBmaWx0ZXJVbmRlZmluZWQoe1xuXHRcdFx0XHRmbGFnOiBmbGFncyxcblx0XHRcdFx0Li4ucGFyYW1zLFxuXHRcdFx0fSksXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdGhpcy5kZXNlcmlhbGl6ZVdyYXBwZWRDb250ZW50RG9jdW1lbnQoY29udGVudCk7XG5cdH1cblxuXHRhc3luYyBnZXREb2N1bWVudHMoaWRzOiBPYmplY3RSZWZlcmVuY2VbXSwgZmxhZ3M6IEZbXSA9IFtdLCBwYXJhbXM6IE9iaiA9IHt9KTogUHJvbWlzZTxEW10+IHtcblx0XHRjb25zdCBpZFN0cmluZ3MgPSBpZHMubWFwKCh7IGNvbnRlbnRUeXBlLCBvYmplY3RJZCB9KSA9PiB7XG5cdFx0XHRyZXR1cm4gYCR7Y29udGVudFR5cGV9LiR7b2JqZWN0SWR9YDtcblx0XHR9KTtcblxuXHRcdGNvbnN0IGRvY3MgPSBhd2FpdCB0aGlzLmdldChgJHt0aGlzLmJhc2VQYXRofS9kb2N1bWVudGAsIHtcblx0XHRcdHBhcmFtczoge1xuXHRcdFx0XHRpZDogaWRTdHJpbmdzLFxuXHRcdFx0XHRmbGFnOiBmbGFncyxcblx0XHRcdFx0Li4ucGFyYW1zLFxuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdHJldHVybiAoZG9jcyBhcyBhbnlbXSkubWFwKHRoaXMuZGVzZXJpYWxpemVXcmFwcGVkQ29udGVudERvY3VtZW50KTtcblx0fVxuXG5cdGFzeW5jIHVwZGF0ZURvY3VtZW50KF9jb250ZW50OiBELCB1cGRhdGVkRG9jOiBQYXJ0aWFsPEFEPik6IFByb21pc2U8RD4ge1xuXHRcdGNvbnN0IHNlcmlhbGl6ZWQgPSBkZXNlcmlhbGl6ZXIuc2VyaWFsaXplQWJzdHJhY3REb2N1bWVudCh1cGRhdGVkRG9jLCB0aGlzLmNvbnRlbnRUeXBlKTtcblxuXHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLnB1dChgJHt0aGlzLmNvbnN0cnVjdEJhc2VVcmwoJ2RvY3VtZW50Jyl9LyR7Z2V0V3JhcHBlZENvbnRlbnRJZChfY29udGVudCl9YCwgc2VyaWFsaXplZCk7XG5cdFx0cmV0dXJuIHRoaXMuZGVzZXJpYWxpemVXcmFwcGVkQ29udGVudERvY3VtZW50KGNvbnRlbnQpO1xuXHR9XG5cblx0YXN5bmMgbW9kaWZ5RWxlbWVudHMoY29udGVudDogRCwgZWxlbWVudHM6IFVwZGF0ZURvY3VtZW50RWxlbWVudHM8RT4pOiBQcm9taXNlPERvY3VtZW50RWxlbWVudFVwZGF0ZVJlc3VsdHM8RSwgTywgUD4+IHtcblx0XHRjb25zdCBpZCA9IGdldFdyYXBwZWRDb250ZW50SWQoY29udGVudCk7XG5cblx0XHRjb25zdCBzZXJpYWxpemVkRWxlbWVudHMgPSB0aGlzLnNlcmlhbGl6ZUVsZW1lbnRzKGVsZW1lbnRzKTtcblxuXHRcdGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLnBvc3QoYCR7dGhpcy5jb25zdHJ1Y3RCYXNlVXJsKCdlbGVtZW50Jyl9LyR7aWR9YCwgc2VyaWFsaXplZEVsZW1lbnRzLCB7XG5cdFx0XHRzZXJpYWxpemVUeXBlOiAnVXBkYXRlRG9jdW1lbnRFbGVtZW50cycsXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdGhpcy5kZXNlcmlhbGl6ZURvY3VtZW50RWxlbWVudFVwZGF0ZVJlc3VsdHMocmVzdWx0cyk7XG5cdH1cblxuXHQvKlxuXHQgKiBhc3luYyBpbXBvcnRGYWN0c0Zyb20obWVtb3JpYWxJZDogbnVtYmVyIHwgc3RyaW5nLCBjb250ZW50VHlwZTogQ29udGVudFR5cGUsIGNvbnRlbnRJZDogbnVtYmVyIHwgc3RyaW5nLCBpZGVudGlmaWVyczogSW1wb3J0RmFjdElkZW50aWZpZXJbXSk6IFByb21pc2U8RG9jdW1lbnRFbGVtZW50VXBkYXRlUmVzdWx0cz4ge1xuXHQgKiBcdGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLnBvc3QoYCR7dGhpcy5jb25zdHJ1Y3RCYXNlVXJsKCdpbXBvcnQtZnJvbScpfS8ke21lbW9yaWFsSWR9LyR7Y29udGVudFR5cGV9LyR7Y29udGVudElkfWAsIGlkZW50aWZpZXJzLCB7XG5cdCAqIFx0XHRzZXJpYWxpemVUeXBlOiAnSW1wb3J0RmFjdElkZW50aWZpZXInLFxuXHQgKiBcdH0pO1xuXHQgKi9cblxuXHQvKlxuXHQgKiBcdHJldHVybiB0aGlzLmRlc2VyaWFsaXplRG9jdW1lbnRFbGVtZW50VXBkYXRlUmVzdWx0cyhyZXN1bHRzKTtcblx0ICogfVxuXHQgKi9cblxuXHQvKiBIRUxQRVIgTUVUSE9EUyAqL1xuXG5cdHJlbW92ZUVsZW1lbnRzKGNvbnRlbnQ6IEQsIGVsZW1lbnRzOiBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudDxFPltdKSB7XG5cdFx0bGV0IHVwZGF0ZTogVXBkYXRlRG9jdW1lbnRFbGVtZW50czxFPiA9IHtcblx0XHRcdGRlbGV0aW9uczogZWxlbWVudHMubWFwKGVsID0+IGdldEVsZW1lbnRUeXBlQW5kSWQoZWwpKSxcblx0XHR9IGFzIFVwZGF0ZURvY3VtZW50RWxlbWVudHM8RT47XG5cblx0XHRyZXR1cm4gdGhpcy5tb2RpZnlFbGVtZW50cyhjb250ZW50LCB1cGRhdGUpO1xuXHR9XG5cblx0dXBkYXRlRWxlbWVudHMoY29udGVudDogRCwgY2hhbmdlczogVXBkYXRlRG9jdW1lbnRFbGVtZW50PEU+W10pIHtcblx0XHRsZXQgdXBkYXRlOiBVcGRhdGVEb2N1bWVudEVsZW1lbnRzPEU+ID0ge1xuXHRcdFx0Y2hhbmdlcyxcblx0XHR9IGFzIFVwZGF0ZURvY3VtZW50RWxlbWVudHM8RT47XG5cblx0XHRyZXR1cm4gdGhpcy5tb2RpZnlFbGVtZW50cyhjb250ZW50LCB1cGRhdGUpO1xuXHR9XG5cblx0YWRkRWxlbWVudHMoY29udGVudDogRCwgbmV3RWxlbWVudHM6IENyZWF0ZURvY3VtZW50RWxlbWVudDxFPltdKSB7XG5cdFx0bGV0IHVwZGF0ZTogVXBkYXRlRG9jdW1lbnRFbGVtZW50czxFPiA9IHtcblx0XHRcdG5ld0VsZW1lbnRzLFxuXHRcdH0gYXMgVXBkYXRlRG9jdW1lbnRFbGVtZW50czxFPjtcblxuXHRcdHJldHVybiB0aGlzLm1vZGlmeUVsZW1lbnRzKGNvbnRlbnQsIHVwZGF0ZSk7XG5cdH1cblxuXHQvKiBFTkQgSEVMUEVSIE1FVEhPRFMgKi9cblxuXHRwcml2YXRlIHNlcmlhbGl6ZUVsZW1lbnRzKGVsZW1lbnRzOiBVcGRhdGVEb2N1bWVudEVsZW1lbnRzKSB7XG5cdFx0Y29uc3QgeyBjaGFuZ2VzLCBkZWxldGlvbnMsIG5ld0VsZW1lbnRzIH0gPSBlbGVtZW50cztcblx0XHRjb25zdCB1cGRhdGVzOiBVcGRhdGVEb2N1bWVudEVsZW1lbnRzID0ge30gYXMgVXBkYXRlRG9jdW1lbnRFbGVtZW50cztcblxuXHRcdGlmIChjaGFuZ2VzKSB7XG5cdFx0XHR1cGRhdGVzLmNoYW5nZXMgPSBjaGFuZ2VzLm1hcChjaGFuZ2UgPT4ge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdGlkOiBjaGFuZ2UuaWQsXG5cdFx0XHRcdFx0ZWxlbWVudDogZGVzZXJpYWxpemVyLnNlcmlhbGl6ZUFic3RyYWN0RWxlbWVudChjaGFuZ2UuZWxlbWVudCwgY2hhbmdlLmlkLmNvbnRlbnRUeXBlKSxcblx0XHRcdFx0fTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmIChuZXdFbGVtZW50cykge1xuXHRcdFx0dXBkYXRlcy5uZXdFbGVtZW50cyA9IG5ld0VsZW1lbnRzLm1hcChhZGRpdGlvbiA9PiB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0dHlwZTogYWRkaXRpb24udHlwZSxcblx0XHRcdFx0XHRlbGVtZW50OiBkZXNlcmlhbGl6ZXIuc2VyaWFsaXplQWJzdHJhY3RFbGVtZW50KGFkZGl0aW9uLmVsZW1lbnQsIGFkZGl0aW9uLnR5cGUpLFxuXHRcdFx0XHR9O1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKGRlbGV0aW9ucykge1xuXHRcdFx0dXBkYXRlcy5kZWxldGlvbnMgPSBkZWxldGlvbnM7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVwZGF0ZXM7XG5cdH1cblxuXHRwcml2YXRlIGRlc2VyaWFsaXplV3JhcHBlZENvbnRlbnREb2N1bWVudChjb250ZW50OiBhbnkpOiBEIHtcblx0XHRpZiAoIWNvbnRlbnQpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdGxldCBkb21haW4gPSB0aGlzLmdldERvbWFpbigpO1xuXG5cdFx0bGV0IGRlc2VyaWFsaXplZDogRCA9IGRlc2VyaWFsaXplci5kZXNlcmlhbGl6ZShjb250ZW50LCAnV3JhcHBlZENvbnRlbnREb2N1bWVudCcpIGFzIEQ7XG5cblx0XHQvLyBkZXNlcmlhbGl6ZWQgPSBsb2NhbGl6ZUNvbnRlbnQoZGVzZXJpYWxpemVkLCAnV3JhcHBlZENvbnRlbnREb2N1bWVudCcsIGRvbWFpbikgYXMgRDtcblxuXHRcdGxldCB7IG90aGVyIH0gPSBkZXNlcmlhbGl6ZWQucnVudGltZVByb3BlcnRpZXMgfHwge307XG5cblx0XHRkZXNlcmlhbGl6ZWQuZWxlbWVudHMgPSAoZGVzZXJpYWxpemVkLmVsZW1lbnRzIHx8IFtdKS5tYXAoKHsgZWxlbWVudCwgbWV0YWRhdGEgfSkgPT4ge1xuXHRcdFx0bWV0YWRhdGEuY3JlYXRlZCA9IHV1aWRUb0RhdGUobWV0YWRhdGEuaWQub2JqZWN0SWQpLnRvSVNPU3RyaW5nKCk7XG5cdFx0XHRpZiAoIW1ldGFkYXRhLmxhc3RNb2RpZmllZCkgbWV0YWRhdGEubGFzdE1vZGlmaWVkID0gbWV0YWRhdGEuY3JlYXRlZDtcblx0XHRcdHJldHVybiB7IGVsZW1lbnQsIG1ldGFkYXRhIH07XG5cdFx0fSk7XG5cblx0XHRpZiAob3RoZXIpIHtcblx0XHRcdGRlc2VyaWFsaXplUnVudGltZVByb3BlcnRpZXNPdGhlcih0aGlzLmNvbnRlbnRUeXBlLCBvdGhlciwgZG9tYWluKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGVzZXJpYWxpemVkO1xuXHR9XG5cblx0cHJvdGVjdGVkIGRlc2VyaWFsaXplRG9jdW1lbnRFbGVtZW50VXBkYXRlUmVzdWx0cyhyZXN1bHRzOiBhbnkpOiBEb2N1bWVudEVsZW1lbnRVcGRhdGVSZXN1bHRzPEUsIE8sIFA+IHtcblx0XHRsZXQgZG9tYWluID0gdGhpcy5nZXREb21haW4oKTtcblxuXHRcdGxldCBkZXNlcmlhbGl6ZWQgPSBkZXNlcmlhbGl6ZXIuZGVzZXJpYWxpemUocmVzdWx0cywgJ0RvY3VtZW50RWxlbWVudFVwZGF0ZVJlc3VsdHMnKSBhcyBEb2N1bWVudEVsZW1lbnRVcGRhdGVSZXN1bHRzPEUsIE8sIFA+O1xuXG5cdFx0Ly8gZGVzZXJpYWxpemVkID0gbG9jYWxpemVDb250ZW50KGRlc2VyaWFsaXplZCwgJ0RvY3VtZW50RWxlbWVudFVwZGF0ZVJlc3VsdHMnLCBkb21haW4pIGFzIERvY3VtZW50RWxlbWVudFVwZGF0ZVJlc3VsdHM8RSwgTywgUD47XG5cblx0XHRsZXQgeyBvdGhlciB9ID0gZGVzZXJpYWxpemVkLnJ1bnRpbWVQcm9wZXJ0aWVzIHx8IHt9O1xuXG5cdFx0aWYgKG90aGVyKSB7XG5cdFx0XHRkZXNlcmlhbGl6ZVJ1bnRpbWVQcm9wZXJ0aWVzT3RoZXIodGhpcy5jb250ZW50VHlwZSwgb3RoZXIsIGRvbWFpbik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRlc2VyaWFsaXplZDtcblx0fVxufVxuIiwiaW1wb3J0IHsgQ29udGVudERvY3VtZW50UGVybWlzc2lvbiwgQ29udGVudFR5cGUsIENvcnJlY3RhYmxlTWV0YWRhdGEsIEluZGV4UmVjb3JkLCBJbmRleFJlY29yZEZsYWcgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBJbmRleFJlY29yZFJ1bnRpbWVQcm9wZXJ0aWVzT3RoZXIsIEluZGV4UmVjb3JkV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQsIFdyYXBwZWRJbmRleFJlY29yZENvbnRlbnQgfSBmcm9tICcuLi9saWIvY29udGVudC9pbmRleC1yZWNvcmRzL2luZGV4UmVjb3JkQ29udGVudCc7XG5pbXBvcnQgeyBDb250ZW50QXBpIH0gZnJvbSAnLi9jb250ZW50QXBpJztcbmltcG9ydCB7IEJhY2tlbmRTZXJ2aWNlIH0gZnJvbSAnLi9GM0FwaSc7XG5cbi8qKiBbU2VlIERvY3VtZW50YXRpb25dKGh0dHBzOi8vamZvbGQzLmlhcmNoaXZlcy5jb20vam9iL2YzLWluZGV4LXJlY29yZC9qYXZhZG9jL2NvbS9hbmNlc3RyeS9lYi9mb2xkMzEvaW5kZXhyZWNvcmQvc2VydmljZS9JbmRleFJlY29yZFNlcnZpY2UuaHRtbCkgKi9cbmV4cG9ydCBjbGFzcyBJbmRleFJlY29yZEFwaSBleHRlbmRzIENvbnRlbnRBcGk8V3JhcHBlZEluZGV4UmVjb3JkQ29udGVudCwgSW5kZXhSZWNvcmQsIEluZGV4UmVjb3JkV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQsIEluZGV4UmVjb3JkRmxhZywgSW5kZXhSZWNvcmRSdW50aW1lUHJvcGVydGllc090aGVyLCBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9uPiB7XG5cdHNlcnZpY2UgPSBCYWNrZW5kU2VydmljZS5JTkRFWF9SRUNPUkQ7XG5cdGJhc2VQYXRoID0gJy9pbmRleC1yZWNvcmQnO1xuXHRjb250ZW50VHlwZSA9ICdJTkRFWF9SRUNPUkQnIGFzIGNvbnN0O1xuXG5cdHVwZGF0ZU1ldGFkYXRhKHJlY29yZElkOiBzdHJpbmcsIG1ldGFkYXRhOiBDb3JyZWN0YWJsZU1ldGFkYXRhKSB7XG5cdFx0bGV0IHsgbmFtZSwgdmFsdWUsIHN0aWNraW5lc3MgfSA9IG1ldGFkYXRhO1xuXG5cdFx0aWYgKCFzdGlja2luZXNzKSB7XG5cdFx0XHRzdGlja2luZXNzID0gJ1NVUEVSJztcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wb3N0KGAvaW5kZXgtcmVjb3JkL21ldGFkYXRhL0lOREVYX1JFQ09SRC8ke3JlY29yZElkfS8ke25hbWV9YCwgeyB2YWx1ZSB9LCB7XG5cdFx0XHRwYXJhbXM6IHsgc3RpY2tpbmVzcyB9LFxuXHRcdH0pO1xuXHR9XG59XG4iLCJpbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiwgTW91c2VFdmVudEhhbmRsZXIsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IHY0IGFzIHV1aWRWNCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IHsgY2xhc3NTdHIgfSBmcm9tICcuLi8uLi9saWIvY2xhc3NVdGlsJztcbmltcG9ydCB7IEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi8uLi9saWIvRXJyb3JCb3VuZGFyeSc7XG5pbXBvcnQgeyB1c2VEaWFsb2dzIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURpYWxvZ3MnO1xuaW1wb3J0IHsgQnV0dG9uUHJvcHMsIENsb3NlQnV0dG9uLCBGM0J1dHRvbiB9IGZyb20gJy4uL0YzQnV0dG9uJztcblxuZXhwb3J0IGludGVyZmFjZSBEaWFsb2dQcm9wcyB7XG5cdHRpdGxlPzogUmVhY3QuUmVhY3ROb2RlO1xuXHRjbGFzc05hbWU/OiBzdHJpbmc7XG5cdGNsb3NlYWJsZT86IGJvb2xlYW47XG5cdG9uQ2xvc2U/KGNhbmNlbD86IGJvb2xlYW4pOiBib29sZWFuIHwgdm9pZDtcblx0c2l6ZT86ICdzbScgfCAnbWQnIHwgJ2xnJyB8ICd4bCcgfCAnZnVsbHNjcmVlbidcblx0Zm9vdGVyPzogUmVhY3QuUmVhY3ROb2RlXG5cdGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlXG5cdGJsdXI/OiBib29sZWFuXG59XG5cbmZ1bmN0aW9uIHRvZ2dsZU1vZGFsQ2xhc3Moc2hvd2luZzogYm9vbGVhbikge1xuXHRsZXQgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXHRpZiAoc2hvd2luZykge1xuXHRcdGh0bWwuY2xhc3NMaXN0LmFkZCgnbW9kYWxPcGVuJyk7XG5cdH0gZWxzZSB7XG5cdFx0aHRtbC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RhbE9wZW4nKTtcblx0fVxufVxuXG5leHBvcnQgY29uc3QgRGlhbG9nID0gKHsgdGl0bGUsIGNsYXNzTmFtZSwgY2xvc2VhYmxlID0gdHJ1ZSwgb25DbG9zZSwgc2l6ZSwgZm9vdGVyLCBjaGlsZHJlbiwgYmx1ciA9IGZhbHNlIH06IERpYWxvZ1Byb3BzKSA9PiB7XG5cdGNvbnN0IGRpYWxvZ1JlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4oKTtcblx0Y29uc3QgeyBjbG9zZURpYWxvZyB9ID0gdXNlRGlhbG9ncygpO1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0ZnVuY3Rpb24gaGFuZGxlS2V5dXAoZTogS2V5Ym9hcmRFdmVudCkge1xuXHRcdFx0aWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuXHRcdFx0XHRoYW5kbGVDbG9zZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRvZ2dsZU1vZGFsQ2xhc3ModHJ1ZSk7XG5cblx0XHRpZiAoY2xvc2VhYmxlKSB7XG5cdFx0XHRkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBoYW5kbGVLZXl1cCk7XG5cdFx0fVxuXG5cdFx0aWYgKCFkaWFsb2dSZWYuY3VycmVudC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xuXHRcdFx0ZGlhbG9nUmVmLmN1cnJlbnQuZm9jdXMoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0dG9nZ2xlTW9kYWxDbGFzcyhmYWxzZSk7XG5cdFx0XHRpZiAoY2xvc2VhYmxlKSB7XG5cdFx0XHRcdGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIGhhbmRsZUtleXVwKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9LCBbXSk7XG5cblx0Y29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XG5cdFx0bGV0IGNhbmNlbGVkID0gZmFsc2U7XG5cblx0XHRpZiAodHlwZW9mIG9uQ2xvc2UgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y2FuY2VsZWQgPSBvbkNsb3NlKHRydWUpID09IGZhbHNlO1xuXHRcdH1cblxuXHRcdHRvZ2dsZU1vZGFsQ2xhc3MoZmFsc2UpO1xuXG5cdFx0aWYgKGNhbmNlbGVkKSByZXR1cm47XG5cblx0XHRjbG9zZURpYWxvZygpO1xuXHR9O1xuXG5cdGNvbnN0IGhhbmRsZUNsb3NlQnRuQ2xpY2s6IE1vdXNlRXZlbnRIYW5kbGVyID0gZSA9PiB7XG5cdFx0aWYgKGNsb3NlYWJsZSAhPT0gZmFsc2UgJiYgZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCkge1xuXHRcdFx0aGFuZGxlQ2xvc2UoKTtcblx0XHR9XG5cdH07XG5cblx0bGV0IGhlYWRlckNvbnRlbnQgPSBudWxsO1xuXHRsZXQgY29udGVudHNQcm9wczogYW55ID0ge307XG5cdGxldCBpZCA9IHV1aWRWNCgpO1xuXG5cdGlmICh0aXRsZSkge1xuXHRcdGhlYWRlckNvbnRlbnQgPSA8aDEgY2xhc3NOYW1lPSdtb2RhbC10aXRsZSBoNScgaWQ9e2lkfT57dGl0bGV9PC9oMT47XG5cdFx0Y29udGVudHNQcm9wc1snYXJpYS1kZXNjcmliZWRieSddID0gJ21vZGFsSGVhZGVyJztcblx0XHRjb250ZW50c1Byb3BzLmNsYXNzTmFtZSArPSAnIG1vZGFsSGFzVGl0bGUnO1xuXHR9XG5cblx0bGV0IGNsb3NlQnRuID0gY2xvc2VhYmxlICYmXG5cdFx0PENsb3NlQnV0dG9uXG5cdFx0XHRjbGFzc05hbWU9J3RleHQtbXV0ZWQnXG5cdFx0XHRkYXRhLWJzLWRpc21pc3M9J21vZGFsJ1xuXHRcdFx0b25DbGljaz17aGFuZGxlQ2xvc2VCdG5DbGlja31cblx0XHQvPjtcblx0bGV0IHNpemVDbGFzcyA9IHNpemUgPT09ICdtZCcgPyAnJyA6IGBtb2RhbC0ke3NpemV9YDtcblxuXHRyZXR1cm4gPEVycm9yQm91bmRhcnk+XG5cdFx0PGRpdlxuXHRcdFx0cmVmPXtkaWFsb2dSZWZ9XG5cdFx0XHRhcmlhLWxhYmVsbGVkYnk9e2lkfVxuXHRcdFx0YXJpYS1tb2RhbD0ndHJ1ZSdcblx0XHRcdGNsYXNzTmFtZT0nbW9kYWwgZC1ibG9jayBmYWRlIHNob3cnXG5cdFx0XHRvbkNsaWNrPXtoYW5kbGVDbG9zZUJ0bkNsaWNrfVxuXHRcdFx0b25LZXlEb3duPXtlID0+IHtcblx0XHRcdFx0LyogVGhpcyBpcyB0byB0cmFwIGZvY3VzIGluc2lkZSB0aGUgZGlhbG9nLiBXaGVuIHRhYmJpbmcsIGRvbid0IGFsbG93IGZvY3VzIHRvIGxlYXZlIHRoZSBkaWFsb2cgKi9cblx0XHRcdFx0aWYgKGUua2V5ICE9PSAnVGFiJykgcmV0dXJuO1xuXG5cdFx0XHRcdGxldCBuZXdGb2N1c2VkRWxlbWVudDtcblx0XHRcdFx0Y29uc3QgZm9jdXNhYmxlRWxlbWVudHMgPSBkaWFsb2dSZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsPEhUTUxFbGVtZW50PignYnV0dG9uLCBbaHJlZl0sIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXSknKTtcblx0XHRcdFx0Y29uc3QgZmlyc3RGb2N1c2FibGUgPSBmb2N1c2FibGVFbGVtZW50c1swXTtcblx0XHRcdFx0Y29uc3QgbGFzdEZvY3VzYWJsZSA9IGZvY3VzYWJsZUVsZW1lbnRzW2ZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDFdO1xuXG5cdFx0XHRcdGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBmaXJzdEZvY3VzYWJsZSAmJiBlLnNoaWZ0S2V5KSB7XG5cdFx0XHRcdFx0bmV3Rm9jdXNlZEVsZW1lbnQgPSBsYXN0Rm9jdXNhYmxlO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3RGb2N1c2FibGUgJiYgIWUuc2hpZnRLZXkpIHtcblx0XHRcdFx0XHRuZXdGb2N1c2VkRWxlbWVudCA9IGZpcnN0Rm9jdXNhYmxlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKG5ld0ZvY3VzZWRFbGVtZW50KSB7XG5cdFx0XHRcdFx0bmV3Rm9jdXNlZEVsZW1lbnQuZm9jdXMoKTtcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH19XG5cdFx0XHRyb2xlPSdkaWFsb2cnXG5cdFx0XHR0YWJJbmRleD17MH1cblx0XHQ+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT17Y2xhc3NTdHIoJ2YzLWRpYWxvZycsICdtb2RhbC1jb250ZW50JywgY2xhc3NOYW1lLCAnbW9kYWwtZGlhbG9nJywgc2l6ZUNsYXNzKX0+XG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdtb2RhbC1jb250ZW50IGJnLWxpZ2h0IHNoYWRvdyc+XG5cdFx0XHRcdFx0e2hlYWRlckNvbnRlbnQgJiZcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdtb2RhbC1oZWFkZXIgdGV4dC1wcmltYXJ5JyBkYXRhLWN5PSdmMy1kaWFsb2ctbW9kYWwnPlxuXHRcdFx0XHRcdFx0XHR7aGVhZGVyQ29udGVudH1cblx0XHRcdFx0XHRcdFx0e2Nsb3NlQnRufVxuXHRcdFx0XHRcdFx0PC9kaXY+fVxuXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Y2hpbGRyZW4gJiZcblx0XHRcdFx0XHRcdDw+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdwb3NpdGlvbi1hYnNvbHV0ZSB0b3AtMCBlbmQtMCBtLTIgemktcG9wb3ZlciB6aS1kaWFsb2cnPlxuXHRcdFx0XHRcdFx0XHRcdHshaGVhZGVyQ29udGVudCAmJiBjbG9zZUJ0bn1cblx0XHRcdFx0XHRcdFx0XHR7LyogaWYgdGhlcmUncyBubyB0aXRsZSBoZWFkZXIsIHB1dCB0aGUgY2xvc2UgYnV0dG9uIGhlcmUuICovfVxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J21vZGFsLWJvZHknPlxuXHRcdFx0XHRcdFx0XHRcdHtjaGlsZHJlbn1cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8Lz5cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0Zm9vdGVyICYmXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nZjMtZGlhbG9nLWJ1dHRvbnMgbW9kYWwtZm9vdGVyJyBkYXRhLWN5PSdmMy1kaWFsb2ctYnRuJz5cblx0XHRcdFx0XHRcdFx0e2Zvb3Rlcn1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdH1cblx0XHRcdFx0PC9kaXY+XG5cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHRcdDxkaXYgY2xhc3NOYW1lPXtjbGFzc1N0cignbW9kYWwtYmFja2Ryb3AnLCBibHVyID8gJ2JnLWRhcmsgYmctb3BhY2l0eS03NSBibHVycmVkJyA6ICdmYWRlIHNob3cnKX0gLz5cblx0PC9FcnJvckJvdW5kYXJ5Pjtcbn07XG5cbmV4cG9ydCBjb25zdCBEaWFsb2dDbG9zZUJ1dHRvbiA9IGZvcndhcmRSZWY8SFRNTEJ1dHRvbkVsZW1lbnQsIEJ1dHRvblByb3BzPigoeyBidG5UeXBlID0gJ3NlY29uZGFyeScsIG91dGxpbmUgPSB0cnVlLCBvbkNsaWNrLCBjaGlsZHJlbiwgLi4ucmVzdCB9LCByZWYpID0+IHtcblx0Y29uc3QgeyBjbG9zZURpYWxvZyB9ID0gdXNlRGlhbG9ncygpO1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdjb21wb25lbnRzJyk7XG5cblx0Y29uc3QgbG9jYWxpemVkQ2xvc2UgPSB0KCdkaWFsb2dDbG9zZUJ1dHRvbi5jbG9zZScsICdDbG9zZScpO1xuXHRpZiAoIWNoaWxkcmVuKSBjaGlsZHJlbiA9IGxvY2FsaXplZENsb3NlO1xuXG5cdHJldHVybiA8RjNCdXR0b25cblx0XHRhcmlhLWxhYmVsPXtsb2NhbGl6ZWRDbG9zZX1cblx0XHRidG5UeXBlPXtidG5UeXBlfVxuXHRcdG9uQ2xpY2s9e2UgPT4ge1xuXHRcdFx0bGV0IHNob3VsZENsb3NlOiBhbnkgPSBvbkNsaWNrPy4oZSk7XG5cblx0XHRcdGlmIChzaG91bGRDbG9zZSAhPT0gZmFsc2UpIHtcblx0XHRcdFx0Y2xvc2VEaWFsb2coKTtcblx0XHRcdH1cblx0XHR9fVxuXHRcdG91dGxpbmU9e291dGxpbmV9XG5cdFx0ey4uLnJlc3R9XG5cdFx0cmVmPXtyZWZ9XG5cdD5cblx0XHR7Y2hpbGRyZW59XG5cdDwvRjNCdXR0b24+O1xufSk7XG5cbmV4cG9ydCBjb25zdCBEaWFsb2dTYXZlQnV0dG9uID0gZm9yd2FyZFJlZjxIVE1MQnV0dG9uRWxlbWVudCwgQnV0dG9uUHJvcHM+KCh7IG9uQ2xpY2ssIGNoaWxkcmVuLCAuLi5yZXN0IH0sIHJlZikgPT4ge1xuXHRjb25zdCB7IGNsb3NlRGlhbG9nIH0gPSB1c2VEaWFsb2dzKCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2NvbXBvbmVudHMnKTtcblxuXHRjb25zdCBsb2NhbGl6ZWRTYXZlID0gdCgnZGlhbG9nU2F2ZUJ1dHRvbi5zYXZlJywgJ1NhdmUnKTtcblx0aWYgKCFjaGlsZHJlbikgY2hpbGRyZW4gPSBsb2NhbGl6ZWRTYXZlO1xuXG5cdHJldHVybiA8RjNCdXR0b25cblx0XHRhcmlhLWxhYmVsPXtsb2NhbGl6ZWRTYXZlfVxuXHRcdG9uQ2xpY2s9e2FzeW5jIGUgPT4ge1xuXHRcdFx0Y29uc3Qgc2hvdWxkQ2xvc2UgPSBhd2FpdCBvbkNsaWNrPy4oZSk7XG5cdFx0XHRpZiAoKHNob3VsZENsb3NlIGFzIGFueSkgIT09IGZhbHNlKSB7XG5cdFx0XHRcdGNsb3NlRGlhbG9nKCk7XG5cdFx0XHR9XG5cdFx0fX1cblx0XHR7Li4ucmVzdH1cblx0XHRyZWY9e3JlZn1cblx0PlxuXHRcdHtjaGlsZHJlbn1cblx0PC9GM0J1dHRvbj47XG59KTtcbiIsImltcG9ydCB7IFJlZiwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbi8qIEJvcnJvd2VkIGZyb20gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcGllNmsvYjQ3MTdmMzkyZDc3M2E3MWY2N2UxMTBiNDI5MjdmZWEgKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VTaGFyZUZvcndhcmRlZFJlZjxUPihmb3J3YXJkZWRSZWY6IFJlZjxUPikge1xuLy8gZmluYWwgcmVmIHRoYXQgd2lsbCBzaGFyZSB2YWx1ZSB3aXRoIGZvcndhcmQgcmVmLiB0aGlzIGlzIHRoZSBvbmUgd2Ugd2lsbCBhdHRhY2ggdG8gY29tcG9uZW50c1xuXHRjb25zdCBpbm5lclJlZiA9IHVzZVJlZjxUPihudWxsKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdC8vIGFmdGVyIGV2ZXJ5IHJlbmRlciAtIHRyeSB0byBzaGFyZSBjdXJyZW50IHJlZiB2YWx1ZSB3aXRoIGZvcndhcmRlZCByZWZcblx0XHRpZiAoIWZvcndhcmRlZFJlZikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGZvcndhcmRlZFJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Zm9yd2FyZGVkUmVmKGlubmVyUmVmLmN1cnJlbnQpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRmb3J3YXJkZWRSZWYuY3VycmVudCA9IGlubmVyUmVmLmN1cnJlbnQ7IC8vYnkgZGVmYXVsdCBmb3J3YXJkZWRSZWYuY3VycmVudCBpcyByZWFkb25seS4gTGV0J3MgaWdub3JlIGl0XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gaW5uZXJSZWY7XG59XG4iLCJpbXBvcnQgUmVhY3QsIHsgRGV0YWlsZWRIVE1MUHJvcHMsIGZvcndhcmRSZWYsIElucHV0SFRNTEF0dHJpYnV0ZXMsIHVzZUVmZmVjdCwgdXNlSWQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjbGFzc1N0ciB9IGZyb20gJy4uLy4uL2xpYi9jbGFzc1V0aWwnO1xuaW1wb3J0IHsgZ2VuZXJhdGVTdHJpbmcgfSBmcm9tICcuLi8uLi9saWIvZ2VuZXJhdGVEYXRhJztcblxuaW50ZXJmYWNlIEYzU3BhbUlucHV0UHJvcHMgZXh0ZW5kcyBEZXRhaWxlZEhUTUxQcm9wczxJbnB1dEhUTUxBdHRyaWJ1dGVzPEhUTUxJbnB1dEVsZW1lbnQ+LCBIVE1MSW5wdXRFbGVtZW50PiB7XG5cbn1cblxuZXhwb3J0IGNvbnN0IFNQQU1fSU5QVVRfQ0xBU1MgPSAndGVzdC11c2VyLWlucHV0JztcblxuZXhwb3J0IGNvbnN0IEYzU3BhbUlucHV0ID0gZm9yd2FyZFJlZjxIVE1MSW5wdXRFbGVtZW50LCBGM1NwYW1JbnB1dFByb3BzPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4ge1xuXHRyZXR1cm4gPGlucHV0XG5cdFx0ey4uLnByb3BzfVxuXHRcdHJlZj17cmVmfVxuXHRcdGFyaWEtaGlkZGVuXG5cdFx0YXV0b0NvbXBsZXRlPSdvZmYnXG5cdFx0Y2xhc3NOYW1lPXtjbGFzc1N0cihTUEFNX0lOUFVUX0NMQVNTLCAndmlzaWJpbGl0eS1oaWRkZW4nLCBjbGFzc05hbWUpfVxuXHRcdGRhdGEtY3k9e1NQQU1fSU5QVVRfQ0xBU1N9XG5cdFx0aGlkZGVuXG5cdFx0dGFiSW5kZXg9ey0xfVxuXHQvPjtcbn0pO1xuIiwiaW1wb3J0IFJlYWN0LCB7IERldGFpbGVkSFRNTFByb3BzLCBGb3JtSFRNTEF0dHJpYnV0ZXMsIGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTaGFyZUZvcndhcmRlZFJlZiB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VTaGFyZUZvcndhcmRlZFJlZic7XG5pbXBvcnQgeyBTUEFNX0lOUFVUX0NMQVNTIH0gZnJvbSAnLi9GM1NwYW1JbnB1dCc7XG5cbmludGVyZmFjZSBGb3JtUHJvcHMgZXh0ZW5kcyBEZXRhaWxlZEhUTUxQcm9wczxGb3JtSFRNTEF0dHJpYnV0ZXM8SFRNTEZvcm1FbGVtZW50PiwgSFRNTEZvcm1FbGVtZW50PiB7XG5cdGNsZWFyT25TdWJtaXQ/OiBib29sZWFuXG5cdGNoZWNrVmFsaWRpdHk/OiAodmFsaWQ6IGJvb2xlYW4pID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBGM0Zvcm0gPSBmb3J3YXJkUmVmPEhUTUxGb3JtRWxlbWVudCwgRm9ybVByb3BzPigoeyBvblN1Ym1pdCwgY2xlYXJPblN1Ym1pdCwgY2hlY2tWYWxpZGl0eSwgY2hpbGRyZW4sIC4uLnJlc3QgfSwgcmVmKSA9PiB7XG5cdGNvbnN0IGZvcm1SZWYgPSB1c2VTaGFyZUZvcndhcmRlZFJlZihyZWYpO1xuXG5cdHJldHVybiA8Zm9ybVxuXHRcdHJlZj17Zm9ybVJlZn1cblx0XHRub1ZhbGlkYXRlXG5cdFx0b25DaGFuZ2U9eygpID0+IHtcblx0XHRcdGlmIChjaGVja1ZhbGlkaXR5KSB7XG5cdFx0XHRcdGNoZWNrVmFsaWRpdHkoZm9ybVJlZi5jdXJyZW50LmNoZWNrVmFsaWRpdHkoKSk7XG5cdFx0XHR9XG5cdFx0fX1cblx0XHRvblN1Ym1pdD17YXN5bmMgZXZ0ID0+IHtcblx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0XHRsZXQgaXNTcGFtID0gQXJyYXkuZnJvbShmb3JtUmVmLmN1cnJlbnQuZWxlbWVudHMpXG5cdFx0XHRcdC5zb21lKChpbnB1dDogSFRNTElucHV0RWxlbWVudCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHsgY2xhc3NMaXN0LCB2YWx1ZSwgY2hlY2tlZCwgdHlwZSB9ID0gaW5wdXQ7XG5cblx0XHRcdFx0XHRpZiAoY2xhc3NMaXN0LmNvbnRhaW5zKFNQQU1fSU5QVVRfQ0xBU1MpKSB7XG5cdFx0XHRcdFx0XHRpZiAodHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuXHRcdFx0XHRcdFx0XHRpZiAoY2hlY2tlZCkgcmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRpZiAodmFsdWUubGVuZ3RoID4gMCkgcmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0aWYgKGlzU3BhbSkge1xuXHRcdFx0XHRhd2FpdCBmZXRjaCgnL25vZGUvc3BhbS1yZXBvcnQnKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3JtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LmFkZCgnd2FzLXZhbGlkYXRlZCcpO1xuXHRcdFx0aWYgKCFmb3JtUmVmLmN1cnJlbnQuY2hlY2tWYWxpZGl0eSgpKSByZXR1cm47XG5cblx0XHRcdGxldCBpc0ludmFsaWQgPSBmYWxzZTtcblxuXHRcdFx0LyogVGhpcyBjYXRjaGVzIGFueSBjdXN0b20gdmFsaWRpdHkgbWVzc2FnZXMgY3JlYXRlZCBieSB1c2VGb3JtVmFsaWRhdGlvbiAqL1xuXHRcdFx0QXJyYXkuZnJvbShmb3JtUmVmLmN1cnJlbnQuZWxlbWVudHMpXG5cdFx0XHRcdC5mb3JFYWNoKChlbDogSFRNTElucHV0RWxlbWVudCkgPT4ge1xuXHRcdFx0XHRcdGlmIChlbC52YWxpZGF0aW9uTWVzc2FnZSkge1xuXHRcdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LmFkZCgnaXMtaW52YWxpZCcpO1xuXHRcdFx0XHRcdFx0aXNJbnZhbGlkID0gdHJ1ZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaW52YWxpZCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdGlmIChpc0ludmFsaWQpIHJldHVybjtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YXdhaXQgb25TdWJtaXQoZXZ0KTtcblxuXHRcdFx0XHQvKiBJdCdzIHBvc3NpYmxlIGZvciB0aGUgb25TdWJtaXQgaGFuZGxlciB0byByZW1vdmUgdGhlIGZvcm0gZnJvbSB0aGUgRE9NICovXG5cdFx0XHRcdGlmIChmb3JtUmVmLmN1cnJlbnQgPT09IG51bGwpIHJldHVybjtcblxuXHRcdFx0XHRmb3JtUmVmLmN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnd2FzLXZhbGlkYXRlZCcpO1xuXG5cdFx0XHRcdGlmIChjbGVhck9uU3VibWl0KSB7XG5cdFx0XHRcdFx0Zm9ybVJlZi5jdXJyZW50LnJlc2V0KCk7XG5cdFx0XHRcdFx0QXJyYXkuZnJvbShmb3JtUmVmLmN1cnJlbnQuZWxlbWVudHMpLmZvckVhY2goKGVsOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG5cdFx0XHRcdFx0XHRlbC5zZXRDdXN0b21WYWxpZGl0eSgnJyk7XG5cdFx0XHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1pbnZhbGlkJyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2goZXJyKSB7XG5cdFx0XHRcdGZvcm1SZWYuY3VycmVudD8uY2xhc3NMaXN0LnJlbW92ZSgnd2FzLXZhbGlkYXRlZCcpO1xuXHRcdFx0fVxuXHRcdH19XG5cdFx0ey4uLnJlc3R9XG5cdD5cblx0XHR7Y2hpbGRyZW59XG5cdDwvZm9ybT47XG59KTtcbiIsImltcG9ydCBSZWFjdCwgeyBSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGM0lucHV0UHJvcHMgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2Zvcm1zL0YzSW5wdXQnO1xuaW1wb3J0IHsgRjNTZWxlY3RQcm9wcyB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZm9ybXMvRjNTZWxlY3QnO1xuaW1wb3J0IHsgVGV4dEFyZWFQcm9wcyB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZm9ybXMvRjNUZXh0QXJlYSc7XG5pbXBvcnQgeyBjbGFzc1N0ciBhcyBfY2xhc3NTdHIgfSBmcm9tICcuLi9jbGFzc1V0aWwnO1xuaW1wb3J0IHsgdXNlUmVyZW5kZXIgfSBmcm9tICcuL3VzZVJlcmVuZGVyJztcbmltcG9ydCB7IHVzZVNoYXJlRm9yd2FyZGVkUmVmIH0gZnJvbSAnLi91c2VTaGFyZUZvcndhcmRlZFJlZic7XG5cbnR5cGUgRm9ybVZhbGlkYXRpb25UeXBlcyA9IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MU2VsZWN0RWxlbWVudCB8IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG50eXBlIFZhbGlkUHJvcHMgPSBGM0lucHV0UHJvcHMgfCBUZXh0QXJlYVByb3BzIHwgRjNTZWxlY3RQcm9wcztcblxuY29uc3QgY2xhc3NTdHIgPSBfY2xhc3NTdHI7XG5cbmV4cG9ydCBjb25zdCB1c2VGb3JtVmFsaWRhdGlvbiA9IDxUIGV4dGVuZHMgRm9ybVZhbGlkYXRpb25UeXBlcywgUCBleHRlbmRzIFZhbGlkUHJvcHM+KHJlZjogUmVmPFQ+LCBwcm9wczogUCwgdmFsaWRhdGU6ICh2YWw6IHN0cmluZyB8IGJvb2xlYW4pID0+IHN0cmluZykgPT4ge1xuXHRjb25zdCBpbnB1dFJlZiA9IHVzZVNoYXJlRm9yd2FyZGVkUmVmKHJlZik7XG5cdGNvbnN0IHsgcmVyZW5kZXIgfSA9IHVzZVJlcmVuZGVyKCk7XG5cblx0Y29uc3Qgc2V0Q3VzdG9tVmFsaWRpdHkgPSAodmFsOiBzdHJpbmcpID0+IHtcblx0XHRsZXQgbXNnID0gdmFsaWRhdGU/Lih2YWwpIHx8ICcnO1xuXHRcdGlucHV0UmVmPy5jdXJyZW50Py5zZXRDdXN0b21WYWxpZGl0eShtc2cpO1xuXHRcdHJlcmVuZGVyKCk7XG5cdH07XG5cblx0Y29uc3QgZ2V0VmFsID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PFQ+KSA9PiB7XG5cdFx0aWYgKGUudGFyZ2V0LnR5cGUgPT09ICdjaGVja2JveCcpIHtcblx0XHRcdHJldHVybiAoZS50YXJnZXQgYXMgYW55KS5jaGVja2VkO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gZS50YXJnZXQudmFsdWU7XG5cdFx0fVxuXHR9O1xuXG5cdHJldHVybiB7XG5cdFx0Li4ucHJvcHMsXG5cdFx0Y2xhc3NOYW1lOiBjbGFzc1N0cihwcm9wcy5jbGFzc05hbWUpLFxuXHRcdHJlZjogaW5wdXRSZWYsXG5cdFx0dmFsaWRhdGlvbk1lc3NhZ2U6IGlucHV0UmVmPy5jdXJyZW50Py52YWxpZGF0aW9uTWVzc2FnZSB8fCAnJyxcblx0XHRvbkNoYW5nZShlOiBSZWFjdC5DaGFuZ2VFdmVudDxUPikge1xuXHRcdFx0c2V0Q3VzdG9tVmFsaWRpdHkoZ2V0VmFsKGUpKTtcblx0XHRcdHByb3BzPy5vbkNoYW5nZT8uKGUgYXMgYW55KTtcblx0XHR9LFxuXHRcdG9uSW52YWxpZChlOiBSZWFjdC5JbnZhbGlkRXZlbnQ8VD4pIHtcblx0XHRcdHNldEN1c3RvbVZhbGlkaXR5KGdldFZhbChlKSk7XG5cdFx0XHRwcm9wcz8ub25JbnZhbGlkPy4oZSBhcyBhbnkpO1xuXHRcdH0sXG5cdH07XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IERldGFpbGVkSFRNTFByb3BzLCBJbnB1dEhUTUxBdHRyaWJ1dGVzLCBmb3J3YXJkUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjbGFzc1N0ciB9IGZyb20gJy4uLy4uL2xpYi9jbGFzc1V0aWwnO1xuaW1wb3J0IHsgdXNlRm9ybVZhbGlkYXRpb24gfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlRm9ybVZhbGlkYXRpb24nO1xuXG5leHBvcnQgaW50ZXJmYWNlIEYzSW5wdXRQcm9wcyBleHRlbmRzIE9taXQ8RGV0YWlsZWRIVE1MUHJvcHM8SW5wdXRIVE1MQXR0cmlidXRlczxIVE1MSW5wdXRFbGVtZW50PiwgSFRNTElucHV0RWxlbWVudD4sICdvblZhbHVlQ2hhbmdlJz4ge1xuXHQvKlxuXHQgKiBJZiB0aGVyZSdzIGFub3RoZXIgaW5wdXQgdHlwZSB0aGF0IGFjY2VwdHMgbm9ybWFsIHRleHQsIHlvdSBjYW4gYWRkIGl0LlxuXHQgKiBUaGlzIGlzIGhlcmUgdG8gcHJldmVudCBpbnB1dCB0eXBlcyB0aGF0IHdpbGwgY2F1c2UgZXJyb3JzIHN1Y2ggYXMgdGhvc2UgbGlzdGVkIGJlbG93LlxuXHQgKi9cblx0dHlwZT86ICd0ZXh0JyB8ICdlbWFpbCcgfCAncGFzc3dvcmQnIHwgJ3NlYXJjaCcgfCAnVVJMJyB8ICdkYXRldGltZS1sb2NhbCcgfCAnbnVtYmVyJztcblx0b25WYWx1ZUNoYW5nZT8odmFsOiBzdHJpbmcpOiB2b2lkXG5cdHZhbGlkYXRlPyh2YWw6IHN0cmluZyk6IHN0cmluZ1xufVxuXG5leHBvcnQgY29uc3QgRjNJbnB1dCA9IGZvcndhcmRSZWY8SFRNTElucHV0RWxlbWVudCwgRjNJbnB1dFByb3BzPigocHJvcHMsIGlucHV0UmVmKSA9PiB7XG5cdGNvbnN0IHsgb25WYWx1ZUNoYW5nZSwgdmFsaWRhdGUsIC4uLm90aGVyUHJvcHMgfSA9IHByb3BzO1xuXHRvdGhlclByb3BzLnR5cGUgfHw9ICd0ZXh0Jztcblx0Y29uc3QgeyB2YWxpZGF0aW9uTWVzc2FnZSwgY2xhc3NOYW1lLCB2YWx1ZSwgLi4ucmVzdCB9ID0gdXNlRm9ybVZhbGlkYXRpb24oaW5wdXRSZWYsIG90aGVyUHJvcHMsIHZhbGlkYXRlKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGlmIChbJ2NoZWNrYm94JywgJ3JhZGlvJywgJ2VtYWlsJywgJ2ZpbGUnLCAnaGlkZGVuJ10uaW5jbHVkZXMob3RoZXJQcm9wcy50eXBlKSkge1xuXHRcdFx0Y29uc29sZS53YXJuKGAke290aGVyUHJvcHMudHlwZX0gdHlwZSBpbnB1dCB3aWxsIG5vdCB3b3JrIHdpdGggSW5wdXQgY29tcG9uZW50LiBVc2Ugbm9ybWFsIDxpbnB1dD4gaW5zdGVhZC5gKTtcblx0XHR9XG5cdH0sIFtdKTtcblxuXHRyZXR1cm4gPD5cblx0XHQ8aW5wdXRcblx0XHRcdHsuLi5yZXN0fVxuXHRcdFx0YXJpYS1kZXNjcmliZWRieT0naW52YWxpZC1mZWVkYmFjay1hbGVydCdcblx0XHRcdGFyaWEtaW52YWxpZD17ISF2YWxpZGF0aW9uTWVzc2FnZX1cblx0XHRcdGNsYXNzTmFtZT17Y2xhc3NTdHIoJ2Zvcm0tY29udHJvbCcsIGNsYXNzTmFtZSl9XG5cdFx0XHRkYXRhLWN5PSdmb2xkMy1pbnB1dCdcblx0XHRcdG9uQ2hhbmdlPXtlID0+IHtcblx0XHRcdFx0cmVzdC5vbkNoYW5nZShlKTtcblx0XHRcdFx0b25WYWx1ZUNoYW5nZT8uKGUudGFyZ2V0LnZhbHVlKTtcblx0XHRcdH19XG5cdFx0XHR2YWx1ZT17dmFsdWUgIT09IG51bGwgPyB2YWx1ZSA6IHVuZGVmaW5lZH0gLy9zdXBwcmVzcyB3YXJuaW5nOiB2YWx1ZSBjYW5ub3QgYmUgbnVsbCwgc2V0IHRvIHVuZGVmaW5lZCB0byBjbGVhciB2YWx1ZSBvZiA8aW5wdXQ+XG5cdFx0Lz5cblx0XHQ8ZGl2XG5cdFx0XHRhcmlhLWxhYmVsPSdJbnZhbGlkIEZlZWRiYWNrJ1xuXHRcdFx0Y2xhc3NOYW1lPSdpbnZhbGlkLWZlZWRiYWNrJ1xuXHRcdFx0aWQ9J2ludmFsaWQtZmVlZGJhY2stYWxlcnQnXG5cdFx0XHRyb2xlPSdhbGVydCdcblx0XHQ+XG5cdFx0XHQ8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdpY29uLWYzIGljb24td2FybmluZycgLz5cblx0XHRcdHt2YWxpZGF0aW9uTWVzc2FnZX1cblx0XHQ8L2Rpdj5cblx0PC8+O1xufSk7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBDb250ZW50TGVuZ3RoVHlwZSwgdmFsaWRhdGVMZW5ndGggfSBmcm9tICcuLi8uLi9zZXJ2ZXIvbGliL2NvbnRlbnRWYWxpZGF0aW9uJztcbmltcG9ydCB7IEluZGV4UmVjb3JkQXBpIH0gZnJvbSAnLi4vYXBpcy9pbmRleFJlY29yZEFwaSc7XG5pbXBvcnQgeyBJbmRleFJlY29yZENvbnRlbnRDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9jb250ZW50Q29udGV4dCc7XG5pbXBvcnQgeyBDb250ZW50RG9jdW1lbnRDb21tZW50LCBEb2N1bWVudEVsZW1lbnRVcGRhdGVSZXN1bHRzLCBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudCB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IGNyZWF0ZUNvbW1lbnRFbGVtZW50LCBnZXRFbGVtZW50VHlwZUFuZElkLCB1cGRhdGVDb21tZW50RWxlbWVudCB9IGZyb20gJy4uL2xpYi9jb250ZW50L2NvbnRlbnRFbGVtZW50cyc7XG5pbXBvcnQgeyB1c2VBbGVydHMgfSBmcm9tICcuLi9saWIvaG9va3MvdXNlQWxlcnRzJztcbmltcG9ydCB7IHVzZURpYWxvZ3MgfSBmcm9tICcuLi9saWIvaG9va3MvdXNlRGlhbG9ncyc7XG5pbXBvcnQgeyBTdWJtaXRCdXR0b24gfSBmcm9tICcuL0YzQnV0dG9uJztcbmltcG9ydCB7IERpYWxvZywgRGlhbG9nQ2xvc2VCdXR0b24gfSBmcm9tICcuL2RpYWxvZ3MvRGlhbG9nJztcbmltcG9ydCB7IEYzRm9ybSB9IGZyb20gJy4vZm9ybXMvRjNGb3JtJztcbmltcG9ydCB7IEYzSW5wdXQgfSBmcm9tICcuL2Zvcm1zL0YzSW5wdXQnO1xuXG5pbnRlcmZhY2UgQ29tbWVudEVsZW1lbnREaWFsb2dQcm9wcyB7XG5cdGV4aXN0aW5nQ29tbWVudD86IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50PENvbnRlbnREb2N1bWVudENvbW1lbnQ+XG5cdGxlbmd0aFR5cGU/OiBDb250ZW50TGVuZ3RoVHlwZVxufVxuXG5jb25zdCBDT01NRU5UX0VMRU1FTlRfRk9STV9JRCA9ICdjb21tZW50LWVsZW1lbnQtZm9ybSc7XG5cbmV4cG9ydCBjb25zdCBDb21tZW50RWxlbWVudERpYWxvZyA9ICh7IGV4aXN0aW5nQ29tbWVudCwgbGVuZ3RoVHlwZSB9OiBDb21tZW50RWxlbWVudERpYWxvZ1Byb3BzKSA9PiB7XG5cdGNvbnN0IHsgY29udGVudCwgbWVyZ2VFbGVtZW50VXBkYXRlUmVzdWx0cyB9ID0gdXNlQ29udGV4dChJbmRleFJlY29yZENvbnRlbnRDb250ZXh0KTtcblxuXHRjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlKGV4aXN0aW5nQ29tbWVudD8uZWxlbWVudD8udmFsdWUgfHwgJycpO1xuXHRjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cdGNvbnN0IFt2YWxpZCwgc2V0VmFsaWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdjb21wb25lbnRzJyk7XG5cblxuXHRjb25zdCB7IGNsb3NlRGlhbG9nIH0gPSB1c2VEaWFsb2dzKCk7XG5cdGNvbnN0IHsgYWRkRXJyb3JBbGVydCwgYWRkU3VjY2Vzc0FsZXJ0IH0gPSB1c2VBbGVydHMoKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGxldCB2YWxpZE1zZyA9IHZhbGlkYXRlTGVuZ3RoKHZhbHVlLCBsZW5ndGhUeXBlIHx8ICdDT05URU5UX0RPQ1VNRU5UX0NPTU1FTlQnKTtcblx0XHRzZXRWYWxpZCh2YWxpZE1zZyA9PT0gbnVsbCk7XG5cdH0sIFt2YWx1ZV0pO1xuXG5cdHJldHVybiA8RGlhbG9nXG5cdFx0Zm9vdGVyPXs8PlxuXHRcdFx0PERpYWxvZ0Nsb3NlQnV0dG9uIGRpc2FibGVkPXtsb2FkaW5nfT5cblx0XHRcdFx0e3QoJ2NvbW1lbnRFbGVtZW50LmNhbmNlbCcsICdDYW5jZWwnKX1cblx0XHRcdDwvRGlhbG9nQ2xvc2VCdXR0b24+XG5cdFx0XHQ8U3VibWl0QnV0dG9uXG5cdFx0XHRcdGRpc2FibGVkPXtsb2FkaW5nIHx8ICF2YWxpZH1cblx0XHRcdFx0Zm9ybT17Q09NTUVOVF9FTEVNRU5UX0ZPUk1fSUR9XG5cdFx0XHQ+XG5cdFx0XHRcdHt0KCdjb21tZW50RWxlbWVudC5zYXZlJywgJ1NhdmUnKX1cblx0XHRcdDwvU3VibWl0QnV0dG9uPlxuXHRcdDwvPn1cblx0XHR0aXRsZT17ZXhpc3RpbmdDb21tZW50ID8gdCgnY29tbWVudEVsZW1lbnQudGl0bGUuZWRpdCcsICdFZGl0IENvbW1lbnQnKSA6IHQoJ2NvbW1lbnRFbGVtZW50LnRpdGxlLmFkZCcsICdBZGQgQ29tbWVudCcpfVxuXHQ+XG5cdFx0PEYzRm9ybVxuXHRcdFx0aWQ9e0NPTU1FTlRfRUxFTUVOVF9GT1JNX0lEfVxuXHRcdFx0b25TdWJtaXQ9e2FzeW5jICgpID0+IHtcblx0XHRcdFx0c2V0TG9hZGluZyh0cnVlKTtcblxuXHRcdFx0XHRsZXQgcmVzdWx0czogRG9jdW1lbnRFbGVtZW50VXBkYXRlUmVzdWx0cztcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGlmIChleGlzdGluZ0NvbW1lbnQpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHVwZGF0ZUNvbW1lbnQgPSB1cGRhdGVDb21tZW50RWxlbWVudChnZXRFbGVtZW50VHlwZUFuZElkKGV4aXN0aW5nQ29tbWVudCksIHZhbHVlKTtcblx0XHRcdFx0XHRcdHJlc3VsdHMgPSBhd2FpdCBuZXcgSW5kZXhSZWNvcmRBcGkoKS51cGRhdGVFbGVtZW50cyhjb250ZW50LCBbdXBkYXRlQ29tbWVudF0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXN1bHRzID0gYXdhaXQgbmV3IEluZGV4UmVjb3JkQXBpKCkuYWRkRWxlbWVudHMoY29udGVudCwgW2NyZWF0ZUNvbW1lbnRFbGVtZW50KHZhbHVlKV0pO1xuXG5cdFx0XHRcdFx0XHRyZXN1bHRzLm5ld0VsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuXHRcdFx0XHRcdFx0XHRsZXQgZGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRcdFx0XHRcdFx0ZWwubWV0YWRhdGEuY3JlYXRlZCB8fD0gZGF0ZTtcblx0XHRcdFx0XHRcdFx0ZWwubWV0YWRhdGEubGFzdE1vZGlmaWVkIHx8PSBkYXRlO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0bGV0IG1zZztcblx0XHRcdFx0XHRpZiAoZXhpc3RpbmdDb21tZW50KSB7XG5cdFx0XHRcdFx0XHRtc2cgPSB0KCdjb21tZW50RWxlbWVudC5zdWNjZXNzQWxlcnQudXBkYXRlZCcsICdZb3VyIGNvbW1lbnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHVwZGF0ZWQuJyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdG1zZyA9IHQoJ2NvbW1lbnRFbGVtZW50LnN1Y2Nlc3NBbGVydC5hZGRlZCcsICdZb3VyIGNvbW1lbnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGFkZGVkLicpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFkZFN1Y2Nlc3NBbGVydChtc2cpO1xuXHRcdFx0XHRcdG1lcmdlRWxlbWVudFVwZGF0ZVJlc3VsdHMocmVzdWx0cyk7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHNldExvYWRpbmcoZmFsc2UpO1xuXHRcdFx0XHRcdGFkZEVycm9yQWxlcnQodCgnY29tbW9uOnNvbWV0aGluZ1dyb25nJykpO1xuXHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzZXRMb2FkaW5nKGZhbHNlKTtcblx0XHRcdFx0Y2xvc2VEaWFsb2coKTtcblx0XHRcdH19XG5cdFx0PlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J3Jvdyc+XG5cdFx0XHRcdDxsYWJlbCBjbGFzc05hbWU9J2NvbC1mb3JtLWxhYmVsIGNvbC0xMiBjb2wtbWQtMyB0ZXh0LW1kLWVuZCc+e3QoJ2NvbW1lbnRFbGVtZW50LmNvbW1lbnQnLCAnQ29tbWVudCcpfTwvbGFiZWw+XG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtMTIgY29sLW1kLTknPlxuXHRcdFx0XHRcdDxGM0lucHV0XG5cdFx0XHRcdFx0XHRhdXRvRm9jdXNcblx0XHRcdFx0XHRcdG1heExlbmd0aD17NDA5Nn1cblx0XHRcdFx0XHRcdG9uVmFsdWVDaGFuZ2U9e3NldFZhbHVlfVxuXHRcdFx0XHRcdFx0dmFsaWRhdGU9e3ZhbCA9PiB2YWxpZGF0ZUxlbmd0aCh2YWwsICdDT05URU5UX0RPQ1VNRU5UX0NPTU1FTlQnKX1cblx0XHRcdFx0XHRcdHZhbHVlPXt2YWx1ZX1cblx0XHRcdFx0XHQvPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdDwvRjNGb3JtPlxuXHQ8L0RpYWxvZz47XG59O1xuIiwiaW1wb3J0IHsgVXNlciB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcblxuaW50ZXJmYWNlIEN1cnJlbnRVc2VyIGV4dGVuZHMgVXNlciB7XG5cdGF2YWlsYWJsZTogdW5kZWZpbmVkO1xuXHRpbnN0aXR1dGlvbjogbnVtYmVyIHwgc3RyaW5nO1xuXHRpbnN0aXR1dGlvbl90eXBlOiBzdHJpbmc7XG5cdGluc3RpdHV0aW9uX25hbWU6IHN0cmluZztcblx0c3RhdHVzOiBzdHJpbmc7XG5cdHVzZXJJZDogbnVtYmVyO1xuXHR1c2VybmFtZTogc3RyaW5nO1xufVxuXG5sZXQgY3VycmVudFVzZXIgPSBnZXRDbGllbnRDdXJyZW50VXNlcigpO1xubGV0IHdhcm5lZCA9IGZhbHNlO1xuXG4vKiogQGRlcHJlY2F0ZWQgZG9uJ3QgdXNlIHRoaXMuIEl0IG9ubHkgd29ya3Mgb24gdGhlIGNsaWVudCBhbmQgbmVlZHMgdG8gZ28gYXdheS4gKi9cbnR5cGUgRGVwcmVjYXRlZEN1cnJlbnRVc2VyID0gQ3VycmVudFVzZXIgJiB7XG5cdERFUFJFQ0FURUQ6ICd1c2UgZ2V0Q2xpZW50Q3VycmVudFVzZXIoKSBpbnN0ZWFkJ1xufVxubGV0IGRlcHJlY2F0ZWRDdXJyZW50VXNlciA9IGN1cnJlbnRVc2VyIGFzIERlcHJlY2F0ZWRDdXJyZW50VXNlcjtcblxuZnVuY3Rpb24gZ2V0Q2xpZW50Q3VycmVudFVzZXIoKTogQ3VycmVudFVzZXIge1xuXHR0cnkge1xuXHRcdGNvbnN0IHcgPSB3aW5kb3cgYXMgYW55O1xuXHRcdGxldCB1c2VyOmFueTtcblx0XHRpZiAody5GMykge1xuXHRcdFx0aWYgKHcuRjMucGFnZS51c2VyKSB7XG5cdFx0XHRcdHVzZXIgPSBPYmplY3QuYXNzaWduKHt9LCB3LkYzLnBhZ2UudXNlcik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR1c2VyID0gT2JqZWN0LmFzc2lnbih7fSwgdy51c2VyRGF0YSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGlmICh1c2VyLnVzZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1c2VyLnVzZXJJZCA9IHVzZXIuaWQ7XG5cdFx0fVxuXG5cdFx0dXNlci5fX2RlZmluZUdldHRlcl9fKCdpZCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCF3YXJuZWQpIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKCdjdXJyZW50VXNlci5pZCBpcyB1bmRvY3VtZW50ZWQgYW5kIGRlcHJlY2F0ZWQ7IHVzZSBjdXJyZW50VXNlci51c2VySWQgaW5zdGVhZC4nKTtcblx0XHRcdFx0d2FybmVkID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB1c2VyLnVzZXJJZDtcblx0XHR9KTtcblxuXHRcdHJldHVybiB1c2VyO1xuXHR9IGNhdGNoKGUpIHtcblx0XHRyZXR1cm4ge30gYXMgQ3VycmVudFVzZXI7XG5cdH1cbn1cblxuZXhwb3J0IHsgZGVwcmVjYXRlZEN1cnJlbnRVc2VyIGFzIGN1cnJlbnRVc2VyIH07XG4iLCJpbXBvcnQgeyBnZXRDb29raWUsIHNldENvb2tpZSB9IGZyb20gJy4vY2xpZW50Q29va2llcyc7XG5pbXBvcnQgeyBDT09LSUVTIH0gZnJvbSAnLi4vZW51bXMvY29va2llcy5lbnVtJztcblxuZXhwb3J0IGNvbnN0IHNldERlbnlVcmwgPSAoKSA9PiB7XG5cdHNldENvb2tpZShDT09LSUVTLkRFTllfVVJMLCBlbmNvZGVVUkkod2luZG93LmxvY2F0aW9uLmhyZWYpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZW55VXJsID0gKCkgPT4ge1xuXHRjb25zdCB1cmwgPSBnZXRDb29raWUoQ09PS0lFUy5ERU5ZX1VSTCk7XG5cdGlmICh1cmwpIHJldHVybiBkZWNvZGVVUkkodXJsKTtcbn07XG4iLCJpbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IEZvbGQzUGFnZUNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L2ZvbGQzUGFnZUNvbnRleHQnO1xuaW1wb3J0IHsgQ29udGVudFN1YlR5cGUsIENvbnRlbnRUeXBlLCBGYWNldFR5cGUgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBnZXRGYWNldExhYmVsLCBnZXRGYWNldFZhbHVlTGFiZWwgfSBmcm9tICcuLi8uLi9wYWdlcy9zZWFyY2gvZmFjZXRUeXBlcyc7XG5pbXBvcnQgeyBnZXRDb250ZW50VHlwZUxhYmVsIH0gZnJvbSAnLi4vY29udGVudC9jb250ZW50T2JqZWN0JztcbmltcG9ydCB7IENPTlRFTlRfSlNPTl9OQU1FU1BBQ0VTLCBDb250ZW50SWRfTm9OYW1lc3BhY2UsIENvbnRlbnRUeXBlSWRPcHRpb25zLCBMb2NhbGl6YWJsZVB1YmxpY2F0aW9uLCBMb2NhbGl6YWJsZVRpdGxlQ29sbGVjdGlvbiwgTG9jYWxpemFibGVUaXRsZUNvbGxlY3Rpb25Hcm91cCB9IGZyb20gJy4uL2xvY2FsaXphdGlvbi9jb250ZW50TG9jYWxpemF0aW9uSWQnO1xuaW1wb3J0IHsgdXNlRG9tYWluIH0gZnJvbSAnLi91c2VEb21haW4nO1xuXG5leHBvcnQgY29uc3QgdXNlTG9jYWxpemVkQ29udGVudCA9ICgpID0+IHtcblx0Y29uc3QgeyBmM0RvbWFpbiB9ID0gdXNlRG9tYWluKCk7XG5cdGNvbnN0IHsgcHVibGljYXRpb25zIH0gPSB1c2VDb250ZXh0KEZvbGQzUGFnZUNvbnRleHQpO1xuXG5cdGNvbnN0IHsgdDogY29sbGVjdGlvbkdyb3VwVCB9ID0gdXNlVHJhbnNsYXRpb24oQ09OVEVOVF9KU09OX05BTUVTUEFDRVMuQ09MTEVDVElPTl9HUk9VUCk7XG5cdGNvbnN0IHsgdDogY29udGVudFR5cGVUIH0gPSB1c2VUcmFuc2xhdGlvbihDT05URU5UX0pTT05fTkFNRVNQQUNFUy5DT05URU5UX1RZUEUpO1xuXHRjb25zdCB7IHQ6IGNvbGxlY3Rpb25UIH0gPSB1c2VUcmFuc2xhdGlvbihDT05URU5UX0pTT05fTkFNRVNQQUNFUy5DT0xMRUNUSU9OKTtcblx0Y29uc3QgeyB0OiBwdWJsaWNhdGlvblQgfSA9IHVzZVRyYW5zbGF0aW9uKENPTlRFTlRfSlNPTl9OQU1FU1BBQ0VTLlBVQkxJQ0FUSU9OUyk7XG5cdGNvbnN0IHsgdDogZmFjZXRUIH0gPSB1c2VUcmFuc2xhdGlvbihDT05URU5UX0pTT05fTkFNRVNQQUNFUy5GQUNFVFMpO1xuXG5cdGNvbnN0IGxvY2FsaXplcnMgPSB7XG5cdFx0bG9jYWxpemVDb2xsZWN0aW9uR3JvdXAodGl0bGU6IHN0cmluZywgcHJvcDoga2V5b2YgTG9jYWxpemFibGVUaXRsZUNvbGxlY3Rpb25Hcm91cCwgZGVmYXVsdFZhbHVlOiBzdHJpbmcpIHtcblx0XHRcdHJldHVybiBjb2xsZWN0aW9uR3JvdXBUKENvbnRlbnRJZF9Ob05hbWVzcGFjZS5jb2xsZWN0aW9uR3JvdXAoZjNEb21haW4sIHRpdGxlLCBwcm9wKSwgZGVmYXVsdFZhbHVlKTtcblx0XHR9LFxuXHRcdGxvY2FsaXplQ29udGVudFR5cGUoY29udGVudFR5cGU6IENvbnRlbnRUeXBlIHwgQ29udGVudFN1YlR5cGUsIG9wdGlvbnM/OiBDb250ZW50VHlwZUlkT3B0aW9ucykge1xuXHRcdFx0cmV0dXJuIGNvbnRlbnRUeXBlVChDb250ZW50SWRfTm9OYW1lc3BhY2UuY29udGVudFR5cGUoY29udGVudFR5cGUsIG9wdGlvbnMpLCBnZXRDb250ZW50VHlwZUxhYmVsKGNvbnRlbnRUeXBlKSk7XG5cdFx0fSxcblx0XHRsb2NhbGl6ZUNvbGxlY3Rpb25Qcm9wKHNsdWc6IHN0cmluZywgcHJvcHM6IGtleW9mIExvY2FsaXphYmxlVGl0bGVDb2xsZWN0aW9uIHwgKGtleW9mIExvY2FsaXphYmxlVGl0bGVDb2xsZWN0aW9uKVtdLCBkZWZhdWx0VmFsdWU6IHN0cmluZykge1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHByb3BzKSkgcHJvcHMgPSBbcHJvcHNdO1xuXHRcdFx0cmV0dXJuIGNvbGxlY3Rpb25UKHByb3BzLm1hcChwcm9wID0+IENvbnRlbnRJZF9Ob05hbWVzcGFjZS5jb2xsZWN0aW9uKHNsdWcsIHByb3ApKSwgZGVmYXVsdFZhbHVlKTtcblx0XHR9LFxuXHRcdGxvY2FsaXplUHVibGljYXRpb25GaWVsZChmaWVsZENvbmZpZ05hbWU6IHN0cmluZywgeyBuYW1lLCBsYWJlbCB9OiB7IG5hbWU6IHN0cmluZywgbGFiZWw/OiBzdHJpbmcgfSkge1xuXHRcdFx0Y29uc3Qgbm9ybWFsaXplZE5hbWUgPSBuYW1lLnJlcGxhY2VBbGwoL1stX10vZywgJyAnKTtcblx0XHRcdGNvbnN0IGZpZWxkID0gbGFiZWwgPyBsYWJlbC50b0xvd2VyQ2FzZSgpIDogbm9ybWFsaXplZE5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHRcdFx0cmV0dXJuIHB1YmxpY2F0aW9uVChbXG5cdFx0XHRcdENvbnRlbnRJZF9Ob05hbWVzcGFjZS5wdWJGaWVsZChmaWVsZENvbmZpZ05hbWUsIGZpZWxkKSxcblx0XHRcdFx0Q29udGVudElkX05vTmFtZXNwYWNlLnB1YkZpZWxkKCdERUZBVUxUJywgZmllbGQpLFxuXHRcdFx0XSwgbGFiZWwgfHwgbm9ybWFsaXplZE5hbWUpO1xuXHRcdH0sXG5cdFx0bG9jYWxpemVGYWNldChmYWNldFR5cGU6IEZhY2V0VHlwZSwgdmFsdWU6IHN0cmluZyA9IHVuZGVmaW5lZCwgbGFiZWw/OiBzdHJpbmcpIHtcblx0XHRcdGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuXHRcdFx0XHRzd2l0Y2ggKGZhY2V0VHlwZSkge1xuXHRcdFx0XHRcdGNhc2UgJ2dlbmVyYWwudGl0bGUuaWQnOiB7XG5cdFx0XHRcdFx0XHRjb25zdCBmaWVsZENvbmZpZ05hbWUgPSBwdWJsaWNhdGlvbnNbdmFsdWVdPy5maWVsZENvbmZpZ05hbWU7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbG9jYWxpemVycy5sb2NhbGl6ZVB1YmxpY2F0aW9uUHJvcChmaWVsZENvbmZpZ05hbWUsIFsnc2hvcnRUaXRsZScsICd0aXRsZSddLCBsYWJlbCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNhc2UgJ2dlbmVyYWwudGl0bGUuY29udGVudC5jb2xsZWN0aW9uJzoge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGxvY2FsaXplcnMubG9jYWxpemVDb2xsZWN0aW9uUHJvcCh2YWx1ZSwgWydzaG9ydFRpdGxlJywgJ3RpdGxlJ10sIGxhYmVsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGxhYmVsID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bGFiZWwgPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gZ2V0RmFjZXRWYWx1ZUxhYmVsKGZhY2V0VHlwZSwgdmFsdWUpIDogZ2V0RmFjZXRMYWJlbChmYWNldFR5cGUpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhY2V0VChDb250ZW50SWRfTm9OYW1lc3BhY2UuZmFjZXQoZmFjZXRUeXBlLCB2YWx1ZSksIGxhYmVsKTtcblx0XHR9LFxuXHRcdGxvY2FsaXplUHVibGljYXRpb25Qcm9wKGZpZWxkQ29uZmlnTmFtZTogc3RyaW5nLCBwcm9wczoga2V5b2YgTG9jYWxpemFibGVQdWJsaWNhdGlvbiB8IChrZXlvZiBMb2NhbGl6YWJsZVB1YmxpY2F0aW9uKVtdLCBkZWZhdWx0VmFsdWU6IHN0cmluZykge1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KHByb3BzKSkgcHJvcHMgPSBbcHJvcHNdO1xuXHRcdFx0cmV0dXJuIHB1YmxpY2F0aW9uVChwcm9wcy5tYXAocHJvcCA9PiBDb250ZW50SWRfTm9OYW1lc3BhY2UucHViKGZpZWxkQ29uZmlnTmFtZSwgcHJvcCkpLCBkZWZhdWx0VmFsdWUpO1xuXHRcdH0sXG5cdFx0bG9jYWxpemVQdWJsaWNhdGlvbk1kKGZpZWxkQ29uZmlnTmFtZTogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZT86IHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHB1YmxpY2F0aW9uVChbXG5cdFx0XHRcdENvbnRlbnRJZF9Ob05hbWVzcGFjZS5wdWJNZChmaWVsZENvbmZpZ05hbWUsIG5hbWUpLFxuXHRcdFx0XHRDb250ZW50SWRfTm9OYW1lc3BhY2UucHViTWQoJ0RFRkFVTFQnLCBuYW1lKSxcblx0XHRcdF0sIGRlZmF1bHRWYWx1ZSk7XG5cdFx0fSxcblx0fTtcblxuXHRyZXR1cm4gbG9jYWxpemVycztcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgQnV0dG9uSFRNTEF0dHJpYnV0ZXMsIERldGFpbGVkSFRNTFByb3BzLCBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQW5jZXN0cnlBdXRoZW50aWNhdGlvblJlc3VsdHMsIERvbWFpbiB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IE9iaiB9IGZyb20gJy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBBbmNlc3RyeUJ1dHRvbiB9IGZyb20gJy4vRjNCdXR0b24nO1xuaW1wb3J0IHsgZ2V0Q29uZmlnIH0gZnJvbSAnLi4vbGliL3NoYXJlZENvbmZpZyc7XG5pbXBvcnQgeyBFdmVudCB9IGZyb20gJy4uL2VudW1zL2d0bUV2ZW50LmVudW0nO1xuaW1wb3J0IHsgZ2V0QW5jZXN0cnlIb3N0bmFtZSwgZ2V0U3NvUXVlcnlQYXJhbXMgfSBmcm9tICcuLi9saWIvYW5jZXN0cnlIZWxwZXJzJztcbmltcG9ydCB7IHVzZURvbWFpbiB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VEb21haW4nO1xuaW1wb3J0IHsgQW5jZXN0cnlTU09BcGkgfSBmcm9tICcuLi9hcGlzL2FuY2VzdHJ5U1NPQXBpJztcblxuZXhwb3J0IGludGVyZmFjZSBTU09TdGF0ZSB7XG5cdHNldENvb2tpZXM/OiBib29sZWFuXG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcblx0aW50ZXJmYWNlIFdpbmRvdyB7XG5cdFx0RjM6IGFueVxuXHR9XG59XG5cbmludGVyZmFjZSBBbmNlc3RyeVNTT1Byb3BzIGV4dGVuZHMgRGV0YWlsZWRIVE1MUHJvcHM8QnV0dG9uSFRNTEF0dHJpYnV0ZXM8SFRNTEJ1dHRvbkVsZW1lbnQ+LCBIVE1MQnV0dG9uRWxlbWVudD4ge1xuXHRvbkNhbmNlbD8oKTogdm9pZFxuXHRvbkF1dGhlbnRpY2F0ZWQocmVzdWx0czogQW5jZXN0cnlBdXRoZW50aWNhdGlvblJlc3VsdHMpOiB2b2lkXG5cdGhhbmRsZUVycm9yPyhlcnJvcjogYW55KTogdm9pZFxuXHRzdGF0ZT86IFNTT1N0YXRlXG59XG5cbmV4cG9ydCBjb25zdCBBTkNfU1NPX0tFWSA9ICdBbmNlc3RyeVNTTyc7XG5cbmNvbnN0IGVudHJ5U3RyID0gKGVudHJpZXM6IE9iajxzdHJpbmcsIGFueT4sIGRlbGltaXRlcjogc3RyaW5nKSA9PiB7XG5cdHJldHVybiBPYmplY3QuZW50cmllcyhlbnRyaWVzKVxuXHRcdC5tYXAoKFtrZXksIHZhbF0pID0+IHZhbCA9PT0gdHJ1ZSA/IGtleSA6IGAke2tleX09JHt2YWx9YClcblx0XHQuam9pbihkZWxpbWl0ZXIpO1xufTtcblxuY29uc3QgV0lORE9XX09QVFMgPSB7XG5cdC8vIERvbid0IGFkZCBsZWZ0LCB0b3AgaGVyZS4gVGhleSB3aWxsIGJlIGFkZGVkIGR5bmFtaWNhbGx5IGxhdGVyIG9uXG5cdHdpZHRoOiA1MDAsXG5cdGhlaWdodDogNTUwLFxuXHRjZW50ZXJzY3JlZW46IHRydWUsXG5cdGNocm9tZTogdHJ1ZSxcblx0ZGlhbG9nOiB0cnVlLFxuXHRhbHdheXNSYWlzZWQ6IHRydWUsXG59O1xuXG5jb25zdCBXSU5ET1dfU1RSID0gZW50cnlTdHIoV0lORE9XX09QVFMsICcsJyk7XG5cbmV4cG9ydCBjb25zdCBBbmNlc3RyeVNTTyA9IGZvcndhcmRSZWY8SFRNTEJ1dHRvbkVsZW1lbnQsIEFuY2VzdHJ5U1NPUHJvcHM+KCh7IG9uQ2xpY2ssIG9uQ2FuY2VsLCBvbkF1dGhlbnRpY2F0ZWQsIGhhbmRsZUVycm9yLCBzdGF0ZSA9IHt9LCBjaGlsZHJlbiwgLi4ucmVzdCB9LCByZWYpID0+IHtcblx0Y29uc3QgeyBmM0RvbWFpbiB9ID0gdXNlRG9tYWluKCk7XG5cdGxldCBzc29Vcmw6IHN0cmluZztcblx0Y29uc3QgY29uZmlnID0gZ2V0Q29uZmlnKCk7XG5cblx0cmV0dXJuIDxBbmNlc3RyeUJ1dHRvblxuXHRcdGNsYXNzTmFtZT0nbS0wJ1xuXHRcdGd0bUV2ZW50PXt7IGV2ZW50OiBFdmVudC5MT0dJTiwgbWV0aG9kOiAnYW5jZXN0cnknIH19XG5cdFx0b25DbGljaz17YXN5bmMgZSA9PiB7XG5cdFx0XHQvKlxuXHRcdFx0ICogY29uc3QgcHJvbXB0RG9tYWluczogU2V0PERvbWFpbj4gPSBuZXcgU2V0KFtmM0RvbWFpbiwgJ0ZPTEQzX1VTJ10pO1xuXHRcdFx0ICogY29uc3QgcHJvbXB0UmVzcCA9IGF3YWl0IG5ldyBBbmNlc3RyeVNTT0FwaSgpLnByb21wdEFsbChBcnJheS5mcm9tKHByb21wdERvbWFpbnMpKTtcblx0XHRcdCAqL1xuXG5cdFx0XHRsZXQgc3NvRG9tYWluOiBEb21haW4gPSBmM0RvbWFpbjtcblxuXHRcdFx0Lypcblx0XHRcdCAqIGlmIChwcm9tcHRSZXNwKSB7XG5cdFx0XHQgKiBcdGNvbnN0IHsgZG9tYWluLCByZXNwIH0gPSBwcm9tcHRSZXNwO1xuXHRcdFx0ICogXHRpZiAocmVzcC5zdGF0dXMgPT09ICdub25lJykge1xuXHRcdFx0ICogXHRcdHNzb0RvbWFpbiA9IGRvbWFpbjtcblx0XHRcdCAqIFx0fVxuXHRcdFx0ICogfVxuXHRcdFx0ICovXG5cblx0XHRcdGxldCBwYXJhbXMgPSBnZXRTc29RdWVyeVBhcmFtcyhjb25maWcsIHN0YXRlKTtcblx0XHRcdGxldCBwYXJhbVN0ciA9ICc/JyArIGVudHJ5U3RyKHBhcmFtcywgJyYnKTtcblxuXHRcdFx0c3NvVXJsID0gYCR7Z2V0QW5jZXN0cnlIb3N0bmFtZShzc29Eb21haW4pfSR7Y29uZmlnLmFuY2VzdHJ5LnBhdGhzLnNzb30ke3BhcmFtU3RyfWA7XG5cblx0XHRcdHZhciBkdWFsU2NyZWVuTGVmdCA9IHdpbmRvdy5zY3JlZW5MZWZ0ICE9IHVuZGVmaW5lZCA/IHdpbmRvdy5zY3JlZW5MZWZ0IDogKHNjcmVlbiBhcyBhbnkpLmxlZnQ7XG5cdFx0XHR2YXIgZHVhbFNjcmVlblRvcCA9IHdpbmRvdy5zY3JlZW5Ub3AgIT0gdW5kZWZpbmVkID8gd2luZG93LnNjcmVlblRvcCA6IChzY3JlZW4gYXMgYW55KS50b3A7XG5cblx0XHRcdHZhciB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoID8gd2luZG93LmlubmVyV2lkdGggOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggOiBzY3JlZW4ud2lkdGg7XG5cdFx0XHR2YXIgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ID8gd2luZG93LmlubmVySGVpZ2h0IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgOiBzY3JlZW4uaGVpZ2h0O1xuXG5cdFx0XHR2YXIgbGVmdCA9IHdpZHRoIC8gMiAtIFdJTkRPV19PUFRTLndpZHRoIC8gMiArIGR1YWxTY3JlZW5MZWZ0O1xuXHRcdFx0dmFyIHRvcCA9IGhlaWdodCAvIDIgLSBXSU5ET1dfT1BUUy5oZWlnaHQgLyAyICsgZHVhbFNjcmVlblRvcDtcblxuXHRcdFx0bGV0IGZ1bGxXaW5kb3dTdHIgPSBgJHtXSU5ET1dfU1RSfSxsZWZ0PSR7bGVmdH0sdG9wPSR7dG9wfWA7XG5cblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZXZlbnQgPT4ge1xuXHRcdFx0XHRsZXQgeyBhdXRoUmVzdWx0cywgQU5DX1NTT19LRVk6IGtleSwgZXJyb3IgfSA9IGV2ZW50LmRhdGE7XG5cblx0XHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpO1xuXHRcdFx0XHRcdGlmICh0eXBlb2YgaGFuZGxlRXJyb3IgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGhhbmRsZUVycm9yKGVycm9yKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGtleSAhPT0gQU5DX1NTT19LRVkpIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oJ05vdCBsaXN0ZW5pbmcgdG8gbWVzc2FnZScpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG9uQXV0aGVudGljYXRlZChhdXRoUmVzdWx0cyBhcyBBbmNlc3RyeUF1dGhlbnRpY2F0aW9uUmVzdWx0cyk7XG5cdFx0XHRcdHcuY2xvc2UoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRsZXQgdyA9IHdpbmRvdy5vcGVuKHNzb1VybCwgbnVsbCwgZnVsbFdpbmRvd1N0cik7XG5cdFx0XHRpZiAodHlwZW9mIG9uQ2FuY2VsID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHcuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCAoKSA9PiB7XG5cdFx0XHRcdFx0b25DYW5jZWwoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0eXBlb2Ygb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRvbkNsaWNrKGUpO1xuXHRcdFx0fVxuXHRcdH19XG5cdFx0ey4uLnJlc3R9XG5cdFx0cmVmPXtyZWZ9XG5cdD5cblx0XHR7Y2hpbGRyZW59XG5cdDwvQW5jZXN0cnlCdXR0b24+O1xufSk7XG4iLCJpbXBvcnQgeyBVc2VyRnVsbCB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IEhFQURFUlMgfSBmcm9tICcuLi9lbnVtcy9oZWFkZXJzLmVudW0nO1xuaW1wb3J0IHsgVmFsaWRhdGVBbmNlc3RyeVBhc3N3b3JkUmVzcG9uc2UgfSBmcm9tICcuLi9saWIvaG9va3MvdXNlU3RyaW5nVmFsaWRhdGlvbic7XG5pbXBvcnQgeyBCYWNrZW5kU2VydmljZSwgRjNBcGkgfSBmcm9tICcuL0YzQXBpJztcblxuZXhwb3J0IGNsYXNzIE5vZGVBcGkgZXh0ZW5kcyBGM0FwaSB7XG5cdHByb3RlY3RlZCBzZXJ2aWNlOiBCYWNrZW5kU2VydmljZSA9IG51bGw7XG5cdHByb3RlY3RlZCBiYXNlVXJsOiBzdHJpbmcgPSAnL25vZGUnO1xuXG5cdHJlZnJlc2hVc2VyKCk6IFByb21pc2U8VXNlckZ1bGw+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJy9yZWZyZXNoVXNlcicpO1xuXHR9XG5cblx0Z2V0UmVjZW50TG9naW4oKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvcmVjZW50LWxvZ2luJyk7XG5cdH1cblxuXHRnZXRVc2VyQmFja2Rvb3JUb2tlbih1c2VySWQ6IG51bWJlcik6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvdXNlci1iYWNrZG9vci10b2tlbicsIHsgcGFyYW1zOiB7IHVzZXJJZCB9IH0pO1xuXHR9XG5cblx0Z2VuZXJhdGVCZXRhRW5yb2xsVG9rZW5VcmwoZW5yb2xsOiB7IHVzZXJUYWc6IHN0cmluZywgcmVkaXJlY3RVcmw6IHN0cmluZyB9KTogUHJvbWlzZTx7IHRva2VuOiBzdHJpbmcgfT4ge1xuXHRcdHJldHVybiB0aGlzLnBvc3QoJy9nZXRCZXRhVG9rZW4nLCBlbnJvbGwpO1xuXHR9XG5cblx0cmVnaXN0ZXJXaXRoQW5jZXN0cnkodWNkbWlkOiBzdHJpbmcsIGNhcHRjaGFUb2tlbjogc3RyaW5nKTogUHJvbWlzZTxVc2VyRnVsbD4ge1xuXHRcdHJldHVybiB0aGlzLnBvc3QoJy9hdXRoL2FuYy1yZWdpc3RlcicsIHsgdXNlcklkOiB1Y2RtaWQgfSwge1xuXHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRbSEVBREVSUy5DQVBUQ0hBX1RPS0VOXTogY2FwdGNoYVRva2VuLFxuXHRcdFx0fSxcblx0XHR9KTtcblx0fVxuXG5cdGF1dGhlbnRpY2F0ZVVzZXIodXNlcm5hbWU6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8VXNlckZ1bGw+IHtcblx0XHRyZXR1cm4gdGhpcy5wb3N0KCcvYXV0aC91c2VyJywgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSk7XG5cdH1cblxuXHRsaW5rQW5jZXN0cnlBY2NvdW50KHVzZXJuYW1lOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nIHwgbnVtYmVyLCBhbmNlc3RyeVVzZXJuYW1lOiBzdHJpbmcsIHNldEF1dGhNb2RlOiBib29sZWFuID0gZmFsc2UpOiBQcm9taXNlPFVzZXJGdWxsPiB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdCgnL2F1dGgvYW5jLWxpbmsnLCB7XG5cdFx0XHR1c2VybmFtZSxcblx0XHRcdHBhc3N3b3JkLFxuXHRcdFx0dXNlcklkLFxuXHRcdFx0YW5jZXN0cnlVc2VybmFtZSxcblx0XHR9LCB7XG5cdFx0XHRwYXJhbXM6IHtcblx0XHRcdFx0c2V0QXV0aE1vZGUsXG5cdFx0XHR9LFxuXHRcdH0pO1xuXHR9XG5cblx0cmVnaXN0ZXJXaXRoRW1haWxQYXNzd29yZCh7IGVtYWlsLCBwYXNzd29yZCwgaG93RGlkWW91SGVhckFib3V0VXMgfTogeyBlbWFpbDogc3RyaW5nOyBwYXNzd29yZDogc3RyaW5nOyBob3dEaWRZb3VIZWFyQWJvdXRVczogc3RyaW5nOyBiYXNlVVJMPzogc3RyaW5nOyB9LCBjYXB0Y2hhVG9rZW46IHN0cmluZyk6IFByb21pc2U8VXNlckZ1bGw+IHtcblx0XHRyZXR1cm4gdGhpcy5wb3N0KCcvYXV0aC9yZWdpc3RlcicsIHsgZW1haWwsIHBhc3N3b3JkLCBob3dEaWRZb3VIZWFyQWJvdXRVcyB9LCB7XG5cdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFtIRUFERVJTLkNBUFRDSEFfVE9LRU5dOiBjYXB0Y2hhVG9rZW4sXG5cdFx0XHR9LFxuXHRcdH0pO1xuXHR9XG5cblx0dmFsaWRhdGVQYXNzd29yZChwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxWYWxpZGF0ZUFuY2VzdHJ5UGFzc3dvcmRSZXNwb25zZT4ge1xuXHRcdHJldHVybiB0aGlzLnBvc3QoJy9hdXRoL3ZhbGlkYXRlLXBhc3N3b3JkJywgeyBwYXNzd29yZCB9KTtcblx0fVxuXG5cdHNldFNvdXJjZUlkKHR5cGU6ICd4aWQnIHwgJ2lpZCcsIGlkOiBzdHJpbmcgfCBudW1iZXIpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJy9zb3VyY2VJZCcsIHtcblx0XHRcdHBhcmFtczogeyBbdHlwZV06IGlkIH0sXG5cdFx0fSk7XG5cdH1cbn1cbiIsImltcG9ydCB7IEFjY2Vzc1Rva2VuRXJyb3IsIEFjY2Vzc1Rva2VuVHlwZSwgQW5jZXN0cnlBdXRoZW50aWNhdGlvblJlc3VsdHMsIENyZWF0ZUFjY291bnRSZXNwb25zZSwgRG9tYWluLCBEb21haW5DaGFuZ2VDaGVja1Jlc3VsdHMsIEVtYWlsQ2hhbmdlLCBNZXRhZGF0YSwgUmVnaXN0cmF0aW9uLCBVc2VyLCBVc2VyQXV0aGVudGljYXRlLCBVc2VyRnVsbCwgVXNlclByZWZlcmVuY2UsIFVzZXJQcm9maWxlLCBVc2VyUHJvZmlsZVVwZGF0ZSwgVXNlclRhZ1dpdGhDb3VudCwgX1JvbGUsIF9Vc2VyVGFnIH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgT2JqIH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IExBTkdVQUdFX0lTT19DT0RFIH0gZnJvbSAnLi4vZW51bXMvbGFuZ3VhZ2VJU08uZW51bSc7XG5pbXBvcnQgeyBmaWx0ZXJPYmplY3QgfSBmcm9tICcuLi9saWIvbWFwVXRpbCc7XG5pbXBvcnQgeyBCYWNrZW5kU2VydmljZSwgRjNBcGkgfSBmcm9tICcuL0YzQXBpJztcblxuLyoqIFtTZWUgRG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9qZm9sZDMuaWFyY2hpdmVzLmNvbS9qb2IvZjMtYmFja2VuZC9qYXZhZG9jL2NvbS9hbmNlc3RyeS9lYi9mb2xkMzEvc2VydmljZS9Vc2VyU2VydmljZS5odG1sKSAqL1xuZXhwb3J0IGNsYXNzIFVzZXJBcGkgZXh0ZW5kcyBGM0FwaSB7XG5cdHNlcnZpY2UgPSBCYWNrZW5kU2VydmljZS5GT0xEMzE7XG5cdGJhc2VVcmwgPSAnL2FwaS91c2VyJztcblxuXHR1cGRhdGVQcm9maWxlKHByb2ZpbGU6IFVzZXJQcm9maWxlVXBkYXRlKSB7XG5cdFx0cmV0dXJuIHRoaXMucHV0KCcvcHJvZmlsZScsIHByb2ZpbGUpO1xuXHR9XG5cblx0c2V0VXNlcm5hbWUodXNlcm5hbWU6IHN0cmluZykge1xuXHRcdHJldHVybiB0aGlzLnB1dCgnL3VzZXJuYW1lJywgbnVsbCwge1xuXHRcdFx0cGFyYW1zOiB7IHVzZXJuYW1lIH0sXG5cdFx0fSk7XG5cdH1cblxuXHRjb3VudFVzZXJzKCk6IFByb21pc2U8bnVtYmVyPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvY291bnQnLCB7XG5cdFx0XHRwcmltaXRpdmU6IHRydWUsXG5cdFx0fSk7XG5cdH1cblxuXHRnZXRVc2VyRnJvbVRva2VuKHRva2VuOiBzdHJpbmcpOiBQcm9taXNlPFVzZXI+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJy91c2VybmFtZS90b2tlbicsIHsgcGFyYW1zOiB7IHRva2VuIH0sIGRlc2VyaWFsaXplVHlwZTogJ1VzZXInIH0pO1xuXHR9XG5cblx0c2V0VXNlclByZWZlcmVuY2VzKHByZWZlcmVuY2VzOiBNZXRhZGF0YVtdLCB0b2tlbj86IHN0cmluZykge1xuXHRcdGNvbnN0IHBhcmFtcyA9IHsgdG9rZW4gfTtcblx0XHRyZXR1cm4gdGhpcy5wdXQoJy91c2VyLXByZWZlcmVuY2VzJywgcHJlZmVyZW5jZXMsIHsgcGFyYW1zLCBzZXJpYWxpemVUeXBlOiAnTWV0YWRhdGEnIH0pO1xuXHR9XG5cblx0Z2V0VXNlclByZWZlcmVuY2VzKHR5cGU/OiBzdHJpbmcsIHRva2VuPzogc3RyaW5nKTogUHJvbWlzZTxVc2VyUHJlZmVyZW5jZVtdPiB7XG5cdFx0Y29uc3QgcGFyYW1zID0geyB0b2tlbiwgdHlwZSB9O1xuXHRcdHJldHVybiB0aGlzLmdldCgnL3VzZXItcHJlZmVyZW5jZXMnLCB7IHBhcmFtcywgZGVzZXJpYWxpemVUeXBlOiAnVXNlclByZWZlcmVuY2UnIH0pO1xuXHR9XG5cblx0c2V0RW1haWwobmV3RW1haWw6IHN0cmluZyk6IFByb21pc2U8VXNlckZ1bGw+IHtcblx0XHRyZXR1cm4gdGhpcy5wb3N0KCcvZW1haWwnLCB7IG5ld0VtYWlsIH0sIHsgZGVzZXJpYWxpemVUeXBlOiAnVXNlckZ1bGwnIH0pO1xuXHR9XG5cblx0Y2hhbmdlUGFzc3dvcmQobmV3UGFzc3dvcmQ6IHN0cmluZykge1xuXHRcdHJldHVybiB0aGlzLnBvc3QoJy9wYXNzd29yZCcsIHsgbmV3UGFzc3dvcmQgfSk7XG5cdH1cblxuXHRzZW5kVmVyaWZ5RW1haWwoKSB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdCgnL3ZlcmlmeS1lbWFpbCcpO1xuXHR9XG5cblx0dmVyaWZ5RW1haWwodG9rZW46IHN0cmluZyk6IFByb21pc2U8VXNlckZ1bGw+IHtcblx0XHRyZXR1cm4gdGhpcy5wb3N0KGAvdmVyaWZ5LWVtYWlsLyR7dG9rZW59YCk7XG5cdH1cblxuXHRjb25maXJtRW1haWxDaGFuZ2UodG9rZW46IHN0cmluZyk6IFByb21pc2U8VXNlckZ1bGw+IHtcblx0XHRyZXR1cm4gdGhpcy5wb3N0KGAvY29uZmlybS1lbWFpbC1jaGFuZ2UvJHt0b2tlbn1gKTtcblx0fVxuXG5cdHJlcXVlc3RFbWFpbENoYW5nZShjaGFuZ2U6IEVtYWlsQ2hhbmdlKTogUHJvbWlzZTx7dmFsdWU6IGJvb2xlYW59PiB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdChgL3JlcXVlc3QtZW1haWwtY2hhbmdlYCwgY2hhbmdlKTtcblx0fVxuXG5cdHNlbmRGb3Jnb3RQYXNzd29yZEVtYWlsKGVtYWlsOiBzdHJpbmcpIHtcblx0XHRyZXR1cm4gdGhpcy5wb3N0KGAvZm9yZ290LXBhc3N3b3JkYCwgeyBlbWFpbCB9LCB7IHNlcmlhbGl6ZVR5cGU6ICdVc2VyQXZhaWxhYmxlJyB9KTtcblx0fVxuXG5cdHJlc2V0UGFzc3dvcmQodG9rZW46IHN0cmluZywgbmV3UGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8VXNlckZ1bGw+IHtcblx0XHRyZXR1cm4gdGhpcy5wb3N0KCcvcmVzZXQtcGFzc3dvcmQnLCB7XG5cdFx0XHR0b2tlbixcblx0XHRcdG5ld1Bhc3N3b3JkLFxuXHRcdFx0c2VuZEVtYWlsOiB0cnVlLFxuXHRcdH0sIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ1VzZXJGdWxsJyxcblx0XHR9KTtcblx0fVxuXG5cdGFkZFVzZXJUYWcodGFnOiBfVXNlclRhZyk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHJldHVybiB0aGlzLnB1dChgL3RhZy8ke3RhZ31gLCBudWxsKTtcblx0fVxuXG5cdGxpc3RVc2VyVGFncygpOiBQcm9taXNlPF9Vc2VyVGFnW10+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJy90YWcnKTtcblx0fVxuXG5cdGNoYW5nZVJlZ2lzdHJhdGlvbkRvbWFpbihuZXdEb21haW46IERvbWFpbik6IFByb21pc2U8RG9tYWluQ2hhbmdlQ2hlY2tSZXN1bHRzPiB7XG5cdFx0cmV0dXJuIHRoaXMucHV0KGAvcmVnLWRvbWFpbi8ke25ld0RvbWFpbn1gKTtcblx0fVxuXG5cdGNoZWNrQ2hhbmdlUmVnaXN0cmF0aW9uRG9tYWluKCk6IFByb21pc2U8RG9tYWluQ2hhbmdlQ2hlY2tSZXN1bHRzPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvcmVnLWRvbWFpbicpO1xuXHR9XG5cblx0bGlzdEFsbFRhZ05hbWVzV2l0aENvdW50cyhwcmVmaXg6IHN0cmluZyA9IG51bGwpOiBQcm9taXNlPFVzZXJUYWdXaXRoQ291bnRbXT4ge1xuXHRcdHJldHVybiB0aGlzLmdldCgnL3RhZy1jb3VudHMnLCB7XG5cdFx0XHRwYXJhbXM6IHsgcHJlZml4IH0sXG5cdFx0fSk7XG5cdH1cblxuXHRyZW1vdmVVc2VyVGFnKHRhZzogX1VzZXJUYWcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRyZXR1cm4gdGhpcy5kZWxldGUoYC90YWcvJHt0YWd9YCk7XG5cdH1cblxuXHRsaXN0QWxsVGFnTmFtZXMocHJlZml4OiBzdHJpbmcgPSBudWxsKTogUHJvbWlzZTxfVXNlclRhZ1tdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvdGFnLWFkbWluJywge1xuXHRcdFx0cGFyYW1zOiB7IHByZWZpeCB9LFxuXHRcdH0pO1xuXHR9XG5cblx0ZGVsZXRlVGFnRm9yQWxsVXNlcnModGFnOiBzdHJpbmcpIHtcblx0XHRyZXR1cm4gdGhpcy5kZWxldGUoYC90YWctYWRtaW4vJHt0YWd9YCk7XG5cdH1cblxuXHRhdXRoZW50aWNhdGVPcGVuSWQoY29kZTogc3RyaW5nKTogUHJvbWlzZTxBbmNlc3RyeUF1dGhlbnRpY2F0aW9uUmVzdWx0cz4ge1xuXHRcdHJldHVybiB0aGlzLnBvc3QoYC9hdXRoZW50aWNhdGUtb3BlbmlkLyR7Y29kZX1gLCBudWxsLCB7XG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdBbmNlc3RyeUF1dGhlbnRpY2F0aW9uUmVzdWx0cycsXG5cdFx0fSk7XG5cdH1cblxuXHR1cGRhdGVMYXN0TG9naW4oKSB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdCgnL3VwZGF0ZS1sb2dnZWQtaW4nKTtcblx0fVxuXG5cdHNldEdjbGlkKGdjbGlkOiBzdHJpbmcpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXQoJy9nY2xpZCcsIHsgZ2NsaWQgfSk7XG5cdH1cblxuXHRnZXRTZWxmKGFjY291bnRTdGF0dXM6IGJvb2xlYW4gPSBmYWxzZSk6IFByb21pc2U8VXNlckZ1bGw+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJy9zZWxmJywge1xuXHRcdFx0cGFyYW1zOiB7ICdhY2NvdW50LXN0YXR1cyc6IGFjY291bnRTdGF0dXMgfSxcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ1VzZXJGdWxsJyxcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIGNoZWNrQWNjZXNzVG9rZW4odHlwZTogQWNjZXNzVG9rZW5UeXBlLCB0b2tlbjogc3RyaW5nKTogUHJvbWlzZTx7IHZhbGlkOiBib29sZWFuLCBlcnJvcjogQWNjZXNzVG9rZW5FcnJvciB9PiB7XG5cdFx0bGV0IHJlc3A6IHsgdmFsdWU6IEFjY2Vzc1Rva2VuRXJyb3IgfSA9IGF3YWl0IHRoaXMuZ2V0KGAvY2hlY2stdG9rZW4vJHt0eXBlfS8ke3Rva2VufWApO1xuXG5cdFx0aWYgKCFyZXNwKSB7XG5cdFx0XHRyZXR1cm4geyB2YWxpZDogdHJ1ZSwgZXJyb3I6IG51bGwgfTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBlcnJvcjogcmVzcC52YWx1ZSB9O1xuXHRcdH1cblx0fVxuXG5cdHJlZ2lzdGVyVXNlckV4KHsgZW1haWwsIHBhc3N3b3JkLCB4aWQsIGlpZCwgaG93RGlkWW91SGVhckFib3V0VXMsIGRvbWFpbiB9OiBSZWdpc3RyYXRpb24pOiBQcm9taXNlPENyZWF0ZUFjY291bnRSZXNwb25zZT4ge1xuXHRcdGxldCByZWdpc3RyYXRpb246IFBhcnRpYWw8UmVnaXN0cmF0aW9uPiA9IHsgZW1haWwsIHBhc3N3b3JkLCBob3dEaWRZb3VIZWFyQWJvdXRVcywgY29uZmlybWVkOiBmYWxzZSB9O1xuXHRcdGlmICh4aWQpIHJlZ2lzdHJhdGlvbi54aWQgPSB4aWQ7XG5cdFx0aWYgKGlpZCkgcmVnaXN0cmF0aW9uLmlpZCA9IGlpZDtcblxuXHRcdHJldHVybiB0aGlzLnBvc3QoJy9yZWdpc3Rlci1leCcsIHJlZ2lzdHJhdGlvbiwge1xuXHRcdFx0cGFyYW1zOiB7ICdlbWFpbCc6IHRydWUgfSxcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0NyZWF0ZUFjY291bnRSZXNwb25zZScsXG5cdFx0fSk7XG5cdH1cblxuXHRnZXRVc2VyKHVzZXJJZDogbnVtYmVyKTogUHJvbWlzZTxVc2VyPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvJHt1c2VySWR9YCwge1xuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnVXNlckZ1bGwnLFxuXHRcdH0pO1xuXHR9XG5cblx0Z2V0VXNlckZ1bGwodXNlcklkOiBudW1iZXIsIGFjY291bnRTdGF0dXMgPSBmYWxzZSk6IFByb21pc2U8VXNlckZ1bGw+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9mdWxsLyR7dXNlcklkfWAsIHtcblx0XHRcdHBhcmFtczogeyAnYWNjb3VudC1zdGF0dXMnOiBhY2NvdW50U3RhdHVzIH0sXG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdVc2VyRnVsbCcsXG5cdFx0fSk7XG5cdH1cblxuXHRmaW5kVXNlckZvclBlYXNhbnRzKHBhcmFtczogeyBpZD86IG51bWJlciwgdXNlcm5hbWU/OiBzdHJpbmcsIGFueT86IHN0cmluZyB8IG51bWJlciB9KTogUHJvbWlzZTxVc2VyPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvZmluZC1mb3ItcGVhc2FudHMnLCB7XG5cdFx0XHRwYXJhbXMsXG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdVc2VyRnVsbCcsXG5cdFx0fSk7XG5cdH1cblxuXHRnZXRQcm9maWxlKHBhcmFtczogeyBpZD86IG51bWJlciwgdXNlcm5hbWU/OiBzdHJpbmcgfSk6IFByb21pc2U8VXNlclByb2ZpbGU+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJy9wcm9maWxlJywge1xuXHRcdFx0cGFyYW1zLFxuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnVXNlclByb2ZpbGUnLFxuXHRcdH0pO1xuXHR9XG5cblx0cmVnaXN0ZXJBbmNlc3RyeVVzZXJFeCh1Y2RtSWQ6IHN0cmluZywgeGlkPzogc3RyaW5nLCBpaWQ/OiBzdHJpbmcpOiBQcm9taXNlPENyZWF0ZUFjY291bnRSZXNwb25zZT4ge1xuXHRcdGxldCByZWdpc3RyYXRpb246IE9iaiA9IHsgZG9tYWluOiBudWxsIH07XG5cdFx0aWYgKHhpZCkgcmVnaXN0cmF0aW9uLnhpZCA9IHhpZDtcblx0XHRpZiAoaWlkKSByZWdpc3RyYXRpb24uaWlkID0gaWlkO1xuXG5cdFx0cmV0dXJuIHRoaXMucG9zdChgL3JlZ2lzdGVyLWFuYy1leC8ke3VjZG1JZH1gLCByZWdpc3RyYXRpb24sIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0NyZWF0ZUFjY291bnRSZXNwb25zZScsXG5cdFx0fSk7XG5cdH1cblxuXHRpc1VzZXJuYW1lQXZhaWxhYmxlKHVzZXJuYW1lOiBzdHJpbmcpIHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJy91c2VybmFtZS1hdmFpbGFibGUnLCB7XG5cdFx0XHRwYXJhbXM6IHsgdXNlcm5hbWUgfSxcblx0XHRcdHByaW1pdGl2ZTogdHJ1ZSxcblx0XHR9KTtcblx0fVxuXG5cdGZpbmRVc2VyKF9wYXJhbXM6IHsgdXNlcklkPzogbnVtYmVyLCB1c2VybmFtZT86IHN0cmluZywgZW1haWw/OiBzdHJpbmcsIHVjZG1pZD86IHN0cmluZywgYW55PzogbnVtYmVyIHwgc3RyaW5nLCBhY2NvdW50U3RhdHVzPzogYm9vbGVhbiB9KTogUHJvbWlzZTxVc2VyRnVsbD4ge1xuXHRcdGNvbnN0IHsgdXNlcklkLCBhY2NvdW50U3RhdHVzLCAuLi5yZXN0IH0gPSBfcGFyYW1zO1xuXHRcdGNvbnN0IHBhcmFtcyA9IGZpbHRlck9iamVjdCh7XG5cdFx0XHQuLi5yZXN0LFxuXHRcdFx0aWQ6IHVzZXJJZCxcblx0XHRcdCdhY2NvdW50LXN0YXR1cyc6IGFjY291bnRTdGF0dXMsXG5cdFx0fSwgKGtleSwgdmFsKSA9PiAhIXZhbCk7XG5cblx0XHRyZXR1cm4gdGhpcy5nZXQoJy9maW5kJywge1xuXHRcdFx0cGFyYW1zLFxuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnVXNlckZ1bGwnLFxuXHRcdH0pO1xuXHR9XG5cblx0bGlzdFJvbGVzKCk6IFByb21pc2U8X1JvbGVbXT4ge1xuXHRcdHJldHVybiB0aGlzLmdldCgnL2xpc3Qtcm9sZXMnKTtcblx0fVxuXG5cdHVwZGF0ZVJvbGVzKHVzZXJJZDogbnVtYmVyLCByb2xlczogX1JvbGVbXSk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHJldHVybiB0aGlzLnB1dChgL3VwZGF0ZS1yb2xlcy8ke3VzZXJJZH1gLCByb2xlcyk7XG5cdH1cblxuXHRjcmVhdGVVc2VyTGluayh1c2VySWQ6IG51bWJlcik6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdCgnL2FkbWluL2JhY2tkb29yJywgbnVsbCwge1xuXHRcdFx0cGFyYW1zOiB7IHVzZXJJZCB9LFxuXHRcdFx0YmFzZVVSTDogJycsXG5cdFx0fSk7XG5cdH1cblxuXHRhZGRBZG1pbkRvbWFpbih1c2VySWQ6IG51bWJlciwgZG9tYWluOiBEb21haW4pOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRyZXR1cm4gdGhpcy5wdXQoYC9hZG1pbi1kb21haW4vJHt1c2VySWR9LyR7ZG9tYWlufWApO1xuXHR9XG5cblx0cmVtb3ZlQWRtaW5Eb21haW4odXNlcklkOiBudW1iZXIsIGRvbWFpbjogRG9tYWluKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIHRoaXMuZGVsZXRlKGAvYWRtaW4tZG9tYWluLyR7dXNlcklkfS8ke2RvbWFpbn1gKTtcblx0fVxuXG5cdGxpbmtBbmNlc3RyeVVzZXIoZm9sZDNVc2VySWQ6IG51bWJlciB8IHN0cmluZywgdWNkbUlkOiBzdHJpbmcpOiBQcm9taXNlPG51bGw+IHtcblx0XHRyZXR1cm4gdGhpcy5wdXQoJy9saW5rLWFuYycsIG51bGwsIHtcblx0XHRcdHBhcmFtczogeyBpZDogZm9sZDNVc2VySWQsIHVjZG1pZDogdWNkbUlkIH0sXG5cdFx0fSk7XG5cdH1cblxuXHRhdXRoZW50aWNhdGVVc2VyKHVzZXJBdXRoZW50aWNhdGU6IFVzZXJBdXRoZW50aWNhdGUpOiBQcm9taXNlPFVzZXJGdWxsPiB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdCgnL2F1dGhlbnRpY2F0ZScsIHVzZXJBdXRoZW50aWNhdGUsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ1VzZXJGdWxsJyxcblx0XHR9KTtcblx0fVxuXG5cdGlzVXNlckVtYWlsQXZhaWxhYmxlKGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRyZXR1cm4gdGhpcy5wb3N0KCcvZW1haWwtYXZhaWxhYmxlJywgeyBlbWFpbCB9LCB7XG5cdFx0XHRzZXJpYWxpemVUeXBlOiAnVXNlckF2YWlsYWJsZScsXG5cdFx0XHRwcmltaXRpdmU6IHRydWUsXG5cdFx0fSk7XG5cdH1cblxuXHRkZWxldGVJY29uKCkge1xuXHRcdHJldHVybiB0aGlzLmRlbGV0ZSgnL3VzZXItaWNvbicpO1xuXHR9XG5cblx0dXBkYXRlTGFuZ3VhZ2UobGFuZzogTEFOR1VBR0VfSVNPX0NPREUpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXQoJy9sYW5nJywgeyB2YWx1ZTogbGFuZyB9KTtcblx0fVxufVxuIiwiZXhwb3J0IGVudW0gUHJlZmVyZW5jZSB7XG5cdEVtYWlsID0gJ2FjY291bnQtZW1haWwnLFxuXHRBZG1pbkZpbHRlciA9ICdhZG1pbi1maWx0ZXInXG59XG4iLCJpbXBvcnQgeyBVc2VyQXBpIH0gZnJvbSAnLi4vYXBpcy91c2VyQXBpJztcbmltcG9ydCB7IE1ldGFkYXRhIH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgUHJlZmVyZW5jZSB9IGZyb20gJy4uL2VudW1zL3VzZXJQcmVmZXJlbmNlLmVudW0nO1xuXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlVG9BbGxFbWFpbHMgPSBhc3luYyAoKSA9PiB7XG5cdGNvbnN0IGNvbW11bmljYXRpb25QcmVmZXJlbmNlcyA9IGF3YWl0IG5ldyBVc2VyQXBpKCkuZ2V0VXNlclByZWZlcmVuY2VzKFByZWZlcmVuY2UuRW1haWwpO1xuXHRpZiAoY29tbXVuaWNhdGlvblByZWZlcmVuY2VzLmxlbmd0aCA+IDApIHtcblx0XHRjb25zdCBvcHRlZEluID0gY29tbXVuaWNhdGlvblByZWZlcmVuY2VzLm1hcChwcmVmZXJlbmNlID0+IHtcblx0XHRcdHJldHVybiB7IC4uLnByZWZlcmVuY2UubWV0YWRhdGEsIHZhbHVlOiAndHJ1ZScgfSBhcyBNZXRhZGF0YTtcblx0XHR9KTtcblx0XHRhd2FpdCBuZXcgVXNlckFwaSgpLnNldFVzZXJQcmVmZXJlbmNlcyhvcHRlZEluKTtcblx0fVxufTtcbiIsImltcG9ydCBSZWFjdCwgeyBEZXRhaWxlZEhUTUxQcm9wcywgZm9yd2FyZFJlZiwgSW5wdXRIVE1MQXR0cmlidXRlcyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUZvcm1WYWxpZGF0aW9uIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUZvcm1WYWxpZGF0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBDaGVja2JveFByb3BzIGV4dGVuZHMgT21pdDxEZXRhaWxlZEhUTUxQcm9wczxJbnB1dEhUTUxBdHRyaWJ1dGVzPEhUTUxJbnB1dEVsZW1lbnQ+LCBIVE1MSW5wdXRFbGVtZW50PiwgJ3ZhbHVlJyB8ICd0eXBlJyB8ICdvblZhbHVlQ2hhbmdlJz4ge1xuXHR2YWx1ZTogYm9vbGVhblxuXHRvblZhbHVlQ2hhbmdlKGNoZWNrZWQ6IGJvb2xlYW4pOiB2b2lkXG5cdHZhbGlkYXRlPyh2YWw6IGJvb2xlYW4pOiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IEYzQ2hlY2tib3ggPSBmb3J3YXJkUmVmPEhUTUxJbnB1dEVsZW1lbnQsIENoZWNrYm94UHJvcHM+KCh7IHZhbHVlLCBjaGVja2VkLCBvbkNoYW5nZSwgb25WYWx1ZUNoYW5nZSwgdmFsaWRhdGUsIC4uLm90aGVyUHJvcHMgfSwgcmVmKSA9PiB7XG5cdGNvbnN0IHsgdmFsaWRhdGlvbk1lc3NhZ2UsIC4uLnJlc3QgfSA9IHVzZUZvcm1WYWxpZGF0aW9uKHJlZiwgb3RoZXJQcm9wcywgdmFsaWRhdGUpO1xuXG5cdHJldHVybiA8ZGl2PlxuXHRcdDxpbnB1dFxuXHRcdFx0ey4uLnJlc3R9XG5cdFx0XHRjaGVja2VkPXshIShjaGVja2VkICE9PSB1bmRlZmluZWQgPyBjaGVja2VkIDogdmFsdWUpfVxuXHRcdFx0b25DaGFuZ2U9e2UgPT4ge1xuXHRcdFx0XHRvblZhbHVlQ2hhbmdlPy4oZS50YXJnZXQuY2hlY2tlZCk7XG5cdFx0XHRcdG9uQ2hhbmdlPy4oZSk7XG5cdFx0XHR9fVxuXHRcdFx0dHlwZT0nY2hlY2tib3gnXG5cdFx0Lz5cblx0XHQ8ZGl2IGNsYXNzTmFtZT0naW52YWxpZC1mZWVkYmFjayBsaC1zbScgcm9sZT0nYWxlcnQnPlxuXHRcdFx0PHNwYW4gYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzTmFtZT0naWNvbi1mMyBpY29uLXdhcm5pbmcnIC8+XG5cdFx0XHR7dmFsaWRhdGlvbk1lc3NhZ2V9XG5cdFx0PC9kaXY+XG5cdDwvZGl2Pjtcbn0pO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBDYXB0Y2hhUmVzcG9uc2UgfSBmcm9tICcuLi9hcGlzL2NhcHRjaGFBcGknO1xuaW1wb3J0IHJlcXVlc3QgZnJvbSAnLi4vYXBpcy9yZXF1ZXN0JztcbmltcG9ydCB7IENPT0tJRVMgfSBmcm9tICcuLi9lbnVtcy9jb29raWVzLmVudW0nO1xuaW1wb3J0IHsgZ2V0Q29va2llIH0gZnJvbSAnLi4vbGliL2NsaWVudENvb2tpZXMnO1xuaW1wb3J0IHsgaXNCcm93c2VyUnVudGltZSB9IGZyb20gJy4uL2xpYi9nZXRSdW50aW1lJztcbmltcG9ydCB7IHVzZVNjcmlwdFRhZyB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VTY3JpcHRUYWcnO1xuaW1wb3J0IHsgZ2V0Q29uZmlnIH0gZnJvbSAnLi4vbGliL3NoYXJlZENvbmZpZyc7XG5pbXBvcnQgeyBnZXRUaW1lSW5NcyB9IGZyb20gJy4uL2xpYi90aW1lJztcbmltcG9ydCB7IEYzQ2hlY2tib3ggfSBmcm9tICcuL2Zvcm1zL0YzQ2hlY2tib3gnO1xuXG5pbnRlcmZhY2UgQ2FwdGNoYUNoZWNrYm94UHJvcHMge1xuXHRvbkNhcHRjaGFSZXNwb25zZShyZXNwOiBDYXB0Y2hhUmVzcG9uc2UsIHRva2VuOiBzdHJpbmcpOiB2b2lkXG5cdGJ5cGFzc1dpdGhDb29raWU/OiBib29sZWFuXG59XG5cbmNvbnN0IENBUFRDSEFfU1VDQ0VTU19GTiA9ICdGM19DQVBUQ0hBX1NVQ0NFU1NfRk4nO1xuY29uc3QgQ0FQVENIQV9FWFBJUkVEX0ZOID0gJ0YzX0NBUFRDSEFfRVhQSVJFRF9GTic7XG5cbmRlY2xhcmUgY29uc3Qgd2luZG93OiB7XG5cdGdyZWNhcHRjaGE6IHtcblx0XHRyZXNldCgpOiB2b2lkXG5cdH1cbn07XG5cbi8qIFRoZSB3YXkgdGhpcyBpcyBzZXQgdXAsIG9ubHkgb25lIG9mIHRoZXNlIHNob3VsZCBldmVyIGJlIHJlbmRlcmVkIG9uIHRoZSBwYWdlIGF0IGEgdGltZS4gKi9cbmV4cG9ydCBjb25zdCBDYXB0Y2hhQ2hlY2tib3ggPSAoeyBvbkNhcHRjaGFSZXNwb25zZSwgYnlwYXNzV2l0aENvb2tpZSA9IGZhbHNlIH06IENhcHRjaGFDaGVja2JveFByb3BzKSA9PiB7XG5cdGNvbnN0IHsgaTE4biB9ID0gdXNlVHJhbnNsYXRpb24oKTtcblx0Y29uc3QgeyBwdWJsaWNLZXksIHVybCB9ID0gZ2V0Q29uZmlnKCkuY2FwdGNoYTtcblx0Y29uc3QgW2NoZWNrZWQsIHNldENoZWNrZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXHRjb25zdCBjaGVja2JveFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PigpO1xuXG5cdGNvbnN0IGxhbmd1YWdlID0gaTE4bi5sYW5ndWFnZTtcblxuXHRjb25zdCBmdWxsVXJsID0gbmV3IFVSTCh1cmwpO1xuXHRmdWxsVXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2hsJywgbGFuZ3VhZ2UpO1xuXG5cdHVzZVNjcmlwdFRhZyhmdWxsVXJsLnRvU3RyaW5nKCkpO1xuXG5cdGNvbnN0IHNraXBSZW5kZXIgPSBieXBhc3NXaXRoQ29va2llICYmIGlzQnJvd3NlclJ1bnRpbWUoKSAmJiAhIWdldENvb2tpZShDT09LSUVTLkNBUFRDSEEpO1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0aWYgKHNraXBSZW5kZXIpIHJldHVybjtcblxuXHRcdHRyeSB7XG5cdFx0XHRyZXF1ZXN0KHsgdXJsOiAnL25vZGUvdGVzdGluZy9pc1Rlc3RpbmcnIH0pXG5cdFx0XHRcdC50aGVuKCgpID0+IHNldENoZWNrZWQodHJ1ZSkpO1xuXHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0Ly8gVGhpcyBwZXJzb24gZG9lc24ndCBoYXZlIGEgdGVzdGluZyBjb29raWUgb3IgaGFzIGFuIGludmFsaWQgb25lLlxuXHRcdH1cblx0fSwgW10pO1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0aWYgKHNraXBSZW5kZXIpIHJldHVybjtcblxuXHRcdCh3aW5kb3cgYXMgYW55KVtDQVBUQ0hBX1NVQ0NFU1NfRk5dID0gYXN5bmMgKHRva2VuOiBzdHJpbmcpID0+IHtcblx0XHRcdGxldCByZXNwOiBDYXB0Y2hhUmVzcG9uc2UgPSBudWxsO1xuXHRcdFx0c2V0Q2hlY2tlZCh0cnVlKTtcblx0XHRcdG9uQ2FwdGNoYVJlc3BvbnNlPy4ocmVzcCwgdG9rZW4pO1xuXHRcdH07XG5cblx0XHQod2luZG93IGFzIGFueSlbQ0FQVENIQV9FWFBJUkVEX0ZOXSA9ICgpID0+IHtcblx0XHRcdHNldENoZWNrZWQoZmFsc2UpO1xuXHRcdH07XG5cdH0sIFtdKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGlmIChza2lwUmVuZGVyKSByZXR1cm47XG5cblx0XHRjaGVja2JveFJlZi5jdXJyZW50Py5mb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoKSA9PiB7XG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0d2luZG93LmdyZWNhcHRjaGEucmVzZXQoKTtcblx0XHRcdH0sIGdldFRpbWVJbk1zKDUsICdzZWMnKSk7XG5cdFx0fSk7XG5cdH0sIFtdKTtcblxuXHRpZiAoc2tpcFJlbmRlcikgcmV0dXJuIG51bGw7XG5cblx0cmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdwb3NpdGlvbi1yZWxhdGl2ZSc+XG5cdFx0PGRpdlxuXHRcdFx0Y2xhc3NOYW1lPSdnLXJlY2FwdGNoYSdcblx0XHRcdGRhdGEtY2FsbGJhY2s9e0NBUFRDSEFfU1VDQ0VTU19GTn1cblx0XHRcdGRhdGEtZXhwaXJlZC1jYWxsYmFjaz17Q0FQVENIQV9FWFBJUkVEX0ZOfVxuXHRcdFx0ZGF0YS1zaXRla2V5PXtwdWJsaWNLZXl9XG5cdFx0Lz5cblx0XHQ8RjNDaGVja2JveFxuXHRcdFx0Y2xhc3NOYW1lPSdpbnZpc2libGUgcG9zaXRpb24tYWJzb2x1dGUnXG5cdFx0XHRkYXRhLWN5PSdjYXB0Y2hhLWNoZWNrYm94J1xuXHRcdFx0b25WYWx1ZUNoYW5nZT17c2V0Q2hlY2tlZH1cblx0XHRcdHJlcXVpcmVkXG5cdFx0XHR2YWxpZGF0ZT17Y2hlY2tlZCA9PiB7XG5cdFx0XHRcdGlmICghY2hlY2tlZCkgcmV0dXJuICdZb3UgbXVzdCBjaGVjayB0aGlzIGJveCB0byBzdWJtaXQgdGhlIGZvcm0nO1xuXHRcdFx0fX1cblx0XHRcdHZhbHVlPXtjaGVja2VkfVxuXHRcdC8+XG5cdDwvZGl2Pjtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IERvbWFpbiB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IHVzZURvbWFpbiB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VEb21haW4nO1xuaW1wb3J0IHsgRjNDaGVja2JveCB9IGZyb20gJy4vZm9ybXMvRjNDaGVja2JveCc7XG5cbmludGVyZmFjZSBDb21tdW5pY2F0aW9uc09wdEluUHJvcHMge1xuXHRjaGVja2VkOiBib29sZWFuXG5cdG9uVmFsdWVDaGFuZ2UoY2hlY2tlZDogYm9vbGVhbik6IHZvaWRcbn1cblxuY29uc3QgRE9OVF9ESVNQTEFZX0RPTUFJTlM6IERvbWFpbltdID0gWydGT0xEM19VUycsICdGT1JDRVNfV0FSX0NBJ107XG5jb25zdCBBVVRPX1NVQlNDUklCRV9ET01BSU5TOiBEb21haW5bXSA9IFsnRk9MRDNfVVMnLCAnRk9SQ0VTX1dBUl9DQSddO1xuXG5leHBvcnQgY29uc3QgQ29tbXVuaWNhdGlvbnNPcHRJbiA9ICh7IGNoZWNrZWQsIG9uVmFsdWVDaGFuZ2UgfTogQ29tbXVuaWNhdGlvbnNPcHRJblByb3BzKSA9PiB7XG5cdGNvbnN0IHsgc2l0ZU5hbWUsIGYzRG9tYWluIH0gPSB1c2VEb21haW4oKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignY29tcG9uZW50cycpO1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0b25WYWx1ZUNoYW5nZShBVVRPX1NVQlNDUklCRV9ET01BSU5TLmluY2x1ZGVzKGYzRG9tYWluKSk7XG5cdH0sIFtdKTtcblxuXHRpZiAoRE9OVF9ESVNQTEFZX0RPTUFJTlMuaW5jbHVkZXMoZjNEb21haW4pKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gPGRpdiBjbGFzc05hbWU9J21iLTMgZm9ybS1jaGVjayc+XG5cdFx0PEYzQ2hlY2tib3hcblx0XHRcdGNsYXNzTmFtZT0nZm9ybS1jaGVjay1pbnB1dCdcblx0XHRcdGlkPSdjaGVja0FjY2VwdCdcblx0XHRcdG9uVmFsdWVDaGFuZ2U9e29uVmFsdWVDaGFuZ2V9XG5cdFx0XHR2YWx1ZT17Y2hlY2tlZH1cblx0XHQvPlxuXHRcdDxkaXYgY2xhc3NOYW1lPSdsaC1zbSc+XG5cdFx0XHQ8bGFiZWwgY2xhc3NOYW1lPSdmb3JtLWNoZWNrLWxhYmVsJyBodG1sRm9yPSdjaGVja0FjY2VwdCc+XG5cdFx0XHRcdHt0KCdjb21tdW5pY2F0aW9uc09wdEluJywgJ3t7c2l0ZU5hbWV9fSBtYXkgY29udGFjdCB5b3UgdmlhIGVtYWlsIGFib3V0IHRoZWlyIHByb2R1Y3RzIGFuZCBzZXJ2aWNlcy4gWW91IGNhbiB1bnN1YnNjcmliZSBvciBjdXN0b21pc2UgeW91ciBlbWFpbCBzZXR0aW5ncyBhdCBhbnkgdGltZS4nLCB7IHNpdGVOYW1lIH0pfVxuXHRcdFx0PC9sYWJlbD5cblx0XHQ8L2Rpdj5cblx0PC9kaXY+O1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVHJhbnMsIHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBnZXRBbmNlc3RyeUhvc3RuYW1lIH0gZnJvbSAnLi4vbGliL2FuY2VzdHJ5SGVscGVycyc7XG5pbXBvcnQgeyB1c2VEb21haW4gfSBmcm9tICcuLi9saWIvaG9va3MvdXNlRG9tYWluJztcbmltcG9ydCB7IGdldENvbmZpZyB9IGZyb20gJy4uL2xpYi9zaGFyZWRDb25maWcnO1xuaW1wb3J0IHsgRjNCdXR0b24gfSBmcm9tICcuL0YzQnV0dG9uJztcbmltcG9ydCB7IENoZWNrYm94UHJvcHMsIEYzQ2hlY2tib3ggfSBmcm9tICcuL2Zvcm1zL0YzQ2hlY2tib3gnO1xuXG5pbnRlcmZhY2UgVGVybXNBbmRDb25kaXRpb25zUHJvcHMgZXh0ZW5kcyBDaGVja2JveFByb3BzIHtcbn1cblxuZXhwb3J0IGNvbnN0IFRlcm1zQW5kQ29uZGl0aW9ucyA9IGZvcndhcmRSZWY8SFRNTElucHV0RWxlbWVudCwgVGVybXNBbmRDb25kaXRpb25zUHJvcHM+KCh7IGlkID0gJ3RuY0NoZWNrYm94JywgLi4ucmVzdCB9LCByZWYpID0+IHtcblx0Y29uc3QgeyBmM0RvbWFpbiB9ID0gdXNlRG9tYWluKCk7XG5cdGNvbnN0IHsgcGF0aHM6IHsgdGVybXNBbmRDb25kaXRpb25zLCBwcml2YWN5U3RhdGVtZW50IH0gfSA9IGdldENvbmZpZygpLmFuY2VzdHJ5O1xuXHRjb25zdCBhbmNIb3N0bmFtZSA9IGdldEFuY2VzdHJ5SG9zdG5hbWUoZjNEb21haW4pO1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdjb21wb25lbnRzJyk7XG5cblx0cmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdtYi0zIGZvcm0tY2hlY2snPlxuXHRcdDxGM0NoZWNrYm94XG5cdFx0XHRkYXRhLWN5PSd0ZXJtcy1jaGVja2JveCdcblx0XHRcdGlkPXtpZH1cblx0XHRcdHsuLi5yZXN0fVxuXHRcdFx0cmVmPXtyZWZ9XG5cdFx0XHRjbGFzc05hbWU9J2Zvcm0tY2hlY2staW5wdXQnXG5cdFx0Lz5cblx0XHQ8VHJhbnMgaTE4bktleT0ndGVybXNBbmRDb25kaXRpb25zLmZvcm0nIHQ9e3R9PlxuXHRcdFx0PGxhYmVsIGNsYXNzTmFtZT0nbGgtc20gZm9ybS1jaGVjay1sYWJlbCcgaHRtbEZvcj17aWR9PlxuXHRcdFx0XHRJIGhhdmUgcmVhZCBhbmQgYWdyZWUgdG8gdGhlXG5cdFx0XHRcdDxGM0J1dHRvblxuXHRcdFx0XHRcdGJ0blR5cGU9J2xpbmsnXG5cdFx0XHRcdFx0Y2xhc3NOYW1lPSdwLTAgYWxpZ24tYmFzZWxpbmUgbGgtMSdcblx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB7XG5cdFx0XHRcdFx0XHR3aW5kb3cub3BlbihgJHthbmNIb3N0bmFtZX0ke3Rlcm1zQW5kQ29uZGl0aW9uc30/aGlkZUhlYWRlcj0xYCwgJ19ibGFuaycsICd0b29sYmFyPW5vLG1lbnViYXI9bm8sbG9jYXRpb249bm8saGVpZ2h0PTUwMCx3aWR0aD0xMDAwLHJlc2l6YWJsZT15ZXMsc2Nyb2xsYmFycz15ZXMnKTtcblx0XHRcdFx0XHRcdCh3aW5kb3cgYXMgYW55KS5nYSgnc2VuZCcsIHtcblx0XHRcdFx0XHRcdFx0aGl0VHlwZTogJ3BhZ2V2aWV3Jyxcblx0XHRcdFx0XHRcdFx0cGFnZTogJy9zaG93X3RuY19jbGljaycsXG5cdFx0XHRcdFx0XHRcdHRpdGxlOiAnVGVybXMgYW5kIENvbmRpdGlvbnMnLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fX1cblx0XHRcdFx0PlxuXHRcdFx0XHRcdFRlcm1zIGFuZCBDb25kaXRpb25zXG5cdFx0XHRcdDwvRjNCdXR0b24+XG5cdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0nbXgtMSc+YW5kPC9zcGFuPlxuXHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRidG5UeXBlPSdsaW5rJ1xuXHRcdFx0XHRcdGNsYXNzTmFtZT0ncC0wIGFsaWduLWJhc2VsaW5lIGxoLTEnXG5cdFx0XHRcdFx0b25DbGljaz17KCkgPT4ge1xuXHRcdFx0XHRcdFx0d2luZG93Lm9wZW4oYCR7YW5jSG9zdG5hbWV9JHtwcml2YWN5U3RhdGVtZW50fT9oaWRlSGVhZGVyPTFgLCAnX2JsYW5rJywgJ3Rvb2xiYXI9bm8sbWVudWJhcj1ubyxsb2NhdGlvbj1ubyxoZWlnaHQ9NTAwLHdpZHRoPTEwMDAscmVzaXphYmxlPXllcyxzY3JvbGxiYXJzPXllcycpO1xuXHRcdFx0XHRcdFx0KHdpbmRvdyBhcyBhbnkpLmdhKCdzZW5kJywge1xuXHRcdFx0XHRcdFx0XHRoaXRUeXBlOiAncGFnZXZpZXcnLFxuXHRcdFx0XHRcdFx0XHRwYWdlOiAnL3Nob3dfcHJpdmFjeScsXG5cdFx0XHRcdFx0XHRcdHRpdGxlOiAnUHJpdmFjeSBTdGF0ZW1lbnQnLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fX1cblx0XHRcdFx0PlxuXHRcdFx0XHRcdFByaXZhY3kgU3RhdGVtZW50XG5cdFx0XHRcdDwvRjNCdXR0b24+XG5cdFx0XHRcdC5cblx0XHRcdDwvbGFiZWw+XG5cdFx0PC9UcmFucz5cblx0PC9kaXY+O1xufSk7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBOb2RlQXBpIH0gZnJvbSAnLi4vLi4vYXBpcy9ub2RlQXBpJztcbmltcG9ydCB7IEFuY2VzdHJ5QXV0aGVudGljYXRpb25SZXN1bHRzIH0gZnJvbSAnLi4vLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9BbGxFbWFpbHMgfSBmcm9tICcuLi8uLi9saWIvY29tbXVuaWNhdGlvbnNIZWxwZXJzJztcbmltcG9ydCB7IHVzZUFsZXJ0cyB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VBbGVydHMnO1xuaW1wb3J0IHsgdXNlRG9tYWluIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURvbWFpbic7XG5pbXBvcnQgeyBDYXB0Y2hhQ2hlY2tib3ggfSBmcm9tICcuLi9DYXB0Y2hhQ2hlY2tib3gnO1xuaW1wb3J0IHsgQ29tbXVuaWNhdGlvbnNPcHRJbiB9IGZyb20gJy4uL0NvbW11bmljYXRpb25zT3B0SW4nO1xuaW1wb3J0IHsgU3VibWl0QnV0dG9uIH0gZnJvbSAnLi4vRjNCdXR0b24nO1xuaW1wb3J0IHsgVGVybXNBbmRDb25kaXRpb25zIH0gZnJvbSAnLi4vVGVybXNBbmRDb25kaXRpb25zJztcbmltcG9ydCB7IEYzRm9ybSB9IGZyb20gJy4uL2Zvcm1zL0YzRm9ybSc7XG5cbmludGVyZmFjZSBBbmNlc3RyeVJlZ2lzdGVyRm9ybVByb3BzIHtcblx0YXV0aFJlc3VsdHM6IEFuY2VzdHJ5QXV0aGVudGljYXRpb25SZXN1bHRzXG5cdG9uUmVnaXN0ZXJlZCgpOiB2b2lkXG59XG5cbmV4cG9ydCBjb25zdCBBbmNlc3RyeVJlZ2lzdGVyRm9ybSA9ICh7IG9uUmVnaXN0ZXJlZCwgYXV0aFJlc3VsdHMgfTogQW5jZXN0cnlSZWdpc3RlckZvcm1Qcm9wcykgPT4ge1xuXHRjb25zdCBbY29tbXVuaWNhdGlvbnNDaGVja2VkLCBzZXRDb21tdW5pY2F0aW9uc0NoZWNrZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXHRjb25zdCBbdGVybXNDaGVja2VkLCBzZXRUZXJtc0NoZWNrZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXHRjb25zdCBjYXB0Y2hhVG9rZW4gPSB1c2VSZWY8c3RyaW5nPihudWxsKTtcblx0Y29uc3QgeyBzaXRlVHlwZSB9ID0gdXNlRG9tYWluKCk7XG5cdGNvbnN0IHsgYWRkRXJyb3JBbGVydCB9ID0gdXNlQWxlcnRzKCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2xvZ2luJyk7XG5cblx0cmV0dXJuIDxGM0Zvcm1cblx0XHRvblN1Ym1pdD17YXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCF0ZXJtc0NoZWNrZWQpIHtcblx0XHRcdFx0YWRkRXJyb3JBbGVydCh0KCdyZWdpc3RlcldpdGhBbmNlc3RyeUZvcm0udGVybXNFcnJvcicsICdZb3UgbXVzdCBhZ3JlZSB0byB0aGUgdGVybXMgYW5kIGNvbmRpdGlvbnMgYmVmb3JlIGNvbnRpbnVpbmcnKSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YXdhaXQgbmV3IE5vZGVBcGkoKS5yZWdpc3RlcldpdGhBbmNlc3RyeShhdXRoUmVzdWx0cy51c2VySWQsIGNhcHRjaGFUb2tlbi5jdXJyZW50KTtcblxuXHRcdFx0XHRpZiAoc2l0ZVR5cGUgPT09ICdGV1InICYmIGNvbW11bmljYXRpb25zQ2hlY2tlZCkge1xuXHRcdFx0XHRcdC8qIEYzIHVzZXJzIHdpbGwgZ2V0IHRoZSBjb25maWd1cmVkIGRlZmF1bHRzIGZvciBjb21tdW5pY2F0aW9ucyAqL1xuXHRcdFx0XHRcdGF3YWl0IHN1YnNjcmliZVRvQWxsRW1haWxzKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRvblJlZ2lzdGVyZWQoKTtcblx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGUpO1xuXHRcdFx0XHRhZGRFcnJvckFsZXJ0KHQoJ2NvbW1vbjpzb21ldGhpbmdXcm9uZycpKTtcblx0XHRcdH1cblx0XHR9fVxuXHQ+XG5cdFx0PENvbW11bmljYXRpb25zT3B0SW5cblx0XHRcdGNoZWNrZWQ9e2NvbW11bmljYXRpb25zQ2hlY2tlZH1cblx0XHRcdG9uVmFsdWVDaGFuZ2U9e3NldENvbW11bmljYXRpb25zQ2hlY2tlZH1cblx0XHQvPlxuXG5cdFx0PFRlcm1zQW5kQ29uZGl0aW9uc1xuXHRcdFx0b25WYWx1ZUNoYW5nZT17c2V0VGVybXNDaGVja2VkfVxuXHRcdFx0cmVxdWlyZWRcblx0XHRcdHZhbHVlPXt0ZXJtc0NoZWNrZWR9XG5cdFx0Lz5cblxuXHRcdDxDYXB0Y2hhQ2hlY2tib3hcblx0XHRcdG9uQ2FwdGNoYVJlc3BvbnNlPXsocmVzcCwgdG9rZW4pID0+IHtcblx0XHRcdFx0aWYgKHJlc3AgPT09IG51bGwgfHwgcmVzcD8uc3VjY2Vzcykge1xuXHRcdFx0XHRcdGNhcHRjaGFUb2tlbi5jdXJyZW50ID0gdG9rZW47XG5cdFx0XHRcdH1cblx0XHRcdH19XG5cdFx0Lz5cblxuXHRcdDxTdWJtaXRCdXR0b24gY2xhc3NOYW1lPSdtZS0xJyBkYXRhLWN5PSdidG4tc2F2ZS1jb250aW51ZSc+XG5cdFx0XHR7dCgncmVnaXN0ZXJXaXRoQW5jZXN0cnlGb3JtLnNhdmVDb250aW51ZScsICdTYXZlICYgY29udGludWUnKX1cblx0XHQ8L1N1Ym1pdEJ1dHRvbj5cblx0PC9GM0Zvcm0+O1xufTtcbiIsImltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5cbmV4cG9ydCB0eXBlIFBhc3N3b3JkRmFpbHVyZVJlYXNvbkNvZGUgPSAnTk9OX05VTUVSSUMnIHwgJ0RJQ1RJT05BUlknIHwgJ1NIT1JUJyB8ICdOVU1CRVJTJyB8ICdMT05HJ1xuXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRlQW5jZXN0cnlQYXNzd29yZFJlc3BvbnNlIHtcblx0SXNWYWxpZD86IGJvb2xlYW5cblx0Q29tcGxleGl0eTogJ1ZlcnkgV2VhaycgfCAnV2VhaycgfCAnUmVhc29uYWJsZScgfCAnU3Ryb25nJyB8ICdWZXJ5IFN0cm9uZydcblx0Q29tcGxleGl0eVNjb3JlOiBudW1iZXJcblx0RW50cm9weVZhbHVlOiBudW1iZXJcblx0RmFpbHVyZVJlYXNvbkNvZGU/OiBQYXNzd29yZEZhaWx1cmVSZWFzb25Db2RlW11cbn1cblxuaW50ZXJmYWNlIFN0cmluZ1ZhbGlkYXRpb25TcGVjczxUPiB7XG5cdG1pbkNoYXJhY3RlcnM/OiBUXG5cdG1heENoYXJhY3RlcnM/OiBUXG5cdHVwcGVyTGV0dGVycz86IFRcblx0bG93ZXJMZXR0ZXJzPzogVFxuXHRsZXR0ZXJzPzogVFxuXHRzcGVjaWFsPzogVFxuXHRzcGVjaWFsQ2hhcnM/OiBzdHJpbmdcblx0c3BlY2lhbE9yTGV0dGVycz86IFRcblx0bnVtYmVycz86IFRcblx0cmVnZXg/OiBSZWdFeHBcblx0cmVnZXhFcnJNc2c/OiBzdHJpbmdcbn1cblxuZXhwb3J0IHR5cGUgU3RyaW5nVmFsaWRhdGlvbk9wdGlvbnMgPSBTdHJpbmdWYWxpZGF0aW9uU3BlY3M8bnVtYmVyPlxudHlwZSBTdHJpbmdWYWxpZGF0aW9uRXJyb3JzID0gU3RyaW5nVmFsaWRhdGlvblNwZWNzPHN0cmluZz4gJiB7IGRpY3Rpb25hcnk/OiBzdHJpbmcgfVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRpb25SZXNwb25zZSB7XG5cdHZhbGlkOiBib29sZWFuXG5cdGVycm9ycz86IFN0cmluZ1ZhbGlkYXRpb25FcnJvcnNcbn1cblxudHlwZSBTdHJpbmdWYWxpZGF0aW9uRXJyb3IgPSBQYXNzd29yZEZhaWx1cmVSZWFzb25Db2RlIHwgJ0xPTkcnIHwgJ1VQUEVSJyB8ICdMT1dFUicgfCAnU1BFQ0lBTCcgfCAnU1BFQ0lBTF9PUl9MRVRURVJTJyB8ICdOVU1CRVJTJyB8ICdSRUdfRVhQJ1xuXG50eXBlIFN0cmluZ1R5cGUgPSAnUEFTU1dPUkQnIHwgJ1VTRVJOQU1FJztcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NQRUNJQUxfQ0hBUlMgPSAnIUAjXFwkJVxcXlxcJlxcKic7XG5leHBvcnQgY29uc3QgREVGQVVMVF9QQVNTV09SRF9SRVFVSVJFTUVOVFM6IFN0cmluZ1ZhbGlkYXRpb25PcHRpb25zID0ge1xuXHRtYXhDaGFyYWN0ZXJzOiA2NCxcblx0bWluQ2hhcmFjdGVyczogOCxcblx0c3BlY2lhbE9yTGV0dGVyczogMSxcblx0bnVtYmVyczogMSxcbn07XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1VTRVJOQU1FX1JFUVVJUkVNRU5UUzogU3RyaW5nVmFsaWRhdGlvbk9wdGlvbnMgPSB7XG5cdG1heENoYXJhY3RlcnM6IDMyLFxuXHRtaW5DaGFyYWN0ZXJzOiAxLFxuXHRyZWdleDogL15bXFx3XFxkX117MSwzMn0kLyxcblx0cmVnZXhFcnJNc2c6ICdVc2VybmFtZSBtdXN0IGNvbnRhaW4gb25seSB1cHBlciBhbmQgbG93ZXJjYXNlIGxldHRlcnMsIG51bWJlcnMsIGFuZCB1bmRlcnNjb3JlcycsXG59O1xuXG5leHBvcnQgY29uc3QgdXNlU3RyaW5nVmFsaWRhdGlvbiA9ICh0eXBlOiBTdHJpbmdUeXBlLCBvcHRpb25zOiBTdHJpbmdWYWxpZGF0aW9uT3B0aW9ucykgPT4ge1xuXHRjb25zdCB7IHQgfcKgPSB1c2VUcmFuc2xhdGlvbignY29tcG9uZW50cycpO1xuXG5cdGxldCB7IG1pbkNoYXJhY3RlcnMsIG1heENoYXJhY3RlcnMsIHVwcGVyTGV0dGVycywgbG93ZXJMZXR0ZXJzLCBsZXR0ZXJzLCBzcGVjaWFsLCBzcGVjaWFsQ2hhcnMgPSBERUZBVUxUX1NQRUNJQUxfQ0hBUlMsIHNwZWNpYWxPckxldHRlcnMsIG51bWJlcnMgfSA9IG9wdGlvbnM7XG5cblx0Y29uc3QgdmFsaWRhdGlvbiA9IHtcblx0XHRnZXRFcnJvclN0cmluZyhlcnI6IFN0cmluZ1ZhbGlkYXRpb25FcnJvcikge1xuXHRcdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRcdGNhc2UgJ1BBU1NXT1JEJzoge1xuXHRcdFx0XHRcdHN3aXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0XHRjYXNlICdESUNUSU9OQVJZJzogcmV0dXJuIHQoJ3N0cmluZ1ZhbGlkYXRpb24uUEFTU1dPUkQuRElDVElPTkFSWScsICdQYXNzd29yZCBjYW5ub3QgYmUgYSBjb21tb24gd29yZCBvciBwaHJhc2UnKTtcblx0XHRcdFx0XHRcdGNhc2UgJ0xPTkcnOiByZXR1cm4gdCgnc3RyaW5nVmFsaWRhdGlvbi5QQVNTV09SRC5MT05HJywgJ1Bhc3N3b3JkIG11c3Qgbm90IGJlIGxvbmdlciB0aGFuIHt7bWF4Q2hhcmFjdGVyc319IGNoYXJhY2F0ZXJzJywgeyBtYXhDaGFyYWN0ZXJzIH0pO1xuXHRcdFx0XHRcdFx0Y2FzZSAnTE9XRVInOiByZXR1cm4gdCgnc3RyaW5nVmFsaWRhdGlvbi5QQVNTV09SRC5MT1dFUicsICdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qge3tsb3dlckxldHRlcnN9fSBsb3dlcmNhc2UgY2hhcmFjdGVycycsIHsgbG93ZXJMZXR0ZXJzIH0pO1xuXHRcdFx0XHRcdFx0Y2FzZSAnTk9OX05VTUVSSUMnOiByZXR1cm4gdCgnc3RyaW5nVmFsaWRhdGlvbi5QQVNTV09SRC5OT05fTlVNRVJJQycsICdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qge3tsZXR0ZXJzfX0gbGV0dGVycycsIHsgbGV0dGVycyB9KTtcblx0XHRcdFx0XHRcdGNhc2UgJ05VTUJFUlMnOiByZXR1cm4gdCgnc3RyaW5nVmFsaWRhdGlvbi5QQVNTV09SRC5OVU1CRVJTJywgJ1Bhc3N3b3JkIG11c3QgY29udGFpbiBhdCBsZWFzdCB7e251bWJlcnN9fSBudW1iZXJzJywgeyBudW1iZXJzIH0pO1xuXHRcdFx0XHRcdFx0Y2FzZSAnU0hPUlQnOiByZXR1cm4gdCgnc3RyaW5nVmFsaWRhdGlvbi5QQVNTV09SRC5TSE9SVCcsICdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qge3ttaW5DaGFyYWN0ZXJzfX0gY2hhcmFjdGVycycsIHsgbWluQ2hhcmFjdGVycyB9KTtcblx0XHRcdFx0XHRcdGNhc2UgJ1NQRUNJQUwnOiByZXR1cm4gdCgnc3RyaW5nVmFsaWRhdGlvbi5QQVNTV09SRC5TUEVDSUFMJywgJ1Bhc3N3b3JkIG11c3QgY29udGFpbiBhdCBsZWFzdCB7e3NwZWNpYWx9fSBzcGVjaWFsIGNoYXJhY3RlcnMnLCB7IHNwZWNpYWwgfSk7XG5cdFx0XHRcdFx0XHRjYXNlICdTUEVDSUFMX09SX0xFVFRFUlMnOiByZXR1cm4gdCgnc3RyaW5nVmFsaWRhdGlvbi5QQVNTV09SRC5TUEVDSUFMX09SX0xFVFRFUlMnLCAnUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IHt7c3BlY2lhbE9yTGV0dGVyc319IGxldHRlcnMgb3IgY2hhcmFjdGVycyAoe3tzcGVjaWFsQ2hhcnN9fSknLCB7IHNwZWNpYWxPckxldHRlcnMsIHNwZWNpYWxDaGFycyB9KTtcblx0XHRcdFx0XHRcdGNhc2UgJ1VQUEVSJzogcmV0dXJuIHQoJ3N0cmluZ1ZhbGlkYXRpb24uUEFTU1dPUkQuVVBQRVInLCAnUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IHt7dXBwZXJMZXR0ZXJzfX0gdXBwZXJjYXNlIGxldHRlcnMnLCB7IHVwcGVyTGV0dGVycyB9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0Y2FzZSAnVVNFUk5BTUUnOiB7XG5cdFx0XHRcdFx0c3dpdGNoIChlcnIpIHtcblx0XHRcdFx0XHRcdGNhc2UgJ0xPTkcnOiByZXR1cm4gdCgnc3RyaW5nVmFsaWRhdGlvbi5VU0VSTkFNRS5MT05HJywgJ1VzZXJuYW1lIG11c3Qgbm90IGJlIGxvbmdlciB0aGFuIHt7bWF4Q2hhcmFjdGVyc319IGNoYXJhY3RlcnMnLCB7IG1heENoYXJhY3RlcnMgfSk7XG5cdFx0XHRcdFx0XHRjYXNlICdSRUdfRVhQJzogcmV0dXJuIHQoJ3N0cmluZ1ZhbGlkYXRpb24uVVNFUk5BTUUuUkVHX0VYUCcsICdVc2VybmFtZSBtdXN0IGNvbnRhaW4gYmV0d2VlbiAxIGFuZCAzMiB1cHBlciBhbmQgbG93ZXJjYXNlIGxldHRlcnMsIG51bWJlcnMsIGFuZCB1bmRlcnNjb3JlcycpO1xuXHRcdFx0XHRcdFx0Y2FzZSAnU0hPUlQnOiByZXR1cm4gdCgnc3RyaW5nVmFsaWRhdGlvbi5VU0VSTkFNRS5TSE9SVCcsICdVc2VybmFtZSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qge3ttaW5DaGFyYWN0ZXJzfX0gY2hhcmFjdGVycycsIHsgbWluQ2hhcmFjdGVycyB9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHZhbGlkYXRlU3RyaW5nKHN0cmluZzogc3RyaW5nKTogVmFsaWRhdGlvblJlc3BvbnNlIHtcblx0XHRcdGxldCB7IG1pbkNoYXJhY3RlcnMsIG1heENoYXJhY3RlcnMsIHVwcGVyTGV0dGVycywgbG93ZXJMZXR0ZXJzLCBsZXR0ZXJzLCBzcGVjaWFsLCBzcGVjaWFsQ2hhcnMgPSBERUZBVUxUX1NQRUNJQUxfQ0hBUlMsIHNwZWNpYWxPckxldHRlcnMsIG51bWJlcnMsIHJlZ2V4IH0gPSBvcHRpb25zO1xuXG5cdFx0XHRsZXQgdmFsaWRhdGlvblJlc3BvbnNlOiBWYWxpZGF0aW9uUmVzcG9uc2UgPSB7IHZhbGlkOiB0cnVlLCBlcnJvcnM6IHt9IH07XG5cdFx0XHRsZXQgZXJycyA9IHZhbGlkYXRpb25SZXNwb25zZS5lcnJvcnM7XG5cblx0XHRcdGlmIChtaW5DaGFyYWN0ZXJzICE9PSB1bmRlZmluZWQgJiYgc3RyaW5nLmxlbmd0aCA8IG1pbkNoYXJhY3RlcnMpIHtcblx0XHRcdFx0ZXJycy5taW5DaGFyYWN0ZXJzID0gdmFsaWRhdGlvbi5nZXRFcnJvclN0cmluZygnU0hPUlQnKTtcblx0XHRcdH1cblx0XHRcdGlmIChtYXhDaGFyYWN0ZXJzICE9PSB1bmRlZmluZWQgJiYgc3RyaW5nLmxlbmd0aCA+IG1heENoYXJhY3RlcnMpIHtcblx0XHRcdFx0ZXJycy5tYXhDaGFyYWN0ZXJzID0gdmFsaWRhdGlvbi5nZXRFcnJvclN0cmluZygnTE9ORycpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHVwcGVyTGV0dGVycyAhPT0gdW5kZWZpbmVkICYmICFuZXcgUmVnRXhwKGBbQS1aXXske3VwcGVyTGV0dGVyc319YCkudGVzdChzdHJpbmcpKSB7XG5cdFx0XHRcdGVycnMudXBwZXJMZXR0ZXJzID0gdmFsaWRhdGlvbi5nZXRFcnJvclN0cmluZygnVVBQRVInKTtcblx0XHRcdH1cblx0XHRcdGlmIChsb3dlckxldHRlcnMgIT09IHVuZGVmaW5lZCAmJiAhbmV3IFJlZ0V4cChgW2Etel17JHtsb3dlckxldHRlcnN9fWApLnRlc3Qoc3RyaW5nKSkge1xuXHRcdFx0XHRlcnJzLmxvd2VyTGV0dGVycyA9IHZhbGlkYXRpb24uZ2V0RXJyb3JTdHJpbmcoJ0xPV0VSJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAobGV0dGVycyAhPT0gdW5kZWZpbmVkICYmICFuZXcgUmVnRXhwKGBbYS16QS1aXXske2xldHRlcnN9fWApLnRlc3Qoc3RyaW5nKSkge1xuXHRcdFx0XHRlcnJzLmxldHRlcnMgPSB2YWxpZGF0aW9uLmdldEVycm9yU3RyaW5nKCdOT05fTlVNRVJJQycpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHNwZWNpYWwgIT09IHVuZGVmaW5lZCAmJiAhbmV3IFJlZ0V4cChgWyR7c3BlY2lhbENoYXJzfV17JHtzcGVjaWFsfX1gKS50ZXN0KHN0cmluZykpIHtcblx0XHRcdFx0ZXJycy5zcGVjaWFsID0gdmFsaWRhdGlvbi5nZXRFcnJvclN0cmluZygnU1BFQ0lBTCcpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHNwZWNpYWxPckxldHRlcnMgIT09IHVuZGVmaW5lZCAmJiAhbmV3IFJlZ0V4cChgW2EtekEtWiR7c3BlY2lhbENoYXJzfV17JHtzcGVjaWFsT3JMZXR0ZXJzfX1gKS50ZXN0KHN0cmluZykpIHtcblx0XHRcdFx0ZXJycy5zcGVjaWFsT3JMZXR0ZXJzID0gdmFsaWRhdGlvbi5nZXRFcnJvclN0cmluZygnU1BFQ0lBTF9PUl9MRVRURVJTJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAobnVtYmVycyAhPT0gdW5kZWZpbmVkICYmICFuZXcgUmVnRXhwKGBbMC05XXske251bWJlcnN9fWApLnRlc3Qoc3RyaW5nKSkge1xuXHRcdFx0XHRlcnJzLm51bWJlcnMgPSB2YWxpZGF0aW9uLmdldEVycm9yU3RyaW5nKCdOVU1CRVJTJyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAocmVnZXggIT09IHVuZGVmaW5lZCAmJiAhcmVnZXgudGVzdChzdHJpbmcpKSB7XG5cdFx0XHRcdGVycnMucmVnZXhFcnJNc2cgPSBvcHRpb25zLnJlZ2V4RXJyTXNnO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoT2JqZWN0LmtleXMoZXJycykubGVuZ3RoID4gMCkge1xuXHRcdFx0XHR2YWxpZGF0aW9uUmVzcG9uc2UudmFsaWQgPSBmYWxzZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlbGV0ZSB2YWxpZGF0aW9uUmVzcG9uc2UuZXJyb3JzO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdmFsaWRhdGlvblJlc3BvbnNlO1xuXHRcdH0sXG5cdFx0YW5jZXN0cnlWYWxpZGF0aW9uVG9WYWxpZGF0aW9uKGFuY1ZhbGlkYXRpb246IFZhbGlkYXRlQW5jZXN0cnlQYXNzd29yZFJlc3BvbnNlKTogVmFsaWRhdGlvblJlc3BvbnNlIHtcblx0XHRcdGxldCBlcnJvcnM6IFN0cmluZ1ZhbGlkYXRpb25FcnJvcnMgPSAoYW5jVmFsaWRhdGlvbi5GYWlsdXJlUmVhc29uQ29kZSB8fCBbXSkucmVkdWNlKChmaW5hbE9iaiwgY29kZSkgPT4ge1xuXHRcdFx0XHRsZXQgcHJvcGVydHk6IGtleW9mIFN0cmluZ1ZhbGlkYXRpb25FcnJvcnM7XG5cblx0XHRcdFx0c3dpdGNoIChjb2RlKSB7XG5cdFx0XHRcdFx0Y2FzZSAnRElDVElPTkFSWSc6IHByb3BlcnR5ID0gJ2RpY3Rpb25hcnknOyBicmVhaztcblx0XHRcdFx0XHRjYXNlICdOT05fTlVNRVJJQyc6IHByb3BlcnR5ID0gJ2xldHRlcnMnOyBicmVhaztcblx0XHRcdFx0XHRjYXNlICdOVU1CRVJTJzogcHJvcGVydHkgPSAnbnVtYmVycyc7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ1NIT1JUJzogcHJvcGVydHkgPSAnbWluQ2hhcmFjdGVycyc7IGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgJ0xPTkcnOiBwcm9wZXJ0eSA9ICdtYXhDaGFyYWN0ZXJzJzsgYnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmaW5hbE9ialtwcm9wZXJ0eV0gPSB2YWxpZGF0aW9uLmdldEVycm9yU3RyaW5nKGNvZGUpO1xuXHRcdFx0XHRyZXR1cm4gZmluYWxPYmo7XG5cdFx0XHR9LCB7fSBhcyBTdHJpbmdWYWxpZGF0aW9uRXJyb3JzKTtcblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dmFsaWQ6IGFuY1ZhbGlkYXRpb24uSXNWYWxpZCxcblx0XHRcdFx0ZXJyb3JzLFxuXHRcdFx0fTtcblx0XHR9LFxuXHR9O1xuXG5cdHJldHVybiB2YWxpZGF0aW9uO1xufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IGNsYXNzU3RyIH0gZnJvbSAnLi4vbGliL2NsYXNzVXRpbCc7XG5pbXBvcnQgeyBTdHJpbmdWYWxpZGF0aW9uT3B0aW9ucywgVmFsaWRhdGlvblJlc3BvbnNlLCB1c2VTdHJpbmdWYWxpZGF0aW9uIH0gZnJvbSAnLi4vbGliL2hvb2tzL3VzZVN0cmluZ1ZhbGlkYXRpb24nO1xuXG5pbnRlcmZhY2UgUGFzc3dvcmRSZXF1aXJlbWVudHNQcm9wcyB7XG5cdHZhbGlkYXRpb246IFZhbGlkYXRpb25SZXNwb25zZVxuXHRvcHRpb25zOiBTdHJpbmdWYWxpZGF0aW9uT3B0aW9uc1xufVxuXG5leHBvcnQgY29uc3QgUGFzc3dvcmRSZXF1aXJlbWVudHMgPSAoeyB2YWxpZGF0aW9uLCBvcHRpb25zIH06IFBhc3N3b3JkUmVxdWlyZW1lbnRzUHJvcHMpID0+IHtcblx0bGV0IHsgdmFsaWQgPSB0cnVlLCBlcnJvcnMgPSB7fSB9ID0gdmFsaWRhdGlvbiB8fCB7IHZhbGlkOiB0cnVlIH07XG5cdGxldCB7IG1pbkNoYXJhY3RlcnMsIG1heENoYXJhY3RlcnMsIG51bWJlcnMsIHNwZWNpYWxPckxldHRlcnMsIGRpY3Rpb25hcnkgfSA9IGVycm9ycztcblx0Y29uc3QgeyBnZXRFcnJvclN0cmluZyB9ID0gdXNlU3RyaW5nVmFsaWRhdGlvbignUEFTU1dPUkQnLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gPHVsIGNsYXNzTmFtZT0nbGlzdC11bnN0eWxlZCB0ZXh0LW11dGVkJyBpZD0ncGFzc3dvcmQtbWVzc2FnZXMnPlxuXHRcdDxsaSBjbGFzc05hbWU9e2NsYXNzU3RyKCdydWxlJywgJ1NIT1JUJywgJ2ljb24tZjMnLCB2YWxpZGF0aW9uICE9PSBudWxsICYmIGBpY29uLSR7bWluQ2hhcmFjdGVycyA/ICdjbG9zZSB0ZXh0LWRhbmdlcicgOiAnY2hlY2sgdGV4dC1zdWNjZXNzJ31gKX0+XG5cdFx0XHR7Z2V0RXJyb3JTdHJpbmcoJ1NIT1JUJyl9XG5cdFx0PC9saT5cblx0XHR7IG1heENoYXJhY3RlcnMgJiZcblx0XHQ8bGkgY2xhc3NOYW1lPXtjbGFzc1N0cigncnVsZScsICdMT05HJywgJ2ljb24tZjMnLCB2YWxpZGF0aW9uICE9PSBudWxsICYmIGBpY29uLSR7bWF4Q2hhcmFjdGVycyA/ICdjbG9zZSB0ZXh0LWRhbmdlcicgOiAnY2hlY2sgdGV4dC1zdWNjZXNzJ31gKX0+XG5cdFx0XHR7Z2V0RXJyb3JTdHJpbmcoJ0xPTkcnKX1cblx0XHQ8L2xpPn1cblx0XHQ8bGkgY2xhc3NOYW1lPXtjbGFzc1N0cigncnVsZScsICdOVU1CRVJTJywgJ2ljb24tZjMnLCB2YWxpZGF0aW9uICE9PSBudWxsICYmIGBpY29uLSR7bnVtYmVycyA/ICdjbG9zZSB0ZXh0LWRhbmdlcicgOiAnY2hlY2sgdGV4dC1zdWNjZXNzJ31gKX0+XG5cdFx0XHR7Z2V0RXJyb3JTdHJpbmcoJ05VTUJFUlMnKX1cblx0XHQ8L2xpPlxuXHRcdDxsaSBjbGFzc05hbWU9e2NsYXNzU3RyKCdydWxlJywgJ05PTl9OVU1FUklDJywgJ2ljb24tZjMnLCB2YWxpZGF0aW9uICE9PSBudWxsICYmIGBpY29uLSR7c3BlY2lhbE9yTGV0dGVycyA/ICdjbG9zZSB0ZXh0LWRhbmdlcicgOiAnY2hlY2sgdGV4dC1zdWNjZXNzJ31gKX0+XG5cdFx0XHR7Z2V0RXJyb3JTdHJpbmcoJ1NQRUNJQUxfT1JfTEVUVEVSUycpfVxuXHRcdDwvbGk+XG5cdFx0PGxpIGNsYXNzTmFtZT17Y2xhc3NTdHIoJ3J1bGUnLCAnRElDVElPTkFSWScsICdpY29uLWYzJywgdmFsaWRhdGlvbiAhPT0gbnVsbCAmJiBgaWNvbi0ke2RpY3Rpb25hcnkgPyAnY2xvc2UgdGV4dC1kYW5nZXInIDogJ2NoZWNrIHRleHQtc3VjY2Vzcyd9YCl9PlxuXHRcdFx0e2dldEVycm9yU3RyaW5nKCdESUNUSU9OQVJZJyl9XG5cdFx0PC9saT5cblx0PC91bD47XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IE5vZGVBcGkgfSBmcm9tICcuLi9hcGlzL25vZGVBcGknO1xuaW1wb3J0IHsgVXNlckFwaSB9IGZyb20gJy4uL2FwaXMvdXNlckFwaSc7XG5pbXBvcnQgeyBQYXNzd29yZFJlcXVpcmVtZW50cyB9IGZyb20gJy4uL2NvbXBvbmVudHMvUGFzc3dvcmRSZXF1aXJlbWVudHMnO1xuaW1wb3J0IHsgdXNlQWxlcnRzIH0gZnJvbSAnLi4vbGliL2hvb2tzL3VzZUFsZXJ0cyc7XG5pbXBvcnQgeyBERUZBVUxUX1BBU1NXT1JEX1JFUVVJUkVNRU5UUywgVmFsaWRhdGlvblJlc3BvbnNlLCB1c2VTdHJpbmdWYWxpZGF0aW9uIH0gZnJvbSAnLi4vbGliL2hvb2tzL3VzZVN0cmluZ1ZhbGlkYXRpb24nO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VVc2VyJztcbmltcG9ydCB7IFN1Ym1pdEJ1dHRvbiB9IGZyb20gJy4vRjNCdXR0b24nO1xuaW1wb3J0IHsgRjNMaW5rIH0gZnJvbSAnLi9GM0xpbmsnO1xuaW1wb3J0IHsgRjNJbnB1dCB9IGZyb20gJy4vZm9ybXMvRjNJbnB1dCc7XG5cbnR5cGUgU2F2ZVBhc3N3b3JkRXJyb3IgPSAnU0FNRScgfCAnRVJST1InIHwgJ0lOVkFMSURfT0xEX1BBU1NXT1JEJyB8ICdJTlZBTElEX05FV19QQVNTV09SRCcgfCAnSU5WQUxJRF9DT05GSVJNJ1xuXG5pbnRlcmZhY2UgQ2hhbmdlUGFzc3dvcmRGb3JtUHJvcHMge1xuXHRvblBhc3N3b3JkQ2hhbmdlZChuZXdQYXNzd29yZDogc3RyaW5nKTogdm9pZFxuXHRvblJlY29uZmlybVBhc3N3b3JkKCk6IHZvaWRcbn1cblxuZXhwb3J0IGNvbnN0IENoYW5nZVBhc3N3b3JkRm9ybSA9ICh7IG9uUGFzc3dvcmRDaGFuZ2VkLCBvblJlY29uZmlybVBhc3N3b3JkIH06IENoYW5nZVBhc3N3b3JkRm9ybVByb3BzKSA9PiB7XG5cdGNvbnN0IFtuZXdQYXNzd29yZCwgc2V0TmV3UGFzc3dvcmRdID0gdXNlU3RhdGUoJycpO1xuXHRjb25zdCBbY29uZmlybWVkUGFzc3dvcmQsIHNldENvbmZpcm1lZFBhc3N3b3JkXSA9IHVzZVN0YXRlKCcnKTtcblx0Y29uc3QgW3ZhbGlkYXRpb24sIHNldFZhbGlkYXRpb25dID0gdXNlU3RhdGU8VmFsaWRhdGlvblJlc3BvbnNlPihudWxsKTtcblx0Y29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXHRjb25zdCBbc2hvd1Bhc3N3b3JkLCBzZXRTaG93UGFzc3dvcmRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXHRjb25zdCB7IGFkZEVycm9yQWxlcnQsIGNsZWFyQWxlcnRzIH0gPSB1c2VBbGVydHMoKTtcblx0Y29uc3QgeyB1c2VyOiB7IGVtYWlsIH0gPSB7fSB9ID0gdXNlVXNlcigpO1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdjb21wb25lbnRzJyk7XG5cdGNvbnN0IHsgdmFsaWRhdGVTdHJpbmcsIGFuY2VzdHJ5VmFsaWRhdGlvblRvVmFsaWRhdGlvbiB9ID0gdXNlU3RyaW5nVmFsaWRhdGlvbignUEFTU1dPUkQnLCBERUZBVUxUX1BBU1NXT1JEX1JFUVVJUkVNRU5UUyk7XG5cblx0ZnVuY3Rpb24gZ2V0RXJyb3JNc2coZXJyOiBTYXZlUGFzc3dvcmRFcnJvcikge1xuXHRcdHN3aXRjaCAoZXJyKSB7XG5cdFx0XHRjYXNlICdTQU1FJzogcmV0dXJuIHQoJ2NoYW5nZVBhc3MucGFzc1VuaXF1ZScsICdZb3VyIG5ldyBwYXNzd29yZCBtYXkgbm90IGJlIHRoZSBzYW1lIGFzIHlvdXIgb2xkIHBhc3N3b3JkJyk7XG5cdFx0XHRjYXNlICdJTlZBTElEX09MRF9QQVNTV09SRCc6IHJldHVybiB0KCdjaGFuZ2VQYXNzLmluY29yZWN0UGFzcycsICdZb3VyIGN1cnJlbnQgcGFzc3dvcmQgaXMgaW5jb3JyZWN0Jyk7XG5cdFx0XHRjYXNlICdJTlZBTElEX05FV19QQVNTV09SRCc6IHJldHVybiB0KCdjaGFuZ2VQYXNzLmludmFsaWRQYXNzJywgJ1lvdXIgbmV3IHBhc3N3b3JkIGlzIG5vdCB2YWxpZCcpO1xuXHRcdFx0Y2FzZSAnSU5WQUxJRF9DT05GSVJNJzogcmV0dXJuIHQoJ2NoYW5nZVBhc3MubWlzbWF0Y2hlZFBhc3MnLCAnWW91ciBuZXcgcGFzc3dvcmRzIGRvIG5vdCBtYXRjaCcpO1xuXHRcdFx0Y2FzZSAnRVJST1InOlxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIHQoJ2NoYW5nZVBhc3MucGFzc05vdFVwZGF0ZWQnLCAnWW91ciBwYXNzd29yZCBjb3VsZCBub3QgYmUgdXBkYXRlZCBhdCB0aGlzIHRpbWUuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJyk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIDxmb3JtXG5cdFx0Y2xhc3NOYW1lPSdyb3cgQ2hhbmdlUGFzc3dvcmRGb3JtIHRleHQtc3RhcnQgZy0wJ1xuXHRcdG9uU3VibWl0PXthc3luYyBlID0+IHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGNsZWFyQWxlcnRzKCk7XG5cblx0XHRcdGlmIChuZXdQYXNzd29yZCAhPT0gY29uZmlybWVkUGFzc3dvcmQpIHtcblx0XHRcdFx0YWRkRXJyb3JBbGVydChnZXRFcnJvck1zZygnSU5WQUxJRF9DT05GSVJNJykpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdHNldExvYWRpbmcodHJ1ZSk7XG5cblx0XHRcdFx0bGV0IHNlcnZlclZhbGlkaXR5OiBWYWxpZGF0aW9uUmVzcG9uc2UsXG5cdFx0XHRcdFx0Y2xpZW50VmFsaWRpdHk6IFZhbGlkYXRpb25SZXNwb25zZSA9IHZhbGlkYXRlU3RyaW5nKG5ld1Bhc3N3b3JkKTtcblxuXHRcdFx0XHRpZiAoY2xpZW50VmFsaWRpdHkudmFsaWQpIHtcblx0XHRcdFx0XHRsZXQgc2VydmVyVmFsaWRhdGlvbiA9IGF3YWl0IG5ldyBOb2RlQXBpKCkudmFsaWRhdGVQYXNzd29yZChuZXdQYXNzd29yZCk7XG5cdFx0XHRcdFx0c2VydmVyVmFsaWRpdHkgPSBhbmNlc3RyeVZhbGlkYXRpb25Ub1ZhbGlkYXRpb24oc2VydmVyVmFsaWRhdGlvbik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIShjbGllbnRWYWxpZGl0eS52YWxpZCAmJiBzZXJ2ZXJWYWxpZGl0eS52YWxpZCkpIHtcblx0XHRcdFx0XHRzZXRWYWxpZGF0aW9uKHZhbGlkYXRpb24pO1xuXHRcdFx0XHRcdGFkZEVycm9yQWxlcnQoZ2V0RXJyb3JNc2coJ0lOVkFMSURfTkVXX1BBU1NXT1JEJykpO1xuXHRcdFx0XHRcdHNldExvYWRpbmcoZmFsc2UpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdGFkZEVycm9yQWxlcnQoZ2V0RXJyb3JNc2coJ0VSUk9SJykpO1xuXHRcdFx0XHRzZXRMb2FkaW5nKGZhbHNlKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhd2FpdCBuZXcgVXNlckFwaSgpLmF1dGhlbnRpY2F0ZVVzZXIoeyBwYXNzd29yZDogbmV3UGFzc3dvcmQsIHVzZXJuYW1lT3JFbWFpbDogZW1haWwgfSk7XG5cblx0XHRcdFx0Ly8gdGhpcyBtZWFucyB0aGUgbmV3IHBhc3N3b3JkIGlzIHRoZSBzYW1lIGFzIHRoZSBvbGQgcGFzc3dvcmQuIFNob3cgZXJyb3Jcblx0XHRcdFx0YWRkRXJyb3JBbGVydChnZXRFcnJvck1zZygnU0FNRScpKTtcblx0XHRcdFx0c2V0TG9hZGluZyhmYWxzZSk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHQvLyB0aGlzIG1lYW5zIHRoZSBuZXcgcGFzc3dvcmQgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSBvbGQgcGFzc3dvcmQuIENvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhd2FpdCBuZXcgVXNlckFwaSgpLmNoYW5nZVBhc3N3b3JkKG5ld1Bhc3N3b3JkKTtcblx0XHRcdFx0b25QYXNzd29yZENoYW5nZWQobmV3UGFzc3dvcmQpO1xuXHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdGxldCBtc2c7XG5cdFx0XHRcdHN3aXRjaCAoZS5yZXNwb25zZS5zdGF0dXMpIHtcblx0XHRcdFx0XHRjYXNlIDQwMzpcblx0XHRcdFx0XHRcdG9uUmVjb25maXJtUGFzc3dvcmQoKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblxuXHRcdFx0XHRcdFx0Lypcblx0XHRcdFx0XHRcdCAqIGNhc2UgNDAwOlxuXHRcdFx0XHRcdFx0ICogXHRzd2l0Y2ggKGUucmVzcG9uc2UuZGF0YS5tZXNzYWdlKSB7XG5cdFx0XHRcdFx0XHQgKiBcdFx0Ly8gY2FzZSAnTm8gcGFzc3dvcmQgcHJvdmlkZWQnOiBtc2cgPSBnZXRFcnJvck1zZygnSU5WQUxJRF9ORVdfUEFTU1dPUkQnKTsgYnJlYWs7XG5cdFx0XHRcdFx0XHQgKiBcdFx0Ly8gY2FzZSAnU2FtZSBQYXNzd29yZCc6IG1zZyA9IGdldEVycm9yTXNnKCdTQU1FJyk7IGJyZWFrO1xuXHRcdFx0XHRcdFx0ICogXHR9XG5cdFx0XHRcdFx0XHQgKiBcdGJyZWFrO1xuXHRcdFx0XHRcdFx0ICovXG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIW1zZykgbXNnID0gZ2V0RXJyb3JNc2coJ0VSUk9SJyk7XG5cblx0XHRcdFx0YWRkRXJyb3JBbGVydChtc2cpO1xuXHRcdFx0fVxuXG5cdFx0XHRzZXRMb2FkaW5nKGZhbHNlKTtcblx0XHR9fVxuXHQ+XG5cdFx0PGRpdiBjbGFzc05hbWU9J2NvbC1tZC03IGNvbC0xMCBjb2wtb2Zmc2V0LTEgb2Zmc2V0LW1kLTAgZm9ybS1ob3Jpem9udGFsJz5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdyb3cgZy0wIG1iLTInPlxuXHRcdFx0XHQ8bGFiZWwgY2xhc3NOYW1lPSdjb2wtbWQtNSBjb2wtZm9ybS1sYWJlbCB0ZXh0LW1kLWVuZCBwZS1tZC0zIGZ3LWJvbGQnIGh0bWxGb3I9J25ldy1wd2QnPnt0KCdjaGFuZ2VQYXNzLm5ld1Bhc3MnLCAnTmV3IFBhc3N3b3JkJyl9PC9sYWJlbD5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC1tZC03Jz5cblx0XHRcdFx0XHQ8RjNJbnB1dFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdmb3JtLWNvbnRyb2wgbWItNCdcblx0XHRcdFx0XHRcdGlkPSduZXctcHdkJ1xuXHRcdFx0XHRcdFx0b25CbHVyPXthc3luYyBlID0+IHtcblx0XHRcdFx0XHRcdFx0bGV0IHZhbGlkYXRpb24gPSBhd2FpdCB2YWxpZGF0ZVN0cmluZyhuZXdQYXNzd29yZCk7XG5cdFx0XHRcdFx0XHRcdGlmICghdmFsaWRhdGlvbi52YWxpZCkge1xuXHRcdFx0XHRcdFx0XHRcdHNldFZhbGlkYXRpb24odmFsaWRhdGlvbik7XG5cdFx0XHRcdFx0XHRcdFx0YWRkRXJyb3JBbGVydChnZXRFcnJvck1zZygnSU5WQUxJRF9ORVdfUEFTU1dPUkQnKSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRvbkNoYW5nZT17ZSA9PiB7XG5cdFx0XHRcdFx0XHRcdGxldCBwd2QgPSBlLnRhcmdldC52YWx1ZTtcblx0XHRcdFx0XHRcdFx0c2V0TmV3UGFzc3dvcmQocHdkKTtcblx0XHRcdFx0XHRcdFx0c2V0VmFsaWRhdGlvbih2YWxpZGF0ZVN0cmluZyhwd2QpKTtcblx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRwbGFjZWhvbGRlcj17dCgnY2hhbmdlUGFzcy5lbnRlck5ldycsICdFbnRlciBuZXcgcGFzc3dvcmQnKX1cblx0XHRcdFx0XHRcdHR5cGU9e3Nob3dQYXNzd29yZCA/ICd0ZXh0JyA6ICdwYXNzd29yZCd9XG5cdFx0XHRcdFx0XHR2YWx1ZT17bmV3UGFzc3dvcmR9XG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxsYWJlbCBjbGFzc05hbWU9J2NvbC1tZC01IGNvbC1mb3JtLWxhYmVsIHRleHQtbWQtZW5kIHBlLW1kLTMgZnctYm9sZCcgaHRtbEZvcj0nY29uZmlybS1wd2QnPnt0KCdjaGFuZ2VQYXNzLmNvbmZpcm1QYXNzJywgJ0NvbmZpcm0gUGFzc3dvcmQnKX08L2xhYmVsPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLW1kLTcnPlxuXHRcdFx0XHRcdDxGM0lucHV0XG5cdFx0XHRcdFx0XHRjbGFzc05hbWU9J2Zvcm0tY29udHJvbCdcblx0XHRcdFx0XHRcdGlkPSdjb25maXJtLXB3ZCdcblx0XHRcdFx0XHRcdG9uQ2hhbmdlPXtlID0+IHtcblx0XHRcdFx0XHRcdFx0bGV0IHB3ZCA9IGUudGFyZ2V0LnZhbHVlO1xuXHRcdFx0XHRcdFx0XHRzZXRDb25maXJtZWRQYXNzd29yZChwd2QpO1xuXHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdHBsYWNlaG9sZGVyPXt0KCdjaGFuZ2VQYXNzLmNvbmZpcm1OZXdQYXNzJywgJ0NvbmZpcm0gbmV3IHBhc3N3b3JkJyl9XG5cdFx0XHRcdFx0XHR0eXBlPXtzaG93UGFzc3dvcmQgPyAndGV4dCcgOiAncGFzc3dvcmQnfVxuXHRcdFx0XHRcdFx0dmFsdWU9e2NvbmZpcm1lZFBhc3N3b3JkfVxuXHRcdFx0XHRcdC8+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ncm93IGctMCBtYi00Jz5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC1tZC02IG9mZnNldC1tZC01Jz5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nZm9ybS1jaGVjayc+XG5cdFx0XHRcdFx0XHQ8aW5wdXRcblx0XHRcdFx0XHRcdFx0Y2hlY2tlZD17c2hvd1Bhc3N3b3JkfVxuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2Zvcm0tY2hlY2staW5wdXQnXG5cdFx0XHRcdFx0XHRcdGlkPSdzaG93LXBhc3N3b3JkJ1xuXHRcdFx0XHRcdFx0XHRuYW1lPSdzaG93LXBhc3N3b3JkJ1xuXHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17ZSA9PiBzZXRTaG93UGFzc3dvcmQoZS50YXJnZXQuY2hlY2tlZCl9XG5cdFx0XHRcdFx0XHRcdHR5cGU9J2NoZWNrYm94J1xuXHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzc05hbWU9J2Zvcm0tY2hlY2stbGFiZWwnIGh0bWxGb3I9J3Nob3ctcGFzc3dvcmQnPlxuXHRcdFx0XHRcdFx0XHR7dCgnY2hhbmdlUGFzcy5zaG93UGFzcycsICdTaG93IHBhc3N3b3JkcycpfVxuXHRcdFx0XHRcdFx0PC9sYWJlbD5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdyb3cgZy0wIG1iLTMnPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLW1kLTcgb2Zmc2V0LW1kLTUnPlxuXHRcdFx0XHRcdDxTdWJtaXRCdXR0b24gZGlzYWJsZWQ9e2xvYWRpbmd9PlxuXHRcdFx0XHRcdFx0e3QoJ2NoYW5nZVBhc3MudXBkYXRlUGFzcycsICdVcGRhdGUgcGFzc3dvcmQnKX1cblx0XHRcdFx0XHQ8L1N1Ym1pdEJ1dHRvbj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L2Rpdj5cblx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLW1kLTUgY29sLTEyIHBzLTMnPlxuXHRcdFx0e1xuXHRcdFx0XHR2YWxpZGF0aW9uICYmXG5cdFx0XHRcdFx0PFBhc3N3b3JkUmVxdWlyZW1lbnRzXG5cdFx0XHRcdFx0XHRvcHRpb25zPXtERUZBVUxUX1BBU1NXT1JEX1JFUVVJUkVNRU5UU31cblx0XHRcdFx0XHRcdHZhbGlkYXRpb249e3ZhbGlkYXRpb259XG5cdFx0XHRcdFx0Lz5cblx0XHRcdH1cblx0XHQ8L2Rpdj5cblx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLW1kLTcgb2Zmc2V0LW1kLTMgY29sLTEwIGNvbC1vZmZzZXQtMic+XG5cdFx0XHQ8RjNMaW5rIGhyZWY9Jy9mb3Jnb3QtcGFzc3dvcmQnPnt0KCdjaGFuZ2VQYXNzLmZvcmdvdFBhc3MnLCAnRm9yZ290IHBhc3N3b3JkPycpfTwvRjNMaW5rPlxuXHRcdDwvZGl2PlxuXHQ8L2Zvcm0+O1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRyYW5zLCB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgTm9kZUFwaSB9IGZyb20gJy4uLy4uL2FwaXMvbm9kZUFwaSc7XG5pbXBvcnQgeyBSZXN1bHQgfSBmcm9tICcuLi8uLi9lbnVtcy9ndG1FdmVudC5lbnVtJztcbmltcG9ydCB7IGF1dGhFdmVudCwgcHVzaEV2ZW50IH0gZnJvbSAnLi4vLi4vbGliL2dvb2dsZUFuYWx5dGljc0V2ZW50cyc7XG5pbXBvcnQgeyB1c2VBbGVydHMgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlQWxlcnRzJztcbmltcG9ydCB7IHVzZURvbWFpbiB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VEb21haW4nO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VVc2VyJztcbmltcG9ydCB7IENoYW5nZVBhc3N3b3JkRm9ybSB9IGZyb20gJy4uL0NoYW5nZVBhc3N3b3JkRm9ybSc7XG5pbXBvcnQgeyBTdWJtaXRCdXR0b24gfSBmcm9tICcuLi9GM0J1dHRvbic7XG5pbXBvcnQgeyBGM0xpbmsgfSBmcm9tICcuLi9GM0xpbmsnO1xuaW1wb3J0IHsgRjNGb3JtIH0gZnJvbSAnLi4vZm9ybXMvRjNGb3JtJztcbmltcG9ydCB7IEYzSW5wdXQgfSBmcm9tICcuLi9mb3Jtcy9GM0lucHV0JztcbmltcG9ydCB7IEYzU3BhbUlucHV0IH0gZnJvbSAnLi4vZm9ybXMvRjNTcGFtSW5wdXQnO1xuaW1wb3J0IHsgU3ViTG9naW5Gb3JtUHJvcHMgfSBmcm9tICcuL0xvZ2luRm9ybSc7XG5cbmludGVyZmFjZSBGb2xkM0xvZ2luRm9ybVByb3BzIGV4dGVuZHMgU3ViTG9naW5Gb3JtUHJvcHMge1xuXHRvbkxvZ2dlZEluKHVzZXJuYW1lOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpOiB2b2lkXG59XG5cbmV4cG9ydCBjb25zdCBGb2xkM0xvZ2luRm9ybSA9ICh7IHBhc3N3b3JkQ2hhbmdlZCwgb25Mb2dnZWRJbiwgbG9hZGluZywgc2V0TG9hZGluZyB9OiBGb2xkM0xvZ2luRm9ybVByb3BzKSA9PiB7XG5cdGNvbnN0IHsgaXNTaWduZWRJbiB9ID0gdXNlVXNlcigpO1xuXHRjb25zdCB7IHNpdGVOYW1lIH0gPSB1c2VEb21haW4oKTtcblx0Y29uc3QgW3VzZXJuYW1lLCBzZXRVc2VybmFtZV0gPSB1c2VTdGF0ZSgnJyk7XG5cdGNvbnN0IFtwYXNzd29yZCwgc2V0UGFzc3dvcmRdID0gdXNlU3RhdGUoJycpO1xuXHRjb25zdCBbc2hvd0NoYW5nZVBhc3N3b3JkLCBzZXRTaG93Q2hhbmdlUGFzc3dvcmRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2xvZ2luJyk7XG5cdGNvbnN0IHsgYWRkRXJyb3JBbGVydCwgY2xlYXJBbGVydHMsIGVycm9yQWxlcnRJZCB9ID0gdXNlQWxlcnRzKCk7XG5cblx0aWYgKHNob3dDaGFuZ2VQYXNzd29yZCkge1xuXHRcdHJldHVybiA8Q2hhbmdlUGFzc3dvcmRGb3JtXG5cdFx0XHRvblBhc3N3b3JkQ2hhbmdlZD17bmV3UGFzc3dvcmQgPT4gb25Mb2dnZWRJbih1c2VybmFtZSwgbmV3UGFzc3dvcmQpfVxuXHRcdFx0b25SZWNvbmZpcm1QYXNzd29yZD17KCkgPT4ge1xuXHRcdFx0XHRzZXRMb2FkaW5nKHRydWUpO1xuXHRcdFx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IGAvP3NpZ25vdXQtcmVhc29uPXBhZ2UtZXhwaXJlZGA7XG5cdFx0XHR9fVxuXHRcdC8+O1xuXHR9XG5cblx0cmV0dXJuIDxGM0Zvcm1cblx0XHRhcmlhLWRlc2NyaWJlZGJ5PXtlcnJvckFsZXJ0SWR9XG5cdFx0Y2xhc3NOYW1lPSdjb2wtMTIgY29sLXNtLTEwIGNvbC1tZC05IG14LXNtLWF1dG8nXG5cdFx0aWQ9J2YzLWxvZ2luLWZvcm0nXG5cdFx0bWV0aG9kPSdwb3N0J1xuXHRcdG5vVmFsaWRhdGVcblx0XHRvblN1Ym1pdD17YXN5bmMgKCkgPT4ge1xuXHRcdFx0c2V0TG9hZGluZyh0cnVlKTtcblx0XHRcdGNsZWFyQWxlcnRzKCk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGF3YWl0IG5ldyBOb2RlQXBpKCkuYXV0aGVudGljYXRlVXNlcih1c2VybmFtZSwgcGFzc3dvcmQpO1xuXHRcdFx0XHRvbkxvZ2dlZEluKHVzZXJuYW1lLCBwYXNzd29yZCk7XG5cdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0aWYgKGUucmVzcG9uc2Uuc3RhdHVzID09IDQwMSkge1xuXHRcdFx0XHRcdGlmIChlLnJlc3BvbnNlLmRhdGEubWVzc2FnZSA9PT0gJ1Bhc3N3b3JkIHVwZGF0ZSByZXF1aXJlZCcpIHtcblx0XHRcdFx0XHRcdGFkZEVycm9yQWxlcnQoXG5cdFx0XHRcdFx0XHRcdHQoXG5cdFx0XHRcdFx0XHRcdFx0J2ZvbGQzTG9naW4ucGFzc3dvcmRTZWN1cml0eUZhaWx1cmUnLFxuXHRcdFx0XHRcdFx0XHRcdCdZb3VyIGN1cnJlbnQgcGFzc3dvcmQgbm8gbG9uZ2VyIG1lZXRzIG91ciBzZWN1cml0eSByZXF1aXJlbWVudHMuIFBsZWFzZSB1cGRhdGUgeW91ciBwYXNzd29yZCB0byBzaWduIGluIHRvIHt7c2l0ZU5hbWV9fS4nLFxuXHRcdFx0XHRcdFx0XHRcdHsgc2l0ZU5hbWUgfSxcblx0XHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHRcdFx0bnVsbCxcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdHNldFNob3dDaGFuZ2VQYXNzd29yZCh0cnVlKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YWRkRXJyb3JBbGVydChcblx0XHRcdFx0XHRcdFx0PFRyYW5zIGkxOG5LZXk9J2ZvbGRMb2dpbi5pbnZhbGlkQ3JlZGVudGlhbHMnIHQ9e3R9PlxuXHRcdFx0XHRcdFx0XHRcdFRoZSBlbWFpbC91c2VybmFtZSBhbmQgcGFzc3dvcmQgeW91IGVudGVyZWQgZGlkIG5vdCBtYXRjaCBvdXIgcmVjb3Jkcy4gUGxlYXNlIGRvdWJsZS1jaGVjayBhbmQgdHJ5IGFnYWluLlxuXHRcdFx0XHRcdFx0XHRcdDxGM0xpbmsgY2xhc3NOYW1lPSdtcy0xJyBocmVmPScvZm9yZ290LXBhc3N3b3JkJz5Gb3Jnb3QgeW91ciBwYXNzd29yZD88L0YzTGluaz5cblx0XHRcdFx0XHRcdFx0PC9UcmFucz4sXG5cdFx0XHRcdFx0XHRcdG51bGwsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChlLnJlc3BvbnNlLnN0YXR1cyA9PSA0MjkpIHtcblx0XHRcdFx0XHRhZGRFcnJvckFsZXJ0KHQoJ2ZvbGQzTG9naW4udGVtcExvY2tlZCcsICdZb3VyIGFjY291bnQgaXMgdGVtcG9yYXJpbHkgbG9ja2VkLiBQbGVhc2UgdHJ5IGFnYWluIGluIDMwIG1pbnV0ZXMnKSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YWRkRXJyb3JBbGVydCh0KFxuXHRcdFx0XHRcdFx0J2xvZ2luOmxvZ2luRm9ybS5zaWduSW5FcnJvcicsXG5cdFx0XHRcdFx0XHQnVGhlcmUgd2FzIGFuIGVycm9yIHNpZ25pbmcgeW91IGluIHRvIHt7c2l0ZU5hbWV9fS4gV2VcXCdyZSBub3Qgc3VyZSB3aGF0IGhhcHBlbmVkLiBQbGVhc2UgdHJ5IHJlZnJlc2hpbmcgdGhpcyBwYWdlIGFuZCBkb3VibGUtY2hlY2sgeW91ciBpbmZvIGFuZCB0cnkgYWdhaW4uJyxcblx0XHRcdFx0XHRcdHsgc2l0ZU5hbWUgfSxcblx0XHRcdFx0XHQpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHNldExvYWRpbmcoZmFsc2UpO1xuXHRcdFx0XHRwdXNoRXZlbnQoYXV0aEV2ZW50KCdmMycsIFJlc3VsdC5GQUlMKSk7XG5cdFx0XHR9XG5cdFx0fX1cblx0PlxuXHRcdHtcblx0XHRcdHBhc3N3b3JkQ2hhbmdlZCAmJlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J2FsZXJ0LWluZm8gYWxlcnQnPlxuXHRcdFx0XHQ8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdpY29uLWYzIGljb24taW5mbycgLz4ge3QoJ2ZvbGQzTG9naW4ucGFzc3dvcmRDaGFuZ2VkJywgJ1lvdXIgcGFzc3dvcmQgaGFzIGJlZW4gY2hhbmdlZC4gUGxlYXNlIHNpZ24gaW4gYmVsb3cuJyl9XG5cdFx0XHQ8L2Rpdj5cblx0XHR9XG5cblx0XHR7XG5cdFx0XHQhaXNTaWduZWRJbiAmJlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J21iLTMnPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nZm9ybS1mbG9hdGluZyc+XG5cdFx0XHRcdFx0PEYzSW5wdXRcblx0XHRcdFx0XHRcdGF1dG9DYXBpdGFsaXplPSdvZmYnXG5cdFx0XHRcdFx0XHRhdXRvQ29tcGxldGU9J2VtYWlsJ1xuXHRcdFx0XHRcdFx0YXV0b0NvcnJlY3Q9J29mZidcblx0XHRcdFx0XHRcdGF1dG9Gb2N1c1xuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdmb3JtLWNvbnRyb2wnXG5cdFx0XHRcdFx0XHRpZD0ndXNlcm5hbWUnXG5cdFx0XHRcdFx0XHRuYW1lPSd1c2VybmFtZSdcblx0XHRcdFx0XHRcdG9uVmFsdWVDaGFuZ2U9e3NldFVzZXJuYW1lfVxuXHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI9e3QoJ2ZvbGQzTG9naW4uZW1haWwnLCAnRW1haWwnKX1cblx0XHRcdFx0XHRcdHJlcXVpcmVkXG5cdFx0XHRcdFx0XHR0eXBlPSd0ZXh0J1xuXHRcdFx0XHRcdFx0dmFsdWU9e3VzZXJuYW1lfVxuXHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0PGxhYmVsIGh0bWxGb3I9J3VzZXJuYW1lJz57dCgnZm9sZDNMb2dpbi5tZW1iZXJOYW1lJywgJ0VtYWlsIG9yIE1lbWJlciBOYW1lJyl9PC9sYWJlbD5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHR9XG5cdFx0PGRpdiBjbGFzc05hbWU9J21iLTMnPlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J2Zvcm0tZmxvYXRpbmcnPlxuXHRcdFx0XHQ8RjNJbnB1dFxuXHRcdFx0XHRcdGF1dG9Db21wbGV0ZT0nY3VycmVudC1wYXNzd29yZCdcblx0XHRcdFx0XHRhdXRvRm9jdXM9e2lzU2lnbmVkSW59XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPSdmb3JtLWNvbnRyb2wnXG5cdFx0XHRcdFx0aWQ9J3Bhc3N3b3JkJ1xuXHRcdFx0XHRcdG5hbWU9J3Bhc3N3b3JkJ1xuXHRcdFx0XHRcdG9uVmFsdWVDaGFuZ2U9e3NldFBhc3N3b3JkfVxuXHRcdFx0XHRcdHBsYWNlaG9sZGVyPXt0KCdmb2xkM0xvZ2luLnBhc3N3b3JkJywgJ1Bhc3N3b3JkJyl9XG5cdFx0XHRcdFx0cmVxdWlyZWRcblx0XHRcdFx0XHR0eXBlPSdwYXNzd29yZCdcblx0XHRcdFx0XHR2YWx1ZT17cGFzc3dvcmR9XG5cdFx0XHRcdC8+XG5cdFx0XHRcdDxsYWJlbCBodG1sRm9yPSdwYXNzd29yZCc+e3QoJ2ZvbGQzTG9naW4ucGFzc3dvcmQnLCAnUGFzc3dvcmQnKX08L2xhYmVsPlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cblx0XHQ8RjNTcGFtSW5wdXQgLz5cblxuXHRcdDxkaXYgY2xhc3NOYW1lPSdtYi0zIHN1Ym1pdC1mb3JtJz5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdkLWdyaWQgZ2FwLTIgc2lnbmluLWJ1dHRvbnMnPlxuXHRcdFx0XHQ8U3VibWl0QnV0dG9uXG5cdFx0XHRcdFx0ZGlzYWJsZWQ9e2xvYWRpbmd9XG5cdFx0XHRcdFx0aWQ9J3NpZ25pbi1idG4nXG5cdFx0XHRcdD5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J2ljb24tZm9sZDMnIC8+XG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0bG9hZGluZyA/XG5cdFx0XHRcdFx0XHRcdHQoJ2ZvbGQzTG9naW4uc2lnbmluZ0luJywgJ1NpZ25pbmcgSW4gLi4uJykgOlxuXHRcdFx0XHRcdFx0XHR0KCdmb2xkM0xvZ2luLnNpZ25JbicsICdTaWduIEluJylcblx0XHRcdFx0XHR9XG5cdFx0XHRcdDwvU3VibWl0QnV0dG9uPlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdDwvRjNGb3JtPjtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUcmFucywgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IE5vZGVBcGkgfSBmcm9tICcuLi8uLi9hcGlzL25vZGVBcGknO1xuaW1wb3J0IHsgQW5jZXN0cnlBdXRoZW50aWNhdGlvblJlc3VsdHMgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyB1c2VBbGVydHMgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlQWxlcnRzJztcbmltcG9ydCB7IHVzZURvbWFpbiB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VEb21haW4nO1xuaW1wb3J0IHsgRjNCdXR0b24gfSBmcm9tICcuLi9GM0J1dHRvbic7XG5pbXBvcnQgeyBGM0Nhc2UgfSBmcm9tICcuLi9zd2l0Y2gvRjNDYXNlJztcbmltcG9ydCB7IEYzU3dpdGNoIH0gZnJvbSAnLi4vc3dpdGNoL0YzU3dpdGNoJztcbmltcG9ydCB7IEFuY2VzdHJ5TG9naW5Gb3JtUHJvcHMgfSBmcm9tICcuL0FuY2VzdHJ5TG9naW5Gb3JtJztcbmltcG9ydCB7IEFuY2VzdHJ5UmVnaXN0ZXJGb3JtIH0gZnJvbSAnLi9BbmNlc3RyeVJlZ2lzdGVyRm9ybSc7XG5pbXBvcnQgeyBGb2xkM0xvZ2luRm9ybSB9IGZyb20gJy4vRm9sZDNMb2dpbkZvcm0nO1xuXG5pbnRlcmZhY2UgQW5jZXN0cnlOb3RGb3VuZEZvcm1Qcm9wcyBleHRlbmRzIEFuY2VzdHJ5TG9naW5Gb3JtUHJvcHMge1xuXHRhdXRoUmVzdWx0czogQW5jZXN0cnlBdXRoZW50aWNhdGlvblJlc3VsdHNcbn1cblxudHlwZSBOb3RGb3VuZEZvcm1TdGF0ZSA9ICdjcmVhdGUnIHwgJ2xvZ2luJ1xuXG5leHBvcnQgY29uc3QgQW5jZXN0cnlOb3RGb3VuZEZvcm0gPSAoeyBhdXRoUmVzdWx0cywgLi4ucmVzdCB9OiBBbmNlc3RyeU5vdEZvdW5kRm9ybVByb3BzKSA9PiB7XG5cdGNvbnN0IHsgc2l0ZU5hbWUsIHJlZ1NpdGVOYW1lLCBzaXRlVHlwZSB9ID0gdXNlRG9tYWluKCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2xvZ2luJyk7XG5cdGNvbnN0IFtmb3JtU3RhdGUsIHNldEZvcm1TdGF0ZV0gPSB1c2VTdGF0ZTxOb3RGb3VuZEZvcm1TdGF0ZT4obnVsbCk7XG5cdGNvbnN0IHsgYWRkRXJyb3JBbGVydCB9ID0gdXNlQWxlcnRzKCk7XG5cblx0cmV0dXJuIDw+XG5cdFx0PHAgY2xhc3NOYW1lPSdhbGVydCBhbGVydC1pbmZvJyByb2xlPScnPlxuXHRcdFx0PHNwYW4gYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzTmFtZT0naWNvbi1mMyBpY29uLXdhcm5pbmcnIC8+XG5cdFx0XHR7dCgnYW5jZXN0cnlOb3RGb3VuZEZvcm0uYWNjb3VudE5vdExpbmtlZCcsICdZb3VyIEFuY2VzdHJ5IGFjY291bnQgaGFzIG5vdCBiZWVuIGxpbmtlZCB0byB7e3NpdGVOYW1lfX0uIFlvdSBjYW4gY3JlYXRlIGEge3tzaXRlTmFtZX19IGFjY291bnQgbm93LCBhbmQgaXQgd2lsbCBiZSBsaW5rZWQgdG8gQW5jZXN0cnkuJywgeyBzaXRlTmFtZSB9KX1cblx0XHQ8L3A+XG5cblx0XHQ8ZGl2IGNsYXNzTmFtZT0nZm9ybS1ncm91cCc+XG5cdFx0XHQ8RjNCdXR0b24gb25DbGljaz17KCkgPT4gc2V0Rm9ybVN0YXRlKCdjcmVhdGUnKX0+XG5cdFx0XHRcdHt0KCdhbmNlc3RyeU5vdEZvdW5kRm9ybS5jcmVhdGVTaXRlQWNjb3VudCcsICdDcmVhdGUge3tzaXRlTmFtZX19IEFjY291bnQnLCB7IHNpdGVOYW1lIH0pfVxuXHRcdFx0PC9GM0J1dHRvbj5cblx0XHQ8L2Rpdj5cblxuXHRcdDxwIGNsYXNzTmFtZT0nYWxlcnQnPlxuXHRcdFx0PFRyYW5zIGkxOG5LZXk9J2FuY2VzdHJ5Tm90Rm91bmRGb3JtLmFscmVhZHlSZWdpc3RlcmVkJyB0PXt0fT5cblx0XHRcdFx0PHN0cm9uZz5JZiB5b3UgYWxyZWFkeSBoYXZlIGEgPHNwYW4+e3sgcmVnU2l0ZU5hbWUgfX08L3NwYW4+IGFjY291bnQ8L3N0cm9uZz4sIHBsZWFzZSBzaWduIGluIHRvIGxpbmsgdG8gQW5jZXN0cnnCri5cblx0XHRcdDwvVHJhbnM+XG5cdFx0PC9wPlxuXG5cdFx0PGRpdiBjbGFzc05hbWU9J2Zvcm0tZ3JvdXAnPlxuXHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdGJ0blR5cGU9J3NlY29uZGFyeSdcblx0XHRcdFx0Y2xhc3NOYW1lPSdidG4yJ1xuXHRcdFx0XHRvbkNsaWNrPXsoKSA9PiBzZXRGb3JtU3RhdGUoJ2xvZ2luJyl9XG5cdFx0XHQ+XG5cdFx0XHRcdHt0KCdhbmNlc3RyeU5vdEZvdW5kRm9ybS5hbmNlc3RyeS5leGlzdGluZ0FjY291bnQnLCAnU2lnbiBpbiB0byBFeGlzdGluZyB7e3JlZ1NpdGVOYW1lfX0gQWNjb3VudCcsIHsgcmVnU2l0ZU5hbWUgfSl9XG5cdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdDwvZGl2PlxuXG5cdFx0PEYzU3dpdGNoIHZhbHVlPXtmb3JtU3RhdGV9PlxuXHRcdFx0PEYzQ2FzZSBzd2l0Y2hDYXNlPSdjcmVhdGUnPlxuXHRcdFx0XHQ8QW5jZXN0cnlSZWdpc3RlckZvcm1cblx0XHRcdFx0XHRhdXRoUmVzdWx0cz17YXV0aFJlc3VsdHN9XG5cdFx0XHRcdFx0b25SZWdpc3RlcmVkPXsoKSA9PiB7XG5cdFx0XHRcdFx0XHRyZXN0LnNldExvYWRpbmcodHJ1ZSk7XG5cdFx0XHRcdFx0XHRsb2NhdGlvbi5yZWxvYWQoKTtcblx0XHRcdFx0XHR9fVxuXHRcdFx0XHQvPlxuXHRcdFx0PC9GM0Nhc2U+XG5cdFx0XHQ8RjNDYXNlIHN3aXRjaENhc2U9J2xvZ2luJz5cblx0XHRcdFx0PHAgY2xhc3NOYW1lPSdhbGVydCBhbGVydC1pbmZvJz5cblx0XHRcdFx0XHR7dCgnYW5jZXN0cnlOb3RGb3VuZEZvcm0uZW50ZXJDcmVkZW50aWFscycsIFwiUGxlYXNlIGVudGVyIHlvdXIge3tzaXRlTmFtZX19IGNyZWRlbnRpYWxzLiBZb3UnbGwgb25seSBoYXZlIHRvIGRvIHRoaXMgb25jZSDigJQgYWZ0ZXIgeW91ciBhY2NvdW50cyBhcmUgY29ubmVjdGVkLCB5b3UgY2FuIHNpZ24gaW4gdXNpbmcgeW91ciBBbmNlc3RyeSBjcmVkZW50aWFscy5cIiwgeyBzaXRlTmFtZSB9KX1cblx0XHRcdFx0PC9wPlxuXHRcdFx0XHQ8Rm9sZDNMb2dpbkZvcm1cblx0XHRcdFx0XHR7Li4ucmVzdH1cblx0XHRcdFx0XHRvbkxvZ2dlZEluPXthc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkKSA9PiB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRhd2FpdCBuZXcgTm9kZUFwaSgpLmxpbmtBbmNlc3RyeUFjY291bnQodXNlcm5hbWUsIHBhc3N3b3JkLCBhdXRoUmVzdWx0cy51c2VySWQsIGF1dGhSZXN1bHRzLnVzZXJuYW1lLCB0cnVlKTtcblx0XHRcdFx0XHRcdFx0bG9jYXRpb24ucmVsb2FkKCk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRcdFx0YWRkRXJyb3JBbGVydCh0KCdjb21tb246c29tZXRoaW5nV3JvbmcnKSk7XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH19XG5cdFx0XHRcdC8+XG5cdFx0XHQ8L0YzQ2FzZT5cblx0XHQ8L0YzU3dpdGNoPlxuXHQ8Lz47XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRyYW5zLCB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgTm9kZUFwaSB9IGZyb20gJy4uLy4uL2FwaXMvbm9kZUFwaSc7XG5pbXBvcnQgeyBBbmNlc3RyeUF1dGhlbnRpY2F0aW9uUmVzdWx0cyB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IHVzZUFsZXJ0cyB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VBbGVydHMnO1xuaW1wb3J0IHsgdXNlRG9tYWluIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURvbWFpbic7XG5pbXBvcnQgeyBBbmNlc3RyeUxvZ2luRm9ybVByb3BzIH0gZnJvbSAnLi9BbmNlc3RyeUxvZ2luRm9ybSc7XG5pbXBvcnQgeyBGb2xkM0xvZ2luRm9ybSB9IGZyb20gJy4vRm9sZDNMb2dpbkZvcm0nO1xuXG5pbnRlcmZhY2UgQW5jZXN0cnlVbmxpbmtlZEZvcm1Qcm9wcyBleHRlbmRzIEFuY2VzdHJ5TG9naW5Gb3JtUHJvcHMge1xuXHRhdXRoUmVzdWx0czogQW5jZXN0cnlBdXRoZW50aWNhdGlvblJlc3VsdHNcbn1cblxuZXhwb3J0IGNvbnN0IEFuY2VzdHJ5VW5saW5rZWRGb3JtID0gKHByb3BzOiBBbmNlc3RyeVVubGlua2VkRm9ybVByb3BzKSA9PiB7XG5cdGNvbnN0IHsgYXV0aFJlc3VsdHMsIC4uLnJlc3QgfSA9IHByb3BzO1xuXHRjb25zdCB7IHNpdGVOYW1lIH0gPSB1c2VEb21haW4oKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignbG9naW4nKTtcblx0Y29uc3QgeyBhZGRFcnJvckFsZXJ0IH0gPSB1c2VBbGVydHMoKTtcblxuXHRyZXR1cm4gPD5cblx0XHQ8cCBjbGFzc05hbWU9J2FsZXJ0IGFsZXJ0LWluZm8nPlxuXHRcdFx0PHN0cm9uZz5cblx0XHRcdFx0e3QoJ2FuY2VzdHJ5VW5saW5rZWRGb3JtLmV4aXN0aW5nQWNjb3VudCcsICdXZSBmb3VuZCBhbiBleGlzdGluZyB7e3NpdGVOYW1lfX0gYWNjb3VudCBhc3NvY2lhdGVkIHdpdGggdGhpcyBlbWFpbC4nLCB7IHNpdGVOYW1lIH0pfVxuXHRcdFx0PC9zdHJvbmc+XG5cdFx0XHQ8YnIgLz5cblx0XHRcdDxUcmFucyBpMThuS2V5PSdhbmNlc3RyeVVubGlua2VkRm9ybS5hbmNlc3RyeVNpZ25JbicgdD17dH0+XG5cdFx0XHRcdFNpZ24gaW4gYmVsb3cgd2l0aCB5b3VyIDxzdHJvbmc+PHNwYW4+e3sgc2l0ZU5hbWUgfX08L3NwYW4+IGNyZWRlbnRpYWxzPC9zdHJvbmc+IHRvIGxpbmsgeW91ciBBbmNlc3RyeSBhY2NvdW50IOKAlCBhZnRlciB5b3VyIGFjY291bnRzIGFyZSBjb25uZWN0ZWQgeW91IGNhbiBzaWduIGluIHVzaW5nIGVpdGhlciBhY2NvdW50LlxuXHRcdFx0PC9UcmFucz5cblx0XHQ8L3A+XG5cblx0XHQ8Rm9sZDNMb2dpbkZvcm1cblx0XHRcdHsuLi5yZXN0fVxuXHRcdFx0b25Mb2dnZWRJbj17YXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCkgPT4ge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGF3YWl0IG5ldyBOb2RlQXBpKCkubGlua0FuY2VzdHJ5QWNjb3VudCh1c2VybmFtZSwgcGFzc3dvcmQsIGF1dGhSZXN1bHRzLnVzZXJJZCwgYXV0aFJlc3VsdHMudXNlcm5hbWUsIHRydWUpO1xuXHRcdFx0XHRcdGxvY2F0aW9uLnJlbG9hZCgpO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRhZGRFcnJvckFsZXJ0KHQoJ2NvbW1vbjpzb21ldGhpbmdXcm9uZycpKTtcblx0XHRcdFx0fTtcblx0XHRcdH19XG5cdFx0Lz5cblx0PC8+O1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBBbmNlc3RyeUF1dGhlbnRpY2F0aW9uUmVzdWx0cyB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IHVzZUFsZXJ0cyB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VBbGVydHMnO1xuaW1wb3J0IHsgQW5jZXN0cnlTU08gfSBmcm9tICcuLi9BbmNlc3RyeVNTTyc7XG5pbXBvcnQgeyBBbmNlc3RyeU5vdEZvdW5kRm9ybSB9IGZyb20gJy4vQW5jZXN0cnlOb3RGb3VuZEZvcm0nO1xuaW1wb3J0IHsgQW5jZXN0cnlVbmxpbmtlZEZvcm0gfSBmcm9tICcuL0FuY2VzdHJ5VW5saW5rZWRGb3JtJztcbmltcG9ydCB7IFN1YkxvZ2luRm9ybVByb3BzIH0gZnJvbSAnLi9Mb2dpbkZvcm0nO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFuY2VzdHJ5TG9naW5Gb3JtUHJvcHMgZXh0ZW5kcyBTdWJMb2dpbkZvcm1Qcm9wcyB7XG5cdG9uTG9nZ2VkSW4oKTogdm9pZFxufVxuXG5leHBvcnQgY29uc3QgQW5jZXN0cnlMb2dpbkZvcm0gPSAocHJvcHM6IEFuY2VzdHJ5TG9naW5Gb3JtUHJvcHMpID0+IHtcblx0Y29uc3QgeyBvbkxvZ2dlZEluLCBsb2FkaW5nLCBzZXRMb2FkaW5nIH0gPSBwcm9wcztcblx0Y29uc3QgW2F1dGhSZXN1bHRzLCBzZXRBdXRoUmVzdWx0c10gPSB1c2VTdGF0ZTxBbmNlc3RyeUF1dGhlbnRpY2F0aW9uUmVzdWx0cz4obnVsbCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2xvZ2luJyk7XG5cdGNvbnN0IHsgYWRkRXJyb3JBbGVydCB9ID0gdXNlQWxlcnRzKCk7XG5cblx0aWYgKGF1dGhSZXN1bHRzID09PSBudWxsKSB7XG5cdFx0cmV0dXJuIDxBbmNlc3RyeVNTT1xuXHRcdFx0ZGlzYWJsZWQ9e2xvYWRpbmd9XG5cdFx0XHRoYW5kbGVFcnJvcj17KCkgPT4ge1xuXHRcdFx0XHRhZGRFcnJvckFsZXJ0KHQoJ2NvbW1vbjpzb21ldGhpbmdXcm9uZycpKTtcblx0XHRcdFx0c2V0TG9hZGluZyhmYWxzZSk7XG5cdFx0XHR9fVxuXHRcdFx0b25BdXRoZW50aWNhdGVkPXthdXRoUmVzdWx0cyA9PiB7XG5cdFx0XHRcdHN3aXRjaCAoYXV0aFJlc3VsdHMucmVzdWx0KSB7XG5cdFx0XHRcdFx0Y2FzZSAnU1VDQ0VTUyc6XG5cdFx0XHRcdFx0XHRvbkxvZ2dlZEluKCk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlICdGQUlMRUQnOlxuXHRcdFx0XHRcdFx0YWRkRXJyb3JBbGVydCh0KCdjb21tb246c29tZXRoaW5nV3JvbmcnKSk7XG5cdFx0XHRcdFx0XHRzZXRMb2FkaW5nKGZhbHNlKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRzZXRBdXRoUmVzdWx0cyhhdXRoUmVzdWx0cyk7XG5cdFx0XHRcdFx0XHRzZXRMb2FkaW5nKGZhbHNlKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9fVxuXHRcdFx0b25DbGljaz17KCkgPT4gc2V0TG9hZGluZyh0cnVlKX1cblx0XHQ+XG5cdFx0XHR7XG5cdFx0XHRcdGxvYWRpbmcgP1xuXHRcdFx0XHRcdHQoJ2FuY2VzdHJ5TG9naW5Gb3JtLnNpZ25pbmdJbkFjb21CdG4nLCAnU2lnbmluZyBpbiB3aXRoIEFuY2VzdHJ5Li4uJykgOlxuXHRcdFx0XHRcdHQoJ2FuY2VzdHJ5TG9naW5Gb3JtLnNpZ25JbkFjb21CdG4nLCAnU2lnbiBpbiB3aXRoIEFuY2VzdHJ5Jylcblx0XHRcdH1cblx0XHQ8L0FuY2VzdHJ5U1NPPjtcblx0fVxuXG5cdHN3aXRjaCAoYXV0aFJlc3VsdHMucmVzdWx0KSB7XG5cdFx0Y2FzZSAnRk9MRDNfVU5MSU5LRUQnOiByZXR1cm4gPEFuY2VzdHJ5VW5saW5rZWRGb3JtIGF1dGhSZXN1bHRzPXthdXRoUmVzdWx0c30gey4uLnByb3BzfSAvPjtcblx0XHRjYXNlICdGT0xEM19OT1RfRk9VTkQnOiByZXR1cm4gPEFuY2VzdHJ5Tm90Rm91bmRGb3JtIGF1dGhSZXN1bHRzPXthdXRoUmVzdWx0c30gey4uLnByb3BzfSAvPjtcblx0XHQvLyBjYXNlICdBTkNFU1RSWV9BTUJJR1VPVVMnOiBub3QgaGFuZGxlZFxuXHR9XG59O1xuXG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgUmVzdWx0IH0gZnJvbSAnLi4vLi4vZW51bXMvZ3RtRXZlbnQuZW51bSc7XG5pbXBvcnQgeyBhdXRoRXZlbnQsIHB1c2hFdmVudCB9IGZyb20gJy4uLy4uL2xpYi9nb29nbGVBbmFseXRpY3NFdmVudHMnO1xuaW1wb3J0IHsgdXNlRG9tYWluIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURvbWFpbic7XG5pbXBvcnQgeyB1c2VVc2VyIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZVVzZXInO1xuaW1wb3J0IHsgRjNMaW5rIH0gZnJvbSAnLi4vRjNMaW5rJztcbmltcG9ydCB7IEFuY2VzdHJ5TG9naW5Gb3JtIH0gZnJvbSAnLi9BbmNlc3RyeUxvZ2luRm9ybSc7XG5pbXBvcnQgeyBGb2xkM0xvZ2luRm9ybSB9IGZyb20gJy4vRm9sZDNMb2dpbkZvcm0nO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvZ2luRm9ybVByb3BzIHtcblx0bmV4dD86IHN0cmluZ1xuXHRwYXNzd29yZENoYW5nZWQ/OiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3ViTG9naW5Gb3JtUHJvcHMgZXh0ZW5kcyBMb2dpbkZvcm1Qcm9wcyB7XG5cdGxvYWRpbmc6IGJvb2xlYW5cblx0c2V0TG9hZGluZzogUmVhY3QuRGlzcGF0Y2g8UmVhY3QuU2V0U3RhdGVBY3Rpb248Ym9vbGVhbj4+XG59XG5cbnR5cGUgTG9naW5UeXBlID0gJ2YzJyB8ICdhbmMnO1xuXG5leHBvcnQgY29uc3QgTG9naW5Gb3JtID0gKHByb3BzOiBMb2dpbkZvcm1Qcm9wcykgPT4ge1xuXHRjb25zdCB7IHNpdGVOYW1lIH0gPSB1c2VEb21haW4oKTtcblx0Y29uc3QgeyB1c2VyLCBpc1NpZ25lZEluIH0gPSB1c2VVc2VyKCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2xvZ2luJyk7XG5cdGNvbnN0IHsgbmV4dCB9ID0gcHJvcHM7XG5cdGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuXHRjb25zdCBoYW5kbGVMb2dpbiA9IChsb2dpblR5cGU6IExvZ2luVHlwZSkgPT4ge1xuXHRcdHB1c2hFdmVudChhdXRoRXZlbnQobG9naW5UeXBlLCBSZXN1bHQuU1VDQ0VTUykpO1xuXG5cdFx0aWYgKG5leHQpIHtcblx0XHRcdGxvY2F0aW9uLmhyZWYgPSBuZXh0O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsb2NhdGlvbi5yZWxvYWQoKTtcblx0XHR9XG5cdH07XG5cblx0Y29uc3Qgc3ViUHJvcHM6IFN1YkxvZ2luRm9ybVByb3BzID0ge1xuXHRcdC4uLnByb3BzLFxuXHRcdGxvYWRpbmcsXG5cdFx0c2V0TG9hZGluZyxcblx0fTtcblxuXHRyZXR1cm4gPGRpdiBjbGFzc05hbWU9J2Zvcm0gdGV4dC1jZW50ZXInIGlkPSdzaWduaW4tZm9ybSc+XG5cdFx0PGRpdiBjbGFzc05hbWU9J2NvbC0xMic+XG5cdFx0XHQ8aDEgY2xhc3NOYW1lPSd0ZXh0LXByaW1hcnkgaDMgbWItNCBteC1tZC1uNSc+XG5cdFx0XHRcdHtcblx0XHRcdFx0XHRpc1NpZ25lZEluID9cblx0XHRcdFx0XHRcdDw+XG5cdFx0XHRcdFx0XHRcdHt0KCdsb2dpbkZvcm0udmVyaWZ5QWNjb3VudCcsICdWZXJpZnkgeW91ciBhY2NvdW50Jyl9XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0nZnMtNiB0ZXh0LW11dGVkIGQtYmxvY2sgbXktMycgc3R5bGU9e3sgZm9udFNpemU6ICd4LWxhcmdlJyB9fT5cblx0XHRcdFx0XHRcdFx0XHR7dCgnbG9naW5Gb3JtLnNpZ25pbmdJbkFzJywgJ1NpZ25pbmcgaW4gYXMge3t1c2VybmFtZX19JywgeyB1c2VybmFtZTogdXNlci51c2VybmFtZSB9KX1cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0PC8+IDpcblx0XHRcdFx0XHRcdHQoJ2xvZ2luRm9ybS5zaWduSW5UbycsICdTaWduIGluIHRvIHt7c2l0ZU5hbWV9fScsIHsgc2l0ZU5hbWUgfSlcblx0XHRcdFx0fVxuXHRcdFx0PC9oMT5cblx0XHQ8L2Rpdj5cblxuXHRcdDxGb2xkM0xvZ2luRm9ybSB7Li4uc3ViUHJvcHN9IG9uTG9nZ2VkSW49eygpID0+IGhhbmRsZUxvZ2luKCdmMycpfSAvPlxuXG5cdFx0PHAgY2xhc3NOYW1lPSd0ZXh0LWNlbnRlciB0ZXh0LW11dGVkJz4tIHt0KCdsb2dpbkZvcm0ub3InLCAnT1InKX0gLTwvcD5cblxuXHRcdDxBbmNlc3RyeUxvZ2luRm9ybSB7Li4uc3ViUHJvcHN9IG9uTG9nZ2VkSW49eygpID0+IGhhbmRsZUxvZ2luKCdhbmMnKX0gLz5cblxuXHRcdDxociAvPlxuXG5cdFx0PHAgY2xhc3NOYW1lPSdoZWxwLWJsb2NrIHRleHQtY2VudGVyJz5cblx0XHRcdDxGM0xpbmsgY2xhc3NOYW1lPSdub2J0bi1saW5rJyBocmVmPScvZm9yZ290LXBhc3N3b3JkJz5cblx0XHRcdFx0PGI+e3QoJ2xvZ2luRm9ybS5mb3Jnb3RQYXNzd29yZCcsICdGb3Jnb3QgeW91ciBwYXNzd29yZD8nKX08L2I+XG5cdFx0XHQ8L0YzTGluaz5cblx0XHQ8L3A+XG5cdFx0PHAgY2xhc3NOYW1lPSdoZWxwLWJsb2NrIHRleHQtY2VudGVyIG10LTUnPlxuXHRcdFx0e3QoJ2xvZ2luRm9ybS5kb250SGF2ZUFjY291bnQnLCAnRG9u4oCZdCBoYXZlIGEge3tzaXRlTmFtZX19IGFjY291bnQ/JywgeyBzaXRlTmFtZSB9KX1cblx0XHRcdDxGM0xpbmsgY2xhc3NOYW1lPSdtcy0xJyBocmVmPScvY2hvb3NlLWEtcGxhbic+XG5cdFx0XHRcdDxiPnt0KCdsb2dpbkZvcm0uc2lnblVwJywgJ1NpZ24gVXAnKX08L2I+XG5cdFx0XHQ8L0YzTGluaz5cblx0XHQ8L3A+XG5cdDwvZGl2Pjtcbn07XG4iLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gTWFpbGNoZWNrOyIsImltcG9ydCBtYWlsY2hlY2sgZnJvbSAnbWFpbGNoZWNrJztcbmltcG9ydCB7IHVzZURvbWFpbiB9IGZyb20gJy4vaG9va3MvdXNlRG9tYWluJztcbmltcG9ydCB7IGdldEhvc3RCYXNlIH0gZnJvbSAnLi9sb2NhbGl6YXRpb24vZG9tYWluJztcblxudHlwZSBFbWFpbFR5cGUgPSAnaW5mbycgfCAnbWVtYmVycycgfCAnYWNjb3VudHMnIHwgJ25vdGlmaWVyJyB8ICdtYXJrZXRpbmcnIHwgJ3N1cHBvcnQnIHwgJ2luc3RpdHV0aW9ucydcbmV4cG9ydCBjb25zdCBnZXRGcm9tRW1haWwgPSAodHlwZTogRW1haWxUeXBlKSA9PiB7XG5cdGNvbnN0IHsgZjNEb21haW4sIGVudmlyb25tZW50IH0gPSB1c2VEb21haW4oKTtcblx0cmV0dXJuIGAke3R5cGV9QCR7Z2V0SG9zdEJhc2UoZjNEb21haW4sIGVudmlyb25tZW50KX1gO1xufTtcblxubWFpbGNoZWNrLmRlZmF1bHREb21haW5zLnB1c2goJ21haWxvc2F1ci5pbycpO1xubWFpbGNoZWNrLmRlZmF1bHRUb3BMZXZlbERvbWFpbnMucHVzaCgnbnonLCAnYXUnKTtcblxuZXhwb3J0IGNvbnN0IGNoZWNrRW1haWwgPSAoZW1haWw6IHN0cmluZyk6IFByb21pc2U8TWFpbGNoZWNrTW9kdWxlLklTdWdnZXN0aW9uIHwgbnVsbD4gPT4ge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXHRcdG1haWxjaGVjay5ydW4oe1xuXHRcdFx0ZW1haWwsXG5cdFx0XHRzdWdnZXN0ZWQoc3VnZ2VzdGlvbjogTWFpbGNoZWNrTW9kdWxlLklTdWdnZXN0aW9uKSB7XG5cdFx0XHRcdHJlc29sdmUoc3VnZ2VzdGlvbik7XG5cdFx0XHR9LFxuXHRcdFx0ZW1wdHkoZWxlbWVudCkge1xuXHRcdFx0XHRyZXNvbHZlKG51bGwpO1xuXHRcdFx0fSxcblx0XHR9KTtcblx0fSk7XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVHJhbnMsIHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBVc2VyQXBpIH0gZnJvbSAnLi4vLi4vYXBpcy91c2VyQXBpJztcbmltcG9ydCB7IFVzZXJGdWxsIH0gZnJvbSAnLi4vLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgZ2V0RnJvbUVtYWlsIH0gZnJvbSAnLi4vLi4vbGliL2VtYWlsJztcbmltcG9ydCB7IHVzZVVzZXIgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlVXNlcic7XG5pbXBvcnQgeyBnZXRDb250ZW50UGF0aCB9IGZyb20gJy4uLy4uL2xpYi9zbHVnJztcbmltcG9ydCB7IEYzQnV0dG9uIH0gZnJvbSAnLi4vRjNCdXR0b24nO1xuaW1wb3J0IHsgRjNMaW5rIH0gZnJvbSAnLi4vRjNMaW5rJztcbmltcG9ydCB7IFN1YkRlbnlQcm9wcyB9IGZyb20gJy4vRGVueSc7XG5cblxuaW50ZXJmYWNlIERlbnlDb25maXJtUHJvcHMgZXh0ZW5kcyBTdWJEZW55UHJvcHMge1xuXG59XG5cbmV4cG9ydCBjb25zdCBEZW55Q29uZmlybSA9ICh7IGNvbnRlbnRUeXBlLCBpZCB9OiBEZW55Q29uZmlybVByb3BzKSA9PiB7XG5cdGNvbnN0IHsgaW5zdGl0dXRpb24sIHVzZXIgfSA9IHVzZVVzZXIoKTtcblx0Y29uc3QgW3Jlc2VuZGluZywgc2V0UmVzZW5kaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblx0Y29uc3QgW3Jlc2VuZGluZ1N1Y2Nlc3MsIHNldFJlc2VuZGluZ1N1Y2Nlc3NdID0gdXNlU3RhdGUobnVsbCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2RlbnknKTtcblxuXHRjb25zdCBnZXRFbWFpbCA9IGdldEZyb21FbWFpbCgnYWNjb3VudHMnKTtcblxuXHRjb25zdCB7IHVzZXJuYW1lLCBlbWFpbCB9ID0gdXNlciB8fCB7fSBhcyBVc2VyRnVsbDtcblxuXHRsZXQgbXNnO1xuXHRsZXQgZG9jSWQgPSB0cnVlO1xuXHRsZXQgYSA9ICdtYyc7XG5cblx0Y29uc3QgY29udGVudFBhdGggPSBnZXRDb250ZW50UGF0aChjb250ZW50VHlwZSwgaWQpO1xuXG5cdGlmIChjb250ZW50VHlwZSA9PT0gJ0lOREVYX1JFQ09SRCcpIHtcblx0XHRtc2cgPSA8c3Bhbj5cblx0XHRcdDxUcmFucyBpMThuS2V5PSdkZW55Q29uZmlybS5yZXR1cm5SZWNvcmQnIHQ9e3R9PlxuXHRcdFx0XHRBZnRlciB5b3UgY2xpY2sgdGhlIGxpbmsgaW4geW91ciBlbWFpbCwgeW91IG1heSA8YSBocmVmPXtjb250ZW50UGF0aH0+cmV0dXJuIHRvIHRoZSByZWNvcmQgaGVyZTwvYT4uXG5cdFx0XHQ8L1RyYW5zPlxuXHRcdDwvc3Bhbj47XG5cdH0gZWxzZSBpZiAoY29udGVudFR5cGUgPT09ICdTVE9SWV9QQUdFJykge1xuXHRcdG1zZyA9IDxzcGFuPlxuXHRcdFx0PFRyYW5zIGkxOG5LZXk9J2RlbnlDb25maXJtLnJldHVybk1lbW9yaWFsJyB0PXt0fT5cblx0XHRcdFx0QWZ0ZXIgeW91IGNsaWNrIHRoZSBsaW5rIGluIHlvdXIgZW1haWwsIHlvdSBtYXkgPEYzTGluayBocmVmPXtjb250ZW50UGF0aH0+cmV0dXJuIHRvIHRoZSBtZW1vcmlhbCBoZXJlPC9GM0xpbms+LlxuXHRcdFx0PC9UcmFucz5cblx0XHQ8L3NwYW4+O1xuXHR9IGVsc2UgaWYgKGRvY0lkICYmIGEgIT09ICdtYycpIHtcblx0XHRtc2cgPSA8c3Bhbj5cblx0XHRcdDxUcmFucyBpMThuS2V5PSdkZW55Q29uZmlybS5yZXR1cm5Eb2N1bWVudCcgdD17dH0+XG5cdFx0XHRcdEFmdGVyIHlvdSBjbGljayB0aGUgbGluayBpbiB5b3VyIGVtYWlsLCB5b3UgbWF5IDxGM0xpbmsgaHJlZj17Y29udGVudFBhdGh9PnJldHVybiB0byB5b3VyIGRvY3VtZW50IGhlcmU8L0YzTGluaz4uXG5cdFx0XHQ8L1RyYW5zPlxuXHRcdDwvc3Bhbj47XG5cdH0gZWxzZSB7XG5cdFx0bXNnID0gPHNwYW4+XG5cdFx0XHQ8VHJhbnMgaTE4bktleT0nZGVueUNvbmZpcm0ucmVmcmVzaFJlbG9hZCcgdD17dH0+XG5cdFx0XHRcdEFmdGVyIHlvdSBjbGljayB0aGUgbGluayBpbiB5b3VyIGVtYWlsLCBjbGljayB0aGUgPHN0cm9uZz5yZWZyZXNoPC9zdHJvbmc+IG9yIDxzdHJvbmc+cmVsb2FkIGJ1dHRvbjwvc3Ryb25nPiBpbiB0aGlzIGJyb3dzZXIuXG5cdFx0XHQ8L1RyYW5zPlxuXHRcdDwvc3Bhbj47XG5cdH1cblxuXHRyZXR1cm4gPD5cblx0XHQ8ZGl2IGNsYXNzTmFtZT0nYWxlcnQgYWxlcnQtd2FybmluZyc+XG5cdFx0XHQ8cD5cblx0XHRcdFx0PGIgY2xhc3NOYW1lPSdtZS0xJz4xLjwvYj5cblx0XHRcdFx0PFRyYW5zXG5cdFx0XHRcdFx0Y29tcG9uZW50cz17e1xuXHRcdFx0XHRcdFx0MDogZW1haWwgPyA8c3Ryb25nIGNsYXNzTmFtZT0nbXMtMScgLz4gOiBudWxsLFxuXHRcdFx0XHRcdFx0MTogPHN0cm9uZyAvPixcblx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdGRlZmF1bHRzPSdDaGVjayB5b3VyIGVtYWlsIDwwPnt7ZW1haWx9fTwvMD4gZm9yIGEgbWVzc2FnZSBmcm9tIDwxPnt7Z2V0RW1haWx9fTwvMT4gYW5kIGNsaWNrIG9uIHRoZSBsaW5rIHlvdSBmaW5kIGluIHRoZSBtZXNzYWdlLidcblx0XHRcdFx0XHRpMThuS2V5PSdkZW55Q29uZmlybS5jaGVja0VtYWlsJ1xuXHRcdFx0XHRcdHQ9e3R9XG5cdFx0XHRcdFx0dmFsdWVzPXt7XG5cdFx0XHRcdFx0XHRlbWFpbDogZW1haWwgPyBgKCR7ZW1haWx9KWAgOiAnJyxcblx0XHRcdFx0XHRcdGdldEVtYWlsLFxuXHRcdFx0XHRcdH19XG5cdFx0XHRcdC8+XG5cdFx0XHQ8L3A+XG5cdFx0XHQ8cD5cblx0XHRcdFx0PGI+Mi48L2I+IHttc2d9XG5cdFx0XHQ8L3A+XG5cdFx0PC9kaXY+XG5cblx0XHR7XG5cdFx0XHRpbnN0aXR1dGlvbiAmJiBpbnN0aXR1dGlvbi5uYW1lICYmXG5cdFx0XHQ8cCBjbGFzc05hbWU9J3RleHQtbXV0ZWQnPlxuXHRcdFx0XHQ8c3Ryb25nPnt0KCdkZW55Q29uZmlybS5ub3RlVG9JbnN0aXR1dGlvbnMnLCAnTm90ZSB0byB7e2luc3RpdHV0aW9uTmFtZX19IHBhdHJvbnM6ICcsIHsgaW5zdGl0dXRpb25OYW1lOiBpbnN0aXR1dGlvbi5uYW1lIH0pfTwvc3Ryb25nPlxuXHRcdFx0XHR7dCgnZGVueUNvbmZpcm0udmVyaWZ5RnJvbUhvbWUnLCAnSWYgeW91IGNhbm5vdCBhY2Nlc3MgeW91ciBlbWFpbCBmcm9tIHRoaXMgY29tcHV0ZXIsIHlvdSB3aWxsICBuZWVkIHRvIHZlcmlmeSB5b3VyIGVtYWlsIGZyb20gaG9tZSBpbiBvcmRlciB0byBjb21wbGV0ZSB5b3VyIHJlZ2lzdHJhdGlvbi4gT25jZSB5b3VyIHJlZ2lzdHJhdGlvbiBpcyBjb21wbGV0ZSwgeW91IGNhbiBzaWduIGluIHRvIHlvdXIgTWVtYmVyIEFjY291bnQgZnJvbSB0aGlzIGxvY2F0aW9uLicpfVxuXHRcdFx0PC9wPlxuXHRcdH1cblxuXHRcdDxkaXYgY2xhc3NOYW1lPSd3ZWxsJz5cblx0XHRcdDxoMiBjbGFzc05hbWU9J210LTAgaDUnPnt0KCdkZW55Q29uZmlybS5ub0VtYWlsJywgXCJEaWRuJ3QgZ2V0IHRoZSBlbWFpbD9cIil9PC9oMj5cblx0XHRcdDx1bCBjbGFzc05hbWU9J3NpbXBsZWxpc3QnPlxuXHRcdFx0XHQ8bGk+e3QoJ2RlbnlDb25maXJtLmRlbGF5QXJyaXZlJywgJ1RoZSBtZXNzYWdlIG1heSB0YWtlIGEgZmV3IG1pbnV0ZXMgdG8gYXJyaXZlLicpfTwvbGk+XG5cdFx0XHRcdDxsaT5cblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRlbWFpbCA/XG5cdFx0XHRcdFx0XHRcdDxUcmFucyBpMThuS2V5PSdkZW55Q29uZmlybS5lbWFpbENvbmZpcm0uZW1haWwnIHQ9e3R9PlxuXHRcdFx0XHRcdFx0XHRcdElzIHlvdXIgZW1haWwgYWRkcmVzcyA8c3Ryb25nPig8c3Bhbj57eyBlbWFpbCB9fTwvc3Bhbj4pPC9zdHJvbmc+IGNvcnJlY3Q/XG5cdFx0XHRcdFx0XHRcdDwvVHJhbnM+IDpcblx0XHRcdFx0XHRcdFx0dCgnZGVueUNvbmZpcm0uZW1haWxDb25maXJtLm5vRW1haWwnLCAnSXMgeW91ciBlbWFpbCBhZGRyZXNzIGNvcnJlY3Q/Jylcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0PFRyYW5zIGkxOG5LZXk9J2RlbnlDb25maXJtLmVtYWlsV3JvbmdDb25maXJtTGluaycgdD17dH0+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J21zLTEnPklmIG5vdCwgeW91IGNhbiA8c3Ryb25nPjxGM0xpbmsgaHJlZj0nL2FjY291bnQ/ZWRpdD1lbWFpbCc+ZWRpdCB5b3VyIGVtYWlsIGFkZHJlc3M8L0YzTGluaz48L3N0cm9uZz4gb24geW91ciA8Yj5BY2NvdW50IERldGFpbHM8L2I+IHBhZ2UuPC9zcGFuPlxuXHRcdFx0XHRcdDwvVHJhbnM+XG5cdFx0XHRcdDwvbGk+XG5cdFx0XHRcdDxsaT57dCgnZGVueUNvbmZpcm0uY2hlY2tKdW5rJywgJ0NoZWNrIHlvdXIganVuayBlbWFpbCBib3guJyl9PC9saT5cblx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ncmVzZW5kJz5cblx0XHRcdFx0XHR7dCgnZGVueUNvbmZpcm0uY2Fubm90RmluZCcsIFwiQ2FuJ3QgZmluZCBpdD9cIil9XG5cdFx0XHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdFx0XHRidG5UeXBlPSdzZWNvbmRhcnknXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU9J21zLTIgcmVzZW5kJ1xuXHRcdFx0XHRcdFx0ZGlzYWJsZWQ9e3Jlc2VuZGluZ31cblx0XHRcdFx0XHRcdG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0c2V0UmVzZW5kaW5nKHRydWUpO1xuXG5cdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0YXdhaXQgbmV3IFVzZXJBcGkoKS5zZW5kVmVyaWZ5RW1haWwoKTtcblx0XHRcdFx0XHRcdFx0XHRzZXRSZXNlbmRpbmdTdWNjZXNzKHRydWUpO1xuXHRcdFx0XHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRcdFx0XHRzZXRSZXNlbmRpbmdTdWNjZXNzKGZhbHNlKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdHNldFJlc2VuZGluZyhmYWxzZSk7XG5cdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0c2l6ZT0nc20nXG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0eyByZXNlbmRpbmcgPyB0KCdkZW55Q29uZmlybS5yZXNlbmRpbmcnLCAnUmVzZW5kaW5nLi4uJykgOiB0KCdkZW55Q29uZmlybS5yZXNlbmQnLCAnUmVzZW5kJyl9XG5cdFx0XHRcdFx0PC9GM0J1dHRvbj5cblx0XHRcdFx0PC9saT5cblx0XHRcdDwvdWw+XG5cdFx0XHR7XG5cdFx0XHRcdHJlc2VuZGluZ1N1Y2Nlc3MgPT09IHRydWUgJiZcblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnPlxuXHRcdFx0XHRcdHt0KCdkZW55Q29uZmlybS5tZXNzYWdlUmVzZW50JywgJ1RoZSBtZXNzYWdlIGhhcyBiZWVuIHJlc2VudCEgSXQgc2hvdWxkIGFycml2ZSBpbiB5b3VyIGVtYWlsIHNob3J0bHkuJyl9XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0fVxuXHRcdFx0e1xuXHRcdFx0XHRyZXNlbmRpbmdTdWNjZXNzID09PSBmYWxzZSAmJlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nYWxlcnQgYWxlcnQtZGFuZ2VyJz5cblx0XHRcdFx0XHQ8VHJhbnMgaTE4bktleT0nbWVzc2FnZVJlc2VuZEZhaWx1cmUnIHQ9e3R9PlxuXHRcdFx0XHRcdFx0V2UgY291bGRuJ3Qgc2VuZCB0aGUgdmVyaWZpY2F0aW9uIGVtYWlsLiBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3QgPEYzTGluayBocmVmPScvY29udGFjdC8/c3ViamVjdD1TdXBwb3J0Jz5zdXBwb3J0PC9GM0xpbms+LlxuXHRcdFx0XHRcdDwvVHJhbnM+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0fVxuXHRcdDwvZGl2PlxuXHRcdHtcblx0XHRcdHVzZXJuYW1lICYmXG5cdFx0XHQ8cCBjbGFzc05hbWU9J3RleHQtbXV0ZWQnPlxuXHRcdFx0XHQ8VHJhbnMgaTE4bktleT0nd3JvbmdVc2VyTGluaycgdD17dH0+XG5cdFx0XHRcdFx0SWYgeW91IGFyZSBub3Qge3sgdXNlcm5hbWUgfX0sIHBsZWFzZSA8RjNMaW5rIGhyZWY9Jy9zaWdub2ZmJyB0YXJnZXQ9J190b3AnPnNpZ24gb3V0PC9GM0xpbms+LlxuXHRcdFx0XHQ8L1RyYW5zPlxuXHRcdFx0PC9wPlxuXHRcdH1cblx0PC8+O1xufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgdXNlRG9tYWluIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURvbWFpbic7XG5pbXBvcnQgeyBGM0J1dHRvbiB9IGZyb20gJy4uL0YzQnV0dG9uJztcbmltcG9ydCB7IEYzTGluayB9IGZyb20gJy4uL0YzTGluayc7XG5pbXBvcnQgeyBUaHVtYm5haWwgfSBmcm9tICcuLi9UaHVtYm5haWwnO1xuaW1wb3J0IHsgU3ViRGVueVByb3BzIH0gZnJvbSAnLi9EZW55JztcblxuXG5pbnRlcmZhY2UgRGVueUxvZ2luUHJvcHMgZXh0ZW5kcyBTdWJEZW55UHJvcHMge1xuXG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcblx0aW50ZXJmYWNlIFdpbmRvdyB7XG5cdFx0RjM6IGFueVxuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBEZW55TG9naW4gPSAoeyBpbml0aWFsQ29sdW1uU2l6ZSwgZmxpcCwgYWN0aW9uLCBjb250ZW50VHlwZSwgaWQgfTogRGVueUxvZ2luUHJvcHMpID0+IHtcblx0Y29uc3QgeyBzaXRlTmFtZSwgcmVnU2l0ZU5hbWUgfSA9IHVzZURvbWFpbigpO1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdkZW55Jyk7XG5cblxuXHRyZXR1cm4gPGRpdiBjbGFzc05hbWU9J3JvdyByZWdpc3Rlci1oaWRlJz5cblx0XHQ8ZGl2IGNsYXNzTmFtZT17YGNvbC1tZC0ke2luaXRpYWxDb2x1bW5TaXplfWB9PlxuXHRcdFx0eygoKSA9PiB7XG5cdFx0XHRcdHN3aXRjaCAoY29udGVudFR5cGUpIHtcblx0XHRcdFx0XHRjYXNlICdJTUFHRSc6XG5cdFx0XHRcdFx0XHRpZiAoYWN0aW9uICE9ICdWSUVXJykge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gPHVsIGNsYXNzTmFtZT0nbGlzdC11bnN0eWxlZCBtYi0zJz5cblx0XHRcdFx0XHRcdFx0XHQ8bGk+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J3RleHQtcHJpbWFyeSBpY29uLWYzIGljb24tbWVtLWFycm93JyAvPiB7dCgnYWRkT3B0aW9ucycsICdBbm5vdGF0ZSwgY29tbWVudCwgYW5kIGFkZCBjb3JyZWN0aW9ucycpfVxuXHRcdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0PGxpPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd0ZXh0LXByaW1hcnkgaWNvbi1mMyBpY29uLW1lbS1hcnJvdycgLz4ge3QoJ3ByaW50RG93bmxvYWQnLCAnUHJpbnQgYW5kIGRvd25sb2FkIGltYWdlcycpfVxuXHRcdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0PGxpPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd0ZXh0LXByaW1hcnkgaWNvbi1mMyBpY29uLW1lbS1hcnJvdycgLz4ge3QoJ3NoYXJlRnJlZScsICdTaGFyZSB3aXRoIGZhbWlseSBhbmQgZnJpZW5kcyBmb3IgZnJlZScpfVxuXHRcdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdDwvdWw+O1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIDx1bCBjbGFzc05hbWU9J2xpc3QtdW5zdHlsZWQgbWItMyc+XG5cdFx0XHRcdFx0XHRcdFx0PGxpPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd0ZXh0LXByaW1hcnkgaWNvbi1mMyBpY29uLW1lbS1hcnJvdycgLz4ge3QoJ3ZpZXdJbWFnZScsICdWaWV3IHRoZSBmdWxsIGltYWdlIGZvciBmcmVlJyl9XG5cdFx0XHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHRcdFx0XHQ8bGk+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J3RleHQtcHJpbWFyeSBpY29uLWYzIGljb24tbWVtLWFycm93JyAvPiB7dCgnZGVueS1sb2dpbi5pbWFnZS5wcmludENvbW1lbnQnLCAnUHJpbnQsIGFubm90YXRlLCBmaW5kIG9uIHBhZ2UsIGFuZCBjb21tZW50Jyl9XG5cdFx0XHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHRcdFx0XHQ8bGk+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J3RleHQtcHJpbWFyeSBpY29uLWYzIGljb24tbWVtLWFycm93JyAvPiB7dCgnc2hhcmVGYW1pbHknLCAnU2hhcmUgd2l0aCBmYW1pbHkgYW5kIGZyaWVuZHMgZm9yIGZyZWUnKX1cblx0XHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0XHQ8L3VsPjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjYXNlICdJTkRFWF9SRUNPUkQnOlxuXHRcdFx0XHRcdFx0cmV0dXJuIDx1bCBjbGFzc05hbWU9J2xpc3QtdW5zdHlsZWQgbWItMyc+XG5cdFx0XHRcdFx0XHRcdDxsaT5cblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J3RleHQtcHJpbWFyeSBpY29uLWYzIGljb24tbWVtLWFycm93JyAvPiB7dCgnY29ubmVjdE1lbW9yaWFsJywgJ0Nvbm5lY3QgdGhpcyByZWNvcmQgdG8gYSBtZW1vcmlhbCcpfVxuXHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0XHQ8bGk+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd0ZXh0LXByaW1hcnkgaWNvbi1mMyBpY29uLW1lbS1hcnJvdycgLz5cblx0XHRcdFx0XHRcdFx0XHR7dCgnZGVueS1sb2dpbi5yZWNvcmQucHJpbnRDb21tZW50JywgJ1ByaW50LCBjb21tZW50LCBhbmQgYWRkIGNvcnJlY3Rpb25zJyl9XG5cdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdDxsaT5cblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J3RleHQtcHJpbWFyeSBpY29uLWYzIGljb24tbWVtLWFycm93JyAvPlxuXHRcdFx0XHRcdFx0XHRcdHt0KCdzaGFyZUZyZWUnLCAnU2hhcmUgd2l0aCBmYW1pbHkgYW5kIGZyaWVuZHMgZm9yIGZyZWUnKX1cblx0XHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHRcdFx0PGxpPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0ndGV4dC1wcmltYXJ5IGljb24tZjMgaWNvbi1tZW0tYXJyb3cnIC8+XG5cdFx0XHRcdFx0XHRcdFx0e3QoJ3NhdmVSZWNvcmQnLCAnU2F2ZSB0aGlzIHJlY29yZCB0byB5b3VyIEFuY2VzdHJ5IGZhbWlseSB0cmVlJyl9XG5cdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHQ8L3VsPjtcblx0XHRcdFx0XHRjYXNlICdTVE9SWV9QQUdFJzpcblx0XHRcdFx0XHRcdHJldHVybiA8dWwgY2xhc3NOYW1lPSdsaXN0LXVuc3R5bGVkIG1iLTMnPlxuXHRcdFx0XHRcdFx0XHQ8bGk+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd0ZXh0LXByaW1hcnkgaWNvbi1mMyBpY29uLW1lbS1hcnJvdycgLz5cblx0XHRcdFx0XHRcdFx0XHR7dCgnY29uZWN0TWVtb3JpYWwnLCAnQ29ubmVjdCB0aGlzIG1lbW9yaWFsIHRvIG90aGVyIG1lbW9yaWFscycpfVxuXHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0XHQ8bGk+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd0ZXh0LXByaW1hcnkgaWNvbi1mMyBpY29uLW1lbS1hcnJvdycgLz5cblx0XHRcdFx0XHRcdFx0XHR7dCgnY3JlYXRlU3RvcmllcycsICdDcmVhdGUgc3RvcmllcyBhbmQgYWRkIHBob3RvcycpfVxuXHRcdFx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHRcdFx0XHQ8bGk+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd0ZXh0LXByaW1hcnkgaWNvbi1mMyBpY29uLW1lbS1hcnJvdycgLz5cblx0XHRcdFx0XHRcdFx0XHR7dCgnc2hhcmVXaXRoJywgJ1NoYXJlIHdpdGggZmFtaWx5IGFuZCBmcmllbmRzIGZvciBmcmVlJyl9XG5cdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdDxsaT5cblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J3RleHQtcHJpbWFyeSBpY29uLWYzIGljb24tbWVtLWFycm93JyAvPlxuXHRcdFx0XHRcdFx0XHRcdHt0KCdzYXZlTWVtb3JpYWwnLCAnU2F2ZSB0aGlzIG1lbW9yaWFsIHRvIHlvdXIgQW5jZXN0cnkgZmFtaWx5IHRyZWUnKX1cblx0XHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHRcdDwvdWw+O1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRyZXR1cm4gPD5cblx0XHRcdFx0XHRcdFx0PGgyIGNsYXNzTmFtZT0naDUnPnt0KCdmcmVlTWVtYmVyc2hpcCcsICdXaGF0IGNhbiB5b3UgZG8gd2l0aCBhIGZyZWUge3tzaXRlTmFtZX19IG1lbWJlcnNoaXA/JywgeyBzaXRlTmFtZSB9KX08L2gyPlxuXHRcdFx0XHRcdFx0XHQ8dWwgY2xhc3NOYW1lPSdjaGVja3MgbWItMyc+XG5cdFx0XHRcdFx0XHRcdFx0PGxpPnt0KCdjcmVhdGVNZW1vcmlhbHMnLCAnQ3JlYXRlIG1lbW9yaWFscycpfTwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0PGxpPnt0KCdwcmludFNhdmUnLCAnUHJpbnQgYW5kIHNhdmUgaW1hZ2VzJyl9PC9saT5cblx0XHRcdFx0XHRcdFx0XHQ8bGk+e3QoJ3NoYXJlRGlzY292ZXJpZXMnLCAnU2hhcmUgeW91ciBkaXNjb3ZlcmllcyB3aXRoIGZhbWlseSBhbmQgZnJpZW5kcyBmb3IgZnJlZScpfTwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0PGxpPnt0KCdzYXZlUmVjb3JkcycsICdTYXZlIHJlY29yZHMgdG8geW91ciBBbmNlc3RyeSBmYW1pbHkgdHJlZScpfTwvbGk+XG5cdFx0XHRcdFx0XHRcdDwvdWw+XG5cdFx0XHRcdFx0XHQ8Lz47XG5cdFx0XHRcdH1cblx0XHRcdH0pKCl9XG5cblx0XHRcdDxociAvPlxuXG5cdFx0XHQ8cCBjbGFzc05hbWU9J3RleHQtY2VudGVyIG1iLTMnPlxuXHRcdFx0XHQ8RjNMaW5rXG5cdFx0XHRcdFx0Y2xhc3NOYW1lPSdidG4gYnRuLXByaW1hcnknXG5cdFx0XHRcdFx0aHJlZj0nL3JlZ2lzdGVyP3JldHVybj10cnVlJ1xuXHRcdFx0XHRcdGlkPSdyZWctYnRuJ1xuXHRcdFx0XHRcdHRhcmdldD0nX3NlbGYnXG5cdFx0XHRcdD5cblx0XHRcdFx0XHR7dCgncmVnaXN0ZXJOb3cnLCAnUmVnaXN0ZXIgbm93Jyl9XG5cdFx0XHRcdDwvRjNMaW5rPlxuXHRcdFx0PC9wPlxuXHRcdDwvZGl2PlxuXG5cdFx0e1xuXHRcdFx0WydJTUFHRScsICdTVUJfSU1BR0UnLCAnRklMRScsICdCQVRUTEUnLCAnUkVHSU1FTlQnLCAnQ09NUEFOWScsICdJTkRFWF9SRUNPUkQnXS5pbmNsdWRlcyhjb250ZW50VHlwZSkgJiZcblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtbWQtNSBjb2wtYXV0byBteC1hdXRvIG14LW1kLTAnPlxuXHRcdFx0XHQ8ZmlndXJlIGNsYXNzTmFtZT0nbXgtYXV0byBmcmVlLWltZyBkb2MtaW1nIGJvcmRlciBib3JkZXItc3VjY2VzcyBib3JkZXItMiBiZy1kYXJrIHRleHQtY2VudGVyJz5cblx0XHRcdFx0XHQ8c3Ryb25nIGNsYXNzTmFtZT0nYmctc3VjY2VzcyB0ZXh0LXdoaXRlIGQtYmxvY2snPnt0KCdmcmVlRG9jdW1lbnQnLCAnRnJlZSBEb2N1bWVudCcpfTwvc3Ryb25nPlxuXHRcdFx0XHRcdDxUaHVtYm5haWxcblx0XHRcdFx0XHRcdGNvbnRlbnRUeXBlPXtjb250ZW50VHlwZX1cblx0XHRcdFx0XHRcdG9iamVjdElkPXtpZH1cblx0XHRcdFx0XHRcdHNpemU9ezIwMH1cblx0XHRcdFx0XHQvPlxuXHRcdFx0XHQ8L2ZpZ3VyZT5cblx0XHRcdFx0PGZpZ2NhcHRpb24gY2xhc3NOYW1lPSdzbWFsbCc+XG5cdFx0XHRcdFx0e3QoJ3ZpZXdab29tQW5ub3RhdGUnLCAnVmlldywgem9vbSwgYW5ub3RhdGUgYW5kIG1vcmUuJyl9IDwvZmlnY2FwdGlvbj5cblx0XHRcdDwvZGl2PlxuXHRcdH1cblx0XHR7XG5cdFx0XHRjb250ZW50VHlwZSA9PT0gJ1NUT1JZX1BBR0UnICYmXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLW1kLTUgY29sLWF1dG8nPlxuXHRcdFx0XHQ8ZmlndXJlIGNsYXNzTmFtZT0nbXgtYXV0byBib3JkZXIgYm9yZGVyIGJnLXNlY29uZGFyeSB0ZXh0LWNlbnRlcic+XG5cdFx0XHRcdFx0PFRodW1ibmFpbFxuXHRcdFx0XHRcdFx0Y29udGVudFR5cGU9e2NvbnRlbnRUeXBlfVxuXHRcdFx0XHRcdFx0b2JqZWN0SWQ9e2lkfVxuXHRcdFx0XHRcdFx0c2l6ZT17MjAwfVxuXHRcdFx0XHRcdC8+XG5cdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHQ8ZmlnY2FwdGlvbiBjbGFzc05hbWU9J3RleHQtY2VudGVyIHRleHQtbXV0ZWQnPnt0KCdhZGRQaG90b3MnLCAnQWRkIHBob3RvcywgY3JlYXRlIHN0b3JpZXMsIGFuZCBtb3JlLicpfTwvZmlnY2FwdGlvbj5cblx0XHRcdDwvZGl2PlxuXHRcdH1cblx0XHQ8ZGl2IGNsYXNzTmFtZT0ncm93IHB0LTInPlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC0xMiBwdC0zIGJvcmRlci10b3AnPlxuXHRcdFx0XHQ8cCBjbGFzc05hbWU9J3RleHQtY2VudGVyIHRleHQtbWQtc3RhcnQgbWItMCBteC0xJz5cblx0XHRcdFx0XHR7dCgnYWNvbVJlZ2lzdGVyZWQnLCAnQWxyZWFkeSBoYXZlIGEge3tyZWdTaXRlTmFtZX19IG9yIEFuY2VzdHJ5wq4gYWNjb3VudD8nLCB7IHJlZ1NpdGVOYW1lIH0pfVxuXHRcdFx0XHRcdDxGM0J1dHRvbiBidG5UeXBlPSdsaW5rJyBjbGFzc05hbWU9J2FsaWduLWJhc2VsaW5lIHAtMCBtcy0xJyBvbkNsaWNrPXsoKSA9PiBmbGlwKHRydWUpfT5cblx0XHRcdFx0XHRcdHt0KCdzaWduSW4nLCAnU2lnbiBpbicpfVxuXHRcdFx0XHRcdDwvRjNCdXR0b24+XG5cdFx0XHRcdDwvcD5cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHQ8L2Rpdj47XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRyYW5zLCB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgdXNlRG9tYWluIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURvbWFpbic7XG5pbXBvcnQgeyB1c2VMb2NhbGl6ZWRDb250ZW50IH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUxvY2FsaXplZENvbnRlbnQnO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VVc2VyJztcbmltcG9ydCB7IGNhcGl0YWxpemVGaXJzdCB9IGZyb20gJy4uLy4uL2xpYi90ZW1wbGF0aW5nJztcbmltcG9ydCB7IEYzTGluayB9IGZyb20gJy4uL0YzTGluayc7XG5pbXBvcnQgeyBUaHVtYm5haWwgfSBmcm9tICcuLi9UaHVtYm5haWwnO1xuaW1wb3J0IHsgU3ViRGVueVByb3BzIH0gZnJvbSAnLi9EZW55JztcblxuXG5pbnRlcmZhY2UgRGVueVNpbG9Qcm9wcyBleHRlbmRzIFN1YkRlbnlQcm9wcyB7XG5cbn1cblxuZXhwb3J0IGNvbnN0IERlbnlTaWxvID0gKHsgaW5pdGlhbENvbHVtblNpemUsIHRodW1ibmFpbFNyYywgY29udGVudFR5cGUsIGlkIH06IERlbnlTaWxvUHJvcHMpID0+IHtcblx0Y29uc3QgeyBpbnN0aXR1dGlvbiB9ID0gdXNlVXNlcigpO1xuXHRjb25zdCB7IGxvY2FsaXplQ29udGVudFR5cGUgfSA9IHVzZUxvY2FsaXplZENvbnRlbnQoKTtcblxuXHRsZXQgY29udGVudFR5cGVMYWJlbCA9IGxvY2FsaXplQ29udGVudFR5cGUoY29udGVudFR5cGUsIHsgZGVtb25zdHJhdGl2ZTogJ3Byb3hpbWFsJyB9KTtcblx0Y29uc3QgeyBzaXRlTmFtZSwgcmVnU2l0ZU5hbWUgfSA9IHVzZURvbWFpbigpO1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdkZW55Jyk7XG5cdGNvbnN0IGluc3RpdHV0aW9uTmFtZSA9IGluc3RpdHV0aW9uLm5hbWU7XG5cblx0cmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdjb250YWluZXItZmx1aWQnPlxuXHRcdDxkaXYgY2xhc3NOYW1lPSdyb3cnPlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9e2Bjb2wtbWQtJHtpbml0aWFsQ29sdW1uU2l6ZX1gfT5cblx0XHRcdFx0PHAgY2xhc3NOYW1lPSdhbGVydCBhbGVydC13YXJuaW5nIGljb24tZjMgaWNvbi13YXJuaW5nJz5cblx0XHRcdFx0XHR7dCgnc2lsb0Rlbnkubm90QXZhaWxhYmxlJywgJ3t7Y29udGVudFR5cGVMYWJlbH19IGlzIG5vdCBhdmFpbGFibGUgdGhyb3VnaCB0aGlzIGluc3RpdHV0aW9uLicsIHsgY29udGVudFR5cGVMYWJlbDogY2FwaXRhbGl6ZUZpcnN0KGNvbnRlbnRUeXBlTGFiZWwpIH0pfSB7LyogVGhpcyBjb3VsZCBiZSBkdWUgdG8gYW4gZXhwaXJlZCBzdWJzY3JpcHRpb24uICovfVxuXHRcdFx0XHQ8L3A+XG5cdFx0XHRcdDxUcmFucyBpMThuS2V5PSdzaWxvRGVueS5hc2tJbmZvcm1hdGlvbicgdD17dH0+XG5cdFx0XHRcdFx0PHA+XG5cdFx0XHRcdFx0XHRQbGVhc2UgYXNrIDxiPnt7IGluc3RpdHV0aW9uTmFtZSB9fTwvYj4gZm9yIG1vcmUgaW5mb3JtYXRpb24gb3IgPEYzTGluayBjbGFzc05hbWU9J214LTEnIGhyZWY9Jy9jb250YWN0Jz5jb250YWN0IHt7IHNpdGVOYW1lIH19PC9GM0xpbms+IGZvciBhZGRpdGlvbmFsIHN1cHBvcnQuXG5cdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHQ8L1RyYW5zPlxuXG5cdFx0XHRcdDxwIGNsYXNzTmFtZT0ndGV4dC1jZW50ZXIgZGxnLWZvb3Rlcic+XG5cdFx0XHRcdFx0PFRyYW5zIGkxOG5LZXk9J3NpbG9EZW55LmFscmVhZHlTdWJzY3JpYmVkJyB0PXt0fT5cblx0XHRcdFx0XHRcdEFscmVhZHkgaGF2ZSBhIHt7IHJlZ1NpdGVOYW1lIH19IHN1YnNjcmlwdGlvbj8gPEYzTGluayBocmVmPScvbG9naW4nPlNpZ24gaW48L0YzTGluaz4gdG8gdmlldyB7eyBjb250ZW50VHlwZUxhYmVsIH19LlxuXHRcdFx0XHRcdDwvVHJhbnM+XG5cdFx0XHRcdDwvcD5cblx0XHRcdDwvZGl2PlxuXG5cdFx0XHR7XG5cdFx0XHRcdFsnSU1BR0UnLCAnU1VCX0lNQUdFJywgJ0ZJTEUnLCAnQkFUVExFJywgJ1JFR0lNRU5UJywgJ0NPTVBBTlknLCAnSU5ERVhfUkVDT1JEJ10uaW5jbHVkZXMoY29udGVudFR5cGUpICYmIHRodW1ibmFpbFNyYyAmJlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLW1kLTUnPlxuXHRcdFx0XHRcdDxmaWd1cmUgY2xhc3NOYW1lPSdwcmVtLWltZyBkb2MtaW1nJz5cblx0XHRcdFx0XHRcdDxzdHJvbmc+e3QoJ2RlbnkuUHJlbWl1bScsICdQcmVtaXVtIERvY3VtZW50Jyl9PC9zdHJvbmc+XG5cdFx0XHRcdFx0XHQ8VGh1bWJuYWlsXG5cdFx0XHRcdFx0XHRcdGNvbnRlbnRUeXBlPXtjb250ZW50VHlwZX1cblx0XHRcdFx0XHRcdFx0b2JqZWN0SWQ9e2lkfVxuXHRcdFx0XHRcdFx0XHRzaXplPXsyMDB9XG5cdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdH1cblxuXHRcdFx0e1xuXHRcdFx0XHRjb250ZW50VHlwZSA9PT0gJ1NUT1JZX1BBR0UnICYmIHRodW1ibmFpbFNyYyAmJlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLW1kLTUnPlxuXHRcdFx0XHRcdDxmaWd1cmUgY2xhc3NOYW1lPSdwcmVtLWltZyBkb2MtaW1nJz5cblx0XHRcdFx0XHRcdDxzdHJvbmc+e3QoJ2RlbnlQYWdlLk1lbW9yaWFsJywgJ01lbW9yaWFsJyl9PC9zdHJvbmc+XG5cdFx0XHRcdFx0XHQ8VGh1bWJuYWlsXG5cdFx0XHRcdFx0XHRcdGNvbnRlbnRUeXBlPXtjb250ZW50VHlwZX1cblx0XHRcdFx0XHRcdFx0b2JqZWN0SWQ9e2lkfVxuXHRcdFx0XHRcdFx0XHRzaXplPXsyMDB9XG5cdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHRcdDxzbWFsbD57dCgnZGVueVBhZ2UuYWRkQ3JlYXRlJywgJ0FkZCBwaG90b3MsIGNyZWF0ZSBzdG9yaWVzLCBhbmQgbW9yZS4nKX08L3NtYWxsPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdH1cblx0XHQ8L2Rpdj5cblx0PC9kaXY+O1xufTtcbiIsImltcG9ydCB7IEFjY291bnRBbmRDdXJyZW50U3Vic2NyaXB0aW9uRGV0YWlscywgQmlsbGluZ0luZm8sIENhbmNlbEFsbFJlc3VsdCwgQ3VycmVuY3ksIERvbWFpbiwgSW52b2ljZSwgTGlzdE9mZmVyc1JlcXVlc3QsIE9mZmVyLCBQcm92aWRlciwgU3Vic2NyaWJlUmVxdWVzdCwgU3Vic2NyaXB0aW9uLCBUZXN0Q2FyZCwgVmF0VGF4Q291bnRyeSB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IEYzUmVxdWVzdCB9IGZyb20gJy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBIRUFERVJTIH0gZnJvbSAnLi4vZW51bXMvaGVhZGVycy5lbnVtJztcbmltcG9ydCB7IGZpbHRlck9iamVjdCB9IGZyb20gJy4uL2xpYi9tYXBVdGlsJztcbmltcG9ydCB7IEJhY2tlbmRTZXJ2aWNlLCBGM0FwaSB9IGZyb20gJy4vRjNBcGknO1xuXG4vKiogW1NlZSBEb2N1bWVudGF0aW9uXShodHRwczovL2pmb2xkMy5pYXJjaGl2ZXMuY29tL2pvYi9mMy1jb21tZXJjZS9qYXZhZG9jL2NvbS9hbmNlc3RyeS9lYi9qb3NlcGh1cy9jb21tZXJjZS9zZXJ2aWNlL0NvbW1lcmNlVXNlclNlcnZpY2UuaHRtbCkgKi9cbmV4cG9ydCBjbGFzcyBDb21tZXJjZUFwaSBleHRlbmRzIEYzQXBpIHtcblx0c2VydmljZSA9IEJhY2tlbmRTZXJ2aWNlLkNPTU1FUkNFO1xuXHRiYXNlVXJsID0gJy9jb21tZXJjZS11c2VyJztcblxuXHRjb25zdHJ1Y3RvcihyZXE/OiBGM1JlcXVlc3QpIHtcblx0XHRzdXBlcihyZXEpO1xuXHR9XG5cblx0bGlzdERlZmF1bHRPZmZlcnMoKTogUHJvbWlzZTxPZmZlcltdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvb2ZmZXInLCB7XG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdPZmZlcicsXG5cdFx0fSk7XG5cdH1cblxuXHRnZXRBdXRvUmVuZXcoKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvYXV0by1yZW5ldycsIHsgcHJpbWl0aXZlOiB0cnVlIH0pO1xuXHR9XG5cblx0Y2FuY2VsRnJlZVRyaWFsKGNhbmNlbDogYm9vbGVhbiA9IHRydWUsIHNlbmRFbWFpbDogYm9vbGVhbiA9IHRydWUpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRyZXR1cm4gdGhpcy5kZWxldGUoJy9mcmVlLXRyaWFsJywge1xuXHRcdFx0cGFyYW1zOiB7IGNhbmNlbCwgZW1haWw6IHNlbmRFbWFpbCB9LFxuXHRcdH0pO1xuXHR9XG5cblx0Z2V0QWNjb3VudEFuZEN1cnJlbnRTdWJzY3JpcHRpb25EZXRhaWxzKCk6IFByb21pc2U8QWNjb3VudEFuZEN1cnJlbnRTdWJzY3JpcHRpb25EZXRhaWxzPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvYWNjb3VudC1zdWInKTtcblx0fVxuXG5cdGdldEludm9pY2UoaW52b2ljZUlkOiBudW1iZXIpOiBQcm9taXNlPEludm9pY2U+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9pbnZvaWNlLyR7aW52b2ljZUlkfWAsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0ludm9pY2UnLFxuXHRcdH0pO1xuXHR9XG5cblx0bGlzdE9mZmVycyhyZXF1ZXN0OiBMaXN0T2ZmZXJzUmVxdWVzdCwgcHJpY2luZzogYm9vbGVhbiA9IGZhbHNlKTogUHJvbWlzZTxPZmZlcltdPiB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdChgL29mZmVyYCwgcmVxdWVzdCwge1xuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnT2ZmZXInLFxuXHRcdFx0cGFyYW1zOiB7IHByaWNpbmcgfSxcblx0XHR9KTtcblx0fVxuXG5cdHN1YnNjcmliZShzdWJzY3JpYmVSZXF1ZXN0OiBTdWJzY3JpYmVSZXF1ZXN0LCBjYXB0Y2hhVG9rZW46IHN0cmluZyk6IFByb21pc2U8U3Vic2NyaXB0aW9uPiB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdChgL3N1YnNjcmlwdGlvbmAsIHN1YnNjcmliZVJlcXVlc3QsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ1N1YnNjcmlwdGlvbicsXG5cdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFtIRUFERVJTLkNBUFRDSEFfVE9LRU5dOiBjYXB0Y2hhVG9rZW4sXG5cdFx0XHR9LFxuXHRcdH0pO1xuXHR9XG5cblx0c2V0UHJvdmlkZXJGb3JOZXdUcmFuc2FjdGlvbnMocHJvdmlkZXI6IFByb3ZpZGVyKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIHRoaXMucHV0KGAvcHJvdmlkZXIvJHtwcm92aWRlcn1gLCBudWxsKTtcblx0fVxuXG5cdGdldFByb3ZpZGVyRm9yTmV3VHJhbnNhY3Rpb25zKCk6IFByb21pc2U8UHJvdmlkZXI+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9wcm92aWRlcmApO1xuXHR9XG5cblx0Y2FuY2VsQ3VycmVudFN1YnNjcmlwdGlvbihzdWJzY3JpcHRpb25JZDogbnVtYmVyLCBjYW5jZWxSZWFzb24/OiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4ge1xuXHRcdHJldHVybiB0aGlzLnBvc3QoYC9jYW5jZWwvJHtzdWJzY3JpcHRpb25JZH1gLCBudWxsLCB7XG5cdFx0XHRwYXJhbXM6IGZpbHRlck9iamVjdCh7XG5cdFx0XHRcdCdjYW5jZWwtcmVhc29uJzogY2FuY2VsUmVhc29uLFxuXHRcdFx0fSwgKF8sIHZhbCkgPT4gISF2YWwpLFxuXHRcdFx0cHJpbWl0aXZlOiB0cnVlLFxuXHRcdH0pO1xuXHR9XG5cblx0Z2V0QmlsbGluZ0luZm8oKTogUHJvbWlzZTxCaWxsaW5nSW5mbz4ge1xuXHRcdHJldHVybiB0aGlzLmdldCgnL2JpbGxpbmctaW5mbycsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0JpbGxpbmdJbmZvJyxcblx0XHR9KTtcblx0fVxuXG5cdGdldENhbmNlbGxhYmxlU3Vic2NyaXB0aW9uKCk6IFByb21pc2U8SW52b2ljZT4ge1xuXHRcdHJldHVybiB0aGlzLmdldCgnL2NhbmNlbCcsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0ludm9pY2UnLFxuXHRcdH0pO1xuXHR9XG5cblx0Z2V0RnJlZVRyaWFsU3RhdHVzKCkge1xuXG5cdH1cblxuXHRsaXN0SW52b2ljZXMoeyBpbmNsdWRlRnJlZVRyaWFsLCBpbmNsdWRlVHJhbnNhY3Rpb25zLCBpbmNsdWRlU3Vic2NyaXB0aW9ucywgc2luY2UgfTogeyBpbmNsdWRlRnJlZVRyaWFsPzogYm9vbGVhbiwgaW5jbHVkZVRyYW5zYWN0aW9ucz86IGJvb2xlYW4sIGluY2x1ZGVTdWJzY3JpcHRpb25zPzogYm9vbGVhbiwgc2luY2U/OiBzdHJpbmcgfSk6IFByb21pc2U8SW52b2ljZVtdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvaW52b2ljZScsIHtcblx0XHRcdHBhcmFtczoge1xuXHRcdFx0XHQnaW5jbHVkZS1mcmVlLXRyaWFsJzogaW5jbHVkZUZyZWVUcmlhbCxcblx0XHRcdFx0J2luY2x1ZGUtdHJhbnNhY3Rpb25zJzogaW5jbHVkZVRyYW5zYWN0aW9ucyxcblx0XHRcdFx0J2luY2x1ZGUtc3Vic2NyaXB0aW9ucyc6IGluY2x1ZGVTdWJzY3JpcHRpb25zLFxuXHRcdFx0XHRzaW5jZSxcblx0XHRcdH0sXG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdJbnZvaWNlJyxcblx0XHR9KTtcblx0fVxuXG5cdGxpc3RTdWJzY3JpcHRpb25zKHsgb3Blbiwgc2luY2UgfTogeyBvcGVuPzogYm9vbGVhbiwgc2luY2U/OiBzdHJpbmcgfSA9IHt9KTogUHJvbWlzZTxTdWJzY3JpcHRpb25bXT4ge1xuXHRcdHJldHVybiB0aGlzLmdldCgnL3N1YnNjcmlwdGlvbicsIHtcblx0XHRcdHBhcmFtczogZmlsdGVyT2JqZWN0KHsgb3Blbiwgc2luY2UgfSwgKGtleSwgdmFsKSA9PiB2YWwgIT09IHVuZGVmaW5lZCksXG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdTdWJzY3JpcHRpb24nLFxuXHRcdH0pO1xuXHR9XG5cblx0cmVtb3ZlQmlsbGluZ0luZm8oKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIHRoaXMuZGVsZXRlKCcvYmlsbGluZy1pbmZvJyk7XG5cdH1cblxuXHRzZXRBdXRvUmVuZXcoYXV0b1JlbmV3OiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIHRoaXMucHV0KCcvYXV0by1yZW5ldycsIG51bGwsIHtcblx0XHRcdHBhcmFtczoge1xuXHRcdFx0XHRmbGFnOiBhdXRvUmVuZXcsXG5cdFx0XHR9LFxuXHRcdH0pO1xuXHR9XG5cblx0c2V0QmlsbGluZ0luZm8oaW5mbzogQmlsbGluZ0luZm8sIGNhcHRjaGFUb2tlbjogc3RyaW5nLCB6aXBDaGVjaz86IGJvb2xlYW4pOiBQcm9taXNlPG51bGw+IHtcblx0XHRyZXR1cm4gdGhpcy5wdXQoJy9iaWxsaW5nLWluZm8nLCBpbmZvLCB7XG5cdFx0XHRwYXJhbXM6IHsgemlwOiB6aXBDaGVjayB9LFxuXHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRbSEVBREVSUy5DQVBUQ0hBX1RPS0VOXTogY2FwdGNoYVRva2VuLFxuXHRcdFx0fSxcblx0XHR9KTtcblx0fVxuXG5cdGxpc3RUZXN0Q2FyZHMoKTogUHJvbWlzZTxUZXN0Q2FyZFtdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvdGVzdC1jYXJkJyk7XG5cdH1cblxuXHRnZXRPZmZlckZyb21JbnZvaWNlKGludm9pY2VJZDogbnVtYmVyKTogUHJvbWlzZTxPZmZlcj4ge1xuXHRcdHJldHVybiB0aGlzLmdldChgL29mZmVyLyR7aW52b2ljZUlkfWAsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ09mZmVyJyxcblx0XHR9KTtcblx0fVxuXG5cdGdldFZhTWVtYmVyc2hpcE51bWJlcigpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdHJldHVybiB0aGlzLmdldCgnL3ZhJywgeyBwcmltaXRpdmU6IHRydWUgfSk7XG5cdH1cblxuXHRzZXRWYU1lbWJlcnNoaXBOdW1iZXIobnVtYmVyOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRyZXR1cm4gdGhpcy5wdXQoYC92YS8ke251bWJlcn1gKTtcblx0fVxuXG5cdGRlbGV0ZVZhTWVtYmVyc2hpcE51bWJlcigpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRyZXR1cm4gdGhpcy5kZWxldGUoJy92YScpO1xuXHR9XG5cblx0dGVzdEFjY291bnQoKTogUHJvbWlzZTxib29sZWFuPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvdGVzdCcsIHtcblx0XHRcdHByaW1pdGl2ZTogdHJ1ZSxcblx0XHR9KTtcblx0fVxuXG5cdC8qIElmIG5vIGRvbWFpbiBpcyBwcm92aWRlZCwgdGhlIGN1cnJlbmN5IHdpbGwgYmUgcmV0dXJuZWQgZm9yIHRoZSBjdXJyZW50IGRvbWFpbiAqL1xuXHRnZXRDdXJyZW5jeShkb21haW4/OiBEb21haW4pOiBQcm9taXNlPEN1cnJlbmN5PiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvY3VycmVuY3kke2RvbWFpbiA/IGAvJHtkb21haW59YCA6ICcnfWAsIHtcblx0XHRcdHByaW1pdGl2ZTogdHJ1ZSxcblx0XHR9KTtcblx0fVxuXG5cdGdldFRheENvdW50cmllcygpOiBQcm9taXNlPFZhdFRheENvdW50cnlbXT4ge1xuXHRcdHJldHVybiB0aGlzLmdldCgnL3RheC1jb3VudHJpZXMnLCB7XG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdWYXRUYXhDb3VudHJ5Jyxcblx0XHR9KTtcblx0fVxuXG5cdGNhbmNlbEFsbEZvckRvbWFpbkNoYW5nZSgpOiBQcm9taXNlPENhbmNlbEFsbFJlc3VsdD4ge1xuXHRcdHJldHVybiB0aGlzLmRlbGV0ZSgnL2NhbmNlbC1mb3ItZG9tYWluJyk7XG5cdH1cbn1cbiIsImltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyB1c2VEb21haW4gfSBmcm9tICcuL3VzZURvbWFpbic7XG5cbmV4cG9ydCBjb25zdCB1c2VMb2NhbGVDdXJyZW5jeSA9ICgpID0+IHtcblx0Y29uc3QgeyBpMThuIH0gPSB1c2VUcmFuc2xhdGlvbigpO1xuXHRjb25zdCB7IGN1cnJlbmN5IH0gPSB1c2VEb21haW4oKTtcblxuXHRyZXR1cm4gKGFtb3VudDogbnVtYmVyKSA9PiB7XG5cdFx0Y29uc3QgbnVtYmVyRm9ybWF0dGVyID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KGkxOG4ubGFuZ3VhZ2UsIHsgc3R5bGU6ICdjdXJyZW5jeScsICBjdXJyZW5jeSB9KTtcblxuXHRcdGNvbnN0IGN1cnJlbmN5U3ltYm9sID0gbnVtYmVyRm9ybWF0dGVyXG5cdFx0XHQuZm9ybWF0VG9QYXJ0cyhhbW91bnQpXG5cdFx0XHQuZmlsdGVyKHggPT4geC50eXBlID09PSAnY3VycmVuY3knKVswXVxuXHRcdFx0Py52YWx1ZTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRjdXJyZW5jeVN5bWJvbCxcblx0XHRcdGN1cnJlbmN5LFxuXHRcdFx0Y3VycmVuY3lTdHI6IG51bWJlckZvcm1hdHRlci5mb3JtYXQoYW1vdW50KSxcblx0XHRcdGN1cnJlbmN5TGFiZWw6IG5ldyBJbnRsLkRpc3BsYXlOYW1lcyhpMThuLmxhbmd1YWdlLCB7IHR5cGU6ICdjdXJyZW5jeScsIHN0eWxlOiAnbG9uZycgfSkub2YoY3VycmVuY3kpLFxuXHRcdH07XG5cdH07XG59O1xuIiwiaW1wb3J0IHsgQ29udGVudFByb3ZpZGVyLCBDcmVhdGVQdWJsaWNhdGlvbiwgRXZlbnRNZXRhZGF0YSwgRmFjZXQsIE1ldGFkYXRhLCBQdWJsaWNhdGlvbiwgUHVibGljYXRpb25DcmVhdGUsIFB1YmxpY2F0aW9uVXBkYXRlLCBQdWJsaWNhdGlvbldhcm5pbmcsIFB1YmxpY2F0aW9uX0FjY2Vzc0xldmVsLCBQdWJsaWNhdGlvbl9FeHRlcm5hbElkU3RyYXRlZ3ksIFNpbG8sIFVwZGF0ZVB1YmxpY2F0aW9uIH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgT2JqIH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IEJhY2tlbmRTZXJ2aWNlLCBGM0FwaSB9IGZyb20gJy4vRjNBcGknO1xuXG4vKiBodHRwczovL2pmb2xkMy5pYXJjaGl2ZXMuY29tL2pvYi9mMy1iYWNrZW5kL2phdmFkb2MvY29tL2FuY2VzdHJ5L2ViL2ZvbGQzMS9zZXJ2aWNlL1B1YmxpY2F0aW9uU2VydmljZS5odG1sICovXG5cbmludGVyZmFjZSBMaXN0UHVibGljYXRpb25zT3B0cyB7XG5cdHR5cGU/OiAnSU1BR0UnIHwgJ1NUT1JZX1BBR0UnIHwgJ1JFR0lNRU5UJyxcblx0dXBsb2Fkcz86IGJvb2xlYW5cblx0J25vdC1lbXB0eSc/OiBib29sZWFuXG5cdHByb3BlcnRpZXM/OiAoa2V5b2YgUHVibGljYXRpb24pW11cblx0J2luLXNpbG8nPzogYm9vbGVhblxufVxuXG5leHBvcnQgdHlwZSBDb21wYWN0UHVibGljYXRpb24gPSBQaWNrPFB1YmxpY2F0aW9uLCAnYWxsb3dEb3dubG9hZCcgfCAnYWxsb3dEb3dubG9hZERvYycgfCAnc2hvcnRUaXRsZScgfCAndGl0bGUnIHwgJ2hhc2hQYXRoJyB8ICdzaG9ydERlc2NyaXB0aW9uJyB8ICdwZXJjZW50Q29tcGxldGUnIHwgJ3B1YmxpY2F0aW9uSWQnIHwgJ3Byb3ZpZGVyJyB8ICdzbHVnJyB8ICdtZXRhZGF0YScgfCAnc2hvd1JvbGxOYW1lJyB8ICdmaWVsZENvbmZpZ05hbWUnIHwgJ2ZpbGUnIHwgJ3N1YkltYWdlJyB8ICdkb21haW4nIHwgJ21pZ3JhdGlvbk1vZGUnPlxuXG4vKiogW1NlZSBEb2N1bWVudGF0aW9uXShodHRwczovL2pmb2xkMy5pYXJjaGl2ZXMuY29tL2pvYi9mMy1iYWNrZW5kL2phdmFkb2MvY29tL2FuY2VzdHJ5L2ViL2ZvbGQzMS9zZXJ2aWNlL1B1YmxpY2F0aW9uU2VydmljZS5odG1sKSAqL1xuZXhwb3J0IGNsYXNzIFB1YmxpY2F0aW9uQXBpIGV4dGVuZHMgRjNBcGkge1xuXHRzZXJ2aWNlID0gQmFja2VuZFNlcnZpY2UuRk9MRDMxO1xuXHRiYXNlVXJsID0gJy9hcGkvcHVibGljYXRpb24nO1xuXG5cdGNvbnN0cnVjdG9yKHJlcT86IGFueSkge1xuXHRcdHN1cGVyKHJlcSk7XG5cdH1cblxuXHRsaXN0Q29udGVudFByb3ZpZGVycygpOiBQcm9taXNlPENvbnRlbnRQcm92aWRlcltdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvY3AnLCB7IGRlc2VyaWFsaXplVHlwZTogJ0NvbnRlbnRQcm92aWRlcicgfSk7XG5cdH1cblxuXHRnZXRSZWNvcmRDb3VudCgpOiBQcm9taXNlPEZhY2V0W10+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJy9yZWNvcmQtY291bnQnLCB7XG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdGYWNldCcsXG5cdFx0fSk7XG5cdH1cblxuXHRnZXRFZGl0YWJsZUZpZWxkcyhwdWJJZDogbnVtYmVyLCB1c2VyOiBib29sZWFuKTogUHJvbWlzZTxNZXRhZGF0YVtdPiB7XG5cdFx0Y29uc3QgcGFyYW1zOiBPYmogPSB7fTtcblx0XHRpZiAodXNlcikgcGFyYW1zLnVzZXIgPSB0cnVlO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvZWRpdGFibGUtZmllbGRzLyR7cHViSWR9YCwge1xuXHRcdFx0cGFyYW1zLFxuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnTWV0YWRhdGEnLFxuXHRcdH0pO1xuXHR9XG5cblx0Z2V0UHVibGljYXRpb24ocHViSWQ6IG51bWJlcik6IFByb21pc2U8UHVibGljYXRpb24+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9wdWIvJHtwdWJJZH1gLCB7XG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdQdWJsaWNhdGlvbicsXG5cdFx0fSk7XG5cdH1cblxuXHRsaXN0UHVibGljYXRpb25zPFQgPSBDb21wYWN0UHVibGljYXRpb24+KHBhcmFtczogTGlzdFB1YmxpY2F0aW9uc09wdHMgPSB7fSk6IFByb21pc2U8VFtdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcnLCB7XG5cdFx0XHRwYXJhbXMsXG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdQdWJsaWNhdGlvbicsXG5cdFx0fSk7XG5cdH1cblxuXHRsaXN0QWxsUHVibGljYXRpb25zPFQgPSBDb21wYWN0UHVibGljYXRpb24+KHBhcmFtczogTGlzdFB1YmxpY2F0aW9uc09wdHMgPSB7fSk6IFByb21pc2U8VFtdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvYWxsJywge1xuXHRcdFx0cGFyYW1zLFxuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnUHVibGljYXRpb24nLFxuXHRcdH0pO1xuXHR9XG5cblx0Z2V0QWNjZXNzTGV2ZWxzKHB1Yklkcz86IG51bWJlcltdKTogUHJvbWlzZTxPYmo8c3RyaW5nLCBQdWJsaWNhdGlvbl9BY2Nlc3NMZXZlbD4+IHtcblx0XHRsZXQgcGFyYW1zOiBPYmogPSB7fTtcblx0XHRpZiAocHViSWRzPy5sZW5ndGggPiAwKSBwYXJhbXMucHViID0gcHViSWRzO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvYWNjZXNzLWxldmVsJywgeyBwYXJhbXMgfSlcblx0XHRcdC50aGVuKChkYXRhOiBhbnkpID0+IGRhdGEudmFsdWUpO1xuXHR9XG5cblx0Z2V0UHVibGljYXRpb25FdmVudE1ldGFkYXRhKHB1YmxpY2F0aW9uSWQ6IG51bWJlcik6IFByb21pc2U8RXZlbnRNZXRhZGF0YT4ge1xuXHRcdHJldHVybiB0aGlzLmdldChgL2V2ZW50LyR7cHVibGljYXRpb25JZH1gLCB7XG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdFdmVudE1ldGFkYXRhJyxcblx0XHR9KTtcblx0fVxuXG5cdGxpc3RXYXJuaW5ncygpOiBQcm9taXNlPFB1YmxpY2F0aW9uV2FybmluZ1tdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvd2FybmluZ3MnLCB7XG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdQdWJsaWNhdGlvbldhcm5pbmcnLFxuXHRcdH0pO1xuXHR9XG5cblx0dXBkYXRlUHVibGljYXRpb24ocHVibGljYXRpb25JZDogbnVtYmVyLCB1cGRhdGVQdWJsaWNhdGlvbjogVXBkYXRlUHVibGljYXRpb24pOiBQcm9taXNlPFB1YmxpY2F0aW9uPiB7XG5cdFx0cmV0dXJuIHRoaXMucHV0KGAvcHViLWVkaXQvJHtwdWJsaWNhdGlvbklkfWAsIHVwZGF0ZVB1YmxpY2F0aW9uLCB7XG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdQdWJsaWNhdGlvbicsXG5cdFx0XHRzZXJpYWxpemVUeXBlOiAnVXBkYXRlUHVibGljYXRpb24nLFxuXHRcdH0pO1xuXHR9XG5cblx0Y3JlYXRlUHVibGljYXRpb24ocHVibGljYXRpb246IENyZWF0ZVB1YmxpY2F0aW9uKTogUHJvbWlzZTxQdWJsaWNhdGlvbj4ge1xuXHRcdHJldHVybiB0aGlzLnBvc3QoYC9wdWItZWRpdGAsIHB1YmxpY2F0aW9uLCB7XG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdQdWJsaWNhdGlvbicsXG5cdFx0fSk7XG5cdH1cblxuXHRwdWJsaWNhdGlvbkNyZWF0ZShwdWJsaWNhdGlvbjogUHVibGljYXRpb25DcmVhdGUpOiBQcm9taXNlPFB1YmxpY2F0aW9uPiB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdCgnL3B1YicsIHB1YmxpY2F0aW9uLCB7IGRlc2VyaWFsaXplVHlwZTogJ1B1YmxpY2F0aW9uJyB9KTtcblx0fVxuXG5cdHB1YmxpY2F0aW9uVXBkYXRlKHB1YmxpY2F0aW9uSWQ6IG51bWJlciwgcHVibGljYXRpb246IFB1YmxpY2F0aW9uVXBkYXRlKTogUHJvbWlzZTxQdWJsaWNhdGlvbj4ge1xuXHRcdHJldHVybiB0aGlzLnB1dChgL3B1Yi8ke3B1YmxpY2F0aW9uSWR9YCwgcHVibGljYXRpb24sIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ1B1YmxpY2F0aW9uJyxcblx0XHRcdHNlcmlhbGl6ZVR5cGU6ICdQdWJsaWNhdGlvblVwZGF0ZScsXG5cdFx0fSk7XG5cdH1cblxuXHRsaXN0U2lsb3MobmV3UHVibGljYXRpb246IGJvb2xlYW4gPSBmYWxzZSk6IFByb21pc2U8U2lsb1tdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvc2lsbycsIHtcblx0XHRcdHBhcmFtczoge1xuXHRcdFx0XHQnbmV3LXB1Yic6IG5ld1B1YmxpY2F0aW9uLFxuXHRcdFx0fSxcblx0XHR9KTtcblx0fVxuXG5cdGludmFsaWRhdGVNZXRyaWNzKHB1YmxpY2F0aW9uSWQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuXHRcdHJldHVybiB0aGlzLnBvc3QoYC9pbnZhbGlkYXRlLW1ldHJpY3MvJHtwdWJsaWNhdGlvbklkfWApO1xuXHR9XG5cblx0c2V0QWxsb3dJbXBvcnRzKHB1YmxpY2F0aW9uSWQ6IG51bWJlciwgdmFsdWU6IGJvb2xlYW4pOiBQcm9taXNlPFB1YmxpY2F0aW9uPiB7XG5cdFx0cmV0dXJuIHRoaXMucHV0KGAvYWxsb3ctaW1wb3J0cy8ke3B1YmxpY2F0aW9uSWR9YCwgbnVsbCwge1xuXHRcdFx0cGFyYW1zOiB7XG5cdFx0XHRcdGltcG9ydHM6IHZhbHVlLFxuXHRcdFx0fSxcblx0XHR9KTtcblx0fVxuXG5cdHNldEV4dGVybmFsSWRTdHJhdGVneShwdWJsaWNhdGlvbklkOiBudW1iZXIsIHN0cmF0ZWd5OiBQdWJsaWNhdGlvbl9FeHRlcm5hbElkU3RyYXRlZ3kpOiBQcm9taXNlPFB1YmxpY2F0aW9uPiB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdChgL2FsbG93LWltcG9ydHMvJHtwdWJsaWNhdGlvbklkfWAsIG51bGwsIHtcblx0XHRcdHBhcmFtczoge1xuXHRcdFx0XHRzdHJhdGVneSxcblx0XHRcdH0sXG5cdFx0fSk7XG5cdH1cbn1cbiIsImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUmVjb3JkQ291bnRzIH0gZnJvbSAnLi4vLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IHVzZUFzeW5jRWZmZWN0IH0gZnJvbSAnLi91c2VBc3luY0VmZmVjdCc7XG5pbXBvcnQgeyBQdWJsaWNhdGlvbkFwaSB9IGZyb20gJy4uLy4uL2FwaXMvcHVibGljYXRpb25BcGknO1xuaW1wb3J0IHsgQ29udGVudFR5cGUgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjb25zdCB1c2VSZWNvcmRDb3VudCA9ICgpID0+IHtcblx0Y29uc3QgW3JlY29yZENvdW50cywgc2V0UmVjb3JkQ291bnRzXSA9IHVzZVN0YXRlPFJlY29yZENvdW50cz4obnVsbCk7XG5cblx0dXNlQXN5bmNFZmZlY3QoYXN5bmMgKCkgPT4ge1xuXHRcdGxldCBmYWNldHMgPSBhd2FpdCBuZXcgUHVibGljYXRpb25BcGkoKS5nZXRSZWNvcmRDb3VudCgpO1xuXG5cdFx0Y29uc3QgcmVjb3JkQ291bnRzID0gZmFjZXRzLnJlZHVjZSgoZmluYWxPYmosIGZhY2V0KSA9PiB7XG5cdFx0XHRmaW5hbE9ialtmYWNldC52YWx1ZSBhcyBDb250ZW50VHlwZV0gPSBmYWNldC5jb3VudDtcblx0XHRcdHJldHVybiBmaW5hbE9iajtcblx0XHR9LCB7fSBhcyBSZWNvcmRDb3VudHMpO1xuXG5cdFx0c2V0UmVjb3JkQ291bnRzKHJlY29yZENvdW50cyk7XG5cdH0sIFtdKTtcblxuXHRyZXR1cm4gcmVjb3JkQ291bnRzO1xufTtcbiIsImltcG9ydCB7IER5bmFtaWNDb25maWcgfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgZ2V0UnVudGltZSB9IGZyb20gJy4vZ2V0UnVudGltZSc7XG5cbmV4cG9ydCBjb25zdCBnZXREeW5hbWljQ29uZmlnID0gKCk6IER5bmFtaWNDb25maWcgPT4ge1xuXHRzd2l0Y2ggKGdldFJ1bnRpbWUoKSkge1xuXHRcdGNhc2UgJ0JST1dTRVInOlxuXHRcdFx0cmV0dXJuICh3aW5kb3cgYXMgYW55KS5GMy5wYWdlLmR5bmFtaWNDb25maWc7XG5cdFx0Y2FzZSAnTk9ERSc6XG5cdFx0XHRjb25zdCBub2RlRHluYW1pY0NvbmZpZ0NhY2hlID0gcmVxdWlyZSgnLi4vLi4vc2VydmVyL2NhY2hlcy9ub2RlRHluYW1pY0NvbmZpZ0NhY2hlJykubm9kZUR5bmFtaWNDb25maWdDYWNoZTtcblx0XHRcdHJldHVybiBub2RlRHluYW1pY0NvbmZpZ0NhY2hlLmdldFN5bmMoKTtcblx0fVxufTtcbiIsImltcG9ydCB7IERvbWFpbiwgSW52b2ljZSwgT2ZmZXIsIFVzZXJGdWxsIH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgT2JqIH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IHNlcmlhbGl6ZURvbWFpbiB9IGZyb20gJy4vbG9jYWxpemF0aW9uL2RvbWFpbic7XG5pbXBvcnQgeyBpc0FubnVhbCwgaXNCdW5kbGUsIGlzRnJlZVRyaWFsLCBpc01vbnRobHkgfSBmcm9tICcuL3Nlc3Npb25IZWxwZXJzJztcbmltcG9ydCB7IGdldER5bmFtaWNDb25maWcgfSBmcm9tICcuL3NoYXJlZER5bmFtaWNDb25maWcnO1xuaW1wb3J0IHsgQWNjb3VudFR5cGUgfSBmcm9tICcuL3N1YnNjcmlwdGlvbkhlbHBlcnMnO1xuXG5leHBvcnQgdHlwZSBPZmZlcnNCeVR5cGUgPSBPYmo8QWNjb3VudFR5cGUsIE9mZmVyPlxuXG5leHBvcnQgY29uc3QgZ2V0T2ZmZXJzQnlBY2NvdW50VHlwZSA9IChvZmZlcnM6IE9mZmVyW10gPSBbXSkgPT4ge1xuXHRyZXR1cm4gb2ZmZXJzLnJlZHVjZSgoZmluYWxPYmosIG9mZmVyKSA9PiB7XG5cdFx0ZmluYWxPYmpbZ2V0T2ZmZXJUeXBlKG9mZmVyKV0gPSBvZmZlcjtcblx0XHRyZXR1cm4gZmluYWxPYmo7XG5cdH0sIHt9IGFzIE9mZmVyc0J5VHlwZSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0T2ZmZXJGb3JBY2NvdW50VHlwZSA9IChhY2N0VHlwZTogQWNjb3VudFR5cGUsIG9mZmVyczogT2ZmZXJbXSkgPT4ge1xuXHRyZXR1cm4gZ2V0T2ZmZXJzQnlBY2NvdW50VHlwZShvZmZlcnMpW2FjY3RUeXBlXTtcbn07XG5cbmNvbnN0IHVzZXJUb0FjY3RUeXBlID0gKHVzZXI6IFVzZXJGdWxsKTogQWNjb3VudFR5cGUgPT4ge1xuXHRpZiAoaXNBbm51YWwodXNlcikpIHJldHVybiAnYW5udWFsJztcblx0ZWxzZSBpZiAoaXNNb250aGx5KHVzZXIpKSByZXR1cm4gJ21vbnRobHknO1xuXHRlbHNlIGlmIChpc0ZyZWVUcmlhbCh1c2VyKSkgcmV0dXJuICdmcmVldHJpYWwnO1xuXHRlbHNlIHJldHVybiAncmVnaXN0ZXJlZCc7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0T2ZmZXJGb3JVc2VyID0gKHVzZXI6IFVzZXJGdWxsLCBvZmZlcnM6IE9mZmVyW10pID0+IHtcblx0bGV0IGFjY3RUeXBlOiBBY2NvdW50VHlwZSA9IHVzZXJUb0FjY3RUeXBlKHVzZXIpO1xuXG5cdC8qXG5cdCAqIElmIHRoZSB1c2VyIGlzIGFscmVhZHkgYSBmcmVlIHRyaWFsLCB0aGVyZSBpcyBubyB3YXkgZm9yIHRoZW0gdG8gZ2V0IGFub3RoZXIgb25lLlxuXHQgKiBUaGVpciByZW5ld2FsIG9mZmVyIHdpbGwgYmUgdGhlIGFubnVhbCBvZmZlci5cblx0ICovXG5cdGlmIChhY2N0VHlwZSA9PT0gJ2ZyZWV0cmlhbCcpIGFjY3RUeXBlID0gJ2FubnVhbCc7XG5cdHJldHVybiBnZXRPZmZlckZvckFjY291bnRUeXBlKGFjY3RUeXBlLCBvZmZlcnMpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE9mZmVyVHlwZSA9IChvZmZlcjogT2ZmZXIpOiBBY2NvdW50VHlwZSA9PiB7XG5cdGlmIChvZmZlci5mcmVlVHJpYWwpIHtcblx0XHRyZXR1cm4gJ2ZyZWV0cmlhbCc7XG5cdH0gZWxzZSBpZiAob2ZmZXIuZHVyYXRpb24gPT0gMTIpIHtcblx0XHRyZXR1cm4gJ2FubnVhbCc7XG5cdH0gZWxzZSBpZiAob2ZmZXIuZHVyYXRpb24gPT0gMSkge1xuXHRcdHJldHVybiAnbW9udGhseSc7XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRJbnZvaWNlT2ZmZXJUeXBlID0gKGludm9pY2U6IEludm9pY2UpOiBBY2NvdW50VHlwZSA9PiB7XG5cdGlmIChpbnZvaWNlLnN1YnNjcmlwdGlvbi5ldmVudCA9PT0gJ0ZSRUVfVFJJQUwnKSB7XG5cdFx0cmV0dXJuICdmcmVldHJpYWwnO1xuXHR9IGVsc2UgaWYgKGludm9pY2Uuc3Vic2NyaXB0aW9uLmR1cmF0aW9uID09ICdBTk5VQUwnKSB7XG5cdFx0cmV0dXJuICdhbm51YWwnO1xuXHR9IGVsc2UgaWYgKGludm9pY2Uuc3Vic2NyaXB0aW9uLmR1cmF0aW9uID09ICdNT05USExZJykge1xuXHRcdHJldHVybiAnbW9udGhseSc7XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCBpc0ZyZWVUcmlhbEVsaWdpYmxlID0gKHVzZXI6IFVzZXJGdWxsLCBvZmZlcnM6IE9mZmVyW10sIGRvbWFpbjogRG9tYWluKSA9PiB7XG5cdGlmICghc2hvdWxkU2hvd0ZyZWV0cmlhbChkb21haW4pKSByZXR1cm4gZmFsc2U7XG5cblx0aWYgKCF1c2VyKSByZXR1cm4gdHJ1ZTtcblx0aWYgKGlzRnJlZVRyaWFsKHVzZXIpKSByZXR1cm4gZmFsc2U7IC8vIGNoZWNraW5nIHVzZXIgYmVjYXVzZSBtaWdyYXRpb24gZnJvbSBvbGQgY29tbWVyY2UgdG8gbmV3IHRha2VzIGF3aGlsZSwgc28gYSBjdXJyZW50IEZUIHVzZXIgbWF5IHN0aWxsIGdldCBhbiBvZmZlci4gVGhpcyBjYW4gYmUgdGhyb3duIGF3YXkgb25jZSB3ZSBhcmUgYWxsIG5ldyBjb21tZXJjZSAxLzUvMjAyMlxuXHRyZXR1cm4gISFnZXRPZmZlckZvckFjY291bnRUeXBlKCdmcmVldHJpYWwnLCBvZmZlcnMpO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzTW9udGhseUVsaWdpYmxlID0gKHVzZXI6IFVzZXJGdWxsLCBvZmZlcnM6IE9mZmVyW10pID0+IHtcblx0aWYgKCF1c2VyKSByZXR1cm4gdHJ1ZTtcblxuXHQvKlxuXHQgKiBpZiAoaXNNb250aGx5KHVzZXIpKSByZXR1cm4gZmFsc2U7XG5cdCAqIGlmIChpc0FubnVhbCh1c2VyKSkgcmV0dXJuIGZhbHNlO1xuXHQgKiBpZiAoaXNCdW5kbGUodXNlcikpIHJldHVybiBmYWxzZTtcblx0ICovXG5cdHJldHVybiAhIWdldE9mZmVyRm9yQWNjb3VudFR5cGUoJ21vbnRobHknLCBvZmZlcnMpO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQW5udWFsRWxpZ2libGUgPSAodXNlcjogVXNlckZ1bGwsIG9mZmVyczogT2ZmZXJbXSkgPT4ge1xuXHRpZiAoIXVzZXIpIHJldHVybiB0cnVlO1xuXG5cdC8qXG5cdCAqIGlmIChpc0FubnVhbCh1c2VyKSkgcmV0dXJuIGZhbHNlO1xuXHQgKiBpZiAoaXNCdW5kbGUodXNlcikpIHJldHVybiBmYWxzZTtcblx0ICovXG5cdHJldHVybiAhIWdldE9mZmVyRm9yQWNjb3VudFR5cGUoJ2FubnVhbCcsIG9mZmVycyk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNSZWdpc3RlcmVkRWxpZ2libGUgPSAodXNlcjogVXNlckZ1bGwpID0+IHtcblx0cmV0dXJuICF1c2VyO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQnVuZGxlRWxpZ2libGUgPSAodXNlcjogVXNlckZ1bGwpID0+IHtcblx0cmV0dXJuICFpc0J1bmRsZSh1c2VyKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRPZmZlckxhYmVsID0gKG9mZmVyOiBPZmZlcikgPT4ge1xuXHRsZXQgYWNjdFR5cGUgPSBnZXRPZmZlclR5cGUob2ZmZXIpO1xuXG5cdHN3aXRjaCAoYWNjdFR5cGUpIHtcblx0XHRjYXNlICdhbm51YWwnOiByZXR1cm4gJ0FubnVhbCBNZW1iZXJzaGlwJztcblx0XHRjYXNlICdtb250aGx5JzogcmV0dXJuICdNb250aGx5IE1lbWJlcnNoaXAnO1xuXHRcdGNhc2UgJ2ZyZWV0cmlhbCc6IHJldHVybiBgJHtvZmZlci5kdXJhdGlvbn0tZGF5IEZyZWUgVHJpYWxgO1xuXHR9XG59O1xuXG5leHBvcnQgY29uc3Qgc2hvdWxkU2hvd0ZyZWV0cmlhbCA9IChkb21haW46IERvbWFpbikgPT4ge1xuXHRyZXR1cm4gZ2V0RHluYW1pY0NvbmZpZygpPy5zaG93RnJlZXRyaWFsW3NlcmlhbGl6ZURvbWFpbihkb21haW4pXSAhPT0gZmFsc2U7XG59O1xuIiwiaW1wb3J0IHsgQ29va2llT3B0aW9ucyB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgRjNSZXF1ZXN0LCBGM1Jlc3BvbnNlIH0gZnJvbSAnLi4vLi4vc2hhcmVkL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBDT09LSUVTLCBpc05lY2Vzc2FyeUNvb2tpZSB9IGZyb20gJy4uLy4uL3NoYXJlZC9lbnVtcy9jb29raWVzLmVudW0nO1xuaW1wb3J0IHsgZ2V0VXJsLCBnZXRVcmxQYXJ0cyB9IGZyb20gJy4uLy4uL3NoYXJlZC9saWIvZ2V0VXJsJztcbmltcG9ydCB7IG1hcE9iamVjdFRvQXJyYXkgfSBmcm9tICcuLi8uLi9zaGFyZWQvbGliL21hcFV0aWwnO1xuXG4vKipcbiAqIFNldCBhIGNvb2tpZSBoZWFkZXIsIGFzIHdlbGwgaGFzIG1vZGlmeSB0aGUgcmVxdWVzdCdzXG4gKiBjb29raWUgb2JqZWN0IHNvIHRoYXQgY2FsbHMgdG8gdGhlIGJhY2tlbmQgd2lsbCBpbmNsdWRlXG4gKiB0aGUgbmV3IGNvb2tpZSB2YWx1ZVxuICovXG5jb25zdCBkZWZhdWx0T3B0aW9uczogQ29va2llT3B0aW9ucyA9IE9iamVjdC5mcmVlemUoe1xuXHRzYW1lU2l0ZTogJ2xheCcsXG5cdHNlY3VyZTogdHJ1ZSxcblx0cGF0aDogJy8nLFxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRJbW1lZGlhdGVDb29raWUocmVxOiBGM1JlcXVlc3QsIG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgb3B0aW9ucz86IENvb2tpZU9wdGlvbnMpIHtcblx0aWYgKGFsbG93ZWRUb1NldENvb2tpZShuYW1lLCByZXEpKSB7XG5cdFx0aWYgKCFyZXEucmVzLmhlYWRlcnNTZW50KSB7XG5cdFx0XHRsZXQgb3B0cyA9IHByb2Nlc3NDb29raWVPcHRpb25zKHJlcSwgb3B0aW9ucyk7XG5cdFx0XHRyZXEucmVzLmNvb2tpZShuYW1lLCB2YWx1ZSwgb3B0cyk7XG5cblx0XHRcdC8vIGZvciBwYXNzaW5nIGFsb25nIHRvIGJhY2tlbmQgZHVyaW5nIHRoaXMgcmVxdWVzdFxuXHRcdFx0cmVxLmNvb2tpZXNbbmFtZV0gPSB2YWx1ZTtcblx0XHRcdHJld3JpdGVDb29raWVIZWFkZXIocmVxKTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlQ29va2llKHJlcTogRjNSZXF1ZXN0LCBuYW1lOiBzdHJpbmcsIG9wdGlvbnM/OiBDb29raWVPcHRpb25zKSB7XG5cdGlmICghcmVxLnJlcy5oZWFkZXJzU2VudCkge1xuXHRcdGxldCBvcHRzID0gcHJvY2Vzc0Nvb2tpZU9wdGlvbnMocmVxLCBvcHRpb25zKTtcblx0XHRyZXEucmVzLmNsZWFyQ29va2llKG5hbWUsIG9wdHMpO1xuXHRcdGRlbGV0ZSByZXEuY29va2llc1tuYW1lXTtcblx0XHRyZXdyaXRlQ29va2llSGVhZGVyKHJlcSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmV3cml0ZUNvb2tpZUhlYWRlcihyZXE6IEYzUmVxdWVzdCkge1xuXHRyZXEuaGVhZGVycy5jb29raWUgPSBtYXBPYmplY3RUb0FycmF5KHJlcS5jb29raWVzLCAoa2V5OiBzdHJpbmcsIHZhbDogc3RyaW5nKSA9PlxuXHRcdGtleSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpKS5qb2luKCc7ICcpO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzQ29va2llT3B0aW9ucyhyZXE6IEYzUmVxdWVzdCwgb3B0aW9uczogQ29va2llT3B0aW9ucyA9IHt9KTogQ29va2llT3B0aW9ucyB7XG5cdHJldHVybiB7XG5cdFx0Li4uZGVmYXVsdE9wdGlvbnMsXG5cdFx0ZG9tYWluOiBnZXRDb29raWVEb21haW4ocmVxKSxcblx0XHQuLi5vcHRpb25zLFxuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0UmVzcG9uc2VDb29raWUobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCByZXM6IEYzUmVzcG9uc2UsIHJlcTogRjNSZXF1ZXN0LCBvcHRzPzogQ29va2llT3B0aW9ucykge1xuXHRyZXMuY29va2llKG5hbWUsIHZhbHVlLCBwcm9jZXNzQ29va2llT3B0aW9ucyhyZXEsIG9wdHMpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvb2tpZShuYW1lOiBzdHJpbmcsIHJlcTogRjNSZXF1ZXN0KTogc3RyaW5nIHtcblx0aWYgKG5hbWUgaW4gcmVxLmNvb2tpZXMpIHtcblx0XHRyZXR1cm4gcmVxLmNvb2tpZXNbbmFtZV07XG5cdH1cblx0cmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IGFsbG93ZWRUb1NldENvb2tpZSA9IChuYW1lOiBzdHJpbmcsIHJlcTogRjNSZXF1ZXN0KSA9PiB7XG5cdGlmIChpc05lY2Vzc2FyeUNvb2tpZShuYW1lKSkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBzZXR0aW5ncyA9IEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGdldENvb2tpZShDT09LSUVTLkNPTlNFTlRfU0VUVElOR1MsIHJlcSkpKTtcblx0XHRpZiAoc2V0dGluZ3MuZ2Rwci5hcHBsaWVzKSB7XG5cdFx0XHRyZXR1cm4gc2V0dGluZ3MuZ2Rwci5jb25zZW50ZWRWZW5kb3JzPy5pbmNsdWRlcygnQW5jZXN0cnknKTsgLy8gRm9yIG5vdywgd2UgYXJlIG9ubHkgaW50ZXJlc3RlZCBpbiBBbmNlc3RyeS4gQWRkIG1vcmUgdmVuZG9ycyBhcyBuZWVkZWQuXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fSBjYXRjaChlKSB7XG5cdFx0aWYgKHJlcS5nZHByQXBwbGllcykge1xuXHRcdFx0cmV0dXJuIGZhbHNlOyAvLyBzb21ldGhpbmcgd2VudCB3cm9uZy4gRXJyIG9uIHRoZSBzaWRlIG9mIGNhdXRpb24gaW4gRUVBQ291bnRyaWVzXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiB0cnVlOyAvLyBnZHByIGRvZXNuJ3QgYXBwbHkuIEFsbG93IGFsbCBjb29raWVzXG5cdFx0fVxuXHR9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q29va2llRG9tYWluID0gKHJlcTogRjNSZXF1ZXN0KSA9PiB7XG5cdGNvbnN0IHVybCA9IGdldFVybChyZXEpO1xuXHRjb25zdCB7IGhvc3QsIHN1YmRvbWFpbiwgcG9ydCB9ID0gZ2V0VXJsUGFydHModXJsLnRvU3RyaW5nKCkpO1xuXHRjb25zdCBjb29raWVEb21haW4gPSBob3N0XG5cdFx0LnJlcGxhY2UoYCR7c3ViZG9tYWlufS5gLCAnJylcblx0XHQucmVwbGFjZShgOiR7cG9ydH1gLCAnJyk7XG5cblx0cmV0dXJuIGAuJHtjb29raWVEb21haW59YDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb29raWVEb21haW5XaXRoU3ViZG9tYWluID0gKHJlcTogRjNSZXF1ZXN0KSA9PiB7XG5cdGNvbnN0IHVybCA9IGdldFVybChyZXEpO1xuXHRjb25zdCB7IGhvc3QsIHBvcnQgfSA9IGdldFVybFBhcnRzKHVybC50b1N0cmluZygpKTtcblx0Y29uc3QgY29va2llRG9tYWluID0gaG9zdC5yZXBsYWNlKGA6JHtwb3J0fWAsICcnKTtcblxuXHRyZXR1cm4gY29va2llRG9tYWluO1xufTtcbiIsImltcG9ydCB7IHNldEltbWVkaWF0ZUNvb2tpZSB9IGZyb20gJy4uLy4uL3NlcnZlci9saWIvY29va2llJztcbmltcG9ydCB7IENvbW1lcmNlVHJhY2tpbmdJbmZvIH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgRjNSZXF1ZXN0IH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IENPT0tJRVMgfSBmcm9tICcuLi9lbnVtcy9jb29raWVzLmVudW0nO1xuaW1wb3J0IHsgZ2V0Q29va2llIH0gZnJvbSAnLi9jbGllbnRDb29raWVzJztcbmltcG9ydCB7IGlzQnJvd3NlclJ1bnRpbWUgfSBmcm9tICcuL2dldFJ1bnRpbWUnO1xuaW1wb3J0IHsgZmlsdGVyT2JqZWN0IH0gZnJvbSAnLi9tYXBVdGlsJztcbmltcG9ydCB7IHBhcnNlUXVlcnlTdHJpbmcgfSBmcm9tICcuL3F1ZXJ5VXRpbCc7XG5pbXBvcnQgeyBnZXRUaW1lSW5NcyB9IGZyb20gJy4vdGltZSc7XG5cbmNvbnN0IElJRF9RVUVSWV9OQU1FID0gJ2lpZCc7XG5jb25zdCBYSURfUVVFUllfTkFNRSA9ICd4aWQnO1xuY29uc3QgT0lEX1FVRVJZX05BTUUgPSAnb2lkJztcbmNvbnN0IEdDTElEX1FVRVJZX05BTUUgPSAnZ2NsaWQnO1xuXG52YXIgVFdPX1dFRUtTID0gZ2V0VGltZUluTXMoMiwgJ3drJyk7XG5cbmNvbnN0IGNyZWF0ZVNvdXJjZUlkQ29va2llR2V0Rm4gPSAoY29va2llTmFtZTogc3RyaW5nKSA9PiB7XG5cdHJldHVybiAocmVxOiBGM1JlcXVlc3QpID0+IHtcblx0XHRpZiAoaXNCcm93c2VyUnVudGltZSgpKSB7XG5cdFx0XHRyZXR1cm4gZ2V0Q29va2llKGNvb2tpZU5hbWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gcmVxLmNvb2tpZXNbY29va2llTmFtZV07XG5cdFx0fVxuXHR9O1xufTtcblxuY29uc3QgY3JlYXRlU291cmNlSWRTZXRGbiA9IChjb29raWVOYW1lOiBzdHJpbmcsIG1heEFnZTogbnVtYmVyID0gVFdPX1dFRUtTKSA9PiB7XG5cdHJldHVybiAocmVxOiBGM1JlcXVlc3QsIHZhbHVlOiBzdHJpbmcpID0+IHtcblx0XHRpZiAoIXZhbHVlKSByZXR1cm47XG5cdFx0c2V0SW1tZWRpYXRlQ29va2llKHJlcSwgY29va2llTmFtZSwgdmFsdWUucmVwbGFjZSgnOycsICclM0InKSwgeyBtYXhBZ2UgfSk7XG5cdH07XG59O1xuXG5jb25zdCBjcmVhdGVTb3VyY2VJZFF1ZXJ5R2V0Rm4gPSAocXVlcnlOYW1lOiBzdHJpbmcpID0+IHtcblx0cmV0dXJuIChyZXE/OiBGM1JlcXVlc3QpID0+IHtcblx0XHRpZiAoaXNCcm93c2VyUnVudGltZSgpKSB7XG5cdFx0XHRsZXQgcXVlcnlPYmogPSBwYXJzZVF1ZXJ5U3RyaW5nKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuXHRcdFx0cmV0dXJuIHF1ZXJ5T2JqW3F1ZXJ5TmFtZV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiByZXEucXVlcnlbcXVlcnlOYW1lXTtcblx0XHR9XG5cdH07XG59O1xuXG5jb25zdCBnZXRDSkZyb21Db29raWUgPSBjcmVhdGVTb3VyY2VJZENvb2tpZUdldEZuKENPT0tJRVMuQ09NTUlTU0lPTl9KVU5DVElPTik7XG5jb25zdCBnZXRMU0Zyb21Db29raWUgPSBjcmVhdGVTb3VyY2VJZENvb2tpZUdldEZuKENPT0tJRVMuTElOS19TSEFSRSk7XG5jb25zdCBnZXRJaWRGcm9tQ29va2llID0gY3JlYXRlU291cmNlSWRDb29raWVHZXRGbihDT09LSUVTLklJRCk7XG5jb25zdCBnZXRYaWRGcm9tQ29va2llID0gY3JlYXRlU291cmNlSWRDb29raWVHZXRGbihDT09LSUVTLlhJRCk7XG4vLyBjb25zdCBnZXRPaWRGcm9tQ29va2llID0gY3JlYXRlU291cmNlSWRDb29raWVHZXRGbihDT09LSUVTLk9JRCk7XG5jb25zdCBnZXRHY2xpZEZyb21Db29raWUgPSBjcmVhdGVTb3VyY2VJZENvb2tpZUdldEZuKENPT0tJRVMuR0NMSUQpO1xuY29uc3QgZ2V0QXR0clB1YkZyb21Db29raWUgPSBjcmVhdGVTb3VyY2VJZENvb2tpZUdldEZuKENPT0tJRVMuREVOWV9QVUIpO1xuXG5leHBvcnQgY29uc3Qgc2V0SWlkQ29va2llID0gY3JlYXRlU291cmNlSWRTZXRGbihDT09LSUVTLklJRCk7XG5leHBvcnQgY29uc3Qgc2V0WGlkQ29va2llID0gY3JlYXRlU291cmNlSWRTZXRGbihDT09LSUVTLlhJRCk7XG5leHBvcnQgY29uc3Qgc2V0T2lkQ29va2llID0gY3JlYXRlU291cmNlSWRTZXRGbihDT09LSUVTLk9JRCk7XG5leHBvcnQgY29uc3Qgc2V0R2NsaWRDb29raWUgPSBjcmVhdGVTb3VyY2VJZFNldEZuKENPT0tJRVMuR0NMSUQsIGdldFRpbWVJbk1zKDMwLCAnZGF5JykpO1xuXG5leHBvcnQgY29uc3QgZ2V0SWlkRnJvbVF1ZXJ5ID0gY3JlYXRlU291cmNlSWRRdWVyeUdldEZuKElJRF9RVUVSWV9OQU1FKTtcbmV4cG9ydCBjb25zdCBnZXRYaWRGcm9tUXVlcnkgPSBjcmVhdGVTb3VyY2VJZFF1ZXJ5R2V0Rm4oWElEX1FVRVJZX05BTUUpO1xuZXhwb3J0IGNvbnN0IGdldE9pZEZyb21RdWVyeSA9IGNyZWF0ZVNvdXJjZUlkUXVlcnlHZXRGbihPSURfUVVFUllfTkFNRSk7XG5leHBvcnQgY29uc3QgZ2V0R2NsaWRGcm9tUXVlcnkgPSBjcmVhdGVTb3VyY2VJZFF1ZXJ5R2V0Rm4oR0NMSURfUVVFUllfTkFNRSk7XG5cbmNvbnN0IGdldElpZCA9IChyZXE/OiBGM1JlcXVlc3QpID0+IGdldElpZEZyb21RdWVyeShyZXEpIHx8IGdldElpZEZyb21Db29raWUocmVxKTtcbmNvbnN0IGdldFhpZCA9IChyZXE/OiBGM1JlcXVlc3QpID0+IGdldFhpZEZyb21RdWVyeShyZXEpIHx8IGdldFhpZEZyb21Db29raWUocmVxKTtcbi8vIGNvbnN0IGdldE9pZCA9IChyZXE/OiBGM1JlcXVlc3QpID0+IGdldE9pZEZyb21RdWVyeShyZXEpIHx8IGdldE9pZEZyb21Db29raWUocmVxKTtcbmV4cG9ydCBjb25zdCBnZXRHY2xpZCA9IChyZXE/OiBGM1JlcXVlc3QpID0+IGdldEdjbGlkRnJvbVF1ZXJ5KHJlcSkgfHwgZ2V0R2NsaWRGcm9tQ29va2llKHJlcSk7XG5cbmV4cG9ydCBjb25zdCBnZXRDb21tZXJjZVRyYWNraW5nSW5mbyA9IChyZXE/OiBGM1JlcXVlc3QpOiBDb21tZXJjZVRyYWNraW5nSW5mbyA9PiB7XG5cdGxldCB0cmFja2luZ0luZm86IENvbW1lcmNlVHJhY2tpbmdJbmZvID0ge1xuXHRcdGlpZDogZ2V0SWlkKHJlcSksXG5cdFx0eGlkOiBnZXRYaWQocmVxKSxcblx0XHRnY2xpZDogZ2V0R2NsaWQocmVxKSxcblx0XHRhdHRyaWJ1dGlvblB1YmxpY2F0aW9uOiBnZXRBdHRyUHViRnJvbUNvb2tpZShyZXEpLFxuXHRcdGFpZDogZ2V0Q0pGcm9tQ29va2llKHJlcSkgfHwgZ2V0TFNGcm9tQ29va2llKHJlcSksXG5cdH07XG5cblx0cmV0dXJuIGZpbHRlck9iamVjdCh0cmFja2luZ0luZm8sIChrZXksIHZhbCkgPT4gdmFsICE9PSB1bmRlZmluZWQpO1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVHJhbnMsIHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBDb21tZXJjZUFwaSB9IGZyb20gJy4uLy4uL2FwaXMvY29tbWVyY2VBcGknO1xuaW1wb3J0IHsgT2ZmZXIgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBDT09LSUVTIH0gZnJvbSAnLi4vLi4vZW51bXMvY29va2llcy5lbnVtJztcbmltcG9ydCB7IHNldENvb2tpZSB9IGZyb20gJy4uLy4uL2xpYi9jbGllbnRDb29raWVzJztcbmltcG9ydCB7IHVzZUFzeW5jRWZmZWN0IH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUFzeW5jRWZmZWN0JztcbmltcG9ydCB7IHVzZURvbWFpbiB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VEb21haW4nO1xuaW1wb3J0IHsgdXNlTG9jYWxlQ3VycmVuY3kgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlTG9jYWxlQ3VycmVuY3knO1xuaW1wb3J0IHsgdXNlTG9jYWxpemVkQ29udGVudCB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VMb2NhbGl6ZWRDb250ZW50JztcbmltcG9ydCB7IHVzZVJlY29yZENvdW50IH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZVJlY29yZENvdW50JztcbmltcG9ydCB7IHVzZVVzZXIgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlVXNlcic7XG5pbXBvcnQgeyBnZXRPZmZlckZvckFjY291bnRUeXBlLCBzaG91bGRTaG93RnJlZXRyaWFsIH0gZnJvbSAnLi4vLi4vbGliL29mZmVycyc7XG5pbXBvcnQgeyBnZXRDb21tZXJjZVRyYWNraW5nSW5mbyB9IGZyb20gJy4uLy4uL2xpYi9zb3VyY2VJZHMnO1xuaW1wb3J0IHsgZ2V0VGltZUluU2Vjb25kcyB9IGZyb20gJy4uLy4uL2xpYi90aW1lJztcbmltcG9ydCB7IEYzQnV0dG9uIH0gZnJvbSAnLi4vRjNCdXR0b24nO1xuaW1wb3J0IHsgRjNMaW5rIH0gZnJvbSAnLi4vRjNMaW5rJztcbmltcG9ydCB7IGFiYnJldmlhdGVOdW1iZXIgfSBmcm9tICcuLi9OdW1iZXJBYmJyZXYnO1xuaW1wb3J0IHsgVGh1bWJuYWlsIH0gZnJvbSAnLi4vVGh1bWJuYWlsJztcbmltcG9ydCB7IFN1YkRlbnlQcm9wcyB9IGZyb20gJy4vRGVueSc7XG5cblxuaW50ZXJmYWNlIERlbnlTdWJzY3JpYmVQcm9wcyBleHRlbmRzIFN1YkRlbnlQcm9wcyB7fVxuXG5leHBvcnQgY29uc3QgRGVueVN1YnNjcmliZSA9ICh7IGluaXRpYWxDb2x1bW5TaXplLCB0aHVtYm5haWxTcmMsIGFjdGlvbiwgZmxpcCwgY29udGVudFR5cGUsIGlkLCBwdWJsaWNhdGlvbklkIH06IERlbnlTdWJzY3JpYmVQcm9wcykgPT4ge1xuXHRjb25zdCB7IGlzU2lnbmVkSW4gfSA9IHVzZVVzZXIoKTtcblx0Y29uc3QgW25leHRMb2NhdGlvbiwgc2V0TmV4dExvY2F0aW9uXSA9IHVzZVN0YXRlKCcnKTtcblx0Y29uc3QgeyBzaXRlTmFtZSwgcmVnU2l0ZU5hbWUsIGYzRG9tYWluIH0gPSB1c2VEb21haW4oKTtcblx0Y29uc3QgcmVjb3JkQ291bnRzID0gdXNlUmVjb3JkQ291bnQoKTtcblx0Y29uc3QgW21vbnRobHlPZmZlciwgc2V0TW9udGhseU9mZmVyXSA9IHVzZVN0YXRlPE9mZmVyPihudWxsKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignZGVueScpO1xuXHRjb25zdCB7IGxvY2FsaXplQ29udGVudFR5cGUgfSA9IHVzZUxvY2FsaXplZENvbnRlbnQoKTtcblx0Y29uc3QgZ2V0TG9jYWxlQ3VycmVuY3kgPSB1c2VMb2NhbGVDdXJyZW5jeSgpO1xuXG5cdGNvbnN0IHNob3dGcmVlVHJpYWwgPSBzaG91bGRTaG93RnJlZXRyaWFsKGYzRG9tYWluKTtcblxuXHRjb25zdCBjb250ZW50VHlwZVRpdGxlID0gbG9jYWxpemVDb250ZW50VHlwZShjb250ZW50VHlwZSwgeyBkZW1vbnN0cmF0aXZlOiAncHJveGltYWwnIH0pO1xuXHRjb25zdCBtb250aGx5T2ZmZXJBbXQgPSBtb250aGx5T2ZmZXIgPyBnZXRMb2NhbGVDdXJyZW5jeShtb250aGx5T2ZmZXIuYW1vdW50KS5jdXJyZW5jeVN0ciA6IG51bGw7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRpZiAocHVibGljYXRpb25JZCkge1xuXHRcdFx0c2V0Q29va2llKENPT0tJRVMuREVOWV9QVUIsIHB1YmxpY2F0aW9uSWQsIHtcblx0XHRcdFx0ZXhwaXJlczogZ2V0VGltZUluU2Vjb25kcygxLCAnbW8nKSxcblx0XHRcdH0pO1xuXHRcdH1cblx0fSwgW10pO1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0c2V0TmV4dExvY2F0aW9uKGAke3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZX0ke3dpbmRvdy5sb2NhdGlvbi5zZWFyY2h9YCk7XG5cdH0sIFtdKTtcblxuXHR1c2VBc3luY0VmZmVjdChhc3luYyAoKSA9PiB7XG5cdFx0aWYgKCFzaG93RnJlZVRyaWFsKSB7XG5cdFx0XHRjb25zdCBvZmZlcnMgPSBhd2FpdCBuZXcgQ29tbWVyY2VBcGkoKS5saXN0T2ZmZXJzKHtcblx0XHRcdFx0dHJhY2tpbmdJbmZvOiBnZXRDb21tZXJjZVRyYWNraW5nSW5mbygpLFxuXHRcdFx0fSwgdHJ1ZSk7XG5cblx0XHRcdGNvbnN0IG1vbnRobHlPZmZlciA9IGdldE9mZmVyRm9yQWNjb3VudFR5cGUoJ21vbnRobHknLCBvZmZlcnMpO1xuXHRcdFx0aWYgKG1vbnRobHlPZmZlcikge1xuXHRcdFx0XHRzZXRNb250aGx5T2ZmZXIobW9udGhseU9mZmVyKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIFtdKTtcblxuXHRjb25zdCByZWNvcmRDb3VudCA9IGFiYnJldmlhdGVOdW1iZXIocmVjb3JkQ291bnRzPy5UT1RBTCk7XG5cblx0cmV0dXJuIDw+XG5cdFx0PGRpdiBjbGFzc05hbWU9J3Jvdyc+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT17YGNvbC1tZC0ke2luaXRpYWxDb2x1bW5TaXplfWB9PlxuXHRcdFx0XHQ8dWwgY2xhc3NOYW1lPSdsaXN0LXVuc3R5bGVkJz5cblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRhY3Rpb24gPT09ICdTRUFSQ0gnID9cblx0XHRcdFx0XHRcdFx0PD5cblx0XHRcdFx0XHRcdFx0XHQ8bGk+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J3RleHQtcHJpbWFyeSBpY29uLWYzIGljb24tbWVtLWFycm93JyAvPiB7dCgnZmlsdGVyQnlNb3JlJywgJ0ZpbHRlciBieSBtaWxpdGFyeSByYW5rLCBicmFuY2gsIGNhc3VhbHR5IHR5cGUsIGFuZCBtb3JlJyl9XG5cdFx0XHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHRcdFx0XHQ8bGk+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J3RleHQtcHJpbWFyeSBpY29uLWYzIGljb24tbWVtLWFycm93JyAvPiB7dCgnc2VlQWxsRGF0YScsICdTZWUgYWxsIGRhdGEgYXZhaWxhYmxlIGZvciBldmVyeSBwcmVtaXVtIHJlY29yZCcpfVxuXHRcdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHRcdDwvPiA6XG5cdFx0XHRcdFx0XHRcdDxsaT5cblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J3RleHQtcHJpbWFyeSBpY29uLWYzIGljb24tbWVtLWFycm93JyAvPlxuXHRcdFx0XHRcdFx0XHRcdDxUcmFucyBpMThuS2V5PSdnZXRBY2Nlc3NDb250ZW50JyB0PXt0fT5cblx0XHRcdFx0XHRcdFx0XHRcdEdldCBhY2Nlc3MgdG8gPHNwYW4gY2xhc3NOYW1lPSd0ZXh0LWxvd2VyY2FzZSc+e3sgY29udGVudFR5cGVUaXRsZSB9fTwvc3Bhbj4gYW5kIGV2ZXJ5dGhpbmcgZWxzZSBvbiB7eyBzaXRlTmFtZSB9fVxuXHRcdFx0XHRcdFx0XHRcdDwvVHJhbnM+XG5cdFx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdDxsaT5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0ndGV4dC1wcmltYXJ5IGljb24tZjMgaWNvbi1tZW0tYXJyb3cnIC8+XG5cdFx0XHRcdFx0XHR7dCgnYWNjZXNzUmVjb3JkcycsICdBY2Nlc3MgdG8ge3tyZWNvcmRDb3VudH19IHJlY29yZHMnLCB7IHJlY29yZENvdW50IH0pfVxuXHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0PGxpPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd0ZXh0LXByaW1hcnkgaWNvbi1mMyBpY29uLW1lbS1hcnJvdycgLz4ge3QoJ2Vhc3lDYW5jZWwnLCAnRWFzeSBvbmxpbmUgY2FuY2VsbGF0aW9uIGFueXRpbWUnKX1cblx0XHRcdFx0XHQ8L2xpPlxuXHRcdFx0XHQ8L3VsPlxuXHRcdFx0XHQ8cCBjbGFzc05hbWU9J3RleHQtY2VudGVyJz5cblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRzaG93RnJlZVRyaWFsICYmIDxGM0xpbmsgY2xhc3NOYW1lPSdidG4gYnRuLXNlY29uZGFyeTMnIGhyZWY9Jy9mcmVldHJpYWw/aWlkPTY2NzcnIHRhcmdldD0nX3NlbGYnPnt0KCdzdGFydE5vdycsICdTdGFydCBGcmVlIHRyaWFsIG5vdycpfTwvRjNMaW5rPlxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHQhc2hvd0ZyZWVUcmlhbCAmJiBtb250aGx5T2ZmZXIgJiZcblx0XHRcdFx0XHRcdDxGM0xpbmsgY2xhc3NOYW1lPSdidG4gYnRuLXNlY29uZGFyeTMnIGhyZWY9Jy9jaG9vc2UtYS1wbGFuP2lpZD02OTA3JyB0YXJnZXQ9J19zZWxmJz5cblx0XHRcdFx0XHRcdFx0PFRyYW5zIGkxOG5LZXk9J21vbnRobHlDb3N0JyB0PXt0fT5cblx0XHRcdFx0XHRcdFx0XHRPbmx5IDxzcGFuIGNsYXNzTmFtZT0nZnctYm9sZCBtZS0xJz57eyBtb250aGx5T2ZmZXJBbXQgfX08L3NwYW4+IGEgbW9udGhcblx0XHRcdFx0XHRcdFx0PC9UcmFucz5cblx0XHRcdFx0XHRcdDwvRjNMaW5rPlxuXHRcdFx0XHRcdH1cblx0XHRcdFx0PC9wPlxuXHRcdFx0XHQ8cCBjbGFzc05hbWU9J3RleHQtY2VudGVyIHRleHQtbXV0ZWQnPlxuXHRcdFx0XHRcdC1cblx0XHRcdFx0XHR7dCgnZGVueVBhZ2Uub3InLCAnT1InKX1cblx0XHRcdFx0XHQtXG5cdFx0XHRcdDwvcD5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3RleHQtY2VudGVyIHBiLTMnPlxuXHRcdFx0XHRcdDxUcmFucyBpMThuS2V5PSdvdGhlck1lbWJlck9wdGlvbnMnIHQ9e3R9PlxuXHRcdFx0XHRcdFx0U2VlIG91ciBvdGhlclxuXHRcdFx0XHRcdFx0PEYzTGluayBjbGFzc05hbWU9J21zLTEnIGhyZWY9Jy9jaG9vc2UtYS1wbGFuJyB0YXJnZXQ9J19zZWxmJz5tZW1iZXJzaGlwIG9wdGlvbnM8L0YzTGluaz5cblx0XHRcdFx0XHQ8L1RyYW5zPlxuXHRcdFx0XHQ8L2Rpdj5cblxuXG5cdFx0XHQ8L2Rpdj5cblxuXHRcdFx0e1xuXHRcdFx0XHRbJ0lNQUdFJywgJ1NVQl9JTUFHRScsICdGSUxFJywgJ0JBVFRMRScsICdSRUdJTUVOVCcsICdDT01QQU5ZJywgJ0lOREVYX1JFQ09SRCddLmluY2x1ZGVzKGNvbnRlbnRUeXBlKSAmJiB0aHVtYm5haWxTcmMgJiZcblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC1hdXRvIG14LWF1dG8gbXgtbWQtMCc+XG5cdFx0XHRcdFx0PGZpZ3VyZSBjbGFzc05hbWU9J3ByZW0taW1nIGRvYy1pbWcgYm9yZGVyIGJvcmRlci1wcmltYXJ5IGJvcmRlci0yIGJnLWRhcmsgdGV4dC1jZW50ZXIgbXgtYXV0byc+XG5cdFx0XHRcdFx0XHQ8c3Ryb25nIGNsYXNzTmFtZT0nYmctcHJpbWFyeSB0ZXh0LXVwcGVyY2FzZSB0ZXh0LXdoaXRlIGQtYmxvY2snPnt0KCdwcmVtaXVtRG9jdW1lbnQnLCAnUHJlbWl1bSBEb2N1bWVudCcpfTwvc3Ryb25nPlxuXHRcdFx0XHRcdFx0PFRodW1ibmFpbFxuXHRcdFx0XHRcdFx0XHRjb250ZW50VHlwZT17Y29udGVudFR5cGV9XG5cdFx0XHRcdFx0XHRcdG9iamVjdElkPXtpZH1cblx0XHRcdFx0XHRcdFx0c2l6ZT17MjAwfVxuXHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHQ8L2ZpZ3VyZT5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHR9XG5cblx0XHRcdHtcblx0XHRcdFx0Y29udGVudFR5cGUgPT09ICdTVE9SWV9QQUdFJyAmJiB0aHVtYm5haWxTcmMgJiZcblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC1hdXRvIG14LWF1dG8gbXgtbWQtMCc+XG5cdFx0XHRcdFx0PGZpZ3VyZSBjbGFzc05hbWU9J21lbS1pbWcgZG9jLWltZyBib3JkZXIgYm9yZGVyLXByaW1hcnkgYm9yZGVyLTIgYmctc2Vjb25kYXJ5IGJnLWdyYWRpZW50IHRleHQtY2VudGVyIG14LWF1dG8nPlxuXHRcdFx0XHRcdFx0PHN0cm9uZyBjbGFzc05hbWU9J2JnLXByaW1hcnkgdGV4dC11cHBlcmNhc2UgdGV4dC13aGl0ZSBkLWJsb2NrJz57dCgnc3RvcnlQYWdlLm1lbW9yaWFsJywgJ01lbW9yaWFsJyl9PC9zdHJvbmc+XG5cdFx0XHRcdFx0XHQ8VGh1bWJuYWlsXG5cdFx0XHRcdFx0XHRcdGNvbnRlbnRUeXBlPXtjb250ZW50VHlwZX1cblx0XHRcdFx0XHRcdFx0b2JqZWN0SWQ9e2lkfVxuXHRcdFx0XHRcdFx0XHRzaXplPXsyMDB9XG5cdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHRcdDxzbWFsbD57dCgnYWRkRmFjdHNNb3JlJywgJ0FkZCBmYWN0cywgcGhvdG9zLCBzdG9yaWVzLCBhbmQgbW9yZS4nKX08L3NtYWxsPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdH1cblx0XHQ8L2Rpdj5cblx0XHQ8ZGl2IGNsYXNzTmFtZT0ncm93IHB0LTInPlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC0xMiBwdC0zIGJvcmRlci10b3AnPlxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0aXNTaWduZWRJbiA/XG5cdFx0XHRcdFx0XHQ8cCBjbGFzc05hbWU9J21iLTAgZnctYm9sZCc+XG5cdFx0XHRcdFx0XHRcdHt0KCdhbHJlYWR5U3Vic2NyaWJlZCcsICdBbHJlYWR5IGEgc3Vic2NyaWJlcj8gJyl9XG5cdFx0XHRcdFx0XHRcdDxhXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdidG4gYnRuLWxpbmsgYWxpZ24tYmFzZWxpbmUgcC0wJ1xuXHRcdFx0XHRcdFx0XHRcdGhyZWY9e2Avc2lnbm9mZj9uZXh0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KGAvbG9naW4/bmV4dD0ke25leHRMb2NhdGlvbn1gKX1gfVxuXHRcdFx0XHRcdFx0XHRcdHJvbGU9J2J1dHRvbidcblx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdHt0KCdzd2l0Y2hBY2NvdW50cycsICdTd2l0Y2ggYWNjb3VudHMnKX1cblx0XHRcdFx0XHRcdFx0PC9hPlxuXHRcdFx0XHRcdFx0PC9wPiA6XG5cdFx0XHRcdFx0XHQ8cCBjbGFzc05hbWU9J2Z3LWJvbGQgbWItMCc+XG5cdFx0XHRcdFx0XHRcdHt0KCdhbHJlYWR5QWNvbUFjY291bnQnLCAnQWxyZWFkeSBoYXZlIGEge3tyZWdTaXRlTmFtZX19IG9yIEFuY2VzdHJ5wq4gYWNjb3VudD8gJywgeyByZWdTaXRlTmFtZSB9KX1cblx0XHRcdFx0XHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0YnRuVHlwZT0nbGluaydcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2FsaWduLWJhc2VsaW5lIHAtMCdcblx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiBmbGlwKHRydWUpfVxuXHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0e3QoJ2RlbnlQYWdlLnNpZ25JbicsICdTaWduIGluJyl9XG5cdFx0XHRcdFx0XHRcdDwvRjNCdXR0b24+XG5cdFx0XHRcdFx0XHQ8L3A+XG5cdFx0XHRcdH1cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHQ8Lz47XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRyYW5zLCB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgRm9sZDNQYWdlQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvZm9sZDNQYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9uLCBDb250ZW50VHlwZSwgSW1hZ2VQZXJtaXNzaW9uLCBJbnN0aXR1dGlvbiwgVXNlckZ1bGwgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBFcnJvckJvdW5kYXJ5IH0gZnJvbSAnLi4vLi4vbGliL0Vycm9yQm91bmRhcnknO1xuaW1wb3J0IHsgY3VycmVudFVzZXIgfSBmcm9tICcuLi8uLi9saWIvY3VycmVudFVzZXInO1xuaW1wb3J0IHsgc2V0RGVueVVybCB9IGZyb20gJy4uLy4uL2xpYi9kZW55VXJsJztcbmltcG9ydCB7IGRlbnlFdmVudCB9IGZyb20gJy4uLy4uL2xpYi9nb29nbGVBbmFseXRpY3NFdmVudHMnO1xuaW1wb3J0IHsgdXNlRGF0YUxheWVyIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURhdGFMYXllcic7XG5pbXBvcnQgeyB1c2VEb21haW4gfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlRG9tYWluJztcbmltcG9ydCB7IHVzZUxvY2FsaXplZENvbnRlbnQgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlTG9jYWxpemVkQ29udGVudCc7XG5pbXBvcnQgeyB1c2VUaHVtYm5haWwgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlVGh1bWJuYWlsJztcbmltcG9ydCB7IHVzZVVzZXIgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlVXNlcic7XG5pbXBvcnQgeyBjYXBpdGFsaXplRmlyc3QgfSBmcm9tICcuLi8uLi9saWIvdGVtcGxhdGluZyc7XG5pbXBvcnQgeyBEaWFsb2csIERpYWxvZ1Byb3BzIH0gZnJvbSAnLi4vZGlhbG9ncy9EaWFsb2cnO1xuaW1wb3J0IHsgTG9naW5Gb3JtIH0gZnJvbSAnLi4vbG9naW4vTG9naW5Gb3JtJztcbmltcG9ydCB7IERlbnlDb25maXJtIH0gZnJvbSAnLi9EZW55LUNvbmZpcm0nO1xuaW1wb3J0IHsgRGVueUxvZ2luIH0gZnJvbSAnLi9EZW55LUxvZ2luJztcbmltcG9ydCB7IERlbnlTaWxvIH0gZnJvbSAnLi9EZW55LVNpbG8nO1xuaW1wb3J0IHsgRGVueVN1YnNjcmliZSB9IGZyb20gJy4vRGVueS1TdWJzY3JpYmUnO1xuXG5leHBvcnQgdHlwZSBEZW55QWN0aW9uID0gSW1hZ2VQZXJtaXNzaW9uIHwgQ29udGVudERvY3VtZW50UGVybWlzc2lvbiB8ICdTRUFSQ0gnIHwgJ0NPTlRBQ1QnIHwgJ1BVUkNIQVNFJztcbmV4cG9ydCB0eXBlIERlbnlSZXF1aXJlbWVudCA9ICdsb2dpbicgfCAnc3Vic2NyaWJlJyB8ICdzaWxvJyB8ICdjb25maXJtJ1xuXG5leHBvcnQgaW50ZXJmYWNlIERlbnlQcm9wcyBleHRlbmRzIERpYWxvZ1Byb3BzIHtcblx0YWN0aW9uOiBEZW55QWN0aW9uXG5cdHJlcXVpcmVtZW50OiBEZW55UmVxdWlyZW1lbnRcblx0Y29udGVudFR5cGU/OiBDb250ZW50VHlwZVxuXHRpZD86IHN0cmluZyB8IG51bWJlclxuXHRwdWJsaWNhdGlvbklkPzogbnVtYmVyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3ViRGVueVByb3BzIGV4dGVuZHMgRGVueVByb3BzIHtcblx0aW5pdGlhbENvbHVtblNpemU6IG51bWJlcjtcblx0dGh1bWJuYWlsU3JjOiBzdHJpbmc7XG5cdHVzZXJuYW1lPzogc3RyaW5nO1xuXHRlbWFpbD86IHN0cmluZztcblx0aW5zdGl0dXRpb25OYW1lPzogc3RyaW5nO1xuXHRmbGlwKGZsaXBwZWQ6IGJvb2xlYW4pOiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgRGVueSA9ICh7IGFjdGlvbiwgcmVxdWlyZW1lbnQsIGNvbnRlbnRUeXBlLCBpZCwgb25DbG9zZSwgcHVibGljYXRpb25JZCwgLi4ucmVzdCB9OiBEZW55UHJvcHMpID0+IHtcblx0Y29uc3QgeyBwdXNoRXZlbnQgfSA9IHVzZURhdGFMYXllcigpO1xuXHRjb25zdCBbZmxpcHBlZCwgc2V0RmxpcHBlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG5cdGNvbnN0IHsgdXNlcjogX3VzZXIsIGluc3RpdHV0aW9uOiBfaW5zdGl0dXRpb24gfSA9IHVzZVVzZXIoKTtcblx0bGV0IHVzZXIgPSAgX3VzZXIgfHwge30gYXMgVXNlckZ1bGw7XG5cdGxldCBpbnN0aXR1dGlvbiA9IF9pbnN0aXR1dGlvbiB8fCB7fSBhcyBJbnN0aXR1dGlvbjtcblx0Y29uc3QgeyBzaXRlTmFtZSwgcmVnU2l0ZU5hbWUgfSA9IHVzZURvbWFpbigpO1xuXHRjb25zdCB7IGdldFRodW1ibmFpbCB9ID0gdXNlVGh1bWJuYWlsKCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2RlbnknKTtcblx0Y29uc3QgeyBwdWJsaWNhdGlvbnMgfSA9IHVzZUNvbnRleHQoRm9sZDNQYWdlQ29udGV4dCk7XG5cdGNvbnN0IHsgbG9jYWxpemVDb250ZW50VHlwZSB9ID0gdXNlTG9jYWxpemVkQ29udGVudCgpO1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0c2V0RGVueVVybCgpO1xuXG5cdFx0cHVzaEV2ZW50KGRlbnlFdmVudChhY3Rpb24sIHJlcXVpcmVtZW50LCBjb250ZW50VHlwZSwgcHVibGljYXRpb25zW3B1YmxpY2F0aW9uSWRdKSk7XG5cdH0sIFtdKTtcblxuXHRjb25zdCB1c2VyUHJvcHMgPSB7XG5cdFx0dXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG5cdFx0ZW1haWw6IHVzZXIuZW1haWwsXG5cdFx0aW5zdGl0dXRpb25OYW1lOiBpbnN0aXR1dGlvbi5uYW1lLFxuXHR9O1xuXG5cdGZ1bmN0aW9uIHJlbmRlckRlbnlGcm9udENvbnRlbnQoKSB7XG5cdFx0bGV0IGluaXRpYWxDb2x1bW5TaXplLCB0aHVtYm5haWxTcmM7XG5cblx0XHRpZiAoY29udGVudFR5cGUgJiYgaWQpIHtcblx0XHRcdHRodW1ibmFpbFNyYyA9IGdldFRodW1ibmFpbCh7IHBhdGg6ICdyZWZlcmVuY2UnLCByZWY6IHsgY29udGVudFR5cGUsIG9iamVjdElkOiBpZCB9LCBxdWVyeTogeyB3aWR0aDogMjAwLCBoZWlnaHQ6IDIwMCB9IH0pO1xuXHRcdFx0aW5pdGlhbENvbHVtblNpemUgPSAoY29udGVudFR5cGUgPT09ICdJTkRFWF9SRUNPUkQnIHx8IGFjdGlvbiA9PT0gJ1NFQVJDSCcpICYmICF0aHVtYm5haWxTcmMgPyAxMiA6IDc7XG5cdFx0fVxuXG5cdFx0bGV0IHN1YkRlbnlQcm9wczogU3ViRGVueVByb3BzID0gT2JqZWN0LmFzc2lnbih1c2VyUHJvcHMsIHtcblx0XHRcdGluaXRpYWxDb2x1bW5TaXplLFxuXHRcdFx0dGh1bWJuYWlsU3JjLFxuXHRcdFx0ZmxpcDogc2V0RmxpcHBlZCxcblx0XHRcdGFjdGlvbixcblx0XHRcdHJlcXVpcmVtZW50LFxuXHRcdFx0Y29udGVudFR5cGUsXG5cdFx0XHRpZCxcblx0XHRcdHB1YmxpY2F0aW9uSWQsXG5cdFx0fSk7XG5cblx0XHRzd2l0Y2ggKHJlcXVpcmVtZW50KSB7XG5cdFx0XHRjYXNlICdsb2dpbic6IHJldHVybiA8RGVueUxvZ2luIHsuLi5zdWJEZW55UHJvcHN9IC8+O1xuXHRcdFx0Y2FzZSAnc3Vic2NyaWJlJzogcmV0dXJuIDxEZW55U3Vic2NyaWJlIHsuLi5zdWJEZW55UHJvcHN9IC8+O1xuXHRcdFx0Y2FzZSAnc2lsbyc6IHJldHVybiA8RGVueVNpbG8gey4uLnN1YkRlbnlQcm9wc30gLz47XG5cdFx0XHRjYXNlICdjb25maXJtJzogcmV0dXJuIDxEZW55Q29uZmlybSB7Li4uc3ViRGVueVByb3BzfSAvPjtcblx0XHR9XG5cdH1cblxuXHRsZXQgdGl0bGU7XG5cdGxldCBjb250ZW50VHlwZUxhYmVsID0gbG9jYWxpemVDb250ZW50VHlwZShjb250ZW50VHlwZSwgeyBkZW1vbnN0cmF0aXZlOiAncHJveGltYWwnIH0pO1xuXG5cdGlmIChmbGlwcGVkKSB7XG5cdFx0dGl0bGUgPSBudWxsO1xuXHR9IGVsc2Uge1xuXHRcdHN3aXRjaCAocmVxdWlyZW1lbnQpIHtcblx0XHRcdGNhc2UgJ2xvZ2luJzpcblx0XHRcdFx0dGl0bGUgPSBhY3Rpb24gPT09ICdWSUVXJyA/XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSdmcmVlLWltZyc+XG5cdFx0XHRcdFx0XHQ8VHJhbnMgaTE4bktleT0nZGVueS5yZWdpc3Rlck5vd0ZvckZyZWUnIHQ9e3R9PlxuXHRcdFx0XHRcdFx0XHRSZWdpc3RlciB0byB2aWV3IDxzdHJvbmc+PHNwYW4+e3sgY29udGVudFR5cGVMYWJlbCB9fTwvc3Bhbj4gbm93IGZvciBmcmVlPC9zdHJvbmc+XG5cdFx0XHRcdFx0XHQ8L1RyYW5zPlxuXHRcdFx0XHRcdDwvc3Bhbj4gOlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0nZnJlZS1pbWcnIGRhdGEtY3k9J2ZyZWUtZGVueSc+XG5cdFx0XHRcdFx0XHQ8VHJhbnMgaTE4bktleT0nZGVueS5nZXRBY2Nlc3MnIHQ9e3R9PlxuXHRcdFx0XHRcdFx0XHRHZXQgYWNjZXNzIHdpdGggYSA8c3Ryb25nPmZyZWUgPHNwYW4+e3sgc2l0ZU5hbWUgfX08L3NwYW4+IG1lbWJlcnNoaXA8L3N0cm9uZz5cblx0XHRcdFx0XHRcdDwvVHJhbnM+XG5cdFx0XHRcdFx0PC9zcGFuPjtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdzdWJzY3JpYmUnOlxuXHRcdFx0XHR0aXRsZSA9IChhY3Rpb24gPT09ICdTRUFSQ0gnIHx8IGFjdGlvbiA9PT0gJ0NPTlRBQ1QnKSA/XG5cdFx0XHRcdFx0PHNwYW4gZGF0YS1jeT0nZ2V0LWFjY2Vzcy1kZW55Jz5cblx0XHRcdFx0XHRcdDxUcmFucyBpMThuS2V5PSdnZXRBY2Nlc3NQcmVtaXVtJyB0PXt0fT5cblx0XHRcdFx0XHRcdFx0R2V0IGFjY2VzcyB3aXRoIGEgPGI+UHJlbWl1bSBNZW1iZXJzaGlwPC9iPlxuXHRcdFx0XHRcdFx0PC9UcmFucz5cblx0XHRcdFx0XHQ8L3NwYW4+IDpcblx0XHRcdFx0XHQ8c3BhbiBkYXRhLWN5PSdkZW55LXByZW1pdW0nPlxuXHRcdFx0XHRcdFx0PFRyYW5zIGkxOG5LZXk9J2Rlbnkuc3ViUmVxdWlyZWQnIHQ9e3R9PlxuXHRcdFx0XHRcdFx0XHRZb3UgbmVlZCBhXG5cdFx0XHRcdFx0XHRcdDxiIGNsYXNzTmFtZT0nbXgtMSc+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4+e3sgcmVnU2l0ZU5hbWUgfX08L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSdtcy0xJz5zdWJzY3JpcHRpb248L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDwvYj5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSdtZS0xJz50byB2aWV3PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHR7eyBjb250ZW50VHlwZUxhYmVsIH19XG5cdFx0XHRcdFx0XHQ8L1RyYW5zPlxuXHRcdFx0XHRcdDwvc3Bhbj47XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnc2lsbyc6XG5cdFx0XHRcdGxldCB7IGluc3RpdHV0aW9uTmFtZSB9ID0gdXNlclByb3BzO1xuXHRcdFx0XHR0aXRsZSA9IDxzcGFuPlxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdGluc3RpdHV0aW9uTmFtZSA/XG5cdFx0XHRcdFx0XHRcdHQoJ2RlbnkudW5hdmFpbGFibGVBdEluc3RpdHV0aW9uLndpdGhOYW1lJywgJ3t7Y29udGVudFR5cGVMYWJlbH19IGlzIHVuYXZhaWxhYmxlIGF0IHt7aW5zdGl0dXRpb25OYW1lfX0nLCB7IGNvbnRlbnRUeXBlTGFiZWw6IGNhcGl0YWxpemVGaXJzdChjb250ZW50VHlwZUxhYmVsKSwgaW5zdGl0dXRpb25OYW1lIH0pIDpcblx0XHRcdFx0XHRcdFx0dCgnZGVueS51bmF2YWlsYWJsZUF0SW5zdGl0dXRpb24ubm9OYW1lJywgJ3t7Y29udGVudFR5cGVMYWJlbH19IGlzIHVuYXZhaWxhYmxlJywgeyBjb250ZW50VHlwZUxhYmVsOiBjYXBpdGFsaXplRmlyc3QoY29udGVudFR5cGVMYWJlbCkgfSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdDwvc3Bhbj47XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnY29uZmlybSc6IHtcblx0XHRcdFx0c3dpdGNoIChhY3Rpb24pIHtcblx0XHRcdFx0XHRjYXNlICdWSUVXJzpcblx0XHRcdFx0XHRcdHRpdGxlID0gPHNwYW4gZGF0YS1jeT0ndmVyaWZ5LWVtYWlsJz57dCgnZGVueS52ZXJpZnlFbWFpbFBhZ2UnLCAnVmVyaWZ5IHlvdXIgZW1haWwgYmVmb3JlIHlvdSBjYW4gdmlldyB7e2NvbnRlbnRUeXBlTGFiZWx9fScsIHsgY29udGVudFR5cGVMYWJlbCB9KX08L3NwYW4+O1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSAnUFVSQ0hBU0UnOlxuXHRcdFx0XHRcdFx0dGl0bGUgPSA8c3BhbiBkYXRhLWN5PSd2ZXJpZnktZW1haWwnPnt0KCdkZW55LnZlcmlmeUVtYWlsU3ViJywgJ1ZlcmlmeSB5b3VyIGVtYWlsIGJlZm9yZSB5b3UgY2FuIGNvbXBsZXRlIHlvdXIgc3Vic2NyaXB0aW9uJyl9PC9zcGFuPjtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHR0aXRsZSA9IDxzcGFuIGRhdGEtY3k9J3ZlcmlmeS1lbWFpbC1mZWF0dXJlJz5cblx0XHRcdFx0XHRcdFx0e3QoJ2RlbnkudmVyaWZ5RW1haWwnLCAnVmVyaWZ5IHlvdXIgZW1haWwnKX1cblx0XHRcdFx0XHRcdFx0e2FjdGlvbiAhPT0gbnVsbCAmJiB0KCdkZW55LmJlZm9yZUFjY2VzcycsICcgYmVmb3JlIHlvdSBjYW4gYWNjZXNzIHRoaXMgZmVhdHVyZScpfVxuXHRcdFx0XHRcdFx0PC9zcGFuPjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiA8RGlhbG9nXG5cdFx0Ymx1cj17YWN0aW9uID09PSAnVklFVyd9XG5cdFx0Y2xhc3NOYW1lPSdkZW55LWRpYWxvZydcblx0XHRvbkNsb3NlPXsoLi4uYXJncykgPT4ge1xuXHRcdFx0c2V0RmxpcHBlZChmYWxzZSk7XG5cdFx0XHRpZiAodHlwZW9mIG9uQ2xvc2UgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0cmV0dXJuIG9uQ2xvc2UoLi4uYXJncyk7XG5cdFx0XHR9XG5cdFx0fX1cblx0XHR0aXRsZT17dGl0bGV9XG5cdFx0ey4uLnJlc3R9XG5cdD5cblx0XHQ8RXJyb3JCb3VuZGFyeT5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb250YWluZXItZmx1aWQnPlxuXHRcdFx0XHR7ZmxpcHBlZCA/IDxMb2dpbkZvcm0gLz4gOiByZW5kZXJEZW55RnJvbnRDb250ZW50KCl9XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L0Vycm9yQm91bmRhcnk+XG5cdDwvRGlhbG9nPjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBtaW5BY2NvdW50U3RhdHVzVG9EZW55UmVxdWlyZW1lbnQobWluQWNjb3VudFN0YXR1czogc3RyaW5nKTogRGVueVJlcXVpcmVtZW50IHtcblx0bGV0IGxvZ2dlZEluID0gISFjdXJyZW50VXNlci51c2VySWQ7XG5cblx0c3dpdGNoIChtaW5BY2NvdW50U3RhdHVzKSB7XG5cdFx0Y2FzZSAnU1VCU0NSSUJFUic6IHJldHVybiAnc3Vic2NyaWJlJztcblx0XHRjYXNlICdTSUxPJzogcmV0dXJuICdzaWxvJztcblx0XHRjYXNlICdDT05GSVJNRUQnOiByZXR1cm4gbG9nZ2VkSW4gPyAnY29uZmlybScgOiAnbG9naW4nO1xuXHRcdGRlZmF1bHQ6IHJldHVybiAnbG9naW4nO1xuXHR9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRGVueSwgbWluQWNjb3VudFN0YXR1c1RvRGVueVJlcXVpcmVtZW50IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9kZW55L0RlbnknO1xuaW1wb3J0IHsgQ29udGVudERvY3VtZW50UGVybWlzc2lvbiwgRG9jdW1lbnRFbGVtZW50VHlwZSwgV3JhcHBlZENvbnRlbnREb2N1bWVudCB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IGdldFdyYXBwZWRDb250ZW50UmVmIH0gZnJvbSAnLi4vY29udGVudC9jb250ZW50TWV0YWRhdGEnO1xuaW1wb3J0IHsgY2hlY2tBY3Rpb24sIGlzQWxsb3dlZCB9IGZyb20gJy4uL2NvbnRlbnQvY29udGVudFJ1bnRpbWUnO1xuaW1wb3J0IHsgdXNlQWxlcnRzIH0gZnJvbSAnLi91c2VBbGVydHMnO1xuaW1wb3J0IHsgdXNlRGlhbG9ncyB9IGZyb20gJy4vdXNlRGlhbG9ncyc7XG5cbmV4cG9ydCBjb25zdCB1c2VDb250ZW50UGVybWlzc2lvbnMgPSAoY29udGVudDogV3JhcHBlZENvbnRlbnREb2N1bWVudCkgPT4ge1xuXHRjb25zdCB7IG9wZW5EaWFsb2cgfSA9IHVzZURpYWxvZ3MoKTtcblx0Y29uc3QgeyBhZGRFcnJvckFsZXJ0IH0gPSB1c2VBbGVydHMoKTtcblxuXHRyZXR1cm4ge1xuXHRcdGlzQWxsb3dlZChhY3Rpb246IENvbnRlbnREb2N1bWVudFBlcm1pc3Npb24sIGVsZW1lbnRUeXBlPzogRG9jdW1lbnRFbGVtZW50VHlwZSwgb3ZlcnJpZGVDb250ZW50PzogV3JhcHBlZENvbnRlbnREb2N1bWVudCkge1xuXHRcdFx0cmV0dXJuIGlzQWxsb3dlZChvdmVycmlkZUNvbnRlbnQgfHwgY29udGVudCwgW2FjdGlvbl0sIGVsZW1lbnRUeXBlKTtcblx0XHR9LFxuXHRcdGNoZWNrQWN0aW9uKGFjdGlvbjogQ29udGVudERvY3VtZW50UGVybWlzc2lvbiwgZWxlbWVudFR5cGU/OiBEb2N1bWVudEVsZW1lbnRUeXBlLCBvdmVycmlkZUNvbnRlbnQ/OiBXcmFwcGVkQ29udGVudERvY3VtZW50KSB7XG5cdFx0XHRsZXQgX2NvbnRlbnQgPSBvdmVycmlkZUNvbnRlbnQgfHwgY29udGVudDtcblx0XHRcdGxldCBkZW55UmVhc29uID0gY2hlY2tBY3Rpb24oX2NvbnRlbnQsIGFjdGlvbiwgZWxlbWVudFR5cGUpO1xuXHRcdFx0bGV0IHsgY29udGVudFR5cGUsIG9iamVjdElkIH0gPSBnZXRXcmFwcGVkQ29udGVudFJlZihfY29udGVudCk7XG5cblx0XHRcdGlmICh0eXBlb2YgZGVueVJlYXNvbiA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0b3BlbkRpYWxvZyg8RGVueVxuXHRcdFx0XHRcdGFjdGlvbj17YWN0aW9ufVxuXHRcdFx0XHRcdGNvbnRlbnRUeXBlPXtjb250ZW50VHlwZX1cblx0XHRcdFx0XHRpZD17b2JqZWN0SWR9XG5cdFx0XHRcdFx0cmVxdWlyZW1lbnQ9e21pbkFjY291bnRTdGF0dXNUb0RlbnlSZXF1aXJlbWVudChkZW55UmVhc29uKX1cblx0XHRcdFx0Lz4pO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChkZW55UmVhc29uID09PSBmYWxzZSkge1xuXHRcdFx0XHRhZGRFcnJvckFsZXJ0KCdZb3UgYXJlIG5vdCBhbGxvd2VkIHRvIHBlcmZvcm0gdGhpcyBhY3Rpb24uJyk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBkZW55UmVhc29uO1xuXHRcdH0sXG5cdH07XG59O1xuIiwiaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBnZXRMb2NhbGVEYXlMYWJlbHMsIGdldExvY2FsZU1vbnRoTGFiZWxzIH0gZnJvbSAnLi4vZGF0ZUhlbHBlcnMnO1xuXG5leHBvcnQgY29uc3QgdXNlTG9jYWxlRGF0ZSA9ICgpID0+IHtcblx0Y29uc3QgeyBpMThuIH0gPSB1c2VUcmFuc2xhdGlvbigpO1xuXG5cdHJldHVybiAoZGF0ZTogRGF0ZSB8IHN0cmluZyB8IG51bWJlciwgb3B0aW9uczogSW50bC5EYXRlVGltZUZvcm1hdE9wdGlvbnMgPSB7fSkgPT4ge1xuXHRcdGNvbnN0IHsgZGF0ZVN0eWxlID0gJ21lZGl1bScgfSA9IG9wdGlvbnM7XG5cblx0XHRjb25zdCByZWFsRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xuXHRcdGlmICghaXNOYU4oK3JlYWxEYXRlKSkge1xuXHRcdFx0cmV0dXJuIG5ldyBJbnRsLkRhdGVUaW1lRm9ybWF0KGkxOG4ubGFuZ3VhZ2UsIHsgLi4ub3B0aW9ucywgZGF0ZVN0eWxlIH0pLmZvcm1hdChyZWFsRGF0ZSk7XG5cdFx0fVxuXHR9O1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUxvY2FsZU1vbnRocyA9ICgpID0+IHtcblx0Y29uc3QgeyBpMThuIH0gPSB1c2VUcmFuc2xhdGlvbigpO1xuXG5cdGNvbnN0IG1vbnRoTGFiZWxzID0gdXNlTWVtbygoKSA9PiB7XG5cdFx0cmV0dXJuIGdldExvY2FsZU1vbnRoTGFiZWxzKGkxOG4ubGFuZ3VhZ2UpO1xuXHR9LCBbXSk7XG5cblx0cmV0dXJuIG1vbnRoTGFiZWxzO1xufTtcblxuXG5leHBvcnQgY29uc3QgdXNlTG9jYWxlRGF5cyA9ICgpID0+IHtcblx0Y29uc3QgeyBpMThuIH0gPSB1c2VUcmFuc2xhdGlvbigpO1xuXG5cdGNvbnN0IGRheUxhYmVscyA9IHVzZU1lbW8oKCkgPT4ge1xuXHRcdHJldHVybiBnZXRMb2NhbGVEYXlMYWJlbHMoaTE4bi5sYW5ndWFnZSk7XG5cdH0sIFtdKTtcblxuXHRyZXR1cm4gZGF5TGFiZWxzO1xufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VEaWFsb2dzIH0gZnJvbSAnLi4vbGliL2hvb2tzL3VzZURpYWxvZ3MnO1xuaW1wb3J0IHsgRjNCdXR0b24gfSBmcm9tICcuL0YzQnV0dG9uJztcbmltcG9ydCB7IERpYWxvZywgRGlhbG9nQ2xvc2VCdXR0b24sIERpYWxvZ1Byb3BzIH0gZnJvbSAnLi9kaWFsb2dzL0RpYWxvZyc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuXG5pbnRlcmZhY2UgQ29uZmlybURpYWxvZ1Byb3BzIGV4dGVuZHMgRGlhbG9nUHJvcHMge1xuXHRtZXNzYWdlOiBzdHJpbmdcblx0b25Db25maXJtZWQ/KCk6IHZvaWRcblx0b25DYW5jZWxlZD8oKTogdm9pZFxufVxuXG5leHBvcnQgY29uc3QgQ29uZmlybURpYWxvZyA9ICh7IG1lc3NhZ2UsIG9uQ29uZmlybWVkLCBvbkNhbmNlbGVkLCAuLi5kaWFsb2dQcm9wcyB9OiBDb25maXJtRGlhbG9nUHJvcHMpID0+IHtcblx0Y29uc3QgeyBjbG9zZURpYWxvZyB9ID0gdXNlRGlhbG9ncygpO1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdjb21wb25lbnRzJyk7XG5cblx0cmV0dXJuIDxEaWFsb2dcblx0XHRjbGFzc05hbWU9J2ZpdC10by1jb250ZW50J1xuXHRcdGZvb3Rlcj17PD5cblx0XHRcdDxEaWFsb2dDbG9zZUJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBvbkNhbmNlbGVkPy4oKX0+XG5cdFx0XHRcdHt0KCdjb25maXJtRGlhbG9nLmNsb3NlJywgJ05vJyl9XG5cdFx0XHQ8L0RpYWxvZ0Nsb3NlQnV0dG9uPlxuXHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRvbkNvbmZpcm1lZD8uKCk7XG5cdFx0XHRcdFx0Y2xvc2VEaWFsb2coKTtcblx0XHRcdFx0fX1cblx0XHRcdD5cblx0XHRcdFx0e3QoJ2NvbmZpcm1EaWFsb2cuY29uZmlybScsICdZZXMnKX1cblx0XHRcdDwvRjNCdXR0b24+XG5cdFx0PC8+fVxuXHRcdHsuLi5kaWFsb2dQcm9wc31cblx0PlxuXHRcdDxoMiBjbGFzc05hbWU9J2g1IG1iLTAgcC00IHRleHQtY2VudGVyJz57bWVzc2FnZX08L2gyPlxuXHQ8L0RpYWxvZz47XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENvbmZpcm1EaWFsb2cgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0NvbmZpcm1EaWFsb2cnO1xuaW1wb3J0IHsgdXNlRGlhbG9ncyB9IGZyb20gJy4vdXNlRGlhbG9ncyc7XG5cbmV4cG9ydCBjb25zdCB1c2VWZXJpZnkgPSAoKSA9PiB7XG5cdGNvbnN0IHsgb3BlbkRpYWxvZyB9ID0gdXNlRGlhbG9ncygpO1xuXG5cdHJldHVybiB7XG5cdFx0dmVyaWZ5KG1zZzogc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2U8Ym9vbGVhbj4ocmVzb2x2ZSA9PiB7XG5cdFx0XHRcdG9wZW5EaWFsb2coUmVhY3QuY3JlYXRlRWxlbWVudChDb25maXJtRGlhbG9nLCB7XG5cdFx0XHRcdFx0bWVzc2FnZTogbXNnLFxuXHRcdFx0XHRcdG9uQ2xvc2UoKSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKGZhbHNlKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG9uQ2FuY2VsZWQoKSB7XG5cdFx0XHRcdFx0XHRyZXNvbHZlKGZhbHNlKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG9uQ29uZmlybWVkKCkge1xuXHRcdFx0XHRcdFx0cmVzb2x2ZSh0cnVlKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHR9KSk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHR9O1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VNZW1vLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBDb21tZW50RWxlbWVudERpYWxvZyB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQ29tbWVudEVsZW1lbnREaWFsb2cnO1xuaW1wb3J0IHsgRGVsZXRlQnV0dG9uLCBFZGl0QnV0dG9uLCBGM0J1dHRvbiB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvRjNCdXR0b24nO1xuaW1wb3J0IHsgRjNMaW5rIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9GM0xpbmsnO1xuaW1wb3J0IHsgQmFzZVRodW1ibmFpbCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvVGh1bWJuYWlsJztcbmltcG9ydCB7IEluZGV4UmVjb3JkQ29udGVudENvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L2NvbnRlbnRDb250ZXh0JztcbmltcG9ydCB7IGdldEVsZW1lbnRJZCwgZ2V0RWxlbWVudE93bmVyIH0gZnJvbSAnLi4vLi4vbGliL2NvbnRlbnQvY29udGVudEVsZW1lbnRzJztcbmltcG9ydCB7IHVzZUFsZXJ0cyB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VBbGVydHMnO1xuaW1wb3J0IHsgdXNlQ29udGVudFBlcm1pc3Npb25zIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUNvbnRlbnRQZXJtaXNzaW9ucyc7XG5pbXBvcnQgeyB1c2VEaWFsb2dzIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURpYWxvZ3MnO1xuaW1wb3J0IHsgdXNlRG9tYWluIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURvbWFpbic7XG5pbXBvcnQgeyB1c2VMb2NhbGVEYXRlIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUxvY2FsZURhdGVzJztcbmltcG9ydCB7IHVzZVRodW1ibmFpbCB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VUaHVtYm5haWwnO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VVc2VyJztcbmltcG9ydCB7IHVzZVZlcmlmeSB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VWZXJpZnknO1xuaW1wb3J0IHsgc2VyaWFsaXplRG9tYWluIH0gZnJvbSAnLi4vLi4vbGliL2xvY2FsaXphdGlvbi9kb21haW4nO1xuaW1wb3J0IHsgZ2V0Q29udGVudFBhdGggfSBmcm9tICcuLi8uLi9saWIvc2x1Zyc7XG5cbmludGVyZmFjZSBJbmRleFJlY29yZENvbW1lbnRzVGFiUHJvcHMge1xuXG59XG5cbmV4cG9ydCBjb25zdCBJbmRleFJlY29yZENvbW1lbnRzVGFiID0gKHt9OiBJbmRleFJlY29yZENvbW1lbnRzVGFiUHJvcHMpID0+IHtcblx0bGV0IHsgZjNEb21haW4gfSA9IHVzZURvbWFpbigpO1xuXG5cdGNvbnN0IHsgY29udGVudCwgY29tcHV0ZWRWYWx1ZXMsIG1lcmdlRWxlbWVudFVwZGF0ZVJlc3VsdHMsIENvbnRlbnRBcGkgfSA9IHVzZUNvbnRleHQoSW5kZXhSZWNvcmRDb250ZW50Q29udGV4dCk7XG5cdGNvbnN0IHsgZ3JvdXBlZEVsZW1lbnRzLCB1c2Vyc0J5VXNlcklkIH0gPSBjb21wdXRlZFZhbHVlcztcblx0Y29uc3QgeyBDT01NRU5UID0gW10gfSA9IGdyb3VwZWRFbGVtZW50cztcblx0Y29uc3QgeyB1c2VyIH0gPSB1c2VVc2VyKCk7XG5cdGNvbnN0IHsgYWRkRXJyb3JBbGVydCwgYWRkU3VjY2Vzc0FsZXJ0IH0gPSB1c2VBbGVydHMoKTtcblx0Y29uc3QgeyBvcGVuRGlhbG9nIH0gPSB1c2VEaWFsb2dzKCk7XG5cdGNvbnN0IFtlZGl0aW5nLCBzZXRFZGl0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblx0Y29uc3QgeyB2ZXJpZnkgfSA9IHVzZVZlcmlmeSgpO1xuXHRjb25zdCB7IGNoZWNrQWN0aW9uLCBpc0FsbG93ZWQgfSA9IHVzZUNvbnRlbnRQZXJtaXNzaW9ucyhjb250ZW50KTtcblx0Y29uc3QgeyBnZXRUaHVtYm5haWwgfSA9IHVzZVRodW1ibmFpbCgpO1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdpbmRleCcpO1xuXHRjb25zdCBnZXRMb2NhbGVEYXRlID0gdXNlTG9jYWxlRGF0ZSgpO1xuXG5cdGNvbnN0IHVzZXJPd25zQW55ID0gdXNlTWVtbygoKSA9PiB7XG5cdFx0cmV0dXJuIENPTU1FTlQuZmlsdGVyKGVsID0+IGdldEVsZW1lbnRPd25lcihlbCkgPT09IHVzZXI/LnVzZXJJZCkubGVuZ3RoID4gMDtcblx0fSwgW0NPTU1FTlRdKTtcblxuXHRyZXR1cm4gPGRpdiBhcmlhLWxhYmVsbGVkYnk9J3RhYi1jb21tJyBjbGFzc05hbWU9J2NvbnRhaW5lci14bCBwYi00JyBpZD0nY29tbWVudHMtdGFiJz5cblx0XHQ8ZGl2IGNsYXNzTmFtZT0ncm93IGp1c3RpZnktY29udGVudC1jZW50ZXInPlxuXHRcdFx0ICA8ZGl2IGNsYXNzTmFtZT0nY29sLTEyIGNvbC1tZC0xMCBjb2wteGwtOCc+XG5cdFx0XHRcdDxoMiBjbGFzc05hbWU9J2Qtbm9uZSBkLXByaW50LWJsb2NrIHRleHQtY2VudGVyIGg0Jz57dCgnaW5kZXhDb21tZW50cycsICdDb21tZW50cyBhYm91dCBpbmRleCByZWNvcmQnKX08L2gyPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ndGV4dC1lbmQgZC1wcmludC1ub25lIHBlLTMgcGUtbWQtMCc+XG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0dXNlck93bnNBbnkgJiYgQ09NTUVOVC5sZW5ndGggPiAwICYmXG5cdFx0XHRcdFx0XHQ8RWRpdEJ1dHRvblxuXHRcdFx0XHRcdFx0XHRhcmlhLWxhYmVsPSdFZGl0IENvbW1lbnRzJ1xuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J21lLTIgZC1wcmludC1ub25lJ1xuXHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiBzZXRFZGl0aW5nKGVkaXRpbmcgPT4gIWVkaXRpbmcpfVxuXHRcdFx0XHRcdFx0XHRvdXRsaW5lXG5cdFx0XHRcdFx0XHRcdHNpemU9J3NtJ1xuXHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHR7IGVkaXRpbmcgPyB0KCdjb21tZW50c1RhYi5kb25lJywgJ0RvbmUnKSA6IHQoJ2NvbW1lbnRzVGFiLmVkaXQnLCAnRWRpdCcpIH1cblx0XHRcdFx0XHRcdDwvRWRpdEJ1dHRvbj5cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aXNBbGxvd2VkKCdDT05UUklCVVRJT05fQ1JFQVRFJywgJ0NPTU1FTlQnKSAmJlxuXHRcdFx0XHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdFx0XHRcdGFyaWEtbGFiZWw9J0FkZCBDb21tZW50J1xuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2QtcHJpbnQtbm9uZSdcblx0XHRcdFx0XHRcdFx0ZGF0YS1jeT0nYWRkLWNvbW1lbnQnXG5cdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRzZXRFZGl0aW5nKGZhbHNlKTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChjaGVja0FjdGlvbignQ09OVFJJQlVUSU9OX0NSRUFURScsICdDT01NRU5UJykpIHtcblx0XHRcdFx0XHRcdFx0XHRcdG9wZW5EaWFsb2coPENvbW1lbnRFbGVtZW50RGlhbG9nIGxlbmd0aFR5cGU9J0lOREVYX1JFQ09SRF9DT01NRU5UJyAvPik7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0XHRzaXplPSdzbSdcblx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0PHNwYW4gYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzTmFtZT0naWNvbi1mMyBpY29uLXBsdXMgYWxpZ24tbWlkZGxlJyAvPlxuXHRcdFx0XHRcdFx0XHR7dCgnY29tbWVudHNUYWIuYWRkJywgJ0FkZCcpfVxuXHRcdFx0XHRcdFx0PC9GM0J1dHRvbj5cblx0XHRcdFx0XHR9XG5cdFx0XHRcdDwvZGl2PlxuXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRDT01NRU5ULmxlbmd0aCA9PT0gMCAmJlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSd0ZXh0LWNlbnRlcic+XG5cdFx0XHRcdFx0XHQ8cCBjbGFzc05hbWU9J3RleHQtbXV0ZWQgdGV4dC1jZW50ZXInPlxuXHRcdFx0XHRcdFx0XHR7dCgnbm9Db21tZW50cycsICdUaGVyZSBhcmUgbm8gY29tbWVudHMuJyl9PC9wPlxuXHRcdFx0XHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdFx0XHRcdGFyaWEtbGFiZWw9J0FkZCBDb21tZW50J1xuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2QtcHJpbnQtbm9uZSdcblx0XHRcdFx0XHRcdFx0ZGF0YS1jeT0nYWRkLWNvbW1lbnQnXG5cdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRzZXRFZGl0aW5nKGZhbHNlKTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChjaGVja0FjdGlvbignQ09OVFJJQlVUSU9OX0NSRUFURScsICdDT01NRU5UJykpIHtcblx0XHRcdFx0XHRcdFx0XHRcdG9wZW5EaWFsb2coPENvbW1lbnRFbGVtZW50RGlhbG9nIGxlbmd0aFR5cGU9J0lOREVYX1JFQ09SRF9DT01NRU5UJyAvPik7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdpY29uLWYzIGljb24tcGx1cyBhbGlnbi1taWRkbGUnIC8+XG5cdFx0XHRcdFx0XHRcdHt0KCdjb21tZW50c1RhYi5hZGRPbmVOb3cnLCAnQWRkIG9uZSBub3cnKX1cblx0XHRcdFx0XHRcdDwvRjNCdXR0b24+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdH1cblx0XHRcdFx0e1xuXHRcdFx0XHRcdENPTU1FTlQubWFwKGNvbW1lbnQgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgY29tbWVudFVzZXIgPSB1c2Vyc0J5VXNlcklkW2NvbW1lbnQubWV0YWRhdGEub3duZXJdO1xuXHRcdFx0XHRcdFx0Y29uc3QgaXNDb21tZW50T3duZXIgPSBjb21tZW50VXNlci51c2VySWQgPT09IHVzZXI/LnVzZXJJZDtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIDxkaXZcblx0XHRcdFx0XHRcdFx0a2V5PXtnZXRFbGVtZW50SWQoY29tbWVudCl9XG5cdFx0XHRcdFx0XHRcdGFyaWEtbGFiZWw9e2BDb21tZW50IGJ5ICR7Y29tbWVudFVzZXIudXNlcm5hbWV9YH1cblx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdyb3cgY29tbWVudCBweS0yJ1xuXHRcdFx0XHRcdFx0XHRyb2xlPSdncm91cCdcblx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC1hdXRvIHB4LTIgYm9yZGVyLXRvcCBwdC0zJz5cblx0XHRcdFx0XHRcdFx0XHQ8RjNMaW5rIGFyaWEtbGFiZWw9J1VzZXJuYW1lJyBocmVmPXtnZXRDb250ZW50UGF0aCgnVVNFUicsIGNvbW1lbnRVc2VyLnVzZXJuYW1lKX0gdGFyZ2V0PSdfc2VsZic+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8QmFzZVRodW1ibmFpbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhbHQ9e2Ake2NvbW1lbnRVc2VyLnVzZXJuYW1lfWB9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFyaWEtbGFiZWw9J1Byb2ZpbGUgSW1hZ2UnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0ncm91bmRlZC1jaXJjbGUgaW1nLXN6LTgwJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzcmM9e2dldFRodW1ibmFpbCh7IHBhdGg6ICd1c2VyaWNvbicsIHF1ZXJ5OiB7IGlkOiBjb21tZW50VXNlci51c2VySWQsIGRvbWFpbjogc2VyaWFsaXplRG9tYWluKGYzRG9tYWluKSwgd2lkdGg6IDgwLCBoZWlnaHQ6IDgwIH0gfSl9XG5cdFx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdDwvRjNMaW5rPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbCBib3JkZXItdG9wIHB0LTMnPlxuXHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzTmFtZT0nb3duZXItaXRlbSBtYi0wJz5cblx0XHRcdFx0XHRcdFx0XHRcdDxGM0xpbmtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXJpYS1sYWJlbD0nVXNlcm5hbWUnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGhyZWY9e2dldENvbnRlbnRQYXRoKCdVU0VSJywgY29tbWVudFVzZXIudXNlcm5hbWUpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0YXJnZXQ9J19zZWxmJ1xuXHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7Y29tbWVudFVzZXIudXNlcm5hbWV9XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L0YzTGluaz5cblx0XHRcdFx0XHRcdFx0XHRcdCZuYnNwO1xuXHRcdFx0XHRcdFx0XHRcdFx0Jm1pZGRvdDtcblx0XHRcdFx0XHRcdFx0XHRcdCZuYnNwO1xuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd0ZXh0LW11dGVkJz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0e2dldExvY2FsZURhdGUoY29tbWVudC5tZXRhZGF0YS5sYXN0TW9kaWZpZWQpfVxuXHRcdFx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdFx0XHQ8cCBjbGFzc05hbWU9J3RleHQtYnJlYWsnPlxuXHRcdFx0XHRcdFx0XHRcdFx0e2NvbW1lbnQuZWxlbWVudC52YWx1ZX1cblx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZWRpdGluZyAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdChpc0NvbW1lbnRPd25lciB8fCBpc0FsbG93ZWQoJ0NPTlRSSUJVVElPTl9ERUxFVEVfT1RIRVJTJywgJ0NPTU1FTlQnKSkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxEZWxldGVCdXR0b25cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJpYS1sYWJlbD17dCgnY29tbWVudHNUYWIuZGVsZXRlQ29tbWVudCcsICdEZWxldGUgY29tbWVudCcpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J3B1bGwtcmlnaHQgYm9yZGVyLTAgZC1wcmludC1ub25lJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXthc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKGF3YWl0IHZlcmlmeSh0KCdjb21tZW50c1RhYi5kZWxldGVDb25maXJtJywgJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBjb21tZW50PycpKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IG5ldyBDb250ZW50QXBpKCkucmVtb3ZlRWxlbWVudHMoY29udGVudCwgW2NvbW1lbnRdKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWVyZ2VFbGVtZW50VXBkYXRlUmVzdWx0cyhyZXN1bHRzKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWRkU3VjY2Vzc0FsZXJ0KHQoJ2NvbW1lbnRzVGFiLmRlbGV0ZVN1Y2Nlc3MnLCAnVGhlIGNvbW1lbnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQuJykpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFkZEVycm9yQWxlcnQodCgnY29tbW9uOnNvbWV0aGluZ1dyb25nJykpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3V0bGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KGlzQ29tbWVudE93bmVyIHx8IGlzQWxsb3dlZCgnQ09OVFJJQlVUSU9OX1VQREFURV9PVEhFUlMnLCAnQ09NTUVOVCcpKSAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PEVkaXRCdXR0b25cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJpYS1sYWJlbD0nRWRpdCdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdwdWxsLXJpZ2h0IGJvcmRlci0wIGQtcHJpbnQtbm9uZSdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9wZW5EaWFsb2coPENvbW1lbnRFbGVtZW50RGlhbG9nIGV4aXN0aW5nQ29tbWVudD17Y29tbWVudH0gbGVuZ3RoVHlwZT0nSU5ERVhfUkVDT1JEX0NPTU1FTlQnIC8+KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3V0bGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvPlxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj47XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdDwvZGl2Pjtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IENvbXBhY3RQdWJsaWNhdGlvbiB9IGZyb20gJy4uL2FwaXMvcHVibGljYXRpb25BcGknO1xuaW1wb3J0IHsgRm9sZDNQYWdlQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvZm9sZDNQYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBXcmFwcGVkQ29udGVudERvY3VtZW50IH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgRm9sZDNFbnZpcm9ubWVudCwgT2JqIH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IGNsYXNzU3RyIH0gZnJvbSAnLi4vbGliL2NsYXNzVXRpbCc7XG5pbXBvcnQgeyBkZWVwTWVyZ2UgfSBmcm9tICcuLi9saWIvZGVlcE1lcmdlJztcbmltcG9ydCB7IHN0YUV2ZW50IH0gZnJvbSAnLi4vbGliL2dvb2dsZUFuYWx5dGljc0V2ZW50cyc7XG5pbXBvcnQgeyBzZXJpYWxpemVEb21haW4gfSBmcm9tICcuLi9saWIvbG9jYWxpemF0aW9uL2RvbWFpbic7XG5pbXBvcnQgeyBBbmNlc3RyeUJ1dHRvbiwgQnV0dG9uUHJvcHMgfSBmcm9tICcuL0YzQnV0dG9uJztcblxuLyoqXG4gKipcbiAqIFNhdmUgdG8gQW5jZXN0cnkgRmllbGQgU2NoZW1hXG4gKiBjaXRhdGlvbjoge1xuICogICB0aXRsZTogc3RyaW5nLCByZXF1aXJlZFxuICogICB1cmw6IHN0cmluZyAtIGEgdXJsLCByZXF1aXJlZFxuICogfVxuICogc291cmNlOiB7XG4gKiBcdCB0aXRsZTogc3RyaW5nLCBmaWVsZCBpdHNlbGYgbXVzdCBiZSBwcmVzZW50LCB2YWx1ZSBvcHRpb25hbCAtIGRlZmF1bHQgdG8gJydcbiAqICAgcHVibGlzaGVyTmFtZTogc3RyaW5nLCBmaWVsZCBpdHNlbGYgbXVzdCBiZSBwcmVzZW50LCB2YWx1ZSBvcHRpb25hbCAtIGRlZmF1bHQgdG8gJydcbiAqICAgcHVibGlzaGVkRGF0ZTogc3RyaW5nIChwcmV0dHkgZm9ybWF0dGVkIGRhdGUsIGFueSBmb3JtYXQpLCBmaWVsZCBpdHNlbGYgbXVzdCBiZSBwcmVzZW50LCB2YWx1ZSBvcHRpb25hbCAtIGRlZmF1bHQgdG8gJydcbiAqICAgcHVibGlzaGVkTG9jYXRpb246IHN0cmluZywgZmllbGQgaXRzZWxmIG11c3QgYmUgcHJlc2VudCwgdmFsdWUgb3B0aW9uYWwgLSBkZWZhdWx0IHRvICcnXG4gKiB9XG4gKiByZXBvc2l0b3J5OiB7XG4gKiAgbmFtZTogXCJodHRwczovL3d3dy5mb2xkMy5jb21cIlxuICogfVxuICogbWVkaWE6IHtcbiAqICAgdXJsOiBzdHJpbmcgb2YgaW1hZ2UgdXJsIC0gbXVzdCBiZSBhIEpQRywgZG9lcyBub3Qgd29yayB3aXRoIFNWR3MuIEFsc28gY2FuJ3QgaGF2ZSB0aGUgaGVpZ2h0ICYgd2lkdGggcGFyYW1zLiBUaGUgbWF4IGxlbmd0aCBvZiB0aGUgdXJsIHNlZW1zIHRvIGJlIHNvbWV3aGVyZSBiZXR3ZWVuIDgyIC0gOTAgY2hhcmFjdGVyc1xuICogICBub3RlOiBzdHJpbmcsIGZpZWxkIGl0c2VsZiBtdXN0IGJlIHByZXNlbnQsIHZhbHVlIG9wdGlvbmFsIC0gZGVmYXVsdCB0byAnJ1xuICogfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNUQURhdGEge1xuXHRjaXRhdGlvbj86IHtcblx0XHR0aXRsZT86IHN0cmluZztcblx0XHR1cmw/OiBzdHJpbmc7XG5cdH0sXG5cdHNvdXJjZT86IHtcblx0XHR0aXRsZT86IHN0cmluZztcblx0XHRwdWJsaXNoZXJOYW1lPzogc3RyaW5nO1xuXHRcdHB1Ymxpc2hlZERhdGU/OiBzdHJpbmc7XG5cdFx0cHVibGlzaGVkTG9jYXRpb24/OiBzdHJpbmc7XG5cdH0sXG5cdHJlcG9zaXRvcnlEb21haW4/OiBzdHJpbmc7XG5cdG1lZGlhPzoge1xuXHRcdHVybD86IHN0cmluZztcblx0XHRub3RlPzogc3RyaW5nO1xuXHR9LFxuXG5cdC8vIGV2ZW50RGF0YT86IEV2ZW50RGF0YTtcbn1cblxuLypcbiAqIGZvdW5kIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9wdWxsLzEyMTE0I2lzc3VlY29tbWVudC0yNjU3NTM1NTdcbiAqIHR5cGUgRGVlcFBhcnRpYWw8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0ge1xuICogICBbUCBpbiBLXTogRGVlcFBhcnRpYWw8VFtQXSwgUGFydGlhbDxrZXlvZiBUW1BdPj5cbiAqIH1cbiAqIGV4cG9ydCB0eXBlIFBhcnRpYWxTVEFEYXRhID0gUGFydGlhbDxTVEFEYXRhPjtcbiAqL1xuXG5pbnRlcmZhY2UgU2F2ZVRvQW5jZXN0cnlQcm9wcyBleHRlbmRzIEJ1dHRvblByb3BzIHtcblx0Z2V0U2F2ZURhdGE6ICgpID0+IFByb21pc2U8U1RBRGF0YT5cblx0Z3RtQ2xpY2s/OiBzdHJpbmdcblx0Y2xhc3NOYW1lPzogc3RyaW5nXG5cdGNvbnRlbnREb2M6IFdyYXBwZWRDb250ZW50RG9jdW1lbnQ7XG5cdHB1YmxpY2F0aW9uOiBDb21wYWN0UHVibGljYXRpb25cbn1cblxuZXhwb3J0IGNvbnN0IFNhdmVUb0FuY2VzdHJ5ID0gKHsgZ2V0U2F2ZURhdGEsIGd0bUNsaWNrLCBjbGFzc05hbWUsIHJlZiwgY29udGVudERvYzogY29udGVudCwgcHVibGljYXRpb24sIC4uLnJlc3QgfTogU2F2ZVRvQW5jZXN0cnlQcm9wcykgPT4ge1xuXHRjb25zdCB7IGYzRG9tYWluLCBlbnZpcm9ubWVudCwgZHluYW1pY0NvbmZpZyB9ID0gdXNlQ29udGV4dChGb2xkM1BhZ2VDb250ZXh0KTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignY29tcG9uZW50cycpO1xuXG5cdGlmIChkeW5hbWljQ29uZmlnLnNob3dTVEFCdG4/LltzZXJpYWxpemVEb21haW4oZjNEb21haW4pXSA9PT0gZmFsc2UpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGxldCBwcm9wczogT2JqID0ge307XG5cdGlmIChndG1DbGljaykgcHJvcHNbJ2RhdGEtZ3RtLWNsaWNrJ10gPSBndG1DbGljaztcblxuXHRyZXR1cm4gKFxuXHRcdDxBbmNlc3RyeUJ1dHRvblxuXHRcdFx0Y2xhc3NOYW1lPXtjbGFzc1N0cignZC1wcmludC1ub25lJywgY2xhc3NOYW1lKX1cblx0XHRcdGd0bUV2ZW50PXtzdGFFdmVudChjb250ZW50LCBwdWJsaWNhdGlvbil9XG5cdFx0XHRvbkNsaWNrPXthc3luYyAoKSA9PiB7XG5cdFx0XHRcdGxldCBzdGFEYXRhID0gYXdhaXQgZ2V0U2F2ZURhdGEoKTtcblx0XHRcdFx0c2F2ZVRvQW5jZXN0cnkoc3RhRGF0YSwgZW52aXJvbm1lbnQpO1xuXHRcdFx0fX1cblx0XHRcdHsuLi5yZXN0fVxuXHRcdFx0ey4uLnByb3BzfVxuXHRcdD5cblx0XHRcdDxzcGFuPnt0KCdzYXZlVG9BbmNlc3RyeS5zYXZlVGV4dCcsICdTYXZlIFRvIEFuY2VzdHJ5Jyl9PC9zcGFuPlxuXHRcdDwvQW5jZXN0cnlCdXR0b24+XG5cdCk7XG59O1xuXG5mdW5jdGlvbiBzYXZlVG9BbmNlc3RyeShkYXRhOiBTVEFEYXRhLCBlbnZpcm9ubWVudDogRm9sZDNFbnZpcm9ubWVudCkge1xuXHRpZiAoISgnU2F2ZVRvQW5jZXN0cnlBcGknIGluIHdpbmRvdykpIHtcblx0XHRjb25zb2xlLndhcm4oJ1NhdmVUb0FuY2VzdHJ5QXBpIG5vdCBsb2FkZWQnKTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRsZXQgb3ZlcnJpZGVVcmwgPSBlbnZpcm9ubWVudC5pbmNsdWRlcygnbGl2ZScpID8gdW5kZWZpbmVkIDogJ2h0dHBzOi8vd3d3LmFuY2VzdHJ5c3RhZ2UuY29tL3NhdmV0b2FuY2VzdHJ5Lyc7XG5cdGxldCBmaW5hbERhdGEgPSBkZWVwTWVyZ2Uoe1xuXHRcdGNpdGF0aW9uOiB7XG5cdFx0XHR0aXRsZTogJycsXG5cdFx0XHR1cmw6IGxvYy5ocmVmLFxuXHRcdH0sXG5cdFx0cmVwb3NpdG9yeURvbWFpbjogbG9jLm9yaWdpbixcblx0XHRtZWRpYToge1xuXHRcdFx0dXJsOiBsb2MucHJvdG9jb2wgKyAnLy8nICsgbG9jLmhvc3RuYW1lICsgJy9pbWcvbm9uaW1hZ2UtaWNvbi5wbmcnLFxuXHRcdFx0bm90ZTogJycsXG5cdFx0fSxcblx0fSwgZGF0YSk7XG5cblx0ZmluYWxEYXRhLmNpdGF0aW9uLnVybCA9IGFkZFhpZChmaW5hbERhdGEuY2l0YXRpb24udXJsKTtcblxuXHRpZiAoZW52aXJvbm1lbnQuaW5jbHVkZXMoJ2xvY2FsJykpIHtcblx0XHRsZXQgY2xlYW5VcmwgPSAodXJsOiBzdHJpbmcpID0+IHVybC5yZXBsYWNlKCdsb2NhbCcsICdkZXYnKS5yZXBsYWNlKCc6OTI5MicsICcnKTtcblxuXHRcdGZpbmFsRGF0YS5jaXRhdGlvbi51cmwgPSBjbGVhblVybChmaW5hbERhdGEuY2l0YXRpb24udXJsKTtcblx0XHRmaW5hbERhdGEubWVkaWEudXJsID0gY2xlYW5VcmwoZmluYWxEYXRhLm1lZGlhLnVybCk7XG5cdFx0ZmluYWxEYXRhLnJlcG9zaXRvcnlEb21haW4gPSBjbGVhblVybChmaW5hbERhdGEucmVwb3NpdG9yeURvbWFpbik7XG5cdH1cblxuXHRmaW5hbERhdGEubWVkaWEudXJsICs9IChmaW5hbERhdGEubWVkaWEudXJsLmluY2x1ZGVzKCc/JykgPyAnJicgOiAnPycpICsgJ3N2Zz1mYWxzZSc7XG5cblx0Oyh3aW5kb3cgYXMgYW55KS5TYXZlVG9BbmNlc3RyeUFwaS5pbnZva2UoZmluYWxEYXRhLCBvdmVycmlkZVVybCk7XG59XG5cbmZ1bmN0aW9uIGFkZFhpZCh1cmw6IHN0cmluZykge1xuXHR2YXIgaCA9IHVybC5pbmRleE9mKCcjJyksIGhhc2hQYXJ0ID0gKGggPiAwKSA/IHVybC5zbGljZShoKSA6ICcnO1xuXHRpZiAoaGFzaFBhcnQpIHVybCA9IHVybC5zbGljZSgwLCBoKTtcblxuXHR2YXIgZGVsaW1pdGVyID0gKHVybC5pbmRleE9mKCc/JykgPj0gMCkgPyAnJicgOiAnPyc7XG5cdHVybCArPSBkZWxpbWl0ZXIgKyAneGlkPTE5NDUnO1xuXG5cdC8qXG5cdCAqIENhbid0IHRoaW5rIG9mIHdoZW4gd2UnZCBhY3R1YWxseSBoYXZlIGEgaGFzaCB0aGF0IHdlJ2Rcblx0ICogY2FyZSBhYm91dCBrZWVwaW5nLCBidXQgd2UnbGwgcHV0IGl0IGJhY2sganVzdCB0byBiZSBzYWZlXG5cdCAqL1xuXHR1cmwgKz0gaGFzaFBhcnQ7XG5cblx0cmV0dXJuIHVybDtcbn1cblxuY29uc3QgbG9jID0gdHlwZW9mIGxvY2F0aW9uID09ICdvYmplY3QnID9cblx0bG9jYXRpb24gOlxuXHR7XG5cdFx0aHJlZjogJycsXG5cdFx0aG9zdG5hbWU6ICcnLFxuXHRcdHByb3RvY29sOiAnJyxcblx0XHRvcmlnaW46ICcnLFxuXHR9O1xuIiwiaW1wb3J0IHsgQ29udGVudE9iamVjdCwgT2JqZWN0UmVmZXJlbmNlLCBTZWFyY2hUYWdJbmZvLCBUYWcsIFRhZ0RhdGEsIFRhZ1BhZ2UgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBzb3J0Q29udGVudE9iamVjdHMgfSBmcm9tICcuLi9saWIvY29udGVudC9jb250ZW50T2JqZWN0JztcbmltcG9ydCB7IEJhY2tlbmRTZXJ2aWNlLCBGM0FwaSB9IGZyb20gJy4vRjNBcGknO1xuXG4vKiogW1NlZSBEb2N1bWVudGF0aW9uXShodHRwczovL2pmb2xkMy5pYXJjaGl2ZXMuY29tL2pvYi9mMy1iYWNrZW5kL2phdmFkb2MvY29tL2FuY2VzdHJ5L2ViL2ZvbGQzMS9zZXJ2aWNlL1RhZ1NlcnZpY2UuaHRtbCkgKi9cbmV4cG9ydCBjbGFzcyBUYWdBcGkgZXh0ZW5kcyBGM0FwaSB7XG5cdHNlcnZpY2UgPSBCYWNrZW5kU2VydmljZS5GT0xEMzE7XG5cdHByb3RlY3RlZCBiYXNlVXJsOiBzdHJpbmcgPSAnL2FwaS90YWcnO1xuXG5cdGxpc3RUYWdnZWREb2N1bWVudHModGFnOiBzdHJpbmcsIGxhc3RLZXk6IHN0cmluZyA9IG51bGwpOiBQcm9taXNlPFRhZ1BhZ2U+IHtcblx0XHRsZXQgcGFyYW1zID0geyB0YWcgfTtcblxuXHRcdGlmIChsYXN0S2V5ICE9PSBudWxsKSB7XG5cdFx0XHQvL0B0cy1pZ25vcmVcblx0XHRcdHBhcmFtc1snbGFzdC1rZXknXSA9IGxhc3RLZXk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvZG9jdW1lbnRzLXBhZ2VkYCwge1xuXHRcdFx0cGFyYW1zLFxuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnVGFnUGFnZScsXG5cdFx0fSk7XG5cdH1cblxuXHRsaXN0VGFnc0ZvckRvY3VtZW50KGRvYzogT2JqZWN0UmVmZXJlbmNlKTogUHJvbWlzZTxUYWdbXT4ge1xuXHRcdHJldHVybiB0aGlzLnBvc3QoJy9kb2N1bWVudHMnLCBkb2MsIHtcblx0XHRcdHNlcmlhbGl6ZVR5cGU6ICdPYmplY3RSZWZlcmVuY2UnLFxuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnVGFnJyxcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIGJhdGNoTGlzdFRhZ3NGb3JEb2N1bWVudHMoZG9jczogT2JqZWN0UmVmZXJlbmNlW10pOlByb21pc2U8Q29udGVudE9iamVjdFtdPiB7XG5cdFx0bGV0IGNvbnRlbnRPYmplY3RzOiBDb250ZW50T2JqZWN0W10gPSBhd2FpdCB0aGlzLnBvc3QoJy9kb2N1bWVudHMvYmF0Y2gnLCBkb2NzLCB7XG5cdFx0XHRzZXJpYWxpemVUeXBlOiAnT2JqZWN0UmVmZXJlbmNlJyxcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0NvbnRlbnRPYmplY3QnLFxuXHRcdH0pO1xuXHRcdHJldHVybiBzb3J0Q29udGVudE9iamVjdHMoZG9jcywgY29udGVudE9iamVjdHMpO1xuXHR9XG5cblx0YWRkVGFnVG9Eb2N1bWVudCh0YWc6IHN0cmluZywgZG9jOiBPYmplY3RSZWZlcmVuY2UpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXQoJycsIHsgbmFtZTogdGFnLCBkb2MgfSwgeyBzZXJpYWxpemVUeXBlOiAnVGFnSWQnIH0pO1xuXHR9XG5cblx0cmVtb3ZlVGFnRnJvbURvY3VtZW50KHRhZzogc3RyaW5nLCBkb2M6IE9iamVjdFJlZmVyZW5jZSkge1xuXHRcdHJldHVybiB0aGlzLmRlbGV0ZSgnJywge1xuXHRcdFx0ZGF0YTogeyBuYW1lOiB0YWcsIGRvYyB9LFxuXHRcdFx0c2VyaWFsaXplVHlwZTogJ1RhZ0lkJyxcblx0XHR9KTtcblx0fVxuXG5cdGRlbGV0ZVRhZyh0YWc6IHN0cmluZykge1xuXHRcdHJldHVybiB0aGlzLmRlbGV0ZShgL2RlbGV0ZS8ke3RhZ31gKTtcblx0fVxuXG5cdGxpc3RUYWdzV2l0aE1ldGFkYXRhKGNvdW50OiBib29sZWFuID0gZmFsc2UpOiBQcm9taXNlPFRhZ0RhdGFbXT4ge1xuXHRcdHJldHVybiB0aGlzLmdldChgL21ldGFkYXRhP2NvdW50PSR7Y291bnR9YCwgeyBkZXNlcmlhbGl6ZVR5cGU6ICdUYWdEYXRhJyB9KTtcblx0fVxuXG5cdGdldFRhZ1dpdGhNZXRhZGF0YSh0YWc6IHN0cmluZyk6IFByb21pc2U8VGFnRGF0YT4ge1xuXHRcdHJldHVybiB0aGlzLmdldChgL21ldGFkYXRhLyR7dGFnfWAsIHtcblx0XHRcdHBhcmFtczogeyB0YWcgfSxcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ1RhZ0RhdGEnLFxuXHRcdH0pO1xuXHR9XG5cblx0dXBkYXRlVGFnV2l0aE1ldGFkYXRhKHRhZzogVGFnRGF0YSkge1xuXHRcdHJldHVybiB0aGlzLnB1dCgnL21ldGFkYXRhJywgdGFnLCB7IHNlcmlhbGl6ZVR5cGU6ICdUYWdEYXRhJyB9KTtcblx0fVxuXG5cdC8qIFRoaXMgaXMgYSBOb2RlIGNvbnZlbmllbmNlIG1ldGhvZCAqL1xuXHRnZXRUYWdJbmZvKHRhZ3M6IHN0cmluZ1tdKTogUHJvbWlzZTxTZWFyY2hUYWdJbmZvW10+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJy9nZXRUYWdJbmZvJywge1xuXHRcdFx0YmFzZVVSTDogbnVsbCxcblx0XHRcdHBhcmFtczogeyB0YWdzIH0sXG5cdFx0fSk7XG5cdH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgQ29udGVudFR5cGUgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBjbGFzc1N0ciB9IGZyb20gJy4uLy4uL2xpYi9jbGFzc1V0aWwnO1xuaW1wb3J0IHsgY29udGVudFR5cGVUb0dvb2dsZVRhZyB9IGZyb20gJy4uLy4uL2xpYi9nb29nbGVUYWdNYW5hZ2VyJztcbmltcG9ydCB7IEYzQnV0dG9uIH0gZnJvbSAnLi4vRjNCdXR0b24nO1xuXG5pbnRlcmZhY2UgU2hhcmVCdXR0b25Qcm9wcyB7XG5cdG9uU2hhcmU6IGFueTtcblx0Y2xhc3NOYW1lPzogYW55O1xuXHRjb250ZW50VHlwZT86IENvbnRlbnRUeXBlO1xuXHRldmVudExhYmVsPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgU2hhcmVCdXR0b24gPSAoe1xuXHRvblNoYXJlLFxuXHRjbGFzc05hbWUsXG5cdGNvbnRlbnRUeXBlLFxuXHRldmVudExhYmVsLFxufTogU2hhcmVCdXR0b25Qcm9wcykgPT4ge1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdjb21wb25lbnRzJyk7XG5cblx0Y29uc3QgdGl0bGUgPSB0KCdzaGFyZUJ1dHRvbi5sYWJlbCcsICdTaGFyZScpO1xuXG5cdHJldHVybiAoXG5cdFx0PEYzQnV0dG9uXG5cdFx0XHRhcmlhLWxhYmVsPXt0aXRsZX1cblx0XHRcdGJ0blR5cGU9J3RyYW5zcGFyZW50J1xuXHRcdFx0Y2xhc3NOYW1lPXtjbGFzc1N0cihcblx0XHRcdFx0J2ljb24tZjMgaWNvbi1zaGFyZScsXG5cdFx0XHRcdGNsYXNzTmFtZSA/IGNsYXNzTmFtZSA6ICdjb2wtYXV0byBtZS0yIGgzIHRleHQtcHJpbWFyeSdcblx0XHRcdCl9XG5cdFx0XHRkYXRhLWd0bS1jbGljaz17Y29udGVudFR5cGVUb0dvb2dsZVRhZyhcblx0XHRcdFx0J3NoYXJlJyxcblx0XHRcdFx0Y29udGVudFR5cGUsXG5cdFx0XHRcdGV2ZW50TGFiZWxcblx0XHRcdCl9XG5cdFx0XHRvbkNsaWNrPXtvblNoYXJlfVxuXHRcdFx0cm9sZT0nYnV0dG9uJ1xuXHRcdFx0dGl0bGU9e3RpdGxlfVxuXHRcdC8+XG5cdCk7XG59O1xuIiwiLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbmZyaWVuZC90cy1rZXljb2RlLWVudW0vYmxvYi9tYXN0ZXIvS2V5LmVudW0udHNcblxuZXhwb3J0IGVudW0gS2V5IHtcblx0QmFja3NwYWNlID0gOCxcblx0VGFiID0gOSxcblx0RW50ZXIgPSAxMyxcblx0U2hpZnQgPSAxNixcblx0Q3RybCA9IDE3LFxuXHRBbHQgPSAxOCxcblx0UGF1c2VCcmVhayA9IDE5LFxuXHRDYXBzTG9jayA9IDIwLFxuXHRFc2NhcGUgPSAyNyxcblx0U3BhY2UgPSAzMixcblx0UGFnZVVwID0gMzMsXG5cdFBhZ2VEb3duID0gMzQsXG5cdEVuZCA9IDM1LFxuXHRIb21lID0gMzYsXG5cblx0TGVmdEFycm93ID0gMzcsXG5cdFVwQXJyb3cgPSAzOCxcblx0UmlnaHRBcnJvdyA9IDM5LFxuXHREb3duQXJyb3cgPSA0MCxcblxuXHRJbnNlcnQgPSA0NSxcblx0RGVsZXRlID0gNDYsXG5cblx0WmVybyA9IDQ4LFxuXHRDbG9zZWRQYXJlbiA9IFplcm8sXG5cdE9uZSA9IDQ5LFxuXHRFeGNsYW1hdGlvbk1hcmsgPSBPbmUsXG5cdFR3byA9IDUwLFxuXHRBdFNpZ24gPSBUd28sXG5cdFRocmVlID0gNTEsXG5cdFBvdW5kU2lnbiA9IFRocmVlLFxuXHRIYXNoID0gUG91bmRTaWduLFxuXHRGb3VyID0gNTIsXG5cdERvbGxhclNpZ24gPSBGb3VyLFxuXHRGaXZlID0gNTMsXG5cdFBlcmNlbnRTaWduID0gRml2ZSxcblx0U2l4ID0gNTQsXG5cdENhcmV0ID0gU2l4LFxuXHRIYXQgPSBDYXJldCxcblx0U2V2ZW4gPSA1NSxcblx0QW1wZXJzYW5kID0gU2V2ZW4sXG5cdEVpZ2h0ID0gNTYsXG5cdFN0YXIgPSBFaWdodCxcblx0QXN0ZXJpayA9IFN0YXIsXG5cdE5pbmUgPSA1Nyxcblx0T3BlblBhcmVuID0gTmluZSxcblxuXHRBID0gNjUsXG5cdEIgPSA2Nixcblx0QyA9IDY3LFxuXHREID0gNjgsXG5cdEUgPSA2OSxcblx0RiA9IDcwLFxuXHRHID0gNzEsXG5cdEggPSA3Mixcblx0SSA9IDczLFxuXHRKID0gNzQsXG5cdEsgPSA3NSxcblx0TCA9IDc2LFxuXHRNID0gNzcsXG5cdE4gPSA3OCxcblx0TyA9IDc5LFxuXHRQID0gODAsXG5cdFEgPSA4MSxcblx0UiA9IDgyLFxuXHRTID0gODMsXG5cdFQgPSA4NCxcblx0VSA9IDg1LFxuXHRWID0gODYsXG5cdFcgPSA4Nyxcblx0WCA9IDg4LFxuXHRZID0gODksXG5cdFogPSA5MCxcblxuXHRMZWZ0V2luZG93S2V5ID0gOTEsXG5cdFJpZ2h0V2luZG93S2V5ID0gOTIsXG5cdFNlbGVjdEtleSA9IDkzLFxuXG5cdE51bXBhZDAgPSA5Nixcblx0TnVtcGFkMSA9IDk3LFxuXHROdW1wYWQyID0gOTgsXG5cdE51bXBhZDMgPSA5OSxcblx0TnVtcGFkNCA9IDEwMCxcblx0TnVtcGFkNSA9IDEwMSxcblx0TnVtcGFkNiA9IDEwMixcblx0TnVtcGFkNyA9IDEwMyxcblx0TnVtcGFkOCA9IDEwNCxcblx0TnVtcGFkOSA9IDEwNSxcblxuXHRNdWx0aXBseSA9IDEwNixcblx0QWRkID0gMTA3LFxuXHRTdWJ0cmFjdCA9IDEwOSxcblx0RGVjaW1hbFBvaW50ID0gMTEwLFxuXHREaXZpZGUgPSAxMTEsXG5cblx0RjEgPSAxMTIsXG5cdEYyID0gMTEzLFxuXHRGMyA9IDExNCxcblx0RjQgPSAxMTUsXG5cdEY1ID0gMTE2LFxuXHRGNiA9IDExNyxcblx0RjcgPSAxMTgsXG5cdEY4ID0gMTE5LFxuXHRGOSA9IDEyMCxcblx0RjEwID0gMTIxLFxuXHRGMTEgPSAxMjIsXG5cdEYxMiA9IDEyMyxcblxuXHROdW1Mb2NrID0gMTQ0LFxuXHRTY3JvbGxMb2NrID0gMTQ1LFxuXG5cdFNlbWlDb2xvbiA9IDE4Nixcblx0RXF1YWxzID0gMTg3LFxuXHRDb21tYSA9IDE4OCxcblx0RGFzaCA9IDE4OSxcblx0UGVyaW9kID0gMTkwLFxuXHRVbmRlclNjb3JlID0gRGFzaCxcblx0UGx1c1NpZ24gPSBFcXVhbHMsXG5cdEZvcndhcmRTbGFzaCA9IDE5MSxcblx0VGlsZGUgPSAxOTIsXG5cdEdyYXZlQWNjZW50ID0gVGlsZGUsXG5cblx0T3BlbkJyYWNrZXQgPSAyMTksXG5cdENsb3NlZEJyYWNrZXQgPSAyMjEsXG5cdFF1b3RlID0gMjIyXG59XG4iLCJpbXBvcnQgeyBCYWNrZW5kU2VydmljZSwgRjNBcGkgfSBmcm9tICcuL0YzQXBpJztcbmltcG9ydCB7IFVzZXJSZXBvcnQgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBIRUFERVJTIH0gZnJvbSAnLi4vZW51bXMvaGVhZGVycy5lbnVtJztcblxuLyoqIFtTZWUgRG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9qZm9sZDMuaWFyY2hpdmVzLmNvbS9qb2IvZjMtYmFja2VuZC9qYXZhZG9jL2NvbS9hbmNlc3RyeS9lYi9mb2xkMzEvc2VydmljZS9Vc2VyUmVwb3J0U2VydmljZS5odG1sKSAqL1xuZXhwb3J0IGNsYXNzIFVzZXJSZXBvcnRBcGkgZXh0ZW5kcyBGM0FwaSB7XG5cdHNlcnZpY2UgPSBCYWNrZW5kU2VydmljZS5GT0xEMzE7XG5cdHByb3RlY3RlZCBiYXNlVXJsOiBzdHJpbmcgPSAnL2FwaSc7XG5cblx0c3VibWl0RmVlZGJhY2socmVwb3J0OiBQYXJ0aWFsPFVzZXJSZXBvcnQ+LCBjYXB0Y2hhVG9rZW46IHN0cmluZyk6IFByb21pc2U8bnVsbD4ge1xuXHRcdHJldHVybiB0aGlzLnBvc3QoJy91c2VyLXJlcG9ydC9mZWVkYmFjaycsIHJlcG9ydCwge1xuXHRcdFx0aGVhZGVyczogeyBbSEVBREVSUy5DQVBUQ0hBX1RPS0VOXTogY2FwdGNoYVRva2VuIH0sXG5cdFx0fSk7XG5cdH1cbn1cbiIsImltcG9ydCB7IHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENhcHRjaGFSZXNwb25zZSB9IGZyb20gJy4uLy4uL2FwaXMvY2FwdGNoYUFwaSc7XG5cbmV4cG9ydCBjb25zdCB1c2VDYXB0Y2hhVG9rZW4gPSAoKSA9PiB7XG5cdGNvbnN0IGNhcHRjaGFUb2tlbiA9IHVzZVJlZjxzdHJpbmc+KG51bGwpO1xuXG5cdHJldHVybiB7XG5cdFx0b25DYXB0Y2hhUmVzcG9uc2UocmVzcDogQ2FwdGNoYVJlc3BvbnNlLCB0b2tlbjogc3RyaW5nKSB7XG5cdFx0XHRpZiAocmVzcCA9PT0gbnVsbCB8fCByZXNwPy5zdWNjZXNzKSB7XG5cdFx0XHRcdGNhcHRjaGFUb2tlbi5jdXJyZW50ID0gdG9rZW47XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRjYXB0Y2hhVG9rZW4sXG5cdH07XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNsYXNzU3RyIH0gZnJvbSAnLi4vLi4vLi4vbGliL2NsYXNzVXRpbCc7XG5cbmludGVyZmFjZSBGb3JtUm93UHJvcHMge1xuXHRsYWJlbDogUmVhY3QuUmVhY3ROb2RlXG5cblx0LyoqXG5cdCAqIEBkZXByZWNhdGVkIHVzZSBjaGlsZHJlblxuXHQgKi9cblx0Y29udGVudD86IFJlYWN0LlJlYWN0Tm9kZVxuXHRjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZVxuXHRmb3JJZD86c3RyaW5nXG5cdGNsYXNzTmFtZT86IHN0cmluZ1xuXHRoZWxwVGV4dD86IFJlYWN0LlJlYWN0Tm9kZVxufVxuXG5leHBvcnQgY29uc3QgRm9ybVJvdyA9ICh7IGxhYmVsLCBjb250ZW50LCBjaGlsZHJlbiwgY2xhc3NOYW1lLCBmb3JJZCwgaGVscFRleHQgfTogRm9ybVJvd1Byb3BzKSA9PiB7XG5cdHJldHVybiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NTdHIoJ3JvdycsICdtYi0zJywgY2xhc3NOYW1lKX0+XG5cdFx0PGRpdiBjbGFzc05hbWU9J2NvbC1tZC0zIGNvbC0xMiB0ZXh0LW1kLWVuZCBjb2wtZm9ybS1sYWJlbCc+XG5cdFx0XHQ8bGFiZWwgaHRtbEZvcj17Zm9ySWR9PntsYWJlbH08L2xhYmVsPiB7LypOZWVkIHRvIGFkZCBpZCBmb3IgdGhlIGZvciovfVxuXHRcdDwvZGl2PlxuXHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtbWQtNyBjb2wtMTInPlxuXHRcdFx0e2NvbnRlbnQgPyBjb250ZW50IDogY2hpbGRyZW59XG5cdFx0XHR7XG5cdFx0XHRcdGhlbHBUZXh0ICYmXG5cdFx0XHRcdDxzbWFsbCBjbGFzc05hbWU9J2Zvcm0tdGV4dCc+e2hlbHBUZXh0fTwvc21hbGw+XG5cdFx0XHR9XG5cdFx0PC9kaXY+XG5cdDwvZGl2Pjtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgRGV0YWlsZWRIVE1MUHJvcHMsIElucHV0SFRNTEF0dHJpYnV0ZXMgfSBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBSYWRpb1Byb3BzIGV4dGVuZHMgT21pdDxEZXRhaWxlZEhUTUxQcm9wczxJbnB1dEhUTUxBdHRyaWJ1dGVzPEhUTUxJbnB1dEVsZW1lbnQ+LCBIVE1MSW5wdXRFbGVtZW50PiwgJ29uVmFsdWVDaGFuZ2UnPiB7XG5cdHZhbHVlczogc3RyaW5nW107XG5cdGdyb3VwTmFtZTogc3RyaW5nO1xuXHRsYWJlbHM/OiBhbnk7XG5cdG9uVmFsdWVDaGFuZ2U/OiAodmFsOiBzdHJpbmcpID0+IHZvaWQ7XG5cdGNsYXNzTmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IEYzUmFkaW8gPSAoe1xuXHR2YWx1ZXMsXG5cdGxhYmVscyxcblx0Z3JvdXBOYW1lLFxuXHRvblZhbHVlQ2hhbmdlLFxuXHR2YWx1ZSxcbn06IFJhZGlvUHJvcHMpID0+IHtcblx0cmV0dXJuIChcblx0XHQ8ZGl2XG5cdFx0XHRhcmlhLWxhYmVsPXtncm91cE5hbWV9XG5cdFx0XHRvbkNoYW5nZT17ZSA9PiB7XG5cdFx0XHRcdC8vQHRzLWlnbm9yZVxuXHRcdFx0XHRvblZhbHVlQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKTtcblx0XHRcdH19XG5cdFx0XHRyb2xlPSdncm91cCdcblx0XHQ+XG5cdFx0XHR7dmFsdWVzLm1hcCh2YWwgPT4ge1xuXHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdDxkaXYga2V5PXtgJHtncm91cE5hbWV9LSR7dmFsfWB9IGNsYXNzTmFtZT0nZm9ybS1jaGVjayc+XG5cdFx0XHRcdFx0XHQ8aW5wdXRcblx0XHRcdFx0XHRcdFx0Y2hlY2tlZD17dmFsID09PSB2YWx1ZX1cblx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdmb3JtLWNoZWNrLWlucHV0J1xuXHRcdFx0XHRcdFx0XHRkYXRhLWN5PSdmMy1yYWRpbydcblx0XHRcdFx0XHRcdFx0aWQ9e2Ake2dyb3VwTmFtZX0tJHt2YWx9YH1cblx0XHRcdFx0XHRcdFx0bmFtZT17Z3JvdXBOYW1lfVxuXHRcdFx0XHRcdFx0XHR0eXBlPSdyYWRpbydcblx0XHRcdFx0XHRcdFx0dmFsdWU9e3ZhbH1cblx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3NOYW1lPSdmb3JtLWNoZWNrLWxhYmVsJyBodG1sRm9yPXtgJHtncm91cE5hbWV9LSR7dmFsfWB9PlxuXHRcdFx0XHRcdFx0XHR7bGFiZWxzID8gbGFiZWxzW3ZhbF0gOiB2YWx9XG5cdFx0XHRcdFx0XHQ8L2xhYmVsPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQpO1xuXHRcdFx0fSl9XG5cdFx0PC9kaXY+XG5cdCk7XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IERldGFpbGVkSFRNTFByb3BzLCBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY2xhc3NTdHIgfSBmcm9tICcuLi8uLi9saWIvY2xhc3NVdGlsJztcbmltcG9ydCB7IHVzZUZvcm1WYWxpZGF0aW9uIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUZvcm1WYWxpZGF0aW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBUZXh0QXJlYVByb3BzIGV4dGVuZHMgRGV0YWlsZWRIVE1MUHJvcHM8UmVhY3QuVGV4dGFyZWFIVE1MQXR0cmlidXRlczxIVE1MVGV4dEFyZWFFbGVtZW50PiwgSFRNTFRleHRBcmVhRWxlbWVudD4ge1xuXHR2YWxpZGF0ZT8odmFsOiBzdHJpbmcpOiBzdHJpbmdcblx0b25WYWx1ZUNoYW5nZT8odmFsOiBzdHJpbmcpOiB2b2lkXG59XG5cbmV4cG9ydCBjb25zdCBGM1RleHRBcmVhID0gZm9yd2FyZFJlZjxIVE1MVGV4dEFyZWFFbGVtZW50LCBUZXh0QXJlYVByb3BzPigocHJvcHMsIHRleHRBcmVhUmVmKSA9PiB7XG5cdGNvbnN0IHsgdmFsaWRhdGUsIG9uVmFsdWVDaGFuZ2UsIC4uLm90aGVyUHJvcHMgfSA9IHByb3BzO1xuXHRjb25zdCB7IHZhbGlkYXRpb25NZXNzYWdlLCBjbGFzc05hbWUsIC4uLnJlc3QgfSA9IHVzZUZvcm1WYWxpZGF0aW9uKHRleHRBcmVhUmVmLCBvdGhlclByb3BzLCB2YWxpZGF0ZSk7XG5cblx0cmV0dXJuIDxkaXY+XG5cdFx0PHRleHRhcmVhXG5cdFx0XHR7Li4ucmVzdCBhcyBUZXh0QXJlYVByb3BzfVxuXHRcdFx0Y2xhc3NOYW1lPXtjbGFzc1N0cihjbGFzc05hbWUsICdmb3JtLWNvbnRyb2wnKX1cblx0XHRcdGRhdGEtY3k9J21hcmtkb3duLXRleHRhcmVhJ1xuXHRcdFx0b25DaGFuZ2U9e2UgPT4ge1xuXHRcdFx0XHRvdGhlclByb3BzLm9uQ2hhbmdlPy4oZSk7XG5cdFx0XHRcdG9uVmFsdWVDaGFuZ2U/LihlLnRhcmdldC52YWx1ZSk7XG5cdFx0XHR9fVxuXHRcdC8+XG5cdFx0PGRpdiBjbGFzc05hbWU9J2ludmFsaWQtZmVlZGJhY2sgaWNvbi1mMyBpY29uLXdhcm5pbmcnIHJvbGU9J2FsZXJ0Jz57dmFsaWRhdGlvbk1lc3NhZ2V9PC9kaXY+XG5cdDwvZGl2Pjtcbn0pO1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IHZhbGlkYXRlTGVuZ3RoIH0gZnJvbSAnLi4vLi4vc2VydmVyL2xpYi9jb250ZW50VmFsaWRhdGlvbic7XG5pbXBvcnQgeyBVc2VyUmVwb3J0QXBpIH0gZnJvbSAnLi4vYXBpcy91c2VyUmVwb3J0QXBpJztcbmltcG9ydCB7IERvY3VtZW50RWxlbWVudFJlZmVyZW5jZSwgT2JqZWN0UmVmZXJlbmNlLCBVc2VyUmVwb3J0IH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgdXNlQWxlcnRzIH0gZnJvbSAnLi4vbGliL2hvb2tzL3VzZUFsZXJ0cyc7XG5pbXBvcnQgeyB1c2VDYXB0Y2hhVG9rZW4gfSBmcm9tICcuLi9saWIvaG9va3MvdXNlQ2FwdGNoYVRva2VuJztcbmltcG9ydCB7IHVzZURpYWxvZ3MgfSBmcm9tICcuLi9saWIvaG9va3MvdXNlRGlhbG9ncyc7XG5pbXBvcnQgeyB1c2VVc2VyIH0gZnJvbSAnLi4vbGliL2hvb2tzL3VzZVVzZXInO1xuaW1wb3J0IHsgZmlsdGVyT2JqZWN0IH0gZnJvbSAnLi4vbGliL21hcFV0aWwnO1xuaW1wb3J0IHsgRm9ybVJvdyB9IGZyb20gJy4uL3BhZ2VzL2FkbWluL2NvbXBvbmVudHMvRm9ybVJvdyc7XG5pbXBvcnQgeyBDYXB0Y2hhQ2hlY2tib3ggfSBmcm9tICcuL0NhcHRjaGFDaGVja2JveCc7XG5pbXBvcnQgeyBTdWJtaXRCdXR0b24gfSBmcm9tICcuL0YzQnV0dG9uJztcbmltcG9ydCB7IERpYWxvZywgRGlhbG9nQ2xvc2VCdXR0b24sIERpYWxvZ1Byb3BzIH0gZnJvbSAnLi9kaWFsb2dzL0RpYWxvZyc7XG5pbXBvcnQgeyBGM0Zvcm0gfSBmcm9tICcuL2Zvcm1zL0YzRm9ybSc7XG5pbXBvcnQgeyBGM0lucHV0IH0gZnJvbSAnLi9mb3Jtcy9GM0lucHV0JztcbmltcG9ydCB7IEYzUmFkaW8gfSBmcm9tICcuL2Zvcm1zL0YzUmFkaW8nO1xuaW1wb3J0IHsgRjNUZXh0QXJlYSB9IGZyb20gJy4vZm9ybXMvRjNUZXh0QXJlYSc7XG5cbmludGVyZmFjZSBSZXBvcnREaWFsb2dQcm9wcyBleHRlbmRzIERpYWxvZ1Byb3BzIHtcblx0b2JqZWN0UmVmZXJlbmNlPzogT2JqZWN0UmVmZXJlbmNlXG5cdGNoaWxkUmVmZXJlbmNlPzogRG9jdW1lbnRFbGVtZW50UmVmZXJlbmNlXG59XG5leHBvcnQgdHlwZSBSZXBvcnRUeXBlID0gJ0NPUlJFQ1RJT04nIHwgJ0lOQVBQUk9QUklBVEUnIHwgJ0NPUFlSSUdIVCcgfCAnU0lURV9QUk9CTEVNJyB8ICdPVEhFUl9QUk9CTEVNJ1xuXG5jb25zdCBSRVBPUlRfRk9STV9JRCA9ICdyZXBvcnQtZGlhbG9nLWZvcm0nO1xuXG5leHBvcnQgY29uc3QgUmVwb3J0RGlhbG9nID0gKHsgb2JqZWN0UmVmZXJlbmNlLCBjaGlsZFJlZmVyZW5jZSwgLi4ucmVzdCB9OiBSZXBvcnREaWFsb2dQcm9wcykgPT4ge1xuXHRjb25zdCB7IGlzU2lnbmVkSW4gfSA9IHVzZVVzZXIoKTtcblx0Y29uc3QgW2Rlc2NyaXB0aW9uLCBzZXREZXNjcmlwdGlvbl0gPSB1c2VTdGF0ZSgnJyk7XG5cdGNvbnN0IFtyZXBvcnRUeXBlLCBzZXRSZXBvcnRUeXBlXSA9IHVzZVN0YXRlKCcnKTtcblx0Y29uc3QgeyBhZGRTdWNjZXNzQWxlcnQsIGFkZEVycm9yQWxlcnQgfSA9IHVzZUFsZXJ0cygpO1xuXHRjb25zdCBbZW1haWwsIHNldEVtYWlsXSA9IHVzZVN0YXRlKCcnKTtcblx0Y29uc3QgeyBjbG9zZURpYWxvZyB9ID0gdXNlRGlhbG9ncygpO1xuXHRjb25zdCB7IGNhcHRjaGFUb2tlbiwgb25DYXB0Y2hhUmVzcG9uc2UgfSA9IHVzZUNhcHRjaGFUb2tlbigpO1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdjb21wb25lbnRzJyk7XG5cblx0Y29uc3QgUkVQT1JUX1RZUEVTID0ge1xuXHRcdElOQVBQUk9QUklBVEU6IHQoJ3JlcG9ydERpYWxvZy5pbmFwcHJvcHJpYXRlQ29udGVudCcsICdJbmFwcHJvcHJpYXRlIENvbnRlbnQnKSxcblx0XHRDT1BZUklHSFQ6IHQoJ3JlcG9ydERpYWxvZy5jb3B5cmlnaHRJbmZyaW5nZW1lbnQnLCAnQ29weXJpZ2h0IEluZnJpbmdlbWVudCcpLFxuXHRcdFNJVEVfUFJPQkxFTTogdCgncmVwb3J0RGlhbG9nLndlYnNpdGVNYWxmdW5jdGlvbicsICdXZWJzaXRlIE1hbGZ1bmN0aW9uJyksXG5cdFx0T1RIRVJfUFJPQkxFTTogdCgncmVwb3J0RGlhbG9nLm90aGVyJywgJ090aGVyJyksXG5cdH07XG5cblx0cmV0dXJuIDxEaWFsb2dcblx0XHR7Li4ucmVzdH1cblx0XHRmb290ZXI9ezw+XG5cdFx0XHQ8RGlhbG9nQ2xvc2VCdXR0b24gLz5cblx0XHRcdDxTdWJtaXRCdXR0b24gZm9ybT17UkVQT1JUX0ZPUk1fSUR9PlxuXHRcdFx0XHRTdWJtaXQgUmVwb3J0XG5cdFx0XHQ8L1N1Ym1pdEJ1dHRvbj5cblx0XHQ8Lz59XG5cdFx0dGl0bGU9e3QoJ3JlcG9ydERpYWxvZy5yZXBvcnRQcm9ibGVtJywgJ1JlcG9ydCBhIHByb2JsZW0nKX1cblx0PlxuXHRcdDxGM0Zvcm1cblx0XHRcdGNsYXNzTmFtZT0nY29udGFpbmVyLWZsdWlkIHAtMCdcblx0XHRcdGlkPXtSRVBPUlRfRk9STV9JRH1cblx0XHRcdG9uU3VibWl0PXthc3luYyAoKSA9PiB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0bGV0IHJlcG9ydDogUGFydGlhbDxVc2VyUmVwb3J0PiA9IHtcblx0XHRcdFx0XHRcdHR5cGU6IHJlcG9ydFR5cGUgYXMgUmVwb3J0VHlwZSxcblx0XHRcdFx0XHRcdG1lc3NhZ2U6IGRlc2NyaXB0aW9uLFxuXHRcdFx0XHRcdFx0b2JqZWN0SWQ6IG9iamVjdFJlZmVyZW5jZSA/ICtvYmplY3RSZWZlcmVuY2U/Lm9iamVjdElkIDogbnVsbCxcblx0XHRcdFx0XHRcdG9iamVjdFR5cGU6IG9iamVjdFJlZmVyZW5jZT8uY29udGVudFR5cGUsXG5cdFx0XHRcdFx0XHR1cmw6IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSxcblx0XHRcdFx0XHRcdGNoaWxkSWQ6IGNoaWxkUmVmZXJlbmNlPy5vYmplY3RJZCxcblx0XHRcdFx0XHRcdGNoaWxkVHlwZTogY2hpbGRSZWZlcmVuY2U/LmNvbnRlbnRUeXBlLFxuXHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRpZiAoIWlzU2lnbmVkSW4pIHtcblx0XHRcdFx0XHRcdHJlcG9ydC5lbWFpbCA9IGVtYWlsO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJlcG9ydCA9IGZpbHRlck9iamVjdChyZXBvcnQsIChfLCB2YWwpID0+IHZhbCAhPT0gdW5kZWZpbmVkICYmIHZhbCAhPT0gbnVsbCk7XG5cblx0XHRcdFx0XHRhd2FpdCBuZXcgVXNlclJlcG9ydEFwaSgpLnN1Ym1pdEZlZWRiYWNrKHJlcG9ydCwgY2FwdGNoYVRva2VuLmN1cnJlbnQpO1xuXG5cdFx0XHRcdFx0YWRkU3VjY2Vzc0FsZXJ0KHQoJ3JlcG9ydERpYWxvZy5zdWNjZXNzQWxlcnQnLCAnWW91ciByZXBvcnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHN1Ym1pdHRlZC4nKSk7XG5cdFx0XHRcdFx0Y2xvc2VEaWFsb2coKTtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0bGV0IG1zZyA9IGUucmVzcG9uc2U/LmRhdGE/LmVycm9yIHx8IHQoJ3JlcG9ydERpYWxvZy5lcnJvckFsZXJ0JywgJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLicpO1xuXHRcdFx0XHRcdGFkZEVycm9yQWxlcnQobXNnKTtcblx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHR9XG5cdFx0XHR9fVxuXHRcdD5cblx0XHRcdDxmaWVsZHNldD5cblx0XHRcdFx0PGxlZ2VuZCBjbGFzc05hbWU9J3Zpc3VhbGx5LWhpZGRlbic+e3QoJ3JlcG9ydERpYWxvZy5sZWdlbmRUZXh0JywgJ1JlcG9ydCBhbiBJc3N1ZScpfTwvbGVnZW5kPlxuXHRcdFx0XHQ8Rm9ybVJvd1xuXHRcdFx0XHRcdGxhYmVsPXt0KCdyZXBvcnREaWFsb2cucHJvYmxlbVR5cGUnLCAnUHJvYmxlbSBUeXBlJyl9XG5cdFx0XHRcdD5cblx0XHRcdFx0XHQ8RjNSYWRpb1xuXHRcdFx0XHRcdFx0Z3JvdXBOYW1lPSdwcm9ibGVtVHlwZSdcblx0XHRcdFx0XHRcdGxhYmVscz17UkVQT1JUX1RZUEVTfVxuXHRcdFx0XHRcdFx0b25WYWx1ZUNoYW5nZT17dmFsdWUgPT4ge1xuXHRcdFx0XHRcdFx0XHRzZXRSZXBvcnRUeXBlKHZhbHVlKTtcblx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRyZXF1aXJlZFxuXHRcdFx0XHRcdFx0dmFsdWU9e3JlcG9ydFR5cGV9XG5cdFx0XHRcdFx0XHR2YWx1ZXM9e09iamVjdC5rZXlzKFJFUE9SVF9UWVBFUyl9XG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0PC9Gb3JtUm93PlxuXHRcdFx0XHQ8Rm9ybVJvd1xuXHRcdFx0XHRcdGRhdGEtY3k9J3Byb2JsZW0tdHlwZS1hcmVhJ1xuXHRcdFx0XHRcdGZvcklkPSdwcm9ibGVtLWRlc2NyaXB0aW9uJ1xuXHRcdFx0XHRcdGxhYmVsPXt0KCdyZXBvcnREaWFsb2cuZGVzY3JpcHRpb24nLCAnRGVzY3JpcHRpb24nKX1cblx0XHRcdFx0PlxuXHRcdFx0XHRcdDxGM1RleHRBcmVhXG5cdFx0XHRcdFx0XHRkYXRhLWN5PSdyZXBvcnQtdGV4dGFyZWEnXG5cdFx0XHRcdFx0XHRpZD0ncHJvYmxlbS1kZXNjcmlwdGlvbidcblx0XHRcdFx0XHRcdG9uQ2hhbmdlPXtlID0+IHNldERlc2NyaXB0aW9uKGUudGFyZ2V0LnZhbHVlKX1cblx0XHRcdFx0XHRcdHJlcXVpcmVkXG5cdFx0XHRcdFx0XHRzdHlsZT17eyBtaW5IZWlnaHQ6ICcyMDBweCcgfX1cblx0XHRcdFx0XHRcdHZhbGlkYXRlPXt2YWwgPT4gdmFsaWRhdGVMZW5ndGgodmFsLCAnRkVFREJBQ0snKX1cblx0XHRcdFx0XHRcdHZhbHVlPXtkZXNjcmlwdGlvbn1cblx0XHRcdFx0XHQvPlxuXHRcdFx0XHQ8L0Zvcm1Sb3c+XG5cdFx0XHRcdHtcblx0XHRcdFx0XHQhaXNTaWduZWRJbiAmJlxuXHRcdFx0XHRcdDxGb3JtUm93XG5cdFx0XHRcdFx0XHRsYWJlbD17dCgncmVwb3J0RGlhbG9nLmVtYWlsJywgJ0VtYWlsJyl9XG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0PEYzSW5wdXRcblx0XHRcdFx0XHRcdFx0b25WYWx1ZUNoYW5nZT17c2V0RW1haWx9XG5cdFx0XHRcdFx0XHRcdHJlcXVpcmVkXG5cdFx0XHRcdFx0XHRcdHZhbHVlPXtlbWFpbH1cblx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0PC9Gb3JtUm93PlxuXHRcdFx0XHR9XG5cdFx0XHQ8L2ZpZWxkc2V0PlxuXHRcdFx0PGZpZWxkc2V0PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ncm93Jz5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLTEyIG9mZnNldC1tZC0zIGNvbC1tZC03Jz48Q2FwdGNoYUNoZWNrYm94IG9uQ2FwdGNoYVJlc3BvbnNlPXtvbkNhcHRjaGFSZXNwb25zZX0gLz48L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2ZpZWxkc2V0PlxuXHRcdDwvRjNGb3JtPlxuXHQ8L0RpYWxvZz47XG59O1xuIiwiaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IFRhZ0RhdGEgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjb25zdCB1c2VMb2NhbGl6ZWRUYWdzID0gKCkgPT4ge1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdjb21tb24nKTtcblxuXHRyZXR1cm4gKHRhZzogVGFnRGF0YSkgPT4ge1xuXHRcdGlmICghdGFnKSByZXR1cm4gdGFnO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnRhZyxcblx0XHRcdGxhYmVsOiB0YWcubmFtZSA9PT0gJ2Jvb2ttYXJrcycgPyB0KCd0YWdMYWJlbC5ib29rbWFya3MnLCAnQm9va21hcmtzJykgOiB0YWcubGFiZWwsXG5cdFx0fTtcblx0fTtcbn07XG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVGFnQXBpIH0gZnJvbSAnLi4vLi4vYXBpcy90YWdBcGknO1xuaW1wb3J0IHsgVGFnRGF0YSB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcblxuZXhwb3J0IGNvbnN0IHVzZVRhZ3MgPSAoKSA9PiB7XG5cdGNvbnN0IFt0YWdzLCBzZXRUYWdzXSA9IHVzZVN0YXRlKFtdKTtcblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRuZXcgVGFnQXBpKCkubGlzdFRhZ3NXaXRoTWV0YWRhdGEoKVxuXHRcdFx0LnRoZW4oKGRhdGE6IFRhZ0RhdGFbXSkgPT4ge1xuXHRcdFx0XHRzZXRUYWdzKGRhdGEpO1xuXHRcdFx0fSk7XG5cdH0sIFtdKTtcblxuXHRyZXR1cm4geyB0YWdzLCBzZXRUYWdzIH07XG59O1xuIiwiaW1wb3J0IHsgVGFnRGF0YSB9IGZyb20gJy4uLy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcblxuZXhwb3J0IGNvbnN0IHJlbW92ZVRhZyA9ICh0YWc6IHN0cmluZywgdGFnczogc3RyaW5nW10pID0+IHtcblx0bGV0IF90YWdzID0gT2JqZWN0LmFzc2lnbihbXSwgdGFncyk7XG5cdGxldCBpbmRleCA9IHRhZ3MuZmluZEluZGV4KHQgPT4gdCA9PT0gdGFnKTtcblxuXHRfdGFncy5zcGxpY2UoaW5kZXgsIDEpO1xuXG5cdHJldHVybiBfdGFncztcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRUYWcgPSAodGFnOiBzdHJpbmcsIHRhZ3M6IHN0cmluZ1tdKSA9PiB7XG5cdGxldCBfdGFnczogc3RyaW5nW10gPSBPYmplY3QuYXNzaWduKFtdLCB0YWdzKTtcblx0aWYgKF90YWdzLmluY2x1ZGVzKHRhZykpIHtcblx0XHRyZXR1cm4gX3RhZ3M7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIFsuLi50YWdzLCB0YWddO1xuXHR9XG59O1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVUYWcgPSAodGFnOiBUYWdEYXRhLCB0YWdzOiBzdHJpbmdbXSkgPT4ge1xuXHRsZXQgeyBpbmRleCB9ID0gZmluZFRhZyh0YWdzLCB0YWcpO1xuXHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9IGVsc2UgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgY29uc3QgZmluZFRhZyA9ICh0YWdzOiBzdHJpbmdbXSB8IFRhZ0RhdGFbXSwgdGFnRGF0YTogVGFnRGF0YSkgPT4ge1xuXHRsZXQgdGFnOiBUYWdEYXRhO1xuXHRsZXQgaW5kZXggPSB0YWdzLmZpbmRJbmRleCh0ID0+IHtcblx0XHQvL0B0cy1pZ25vcmVcblx0XHRpZiAodC5uYW1lKSB7XG5cdFx0XHQvL0B0cy1pZ25vcmVcblx0XHRcdHJldHVybiB0Lm5hbWUgPT09IHRhZ0RhdGEubmFtZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHQgPT09IHRhZ0RhdGEubmFtZTtcblx0XHR9XG5cdH0pO1xuXHRpZiAoaW5kZXggPiAtMSkge1xuXHRcdHRhZyA9IHRhZ3NbaW5kZXhdIGFzIFRhZ0RhdGE7XG5cblx0XHRpZiAodGFnPy5uYW1lID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHRhZyA9IHsgbmFtZTogdGFnc1tpbmRleF0sIGxhYmVsOiB0YWdzW2luZGV4XSB9IGFzIFRhZ0RhdGE7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB7IHRhZywgaW5kZXgsIHRhZ3MgfTtcbn07XG4iLCJleHBvcnQgY29uc3QgdG9UYWdOYW1lID0gKGxhYmVsOiBzdHJpbmcpID0+IHtcblx0cmV0dXJuIGxhYmVsXG5cdFx0LnRyaW0oKVxuXHRcdC50b0xvd2VyQ2FzZSgpXG5cdFx0LnJlcGxhY2UoL1teQS1aYS16MC05XFxzXS9nLCAnJylcblx0XHQucmVwbGFjZSgvXFxzL2csICdfJyk7XG59O1xuIiwiXG5pbXBvcnQgUmVhY3QsIHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRhZ0FwaSB9IGZyb20gJy4uLy4uL2FwaXMvdGFnQXBpJztcbmltcG9ydCB7IE9iamVjdFJlZmVyZW5jZSwgVGFnRGF0YSB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4uLy4uL2VudW1zL2d0bUV2ZW50LmVudW0nO1xuaW1wb3J0IHsgY2xhc3NTdHIgfSBmcm9tICcuLi8uLi9saWIvY2xhc3NVdGlsJztcbmltcG9ydCB7IGNvbnRlbnRUeXBlRXZlbnQgfSBmcm9tICcuLi8uLi9saWIvZ29vZ2xlQW5hbHl0aWNzRXZlbnRzJztcbmltcG9ydCB7IHVzZURhdGFMYXllciB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VEYXRhTGF5ZXInO1xuaW1wb3J0IHsgdXNlTG9jYWxpemVkVGFncyB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VMb2NhbGl6ZWRUYWdzJztcblxuaW50ZXJmYWNlIEJvb2ttYXJrVGFnUGlsbFByb3BzIHtcblx0aWQ6IE9iamVjdFJlZmVyZW5jZTtcblx0dGFnOiBzdHJpbmc7XG5cdHRhZ0RhdGE6IFRhZ0RhdGFbXVxuXHRkb2N1bWVudFRhZ3M6IHN0cmluZ1tdO1xuXHRvbkNoYW5nZTogKHRhZzogc3RyaW5nLCByZW1vdmU/OiBib29sZWFuKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgQm9va21hcmtUYWdQaWxsID0gKHsgaWQsIHRhZywgdGFnRGF0YSwgZG9jdW1lbnRUYWdzLCBvbkNoYW5nZSB9OiBCb29rbWFya1RhZ1BpbGxQcm9wcykgPT4ge1xuXHRjb25zdCB7IHB1c2hFdmVudCB9ID0gdXNlRGF0YUxheWVyKCk7XG5cdGNvbnN0IGxvY2FsaXplVGFnID0gdXNlTG9jYWxpemVkVGFncygpO1xuXG5cdGNvbnN0IGJvb2ttYXJrVGFnID0gdXNlTWVtbygoKSA9PiB7XG5cdFx0cmV0dXJuIHRhZ0RhdGEuZmluZChfdGFnID0+IF90YWcubmFtZSA9PT0gdGFnKTtcblx0fSwgW3RhZywgdGFnRGF0YV0pO1xuXG5cdHJldHVybiAoXG5cdFx0PHNtYWxsXG5cdFx0XHRrZXk9e3RhZ31cblx0XHRcdGNsYXNzTmFtZT17Y2xhc3NTdHIoJ2NvbC1hdXRvJywgJ20tMScsICdweC0yJywgJ3B4LTAnLCAnYm9yZGVyJywgJ3JvdW5kZWQtcGlsbCcsICd0ZXh0LXRydW5jYXRlJywgJ2QtaW5saW5lLWJsb2NrJywgJ3RleHQtbm93cmFwJywgJ2xoLWxnJywgZG9jdW1lbnRUYWdzLmluY2x1ZGVzKHRhZykgPyAnYmctcHJpbWFyeSB0ZXh0LXdoaXRlIGJvcmRlci1wcmltYXJ5IGljb24tZjMgaWNvbi1jaGVjaycgOiAnYmctd2hpdGUgdGV4dC1zZWNvbmRhcnknKX1cblx0XHRcdG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcblx0XHRcdFx0bGV0IGFkZCA9ICFkb2N1bWVudFRhZ3MuaW5jbHVkZXModGFnKTtcblx0XHRcdFx0aWYgKGFkZCkge1xuXHRcdFx0XHRcdGF3YWl0IG5ldyBUYWdBcGkoKS5hZGRUYWdUb0RvY3VtZW50KHRhZywgaWQpO1xuXG5cdFx0XHRcdFx0b25DaGFuZ2UodGFnLCBmYWxzZSk7XG5cdFx0XHRcdFx0cHVzaEV2ZW50KGNvbnRlbnRUeXBlRXZlbnQoaWQuY29udGVudFR5cGUsIEFjdGlvbi5UQUcpKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhd2FpdCBuZXcgVGFnQXBpKCkucmVtb3ZlVGFnRnJvbURvY3VtZW50KHRhZywgaWQpO1xuXG5cdFx0XHRcdFx0b25DaGFuZ2UodGFnLCB0cnVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fX1cblx0XHRcdHJvbGU9J2J1dHRvbidcblx0XHRcdHN0eWxlPXt7IG1heFdpZHRoOiAxMjAgfX1cblx0XHQ+XG5cdFx0XHR7bG9jYWxpemVUYWcoYm9va21hcmtUYWcpPy5sYWJlbH1cblx0XHQ8L3NtYWxsPlxuXHQpO1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IFRhZ0FwaSB9IGZyb20gJy4uLy4uL2FwaXMvdGFnQXBpJztcbmltcG9ydCB7IE9iamVjdFJlZmVyZW5jZSwgVGFnRGF0YSB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IEtleSB9IGZyb20gJy4uLy4uL2VudW1zL0tleUNvZGUuZW51bSc7XG5pbXBvcnQgeyBBY3Rpb24sIFJlc3VsdCB9IGZyb20gJy4uLy4uL2VudW1zL2d0bUV2ZW50LmVudW0nO1xuaW1wb3J0IHsgZ2V0Q29udGVudFR5cGVMYWJlbCB9IGZyb20gJy4uLy4uL2xpYi9jb250ZW50L2NvbnRlbnRPYmplY3QnO1xuaW1wb3J0IHsgY29udGVudFR5cGVFdmVudCB9IGZyb20gJy4uLy4uL2xpYi9nb29nbGVBbmFseXRpY3NFdmVudHMnO1xuaW1wb3J0IHsgY29udGVudFR5cGVUb0dvb2dsZVRhZyB9IGZyb20gJy4uLy4uL2xpYi9nb29nbGVUYWdNYW5hZ2VyJztcbmltcG9ydCB7IHVzZUFsZXJ0cyB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VBbGVydHMnO1xuaW1wb3J0IHsgdXNlRGF0YUxheWVyIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURhdGFMYXllcic7XG5pbXBvcnQgeyB1c2VMb2NhbGl6ZWRUYWdzIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUxvY2FsaXplZFRhZ3MnO1xuaW1wb3J0IHsgdXNlVGFncyB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VUYWdzJztcbmltcG9ydCB7IHVzZVVzZXIgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlVXNlcic7XG5pbXBvcnQgeyB1c2VWZXJpZnkgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlVmVyaWZ5JztcbmltcG9ydCB7IGRhdGVTb3J0IH0gZnJvbSAnLi4vLi4vbGliL3NvcnRVdGlsJztcbmltcG9ydCB7IGdldFRpbWVJbk1zIH0gZnJvbSAnLi4vLi4vbGliL3RpbWUnO1xuaW1wb3J0IHsgZmluZFRhZywgdmFsaWRhdGVUYWcgfSBmcm9tICcuLi8uLi9wYWdlcy9nYWxsZXJ5L3V0aWxzL2dhbGxlcnlUYWcnO1xuaW1wb3J0IHsgdG9UYWdOYW1lIH0gZnJvbSAnLi4vLi4vcGFnZXMvZ2FsbGVyeS91dGlscy9nYWxsZXJ5VGVtcGxhdGluZyc7XG5pbXBvcnQgeyBGM0J1dHRvbiB9IGZyb20gJy4uL0YzQnV0dG9uJztcbmltcG9ydCB7IEYzTGluayB9IGZyb20gJy4uL0YzTGluayc7XG5pbXBvcnQgeyBGM0lucHV0IH0gZnJvbSAnLi4vZm9ybXMvRjNJbnB1dCc7XG5pbXBvcnQgeyBCb29rbWFya1RhZ1BpbGwgfSBmcm9tICcuL0Jvb2ttYXJrVGFnUGlsbCc7XG5cbmludGVyZmFjZSBUYWdEcmF3ZXJDb250ZW50UHJvcHMge1xuXHRpZDogT2JqZWN0UmVmZXJlbmNlO1xuXHRldmVudExhYmVsPzogc3RyaW5nO1xuXHRvbkNoYW5nZT86ICh0YWdzOiBzdHJpbmdbXSkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IFRhZ0RyYXdlckNvbnRlbnQgPSAoeyBpZCwgZXZlbnRMYWJlbCwgb25DaGFuZ2UgfTogVGFnRHJhd2VyQ29udGVudFByb3BzKSA9PiB7XG5cdGNvbnN0IFBSRVZJRVdfVEFHX0NPVU5UID0gMTI7XG5cdGNvbnN0IFttYXhUYWdDb3VudCwgc2V0TWF4VGFnQ291bnRdID0gdXNlU3RhdGUoUFJFVklFV19UQUdfQ09VTlQpO1xuXHRjb25zdCBbbW9yZVRhZ0xhYmVsLCBzZXRNb3JlVGFnTGFiZWxdID0gdXNlU3RhdGUoJ1NlZSBBbGwnKTtcblx0Y29uc3QgeyBwdXNoRXZlbnQgfSA9IHVzZURhdGFMYXllcigpO1xuXHRjb25zdCB7IHRhZ3MsIHNldFRhZ3MgfSA9IHVzZVRhZ3MoKTtcblx0Y29uc3QgW3RhZ0RhdGEsIHNldFRhZ0RhdGFdID0gdXNlU3RhdGUoW10pO1xuXHRjb25zdCB7IHVzZXIgfSA9IHVzZVVzZXIoKTtcblx0Y29uc3QgW3RhZ0lucHV0LCBzZXRUYWdJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG5cdGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblx0Y29uc3QgeyBhZGRBbGVydCwgYWRkU3VjY2Vzc0FsZXJ0LCBhZGRFcnJvckFsZXJ0IH0gPSB1c2VBbGVydHMoKTtcblx0Y29uc3QgW2RvY3VtZW50VGFncywgc2V0RG9jdW1lbnRUYWdzXSA9IHVzZVN0YXRlKFtdKTtcblx0Y29uc3QgW3lvdXJUYWdzLCBzZXRZb3VyVGFnc10gPSB1c2VTdGF0ZShbXSk7XG5cdGNvbnN0IHsgdmVyaWZ5IH0gPSB1c2VWZXJpZnkoKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignY29tcG9uZW50cycpO1xuXHRjb25zdCBsb2NhbGl6ZVRhZyA9IHVzZUxvY2FsaXplZFRhZ3MoKTtcblxuXHRjb25zdCB7IGNvbnRlbnRUeXBlIH0gPSBpZDtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdG5ldyBUYWdBcGkoKS5saXN0VGFnc0ZvckRvY3VtZW50KGlkKVxuXHRcdFx0LnRoZW4oZG9jVGFncyA9PiB7XG5cdFx0XHRcdGxldCBfdGFncyA9IGRvY1RhZ3MubWFwKHQgPT4gdC5uYW1lKTtcblx0XHRcdFx0c2V0RG9jdW1lbnRUYWdzKF90YWdzKTtcblx0XHRcdH0pO1xuXHR9LCBbaWRdKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGlmICh0YWdzPy5sZW5ndGgpIHtcblx0XHRcdGxldCBfdGFncyA9IHRhZ3Muc29ydCgoYTogVGFnRGF0YSwgYjogVGFnRGF0YSkgPT4gZGF0ZVNvcnQoYi5tb2RpZmllZERhdGUsIGEubW9kaWZpZWREYXRlKSk7XG5cdFx0XHRsZXQgX3lvdXJUYWdzID0gX3RhZ3MuZmlsdGVyKHQgPT4gIWRvY3VtZW50VGFncy5pbmNsdWRlcyh0Lm5hbWUpKTtcblxuXHRcdFx0c2V0WW91clRhZ3MoX3lvdXJUYWdzKTtcblx0XHRcdHNldFRhZ0RhdGEoX3RhZ3MubWFwKGxvY2FsaXplVGFnKSk7XG5cdFx0fVxuXHR9LCBbdGFncywgZG9jdW1lbnRUYWdzXSk7XG5cblx0Y29uc3QgaGFuZGxlQWRkVGFnID0gYXN5bmMgKCkgPT4ge1xuXHRcdHNldExvYWRpbmcodHJ1ZSk7XG5cblx0XHRsZXQgbGFiZWwgPSB0YWdJbnB1dC50cmltKCk7XG5cdFx0bGV0IHRhZ05hbWUgPSB0b1RhZ05hbWUodGFnSW5wdXQpO1xuXG5cdFx0bGV0IHsgdGFnIH0gPSBmaW5kVGFnKHRhZ0RhdGEsIHsgbmFtZTogdGFnTmFtZSB9IGFzIFRhZ0RhdGEpO1xuXG5cdFx0aWYgKCF0YWcpIHtcblx0XHRcdHRhZyA9IHtcblx0XHRcdFx0bGFiZWwsXG5cdFx0XHRcdG5hbWU6IHRhZ05hbWUsXG5cdFx0XHRcdG1ldGFkYXRhOiBbXSxcblx0XHRcdFx0dXNlcklkOiB1c2VyLnVzZXJJZCxcblx0XHRcdH0gYXMgVGFnRGF0YTtcblx0XHR9XG5cblx0XHRpZiAoZG9jdW1lbnRUYWdzLmluY2x1ZGVzKHRhZ05hbWUpKSB7XG5cdFx0XHRhZGRBbGVydCh0KCd0YWdEcmF3ZXJDb250ZW50LmFscmVhZHlBZGRlZEFsZXJ0JywgJ1RhZyBcInt7dGFnTGFiZWx9fVwiIGFscmVhZHkgYWRkZWQuJywgeyB0YWdMYWJlbDogdGFnLmxhYmVsIH0pLCBnZXRUaW1lSW5NcygxMCwgJ3NlYycpKTtcblx0XHRcdHNldFRhZ0lucHV0KCcnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRuZXcgVGFnQXBpKClcblx0XHRcdC5hZGRUYWdUb0RvY3VtZW50KHRhZy5uYW1lLCBpZClcblx0XHRcdC50aGVuKGFzeW5jICgpID0+IHtcblx0XHRcdFx0bGV0IHVuaXF1ZSA9IHZhbGlkYXRlVGFnKHRhZywgdGFncyk7XG5cdFx0XHRcdGlmICh1bmlxdWUpIHtcblx0XHRcdFx0XHRhd2FpdCBuZXcgVGFnQXBpKCkudXBkYXRlVGFnV2l0aE1ldGFkYXRhKHRhZyBhcyBUYWdEYXRhKVxuXHRcdFx0XHRcdFx0LnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRsZXQgX3RhZ0RhdGEgPSBPYmplY3QuYXNzaWduKFtdLCAgdGFnRGF0YSk7XG5cdFx0XHRcdFx0XHRcdF90YWdEYXRhLnB1c2godGFnKTtcblx0XHRcdFx0XHRcdFx0c2V0VGFncyhfdGFnRGF0YSk7XG5cdFx0XHRcdFx0XHRcdGFkZFN1Y2Nlc3NBbGVydCh0KCd0YWdEcmF3ZXJDb250ZW50LnN1Y2Nlc3NBbGVydCcsICdZb3VyIHRhZyB3YXMgY3JlYXRlZCBzdWNjZXNzZnVsbHkuJykpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRwdXNoRXZlbnQoY29udGVudFR5cGVFdmVudChpZC5jb250ZW50VHlwZSwgQWN0aW9uLlRBRykpO1xuXHRcdFx0fSlcblx0XHRcdC50aGVuKCgpID0+IHtcblx0XHRcdFx0bGV0IF9kb2N1bWVudFRhZ3MgPSBPYmplY3QuYXNzaWduKFtdLCBkb2N1bWVudFRhZ3MpO1xuXHRcdFx0XHRfZG9jdW1lbnRUYWdzLnB1c2godGFnLm5hbWUpO1xuXG5cdFx0XHRcdHNldERvY3VtZW50VGFncyhfZG9jdW1lbnRUYWdzKTtcblx0XHRcdFx0b25DaGFuZ2U/LihfZG9jdW1lbnRUYWdzKTtcblx0XHRcdH0pXG5cdFx0XHQuY2F0Y2goZSA9PiB7XG5cdFx0XHRcdHB1c2hFdmVudChjb250ZW50VHlwZUV2ZW50KGlkLmNvbnRlbnRUeXBlLCBBY3Rpb24uVEFHLCBSZXN1bHQuRkFJTCwgZSkpO1xuXHRcdFx0XHRhZGRFcnJvckFsZXJ0KHQoJ3RhZ0RyYXdlckNvbnRlbnQuZXJyb3JBbGVydCcsICdUaGVyZSB3YXMgYW4gZXJyb3Igc2F2aW5nIHlvdXIgdGFnLicpKTtcblx0XHRcdH0pXG5cdFx0XHQuZmluYWxseSgoKSA9PiB7XG5cdFx0XHRcdHNldFRhZ0lucHV0KCcnKTtcblx0XHRcdFx0c2V0TG9hZGluZyhmYWxzZSk7XG5cdFx0XHR9KTtcblx0fTtcblxuXHRjb25zdCB0b2dnbGVUYWdDb3VudCA9ICgpID0+IHtcblx0XHRsZXQgbGFiZWw7XG5cdFx0bGV0IGNvdW50O1xuXHRcdGlmIChtYXhUYWdDb3VudCA8IHRhZ3M/Lmxlbmd0aCkge1xuXHRcdFx0bGFiZWwgPSB0KCd0YWdEcmF3ZXJDb250ZW50LnNlZUxlc3NMYWJlbCcsICdTZWUgTGVzcycpO1xuXHRcdFx0Y291bnQgPSB0YWdzPy5sZW5ndGg7XG5cdFx0fSBlbHNlIGlmIChtYXhUYWdDb3VudCA9PT0gdGFncz8ubGVuZ3RoKSB7XG5cdFx0XHRsYWJlbCA9IHQoJ3RhZ0RyYXdlckNvbnRlbnQuc2VlQWxsTGFiZWwnLCAnU2VlIEFsbCcpO1xuXHRcdFx0Y291bnQgPSBQUkVWSUVXX1RBR19DT1VOVDtcblx0XHR9XG5cdFx0c2V0TW9yZVRhZ0xhYmVsKGxhYmVsKTtcblx0XHRzZXRNYXhUYWdDb3VudChjb3VudCk7XG5cdH07XG5cblx0Y29uc3QgcmVtb3ZlVGFncyA9IGFzeW5jICgpID0+IHtcblx0ICBpZiAoYXdhaXQgdmVyaWZ5KHQoJ3RhZ0RyYXdlckNvbnRlbnQucmVtb3ZlVGFnc1ZlcmlmeURpYWxvZycsICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIGFsbCB0YWdzIGZyb20gdGhpcyB7e2NvbnRlbnRMYWJlbH19PycsIHsgY29udGVudExhYmVsOiBnZXRDb250ZW50VHlwZUxhYmVsKGNvbnRlbnRUeXBlKSB9KSkpIHtcblx0XHQgIGRvY3VtZW50VGFncy5mb3JFYWNoKHRhZyA9PiB7XG5cdFx0XHRcdG5ldyBUYWdBcGkoKS5yZW1vdmVUYWdGcm9tRG9jdW1lbnQodGFnLCBpZCk7XG5cdFx0ICB9KTtcblx0XHQgIHNldERvY3VtZW50VGFncyhbXSk7XG5cdCAgfVxuXHR9O1xuXG5cdGNvbnN0IGhhbmRsZUNoYW5nZSA9ICh0YWc6IHN0cmluZywgcmVtb3ZlOiBib29sZWFuKSA9PiB7XG5cdFx0bGV0IF90YWdzID0gZG9jdW1lbnRUYWdzO1xuXHRcdGlmIChyZW1vdmUpIHtcblx0XHRcdF90YWdzID0gZG9jdW1lbnRUYWdzLmZpbHRlcih0ID0+IHQgIT09IHRhZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdF90YWdzID0gWy4uLmRvY3VtZW50VGFncywgdGFnXTtcblx0XHR9XG5cblx0XHRvbkNoYW5nZT8uKF90YWdzKTtcblx0XHRzZXREb2N1bWVudFRhZ3MoX3RhZ3MpO1xuXHR9O1xuXG5cdHJldHVybiAoXG5cdFx0PGRpdj5cblx0XHRcdHtcblx0XHRcdFx0ZG9jdW1lbnRUYWdzLmxlbmd0aCA+IDAgP1xuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdyb3cgbWItMic+XG5cdFx0XHRcdFx0XHQ8aDMgY2xhc3NOYW1lPSdwdC0wIHBiLTAgdGV4dC1sZWZ0IGNvbCB0ZXh0LXNlY29uZGFyeSBoNic+XG5cdFx0XHRcdFx0XHRcdHt0KCd0YWdEcmF3ZXJDb250ZW50LmN1cnJlbnRUYWdzSGVhZGVyJywgJ0N1cnJlbnQgVGFncycpfVxuXHRcdFx0XHRcdFx0PC9oMz5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdwdC0wIHBiLTAgdGV4dC1yaWdodCBjb2wnPlxuXHRcdFx0XHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRcdFx0XHRidG5UeXBlPSdzZWNvbmRhcnknXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdwb3NpdGlvbi1hYnNvbHV0ZSBlbmQtMCBtZS0zJ1xuXHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9e3JlbW92ZVRhZ3N9XG5cdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXG5cdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHR7dCgndGFnRHJhd2VyQ29udGVudC5yZW1vdmVCdXR0b25UZXh0JywgJ1JlbW92ZScpfVxuXHRcdFx0XHRcdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+IDpcblx0XHRcdFx0XHQ8cCBjbGFzc05hbWU9J3RleHQtbXV0ZWQgbXktNCc+XG5cdFx0XHRcdFx0XHR7dCgndGFnRHJhd2VyQ29udGVudC5ub1RhZ3NUZXh0JywgYFlvdSBkb24ndCBoYXZlIGFueSB0YWdzIHlldC4gQWRkIGEgdGFnIGJlbG93LmApfVxuXHRcdFx0XHRcdDwvcD5cblx0XHRcdH1cblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdyb3cgZ3gtMiBneS0wIG1iLTMgdGFnLWNvbnRhaW5lcic+XG5cdFx0XHRcdHtcblx0XHRcdFx0XHRkb2N1bWVudFRhZ3MubWFwKHRhZyA9PiB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gPEJvb2ttYXJrVGFnUGlsbFxuXHRcdFx0XHRcdFx0XHRrZXk9e3RhZ31cblx0XHRcdFx0XHRcdFx0ZG9jdW1lbnRUYWdzPXtkb2N1bWVudFRhZ3N9XG5cdFx0XHRcdFx0XHRcdGlkPXtpZH1cblx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9e2hhbmRsZUNoYW5nZX1cblx0XHRcdFx0XHRcdFx0dGFnPXt0YWd9XG5cdFx0XHRcdFx0XHRcdHRhZ0RhdGE9e3RhZ0RhdGF9XG5cdFx0XHRcdFx0XHQvPjtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdHtcblx0XHRcdFx0eW91clRhZ3MubGVuZ3RoID4gMCAmJlxuXHRcdFx0XHQ8PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdyb3cgbWItMSc+XG5cdFx0XHRcdFx0XHQ8aDMgY2xhc3NOYW1lPSdwdC0wIHBiLTAgdGV4dC1sZWZ0IGNvbCB0ZXh0LXNlY29uZGFyeSBoNic+XG5cdFx0XHRcdFx0XHRcdHt0KCd0YWdEcmF3ZXJDb250ZW50LnlvdXJUYWdzSGVhZGVyJywgJ1lvdXIgVGFncycpfVxuXHRcdFx0XHRcdFx0PC9oMz5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtYXV0byBtcy1hdXRvJz5cblx0XHRcdFx0XHRcdFx0PHNtYWxsPlxuXHRcdFx0XHRcdFx0XHRcdDxGM0xpbmsgaHJlZj0nL2dhbGxlcnkvdGFncz9lZGl0PXRydWUnIHRhcmdldD0nX2JsYW5rJz5cblx0XHRcdFx0XHRcdFx0XHRcdHt0KCd0YWdEcmF3ZXJDb250ZW50Lm1hbmFnZVRhZ3NCdXR0b25UZXh0JywgJ01hbmFnZSBUYWdzJyl9XG5cdFx0XHRcdFx0XHRcdFx0PC9GM0xpbms+XG5cdFx0XHRcdFx0XHRcdDwvc21hbGw+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ncm93IGd4LTIgZ3ktMCBtYi0zIHAtMiB0YWctY29udGFpbmVyJz5cblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0eW91clRhZ3MubWFwKCh0YWcsIGkpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gPFJlYWN0LkZyYWdtZW50IGtleT17dGFnLm5hbWV9PlxuXHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpIDwgbWF4VGFnQ291bnQgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxCb29rbWFya1RhZ1BpbGxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGtleT17dGFnLm5hbWV9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkb2N1bWVudFRhZ3M9e2RvY3VtZW50VGFnc31cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlkPXtpZH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0YWc9e3RhZy5uYW1lfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGFnRGF0YT17dGFnRGF0YX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvPiA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bnVsbFxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdDwvUmVhY3QuRnJhZ21lbnQ+O1xuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHR5b3VyVGFncy5sZW5ndGggPiBQUkVWSUVXX1RBR19DT1VOVCAmJlxuXHRcdFx0XHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRcdFx0XHRidG5UeXBlPSd0cmFuc3BhcmVudCdcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2NvbC1hdXRvJ1xuXHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHRvZ2dsZVRhZ0NvdW50KCl9XG5cdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXG5cdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHQ8c3Bhbj57bW9yZVRhZ0xhYmVsfTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PC9GM0J1dHRvbj5cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC8+XG5cdFx0XHR9XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ncm93IGJvcmRlci1ib3R0b20gbWItMyc+XG5cdFx0XHRcdDxoMyBjbGFzc05hbWU9J3B0LTAgcGItMCB0ZXh0LWxlZnQgdGV4dC1zZWNvbmRhcnkgaDYnPlxuXHRcdFx0XHRcdDxsYWJlbCBodG1sRm9yPSdhZGRUYWcnPnt0KCd0YWdEcmF3ZXJDb250ZW50LmFkZFRhZ3NMYWJlbCcsICdBZGQgVGFncycpfTwvbGFiZWw+XG5cdFx0XHRcdDwvaDM+XG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdpbnB1dC1ncm91cCBtYi0zIGNvbC0xMic+XG5cdFx0XHRcdFx0PEYzSW5wdXRcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC1zbSdcblx0XHRcdFx0XHRcdGlkPSdhZGRUYWcnXG5cdFx0XHRcdFx0XHRtYXhMZW5ndGg9ezI4MH1cblx0XHRcdFx0XHRcdG9uQ2hhbmdlPXt0YWcgPT4gc2V0VGFnSW5wdXQodGFnLmN1cnJlbnRUYXJnZXQudmFsdWUpfVxuXHRcdFx0XHRcdFx0b25LZXlQcmVzcz17a2V5ID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKGtleS5jaGFyQ29kZSA9PT0gS2V5LkVudGVyIHx8IGtleS5rZXlDb2RlID09PSBLZXkuRW50ZXIpIHtcblx0XHRcdFx0XHRcdFx0XHRoYW5kbGVBZGRUYWcoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdHBsYWNlaG9sZGVyPXt0KCd0YWdEcmF3ZXJDb250ZW50LmFkZFRhZ1BsYWNlaG9sZGVyJywgJ0VudGVyIGEgbmV3IHRhZ+KApicpfVxuXHRcdFx0XHRcdFx0dHlwZT0ndGV4dCdcblx0XHRcdFx0XHRcdHZhbHVlPXt0YWdJbnB1dH1cblx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdDxGM0J1dHRvblxuXHRcdFx0XHRcdFx0YnRuVHlwZT0nc2Vjb25kYXJ5J1xuXHRcdFx0XHRcdFx0ZGF0YS1ndG0tY2xpY2s9e2NvbnRlbnRUeXBlVG9Hb29nbGVUYWcoXG5cdFx0XHRcdFx0XHRcdCd0YWcnLFxuXHRcdFx0XHRcdFx0XHRjb250ZW50VHlwZSxcblx0XHRcdFx0XHRcdFx0ZXZlbnRMYWJlbFxuXHRcdFx0XHRcdFx0KX1cblx0XHRcdFx0XHRcdGRpc2FibGVkPXtsb2FkaW5nfVxuXHRcdFx0XHRcdFx0b25DbGljaz17aGFuZGxlQWRkVGFnfVxuXHRcdFx0XHRcdFx0b3V0bGluZT17bG9hZGluZ31cblx0XHRcdFx0XHRcdHNpemU9J3NtJ1xuXHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdHtsb2FkaW5nID8gdCgndGFnRHJhd2VyQ29udGVudC5hZGRpbmdUYWcnLCAnQWRkaW5nLi4uJykgOiB0KCd0YWdEcmF3ZXJDb250ZW50LmFkZFRhZycsICdBZGQnKX1cblx0XHRcdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHQpO1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBPYmplY3RSZWZlcmVuY2UgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyB1c2VEaWFsb2dzIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURpYWxvZ3MnO1xuaW1wb3J0IHsgdXNlU2lkZWJhcnMgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlU2lkZWJhcic7XG5pbXBvcnQgeyBLZXkgfSBmcm9tICcuLi8uLi9lbnVtcy9LZXlDb2RlLmVudW0nO1xuaW1wb3J0IHsgRjNCdXR0b24gfSBmcm9tICcuLi9GM0J1dHRvbic7XG5pbXBvcnQgeyBSZXBvcnREaWFsb2cgfSBmcm9tICcuLi9SZXBvcnREaWFsb2cnO1xuaW1wb3J0IHsgVGFnRHJhd2VyQ29udGVudCB9IGZyb20gJy4vVGFnRHJhd2VyQ29udGVudCc7XG5pbXBvcnQgeyBnZXRDb250ZW50VHlwZUxhYmVsIH0gZnJvbSAnLi4vLi4vbGliL2NvbnRlbnQvY29udGVudE9iamVjdCc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuXG5pbnRlcmZhY2UgVGFnRHJhd2VyUHJvcHMge1xuXHRpZDogT2JqZWN0UmVmZXJlbmNlO1xuXHRldmVudExhYmVsPzogc3RyaW5nO1xuXHRvbkNoYW5nZTogKHRhZ3M6IHN0cmluZ1tdKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgVGFnRHJhd2VyID0gKHsgaWQsIGV2ZW50TGFiZWwsIG9uQ2hhbmdlIH06IFRhZ0RyYXdlclByb3BzKSA9PiB7XG5cdGNvbnN0IHsgdG9nZ2xlU2lkZWJhciB9ID0gdXNlU2lkZWJhcnMoKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignY29tcG9uZW50cycpO1xuXG5cdGNvbnN0IGhhbmRsZUVzY2FwZSA9IChldmVudDogeyBrZXlDb2RlOiBLZXkgfSkgPT4ge1xuXHRcdGlmIChldmVudC5rZXlDb2RlID09PSBLZXkuRXNjYXBlKSB7XG5cdFx0XHR0b2dnbGVTaWRlYmFyKGZhbHNlKTtcblx0XHR9XG5cdH07XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlRXNjYXBlLCBmYWxzZSk7XG5cblx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUVzY2FwZSwgZmFsc2UpO1xuXHRcdH07XG5cdH0sIFtdKTtcblxuXHRjb25zdCB7IG9wZW5EaWFsb2cgfSA9IHVzZURpYWxvZ3MoKTtcblxuXHRyZXR1cm4gKFxuXHRcdDxkaXYgY2xhc3NOYW1lPSdjb250YWluZXItc20gcHktMiBweC0zIHB5LW1kLTMgcHgtbWQtNCBiZy13aGl0ZSBkLWZsZXggZmxleC1jb2x1bW4gaC0xMDAnPlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J3JvdyBib3JkZXItYm90dG9tIG1iLTMnPlxuXHRcdFx0XHQ8aDIgY2xhc3NOYW1lPSdjb2wgdGV4dC1zZWNvbmRhcnkgaDUnPlxuXHRcdFx0XHRcdDxzcGFuIGFyaWEtaGlkZGVuPSd0cnVlJyBjbGFzc05hbWU9J2ljb24tZjMgaWNvbi10YWcgYWxpZ24tbWlkZGxlIG1lLTEnIC8+XG5cdFx0XHRcdFx0e3QoJ3RhZ0RyYXdlci5oZWFkZXInLCAnVGFncycpfVxuXHRcdFx0XHQ8L2gyPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLWF1dG8gbXMtYXV0byc+XG5cdFx0XHRcdFx0PGJ1dHRvbiBjbGFzc05hbWU9J2J0biBidG4tc2Vjb25kYXJ5LW91dGxpbmUgYm9yZGVyLTAnIG9uQ2xpY2s9eygpID0+IHRvZ2dsZVNpZGViYXIoZmFsc2UpfSB0eXBlPSdidXR0b24nPlxuXHRcdFx0XHRcdFx0PHNwYW4gYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzTmFtZT0naWNvbi1mMyBpY29uLWNsb3NlJyAvPlxuXHRcdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdFx0PFRhZ0RyYXdlckNvbnRlbnQgZXZlbnRMYWJlbD17ZXZlbnRMYWJlbH0gaWQ9e2lkfSBvbkNoYW5nZT17b25DaGFuZ2V9IC8+XG5cdFx0XHQ8ZGl2PjxGM0J1dHRvbiBvbkNsaWNrPXsoKSA9PiB0b2dnbGVTaWRlYmFyKGZhbHNlKX0+e3QoJ3RhZ0RyYXdlci5kb25lQnV0dG9uJywgJ0RvbmUnKX08L0YzQnV0dG9uPjwvZGl2PlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J210LWF1dG8nPlxuXHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRidG5UeXBlPSdsaW5rJ1xuXHRcdFx0XHRcdGNsYXNzTmFtZT0ndGV4dC1tdXRlZCdcblx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB7XG5cdFx0XHRcdFx0XHRvcGVuRGlhbG9nKDxSZXBvcnREaWFsb2cgb2JqZWN0UmVmZXJlbmNlPXtpZH0gLz4pO1xuXHRcdFx0XHRcdH19XG5cdFx0XHRcdD5cblx0XHRcdFx0XHQ8c21hbGwgYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzTmFtZT0naWNvbi1mMyBpY29uLWZsYWcnPnt0KCd0YWdEcmF3ZXIucHJvYmxlbUxpbmsnLCAnIFJlcG9ydCBhIHByb2JsZW0gd2l0aCB0aGlzIHt7Y29udGVudExhYmVsfX0nLCB7IGNvbnRlbnRMYWJlbDogZ2V0Q29udGVudFR5cGVMYWJlbChpZC5jb250ZW50VHlwZSkgfSl9PC9zbWFsbD5cblx0XHRcdFx0PC9GM0J1dHRvbj5cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHQpO1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgQ29udGVudFR5cGUsIE9iamVjdFJlZmVyZW5jZSB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IGNsYXNzU3RyIH0gZnJvbSAnLi4vLi4vbGliL2NsYXNzVXRpbCc7XG5pbXBvcnQgeyBjb250ZW50VHlwZVRvR29vZ2xlVGFnIH0gZnJvbSAnLi4vLi4vbGliL2dvb2dsZVRhZ01hbmFnZXInO1xuaW1wb3J0IHsgdXNlRGlhbG9ncyB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VEaWFsb2dzJztcbmltcG9ydCB7IHVzZVNpZGViYXJzIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZVNpZGViYXInO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VVc2VyJztcbmltcG9ydCB7IERlbnkgfSBmcm9tICcuLi9kZW55L0RlbnknO1xuaW1wb3J0IHsgVGFnRHJhd2VyIH0gZnJvbSAnLi9UYWdEcmF3ZXInO1xuXG5pbnRlcmZhY2UgVGFnQnV0dG9uUHJvcHMge1xuXHRpZDogT2JqZWN0UmVmZXJlbmNlO1xuXHRjbGFzc05hbWU/OiBzdHJpbmc7XG5cdGNvdW50OiBudW1iZXI7XG5cdG9uQ2hhbmdlOiAodGFnczogc3RyaW5nW10pID0+IHZvaWQ7XG5cdGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZTtcblx0ZXZlbnRMYWJlbDogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgVGFnQnV0dG9uID0gKHsgaWQsIGNsYXNzTmFtZSwgY291bnQsIG9uQ2hhbmdlLCBjb250ZW50VHlwZSwgZXZlbnRMYWJlbCB9OiBUYWdCdXR0b25Qcm9wcykgPT4ge1xuXHRjb25zdCB7IG9wZW4sIGFkZFNpZGViYXIsIHRvZ2dsZVNpZGViYXIgfSA9IHVzZVNpZGViYXJzKCk7XG5cdGNvbnN0IHsgaXNDb25maXJtZWQgfSA9IHVzZVVzZXIoKTtcblx0Y29uc3QgeyBvcGVuRGlhbG9nIH0gPSB1c2VEaWFsb2dzKCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2NvbXBvbmVudHMnKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGFkZFNpZGViYXIoPFRhZ0RyYXdlciBpZD17aWR9IG9uQ2hhbmdlPXtvbkNoYW5nZX0gLz4pO1xuXHR9LCBbXSk7XG5cblx0Y29uc3QgdGl0bGUgPSB0KCd0YWdCdXR0b24ubGFiZWwnLCAnQWRkIGEgdGFnJyk7XG5cblx0cmV0dXJuIChcblx0XHQ8YnV0dG9uXG5cdFx0XHRhcmlhLWxhYmVsPXt0aXRsZX1cblx0XHRcdGNsYXNzTmFtZT17Y2xhc3NTdHIoXG5cdFx0XHRcdCdidG4gcG9zaXRpb24tcmVsYXRpdmUgZC1pbmxpbmUtYmxvY2sgY29sLWF1dG8nLFxuXHRcdFx0XHRjbGFzc05hbWUgPyBjbGFzc05hbWUgOiAnJ1xuXHRcdFx0KX1cblx0XHRcdGRhdGEtZ3RtLWNsaWNrPXtjb250ZW50VHlwZVRvR29vZ2xlVGFnKFxuXHRcdFx0XHQnYm9va21hcmsnLFxuXHRcdFx0XHRjb250ZW50VHlwZSxcblx0XHRcdFx0ZXZlbnRMYWJlbFxuXHRcdFx0KX1cblx0XHRcdG9uQ2xpY2s9eygpID0+IHtcblx0XHRcdFx0aWYgKCFpc0NvbmZpcm1lZCkge1xuXHRcdFx0XHRcdG9wZW5EaWFsb2coPERlbnkgYWN0aW9uPSdCT09LTUFSSycgcmVxdWlyZW1lbnQ9J2NvbmZpcm0nIC8+KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0b2dnbGVTaWRlYmFyKCFvcGVuKTtcblx0XHRcdH19XG5cdFx0XHR0aXRsZT17dGl0bGV9XG5cdFx0XHR0eXBlPSdidXR0b24nXG5cdFx0PlxuXHRcdFx0PHNwYW5cblx0XHRcdFx0Y2xhc3NOYW1lPXtjbGFzc1N0cihjb3VudCA+IDAgJiZcbiAgICAgICAgICAgICAgJ3Bvc2l0aW9uLWFic29sdXRlIHppLTEgdG9wLTAgc3RhcnQtMTAwIHRyYW5zbGF0ZS1taWRkbGUgYmFkZ2UgYm9yZGVyIGJvcmRlci1saWdodCByb3VuZGVkLWNpcmNsZSBiZy1kYW5nZXIgcC0xJyl9XG5cdFx0XHRcdHRpdGxlPXtgJHtjb3VudCB8fCAwfSB0YWdzIGFkZGVkYH1cblx0XHRcdD5cblx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd2aXN1YWxseS1oaWRkZW4nPnt0KCd0YWdCdXR0b24udGFnQ291bnQnLCAne3t0YWdDb3VudH19IHRhZ3MgYWRkZWQnLCB7IHRhZ0NvdW50OiBjb3VudCB8fCAwIH0pfTwvc3Bhbj5cblx0XHRcdDwvc3Bhbj5cblx0XHRcdDxzcGFuXG5cdFx0XHRcdGFyaWEtaGlkZGVuPSd0cnVlJ1xuXHRcdFx0XHRjbGFzc05hbWU9J2ljb24tZjMgaWNvbi10YWcnXG5cdFx0XHQvPlxuXHRcdDwvYnV0dG9uPlxuXHQpO1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVGFnQXBpIH0gZnJvbSAnLi4vYXBpcy90YWdBcGknO1xuaW1wb3J0IHsgT2JqZWN0UmVmZXJlbmNlIH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VVc2VyJztcbmltcG9ydCB7IFNoYXJlQnV0dG9uIH0gZnJvbSAnLi90YWcvU2hhcmVCdXR0b24nO1xuaW1wb3J0IHsgVGFnQnV0dG9uIH0gZnJvbSAnLi90YWcvVGFnQnV0dG9uJztcblxuaW50ZXJmYWNlIFNoYXJlQm9va21hcmtUYWdCdXR0b25zUHJvcHMge1xuXHRpZDogT2JqZWN0UmVmZXJlbmNlO1xuXHRoYXNUYWdQZXJtaXNzaW9uczogYm9vbGVhbjtcblx0ZXZlbnRMYWJlbD86IHN0cmluZztcblx0b25TaGFyZT86ICgpID0+IHZvaWQ7XG5cdGNsYXNzTmFtZT86IHN0cmluZztcblx0Y2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG59XG5cbmV4cG9ydCBjb25zdCBTaGFyZUJvb2ttYXJrVGFnQnV0dG9ucyA9ICh7IGlkLCBldmVudExhYmVsLCBvblNoYXJlLCBjbGFzc05hbWUsIGhhc1RhZ1Blcm1pc3Npb25zLCBjaGlsZHJlbiB9OiBTaGFyZUJvb2ttYXJrVGFnQnV0dG9uc1Byb3BzKSA9PiB7XG5cdGNvbnN0IHsgY29udGVudFR5cGUgfSA9IGlkO1xuXHRjb25zdCB7IGlzU2lnbmVkSW4gfSA9IHVzZVVzZXIoKTtcblx0Y29uc3QgW2NvdW50LCBzZXRDb3VudF0gPSB1c2VTdGF0ZSgwKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdG5ldyBUYWdBcGkoKS5saXN0VGFnc0ZvckRvY3VtZW50KGlkKVxuXHRcdFx0LnRoZW4oZG9jVGFncyA9PiB7XG5cdFx0XHRcdGxldCB0YWdzID0gZG9jVGFncy5tYXAodCA9PiB7IHJldHVybiB0Lm5hbWU7IH0pO1xuXG5cdFx0XHRcdHNldENvdW50KHRhZ3M/Lmxlbmd0aCB8fCAwKTtcblx0XHRcdH0pO1xuXHR9LCBbaWRdKTtcblxuXHRjb25zdCB1cGRhdGVDb3VudCA9ICh0YWdzOiBzdHJpbmdbXSkgPT4ge1xuXHRcdGxldCBfY291bnQgPSB0YWdzLmxlbmd0aCB8fCAwO1xuXHRcdHNldENvdW50KF9jb3VudCk7XG5cdH07XG5cblx0cmV0dXJuIChcblx0XHQ8dWwgY2xhc3NOYW1lPSdsaXN0LXVuc3R5bGVkIHRleHQtZW5kJz5cblx0XHRcdDxsaSBjbGFzc05hbWU9J2QtaW5saW5lLWJsb2NrJz57Y2hpbGRyZW59PC9saT5cblx0XHRcdHtcblx0XHRcdFx0b25TaGFyZSAmJlxuXHRcdFx0XHQ8U2hhcmVCdXR0b25cblx0XHRcdFx0XHRjbGFzc05hbWU9e2NsYXNzTmFtZX1cblx0XHRcdFx0XHRjb250ZW50VHlwZT17Y29udGVudFR5cGV9XG5cdFx0XHRcdFx0ZXZlbnRMYWJlbD17ZXZlbnRMYWJlbH1cblx0XHRcdFx0XHRvblNoYXJlPXtvblNoYXJlfVxuXHRcdFx0XHQvPlxuXHRcdFx0fVxuXHRcdFx0e1xuXHRcdFx0XHRpc1NpZ25lZEluICYmXG5cdFx0XHRcdGhhc1RhZ1Blcm1pc3Npb25zICYmXG5cdFx0XHRcdDxsaSBjbGFzc05hbWU9J2QtaW5saW5lLWJsb2NrJz5cblx0XHRcdFx0XHQ8VGFnQnV0dG9uXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU9e2NsYXNzTmFtZX1cblx0XHRcdFx0XHRcdGNvbnRlbnRUeXBlPXtjb250ZW50VHlwZX1cblx0XHRcdFx0XHRcdGNvdW50PXtjb3VudH1cblx0XHRcdFx0XHRcdGV2ZW50TGFiZWw9e2V2ZW50TGFiZWx9XG5cdFx0XHRcdFx0XHRpZD17aWR9XG5cdFx0XHRcdFx0XHRvbkNoYW5nZT17dXBkYXRlQ291bnR9XG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0PC9saT5cblx0XHRcdH1cblx0XHQ8L3VsPlxuXHQpO1xufTtcbiIsImltcG9ydCB7IE1hcmtldGluZ0RvY3VtZW50LCBNYXJrZXRpbmdEb2N1bWVudF9UeXBlLCBPYmplY3RSZWZlcmVuY2UgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBCYWNrZW5kU2VydmljZSwgRjNBcGkgfSBmcm9tICcuL0YzQXBpJztcblxuLyoqIFtTZWUgRG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9qZm9sZDMuaWFyY2hpdmVzLmNvbS92aWV3L2YzLWJhY2tlbmQvam9iL2YzLWJhY2tlbmQvamF2YWRvYy9jb20vYW5jZXN0cnkvZWIvZm9sZDMxL3NlcnZpY2UvRG9jdW1lbnRGbGFnU2VydmljZS5odG1sKSAqL1xuZXhwb3J0IGNsYXNzIE1hcmtldGluZ0RvY3VtZW50QXBpIGV4dGVuZHMgRjNBcGkge1xuXHRzZXJ2aWNlID0gQmFja2VuZFNlcnZpY2UuRk9MRDMxO1xuXHRwcm90ZWN0ZWQgYmFzZVVybDogc3RyaW5nID0gJy9hcGkvZG9jdW1lbnQtZmxhZy9tYXJrZXRpbmcnO1xuXG5cdGdldE1hcmtldGluZ0RvY3VtZW50KGlkOiBPYmplY3RSZWZlcmVuY2UsIHR5cGU6IE1hcmtldGluZ0RvY3VtZW50X1R5cGUpOlByb21pc2U8TWFya2V0aW5nRG9jdW1lbnQ+IHtcblx0XHRsZXQgeyBjb250ZW50VHlwZSwgb2JqZWN0SWQgfSA9IGlkO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvJHtjb250ZW50VHlwZX0vJHtvYmplY3RJZH0vJHt0eXBlfWAsIHsgZGVzZXJpYWxpemVUeXBlOiAnTWFya2V0aW5nRG9jdW1lbnQnIH0pO1xuXHR9XG5cblx0bGlzdE1hcmtldGluZ0RvY3VtZW50c0J5UHVibGljYXRpb24ocHVibGljYXRpb25JZDogbnVtYmVyKTogUHJvbWlzZTxNYXJrZXRpbmdEb2N1bWVudFtdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvJHtwdWJsaWNhdGlvbklkfWAsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ01hcmtldGluZ0RvY3VtZW50Jyxcblx0XHR9KTtcblx0fVxuXG5cdGxpc3RNYXJrZXRpbmdEb2N1bWVudHNCeVR5cGUocHVibGljYXRpb25JZDogbnVtYmVyLCB0eXBlOiAgTWFya2V0aW5nRG9jdW1lbnRfVHlwZSk6IFByb21pc2U8TWFya2V0aW5nRG9jdW1lbnRbXT4ge1xuXHRcdHJldHVybiB0aGlzLmdldChgLyR7cHVibGljYXRpb25JZH0vJHt0eXBlfWAsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ01hcmtldGluZ0RvY3VtZW50Jyxcblx0XHR9KTtcblx0fVxuXG5cdGFkZE1hcmtldGluZ0RvY3VtZW50KHB1YmxpY2F0aW9uSWQ6IG51bWJlciwgbWFya2V0aW5nRG9jdW1lbnQ6IE1hcmtldGluZ0RvY3VtZW50KTogUHJvbWlzZTxNYXJrZXRpbmdEb2N1bWVudD4ge1xuXHRcdHJldHVybiB0aGlzLnB1dChgLyR7cHVibGljYXRpb25JZH1gLCBtYXJrZXRpbmdEb2N1bWVudCwge1xuXHRcdFx0c2VyaWFsaXplVHlwZTogJ01hcmtldGluZ0RvY3VtZW50Jyxcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ01hcmtldGluZ0RvY3VtZW50Jyxcblx0XHR9KTtcblx0fVxuXG5cblx0ZGVsZXRlTWFya2V0aW5nRG9jdW1lbnQoaWQ6IE9iamVjdFJlZmVyZW5jZSwgdHlwZTogc3RyaW5nKSB7XG5cdFx0bGV0IHsgY29udGVudFR5cGUsIG9iamVjdElkIH0gPSBpZDtcblx0XHRyZXR1cm4gdGhpcy5kZWxldGUoYC8ke2NvbnRlbnRUeXBlfS8ke29iamVjdElkfS8ke3R5cGV9YCk7XG5cdH1cbn1cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFBvcG91dExpdGVCYXNlUHJvcHMsIFBvcG91dExpdGUgfSBmcm9tICcuL1BvcG91dExpdGUnO1xuXG5pbnRlcmZhY2UgUG9wb3V0UHJvcHMgZXh0ZW5kcyBQb3BvdXRMaXRlQmFzZVByb3BzIHt9XG5cbmV4cG9ydCBjb25zdCBQb3BvdXQgPSAocHJvcHM6IFBvcG91dFByb3BzKSA9PiB7XG5cdGNvbnN0IFtvcGVuLCBzZXRPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcblx0cmV0dXJuIDxQb3BvdXRMaXRlXG5cdFx0b25Ub2dnbGU9e3NldE9wZW59XG5cdFx0b3Blbj17b3Blbn1cblx0XHR7Li4ucHJvcHN9XG5cdC8+O1xufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgQ29udGVudFR5cGUgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBPYmogfSBmcm9tICcuLi8uLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgY29udGVudFR5cGVUb0dvb2dsZVRhZyB9IGZyb20gJy4uLy4uL2xpYi9nb29nbGVUYWdNYW5hZ2VyJztcbmltcG9ydCB7IHVzZUFsZXJ0cyB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VBbGVydHMnO1xuaW1wb3J0IHsgRm9ybVJvdyB9IGZyb20gJy4uLy4uL3BhZ2VzL2FkbWluL2NvbXBvbmVudHMvRm9ybVJvdyc7XG5pbXBvcnQgeyBGM0J1dHRvbiB9IGZyb20gJy4uL0YzQnV0dG9uJztcbmltcG9ydCB7IEYzSW5wdXQgfSBmcm9tICcuLi9mb3Jtcy9GM0lucHV0JztcblxuaW50ZXJmYWNlIEVtYmVkU2hhcmVQcm9wcyB7XG5cdHVybDogc3RyaW5nO1xuXHRjb250ZW50VHlwZTogQ29udGVudFR5cGU7XG5cdHNoYXJlRGF0YTogT2JqO1xuXHR0eXBlTGFiZWw6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IEVtYmVkU2hhcmUgPSAoeyB1cmwsIGNvbnRlbnRUeXBlIH06IEVtYmVkU2hhcmVQcm9wcykgPT4ge1xuXHRjb25zdCB7IGFkZFN1Y2Nlc3NBbGVydCB9ID0gdXNlQWxlcnRzKCk7XG5cdGNvbnN0IHsgdCB9ICA9IHVzZVRyYW5zbGF0aW9uKCdjb21wb25lbnRzJyk7XG5cblx0cmV0dXJuIChcblx0XHQ8Zm9ybSBjbGFzc05hbWU9J2Zvcm0nPlxuXHRcdFx0PEZvcm1Sb3dcblx0XHRcdFx0Y29udGVudD17XG5cdFx0XHRcdFx0PGRpdlxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdyb3cnXG5cdFx0XHRcdFx0XHRkYXRhLWd0bS1jbGljaz17Y29udGVudFR5cGVUb0dvb2dsZVRhZyhcblx0XHRcdFx0XHRcdFx0J3NoYXJlJyxcblx0XHRcdFx0XHRcdFx0Y29udGVudFR5cGUsXG5cdFx0XHRcdFx0XHRcdCdlbWJlZCdcblx0XHRcdFx0XHRcdCl9XG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2lucHV0LWdyb3VwJz5cblx0XHRcdFx0XHRcdFx0PEYzSW5wdXRcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2Zvcm0tY29udHJvbCBjb3B5bWUgZW1iZWQtaW5wdXQnXG5cdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdFZhbHVlPXt1cmx9XG5cdFx0XHRcdFx0XHRcdFx0aWQ9J2VtYmVkTGluaydcblx0XHRcdFx0XHRcdFx0XHR0eXBlPSd0ZXh0J1xuXHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh1cmwpLnRoZW4oKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRhZGRTdWNjZXNzQWxlcnQoJ0NvcGllZCB0byBjbGlwYm9hcmQuJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0e3QoJ2VtYmVkU2hhcmUuY29weUJ0bicsICdDb3B5Jyl9XG5cdFx0XHRcdFx0XHRcdDwvRjNCdXR0b24+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0fVxuXHRcdFx0XHRsYWJlbD17dCgnZW1iZWRTaGFyZS5zaGFyZUxpbmsnLCAnU2hhcmUgbGluazonKX1cblx0XHRcdC8+XG5cdFx0PC9mb3JtPlxuXHQpO1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgQ29udGVudFR5cGUgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuLi8uLi9lbnVtcy9ndG1FdmVudC5lbnVtJztcbmltcG9ydCB7IGNsYXNzU3RyIH0gZnJvbSAnLi4vLi4vbGliL2NsYXNzVXRpbCc7XG5pbXBvcnQgeyBpc05vZGVSdW50aW1lIH0gZnJvbSAnLi4vLi4vbGliL2dldFJ1bnRpbWUnO1xuaW1wb3J0IHsgc2hhcmVFdmVudCB9IGZyb20gJy4uLy4uL2xpYi9nb29nbGVBbmFseXRpY3NFdmVudHMnO1xuaW1wb3J0IHsgY29udGVudFR5cGVUb0dvb2dsZVRhZyB9IGZyb20gJy4uLy4uL2xpYi9nb29nbGVUYWdNYW5hZ2VyJztcbmltcG9ydCB7IHVzZURhdGFMYXllciB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VEYXRhTGF5ZXInO1xuaW1wb3J0IHsgdXNlTG9jYWxpemVkQ29udGVudCB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VMb2NhbGl6ZWRDb250ZW50JztcbmltcG9ydCB7IHN0clRvTGFiZWwgfSBmcm9tICcuLi8uLi9saWIvdGVtcGxhdGluZyc7XG5pbXBvcnQgeyBEaWFsb2csIERpYWxvZ1Byb3BzIH0gZnJvbSAnLi4vZGlhbG9ncy9EaWFsb2cnO1xuaW1wb3J0IHsgRW1iZWRTaGFyZSB9IGZyb20gJy4vRW1iZWRTaGFyZSc7XG5cbnR5cGUgRElBTE9HX1NUQVRFID0gLyogJ0VNQUlMJyB8ICAqLydGQUNFQk9PSycgfCAnVFdJVFRFUicgfCAnRU1CRUQnXG5cbmludGVyZmFjZSBTaGFyZURpYWxvZ1Byb3BzIGV4dGVuZHMgRGlhbG9nUHJvcHMge1xuXHRjb250ZW50VHlwZT86IENvbnRlbnRUeXBlXG5cdGlkPzogbnVtYmVyIHwgc3RyaW5nXG5cdHVybD86IHN0cmluZ1xuXHRwYXJlbnRJZD86IG51bWJlclxufVxuXG5sZXQgcG9wdXA6IFdpbmRvdztcblxuZXhwb3J0IGNvbnN0IFNoYXJlRGlhbG9nID0gKHsgY29udGVudFR5cGUsIGlkLCB1cmwsIHBhcmVudElkLCB0aXRsZSwgY2xvc2VhYmxlLCBjbGFzc05hbWUsIC4uLnJlc3QgfTogU2hhcmVEaWFsb2dQcm9wcykgPT4ge1xuXHRjb25zdCB7IHB1c2hFdmVudCB9ID0gdXNlRGF0YUxheWVyKCk7XG5cdGNvbnN0IFtkaWFsb2dTdGF0ZSwgc2V0RGlhbG9nU3RhdGVdID0gdXNlU3RhdGU8RElBTE9HX1NUQVRFPignRU1CRUQnKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignY29tcG9uZW50cycpO1xuXHRjb25zdCB7IGxvY2FsaXplQ29udGVudFR5cGUgfSA9IHVzZUxvY2FsaXplZENvbnRlbnQoKTtcblxuXHRjb25zdCBocmVmID0gdXNlTWVtbygoKSA9PiB7XG5cdFx0aWYgKGlzTm9kZVJ1bnRpbWUoKSkgcmV0dXJuICcnO1xuXG5cdFx0aWYgKHVybCkge1xuXHRcdFx0cmV0dXJuIHVybDtcblx0XHR9XG5cblx0XHRjb25zdCBCQVNFID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcblx0XHRzd2l0Y2ggKGNvbnRlbnRUeXBlKSB7XG5cdFx0XHRjYXNlICdBTkNFU1RSWV9ET0NVTUVOVCc6IHJldHVybiBgJHtCQVNFfS9leHRlcm5hbC9BTkNFU1RSWV9ET0NVTUVOVC8ke2lkfWA7XG5cdFx0XHRjYXNlICdJTUFHRSc6IHJldHVybiBgJHtCQVNFfS9pbWFnZS8ke2lkfWA7XG5cdFx0XHRjYXNlICdTVUJfSU1BR0UnOiByZXR1cm4gYCR7QkFTRX0vaW1hZ2UvJHtwYXJlbnRJZH0/cmVjPSR7aWR9YDtcblx0XHRcdGNhc2UgJ0FOTk9UQVRJT04nOiByZXR1cm4gYCR7QkFTRX0vaW1hZ2UvJHtwYXJlbnRJZH0/YW5uPSR7aWR9YDtcblx0XHRcdGNhc2UgJ1NUT1JZX1BBR0UnOiByZXR1cm4gYCR7QkFTRX0vbWVtb3JpYWwvJHtpZH1gO1xuXHRcdFx0Y2FzZSAnU1RPUllfUEFHRV9TVE9SWSc6IHJldHVybiBgJHtCQVNFfS9tZW1vcmlhbC8ke3BhcmVudElkfT9zdG9yeT0ke2lkfWA7XG5cdFx0XHRjYXNlICdTVE9SWV9QQUdFX0lNQUdFJzogcmV0dXJuIGAke0JBU0V9L21lbW9yaWFsLyR7cGFyZW50SWR9P2ltZz0ke2lkfWA7XG5cdFx0XHRjYXNlICdTVE9SWV9QQUdFX0ZBQ1QnOiByZXR1cm4gYCR7QkFTRX0vbWVtb3JpYWwvJHtwYXJlbnRJZH0/ZmFjdD0ke2lkfWA7XG5cdFx0XHRjYXNlICdTVE9SWV9QQUdFX0xJTksnOiByZXR1cm4gYCR7QkFTRX0vbWVtb3JpYWwvJHtwYXJlbnRJZH0/bGluaz0ke2lkfWA7XG5cdFx0XHRjYXNlICdJTkRFWF9SRUNPUkQnOiByZXR1cm4gYCR7QkFTRX0vcmVjb3JkLyR7aWR9YDtcblx0XHRcdGNhc2UgJ1BVQkxJQ0FUSU9OJzogcmV0dXJuIGAke0JBU0V9L3B1YmxpY2F0aW9uLyR7aWR9YDtcblx0XHRcdGNhc2UgJ1RJVExFX0NPTExFQ1RJT04nOiByZXR1cm4gYCR7QkFTRX0vY29sbGVjdGlvbi8ke2lkfWA7XG5cdFx0XHRjYXNlICdQQVJUTkVSJzogcmV0dXJuIGAke0JBU0V9L3BhcnRuZXIvJHtpZH1gO1xuXHRcdFx0Y2FzZSAnUkVHSU1FTlQnOiByZXR1cm4gYCR7QkFTRX0vcmVnaW1lbnQvJHtpZH1gO1xuXHRcdFx0Y2FzZSAnQkFUVExFJzogcmV0dXJuIGAke0JBU0V9L2JhdHRsZS8ke2lkfWA7XG5cdFx0XHRjYXNlICdDT01QQU5ZJzogcmV0dXJuIGAke0JBU0V9L2NvbXBhbnkvJHtpZH1gO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0Y29uc29sZS53YXJuKGAke2NvbnRlbnRUeXBlfSBpcyBub3QgYSBzdXBwb3J0ZWQgdHlwZS5gKTtcblx0XHR9XG5cdH0sIFtjb250ZW50VHlwZSwgcGFyZW50SWQsIGlkXSk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHR2YXIgcG9wdXBVcmwgPSAnJztcblxuXHRcdHN3aXRjaCAoZGlhbG9nU3RhdGUpIHtcblx0XHRcdGNhc2UgJ0ZBQ0VCT09LJzpcblx0XHRcdFx0cG9wdXBVcmwgPSAnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlLnBocD91PSc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnVFdJVFRFUic6XG5cdFx0XHRcdHBvcHVwVXJsID0gJ2h0dHBzOi8vd3d3LnR3aXR0ZXIuY29tL2hvbWU/c3RhdHVzPSc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdGlmIChwb3B1cCkge1xuXHRcdFx0cG9wdXAuY2xvc2UoKTtcblx0XHRcdHBvcHVwID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHBvcHVwVXJsKSB7XG5cdFx0XHRwb3B1cCA9IHdpbmRvdy5vcGVuKGAke3BvcHVwVXJsfSR7aHJlZn1gLCAnRk9MRDNTSEFSRScsICd3aWR0aD02NDAsaGVpZ2h0PTQ4MCcpO1xuXHRcdH1cblx0fSwgW2RpYWxvZ1N0YXRlLCBocmVmXSk7XG5cblx0bGV0IHNoYXJlRGF0YSA9IHsgY29udGVudFR5cGUsIGlkLCBwYXJlbnRJZCB9O1xuXG5cdGxldCB0eXBlTGFiZWw7XG5cdGlmICghY29udGVudFR5cGUpIHR5cGVMYWJlbCA9ICdQYWdlJztcblx0ZWxzZSBpZiAoY29udGVudFR5cGUgPT0gJ1NUT1JZX1BBR0UnKSB0eXBlTGFiZWwgPSAnTWVtb3JpYWwnO1xuXHRlbHNlIHR5cGVMYWJlbCA9IHN0clRvTGFiZWwoY29udGVudFR5cGUudG9Mb3dlckNhc2UoKSk7XG5cblxuXHRjb25zdCBjaGFuZ2VTdGF0ZSA9IChuZXdTdGF0ZTogRElBTE9HX1NUQVRFKSA9PiB7XG5cdFx0c2V0RGlhbG9nU3RhdGUoKGRpYWxvZ1N0YXRlID09PSBuZXdTdGF0ZSkgPyBudWxsIDogbmV3U3RhdGUpO1xuXHR9O1xuXG5cdHJldHVybiAoXG5cdFx0PERpYWxvZ1xuXHRcdFx0Y2xhc3NOYW1lPXtjbGFzc1N0cihjbGFzc05hbWUsICdmaXQtdG8tY29udGVudCcpfVxuXHRcdFx0b25DbG9zZT17KCkgPT4ge1xuXHRcdFx0XHRsZXQgYWN0aW9uID0gQWN0aW9uLkxJTks7XG5cdFx0XHRcdGlmIChkaWFsb2dTdGF0ZSA9PT0gJ0ZBQ0VCT09LJykge1xuXHRcdFx0XHRcdGFjdGlvbiA9IEFjdGlvbi5GQUNFQk9PSztcblx0XHRcdFx0fSBlbHNlIGlmIChkaWFsb2dTdGF0ZSA9PT0gJ1RXSVRURVInKSB7XG5cdFx0XHRcdFx0YWN0aW9uID0gQWN0aW9uLlRXSVRURVI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRwdXNoRXZlbnQoc2hhcmVFdmVudCh7IG9iamVjdElkOiBgJHtwYXJlbnRJZCA/IHBhcmVudElkIDogaWR9YCwgY29udGVudFR5cGUgfSwgYWN0aW9uKSk7XG5cdFx0XHRcdHNldERpYWxvZ1N0YXRlKG51bGwpO1xuXHRcdFx0fX1cblx0XHRcdHRpdGxlPXt0KCdzaGFyZURpYWxvZy50aXRsZScsICdTaGFyZSB7e2NvbnRlbnRUeXBlTGFiZWx9fScsIHsgY29udGVudFR5cGVMYWJlbDogbG9jYWxpemVDb250ZW50VHlwZShjb250ZW50VHlwZSwgeyBhbW91bnQ6ICdvbmUnLCBkZW1vbnN0cmF0aXZlOiAncHJveGltYWwnIH0pIH0pfVxuXHRcdFx0ey4uLnJlc3R9XG5cdFx0PlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J21vZGFsLXNlY3Rpb24nIGlkPSdzaGFyZS1kaWFsb2cnPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ncm93IGctMCcgaWQ9J3N0YXRlLWljb25zJz5cblx0XHRcdFx0XHQ8ZmlndXJlXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU9e2Bjb2wgcm91bmRlZCBwLTMgdGV4dC1jZW50ZXIgYm9yZGVyIGJvcmRlci0yICAke2RpYWxvZ1N0YXRlID09PSAnRU1CRUQnID8gJ2FjdGl2ZSAgYm9yZGVyLXByaW1hcnknIDogJ2JvcmRlci1saWdodCd9YH1cblx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IGNoYW5nZVN0YXRlKCdFTUJFRCcpfVxuXHRcdFx0XHRcdFx0cm9sZT0nYnV0dG9uJ1xuXHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0naWNvbi1mMyB0ZXh0LXNlY29uZGFyeSBlbWJlZC1pY29uIGg0Jz4mIzYwOyAmIzYyOzwvc3Bhbj5cblx0XHRcdFx0XHRcdDxmaWdjYXB0aW9uPnt0KCdzaGFyZURpYWxvZy5saW5rTGFiZWwnLCAnTGluaycpfTwvZmlnY2FwdGlvbj5cblx0XHRcdFx0XHQ8L2ZpZ3VyZT5cblx0XHRcdFx0XHQ8ZmlndXJlXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU9e2Bjb2wgcm91bmRlZCBwLTMgdGV4dC1jZW50ZXIgYm9yZGVyIGJvcmRlci0yICR7ZGlhbG9nU3RhdGUgPT09ICdGQUNFQk9PSycgPyAnYWN0aXZlIGJvcmRlci1wcmltYXJ5JyA6ICdib3JkZXItbGlnaHQnfWB9XG5cdFx0XHRcdFx0XHRkYXRhLWd0bS1jbGljaz17Y29udGVudFR5cGVUb0dvb2dsZVRhZygnc2hhcmUnLCBjb250ZW50VHlwZSwgJ2ZhY2Vib29rJyl9XG5cdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiBjaGFuZ2VTdGF0ZSgnRkFDRUJPT0snKX1cblx0XHRcdFx0XHRcdHJvbGU9J2J1dHRvbidcblx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J2ljb24tZjMgdGV4dC1zZWNvbmRhcnkgaWNvbi1mYWNlYm9vayBoNCcgLz5cblx0XHRcdFx0XHRcdDxmaWdjYXB0aW9uPnt0KCdzaGFyZURpYWxvZy5mYWNlYm9va0xhYmVsJywgJ0ZhY2Vib29rJyl9PC9maWdjYXB0aW9uPlxuXHRcdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHRcdDxmaWd1cmVcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT17YGNvbCByb3VuZGVkIHAtMyB0ZXh0LWNlbnRlciBib3JkZXIgYm9yZGVyLTIgICR7ZGlhbG9nU3RhdGUgPT09ICdUV0lUVEVSJyA/ICdhY3RpdmUgYm9yZGVyLXByaW1hcnknIDogJ2JvcmRlci1saWdodCd9YH1cblx0XHRcdFx0XHRcdGRhdGEtZ3RtLWNsaWNrPXtjb250ZW50VHlwZVRvR29vZ2xlVGFnKCdzaGFyZScsIGNvbnRlbnRUeXBlLCAndHdpdHRlcicpfVxuXHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4gY2hhbmdlU3RhdGUoJ1RXSVRURVInKX1cblx0XHRcdFx0XHRcdHJvbGU9J2J1dHRvbidcblx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J2ljb24tZjMgdGV4dC1zZWNvbmRhcnkgaWNvbi10d2l0dGVyIGg0JyAvPlxuXHRcdFx0XHRcdFx0PGZpZ2NhcHRpb24+e3QoJ3NoYXJlRGlhbG9nLnR3aXR0ZXJMYWJlbCcsICdUd2l0dGVyJyl9PC9maWdjYXB0aW9uPlxuXHRcdFx0XHRcdDwvZmlndXJlPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0e1xuXHRcdFx0XHRcdGRpYWxvZ1N0YXRlICE9PSBudWxsICYmXG5cdFx0XHRcdFx0PGRpdiBpZD0nc2hhcmUtZm9ybSc+XG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGRpYWxvZ1N0YXRlID09PSAnRU1CRUQnICYmXG5cdFx0XHRcdFx0XHRcdDxFbWJlZFNoYXJlXG5cdFx0XHRcdFx0XHRcdFx0Y29udGVudFR5cGU9e2NvbnRlbnRUeXBlfVxuXHRcdFx0XHRcdFx0XHRcdHNoYXJlRGF0YT17c2hhcmVEYXRhfVxuXHRcdFx0XHRcdFx0XHRcdHR5cGVMYWJlbD17dHlwZUxhYmVsfVxuXHRcdFx0XHRcdFx0XHRcdHVybD17aHJlZn1cblx0XHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0fVxuXHRcdFx0PC9kaXY+XG5cdFx0PC9EaWFsb2c+XG5cdCk7XG59O1xuIiwiaW1wb3J0IHsgQ29udGVudE9iamVjdCwgQ29udGVudFR5cGUsIERvY3VtZW50Q29ubmVjdGlvbiwgRG9jdW1lbnRDb25uZWN0aW9uQ3JlYXRpb24sIERvY3VtZW50Q29ubmVjdGlvbkNyZWF0aW9uUmVxdWVzdCwgRG9jdW1lbnRDb25uZWN0aW9uQ3JlYXRpb25SZXN1bHRzLCBPYmplY3RSZWZlcmVuY2UsIFVzZXIgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBhcmVTYW1lT2JqZWN0IH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvY29udGVudE9iamVjdCc7XG5pbXBvcnQgeyBmaWx0ZXJVbmRlZmluZWQgfSBmcm9tICcuLi9saWIvbWFwVXRpbCc7XG5pbXBvcnQgeyBCYWNrZW5kU2VydmljZSwgRjNBcGkgfSBmcm9tICcuL0YzQXBpJztcblxuaW50ZXJmYWNlIENvbm5lY3Rpb25SZXF1ZXN0T3B0cyB7XG5cdHRhcmdldENvbnRlbnRUeXBlPzogQ29udGVudFR5cGVcblx0b2Zmc2V0PzogbnVtYmVyXG5cdGNvdW50PzogbnVtYmVyXG5cdGFzY2VuZGluZz86IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIENvbm5lY3Rpb25PYmplY3RzUmVxdWVzdE9wdHMgZXh0ZW5kcyBDb25uZWN0aW9uUmVxdWVzdE9wdHMge1xuXHR0aHVtYldpZHRoPzogbnVtYmVyXG5cdHRodW1iSGVpZ2h0PzogbnVtYmVyXG59XG5cbmludGVyZmFjZSBDcmVhdGVDb25uZWN0aW9uc1Jlc3BvbnNlIHtcblx0cHJpbmNpcGxlPzogQ29udGVudE9iamVjdFxuXHRuZXdSZWxhdGlvbnM/OiBDb250ZW50T2JqZWN0W11cblx0cmVzdWx0czogRG9jdW1lbnRDb25uZWN0aW9uQ3JlYXRpb25SZXN1bHRzXG59XG5cbi8qKiBbU2VlIERvY3VtZW50YXRpb25dKGh0dHBzOi8vamZvbGQzLmlhcmNoaXZlcy5jb20vam9iL2YzLWJhY2tlbmQvamF2YWRvYy9jb20vYW5jZXN0cnkvZWIvZm9sZDMxL3NlcnZpY2UvQ29ubmVjdGlvblNlcnZpY2UuaHRtbCkgKi9cbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uc0FwaSBleHRlbmRzIEYzQXBpIHtcblx0c2VydmljZSA9IEJhY2tlbmRTZXJ2aWNlLkZPTEQzMTtcblx0YmFzZVVybCA9ICcvYXBpL2Nvbm5lY3Rpb24nO1xuXG5cdC8qIEV4cGVuc2l2ZSBlbmRwb2ludC4gQ2FsbCBzcGFyaW5nbHkgKi9cblx0Y2FuRGVsZXRlQ29ubmVjdGlvbihjb25uZWN0aW9uSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8c3RyaW5nW10+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJy9kZWxldGUnLCB7XG5cdFx0XHRwYXJhbXM6IHsgaWQ6IGNvbm5lY3Rpb25JZHMgfSxcblx0XHR9KTtcblx0fVxuXG5cdC8qIEhlbHBlciBtZXRob2QuIERvZXNuJ3QgaGF2ZSBpdCdzIG93biBlbmRwb2ludCAqL1xuXHR1cGRhdGVDb25uZWN0aW9uVGV4dChwcmluY2lwbGU6IE9iamVjdFJlZmVyZW5jZSwgdGFyZ2V0RG9jdW1lbnQ6IE9iamVjdFJlZmVyZW5jZSwgdXNlcjogVXNlciwgdGV4dDogc3RyaW5nKSB7XG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlQ29ubmVjdGlvbnMoXG5cdFx0XHRwcmluY2lwbGUsXG5cdFx0XHR7XG5cdFx0XHRcdHRhcmdldHM6IFt7IHRhcmdldERvY3VtZW50LCB0ZXh0IH1dLFxuXHRcdFx0XHRyZW5kZXJUYXJnZXRzOiB0cnVlLFxuXHRcdFx0XHR1cGRhdGVFeGlzdGluZzogdHJ1ZSxcblx0XHRcdH0sXG5cdFx0XHR1c2VyLFxuXHRcdCk7XG5cdH1cblxuXHQvKiBIZWxwZXIgbWV0aG9kLiBEb2Vzbid0IGhhdmUgaXQncyBvd24gZW5kcG9pbnQgKi9cblx0YXN5bmMgYWRkQ29udGVudFRvTWVtb3JpYWwobWVtb3JpYWw6IE9iamVjdFJlZmVyZW5jZSwgY29udGVudDogRG9jdW1lbnRDb25uZWN0aW9uQ3JlYXRpb24sIHVzZXI6IFVzZXIpIHtcblx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5jcmVhdGVDb25uZWN0aW9ucyhtZW1vcmlhbCwge1xuXHRcdFx0dGFyZ2V0czogW2NvbnRlbnRdLFxuXHRcdFx0cmVuZGVyVGFyZ2V0czogdHJ1ZSxcblx0XHR9LCB1c2VyKTtcblxuXHRcdHJldHVybiByZXN1bHRzLm5ld1JlbGF0aW9uc1swXTtcblx0fVxuXG5cdC8qIEhlbHBlciBtZXRob2QuIERvZXNuJ3QgaGF2ZSBpdCdzIG93biBlbmRwb2ludCAqL1xuXHRhc3luYyBhZGRNZW1vcmlhbFRvQ29udGVudChtZW1vcmlhbElkOiBudW1iZXIgfCBzdHJpbmcsIGNvbnRlbnQ6IERvY3VtZW50Q29ubmVjdGlvbkNyZWF0aW9uLCB1c2VyOiBVc2VyKSB7XG5cdFx0Y29uc3QgeyB1c2VySWQsIHVzZXJuYW1lIH0gPSB1c2VyO1xuXG5cdFx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IHRoaXMuY3JlYXRlQ29ubmVjdGlvbnMoXG5cdFx0XHR7IGNvbnRlbnRUeXBlOiAnU1RPUllfUEFHRScsIG9iamVjdElkOiBTdHJpbmcobWVtb3JpYWxJZCkgfSxcblx0XHRcdHtcblx0XHRcdFx0dGFyZ2V0czogW2NvbnRlbnRdLFxuXHRcdFx0XHRyZW5kZXJQcmluY2lwbGU6IHRydWUsXG5cdFx0XHRcdHJlbmRlclRhcmdldHM6IHRydWUsXG5cdFx0XHR9LFxuXHRcdFx0dXNlcixcblx0XHQpO1xuXG5cdFx0Y29uc3QgbmV3Q29ubmVjdGlvbiA9IHJlc3VsdHMubmV3UmVsYXRpb25zWzBdO1xuXHRcdGNvbnN0IG1lbW9yaWFsQ29udGVudCA9IHJlc3VsdHMucHJpbmNpcGxlO1xuXG5cdFx0bWVtb3JpYWxDb250ZW50LnJlbGF0aW9uSWQgPSBuZXdDb25uZWN0aW9uLnJlbGF0aW9uSWQ7XG5cdFx0bWVtb3JpYWxDb250ZW50LnJlbGF0aW9uT3duZXIgPSB7IHVzZXJJZCwgdXNlcm5hbWUgfTtcblx0XHRtZW1vcmlhbENvbnRlbnQucmVsYXRpb25UZXh0ID0gbmV3Q29ubmVjdGlvbi5yZWxhdGlvblRleHQ7XG5cblx0XHRyZXR1cm4gbWVtb3JpYWxDb250ZW50O1xuXHR9XG5cblx0LyogUHJpbmNpcGxlIE1VU1QgQUxXQVlTIGJlIGEgU1RPUllfUEFHRSBPYmplY3RSZWZlcmVuY2UgKi9cblx0YXN5bmMgY3JlYXRlQ29ubmVjdGlvbnMobWVtb3JpYWw6IE9iamVjdFJlZmVyZW5jZSwgY3JlYXRpb25SZXF1ZXN0OiBEb2N1bWVudENvbm5lY3Rpb25DcmVhdGlvblJlcXVlc3QsIHVzZXI6IFVzZXIpOiBQcm9taXNlPENyZWF0ZUNvbm5lY3Rpb25zUmVzcG9uc2U+IHtcblx0XHRjb25zdCB7IGNvbnRlbnRUeXBlLCBvYmplY3RJZCB9ID0gbWVtb3JpYWw7XG5cdFx0Y29uc3QgcmVzdWx0czogRG9jdW1lbnRDb25uZWN0aW9uQ3JlYXRpb25SZXN1bHRzID0gYXdhaXQgdGhpcy5wdXQoYC9jcmVhdGUvJHtjb250ZW50VHlwZX0vJHtvYmplY3RJZH1gLCBjcmVhdGlvblJlcXVlc3QsIHtcblx0XHRcdHNlcmlhbGl6ZVR5cGU6ICdEb2N1bWVudENvbm5lY3Rpb25DcmVhdGlvblJlcXVlc3QnLFxuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnRG9jdW1lbnRDb25uZWN0aW9uQ3JlYXRpb25SZXN1bHRzJyxcblx0XHR9KTtcblxuXHRcdGxldCB1cGRhdGVkTWVtb3JpYWw6IENvbnRlbnRPYmplY3Q7XG5cdFx0bGV0IG5ld1JlbGF0aW9uczogQ29udGVudE9iamVjdFtdID0gW107XG5cblx0XHRjb25zdCB7IHVzZXJJZCwgdXNlcm5hbWUgfSA9IHVzZXI7XG5cblx0XHRyZXN1bHRzLmNvbnRlbnRPYmplY3RzPy5mb3JFYWNoKGNvbnRlbnRPYmogPT4ge1xuXHRcdFx0aWYgKGFyZVNhbWVPYmplY3QobWVtb3JpYWwsIGNvbnRlbnRPYmouaWQpKSB7XG5cdFx0XHRcdHVwZGF0ZWRNZW1vcmlhbCA9IHsgLi4ubWVtb3JpYWwsIC4uLmNvbnRlbnRPYmogfTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxldCBjb25uZWN0aW9uID0gcmVzdWx0cy5jb25uZWN0aW9ucz8uZmluZChjb25uZWN0aW9uID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gYXJlU2FtZU9iamVjdChjb250ZW50T2JqLmlkLCBjb25uZWN0aW9uLnRhcmdldCk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmIChjb25uZWN0aW9uKSB7XG5cdFx0XHRcdFx0Y29udGVudE9iai5yZWxhdGlvbklkID0gY29ubmVjdGlvbi5jb25uZWN0aW9uSWQ7XG5cdFx0XHRcdFx0Y29udGVudE9iai5yZWxhdGlvblRleHQgPSBjb25uZWN0aW9uLnRleHQ7XG5cdFx0XHRcdFx0Y29udGVudE9iai5yZWxhdGlvbk93bmVyID0geyB1c2VySWQsIHVzZXJuYW1lIH07XG5cdFx0XHRcdFx0Y29udGVudE9iai5tb2RpZmllZCA9IGNvbm5lY3Rpb24ubW9kaWZpZWQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRuZXdSZWxhdGlvbnMucHVzaChjb250ZW50T2JqKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHJldHVybiB7IHByaW5jaXBsZTogdXBkYXRlZE1lbW9yaWFsLCBuZXdSZWxhdGlvbnMsIHJlc3VsdHMgfTtcblx0fVxuXG5cdGRlbGV0ZUNvbm5lY3Rpb25zKGNvbm5lY3Rpb25JZHM6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIHRoaXMuZGVsZXRlKCcvZGVsZXRlJywge1xuXHRcdFx0cGFyYW1zOiB7IGlkOiBjb25uZWN0aW9uSWRzIH0sXG5cdFx0fSk7XG5cdH1cblxuXHRnZXRDb25uZWN0aW9ucyhjb25uZWN0aW9uSWRzOiBzdHJpbmdbXSwgcmVxdWlyZWQ6IGJvb2xlYW4gPSB0cnVlKTogUHJvbWlzZTxEb2N1bWVudENvbm5lY3Rpb25bXT4ge1xuXHRcdHJldHVybiB0aGlzLmdldCgnJywge1xuXHRcdFx0cGFyYW1zOiB7XG5cdFx0XHRcdGlkOiBjb25uZWN0aW9uSWRzLFxuXHRcdFx0XHRyZXF1aXJlZCxcblx0XHRcdH0sXG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdEb2N1bWVudENvbm5lY3Rpb24nLFxuXHRcdH0pO1xuXHR9XG5cblx0bGlzdEJhY2t3YXJkQ29ubmVjdGlvbk9iamVjdHMocmVmOiBPYmplY3RSZWZlcmVuY2UsIGNvbm5lY3Rpb25PcHRzPzogQ29ubmVjdGlvbk9iamVjdHNSZXF1ZXN0T3B0cyk6IFByb21pc2U8Q29udGVudE9iamVjdFtdPiB7XG5cdFx0Y29uc3QgeyBjb250ZW50VHlwZSwgb2JqZWN0SWQgfSA9IHJlZjtcblxuXHRcdHJldHVybiB0aGlzLmdldChgL2JhY2t3YXJkLW9ianMvJHtjb250ZW50VHlwZX0vJHtvYmplY3RJZH1gLCB7XG5cdFx0XHRwYXJhbXM6IHRoaXMucHJvY2Vzc0Nvbm5lY3Rpb25SZXF1ZXN0T3B0cyhjb25uZWN0aW9uT3B0cyksXG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdDb250ZW50T2JqZWN0Jyxcblx0XHR9KTtcblx0fVxuXG5cdGxpc3RCYWNrd2FyZENvbm5lY3Rpb25zKHJlZjogT2JqZWN0UmVmZXJlbmNlLCBjb25uZWN0aW9uT3B0cz86IENvbm5lY3Rpb25SZXF1ZXN0T3B0cyk6IFByb21pc2U8RG9jdW1lbnRDb25uZWN0aW9uW10+IHtcblx0XHRjb25zdCB7IGNvbnRlbnRUeXBlLCBvYmplY3RJZCB9ID0gcmVmO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvYmFja3dhcmQvJHtjb250ZW50VHlwZX0vJHtvYmplY3RJZH1gLCB7XG5cdFx0XHRwYXJhbXM6IHRoaXMucHJvY2Vzc0Nvbm5lY3Rpb25SZXF1ZXN0T3B0cyhjb25uZWN0aW9uT3B0cyksXG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdEb2N1bWVudENvbm5lY3Rpb24nLFxuXHRcdH0pO1xuXHR9XG5cblx0bGlzdEZvcndhcmRDb25uZWN0aW9uT2JqZWN0cyhyZWY6IE9iamVjdFJlZmVyZW5jZSwgY29ubmVjdGlvbk9wdHM/OiBDb25uZWN0aW9uT2JqZWN0c1JlcXVlc3RPcHRzKTogUHJvbWlzZTxDb250ZW50T2JqZWN0W10+IHtcblx0XHRjb25zdCB7IGNvbnRlbnRUeXBlLCBvYmplY3RJZCB9ID0gcmVmO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvZm9yd2FyZC1vYmpzLyR7Y29udGVudFR5cGV9LyR7b2JqZWN0SWR9YCwge1xuXHRcdFx0cGFyYW1zOiB0aGlzLnByb2Nlc3NDb25uZWN0aW9uUmVxdWVzdE9wdHMoY29ubmVjdGlvbk9wdHMpLFxuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnQ29udGVudE9iamVjdCcsXG5cdFx0fSk7XG5cdH1cblxuXHRsaXN0Rm9yd2FyZENvbm5lY3Rpb25zKHJlZjogT2JqZWN0UmVmZXJlbmNlLCBjb25uZWN0aW9uT3B0cz86IENvbm5lY3Rpb25SZXF1ZXN0T3B0cyk6IFByb21pc2U8RG9jdW1lbnRDb25uZWN0aW9uW10+IHtcblx0XHRjb25zdCB7IGNvbnRlbnRUeXBlLCBvYmplY3RJZCB9ID0gcmVmO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvZm9yd2FyZC8ke2NvbnRlbnRUeXBlfS8ke29iamVjdElkfWAsIHtcblx0XHRcdHBhcmFtczogdGhpcy5wcm9jZXNzQ29ubmVjdGlvblJlcXVlc3RPcHRzKGNvbm5lY3Rpb25PcHRzKSxcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0RvY3VtZW50Q29ubmVjdGlvbicsXG5cdFx0fSk7XG5cdH1cblxuXHRyZW9yZGVyQ29ubmVjdGlvbnMocmVmOiBPYmplY3RSZWZlcmVuY2UsIGNvbm5lY3Rpb25JZHM6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3QgeyBjb250ZW50VHlwZSwgb2JqZWN0SWQgfSA9IHJlZjtcblxuXHRcdHJldHVybiB0aGlzLnBvc3QoYC9yZW9yZGVyLyR7Y29udGVudFR5cGV9LyR7b2JqZWN0SWR9YCwgY29ubmVjdGlvbklkcyk7XG5cdH1cblxuXHRwcml2YXRlIHByb2Nlc3NDb25uZWN0aW9uUmVxdWVzdE9wdHMob3B0czogQ29ubmVjdGlvblJlcXVlc3RPcHRzIHwgQ29ubmVjdGlvbk9iamVjdHNSZXF1ZXN0T3B0cyA9IHt9KSB7XG5cdFx0Y29uc3QgeyBhc2NlbmRpbmcsIGNvdW50LCBvZmZzZXQsIHRhcmdldENvbnRlbnRUeXBlLCB0aHVtYkhlaWdodCwgdGh1bWJXaWR0aCB9ID0gb3B0cyBhcyBDb25uZWN0aW9uT2JqZWN0c1JlcXVlc3RPcHRzO1xuXG5cdFx0cmV0dXJuIGZpbHRlclVuZGVmaW5lZCh7XG5cdFx0XHRvZmZzZXQsXG5cdFx0XHRjb3VudCxcblx0XHRcdGFzY2VuZGluZyxcblx0XHRcdCdwcmluY2lwbGUtdHlwZSc6IHRhcmdldENvbnRlbnRUeXBlLFxuXHRcdFx0J3RodW1iLXdpZHRoJzogdGh1bWJXaWR0aCxcblx0XHRcdCd0aHVtYi1oZWlnaHQnOiB0aHVtYkhlaWdodCxcblx0XHR9KTtcblx0fVxufVxuIiwiaW1wb3J0IHsgQ29udGVudERvY3VtZW50UGVybWlzc2lvbiwgQ29udGVudFR5cGUsIERlc2VyaWFsaXplVHlwZSwgRG9jdW1lbnRFbGVtZW50VXBkYXRlUmVzdWx0cywgRXh0ZXJuYWxEb2N1bWVudFJlcXVlc3QsIEZpbmRBR3JhdmVSZWNvcmQsIEltcG9ydEZhY3RJZGVudGlmaWVyLCBNZW1vcmlhbEZhY3QsIE1lbW9yaWFsRmxhZywgT2JqZWN0UmVmZXJlbmNlIH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgTWVtb3JpYWxPclN1YmplY3QsIE1lbW9yaWFsT3JTdWJqZWN0Q29udGVudFR5cGUsIE1lbW9yaWFsUnVudGltZVByb3BlcnRpZXNPdGhlciwgTWVtb3JpYWxXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudCwgV3JhcHBlZE1lbW9yaWFsT3JTdWJqZWN0Q29udGVudCB9IGZyb20gJy4uL2xpYi9jb250ZW50L21lbW9yaWFscy9tZW1vcmlhbENvbnRlbnQnO1xuaW1wb3J0IHsgQ29udGVudEFwaSB9IGZyb20gJy4vY29udGVudEFwaSc7XG5pbXBvcnQgeyBCYWNrZW5kU2VydmljZSB9IGZyb20gJy4vRjNBcGknO1xuXG5pbnRlcmZhY2UgSW1wb3J0VG8gZXh0ZW5kcyBPYmplY3RSZWZlcmVuY2Uge1xuXHRjb250ZW50VHlwZTogTWVtb3JpYWxPclN1YmplY3RDb250ZW50VHlwZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEltcG9ydEZyb21Cb2R5IHtcblx0bWVtb3JpYWxJZDogbnVtYmVyXG5cdGltcG9ydFRvOiBJbXBvcnRUb1xuXHRpbXBvcnRGcm9tOiBPYmplY3RSZWZlcmVuY2Vcblx0bmV3RmFjdHM6IE1lbW9yaWFsRmFjdFtdXG59XG5cbi8qKlxuICogW1NlZSBEb2N1bWVudGF0aW9uXShodHRwczovL2pmb2xkMy5pYXJjaGl2ZXMuY29tL2pvYi9mMy1tZW1vcmlhbC9qYXZhZG9jL2NvbS9hbmNlc3RyeS9lYi9qb3NlcGh1cy9tZW1vcmlhbC9zZXJ2aWNlL01lbW9yaWFsU2VydmljZS5odG1sKVxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTWVtb3JpYWxTdWJqZWN0QXBpPFQgZXh0ZW5kcyBXcmFwcGVkTWVtb3JpYWxPclN1YmplY3RDb250ZW50ID0gV3JhcHBlZE1lbW9yaWFsT3JTdWJqZWN0Q29udGVudCwgQSBleHRlbmRzIE1lbW9yaWFsT3JTdWJqZWN0ID0gTWVtb3JpYWxPclN1YmplY3Q+IGV4dGVuZHMgQ29udGVudEFwaTxULCBBLCBNZW1vcmlhbFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50LCBNZW1vcmlhbEZsYWcsIE1lbW9yaWFsUnVudGltZVByb3BlcnRpZXNPdGhlciwgQ29udGVudERvY3VtZW50UGVybWlzc2lvbj4ge1xuXHRzZXJ2aWNlID0gQmFja2VuZFNlcnZpY2UuTUVNT1JJQUw7XG5cdGJhc2VQYXRoID0gJy9tZW1vcmlhbCc7XG5cblx0Ly9wcm92aWRlciBjYW4gYmUgb25lIG9mIGZndiB8IGFjb20gfCBuZXdzIHwgYXJjaGl2ZXNcblx0Z2V0RXh0ZXJuYWxEb2N1bWVudEZhY3RzKHJlcXVlc3Q6IEV4dGVybmFsRG9jdW1lbnRSZXF1ZXN0LCBwcm92aWRlcjogc3RyaW5nKTogUHJvbWlzZTxGaW5kQUdyYXZlUmVjb3JkW10+IHtcblx0XHRsZXQgZGVzZXJpYWxpemVUeXBlOiBEZXNlcmlhbGl6ZVR5cGU7XG5cdFx0c3dpdGNoIChwcm92aWRlcikge1xuXHRcdFx0Y2FzZSAnZmd2Jzpcblx0XHRcdFx0ZGVzZXJpYWxpemVUeXBlID0gJ0ZpbmRBR3JhdmVSZWNvcmQnO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ25ld3MnOlxuXHRcdFx0XHRkZXNlcmlhbGl6ZVR5cGUgPSAnTmV3c3BhcGVyc1JlY29yZCc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnYXJjaGl2ZXMnOlxuXHRcdFx0XHRkZXNlcmlhbGl6ZVR5cGUgPSAnQXJjaGl2ZXNSZWNvcmQnO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMucG9zdChgJHt0aGlzLmJhc2VQYXRofS9kb2N1bWVudC9leHRlcm5hbC8ke3Byb3ZpZGVyfWAsIHJlcXVlc3QsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZSxcblx0XHRcdHNlcmlhbGl6ZVR5cGU6ICdFeHRlcm5hbERvY3VtZW50UmVxdWVzdCcsXG5cdFx0fSk7XG5cdH1cblxuXHRjcmVhdGVNZW1vcmlhbEZyb20oY29udGVudFR5cGU6IENvbnRlbnRUeXBlLCBpZDogc3RyaW5nIHwgbnVtYmVyKTogUHJvbWlzZTxPYmplY3RSZWZlcmVuY2U+IHtcblx0XHRyZXR1cm4gdGhpcy5wb3N0KGAke3RoaXMuYmFzZVBhdGh9L2NyZWF0ZS1mcm9tLyR7Y29udGVudFR5cGV9LyR7aWR9YCwgbnVsbCwge1xuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnT2JqZWN0UmVmZXJlbmNlJyxcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIGRlbGV0ZUNvbm5lY3Rpb24obWVtb3JpYWxJZDogbnVtYmVyIHwgc3RyaW5nLCBjb25uZWN0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8RG9jdW1lbnRFbGVtZW50VXBkYXRlUmVzdWx0cz4ge1xuXHRcdGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLmRlbGV0ZShgJHt0aGlzLmNvbnN0cnVjdEJhc2VVcmwoJ2Nvbm5lY3Rpb24nKX0vJHttZW1vcmlhbElkfWAsIHtcblx0XHRcdHBhcmFtczogeyBpZDogY29ubmVjdGlvbklkIH0sXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdGhpcy5kZXNlcmlhbGl6ZURvY3VtZW50RWxlbWVudFVwZGF0ZVJlc3VsdHMocmVzdWx0cyk7XG5cdH1cblxuXHRhc3luYyBpbXBvcnRGYWN0c0Zyb20oaW1wb3J0VG86IE9iamVjdFJlZmVyZW5jZSwgaW1wb3J0RnJvbTogT2JqZWN0UmVmZXJlbmNlLCBpZGVudGlmaWVyczogSW1wb3J0RmFjdElkZW50aWZpZXJbXSk6IFByb21pc2U8RG9jdW1lbnRFbGVtZW50VXBkYXRlUmVzdWx0cz4ge1xuXHRcdGNvbnN0IHJlc3VsdHMgPSBhd2FpdCB0aGlzLnBvc3QoYCR7dGhpcy5jb25zdHJ1Y3RCYXNlVXJsKCdpbXBvcnQtZnJvbScpfS8ke2ltcG9ydFRvLm9iamVjdElkfS8ke2ltcG9ydEZyb20uY29udGVudFR5cGV9LyR7aW1wb3J0RnJvbS5vYmplY3RJZH1gLCBpZGVudGlmaWVycywge1xuXHRcdFx0c2VyaWFsaXplVHlwZTogJ0ltcG9ydEZhY3RJZGVudGlmaWVyJyxcblx0XHR9KTtcblxuXHRcdHJldHVybiB0aGlzLmRlc2VyaWFsaXplRG9jdW1lbnRFbGVtZW50VXBkYXRlUmVzdWx0cyhyZXN1bHRzKTtcblx0fVxuXG5cdGFzeW5jIGltcG9ydEZhY3RzRnJvbUV4dGVybmFsRG9jdW1lbnQobWVtb3JpYWxJZDogbnVtYmVyIHwgc3RyaW5nLCBjb250ZW50VHlwZTogQ29udGVudFR5cGUsIGNvbnRlbnRJZDogbnVtYmVyIHwgc3RyaW5nLCBmYWN0czogTWVtb3JpYWxGYWN0W10pOiBQcm9taXNlPERvY3VtZW50RWxlbWVudFVwZGF0ZVJlc3VsdHM+IHtcblx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgdGhpcy5wb3N0KGAke3RoaXMuY29uc3RydWN0QmFzZVVybCgnaW1wb3J0LWZyb20tZXh0Jyl9LyR7bWVtb3JpYWxJZH0vJHtjb250ZW50VHlwZX0vJHtjb250ZW50SWR9YCwgZmFjdHMsIHtcblx0XHRcdHNlcmlhbGl6ZVR5cGU6ICdNZW1vcmlhbEZhY3QnLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRoaXMuZGVzZXJpYWxpemVEb2N1bWVudEVsZW1lbnRVcGRhdGVSZXN1bHRzKHJlc3VsdHMpO1xuXHR9XG5cblx0Z2V0SW1wb3J0RmFjdHNGcm9tKGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSwgaWQ6IG51bWJlciB8IHN0cmluZyk6IFByb21pc2U8TWVtb3JpYWxGYWN0W10+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYCR7dGhpcy5iYXNlUGF0aH0vaW1wb3J0LWZhY3RzLyR7Y29udGVudFR5cGV9LyR7aWR9YCwge1xuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnTWVtb3JpYWxGYWN0Jyxcblx0XHR9KTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTWVtb3JpYWxPclN1YmplY3QsIFdyYXBwZWRNZW1vcmlhbE9yU3ViamVjdENvbnRlbnQgfSBmcm9tICcuLi9saWIvY29udGVudC9tZW1vcmlhbHMvbWVtb3JpYWxDb250ZW50JztcbmltcG9ydCB7IE1lbW9yaWFsU3ViamVjdEFwaSB9IGZyb20gJy4vbWVtb3JpYWxTdWJqZWN0QXBpJztcblxuZXhwb3J0IGNsYXNzIE1lbW9yaWFsQXBpIGV4dGVuZHMgTWVtb3JpYWxTdWJqZWN0QXBpPFdyYXBwZWRNZW1vcmlhbE9yU3ViamVjdENvbnRlbnQsIE1lbW9yaWFsT3JTdWJqZWN0PiB7XG5cdGNvbnRlbnRUeXBlID0gJ1NUT1JZX1BBR0UnIGFzIGNvbnN0O1xufVxuIiwiaW1wb3J0IHsgQ29udGVudFR5cGUsIENvbnRlbnRPYmplY3QsIE9iamVjdFJlZmVyZW5jZSB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IE9iaiB9IGZyb20gJy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBzb3J0Q29udGVudE9iamVjdHMgfSBmcm9tICcuLi9saWIvY29udGVudC9jb250ZW50T2JqZWN0JztcbmltcG9ydCB7IEJhY2tlbmRTZXJ2aWNlLCBGM0FwaSB9IGZyb20gJy4vRjNBcGknO1xuXG4vKiogW1NlZSBEb2N1bWVudGF0aW9uXShodHRwczovL2pmb2xkMy5pYXJjaGl2ZXMuY29tL2pvYi9mMy1iYWNrZW5kL2phdmFkb2MvY29tL2FuY2VzdHJ5L2ViL2ZvbGQzMS9zZXJ2aWNlL09iamVjdFJlZmVyZW5jZVNlcnZpY2UuaHRtbCkgKi9cbmV4cG9ydCBjbGFzcyBPYmplY3RSZWZlcmVuY2VBcGkgZXh0ZW5kcyBGM0FwaSB7XG5cdHNlcnZpY2UgPSBCYWNrZW5kU2VydmljZS5GT0xEMzE7XG5cdHByb3RlY3RlZCBiYXNlVXJsOiBzdHJpbmcgPSAnL2FwaS9vYmotcmVmJztcblxuXHRnZXRDb250ZW50T2JqZWN0KHR5cGU6IENvbnRlbnRUeXBlLCBpZDogc3RyaW5nIHwgbnVtYmVyLCBwcm9wZXJ0aWVzPzogKGtleW9mIENvbnRlbnRPYmplY3QpW10pOiBQcm9taXNlPENvbnRlbnRPYmplY3Q+IHtcblx0XHRsZXQgcGFyYW1zOiBPYmogPSB7fTtcblxuXHRcdGlmIChwcm9wZXJ0aWVzKSB7XG5cdFx0XHRwYXJhbXMucHJvcGVydHkgPSBwcm9wZXJ0aWVzO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmdldChgL2NvbnRlbnQvJHt0eXBlfS8ke2lkfWAsIHtcblx0XHRcdHBhcmFtcyxcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0NvbnRlbnRPYmplY3QnLFxuXHRcdH0pO1xuXHR9XG5cblx0YXN5bmMgZ2V0Q29udGVudE9iamVjdHModG9HZXQ6IE9iamVjdFJlZmVyZW5jZVtdLCB7IHNpemUgPSAxMDAsIHJlcXVpcmVkID0gdHJ1ZSwgcHJvcGVydGllcyB9OiB7IHNpemU/OiBudW1iZXIsIHJlcXVpcmVkPzogYm9vbGVhbiwgcHJvcGVydGllcz86IChrZXlvZiBDb250ZW50T2JqZWN0KVtdIH0gPSB7fSk6IFByb21pc2U8Q29udGVudE9iamVjdFtdPiB7XG5cdFx0Y29uc3QgcGFyYW1zOiBPYmogPSB7XG5cdFx0XHQndGh1bWItd2lkdGgnOiBzaXplLFxuXHRcdFx0J3RodW1iLWhlaWdodCc6IHNpemUsXG5cdFx0XHRyZXF1aXJlZCxcblx0XHR9O1xuXG5cdFx0aWYgKHByb3BlcnRpZXMpIHtcblx0XHRcdHBhcmFtcy5wcm9wZXJ0eSA9IHByb3BlcnRpZXM7XG5cdFx0fVxuXG5cdFx0bGV0IGNvbnRlbnRPYmplY3RzOiBDb250ZW50T2JqZWN0W10gPSBhd2FpdCB0aGlzLnBvc3QoYC9tY29udGVudC9gLCB0b0dldCwge1xuXHRcdFx0c2VyaWFsaXplVHlwZTogJ09iamVjdFJlZmVyZW5jZScsXG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdDb250ZW50T2JqZWN0Jyxcblx0XHRcdHBhcmFtcyxcblx0XHR9KTtcblxuXHRcdHJldHVybiBzb3J0Q29udGVudE9iamVjdHModG9HZXQsIGNvbnRlbnRPYmplY3RzKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgTWVyZ2VkUGxhY2VGYWNldCwgTWVyZ2VkU2VhcmNoUmVzdWx0cyB9IGZyb20gJy4uL2FwaXMvc2VhcmNoQXBpJztcbmltcG9ydCB7IEZhY2V0LCBQbGFjZUZhY2V0IH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgT2JqIH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IGxvbmdUb1Nob3J0IH0gZnJvbSAnLi9wbGFjZS1hYmJyZXZpYXRpb25zJztcblxuaW50ZXJmYWNlIFBsYWNlTGFiZWxzIHtcblx0c2hvcnRMYWJlbHM6IHN0cmluZ1tdXG5cdGxhYmVsczogc3RyaW5nW11cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlUGxhY2VGYWNldHMocmVzdWx0czogTWVyZ2VkU2VhcmNoUmVzdWx0cyk6IE1lcmdlZFNlYXJjaFJlc3VsdHMge1xuXHRpZiAocmVzdWx0cy5wbGFjZUZhY2V0cyAmJiByZXN1bHRzLnBsYWNlRmFjZXRzLmxlbmd0aCkge1xuXHRcdGxldCBmb3VuZE1hcCA9IHJlc3VsdHMucGxhY2VGYWNldHMucmVkdWNlKChmaW5hbE9iaiwgcGxhY2VGYWNldCkgPT4ge1xuXHRcdFx0ZmluYWxPYmpbcGxhY2VGYWNldC5pZF0gPSBwbGFjZUZhY2V0O1xuXHRcdFx0cmV0dXJuIGZpbmFsT2JqO1xuXHRcdH0sIHt9IGFzIE9iajxzdHJpbmcsIFBsYWNlRmFjZXQ+KTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0cy5mYWNldHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBmYWNldCA9IHJlc3VsdHMuZmFjZXRzW2ldO1xuXHRcdFx0bGV0IHR5cGUgPSBmYWNldC50eXBlO1xuXHRcdFx0aWYgKHR5cGUuaW5kZXhPZigncGxhY2UnKSA9PSAwKSB7XG5cdFx0XHRcdHJlc3VsdHMuZmFjZXRzW2ldLmZhY2V0cyA9IHJlc3VsdHMuZmFjZXRzW2ldLmZhY2V0cy5tYXAoZmFjZXQgPT4ge1xuXHRcdFx0XHRcdGxldCBmb3VuZCA9IGZvdW5kTWFwW2ZhY2V0LnZhbHVlXTtcblx0XHRcdFx0XHRtb2RpZnlQbGFjZUZhY2V0KGZvdW5kKTtcblxuXHRcdFx0XHRcdC8vIHR5cGUgY291bGQgYmUgc2V0IHRvIHVuZGVmaW5lZCBoZXJlIGlmIGl0IGJyZWFrcyBTZWFyY2hveFN0b3JlLmZhY2V0c1RvU3VnZ2VzdGlvbnNcblx0XHRcdFx0XHRsZXQgcmV0OiBNZXJnZWRQbGFjZUZhY2V0ID0gKE9iamVjdC5hc3NpZ24oeyBjb3VudDogZmFjZXQuY291bnQsIHZhbHVlOiBmb3VuZC5pZCB9LCBmb3VuZC8qICwge3R5cGU6IHVuZGVmaW5lZH0gKi8pIGFzIE1lcmdlZFBsYWNlRmFjZXQpO1xuXHRcdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXN1bHRzO1xufVxuXG5sZXQgUExBQ0VfTEVWRUxfREVMSU1JVEVSID0gJywgJztcbmZ1bmN0aW9uIG1vZGlmeVBsYWNlRmFjZXQocGxhY2VGYWNldDogRmFjZXQgfCBQbGFjZUZhY2V0KSB7XG5cdE9iamVjdC5hc3NpZ24ocGxhY2VGYWNldCwgY3JlYXRlUGxhY2VMYWJlbHMocGxhY2VGYWNldC5sYWJlbCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGxhY2VMYWJlbHMobGFiZWw6IHN0cmluZyk6IFBsYWNlTGFiZWxzIHtcblx0bGV0IGxhYmVsczogc3RyaW5nW10gPSBbXTtcblx0bGV0IHNob3J0TGFiZWxzOiBzdHJpbmdbXSA9IFtdO1xuXG5cdGxhYmVsXG5cdFx0LnNwbGl0KFBMQUNFX0xFVkVMX0RFTElNSVRFUilcblx0XHQuZm9yRWFjaCgocGFydCwgaSwgYXJyKSA9PiB7XG5cdFx0XHRsZXQgbGFiZWxQYXJ0cyA9IGFyci5zbGljZSgwLCBpICsgMSk7XG5cdFx0XHRsZXQgbGFiZWwgPSBsYWJlbFBhcnRzLmpvaW4oUExBQ0VfTEVWRUxfREVMSU1JVEVSKTtcblx0XHRcdGxldCBzaG9ydExhYmVsID0gbGFiZWxQYXJ0c1xuXHRcdFx0XHQubWFwKChzLCBpKSA9PiB7XG5cdFx0XHRcdFx0bGV0IGFiYnJldiA9IGxvbmdUb1Nob3J0KHMpO1xuXHRcdFx0XHRcdHJldHVybiBpID4gMCAmJiBhYmJyZXYgPyBhYmJyZXYgOiBzO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuam9pbihQTEFDRV9MRVZFTF9ERUxJTUlURVIpO1xuXG5cdFx0XHRsYWJlbHMucHVzaChsYWJlbCk7XG5cdFx0XHRzaG9ydExhYmVscy5wdXNoKHNob3J0TGFiZWwpO1xuXHRcdH0pO1xuXG5cdHJldHVybiB7IGxhYmVscywgc2hvcnRMYWJlbHMgfTtcbn1cbiIsImltcG9ydCB7IEZhY2V0LCBQbGFjZUZhY2V0LCBGYWNldExpc3QsIFNlYXJjaFJlc3VsdHMsIERvY3VtZW50UXVlcnksIEZhY2V0VHlwZSB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IEJhY2tlbmRTZXJ2aWNlLCBGM0FwaSB9IGZyb20gJy4vRjNBcGknO1xuaW1wb3J0IHsgRjNSZXF1ZXN0IH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IE1BWF9RVUVSWV9TSVpFIH0gZnJvbSAnLi4vbGliL2YzLXF1ZXJ5L0YzUXVlcnknO1xuaW1wb3J0IHsgbWVyZ2VQbGFjZUZhY2V0cyB9IGZyb20gJy4uL2xpYi9mYWNldEhlbHBlcnMnO1xuXG5leHBvcnQgdHlwZSBNZXJnZWRQbGFjZUZhY2V0ID0gRmFjZXQgJiBQbGFjZUZhY2V0ICYgeyBsYWJlbHM6IHN0cmluZ1tdLCBzaG9ydExhYmVsczogc3RyaW5nW10gfTtcbmV4cG9ydCB0eXBlIE1lcmdlZEZhY2V0ID0gRmFjZXQgfCBNZXJnZWRQbGFjZUZhY2V0O1xuXG5leHBvcnQgaW50ZXJmYWNlIE1lcmdlZEZhY2V0TGlzdCBleHRlbmRzIEZhY2V0TGlzdCB7XG5cdGZhY2V0czogKE1lcmdlZEZhY2V0IHwgTWVyZ2VkUGxhY2VGYWNldClbXTtcblx0dHlwZTogRmFjZXRUeXBlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVyZ2VkU2VhcmNoUmVzdWx0cyBleHRlbmRzIFNlYXJjaFJlc3VsdHMge1xuXHRmYWNldHM6IE1lcmdlZEZhY2V0TGlzdFtdXG59XG5cbi8qKiBbU2VlIERvY3VtZW50YXRpb25dKGh0dHBzOi8vamZvbGQzLmlhcmNoaXZlcy5jb20vam9iL2YzLXNlYXJjaC9qYXZhZG9jL2NvbS9hbmNlc3RyeS9lYi9qb3NlcGh1cy9mb2xkMzEvc2VhcmNoL3NlcnZpY2UvRG9jdW1lbnRTZWFyY2hTZXJ2aWNlLmh0bWwpICovXG5leHBvcnQgY2xhc3MgU2VhcmNoQXBpIGV4dGVuZHMgRjNBcGkge1xuXHRzZXJ2aWNlID0gQmFja2VuZFNlcnZpY2UuU0VBUkNIO1xuXG5cdGNvbnN0cnVjdG9yKHJlcT86IEYzUmVxdWVzdCkge1xuXHRcdHN1cGVyKHJlcSk7XG5cdH1cblxuXHRmZXRjaFJlc3VsdHMocXVlcnk6IERvY3VtZW50UXVlcnkpOiBQcm9taXNlPFNlYXJjaFJlc3VsdHM+IHtcblx0XHRpZiAocXVlcnkub2Zmc2V0ICsgKHF1ZXJ5Lm1heENvdW50IHx8IDApID4gTUFYX1FVRVJZX1NJWkUpIHtcblx0XHRcdHRocm93ICdUT09fTEFSR0UnO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnBvc3Q8U2VhcmNoUmVzdWx0cz4oJy9kb2Mtc2VhcmNoJywgcXVlcnksIHtcblx0XHRcdHNlcmlhbGl6ZVR5cGU6ICdEb2N1bWVudFF1ZXJ5Jyxcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ1NlYXJjaFJlc3VsdHMnLFxuXHRcdH0pXG5cdFx0XHQudGhlbihyZXN1bHRzID0+IG1lcmdlUGxhY2VGYWNldHMocmVzdWx0cykpO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBBYnN0cmFjdE1lbW9yaWFsRG9jdW1lbnRfVHlwZSwgQ29udGVudE9iamVjdCwgQ29udGVudFN1YlR5cGUsIENvbnRlbnRUeXBlLCBNZW1vcmlhbCwgT2JqZWN0UmVmZXJlbmNlLCBTdWJqZWN0LCBXcmFwcGVkQ29udGVudERvY3VtZW50IH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgT2JqIH0gZnJvbSAnLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSAnLi9jb21wdXRlZCc7XG5pbXBvcnQgeyBnZXRDb250ZW50VGl0bGUgfSBmcm9tICcuL2NvbnRlbnQvY29udGVudCc7XG5pbXBvcnQgeyBnZXRXcmFwcGVkQ29udGVudFJlZiB9IGZyb20gJy4vY29udGVudC9jb250ZW50TWV0YWRhdGEnO1xuaW1wb3J0IHsgYXJlU2FtZU9iamVjdCwgZ2V0Q29udGVudFBhcmVudFR5cGUsIGlzQ29udGVudFBhcmVudFR5cGUsIGlzQ29udGVudFN1YlR5cGUgfSBmcm9tICcuL2NvbnRlbnQvY29udGVudE9iamVjdCc7XG5pbXBvcnQgeyBjdXJyZW50VXNlciB9IGZyb20gJy4vY3VycmVudFVzZXInO1xuaW1wb3J0IHsgcmV2ZXJzZU9iaiB9IGZyb20gJy4vT2JqZWN0VXRpbHMnO1xuaW1wb3J0IHsgZGF0ZVNvcnQgfSBmcm9tICcuL3NvcnRVdGlsJztcbmltcG9ydCB7IGxvY2FsIH0gZnJvbSAnLi9zdG9yYWdlJztcbmltcG9ydCB7IGdldFRpbWVJbk1zIH0gZnJvbSAnLi90aW1lJztcblxuY29uc3QgTUFYX1JFQ0VOVF9WSUVXUyA9IDEwO1xuXG5leHBvcnQgdHlwZSBSZWNlbnRWaWV3ID0gUGljazxDb250ZW50T2JqZWN0LCAnaWQnIHwgJ3RpdGxlJyB8ICdzdWJUeXBlJyB8ICdmbGFncyc+XG5cbnR5cGUgUmVjZW50Vmlld3MgPSBSZWNlbnRWaWV3W107XG50eXBlIFNlcmlhbGl6ZWRSZWNlbnRWaWV3cyA9IE9iajxDb250ZW50VHlwZSB8IENvbnRlbnRTdWJUeXBlLCBTZXJpYWxpemVkUmVjZW50Vmlld1tdPjtcblxuaW50ZXJmYWNlIFNlcmlhbGl6ZWRSZWNlbnRWaWV3IHtcblx0aWQ6IHN0cmluZ1xuXHR0OiBzdHJpbmdcblx0aTogbnVtYmVyXG59XG5cbmNvbnN0IFJFQ0VOVF9WSUVXU19LRVkgPSAnZjNfcmVjZW50X3ZpZXdzJztcblxuY29uc3QgVU5DT05WRVJUSUJMRV9UWVBFUzogQ29udGVudFR5cGVbXSA9IFsnUkVHSU1FTlQnLCAnQ09NUEFOWSddO1xuY29uc3QgdXNlcktleSA9ICdyZWNlbnQudXNlcklkJztcbmNvbnN0IHVzZXJJZCA9IGN1cnJlbnRVc2VyICYmIGN1cnJlbnRVc2VyLnVzZXJJZCB8fCAwO1xuXG52YXIgcmVjZW50VXNlciA9IGxvY2FsLmdldCh1c2VyS2V5KTtcbmlmICghcmVjZW50VXNlcikge1xuXHQvL3JlY2VudCB1c2VyIGhhc24ndCBiZWVuIHNldCB5ZXRcblx0bG9jYWwuc2V0KHVzZXJLZXksIHVzZXJJZCk7XG5cdHJlY2VudFVzZXIgPSB1c2VySWQ7XG59IGVsc2UgaWYgKHJlY2VudFVzZXIgIT09IHVzZXJJZCkge1xuXHQvL3lvdSdyZSBhIGRpZmZlcmVudCB1c2VyLlxuXHRsb2NhbC5zZXQodXNlcktleSwgdXNlcklkKTtcblx0ZGVsZXRlUmVjZW50Vmlld3MoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFJlY2VudENvbnRlbnRWaWV3KGNvbnRlbnQ6IFdyYXBwZWRDb250ZW50RG9jdW1lbnQpIHtcblx0Y29uc3QgaWQgPSBnZXRXcmFwcGVkQ29udGVudFJlZihjb250ZW50KTtcblx0bGV0IHsgY29udGVudFR5cGUgfSA9IGlkO1xuXHRjb25zdCBpc1BhcmVudCA9IGlzQ29udGVudFBhcmVudFR5cGUoY29udGVudFR5cGUpO1xuXHRsZXQgc3ViVHlwZTogQ29udGVudFN1YlR5cGU7XG5cblx0aWYgKGlzUGFyZW50KSB7XG5cdFx0aWYgKGNvbnRlbnRUeXBlID09PSAnU1RPUllfUEFHRScgfHwgY29udGVudFR5cGUgPT09ICdTVUJKRUNUJykge1xuXHRcdFx0c3ViVHlwZSA9IChjb250ZW50LmRvY3VtZW50IGFzIE1lbW9yaWFsIHwgU3ViamVjdCkudHlwZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3ViVHlwZSA9IChjb250ZW50LmRvY3VtZW50IGFzIGFueSkuc3ViVHlwZTtcblx0XHR9XG5cdH1cblxuXHRjb25zdCB0aXRsZSA9IGdldENvbnRlbnRUaXRsZShjb250ZW50KTtcblxuXHRfYWRkUmVjZW50Vmlldyh7XG5cdFx0aWQsXG5cdFx0dGl0bGUsXG5cdFx0c3ViVHlwZSxcblx0fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfYWRkUmVjZW50VmlldyhyZWNlbnRWaWV3OiBSZWNlbnRWaWV3KSB7XG5cdHVwZGF0ZVJlY2VudFZpZXdzKHJlY2VudFZpZXdzID0+IHtcblx0XHRjb25zdCB7IGlkIH0gPSByZWNlbnRWaWV3O1xuXG5cdFx0cmVtb3ZlUmVjZW50VmlldyhyZWNlbnRWaWV3cywgaWQpO1xuXG5cdFx0cmVjZW50Vmlld3MudW5zaGlmdChyZWNlbnRWaWV3KTtcblxuXHRcdC8qXG5cdFx0ICogVGhpcyBuZXh0IGJpdCBpcyBraW5kb2YgY29tcGxleC4gV2Ugd2FudCB0byBwcmVzZXJ2ZSBNQVhfUkVDRU5UX1ZJRVdTIGZvciBlYWNoIGNvbnRlbnRUeXBlLFxuXHRcdCAqIG9yIE1BWF9SRUNFTlRfVklFV1MgZm9yIGVhY2ggc3ViVHlwZSAoaWYgcHJlc2VudCkuXG5cdFx0ICogSWYgYSBzdWJUeXBlIGlzIHByZXNlbnQsIHRoZSBwYXJlbnQgY29udGVudFR5cGUgbWF5IGhhdmUgbWFueSBtb3JlIHZpZXdzIHRoYW4gTUFYX1JFQ0VOVF9WSUVXUyxcblx0XHQgKiBidXQgbmV2ZXIgbW9yZSB0aGFuIE1BWF9SRUNFTlRfVklFV1Mgb2YgZWFjaCBzdWJUeXBlIHdpdGhpbiB0aGF0IHBhcmVudCBjb250ZW50VHlwZS5cblx0XHQgKi9cblx0XHRsZXQgdmlld3NCeVR5cGUgPSByZWNlbnRWaWV3cy5yZWR1Y2UoKGZpbmFsT2JqLCByZWNlbnRWaWV3KSA9PiB7XG5cdFx0XHRsZXQgdHlwZSA9IHJlY2VudFZpZXcuc3ViVHlwZSB8fCByZWNlbnRWaWV3LmlkLmNvbnRlbnRUeXBlO1xuXHRcdFx0aWYgKCFmaW5hbE9ialt0eXBlXSkgZmluYWxPYmpbdHlwZV0gPSBbXTtcblx0XHRcdGZpbmFsT2JqW3R5cGVdLnB1c2gocmVjZW50Vmlldyk7XG5cdFx0XHRyZXR1cm4gZmluYWxPYmo7XG5cdFx0fSwge30gYXMgT2JqPENvbnRlbnRUeXBlIHwgQ29udGVudFN1YlR5cGUsIFJlY2VudFZpZXdbXT4pO1xuXG5cdFx0T2JqZWN0LnZhbHVlcyh2aWV3c0J5VHlwZSkuZm9yRWFjaCh2aWV3cyA9PiB7XG5cdFx0XHRpZiAodmlld3MubGVuZ3RoID4gTUFYX1JFQ0VOVF9WSUVXUykge1xuXHRcdFx0XHR2aWV3cy5zbGljZShNQVhfUkVDRU5UX1ZJRVdTKS5mb3JFYWNoKHZpZXcgPT4ge1xuXHRcdFx0XHRcdHJlbW92ZVJlY2VudFZpZXcocmVjZW50Vmlld3MsIHZpZXcuaWQpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHJldHVybiByZWNlbnRWaWV3cztcblx0fSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVJlY2VudFZpZXcodmlld3M6IFJlY2VudFZpZXdbXSwgcmVmOiBPYmplY3RSZWZlcmVuY2UpIHtcblx0bGV0IGkgPSB2aWV3cy5maW5kSW5kZXgodmlldyA9PiBhcmVTYW1lT2JqZWN0KHZpZXcuaWQsIHJlZikpO1xuXHRpZiAoaSA+PSAwKSB7XG5cdFx0dmlld3Muc3BsaWNlKGksIDEpO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVSZWNlbnRWaWV3KHJlZjogT2JqZWN0UmVmZXJlbmNlKSB7XG5cdHVwZGF0ZVJlY2VudFZpZXdzKHJlY2VudFZpZXdzID0+IHtcblx0XHRyZW1vdmVSZWNlbnRWaWV3KHJlY2VudFZpZXdzLCByZWYpO1xuXHRcdHJldHVybiByZWNlbnRWaWV3cztcblx0fSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVSZWNlbnRWaWV3cygpIHtcblx0bG9jYWwucmVtb3ZlKFJFQ0VOVF9WSUVXU19LRVkpO1xuXHRyZWNlbnRWaWV3c0NvbXB1dGVkPy5zZXRJbnZhbGlkKCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVJlY2VudFZpZXdzKGNiOiAocmVjZW50Vmlld3M6IFJlY2VudFZpZXdbXSkgPT4gUmVjZW50Vmlld1tdKSB7XG5cdGxldCByZWNlbnRWaWV3cyA9IGdldFJlY2VudFZpZXdzKCk7XG5cdHNldFJlY2VudFZpZXdzKGNiKHJlY2VudFZpZXdzKSk7XG59XG5cbmZ1bmN0aW9uIHNldFJlY2VudFZpZXdzKHJlY2VudFZpZXdzOiBSZWNlbnRWaWV3W10pIHtcblx0bGV0IHNlcmlhbGl6ZWQgPSByZWNlbnRWaWV3cy5yZWR1Y2UoKGZpbmFsT2JqLCB2aWV3LCBpKSA9PiB7XG5cdFx0bGV0IHR5cGUgPSB2aWV3LnN1YlR5cGUgfHwgdmlldy5pZC5jb250ZW50VHlwZTtcblx0XHRpZiAoISh0eXBlIGluIGZpbmFsT2JqKSkgZmluYWxPYmpbdHlwZV0gPSBbXTtcblx0XHRmaW5hbE9ialt0eXBlXS5wdXNoKHtcblx0XHRcdGlkOiB2aWV3LmlkLm9iamVjdElkLFxuXHRcdFx0dDogdmlldy50aXRsZSxcblx0XHRcdGksXG5cdFx0fSk7XG5cdFx0cmV0dXJuIGZpbmFsT2JqO1xuXHR9LCB7fSBhcyBPYmo8Q29udGVudFR5cGUgfCBDb250ZW50U3ViVHlwZSwgU2VyaWFsaXplZFJlY2VudFZpZXdbXT4pO1xuXG5cdGxvY2FsLnNldChSRUNFTlRfVklFV1NfS0VZLCBzZXJpYWxpemVkLCBnZXRUaW1lSW5NcygzLCAnbW8nKSk7XG5cdHJlY2VudFZpZXdzQ29tcHV0ZWQuc2V0SW52YWxpZCgpO1xufVxuXG5jb25zdCByZWNlbnRWaWV3c0NvbXB1dGVkID0gY29tcHV0ZWQoKCkgPT4ge1xuXHRsZXQgc2VyaWFsaXplZDogU2VyaWFsaXplZFJlY2VudFZpZXdzID0gbG9jYWwuZ2V0KFJFQ0VOVF9WSUVXU19LRVkpIHx8IHt9O1xuXG5cdGxldCByZWNlbnRWaWV3czogUmVjZW50Vmlld1tdID0gW107XG5cblx0T2JqZWN0LmVudHJpZXMoc2VyaWFsaXplZClcblx0XHQuZm9yRWFjaCgoW3R5cGUsIHNlcmlhbGl6ZWREb2NzXSkgPT4ge1xuXHRcdFx0bGV0IGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSA9IHR5cGUgYXMgQ29udGVudFR5cGU7XG5cdFx0XHRsZXQgc3ViVHlwZTogQ29udGVudFN1YlR5cGU7XG5cblx0XHRcdGlmIChpc0NvbnRlbnRTdWJUeXBlKHR5cGUpICYmICFVTkNPTlZFUlRJQkxFX1RZUEVTLmluY2x1ZGVzKGNvbnRlbnRUeXBlKSkge1xuXHRcdFx0XHRsZXQgcGFyZW50VHlwZSA9IGdldENvbnRlbnRQYXJlbnRUeXBlKHR5cGUpO1xuXHRcdFx0XHRpZiAocGFyZW50VHlwZSAhPT0gJ0lNQUdFJykge1xuXHRcdFx0XHRcdGNvbnRlbnRUeXBlID0gcGFyZW50VHlwZTtcblx0XHRcdFx0XHRzdWJUeXBlID0gdHlwZSBhcyBDb250ZW50U3ViVHlwZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRzZXJpYWxpemVkRG9jcy5mb3JFYWNoKGRvYyA9PiB7XG5cdFx0XHRcdHJlY2VudFZpZXdzW2RvYy5pXSA9IHtcblx0XHRcdFx0XHRpZDoge1xuXHRcdFx0XHRcdFx0Y29udGVudFR5cGUsXG5cdFx0XHRcdFx0XHRvYmplY3RJZDogZG9jLmlkLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0dGl0bGU6IGRvYy50LFxuXHRcdFx0XHRcdHN1YlR5cGUsXG5cdFx0XHRcdH07XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRyZXR1cm4gcmVjZW50Vmlld3M7XG59KTtcblxuZnVuY3Rpb24gZ2V0UmVjZW50Vmlld3MoKTogUmVjZW50Vmlld3Mge1xuXHRjb252ZXJ0T2xkRm9ybWF0VG9OZXcoKTtcblx0cmV0dXJuIHJlY2VudFZpZXdzQ29tcHV0ZWQuZ2V0VmFsdWUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZpZXdzRm9yVHlwZXModHlwZXM/OiAoQ29udGVudFR5cGUgfCBDb250ZW50U3ViVHlwZSlbXSkge1xuXHRsZXQgdmlld3MgPSBnZXRSZWNlbnRWaWV3cygpO1xuXG5cdGlmICh0eXBlcykge1xuXHRcdHJldHVybiB2aWV3cy5maWx0ZXIodmlldyA9PiB7XG5cdFx0XHRyZXR1cm4gdHlwZXMuaW5jbHVkZXModmlldy5pZC5jb250ZW50VHlwZSkgfHwgdHlwZXMuaW5jbHVkZXModmlldy5zdWJUeXBlKTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gdmlld3M7XG5cdH1cbn1cblxuXG4vKiBPTEQgUkVDRU5UIFZJRVdTIENPREUuIFRPIEJFIERFTEVURUQgKi9cbmludGVyZmFjZSBTZXJpYWxpemVkVmlldyB7XG5cdGdyYXBoaWM6IGJvb2xlYW47XG5cdGlkOiBzdHJpbmcgfCBudW1iZXI7XG5cblx0LyoqIHRpdGxlICovXG5cdHRpdGxlOiBzdHJpbmc7XG5cblx0LyoqIHR5cGU7IG9wdGlvbmFsIGJlY2F1c2UgaXQgaXNuJ3Qgc2VyaWFsaXplZCBidXQgYWRkZWQgYmFzZWQgb24gdGhlIGxpc3QgaXQgY2FtZSBmcm9tICovXG5cdHR5cGU/OiBDb250ZW50VHlwZTtcblxuXHQvKiogc3ViVHlwZTsgb3B0aW9uYWwgYmVjYXVzZSBpdCB3aWxsIG9ubHkgYmUgcHJlc2VudCBvbiByZWNlbnQgcGFnZXMgKi9cblx0cz86IEFic3RyYWN0TWVtb3JpYWxEb2N1bWVudF9UeXBlO1xuXG5cdC8qKiB0aW1lLCB1c2VkIGZvciBzb3J0aW5nICovXG5cdGQ6IG51bWJlcjtcbn1cblxuY29uc3QgaW1hZ2VzS2V5ID0gJ3JlY2VudC5pbWFnZXMnO1xuY29uc3QgcGFnZXNLZXkgPSAncmVjZW50LnBhZ2VzJztcbmNvbnN0IHB1YmxpY2F0aW9uc0tleSA9ICdyZWNlbnQucHVibGljYXRpb25zJztcbmNvbnN0IHJlY29yZHNLZXkgPSAncmVjZW50LnJlY29yZHMnO1xuY29uc3Qgc3ViZG9jc0tleSA9ICdyZWNlbnQuc3ViZG9jcyc7XG5jb25zdCBjb2xsZWN0aW9uc0tleSA9ICdyZWNlbnQuY29sbGVjdGlvbnMnO1xuY29uc3QgYmF0dGxlc0tleSA9ICdyZWNlbnQuYmF0dGxlcyc7XG5jb25zdCByZWdpbWVudHNLZXkgPSAncmVjZW50LnJlZ2ltZW50cyc7XG5jb25zdCBjb21wYW5pZXNLZXkgPSAncmVjZW50LmNvbXBhbmllcyc7XG5jb25zdCBwYXJ0bmVyc0tleSA9ICdyZWNlbnQucGFydG5lcnMnO1xuY29uc3QgdW5pdHNLZXkgPSAncmVjZW50LnVuaXRzJztcblxuY29uc3QgdHlwZXNCeUtleTogT2JqPHN0cmluZywgQ29udGVudFR5cGU+ID0ge1xuXHRbaW1hZ2VzS2V5XTogJ0lNQUdFJyxcblx0W3BhZ2VzS2V5XTogJ1NUT1JZX1BBR0UnLFxuXHRbcHVibGljYXRpb25zS2V5XTogJ1BVQkxJQ0FUSU9OJyxcblx0W3JlY29yZHNLZXldOiAnSU5ERVhfUkVDT1JEJyxcblx0W3N1YmRvY3NLZXldOiAnU1VCX0lNQUdFJyxcblx0W2NvbGxlY3Rpb25zS2V5XTogJ1RJVExFX0NPTExFQ1RJT04nLFxuXHRbYmF0dGxlc0tleV06ICdCQVRUTEUnLFxuXHRbcmVnaW1lbnRzS2V5XTogJ1JFR0lNRU5UJyxcblx0W2NvbXBhbmllc0tleV06ICdDT01QQU5ZJyxcblx0W3BhcnRuZXJzS2V5XTogJ1BBUlRORVInLFxuXHRbdW5pdHNLZXldOiAnTUlMSVRBUllfVU5JVCcsXG59O1xuY29uc3QgcmVjZW50Q29udGVudFR5cGVzOiBDb250ZW50VHlwZVtdID0gWydJTUFHRScsICdTVE9SWV9QQUdFJywgJ1BVQkxJQ0FUSU9OJywgJ0lOREVYX1JFQ09SRCcsICdTVUJfSU1BR0UnLCAnVElUTEVfQ09MTEVDVElPTicsICdCQVRUTEUnLCAnUkVHSU1FTlQnLCAnQ09NUEFOWScsICdQQVJUTkVSJywgJ01JTElUQVJZX1VOSVQnXTtcblxuY29uc3Qga2V5c0J5VHlwZSA9IHJldmVyc2VPYmoodHlwZXNCeUtleSk7XG5cbmZ1bmN0aW9uIGdldFJlY2VudHNCeVR5cGUodHlwZXM6IENvbnRlbnRUeXBlIHwgQ29udGVudFR5cGVbXSk6IFJlY2VudFZpZXdbXSB7XG5cdGlmICghQXJyYXkuaXNBcnJheSh0eXBlcykpIHR5cGVzID0gW3R5cGVzXTtcblxuXHRjb25zdCBhbGxSZWNlbnRzID0gdHlwZXMucmVkdWNlKChmaW5hbEFyciwgdHlwZSkgPT4ge1xuXHRcdGNvbnN0IGtleSA9IGtleXNCeVR5cGVbdHlwZV07XG5cdFx0cmV0dXJuIFsuLi5maW5hbEFyciwgLi4uZ2V0UmF3TGlzdChrZXksIHRydWUpXTtcblx0fSwgW10gYXMgU2VyaWFsaXplZFZpZXdbXSk7XG5cblx0cmV0dXJuIGFsbFJlY2VudHNcblx0XHQuc29ydCgocmVjZW50QSwgcmVjZW50QikgPT4ge1xuXHRcdFx0cmV0dXJuIGRhdGVTb3J0KHJlY2VudEEuZCwgcmVjZW50Qi5kKTtcblx0XHR9KVxuXHRcdC5tYXAodmlldyA9PiB7XG5cdFx0XHRsZXQgb2JqOiBSZWNlbnRWaWV3ID0ge1xuXHRcdFx0XHRpZDoge1xuXHRcdFx0XHRcdGNvbnRlbnRUeXBlOiB2aWV3LnR5cGUsXG5cdFx0XHRcdFx0b2JqZWN0SWQ6ICcnICsgdmlldy5pZCxcblx0XHRcdFx0fSxcblx0XHRcdFx0c3ViVHlwZTogdmlldy5zLFxuXHRcdFx0XHR0aXRsZTogdmlldy50aXRsZSxcblxuXHRcdFx0XHQvLyBzaG9ydFRpdGxlOiB2aWV3LnRpdGxlLFxuXHRcdFx0fTtcblx0XHRcdGlmICh2aWV3LmdyYXBoaWMpIHtcblx0XHRcdFx0b2JqLmZsYWdzID0gWydncmFwaGljJ107XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gb2JqO1xuXHRcdH0pO1xufVxuXG5mdW5jdGlvbiBjbGVhclJlY2VudHNCeVR5cGUodHlwZTogQ29udGVudFR5cGUpIHtcblx0Y29uc3Qga2V5ID0ga2V5c0J5VHlwZVt0eXBlXTtcblx0aWYgKGtleSkgbG9jYWwucmVtb3ZlKGtleSk7XG59XG5cbmZ1bmN0aW9uIGNsZWFyQWxsUmVjZW50cygpIHtcblx0cmVjZW50Q29udGVudFR5cGVzLmZvckVhY2godHlwZSA9PiB7IGNsZWFyUmVjZW50c0J5VHlwZSh0eXBlKTsgfSk7XG59XG5cbmZ1bmN0aW9uIGdldFJhd0xpc3Qoa2V5OiBzdHJpbmcsIHdpdGhUeXBlID0gZmFsc2UpOiBTZXJpYWxpemVkVmlld1tdIHtcblx0bGV0IGxpc3Q6IFNlcmlhbGl6ZWRWaWV3W10gPSBsb2NhbC5nZXQoa2V5KSB8fCBbXTtcblxuXHRpZiAod2l0aFR5cGUpIHtcblx0XHRsZXQgdHlwZSA9IHR5cGVzQnlLZXlba2V5XTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxpc3RbaV0udHlwZSA9IHR5cGU7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGxpc3Q7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRPbGRGb3JtYXRUb05ldygpIHtcblx0aWYgKGxvY2FsLmdldChSRUNFTlRfVklFV1NfS0VZKSkgcmV0dXJuOyAvLyBjb252ZXJzaW9uIGhhcyBhbHJlYWR5IGhhcHBlbmVkXG5cblx0bGV0IGNvbnRlbnRUeXBlcyA9IHJlY2VudENvbnRlbnRUeXBlcy5maWx0ZXIoY3QgPT4gIVVOQ09OVkVSVElCTEVfVFlQRVMuaW5jbHVkZXMoY3QpKTtcblx0bGV0IGN1cnJlbnRSZWNlbnRWaWV3cyA9IGdldFJlY2VudHNCeVR5cGUoY29udGVudFR5cGVzKVxuXHRcdC5tYXAocmVjZW50ID0+IHtcblx0XHRcdGNvbnN0IHsgZmxhZ3MsIC4uLnJlc3QgfSA9IHJlY2VudDtcblx0XHRcdGlmIChyZXN0LmlkLmNvbnRlbnRUeXBlID09PSAnU1RPUllfUEFHRScgJiYgIXJlc3Quc3ViVHlwZSkge1xuXHRcdFx0XHRyZXN0LnN1YlR5cGUgPSAnUEVSU09OJzsgLy8gVGhpcyBpcyB0aGUgbW9zdCBsaWtlbHkuIElmIGl0J3Mgbm90IGEgUEVSU09OLCBpdCB3b24ndCBodXJ0LiBUaGlzIGp1c3QgbWFrZXMgaXQgc28gd2UgZG9uJ3QgaGF2ZSBvcnBoYW5lZCBTVE9SWV9QQUdFc1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3Q7XG5cdFx0fSk7XG5cblx0LyogVGhlc2UgdHlwZXMgY2FuJ3QgYmUgY29udmVydGVkIGJlY2F1c2Ugd2Ugd291bGQgaGF2ZSB0byBkbyBhIEdFVCBmb3IgZWFjaCBkb2N1bWVudCB0byBmaW5kIG91dCB3aGF0IGl0IGZvcndhcmRzIHRvLiBJdCdzIG5vdCB3b3J0aCBpdC4gKi9cblxuXHQvKlxuXHQgKiBsZXQgbmV3UmVjZW50Vmlld3MgPSBjdXJyZW50UmVjZW50Vmlld3M/LnJlZHVjZSgoZmluYWxPYmosIHJlY2VudERvY3VtZW50KSA9PiB7XG5cdCAqIFx0Y29uc3QgeyBjb250ZW50VHlwZSB9ID0gcmVjZW50RG9jdW1lbnQuaWQ7XG5cdCAqL1xuXG5cdC8qXG5cdCAqIFx0aWYgKCF1bmNvbnZlcnRpYmxlLmluY2x1ZGVzKGNvbnRlbnRUeXBlKSkge1xuXHQgKiBcdFx0aWYgKCEoY29udGVudFR5cGUgaW4gZmluYWxPYmopKSBmaW5hbE9ialtjb250ZW50VHlwZV0gPSBbXTtcblx0ICogXHRcdGZpbmFsT2JqW2NvbnRlbnRUeXBlXS5wdXNoKHJlY2VudERvY3VtZW50KTtcblx0ICogXHR9XG5cdCAqL1xuXG5cdC8qXG5cdCAqIFx0cmV0dXJuIGZpbmFsT2JqO1xuXHQgKiB9LCB7fSBhcyBSZWNlbnRWaWV3cyk7XG5cdCAqL1xuXG5cdHNldFJlY2VudFZpZXdzKGN1cnJlbnRSZWNlbnRWaWV3cyk7XG5cblx0Ly8gY2xlYXJBbGxSZWNlbnRzKCk7XG59XG4iLCJpbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ29udGVudFN1YlR5cGUsIENvbnRlbnRUeXBlIH0gZnJvbSAnLi4vLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgYWRkUmVjZW50Q29udGVudFZpZXcsIGRlbGV0ZVJlY2VudFZpZXcsIGRlbGV0ZVJlY2VudFZpZXdzLCBnZXRWaWV3c0ZvclR5cGVzLCBfYWRkUmVjZW50VmlldyB9IGZyb20gJy4uL3JlY2VudFZpZXdzJztcblxuZXhwb3J0IGNvbnN0IHVzZVJlY2VudFZpZXdzID0gKHR5cGVzPzogKENvbnRlbnRUeXBlIHwgQ29udGVudFN1YlR5cGUpW10pID0+IHtcblx0Y29uc3QgcmVjZW50Vmlld3MgPSB1c2VNZW1vKCgpID0+IHtcblx0XHRyZXR1cm4gZ2V0Vmlld3NGb3JUeXBlcyh0eXBlcyk7XG5cdH0sIFt0eXBlc10pO1xuXG5cdHJldHVybiB7XG5cdFx0cmVjZW50Vmlld3MsXG5cdFx0YWRkUmVjZW50VmlldzogX2FkZFJlY2VudFZpZXcsXG5cdFx0YWRkUmVjZW50Q29udGVudFZpZXcsXG5cdFx0ZGVsZXRlUmVjZW50Vmlldyxcblx0XHRkZWxldGVSZWNlbnRWaWV3cyxcblx0XHRnZXRWaWV3c0ZvclR5cGVzLFxuXHR9O1xufTtcbiIsInR5cGUgVHVwbGU8VD4gPSBbYW55LCBUXTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG9uPFQ+KHByb21pc2U6IFByb21pc2U8VD4sIGxvZzogYm9vbGVhbiA9IHRydWUpOiBQcm9taXNlPFR1cGxlPFQ+PiB7XG5cdHRyeSB7XG5cdFx0bGV0IGRhdGEgPSBhd2FpdCBwcm9taXNlO1xuXHRcdHJldHVybiBbbnVsbCwgZGF0YV0gYXMgVHVwbGU8VD47XG5cdH0gY2F0Y2goZXJyKSB7XG5cdFx0aWYgKGxvZykgY29uc29sZS5lcnJvcihlcnIpO1xuXHRcdHJldHVybiBbZXJyLCBudWxsXSBhcyBUdXBsZTxUPjtcblx0fVxufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi9saWIvRXJyb3JCb3VuZGFyeSc7XG5pbXBvcnQgeyBMb2FkSW5kaWNhdG9yIH0gZnJvbSAnLi9Mb2FkSW5kaWNhdG9yJztcblxuaW50ZXJmYWNlIFBpY2tlclByb3BzPFQ+IHtcblx0ZWxlbWVudHM6IFRbXTtcblx0b25TZWxlY3Q6IChlbGVtZW50OiBUKSA9PiBhbnk7XG5cdGVtcHR5Q29udGVudDogSlNYLkVsZW1lbnQ7XG5cdHJlbmRlckVsZW1lbnQ6IChlbGVtZW50OiBUKSA9PiBSZWFjdC5SZWFjdE5vZGU7XG5cdGdldEtleTogKGVsZW1lbnQ6IFQpID0+IHN0cmluZyB8IG51bWJlcjtcblx0bG9hZGluZz86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBQaWNrZXI8VD4gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UGlja2VyUHJvcHM8VD4sIGFueT4ge1xuXHRyZW5kZXIoKSB7XG5cdFx0bGV0IHsgZWxlbWVudHMsIGVtcHR5Q29udGVudCwgcmVuZGVyRWxlbWVudCwgb25TZWxlY3QsIGdldEtleSwgbG9hZGluZyB9ID0gdGhpcy5wcm9wcztcblxuXHRcdGlmIChsb2FkaW5nKSB7XG5cdFx0XHRyZXR1cm4gPExvYWRJbmRpY2F0b3IgLz47XG5cdFx0fVxuXG5cdFx0aWYgKCEoZWxlbWVudHMgJiYgZWxlbWVudHMubGVuZ3RoKSAmJiBlbXB0eUNvbnRlbnQpIHtcblx0XHRcdHJldHVybiBlbXB0eUNvbnRlbnQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIDxFcnJvckJvdW5kYXJ5PlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J1BpY2tlciBtdC0yJz5cblx0XHRcdFx0PHVsIGNsYXNzTmFtZT0ncGlja2VyLWVsZW1lbnRzIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtZXZlbmx5IGxpc3QtdW5zdHlsZWQgZmxleC13cmFwJz5cblx0XHRcdFx0XHR7ZWxlbWVudHMubWFwKGVsZW1lbnQgPT5cblx0XHRcdFx0XHRcdDxsaSBrZXk9e2dldEtleShlbGVtZW50KX0gb25DbGljaz17KCkgPT4gb25TZWxlY3QoZWxlbWVudCl9PlxuXHRcdFx0XHRcdFx0XHR7cmVuZGVyRWxlbWVudChlbGVtZW50KX1cblx0XHRcdFx0XHRcdDwvbGk+KX1cblxuXHRcdFx0XHRcdHsvKiBGbGV4Ym94IGhhY2s7IGRvbid0IHdvcnJ5IGFib3V0IGl0IC0tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4NzQ0MTY0L2ZsZXgtYm94LWFsaWduLWxhc3Qtcm93LXRvLWdyaWQgKi99XG5cdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0nZW1wdHknIC8+XG5cdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0nZW1wdHknIC8+XG5cdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0nZW1wdHknIC8+XG5cdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0nZW1wdHknIC8+XG5cdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0nZW1wdHknIC8+XG5cdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0nZW1wdHknIC8+XG5cdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0nZW1wdHknIC8+XG5cdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0nZW1wdHknIC8+XG5cdFx0XHRcdDwvdWw+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L0Vycm9yQm91bmRhcnk+O1xuXHR9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IEFic3RyYWN0TWVtb3JpYWxEb2N1bWVudF9UeXBlIH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgdHJ1bmNhdGUgfSBmcm9tICcuLi9saWIvdGVtcGxhdGluZyc7XG5pbXBvcnQgeyBGM0xpbmsgfSBmcm9tICcuL0YzTGluayc7XG5pbXBvcnQgeyBQaWNrZXIgfSBmcm9tICcuL1BpY2tlcic7XG5pbXBvcnQgeyBUaHVtYm5haWwgfSBmcm9tICcuL1RodW1ibmFpbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVtb3JpYWxQaWNrZXJQcm9wcyB7XG5cdG1lbW9yaWFsczogU2ltcGxlTWVtb3JpYWxbXTtcblx0b25TZWxlY3Q6IChtZW1vcmlhbDogU2ltcGxlTWVtb3JpYWwpID0+IGFueTtcblx0ZW1wdHlDb250ZW50PzogSlNYLkVsZW1lbnQ7XG5cdGxvYWRpbmc/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNpbXBsZU1lbW9yaWFsIHtcblx0dGl0bGU6IHN0cmluZztcblx0aWQ6IG51bWJlciB8IHN0cmluZztcblx0dHlwZTogQWJzdHJhY3RNZW1vcmlhbERvY3VtZW50X1R5cGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBNZW1vcmlhbFBpY2tlcih7IG1lbW9yaWFscywgZW1wdHlDb250ZW50LCBsb2FkaW5nLCBvblNlbGVjdCB9OiBNZW1vcmlhbFBpY2tlclByb3BzKSB7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2NvbXBvbmVudHMnKTtcblxuXHRjb25zdCByZW5kZXJNZW1vcmlhbCA9IChzdG9yeXBhZ2U6IFNpbXBsZU1lbW9yaWFsKSA9PiB7XG5cdFx0bGV0IHN0b3J5cGFnZUlkID0gc3RvcnlwYWdlLmlkO1xuXHRcdGNvbnN0IHRpdGxlID0gc3RvcnlwYWdlLnRpdGxlO1xuXG5cblx0XHRsZXQgcHJvcHM6IHsgaHJlZj86IHN0cmluZyB9ID0ge307XG5cblx0XHRpZiAoIW9uU2VsZWN0KSB7XG5cdFx0XHRwcm9wcy5ocmVmID0gYC9tZW1vcmlhbC8ke3N0b3J5cGFnZUlkfWA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIChcblx0XHRcdDxGM0xpbmsgey4uLnByb3BzfSByb2xlPSdidXR0b24nPlxuXHRcdFx0XHQ8VGh1bWJuYWlsXG5cdFx0XHRcdFx0YWx0PXt0aXRsZX1cblx0XHRcdFx0XHRjb250ZW50VHlwZT0nU1RPUllfUEFHRSdcblx0XHRcdFx0XHRvYmplY3RJZD17c3RvcnlwYWdlSWR9XG5cdFx0XHRcdFx0c2l6ZT17MTAwfVxuXHRcdFx0XHQvPlxuXHRcdFx0XHR7dGl0bGUgJiYgPHAgY2xhc3NOYW1lPSdwLTEgbWItMCcgdGl0bGU9e3RpdGxlfT57dHJ1bmNhdGUodGl0bGUsIDI1KX08L3A+fVxuXHRcdFx0PC9GM0xpbms+XG5cdFx0KTtcblx0fTtcblxuXHRjb25zdCBnZXRNZW1vcmlhbFBhZ2VJZCA9IChzdG9yeXBhZ2U6IFNpbXBsZU1lbW9yaWFsKSA9PiBzdG9yeXBhZ2UuaWQ7XG5cblx0Y29uc3QgaGFuZGxlU2VsZWN0ID0gKHN0b3J5cGFnZTogU2ltcGxlTWVtb3JpYWwpID0+IHtcblx0XHRpZiAodHlwZW9mIG9uU2VsZWN0ID09ICdmdW5jdGlvbicpIHtcblx0XHRcdG9uU2VsZWN0KHN0b3J5cGFnZSk7XG5cdFx0fVxuXHR9O1xuXG5cdGlmICghZW1wdHlDb250ZW50KSB7XG5cdFx0ZW1wdHlDb250ZW50ID0gPHA+e3QoJ25vTWVtb3JpYWxzLmVtcHR5Q29udGVudCcsICdObyBNZW1vcmlhbHMnKX08L3A+O1xuXHR9XG5cblx0cmV0dXJuIChcblx0XHQ8UGlja2VyXG5cdFx0XHRlbGVtZW50cz17bWVtb3JpYWxzfVxuXHRcdFx0ZW1wdHlDb250ZW50PXtlbXB0eUNvbnRlbnR9XG5cdFx0XHRnZXRLZXk9e2dldE1lbW9yaWFsUGFnZUlkfVxuXHRcdFx0bG9hZGluZz17bG9hZGluZ31cblx0XHRcdG9uU2VsZWN0PXtoYW5kbGVTZWxlY3R9XG5cdFx0XHRyZW5kZXJFbGVtZW50PXtyZW5kZXJNZW1vcmlhbH1cblx0XHQvPlxuXHQpO1xufVxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE9iaiB9IGZyb20gJy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBjbGFzc1N0ciB9IGZyb20gJy4uL2xpYi9jbGFzc1V0aWwnO1xuaW1wb3J0IHsgQnV0dG9uUHJvcHMsIEYzQnV0dG9uIH0gZnJvbSAnLi9GM0J1dHRvbic7XG5pbXBvcnQgeyBUYWJOYW1lIH0gZnJvbSAnLi9JbWFnZVBpY2tlcnMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRhYk9wdHMgZXh0ZW5kcyBCdXR0b25Qcm9wcyB7XG5cdGxhYmVsOiBzdHJpbmdcblx0J2RhdGEtY3knPzogc3RyaW5nXG59XG5cbmludGVyZmFjZSBUYWJCYXJQcm9wczxUIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nPiB7XG5cdHRhYnM6IE9iajxUYWJOYW1lIHwgc3RyaW5nLCBUYWJPcHRzPjtcblx0YWN0aXZlVGFiOiBUO1xuXHRvbkNoYW5nZTogKHRhYjogVCkgPT4gdm9pZDtcblx0Y2xhc3NOYW1lPzogc3RyaW5nO1xuXHRzdHlsZT86IFJlYWN0LkNTU1Byb3BlcnRpZXM7XG5cdHJlbmRlcj86ICh0YWI6IFQsIG9wdHM6IFRhYk9wdHMpID0+IFJlYWN0LlJlYWN0Tm9kZTtcbn1cblxuZXhwb3J0IGNvbnN0IFRhYkJhciA9IDxUIGV4dGVuZHMgVGFiTmFtZT4oeyB0YWJzLCBhY3RpdmVUYWIsIG9uQ2hhbmdlLCBjbGFzc05hbWUsIHJlbmRlciwgLi4udWxQcm9wcyB9OiBUYWJCYXJQcm9wcykgPT4ge1xuXHRyZXR1cm4gPGRpdiBjbGFzc05hbWU9e2NsYXNzU3RyKGNsYXNzTmFtZSwgJ2J0bi1ncm91cCcpfSB7Li4udWxQcm9wc30+XG5cdFx0e1xuXHRcdFx0T2JqZWN0LmtleXModGFicykubWFwKCh0YWJOYW1lOiBUKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHRhYiA9IHRhYnNbdGFiTmFtZV07XG5cdFx0XHRcdGNvbnN0IHsgbGFiZWwsICdkYXRhLWN5JzogZGF0YUN5LCByZWYsIC4uLnJlc3QgfSA9IHRhYjtcblxuXHRcdFx0XHRyZXR1cm4gPEYzQnV0dG9uXG5cdFx0XHRcdFx0a2V5PXt0YWJOYW1lfVxuXHRcdFx0XHRcdGJ0blR5cGU9e3RhYk5hbWUgPT09IGFjdGl2ZVRhYiA/ICdwcmltYXJ5JyA6ICdzZWNvbmRhcnknfVxuXHRcdFx0XHRcdGRhdGEtY3k9e2RhdGFDeX1cblx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiBvbkNoYW5nZSh0YWJOYW1lKX1cblx0XHRcdFx0XHRvdXRsaW5lPXt0YWJOYW1lICE9PSBhY3RpdmVUYWJ9XG5cdFx0XHRcdFx0c2l6ZT0nc20nXG5cdFx0XHRcdFx0ey4uLnJlc3R9XG5cdFx0XHRcdD5cblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHR0eXBlb2YgcmVuZGVyID09PSAnZnVuY3Rpb24nID9cblx0XHRcdFx0XHRcdFx0cmVuZGVyKHRhYk5hbWUsIHRhYikgOlxuXHRcdFx0XHRcdFx0XHQ8c3Bhbj57dGFic1t0YWJOYW1lXS5sYWJlbH08L3NwYW4+XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQ8L0YzQnV0dG9uPjtcblx0XHRcdH0pXG5cdFx0fVxuXHQ8L2Rpdj47XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgTWVtb3JpYWxBcGkgfSBmcm9tICcuLi9hcGlzL21lbW9yaWFsQXBpJztcbmltcG9ydCB7IE9iamVjdFJlZmVyZW5jZUFwaSB9IGZyb20gJy4uL2FwaXMvb2JqZWN0UmVmZXJlbmNlQXBpJztcbmltcG9ydCB7IFNlYXJjaEFwaSB9IGZyb20gJy4uL2FwaXMvc2VhcmNoQXBpJztcbmltcG9ydCB7IFRhZ0FwaSB9IGZyb20gJy4uL2FwaXMvdGFnQXBpJztcbmltcG9ydCB7IEFic3RyYWN0TWVtb3JpYWxEb2N1bWVudF9UeXBlLCBPYmplY3RSZWZlcmVuY2UgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBPYmogfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgZ2V0Q29udGVudE9iaklkLCBnZXRDb250ZW50VHlwZUxhYmVsIH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvY29udGVudE9iamVjdCc7XG5pbXBvcnQgeyBGM1F1ZXJ5IH0gZnJvbSAnLi4vbGliL2YzLXF1ZXJ5L0YzUXVlcnknO1xuaW1wb3J0IHsgdXNlQWxlcnRzIH0gZnJvbSAnLi4vbGliL2hvb2tzL3VzZUFsZXJ0cyc7XG5pbXBvcnQgeyB1c2VSZWNlbnRWaWV3cyB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VSZWNlbnRWaWV3cyc7XG5pbXBvcnQgeyB1c2VVc2VyIH0gZnJvbSAnLi4vbGliL2hvb2tzL3VzZVVzZXInO1xuaW1wb3J0IHsgb24gfSBmcm9tICcuLi9saWIvb24nO1xuaW1wb3J0IHsgZ2V0VGl0bGUgfSBmcm9tICcuLi9saWIvc2x1Zyc7XG5pbXBvcnQgeyBGM0J1dHRvbiB9IGZyb20gJy4vRjNCdXR0b24nO1xuaW1wb3J0IHsgRjNMaW5rIH0gZnJvbSAnLi9GM0xpbmsnO1xuaW1wb3J0IHsgTWVtb3JpYWxQaWNrZXIsIE1lbW9yaWFsUGlja2VyUHJvcHMsIFNpbXBsZU1lbW9yaWFsIH0gZnJvbSAnLi9NZW1vcmlhbFBpY2tlcic7XG5pbXBvcnQgeyBUYWJCYXIsIFRhYk9wdHMgfSBmcm9tICcuL1RhYkJhcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVtb3JpYWxQaWNrZXJzUHJvcHMge1xuXHRvblNlbGVjdChzdG9yeXBhZ2U6IFNpbXBsZU1lbW9yaWFsKTogdm9pZDtcblx0dGFicz86IHsgbGFiZWw6IHN0cmluZywgcHJvcHM6IE1lbW9yaWFsUGlja2VyUHJvcHMgfVtdO1xuXHRmaWx0ZXI/OiAobWVtb3JpYWw6IFNpbXBsZU1lbW9yaWFsKSA9PiBib29sZWFuO1xuXHRjcmVhdGVNZW1vcmlhbEZyb20/OiBPYmplY3RSZWZlcmVuY2Vcbn1cblxudHlwZSBUYWJzID0gJ3JlY2VudCcgfCAnYm9va21hcmtlZCcgfCAndXNlcicgfCAnY3JlYXRlJztcblxuZXhwb3J0IGNvbnN0IE1lbW9yaWFsUGlja2VycyA9ICh7IG9uU2VsZWN0LCB0YWJzOiBfdGFicywgZmlsdGVyID0gKCkgPT4gdHJ1ZSwgY3JlYXRlTWVtb3JpYWxGcm9tIH06IE1lbW9yaWFsUGlja2Vyc1Byb3BzKSA9PiB7XG5cdGNvbnN0IHsgdXNlcjogeyB1c2VySWQgfSB9ID0gdXNlVXNlcigpO1xuXHRjb25zdCBbYWN0aXZlVGFiLCBzZXRBY3RpdmVUYWJdID0gdXNlU3RhdGU8VGFicz4oJ3JlY2VudCcpO1xuXHRjb25zdCBbcmVjZW50TWVtb3JpYWxzLCBzZXRSZWNlbnRNZW1vcmlhbHNdID0gdXNlU3RhdGU8U2ltcGxlTWVtb3JpYWxbXT4obnVsbCk7XG5cdGNvbnN0IFtib29rbWFya2VkTWVtb3JpYWxzLCBzZXRCb29rbWFya2VkTWVtb3JpYWxzXSA9IHVzZVN0YXRlPFNpbXBsZU1lbW9yaWFsW10+KG51bGwpO1xuXHRjb25zdCBbdXNlck1lbW9yaWFscywgc2V0VXNlck1lbW9yaWFsc10gPSB1c2VTdGF0ZTxTaW1wbGVNZW1vcmlhbFtdPihudWxsKTtcblx0Y29uc3QgeyBhZGRTdWNjZXNzQWxlcnQsIGFkZEVycm9yQWxlcnQgfSA9IHVzZUFsZXJ0cygpO1xuXHRjb25zdCB7IGdldFZpZXdzRm9yVHlwZXMgfSA9IHVzZVJlY2VudFZpZXdzKCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ21lbW9yaWFsJyk7XG5cblxuXHRjb25zdCBnZXRSZWNlbnRNZW1vcmlhbHMgPSAoKSA9PiB7XG5cdFx0bGV0IG1lbW9yaWFsczogU2ltcGxlTWVtb3JpYWxbXTtcblxuXHRcdHRyeSB7XG5cdFx0XHRtZW1vcmlhbHMgPSBnZXRWaWV3c0ZvclR5cGVzKFsnU1RPUllfUEFHRSddKVxuXHRcdFx0XHQ/Lm1hcChyZWNlbnRQYWdlID0+ICh7XG5cdFx0XHRcdFx0aWQ6ICtyZWNlbnRQYWdlLmlkLm9iamVjdElkLFxuXHRcdFx0XHRcdHRpdGxlOiByZWNlbnRQYWdlLnRpdGxlLFxuXHRcdFx0XHRcdHR5cGU6IHJlY2VudFBhZ2Uuc3ViVHlwZSBhcyBBYnN0cmFjdE1lbW9yaWFsRG9jdW1lbnRfVHlwZSxcblx0XHRcdFx0fSkpO1xuXHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0bWVtb3JpYWxzID0gW107XG5cdFx0fVxuXG5cdFx0c2V0UmVjZW50TWVtb3JpYWxzKG1lbW9yaWFscy5maWx0ZXIoZmlsdGVyKSk7XG5cdH07XG5cblx0Y29uc3QgZ2V0Qm9va21hcmtlZE1lbW9yaWFscyA9IGFzeW5jICgpID0+IHtcblx0XHRsZXQgcGFnZXMgPSBhd2FpdCBuZXcgVGFnQXBpKCkubGlzdFRhZ2dlZERvY3VtZW50cygnYm9va21hcmtzJywgbnVsbCk7XG5cdFx0bGV0IHsgdGFncyB9ID0gcGFnZXM7XG5cblx0XHRsZXQgcmVmcyA9IHRhZ3MuZmlsdGVyKHBhZ2UgPT4gcGFnZS5kb2MuY29udGVudFR5cGUgPT09ICdTVE9SWV9QQUdFJyAmJiAhIXBhZ2UuZG9jKS5tYXAodCA9PiB0LmRvYyk7XG5cblx0XHRsZXQgY29udGVudE9iamVjdHMgPSBhd2FpdCBuZXcgT2JqZWN0UmVmZXJlbmNlQXBpKCkuZ2V0Q29udGVudE9iamVjdHMocmVmcywgeyByZXF1aXJlZDogZmFsc2UsIHByb3BlcnRpZXM6IFsndGl0bGUnLCAnaWQnLCAnc3ViVHlwZSddIH0pO1xuXG5cdFx0bGV0IGJvb2ttYXJrZWQgPSBPYmplY3QudmFsdWVzKGNvbnRlbnRPYmplY3RzKVxuXHRcdFx0Lm1hcChjb250ZW50T2JqID0+IHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHR0aXRsZTogY29udGVudE9iai50aXRsZSxcblx0XHRcdFx0XHRpZDogcGFyc2VJbnQoY29udGVudE9iai5pZC5vYmplY3RJZCwgMTApLFxuXHRcdFx0XHRcdHR5cGU6IGNvbnRlbnRPYmouc3ViVHlwZSBhcyBBYnN0cmFjdE1lbW9yaWFsRG9jdW1lbnRfVHlwZSxcblx0XHRcdFx0fTtcblx0XHRcdH0pXG5cdFx0XHQuZmlsdGVyKGZpbHRlcik7XG5cblx0XHQvLyAuc2xpY2UoMCwgMTApO1xuXG5cdFx0c2V0Qm9va21hcmtlZE1lbW9yaWFscyhib29rbWFya2VkKTtcblx0fTtcblxuXHRjb25zdCBnZXRVc2VyTWVtb3JpYWxzID0gYXN5bmMgKCkgPT4ge1xuXHRcdGxldCBmM1F1ZXJ5ID0gbmV3IEYzUXVlcnkoe1xuXHRcdFx0b2Zmc2V0OiAwLFxuXHRcdFx0bWF4Q291bnQ6IDEwLFxuXHRcdH0pO1xuXG5cdFx0ZjNRdWVyeS5GaWx0ZXJzXG5cdFx0XHQuYWRkSXRlbSh7IHR5cGU6ICdnZW5lcmFsLm93bmVyJywgdmFsdWVzOiBbeyB2YWx1ZTogYCR7dXNlcklkfWAgfV0gfSlcblx0XHRcdC5hZGRJdGVtKHsgdHlwZTogJ2dlbmVyYWwudGl0bGUuY29udGVudC5kb2MtdHlwZScsIHZhbHVlczogW3sgdmFsdWU6ICdTVE9SWV9QQUdFJyB9XSB9KTtcblxuXHRcdGxldCBbZXJyLCByZXN1bHRzXSA9IGF3YWl0IG9uKG5ldyBTZWFyY2hBcGkoKS5mZXRjaFJlc3VsdHMoZjNRdWVyeS50b0hpdFF1ZXJ5KCkpKTtcblxuXHRcdGlmIChlcnIpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBtb2RpZmllZFBhZ2VzID0gcmVzdWx0cy5oaXRzXG5cdFx0XHQubWFwKHNwID0+ICh7XG5cdFx0XHRcdHRpdGxlOiBnZXRUaXRsZShzcC5kb2MpLFxuXHRcdFx0XHRpZDogZ2V0Q29udGVudE9iaklkKHNwLmRvYyksXG5cdFx0XHRcdHR5cGU6IHNwLmRvYy5zdWJUeXBlIGFzIEFic3RyYWN0TWVtb3JpYWxEb2N1bWVudF9UeXBlLFxuXHRcdFx0fSkpO1xuXG5cdFx0c2V0VXNlck1lbW9yaWFscyhtb2RpZmllZFBhZ2VzLmZpbHRlcihmaWx0ZXIpKTtcblx0fTtcblxuXHRsZXQgdGFiczogT2JqPHN0cmluZywgVGFiT3B0cz4gPSB7XG5cdFx0cmVjZW50OiB7IGxhYmVsOiB0KCdyZWNlbnRseVZpZXdlZCcsICdSZWNlbnRseSBWaWV3ZWQnKSB9LFxuXHRcdGJvb2ttYXJrZWQ6IHsgbGFiZWw6IHQoJ2Jvb2ttYXJrZWQnLCAnQm9va21hcmtlZCcpIH0sXG5cdFx0dXNlcjogeyBsYWJlbDogdCgnbXlQYWdlcycsICdNeSBQYWdlcycpIH0sXG5cdH07XG5cblx0aWYgKGNyZWF0ZU1lbW9yaWFsRnJvbSkge1xuXHRcdHRhYnMuY3JlYXRlID0geyBsYWJlbDogdCgnY3JlYXRlTmV3TWVtb3JpYWwnLCAnQ3JlYXRlIG5ldyBNZW1vcmlhbCcpIH07XG5cdH1cblxuXHRpZiAoX3RhYnMpIHtcblx0XHRfdGFicy5mb3JFYWNoKHRhYiA9PiB7XG5cdFx0XHR0YWJzW3RhYi5sYWJlbF0gPSB7IGxhYmVsOiB0YWIubGFiZWwgfTtcblx0XHR9KTtcblx0fVxuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0Z2V0UmVjZW50TWVtb3JpYWxzKCk7XG5cdH0sIFtdKTtcblxuXHRyZXR1cm4gPGRpdj5cblx0XHQ8ZGl2IGNsYXNzTmFtZT0nbWItMic+XG5cdFx0XHQ8VGFiQmFyXG5cdFx0XHRcdGFjdGl2ZVRhYj17YWN0aXZlVGFifVxuXHRcdFx0XHRjbGFzc05hbWU9J2NlbnRlci1jb250ZW50J1xuXHRcdFx0XHRvbkNoYW5nZT17KHRhYjogVGFicykgPT4ge1xuXHRcdFx0XHRcdHNldEFjdGl2ZVRhYih0YWIpO1xuXG5cdFx0XHRcdFx0c3dpdGNoICh0YWIpIHtcblx0XHRcdFx0XHRcdGNhc2UgJ2Jvb2ttYXJrZWQnOlxuXHRcdFx0XHRcdFx0XHRpZiAoYm9va21hcmtlZE1lbW9yaWFscyA9PT0gbnVsbCkgZ2V0Qm9va21hcmtlZE1lbW9yaWFscygpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgJ3VzZXInOlxuXHRcdFx0XHRcdFx0XHRpZiAodXNlck1lbW9yaWFscyA9PT0gbnVsbCkgZ2V0VXNlck1lbW9yaWFscygpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGNhc2UgJ3JlY2VudCc6XG5cdFx0XHRcdFx0XHRcdGlmIChyZWNlbnRNZW1vcmlhbHMgPT09IG51bGwpIGdldFJlY2VudE1lbW9yaWFscygpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH19XG5cdFx0XHRcdHN0eWxlPXt7IG1hcmdpblRvcDogMCB9fVxuXHRcdFx0XHR0YWJzPXt0YWJzfVxuXHRcdFx0Lz5cblx0XHQ8L2Rpdj5cblxuXHRcdHtcblx0XHRcdGFjdGl2ZVRhYiA9PT0gJ3JlY2VudCcgJiZcblx0XHRcdDxNZW1vcmlhbFBpY2tlclxuXHRcdFx0XHRlbXB0eUNvbnRlbnQ9ezxwIGNsYXNzTmFtZT0ncHktMyB0ZXh0LW11dGVkIHRleHQtY2VudGVyJz57dCgnbm9SZWNlbnRseVZpZXdlZE1lbW9yaWFscycsICdZb3UgaGF2ZSBubyByZWNlbnRseSB2aWV3ZWQgbWVtb3JpYWxzJyl9PC9wPn1cblx0XHRcdFx0bWVtb3JpYWxzPXtyZWNlbnRNZW1vcmlhbHN9XG5cdFx0XHRcdG9uU2VsZWN0PXtvblNlbGVjdH1cblx0XHRcdC8+XG5cdFx0fVxuXHRcdHtcblx0XHRcdGFjdGl2ZVRhYiA9PT0gJ2Jvb2ttYXJrZWQnICYmXG5cdFx0XHQ8TWVtb3JpYWxQaWNrZXJcblx0XHRcdFx0ZW1wdHlDb250ZW50PXs8cCBjbGFzc05hbWU9J3B5LTMgdGV4dC1tdXRlZCB0ZXh0LWNlbnRlcic+e3QoJ25vQm9va21hcmtlZE1lbW9yaWFscycsICdZb3UgaGF2ZSBubyBib29rbWFya2VkIG1lbW9yaWFscycpfTwvcD59XG5cdFx0XHRcdG1lbW9yaWFscz17Ym9va21hcmtlZE1lbW9yaWFsc31cblx0XHRcdFx0b25TZWxlY3Q9e29uU2VsZWN0fVxuXHRcdFx0Lz5cblx0XHR9XG5cdFx0e1xuXHRcdFx0YWN0aXZlVGFiID09PSAndXNlcicgJiZcblx0XHRcdDxNZW1vcmlhbFBpY2tlclxuXHRcdFx0XHRlbXB0eUNvbnRlbnQ9eyhcblx0XHRcdFx0XHQ8ZGl2PlxuXHRcdFx0XHRcdFx0PHAgY2xhc3NOYW1lPSdweS0zIHRleHQtbXV0ZWQgdGV4dC1jZW50ZXInPnt0KCdub0NyZWF0ZWRNZW1vcmlhbHMnLCBcIllvdSBoYXZlbid0IGNyZWF0ZWQgYW55IG1lbW9yaWFscy4gQ3JlYXRlIG9uZSBub3cuXCIpfTwvcD5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdweS0zIHRleHQtY2VudGVyJz48RjNMaW5rIGNsYXNzTmFtZT0nYnRuIGJ0bi1zZWNvbmRhcnknIGhyZWY9Jy9tZW1vcmlhbC9jcmVhdGUnPnt0KCdjcmVhdGVNZW1vcmlhbCcsICdDcmVhdGUgYSBtZW1vcmlhbCcpfTwvRjNMaW5rPjwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQpfVxuXHRcdFx0XHRtZW1vcmlhbHM9e3VzZXJNZW1vcmlhbHN9XG5cdFx0XHRcdG9uU2VsZWN0PXtvblNlbGVjdH1cblx0XHRcdC8+XG5cdFx0fVxuXHRcdHtcblx0XHRcdGFjdGl2ZVRhYiA9PT0gJ2NyZWF0ZScgJiZcblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlcic+XG5cdFx0XHRcdDxGM0J1dHRvblxuXHRcdFx0XHRcdG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IHsgY29udGVudFR5cGUsIG9iamVjdElkIH0gPSBjcmVhdGVNZW1vcmlhbEZyb207XG5cdFx0XHRcdFx0XHRjb25zdCBbZXJyLCBuZXdNZW1vcmlhbF0gPSBhd2FpdCBvbihuZXcgTWVtb3JpYWxBcGkoKS5jcmVhdGVNZW1vcmlhbEZyb20oY29udGVudFR5cGUsIG9iamVjdElkKSk7XG5cblx0XHRcdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRcdFx0YWRkRXJyb3JBbGVydCh0KCdjb21tb246c29tZXRoaW5nV3JvbmcnLCAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4uJykpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGNvbnN0IFtlcnIyLCBmdWxsTWVtb3JpYWxdID0gYXdhaXQgb24obmV3IE9iamVjdFJlZmVyZW5jZUFwaSgpXG5cdFx0XHRcdFx0XHRcdC5nZXRDb250ZW50T2JqZWN0KG5ld01lbW9yaWFsLmNvbnRlbnRUeXBlLCBuZXdNZW1vcmlhbC5vYmplY3RJZCwgWydpZCcsICd0aXRsZScsICdzdWJUeXBlJ10pKTtcblxuXHRcdFx0XHRcdFx0aWYgKGVycjIpIHtcblx0XHRcdFx0XHRcdFx0YWRkRXJyb3JBbGVydCh0KCdzb21ldGhpbmdXcm9uZ1JlZnJlc2gnLCAnU29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlLicpKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRvblNlbGVjdCh7XG5cdFx0XHRcdFx0XHRcdGlkOiBmdWxsTWVtb3JpYWwuaWQub2JqZWN0SWQsXG5cdFx0XHRcdFx0XHRcdHRpdGxlOiBmdWxsTWVtb3JpYWwudGl0bGUsXG5cdFx0XHRcdFx0XHRcdHR5cGU6IGZ1bGxNZW1vcmlhbC5zdWJUeXBlIGFzIEFic3RyYWN0TWVtb3JpYWxEb2N1bWVudF9UeXBlLFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fX1cblx0XHRcdFx0PlxuXHRcdFx0XHRcdHt0KCdjcmVhdGVNZW1vcmlhbEZyb21UaGlzJywgJ0NyZWF0ZSBNZW1vcmlhbCBmcm9tIHRoaXMnKX0ge2dldENvbnRlbnRUeXBlTGFiZWwoY3JlYXRlTWVtb3JpYWxGcm9tLmNvbnRlbnRUeXBlKX1cblx0XHRcdFx0PC9GM0J1dHRvbj5cblx0XHRcdDwvZGl2PlxuXHRcdH1cblx0XHR7XG5cdFx0XHRfdGFicyAmJlxuXHRcdFx0X3RhYnMubWFwKHRhYiA9PiB7XG5cdFx0XHRcdGlmIChhY3RpdmVUYWIgIT09IHRhYi5sYWJlbCkgcmV0dXJuIG51bGw7XG5cdFx0XHRcdHJldHVybiA8TWVtb3JpYWxQaWNrZXIga2V5PXt0YWIubGFiZWx9IHsuLi50YWIucHJvcHN9IC8+O1xuXHRcdFx0fSlcblx0XHR9XG5cdDwvZGl2Pjtcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRGlhbG9nLCBEaWFsb2dDbG9zZUJ1dHRvbiB9IGZyb20gJy4vZGlhbG9ncy9EaWFsb2cnO1xuaW1wb3J0IHsgTWVtb3JpYWxQaWNrZXJzLCBNZW1vcmlhbFBpY2tlcnNQcm9wcyB9IGZyb20gJy4vTWVtb3JpYWxQaWNrZXJzJztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5cbmludGVyZmFjZSBNZW1vcmlhbFBpY2tlckRpYWxvZ1Byb3BzIGV4dGVuZHMgTWVtb3JpYWxQaWNrZXJzUHJvcHMge31cblxuZXhwb3J0IGNvbnN0IE1lbW9yaWFsUGlja2VyRGlhbG9nID0gKHByb3BzOiBNZW1vcmlhbFBpY2tlckRpYWxvZ1Byb3BzKSA9PiB7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ21lbW9yaWFsJyk7XG5cblx0cmV0dXJuIDxEaWFsb2dcblx0XHRmb290ZXI9ezxEaWFsb2dDbG9zZUJ1dHRvbiAvPn1cblx0XHR0aXRsZT17dCgnc2VsZWN0TWVtb3JpYWwnLCAnU2VsZWN0IGEgTWVtb3JpYWwnLCB7IG5zOiAnbWVtb3JpYWwnIH0pfVxuXHQ+XG5cdFx0PE1lbW9yaWFsUGlja2VycyB7Li4ucHJvcHN9IC8+XG5cdDwvRGlhbG9nPjtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBDb25uZWN0aW9uc0FwaSB9IGZyb20gJy4uLy4uL2FwaXMvY29ubmVjdGlvbnNBcGknO1xuaW1wb3J0IHsgTWVtb3JpYWxQaWNrZXJEaWFsb2cgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL01lbW9yaWFsUGlja2VyRGlhbG9nJztcbmltcG9ydCB7IEluZGV4UmVjb3JkQ29udGVudENvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L2NvbnRlbnRDb250ZXh0JztcbmltcG9ydCB7IENvbnRlbnRPYmplY3QgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBPYmogfSBmcm9tICcuLi8uLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgZ2V0V3JhcHBlZENvbnRlbnRSZWYgfSBmcm9tICcuLi8uLi9saWIvY29udGVudC9jb250ZW50TWV0YWRhdGEnO1xuaW1wb3J0IHsgZ2V0Q29udGVudE9iaklkIH0gZnJvbSAnLi4vLi4vbGliL2NvbnRlbnQvY29udGVudE9iamVjdCc7XG5pbXBvcnQgeyBhZGRSZWxhdGlvbiB9IGZyb20gJy4uLy4uL2xpYi9jb250ZW50L2NvbnRlbnRSZWxhdGlvbnMnO1xuaW1wb3J0IHsgdXNlQWxlcnRzIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUFsZXJ0cyc7XG5pbXBvcnQgeyB1c2VEaWFsb2dzIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURpYWxvZ3MnO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VVc2VyJztcblxuXG5leHBvcnQgY29uc3QgSW5kZXhSZWNvcmRNZW1vcmlhbENvbm5lY3Rpb25EaWFsb2cgPSAoKSA9PiB7XG5cdGNvbnN0IHsgY29udGVudCwgY29tcHV0ZWRWYWx1ZXMsIHVwZGF0ZVJlbGF0aW9ucyB9ID0gdXNlQ29udGV4dChJbmRleFJlY29yZENvbnRlbnRDb250ZXh0KTtcblx0Y29uc3QgeyBncm91cGVkUmVsYXRpb25zIH0gPSBjb21wdXRlZFZhbHVlcztcblx0Y29uc3QgeyBTVE9SWV9QQUdFIH0gPSBncm91cGVkUmVsYXRpb25zO1xuXHRjb25zdCB7IGFkZEVycm9yQWxlcnQsIGFkZFN1Y2Nlc3NBbGVydCB9ID0gdXNlQWxlcnRzKCk7XG5cdGNvbnN0IHsgY2xvc2VEaWFsb2cgfSA9IHVzZURpYWxvZ3MoKTtcblx0Y29uc3QgeyB1c2VyIH0gPSB1c2VVc2VyKCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2luZGV4Jyk7XG5cblxuXHRjb25zdCByZWxhdGVkTWVtb3JpYWxzQnlJZCA9IHVzZU1lbW8oKCkgPT4ge1xuXHRcdHJldHVybiAoU1RPUllfUEFHRSB8fCBbXSkucmVkdWNlKChmaW5hbE9iaiwgbWVtb3JpYWwpID0+IHtcblx0XHRcdGZpbmFsT2JqW2dldENvbnRlbnRPYmpJZChtZW1vcmlhbCldID0gbWVtb3JpYWw7XG5cdFx0XHRyZXR1cm4gZmluYWxPYmo7XG5cdFx0fSwge30gYXMgT2JqPHN0cmluZywgQ29udGVudE9iamVjdD4pO1xuXHR9LCBbU1RPUllfUEFHRV0pO1xuXG5cdHJldHVybiA8TWVtb3JpYWxQaWNrZXJEaWFsb2dcblx0XHRjcmVhdGVNZW1vcmlhbEZyb209e2dldFdyYXBwZWRDb250ZW50UmVmKGNvbnRlbnQpfVxuXHRcdGZpbHRlcj17c2ltcGxlTWVtb3JpYWwgPT4gIShzaW1wbGVNZW1vcmlhbC5pZCBpbiByZWxhdGVkTWVtb3JpYWxzQnlJZCl9XG5cdFx0b25TZWxlY3Q9e2FzeW5jIG1lbW9yaWFsID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IG1lbW9yaWFsUmVsYXRpb24gPSBhd2FpdCBuZXcgQ29ubmVjdGlvbnNBcGkoKVxuXHRcdFx0XHRcdC5hZGRNZW1vcmlhbFRvQ29udGVudChtZW1vcmlhbC5pZCwge1xuXHRcdFx0XHRcdFx0dGFyZ2V0RG9jdW1lbnQ6IGdldFdyYXBwZWRDb250ZW50UmVmKGNvbnRlbnQpLFxuXHRcdFx0XHRcdFx0dGV4dDogJycsXG5cdFx0XHRcdFx0fSwgdXNlcik7XG5cblx0XHRcdFx0dXBkYXRlUmVsYXRpb25zKHJlbGF0aW9ucyA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIGFkZFJlbGF0aW9uKHJlbGF0aW9ucywgbWVtb3JpYWxSZWxhdGlvbik7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGFkZFN1Y2Nlc3NBbGVydCh0KCdtZW1vcmlhbEFkZGVkJywgJ1RoZSBNZW1vcmlhbCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgYWRkZWQuJykpO1xuXG5cdFx0XHRcdGNsb3NlRGlhbG9nKCk7XG5cdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0bGV0IHN0YXR1cyA9IGUucmVzcG9uc2Uuc3RhdHVzO1xuXG5cdFx0XHRcdHN3aXRjaCAoc3RhdHVzKSB7XG5cdFx0XHRcdFx0Y2FzZSA0MDM6XG5cdFx0XHRcdFx0XHRhZGRFcnJvckFsZXJ0KHQoJ25vUGVybWlzc2lvbicsICdZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbnMgdG8gY29udHJpYnV0ZSB0byB0aGlzIG1lbW9yaWFsLicpKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRhZGRFcnJvckFsZXJ0KHQoJ2NvbW1vbjpzb21ldGhpbmdXcm9uZycpKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fX1cblx0Lz47XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNsYXNzU3RyIH0gZnJvbSAnLi4vbGliL2NsYXNzVXRpbCc7XG5cbmludGVyZmFjZSBCdXR0b25Hcm91cFByb3BzIGV4dGVuZHMgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+IHtcblxufVxuXG5leHBvcnQgY29uc3QgQnV0dG9uR3JvdXAgPSAoeyBjbGFzc05hbWUsIC4uLnJlc3QgfTogQnV0dG9uR3JvdXBQcm9wcykgPT4ge1xuXHRyZXR1cm4gPGRpdiBjbGFzc05hbWU9e2NsYXNzU3RyKCdidG4tZ3JvdXAnLCBjbGFzc05hbWUpfSByb2xlPSdncm91cCcgey4uLnJlc3R9IC8+O1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IHVzZUxvY2F0aW9uIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBCdXR0b25Hcm91cCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQnV0dG9uR3JvdXAnO1xuaW1wb3J0IHsgTmF2QnV0dG9uIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9GM0J1dHRvbic7XG5pbXBvcnQgeyBJbmRleFJlY29yZENvbnRlbnRDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9jb250ZW50Q29udGV4dCc7XG5pbXBvcnQgeyBXcmFwcGVkSW5kZXhSZWNvcmRDb250ZW50IH0gZnJvbSAnLi4vLi4vbGliL2NvbnRlbnQvaW5kZXgtcmVjb3Jkcy9pbmRleFJlY29yZENvbnRlbnQnO1xuaW1wb3J0IHsgZ2V0V3JhcHBlZENvbnRlbnRVcmwgfSBmcm9tICcuLi8uLi9saWIvc2x1Zyc7XG5cbnR5cGUgSW5kZXhSZWNvcmRQYWdlVGFiID0gJ0lORk8nIHwgJ01FTU9SSUFMUycgfCAnQ09NTUVOVFMnIHwgJ0JST1dTRSc7XG5pbnRlcmZhY2UgSW5kZXhSZWNvcmROYXZpZ2F0aW9uUHJvcHMge1xufVxuXG5leHBvcnQgY29uc3QgSW5kZXhSZWNvcmROYXZpZ2F0aW9uID0gKHt9OiBJbmRleFJlY29yZE5hdmlnYXRpb25Qcm9wcykgPT4ge1xuXHRjb25zdCB7IGNvbnRlbnQsIGNvbXB1dGVkVmFsdWVzIH0gPSB1c2VDb250ZXh0KEluZGV4UmVjb3JkQ29udGVudENvbnRleHQpO1xuXHRjb25zdCB7IGdyb3VwZWRFbGVtZW50cywgZ3JvdXBlZFJlbGF0aW9ucyB9ID0gY29tcHV0ZWRWYWx1ZXM7XG5cdGNvbnN0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcblx0Y29uc3QgW2FjdGl2ZVRhYiwgc2V0QWN0aXZlVGFiXSA9IHVzZVN0YXRlPEluZGV4UmVjb3JkUGFnZVRhYj4oKCkgPT4gdXJsVG9UYWIobG9jYXRpb24ucGF0aG5hbWUpKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignaW5kZXgnKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdHNldEFjdGl2ZVRhYih1cmxUb1RhYihsb2NhdGlvbi5wYXRobmFtZSkpO1xuXHR9LCBbbG9jYXRpb25dKTtcblxuXHRyZXR1cm4gPGRpdiBjbGFzc05hbWU9J3JvdyBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIG10LW40IGQtcHJpbnQtbm9uZSBnLTAnPlxuXHRcdDxCdXR0b25Hcm91cCBhcmlhLWxhYmVsPSdSZWNvcmQgcGFnZSBuYXZpZ2F0aW9uJyBjbGFzc05hbWU9J2NvbC1hdXRvJyByb2xlPSd0YWJsaXN0Jz5cblx0XHRcdDxOYXZCdXR0b25cblx0XHRcdFx0YXJpYS1jb250cm9scz0ncmVjb3JkLXBhZ2UtdGl0bGUnXG5cdFx0XHRcdGVuZFxuXHRcdFx0XHRpZD0ndGFiLWluZm8nXG5cdFx0XHRcdHJvbGU9J3RhYidcblx0XHRcdFx0dG89Jy4nXG5cdFx0XHQ+XG5cdFx0XHRcdHt0KCdpbmRleFJlY29yZE5hdmlnYXRpb24uaW5mbycsICdJbmZvJyl9XG5cdFx0XHQ8L05hdkJ1dHRvbj5cblx0XHRcdDxOYXZCdXR0b25cblx0XHRcdFx0YXJpYS1jb250cm9scz0ncGFnZXMtdGFiJ1xuXHRcdFx0XHRpZD0ndGFiLW1lbSdcblx0XHRcdFx0cm9sZT0ndGFiJ1xuXHRcdFx0XHR0bz0nbWVtb3JpYWxzJ1xuXHRcdFx0PlxuXHRcdFx0XHR7dCgnaW5kZXhSZWNvcmROYXZpZ2F0aW9uLm1lbW9yaWFscycsICdNZW1vcmlhbHMnKX1cblx0XHRcdFx0PE51bWJlckJhZGdlPntncm91cGVkUmVsYXRpb25zLlNUT1JZX1BBR0U/Lmxlbmd0aH08L051bWJlckJhZGdlPlxuXHRcdFx0PC9OYXZCdXR0b24+XG5cdFx0XHQ8TmF2QnV0dG9uXG5cdFx0XHRcdGFyaWEtY29udHJvbHM9J2NvbW1lbnRzLXRhYidcblx0XHRcdFx0aWQ9J3RhYi1jb21tJ1xuXHRcdFx0XHRyb2xlPSd0YWInXG5cdFx0XHRcdHRvPSdjb21tZW50cydcblx0XHRcdD5cblx0XHRcdFx0e3QoJ2luZGV4UmVjb3JkTmF2aWdhdGlvbi5jb21tZW50cycsICdDb21tZW50cycpfVxuXHRcdFx0XHQ8TnVtYmVyQmFkZ2U+e2dyb3VwZWRFbGVtZW50cy5DT01NRU5UPy5sZW5ndGh9PC9OdW1iZXJCYWRnZT5cblx0XHRcdDwvTmF2QnV0dG9uPlxuXHRcdFx0PE5hdkJ1dHRvblxuXHRcdFx0XHRhcmlhLWNvbnRyb2xzPSdicm93c2UtdGFiJ1xuXHRcdFx0XHRpZD0ndGFiLWJyd3MnXG5cdFx0XHRcdHJvbGU9J3RhYidcblx0XHRcdFx0dG89J2Jyb3dzZSdcblx0XHRcdD5cblx0XHRcdFx0e3QoJ2luZGV4UmVjb3JkTmF2aWdhdGlvbi5icm93c2UnLCAnQnJvd3NlJyl9XG5cdFx0XHQ8L05hdkJ1dHRvbj5cblx0XHQ8L0J1dHRvbkdyb3VwPlxuXHQ8L2Rpdj47XG5cblx0Lypcblx0ICogcmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdwYWdpbmctdGFicyBkLXByaW50LW5vbmUnPlxuXHQgKiBcdDxUYWJCYXJcblx0ICogXHRcdGFjdGl2ZVRhYj17YWN0aXZlVGFifVxuXHQgKiBcdFx0b25DaGFuZ2U9e3RhYiA9PiB7XG5cdCAqIFx0XHRcdHNldEFjdGl2ZVRhYih0YWIgYXMgSW5kZXhSZWNvcmRQYWdlVGFiKVxuXHQgKiBcdFx0fX1cblx0ICogXHRcdHRhYnM9e3tcblx0ICogXHRcdFx0SU5GTzogeyBsYWJlbDogJ0luZm8nIH0sXG5cdCAqIFx0XHRcdE1FTU9SSUFMUzogeyBsYWJlbDogJ01lbW9yaWFscycgfSxcblx0ICogXHRcdFx0Q09NTUVOVFM6IHsgbGFiZWw6ICdDb21tZW50cycgfSxcblx0ICogXHRcdFx0QlJPV1NFOiB7IGxhYmVsOiAnQnJvd3NlJyB9XG5cdCAqIFx0XHR9fVxuXHQgKiBcdFx0cmVuZGVyPXsodGFiOiBJbmRleFJlY29yZFBhZ2VUYWIsIG9wdHMpID0+IHtcblx0ICogXHRcdFx0bGV0IHZhbGlkUGF0aCA9IGdldEluZGV4UmVjb3JkUGFnZVRhYlBhdGgoY29udGVudCwgdGFiKTtcblx0ICogXHRcdFx0bGV0IG51bWJlckJhZGdlO1xuXHQgKi9cblxuXHQvKlxuXHQgKiBcdFx0XHRpZiAodGFiID09PSAnTUVNT1JJQUxTJykgbnVtYmVyQmFkZ2UgPSBncm91cGVkUmVsYXRpb25zLlNUT1JZX1BBR0U/Lmxlbmd0aDtcblx0ICogXHRcdFx0aWYgKHRhYiA9PT0gJ0NPTU1FTlRTJykgbnVtYmVyQmFkZ2UgPSBncm91cGVkRWxlbWVudHMuQ09NTUVOVD8ubGVuZ3RoO1xuXHQgKi9cblxuXHQvKlxuXHQgKiBcdFx0XHRyZXR1cm4gPE5hdkxpbmsgdG89e3ZhbGlkUGF0aH0+XG5cdCAqIFx0XHRcdFx0e29wdHMubGFiZWx9XG5cdCAqIFx0XHRcdFx0e1xuXHQgKiBcdFx0XHRcdFx0bnVtYmVyQmFkZ2UgPiAwICYmXG5cdCAqL1xuXG5cdC8qXG5cdCAqIFx0XHRcdFx0fVxuXHQgKiBcdFx0XHQ8L05hdkxpbms+XG5cdCAqIFx0XHR9fVxuXHQgKiBcdC8+XG5cdCAqIDwvZGl2PlxuXHQgKi9cbn07XG5cbmNvbnN0IE51bWJlckJhZGdlID0gKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0pID0+IHtcblx0cmV0dXJuIDxzcGFuIGNsYXNzTmFtZT0nbXMtMiBiYWRnZSByb3VuZGVkLXBpbGwgYmctc2Vjb25kYXJ5Jz57Y2hpbGRyZW59PC9zcGFuPjtcbn07XG5cbmNvbnN0IHVybFRvVGFiID0gKHVybDogc3RyaW5nKTogSW5kZXhSZWNvcmRQYWdlVGFiID0+IHtcblx0aWYgKHVybC5tYXRjaCgvXFwvbWVtb3JpYWxzJC8pKSByZXR1cm4gJ01FTU9SSUFMUyc7XG5cdGlmICh1cmwubWF0Y2goL1xcL2NvbW1lbnRzJC8pKSByZXR1cm4gJ0NPTU1FTlRTJztcblx0aWYgKHVybC5tYXRjaCgvXFwvYnJvd3NlJC8pKSByZXR1cm4gJ0JST1dTRSc7XG5cdHJldHVybiAnSU5GTyc7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0SW5kZXhSZWNvcmRQYWdlVGFiUGF0aCA9IChjb250ZW50OiBXcmFwcGVkSW5kZXhSZWNvcmRDb250ZW50LCB0YWI6IEluZGV4UmVjb3JkUGFnZVRhYikgPT4ge1xuXHRjb25zdCB7IGZ1bGxQYXRoIH0gPSBnZXRXcmFwcGVkQ29udGVudFVybChjb250ZW50KTtcblxuXHRzd2l0Y2ggKHRhYikge1xuXHRcdGNhc2UgJ0lORk8nOiByZXR1cm4gZnVsbFBhdGg7XG5cdFx0Y2FzZSAnTUVNT1JJQUxTJzogcmV0dXJuIGAke2Z1bGxQYXRofS9tZW1vcmlhbHNgO1xuXHRcdGNhc2UgJ0NPTU1FTlRTJzogcmV0dXJuIGAke2Z1bGxQYXRofS9jb21tZW50c2A7XG5cdFx0Y2FzZSAnQlJPV1NFJzogcmV0dXJuIGAke2Z1bGxQYXRofS9icm93c2VgO1xuXHR9XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyB1c2VOYXZpZ2F0ZSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgTWFya2V0aW5nRG9jdW1lbnRBcGkgfSBmcm9tICcuLi8uLi9hcGlzL21hcmtldGluZ0RvY3VtZW50QXBpJztcbmltcG9ydCB7IEYzQnV0dG9uIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9GM0J1dHRvbic7XG5pbXBvcnQgeyBGM0xpbmsgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0YzTGluayc7XG5pbXBvcnQgeyBQb3BvdXQgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2xpc3QvUG9wb3V0JztcbmltcG9ydCB7IFNoYXJlRGlhbG9nIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9zaGFyZS1kaWFsb2cvU2hhcmVEaWFsb2cnO1xuaW1wb3J0IHsgSW5kZXhSZWNvcmRDb250ZW50Q29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvY29udGVudENvbnRleHQnO1xuaW1wb3J0IHsgZ2V0V3JhcHBlZENvbnRlbnRJZCwgZ2V0V3JhcHBlZENvbnRlbnRSZWYgfSBmcm9tICcuLi8uLi9saWIvY29udGVudC9jb250ZW50TWV0YWRhdGEnO1xuaW1wb3J0IHsgZ2V0UHVibGljYXRpb25JZCB9IGZyb20gJy4uLy4uL2xpYi9jb250ZW50L2NvbnRlbnRSdW50aW1lJztcbmltcG9ydCB7IHVzZUFsZXJ0cyB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VBbGVydHMnO1xuaW1wb3J0IHsgdXNlQ29udGVudFBlcm1pc3Npb25zIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUNvbnRlbnRQZXJtaXNzaW9ucyc7XG5pbXBvcnQgeyB1c2VEaWFsb2dzIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURpYWxvZ3MnO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VVc2VyJztcbmltcG9ydCB7IHBhcnNlUXVlcnlTdHJpbmcsIHRvUXVlcnlTdHJpbmcgfSBmcm9tICcuLi8uLi9saWIvcXVlcnlVdGlsJztcbmltcG9ydCB7IGlzQWRtaW4gfSBmcm9tICcuLi8uLi9saWIvc2Vzc2lvbkhlbHBlcnMnO1xuaW1wb3J0IHsgSW5kZXhSZWNvcmRNZW1vcmlhbENvbm5lY3Rpb25EaWFsb2cgfSBmcm9tICcuL0luZGV4UmVjb3JkTWVtb3JpYWxDb25uZWN0aW9uRGlhbG9nJztcbmltcG9ydCB7IGdldEluZGV4UmVjb3JkUGFnZVRhYlBhdGggfSBmcm9tICcuL0luZGV4UmVjb3JkTmF2aWdhdGlvbic7XG5cblxuaW50ZXJmYWNlIEluZGV4UmVjb3JkQWN0aW9uc0Ryb3Bkb3duUHJvcHMge1xufVxuXG5leHBvcnQgY29uc3QgSW5kZXhSZWNvcmRBY3Rpb25zRHJvcGRvd24gPSAoe306IEluZGV4UmVjb3JkQWN0aW9uc0Ryb3Bkb3duUHJvcHMpID0+IHtcblx0Y29uc3QgeyBjb250ZW50IH0gPSB1c2VDb250ZXh0KEluZGV4UmVjb3JkQ29udGVudENvbnRleHQpO1xuXHRjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG5cdGNvbnN0IHsgb3BlbkRpYWxvZyB9ID0gdXNlRGlhbG9ncygpO1xuXHRjb25zdCB7IGNoZWNrQWN0aW9uIH0gPSB1c2VDb250ZW50UGVybWlzc2lvbnMoY29udGVudCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2luZGV4Jyk7XG5cdGNvbnN0IHsgYWRkU3VjY2Vzc0FsZXJ0LCBhZGRFcnJvckFsZXJ0IH0gPSB1c2VBbGVydHMoKTtcblxuXHRjb25zdCB7IHVzZXIgfSA9IHVzZVVzZXIoKTtcblxuXHRjb25zdCBoYW5kbGVQcmludCA9ICgpID0+IHtcblx0XHRpZiAoY2hlY2tBY3Rpb24oJ1RBRycpKSB7XG5cdFx0XHRjb25zdCB7IHNlYXJjaCwgcGF0aG5hbWUgfSA9IHdpbmRvdy5sb2NhdGlvbjtcblx0XHRcdGxldCBjdXJyZW50UGFyYW1zID0gcGFyc2VRdWVyeVN0cmluZyhzZWFyY2gpO1xuXG5cdFx0XHR3aW5kb3cub3BlbihgJHtwYXRobmFtZX0ke3RvUXVlcnlTdHJpbmcoeyAuLi5jdXJyZW50UGFyYW1zLCBwcmludDogdHJ1ZSB9KX1gKTtcblx0XHR9XG5cdH07XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4ge1xuXHRcdFx0aWYgKGUua2V5ID09PSAncCcgJiYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkpKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0aGFuZGxlUHJpbnQoKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSwgW10pO1xuXG5cdHJldHVybiA8UG9wb3V0XG5cdFx0Y2xvc2VPbkNsaWNrXG5cdFx0aWQ9J2luZGV4LXJlY29yZC10b29scydcblx0XHRwb3BvdXRDb250ZW50PXtcblx0XHRcdDx1bCBjbGFzc05hbWU9J2xpc3QtdW5zdHlsZWQnIHJvbGU9J2xpc3Rib3gnPlxuXHRcdFx0XHQ8bGk+XG5cdFx0XHRcdFx0PEYzTGlua1xuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdkcm9wZG93bi1pdGVtIHRleHQtc2Vjb25kYXJ5J1xuXHRcdFx0XHRcdFx0ZGF0YS1ndG0tY2xpY2s9J3JlY29yZDphZGRUb01lbW9yaWFsJ1xuXHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoY2hlY2tBY3Rpb24oJ0NPTlRSSUJVVElPTl9DUkVBVEUnKSkge1xuXHRcdFx0XHRcdFx0XHRcdG9wZW5EaWFsb2coPEluZGV4UmVjb3JkTWVtb3JpYWxDb25uZWN0aW9uRGlhbG9nIC8+KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdHJvbGU9J2J1dHRvbidcblx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHQ8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdpY29uLWYzIGljb24tcHJvZmlsZS1hZGQnIC8+XG5cdFx0XHRcdFx0XHR7dCgnYWRkVG9NZW1vcmlhbCcsICdBZGQgdG8gTWVtb3JpYWwnKX1cblx0XHRcdFx0XHQ8L0YzTGluaz5cblx0XHRcdFx0PC9saT5cblx0XHRcdFx0PGxpPlxuXHRcdFx0XHRcdDxGM0xpbmtcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nZHJvcGRvd24taXRlbSB0ZXh0LXNlY29uZGFyeSdcblx0XHRcdFx0XHRcdGRhdGEtZ3RtLWNsaWNrPSdyZWNvcmQ6cHJpbnQnXG5cdFx0XHRcdFx0XHRvbkNsaWNrPXtoYW5kbGVQcmludH1cblx0XHRcdFx0XHRcdHJvbGU9J2J1dHRvbidcblx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHQ8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdpY29uLWYzIGljb24tcHJpbnQnIGRhdGEtY3k9J3ByaW50JyAvPlxuXHRcdFx0XHRcdFx0e3QoJ3ByaW50JywgJ1ByaW50Jyl9XG5cdFx0XHRcdFx0PC9GM0xpbms+XG5cdFx0XHRcdDwvbGk+XG5cdFx0XHRcdDxsaT5cblx0XHRcdFx0XHQ8RjNMaW5rXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU9J2Ryb3Bkb3duLWl0ZW0gdGV4dC1zZWNvbmRhcnknXG5cdFx0XHRcdFx0XHRkYXRhLWd0bS1jbGljaz0ncmVjb3JkOnNoYXJlJ1xuXHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRvcGVuRGlhbG9nKDxTaGFyZURpYWxvZ1xuXHRcdFx0XHRcdFx0XHRcdGNvbnRlbnRUeXBlPSdJTkRFWF9SRUNPUkQnXG5cdFx0XHRcdFx0XHRcdFx0aWQ9e2dldFdyYXBwZWRDb250ZW50SWQoY29udGVudCl9XG5cdFx0XHRcdFx0XHRcdC8+KTtcblx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRyb2xlPSdidXR0b24nXG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0PHNwYW4gYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzTmFtZT0naWNvbi1mMyBpY29uLXNoYXJlJyAvPlxuXHRcdFx0XHRcdFx0e3QoJ3NoYXJlJywgJ1NoYXJlJyl9XG5cdFx0XHRcdFx0PC9GM0xpbms+XG5cdFx0XHRcdDwvbGk+XG5cdFx0XHRcdDxsaT5cblx0XHRcdFx0XHQ8RjNMaW5rXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU9J2Ryb3Bkb3duLWl0ZW0gdGV4dC1zZWNvbmRhcnknXG5cdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmIChjaGVja0FjdGlvbignQ09OVFJJQlVUSU9OX0NSRUFURScsICdDT1JSRUNUSU9OJykpIHtcblx0XHRcdFx0XHRcdFx0XHRuYXZpZ2F0ZShnZXRJbmRleFJlY29yZFBhZ2VUYWJQYXRoKGNvbnRlbnQsICdJTkZPJyksIHtcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXRlOiB7IGVkaXRpbmc6IHRydWUgfSxcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdHJvbGU9J2J1dHRvbidcblx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHQ8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdpY29uLWYzIGljb24tZmxhZycgLz5cblx0XHRcdFx0XHRcdHt0KCdhZGRDb3JyZWN0aW9uJywgJ0FkZCBDb3JyZWN0aW9uJyl9XG5cdFx0XHRcdFx0PC9GM0xpbms+XG5cdFx0XHRcdDwvbGk+XG5cdFx0XHRcdHtcblx0XHRcdFx0XHR1c2VyICYmIGlzQWRtaW4odXNlcikgJiZcblx0XHRcdFx0XHQ8PlxuXHRcdFx0XHRcdFx0PGxpPlxuXHRcdFx0XHRcdFx0XHQ8RjNMaW5rIGNsYXNzTmFtZT0nZHJvcGRvd24taXRlbSB0ZXh0LXNlY29uZGFyeScgaHJlZj17YC9hZG1pbi9jb250ZW50L2RvY3VtZW50L0lOREVYX1JFQ09SRC8ke2NvbnRlbnQubWV0YWRhdGEuaWQub2JqZWN0SWR9YH0+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSdpY29uLWYzIGljb24tZ2VhcicgLz5cblx0XHRcdFx0XHRcdFx0XHR7dCgnbWFuYWdlSW5kZXhSZWNvcmQnLCAnTWFuYWdlIEluZGV4IFJlY29yZCcpfVxuXHRcdFx0XHRcdFx0XHQ8L0YzTGluaz5cblx0XHRcdFx0XHRcdDwvbGk+XG5cdFx0XHRcdFx0XHQ8bGk+XG5cdFx0XHRcdFx0XHRcdDxGM0J1dHRvblxuXHRcdFx0XHRcdFx0XHRcdGJ0blR5cGU9e251bGx9XG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdkcm9wZG93bi1pdGVtIHRleHQtc2Vjb25kYXJ5J1xuXHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHB1YmxpY2F0aW9uSWQgPSBnZXRQdWJsaWNhdGlvbklkKGNvbnRlbnQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXdhaXQgbmV3IE1hcmtldGluZ0RvY3VtZW50QXBpKCkuYWRkTWFya2V0aW5nRG9jdW1lbnQocHVibGljYXRpb25JZCwge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRvYzogZ2V0V3JhcHBlZENvbnRlbnRSZWYoY29udGVudCksXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogJ0FDQ0VTU19MRVZFTCcsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHVibGljYXRpb25JZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0dGw6IG51bGwsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWRkaXRpb25hbEluZm86IFt7IG5hbWU6ICdsZXZlbCcsIHZhbHVlOiAnUFVCTElDJywgY3JlYXRlZDogbnVsbCB9XSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0YWRkU3VjY2Vzc0FsZXJ0KCdUaGlzIGluZGV4IHJlY29yZCBoYXMgYmVlbiBtYWRlIGZyZWUnKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRhZGRFcnJvckFsZXJ0KCdTb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2FpbicpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdpY29uLWYzIGljb24tdG9vbHMnIC8+XG5cdFx0XHRcdFx0XHRcdFx0TWFrZSBJbmRleCBSZWNvcmQgRnJlZVxuXHRcdFx0XHRcdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHQ8Lz5cblx0XHRcdFx0fVxuXHRcdFx0PC91bD5cblx0XHR9XG5cdFx0dGFyZ2V0Q29udGVudD17XG5cdFx0XHQ8YnV0dG9uXG5cdFx0XHRcdGNsYXNzTmFtZT0nYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4tbGcgYm9yZGVyLTAgIGRyb3Bkb3duLXRvZ2dsZSdcblx0XHRcdFx0ZGF0YS1icy10b2dnbGU9J2Ryb3Bkb3duJ1xuXHRcdFx0XHRkYXRhLWN5PSd0b29scy1kcm9wZG93bidcblx0XHRcdFx0dGl0bGU9J1ByaW50LCBzaGFyZSwgYWRkIHRvIG1lbW9yaWFsIGFuZCBtb3JlLidcblx0XHRcdFx0dHlwZT0nYnV0dG9uJ1xuXHRcdFx0PlxuXHRcdFx0XHQ8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdpY29uLXRvb2xzIGljb24tZjMnIC8+XG5cdFx0XHQ8L2J1dHRvbj5cblx0XHR9XG5cblx0Lz47XG5cblx0Ly8gPGRpdiBjbGFzc05hbWU9XCJjb2wtYXV0byBkcm9wZG93biBoMyB0ZXh0LXNlY29uZGFyeSBtZS0yXCI+XG5cblxuXHQvLyA8L2Rpdj5cbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBQdWJsaWNhdGlvbkFwaSB9IGZyb20gJy4uLy4uL2FwaXMvcHVibGljYXRpb25BcGknO1xuaW1wb3J0IHsgRjNCdXR0b24gfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0YzQnV0dG9uJztcbmltcG9ydCB7IFNhdmVUb0FuY2VzdHJ5LCBTVEFEYXRhIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9TYXZlVG9BbmNlc3RyeSc7XG5pbXBvcnQgeyBTaGFyZUJvb2ttYXJrVGFnQnV0dG9ucyB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvU2hhcmVCb29rbWFya1RhZ0J1dHRvbnMnO1xuaW1wb3J0IHsgSW5kZXhSZWNvcmRDb250ZW50Q29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvY29udGVudENvbnRleHQnO1xuaW1wb3J0IHsgZ2V0Q29udGVudFRpdGxlIH0gZnJvbSAnLi4vLi4vbGliL2NvbnRlbnQvY29udGVudCc7XG5pbXBvcnQgeyBjaGVja0FjdGlvbiwgZ2V0UHVibGljYXRpb25JZCB9IGZyb20gJy4uLy4uL2xpYi9jb250ZW50L2NvbnRlbnRSdW50aW1lJztcbmltcG9ydCB7IHVzZURvbWFpbiB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VEb21haW4nO1xuaW1wb3J0IHsgZ2V0Q29udGVudFByb3ZpZGVyRm9yRG9tYWluIH0gZnJvbSAnLi4vLi4vbGliL2xvY2FsaXphdGlvbi9kb21haW4nO1xuaW1wb3J0IHsgZ2V0VGl0bGUgfSBmcm9tICcuLi8uLi9saWIvc2x1Zyc7XG5pbXBvcnQgeyBJbmRleFJlY29yZEFjdGlvbnNEcm9wZG93biB9IGZyb20gJy4vSW5kZXhSZWNvcmRBY3Rpb25zRHJvcGRvd24nO1xuXG5pbnRlcmZhY2UgSW5kZXhSZWNvcmRIZWFkZXJQcm9wcyB7IH1cblxuZXhwb3J0IGNvbnN0IEluZGV4UmVjb3JkSGVhZGVyID0gKHsgfTogSW5kZXhSZWNvcmRIZWFkZXJQcm9wcykgPT4ge1xuXHRjb25zdCB7IGNvbnRlbnQsIHB1YmxpY2F0aW9uIH0gPSB1c2VDb250ZXh0KEluZGV4UmVjb3JkQ29udGVudENvbnRleHQpO1xuXHRjb25zdCBwdWJJZCA9IGdldFB1YmxpY2F0aW9uSWQoY29udGVudCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2luZGV4Jyk7XG5cdGNvbnN0IHsgZjNEb21haW4gfSA9IHVzZURvbWFpbigpO1xuXG5cdHJldHVybiAoXG5cdFx0PGhlYWRlclxuXHRcdFx0Y2xhc3NOYW1lPSdwb3NpdGlvbi1yZWxhdGVpdmUgcm93IGctMCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlcidcblx0XHRcdGlkPSdyZWNvcmQtcGFnZS1oZWFkZXInXG5cdFx0PlxuXHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdGFyaWEtbGFiZWw9e3QoJ2JhY2snLCAnQmFjaycpfVxuXHRcdFx0XHRidG5UeXBlPSdzZWNvbmRhcnknXG5cdFx0XHRcdGNsYXNzTmFtZT0nY29sLWF1dG8gYm9yZGVyLTAgaWNvbi1mMyBpY29uLWJhY2sgaDMgbWItMCBtZS0yJ1xuXHRcdFx0XHRvbkNsaWNrPXsoKSA9PiBoaXN0b3J5LmJhY2soKX1cblx0XHRcdFx0b3V0bGluZVxuXHRcdFx0XHRzaXplPSdsZydcblx0XHRcdC8+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sJz5cblx0XHRcdFx0PHNwYW4gZGF0YS1ndG0tY2xpY2s9J3JlY29yZDpzYXZldG9hbmMnPlxuXHRcdFx0XHRcdDxTYXZlVG9BbmNlc3RyeVxuXHRcdFx0XHRcdFx0Y29udGVudERvYz17Y29udGVudH1cblx0XHRcdFx0XHRcdGdldFNhdmVEYXRhPXthc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGxldCBkYXRhID0gYXdhaXQgbmV3IFB1YmxpY2F0aW9uQXBpKCkuZ2V0UHVibGljYXRpb25FdmVudE1ldGFkYXRhKHB1YklkKTtcblx0XHRcdFx0XHRcdFx0bGV0IHRpdGxlID0gZ2V0Q29udGVudFRpdGxlKGNvbnRlbnQpO1xuXG5cdFx0XHRcdFx0XHRcdGxldCBzdGFEYXRhOiBTVEFEYXRhID0ge1xuXHRcdFx0XHRcdFx0XHRcdGNpdGF0aW9uOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aXRsZSxcblx0XHRcdFx0XHRcdFx0XHRcdHVybDogbG9jYXRpb24uaHJlZixcblx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdHNvdXJjZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0dGl0bGU6IGdldFRpdGxlKHB1YmxpY2F0aW9uKSxcblx0XHRcdFx0XHRcdFx0XHRcdHB1Ymxpc2hlZERhdGU6IGRhdGEuZGF0ZSB8fCAnJyxcblx0XHRcdFx0XHRcdFx0XHRcdHB1Ymxpc2hlZExvY2F0aW9uOiBkYXRhLnBsYWNlIHx8ICcnLFxuXHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdH07XG5cblxuXHRcdFx0XHRcdFx0XHRpZiAocHVibGljYXRpb24ucHJvdmlkZXIpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBsb2NhbGl6ZWRQcm92aWRlciA9IGdldENvbnRlbnRQcm92aWRlckZvckRvbWFpbihmM0RvbWFpbiwgcHVibGljYXRpb24ucHJvdmlkZXIpO1xuXHRcdFx0XHRcdFx0XHRcdHN0YURhdGEuc291cmNlLnB1Ymxpc2hlck5hbWUgPSBsb2NhbGl6ZWRQcm92aWRlci5uYW1lO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0cmV0dXJuIHN0YURhdGE7XG5cdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0Z3RtQ2xpY2s9J3JlY29yZDpzYXZldG9hbmMnXG5cdFx0XHRcdFx0XHRwdWJsaWNhdGlvbj17cHVibGljYXRpb259XG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLWF1dG8gbXMtYXV0byByb3cgZ3ktMiBneC0wIHBlLW1kLTInPlxuXHRcdFx0XHQ8U2hhcmVCb29rbWFya1RhZ0J1dHRvbnNcblx0XHRcdFx0XHRjbGFzc05hbWU9J2J0bi1sZyBidG4tb3V0bGluZS1zZWNvbmRhcnkgYm9yZGVyLTAgY29sLWF1dG8gbWUtMidcblx0XHRcdFx0XHRoYXNUYWdQZXJtaXNzaW9ucz17ISFjaGVja0FjdGlvbihjb250ZW50LCAnVEFHJyl9XG5cdFx0XHRcdFx0aWQ9e2NvbnRlbnQubWV0YWRhdGEuaWR9XG5cdFx0XHRcdD5cblx0XHRcdFx0XHQ8SW5kZXhSZWNvcmRBY3Rpb25zRHJvcGRvd24gLz5cblx0XHRcdFx0PC9TaGFyZUJvb2ttYXJrVGFnQnV0dG9ucz5cblx0XHRcdDwvZGl2PlxuXHRcdDwvaGVhZGVyPlxuXHQpO1xufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjbGFzc1N0ciB9IGZyb20gJy4uL2xpYi9jbGFzc1V0aWwnO1xuXG5pbnRlcmZhY2UgRGVzY3JpcHRpb25MaXN0UHJvcHM8VCA9IGFueT4gZXh0ZW5kcyBSZWFjdC5IVE1MUHJvcHM8SFRNTERMaXN0RWxlbWVudD4ge1xuXHRpdGVtczogVFtdXG5cdGdldExhYmVsKGl0ZW06IFQpOiBzdHJpbmdcblx0Z2V0VmFsdWUoaXRlbTogVCk6IFJlYWN0LlJlYWN0Tm9kZVxuXHRyZW5kZXJWYWx1ZT8oaXRlbTogVCk6IEpTWC5FbGVtZW50XG59XG5cbmV4cG9ydCBjb25zdCBEZXNjcmlwdGlvbkxpc3QgPSAoeyBpdGVtcywgZ2V0TGFiZWwsIGdldFZhbHVlLCByZW5kZXJWYWx1ZSwgY2hpbGRyZW4sIGNsYXNzTmFtZSwgLi4ucmVzdCB9OiBEZXNjcmlwdGlvbkxpc3RQcm9wcykgPT4ge1xuXHRyZXR1cm4gPGRsIGNsYXNzTmFtZT17Y2xhc3NTdHIoJ3JvdyBnLTAgbWItMCcsIGNsYXNzTmFtZSl9IHsuLi5yZXN0fT5cblx0XHR7XG5cdFx0XHRpdGVtcy5tYXAoKGl0ZW0sIGkpID0+IHtcblx0XHRcdFx0Y29uc3QgbGFiZWwgPSBnZXRMYWJlbChpdGVtKTtcblxuXHRcdFx0XHRyZXR1cm4gPFJlYWN0LkZyYWdtZW50IGtleT17bGFiZWwgKyBpfT5cblx0XHRcdFx0XHQ8RGVzY3JpcHRpb25UZXJtIGxhYmVsPXtsYWJlbH0gLz5cblx0XHRcdFx0XHQ8RGVzY3JpcHRpb25EZWZpbml0aW9uXG5cdFx0XHRcdFx0XHRnZXRWYWx1ZT17KCkgPT4gZ2V0VmFsdWUoaXRlbSl9XG5cdFx0XHRcdFx0XHRyZW5kZXI9eygpID0+IHJlbmRlclZhbHVlPy4oaXRlbSkgfHwgZ2V0VmFsdWUoaXRlbSkgfHwgbnVsbH1cblx0XHRcdFx0XHQvPlxuXHRcdFx0XHQ8L1JlYWN0LkZyYWdtZW50Pjtcblx0XHRcdH0pXG5cdFx0fVxuXHRcdHtjaGlsZHJlbiBhcyBSZWFjdC5SZWFjdE5vZGV9XG5cdDwvZGw+O1xufTtcblxuZXhwb3J0IGNvbnN0IERlc2NyaXB0aW9uVGVybSA9ICh7IGxhYmVsLCBjbGFzc05hbWUsIC4uLnJlc3QgfTogeyBsYWJlbDogc3RyaW5nIH0gJiBSZWFjdC5IVE1MUHJvcHM8SFRNTERhdGFFbGVtZW50PikgPT4ge1xuXHRyZXR1cm4gPGR0XG5cdFx0Y2xhc3NOYW1lPXtjbGFzc1N0cihgcGUtMyBjb2wtMyBjb2wtc20tNCBmdy1ub3JtYWwgdGV4dC1zbS1lbmQgdGV4dC1zZWNvbmRhcnkgYm9yZGVyLWJvdHRvbSBweS0xYCwgY2xhc3NOYW1lKX1cblx0XHR7Li4ucmVzdH1cblx0PlxuXHRcdHtsYWJlbH1cblx0PC9kdD47XG59O1xuXG5leHBvcnQgY29uc3QgRGVzY3JpcHRpb25EZWZpbml0aW9uID0gKHsgZ2V0VmFsdWUsIHJlbmRlciwgY2xhc3NOYW1lLCAuLi5yZXN0IH06IHsgZ2V0VmFsdWU6KCkgPT4gUmVhY3QuUmVhY3ROb2RlLCByZW5kZXI/OigpID0+IFJlYWN0LlJlYWN0Tm9kZSB9ICYgUmVhY3QuSFRNTFByb3BzPEhUTUxETGlzdEVsZW1lbnQ+KSA9PiB7XG5cdHJldHVybiA8ZGQgY2xhc3NOYW1lPXtjbGFzc1N0cignY29sLXNtLTggY29sLTkgYm9yZGVyLWJvdHRvbSBweS0xIG1iLTAnLCBjbGFzc05hbWUpfSB7Li4ucmVzdH0+XG5cdFx0e1xuXHRcdFx0dHlwZW9mIHJlbmRlciA9PT0gJ2Z1bmN0aW9uJyA/XG5cdFx0XHRcdHJlbmRlcigpIDpcblx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSdtZXRhZGF0YS12YWx1ZSc+e2dldFZhbHVlKCl9PC9zcGFuPlxuXHRcdH1cblx0PC9kZD47XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IENvbnRlbnREb2N1bWVudExpbmssIENyZWF0ZURvY3VtZW50RWxlbWVudCwgV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyB1c2VMb2NhbGl6ZWRDb250ZW50IH0gZnJvbSAnLi4vbGliL2hvb2tzL3VzZUxvY2FsaXplZENvbnRlbnQnO1xuaW1wb3J0IHsgZ2V0Q29udGVudFBhdGggfSBmcm9tICcuLi9saWIvc2x1Zyc7XG5pbXBvcnQgeyBEZXNjcmlwdGlvbkxpc3QgfSBmcm9tICcuL0Rlc2NyaXB0aW9uTGlzdCc7XG5pbXBvcnQgeyBGM0xpbmsgfSBmcm9tICcuL0YzTGluayc7XG5pbXBvcnQgeyBUaHVtYm5haWwgfSBmcm9tICcuL1RodW1ibmFpbCc7XG5cbmludGVyZmFjZSBDb250ZW50RG9jdW1lbnRMaW5rc1Byb3BzIHtcblx0bGlua3M6IFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50PENvbnRlbnREb2N1bWVudExpbms+W11cbn1cblxuZXhwb3J0IGNvbnN0IENvbnRlbnREb2N1bWVudExpbmtzID0gKHsgbGlua3MgfTogQ29udGVudERvY3VtZW50TGlua3NQcm9wcykgPT4ge1xuXHRjb25zdCB7IGxvY2FsaXplQ29udGVudFR5cGUgfSA9IHVzZUxvY2FsaXplZENvbnRlbnQoKTtcblxuXHRpZiAoIWxpbmtzKSByZXR1cm4gbnVsbDtcblxuXHRyZXR1cm4gPERlc2NyaXB0aW9uTGlzdFxuXHRcdGdldExhYmVsPXsobGluazogQ3JlYXRlRG9jdW1lbnRFbGVtZW50PENvbnRlbnREb2N1bWVudExpbms+KSA9PiB7XG5cdFx0XHRyZXR1cm4gbG9jYWxpemVDb250ZW50VHlwZShsaW5rLmVsZW1lbnQub2JqZWN0U3ViVHlwZSB8fCBsaW5rLmVsZW1lbnQub2JqZWN0SWQuY29udGVudFR5cGUpO1xuXHRcdH19XG5cdFx0Z2V0VmFsdWU9eyhsaW5rOiBDcmVhdGVEb2N1bWVudEVsZW1lbnQ8Q29udGVudERvY3VtZW50TGluaz4pID0+IHtcblx0XHRcdGNvbnN0IHsgZWxlbWVudDogeyBvYmplY3RJZDogeyBvYmplY3RJZCwgY29udGVudFR5cGUgfSwgdGl0bGUsIG9iamVjdFN1YlR5cGUgfSB9ID0gbGluaztcblxuXHRcdFx0cmV0dXJuIDxGM0xpbmsgY2xhc3NOYW1lPSdyb3cnIGhyZWY9e2dldENvbnRlbnRQYXRoKGNvbnRlbnRUeXBlLCBvYmplY3RJZCl9PlxuXHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J2NvbC1hdXRvJz5cblx0XHRcdFx0XHQ8VGh1bWJuYWlsXG5cdFx0XHRcdFx0XHRjb250ZW50VHlwZT17Y29udGVudFR5cGV9XG5cdFx0XHRcdFx0XHRvYmplY3RJZD17b2JqZWN0SWR9XG5cdFx0XHRcdFx0XHRzaXplPXs4MH1cblx0XHRcdFx0XHQvPlxuXHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0nY29sJz5cblx0XHRcdFx0XHR7dGl0bGV9XG5cdFx0XHRcdDwvc3Bhbj5cblx0XHRcdDwvRjNMaW5rPjtcblx0XHR9fVxuXHRcdGl0ZW1zPXtsaW5rc31cblx0Lz47XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IHZhbGlkYXRlTGVuZ3RoIH0gZnJvbSAnLi4vLi4vc2VydmVyL2xpYi9jb250ZW50VmFsaWRhdGlvbic7XG5pbXBvcnQgeyBGb2xkM1BhZ2VDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9mb2xkM1BhZ2VDb250ZXh0JztcbmltcG9ydCB7IENvbnRlbnREb2N1bWVudENvcnJlY3Rpb24sIENyZWF0ZURvY3VtZW50RWxlbWVudCwgTWV0YWRhdGEsIFdyYXBwZWRDb250ZW50RG9jdW1lbnQsIFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50LCBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudEFic3RyYWN0RWxlbWVudCB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IE9iaiB9IGZyb20gJy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBDb250ZW50Q29tcHV0ZWRWYWx1ZXMgfSBmcm9tICcuLi9saWIvY29udGVudC9jb250ZW50Q29tcHV0ZWRWYWx1ZXMnO1xuaW1wb3J0IHsgZ2V0UHVibGljYXRpb25JZCwgZ2V0Vmlld0NvdW50IH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvY29udGVudFJ1bnRpbWUnO1xuaW1wb3J0IHsgV3JhcHBlZEltYWdlRGF0YUNvbnRlbnQgfSBmcm9tICcuLi9saWIvY29udGVudC9pbWFnZURhdGEvaW1hZ2VDb250ZW50JztcbmltcG9ydCB7IFdyYXBwZWRJbmRleFJlY29yZENvbnRlbnQgfSBmcm9tICcuLi9saWIvY29udGVudC9pbmRleC1yZWNvcmRzL2luZGV4UmVjb3JkQ29udGVudCc7XG5pbXBvcnQgeyB1c2VBbGVydHMgfSBmcm9tICcuLi9saWIvaG9va3MvdXNlQWxlcnRzJztcbmltcG9ydCB7IHVzZUNvbnRlbnRQZXJtaXNzaW9ucyB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VDb250ZW50UGVybWlzc2lvbnMnO1xuaW1wb3J0IHsgdXNlRG9tYWluIH0gZnJvbSAnLi4vbGliL2hvb2tzL3VzZURvbWFpbic7XG5pbXBvcnQgeyB1c2VMb2NhbGl6ZWRDb250ZW50IH0gZnJvbSAnLi4vbGliL2hvb2tzL3VzZUxvY2FsaXplZENvbnRlbnQnO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VVc2VyJztcbmltcG9ydCB7IHVzZVZlcmlmeSB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VWZXJpZnknO1xuaW1wb3J0IHsgZ2V0VXNlcm5hbWVGb3JEb21haW4gfSBmcm9tICcuLi9saWIvbG9jYWxpemF0aW9uL2RvbWFpbic7XG5pbXBvcnQgeyBnZXRDb250ZW50UGF0aCB9IGZyb20gJy4uL2xpYi9zbHVnJztcbmltcG9ydCB7IG51bWJlcldpdGhDb21tYXMgfSBmcm9tICcuLi9saWIvdGVtcGxhdGluZyc7XG5pbXBvcnQgeyBEZXNjcmlwdGlvbkRlZmluaXRpb24sIERlc2NyaXB0aW9uTGlzdCwgRGVzY3JpcHRpb25UZXJtIH0gZnJvbSAnLi9EZXNjcmlwdGlvbkxpc3QnO1xuaW1wb3J0IHsgRGVsZXRlQnV0dG9uLCBGM0J1dHRvbiwgU3VibWl0QnV0dG9uIH0gZnJvbSAnLi9GM0J1dHRvbic7XG5pbXBvcnQgeyBGM0xpbmsgfSBmcm9tICcuL0YzTGluayc7XG5pbXBvcnQgeyBGM0Zvcm0gfSBmcm9tICcuL2Zvcm1zL0YzRm9ybSc7XG5pbXBvcnQgeyBGM0lucHV0IH0gZnJvbSAnLi9mb3Jtcy9GM0lucHV0JztcblxuaW50ZXJmYWNlIENvbnRlbnRNZXRhZGF0YUxpc3RQcm9wcyB7XG5cdGVkaXRpbmc/OiBib29sZWFuXG5cdGZpbHRlck1ldGFkYXRhPyhtZDogTWV0YWRhdGEpOiBib29sZWFuXG5cdHJlbmRlck1kVmFsdWU/KGtleTogc3RyaW5nLCB2YWw6IHN0cmluZyk6IFJlYWN0LlJlYWN0Tm9kZVxuXHRyZW5kZXJNZENvcnJlY3Rpb25WYWx1ZT8oa2V5OiBzdHJpbmcsIHZhbDogc3RyaW5nLCBjb3JyZWN0aW9uOiBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudDxDb250ZW50RG9jdW1lbnRDb3JyZWN0aW9uPik6IFJlYWN0LlJlYWN0Tm9kZVxuXHRjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZVxuXHRjb250ZW50OiBXcmFwcGVkQ29udGVudERvY3VtZW50XG5cdGFkZEVsZW1lbnRzKG5ld0VsZW1lbnRzOiBDcmVhdGVEb2N1bWVudEVsZW1lbnQ8V3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnRBYnN0cmFjdEVsZW1lbnQ+W10pOiBQcm9taXNlPHZvaWQ+XG5cdHJlbW92ZUVsZW1lbnRzKGVsZW1lbnRzOiBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudDxXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudEFic3RyYWN0RWxlbWVudD5bXSk6IFByb21pc2U8dm9pZD5cblx0Y29tcHV0ZWQ6IENvbnRlbnRDb21wdXRlZFZhbHVlczxhbnk+XG59XG5cbmV4cG9ydCBjb25zdCBDb250ZW50TWV0YWRhdGFMaXN0ID0gKHsgY29udGVudCwgY29tcHV0ZWQsIGFkZEVsZW1lbnRzLCByZW1vdmVFbGVtZW50cywgZWRpdGluZzogX2VkaXRpbmcsIGZpbHRlck1ldGFkYXRhLCByZW5kZXJNZFZhbHVlLCByZW5kZXJNZENvcnJlY3Rpb25WYWx1ZSwgY2hpbGRyZW4gPSBudWxsIH06IENvbnRlbnRNZXRhZGF0YUxpc3RQcm9wcykgPT4ge1xuXHRjb25zdCB7IHB1YmxpY2F0aW9ucyB9ID0gdXNlQ29udGV4dChGb2xkM1BhZ2VDb250ZXh0KTtcblx0Y29uc3QgeyBjb3JyZWN0aW9uc0J5TWV0YWRhdGFOYW1lLCB1c2Vyc0J5VXNlcklkIH0gPSBjb21wdXRlZDtcblx0Y29uc3QgeyB2ZXJpZnkgfSA9IHVzZVZlcmlmeSgpO1xuXHRjb25zdCB7IGFkZEVycm9yQWxlcnQsIGFkZFN1Y2Nlc3NBbGVydCB9ID0gdXNlQWxlcnRzKCk7XG5cdGNvbnN0IHsgdXNlciB9ID0gdXNlVXNlcigpO1xuXHRjb25zdCBbZWRpdGluZywgc2V0RWRpdGluZ10gPSB1c2VTdGF0ZShfZWRpdGluZyB8fCBmYWxzZSk7XG5cdGNvbnN0IFtjb3JyZWN0aW9uVmFsdWVzLCBzZXRDb3JyZWN0aW9uVmFsdWVzXSA9IHVzZVN0YXRlPE9iajxzdHJpbmcsIHN0cmluZz4+KHt9KTtcblx0Y29uc3QgeyBjaGVja0FjdGlvbiB9ID0gdXNlQ29udGVudFBlcm1pc3Npb25zKGNvbnRlbnQpO1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdjb21wb25lbnRzJyk7XG5cdGNvbnN0IHsgZjNEb21haW4gfSA9IHVzZURvbWFpbigpO1xuXHRjb25zdCB7IGxvY2FsaXplUHVibGljYXRpb25GaWVsZCB9ID0gdXNlTG9jYWxpemVkQ29udGVudCgpO1xuXHRjb25zdCBwdWJsaWNhdGlvbklkID0gZ2V0UHVibGljYXRpb25JZChjb250ZW50KTtcblx0Y29uc3QgZmllbGRDb25maWdOYW1lID0gcHVibGljYXRpb25zW3B1YmxpY2F0aW9uSWRdPy5maWVsZENvbmZpZ05hbWU7XG5cblx0Y29uc3Qgc2V0Q29ycmVjdGlvblZhbHVlID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG5cdFx0Y29uc3QgeyB2YWx1ZSwgbmFtZSB9ID0gZS50YXJnZXQ7XG5cdFx0c2V0Q29ycmVjdGlvblZhbHVlcyhjb3JyZWN0aW9ucyA9PiAoeyAuLi5jb3JyZWN0aW9ucywgW25hbWVdOiB2YWx1ZSB9KSk7XG5cdH07XG5cblx0Y29uc3QgeyBkb2N1bWVudDogeyBtZXRhZGF0YTogX21ldGFkYXRhIH0gfSA9IGNvbnRlbnQgYXMgV3JhcHBlZEltYWdlRGF0YUNvbnRlbnQgfCBXcmFwcGVkSW5kZXhSZWNvcmRDb250ZW50O1xuXG5cdGNvbnN0IG1ldGFkYXRhID0gdXNlTWVtbygoKSA9PiB7XG5cdFx0aWYgKHR5cGVvZiBmaWx0ZXJNZXRhZGF0YSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0cmV0dXJuIF9tZXRhZGF0YS5maWx0ZXIoZmlsdGVyTWV0YWRhdGEpO1xuXHRcdH1cblx0XHRyZXR1cm4gX21ldGFkYXRhO1xuXHR9LCBbX21ldGFkYXRhXSk7XG5cblx0Y29uc3QgY29ycmVjdGlvbnNGb3JVc2VyID0gdXNlTWVtbygoKSA9PiB7XG5cdFx0cmV0dXJuIG1ldGFkYXRhLnJlZHVjZSgoZmluYWxPYmosIG1kKSA9PiB7XG5cdFx0XHRjb25zdCBjb3JyZWN0aW9ucyA9IGNvcnJlY3Rpb25zQnlNZXRhZGF0YU5hbWVbbWQubmFtZV07XG5cdFx0XHRjb25zdCB1c2VyQ29ycmVjdGlvbiA9IGNvcnJlY3Rpb25zPy5maW5kKGNvcnJlY3Rpb24gPT4gY29ycmVjdGlvbi5tZXRhZGF0YS5vd25lciA9PT0gdXNlcj8udXNlcklkKTtcblxuXHRcdFx0aWYgKHVzZXJDb3JyZWN0aW9uKSB7XG5cdFx0XHRcdGZpbmFsT2JqW21kLm5hbWVdID0gdXNlckNvcnJlY3Rpb24uZWxlbWVudC52YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZpbmFsT2JqO1xuXHRcdH0sIHt9IGFzIE9iaik7XG5cdH0sIFttZXRhZGF0YSwgY29ycmVjdGlvbnNCeU1ldGFkYXRhTmFtZV0pO1xuXG5cdGNvbnN0IHRyeUVkaXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG5cdFx0aWYgKGNoZWNrQWN0aW9uKCdDT05UUklCVVRJT05fQ1JFQVRFJywgJ0NPUlJFQ1RJT04nKSkge1xuXHRcdFx0Y29uc3QgY29ycmVjdGlvblZhbHVlcyA9IG1ldGFkYXRhLnJlZHVjZSgoZmluYWxPYmosIG1kKSA9PiB7XG5cdFx0XHRcdGZpbmFsT2JqW21kLm5hbWVdID0gY29ycmVjdGlvbnNGb3JVc2VyW21kLm5hbWVdIHx8IG1kLnZhbHVlO1xuXHRcdFx0XHRyZXR1cm4gZmluYWxPYmo7XG5cdFx0XHR9LCB7fSBhcyBPYmo8c3RyaW5nLCBzdHJpbmc+KTtcblxuXHRcdFx0c2V0Q29ycmVjdGlvblZhbHVlcyhjb3JyZWN0aW9uVmFsdWVzKTtcblx0XHRcdHNldEVkaXRpbmcodHJ1ZSk7XG5cdFx0fVxuXHR9LCBbbWV0YWRhdGEsIGNvcnJlY3Rpb25zRm9yVXNlcl0pO1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0aWYgKF9lZGl0aW5nICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmIChfZWRpdGluZykgdHJ5RWRpdCgpO1xuXHRcdFx0ZWxzZSBzZXRFZGl0aW5nKGZhbHNlKTtcblx0XHR9XG5cdH0sIFtfZWRpdGluZ10pO1xuXG5cdGNvbnN0IHZpZXdDb3VudCA9IGdldFZpZXdDb3VudChjb250ZW50KT8udG90YWw7XG5cblx0cmV0dXJuIDxGM0Zvcm1cblx0XHRvblN1Ym1pdD17YXN5bmMgKCkgPT4ge1xuXHRcdFx0aWYgKCFlZGl0aW5nKSByZXR1cm47XG5cblx0XHRcdGNvbnN0IGNoYW5nZWRNZDogQ3JlYXRlRG9jdW1lbnRFbGVtZW50PFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50QWJzdHJhY3RFbGVtZW50PltdID0gbWV0YWRhdGFcblx0XHRcdFx0LmZpbHRlcihtZCA9PiBtZC52YWx1ZSAhPT0gY29ycmVjdGlvblZhbHVlc1ttZC5uYW1lXSAmJiBjb3JyZWN0aW9uVmFsdWVzW21kLm5hbWVdICE9PSBjb3JyZWN0aW9uc0ZvclVzZXJbbWQubmFtZV0pXG5cdFx0XHRcdC5tYXAobWQgPT4ge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRlbGVtZW50OiB7XG5cdFx0XHRcdFx0XHRcdGZpZWxkOiBtZC5uYW1lLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogY29ycmVjdGlvblZhbHVlc1ttZC5uYW1lXSxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHR0eXBlOiAnQ09SUkVDVElPTicsXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmIChjaGFuZ2VkTWQubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGF3YWl0IGFkZEVsZW1lbnRzKGNoYW5nZWRNZCk7XG5cdFx0XHRcdFx0YWRkU3VjY2Vzc0FsZXJ0KHQoJ2NvbnRlbnRNZXRhZGF0YUxpc3Quc3VjY2Vzc0FsZXJ0JywgJ1lvdXIgY29ycmVjdGlvbnMgaGF2ZSBiZWVuIHN1Y2Nlc3NmdWxseSBzYXZlZC4nKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2V0RWRpdGluZyhmYWxzZSk7XG5cdFx0XHRcdHNldENvcnJlY3Rpb25WYWx1ZXMoe30pO1xuXHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdGFkZEVycm9yQWxlcnQodCgnY29udGVudE1ldGFkYXRhTGlzdC5lcnJvckFsZXJ0JywgJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLicpKTtcblx0XHRcdH1cblx0XHR9fVxuXHQ+XG5cdFx0PERlc2NyaXB0aW9uTGlzdFxuXHRcdFx0Z2V0TGFiZWw9eyhtZDogTWV0YWRhdGEpID0+IHtcblx0XHRcdFx0cmV0dXJuIGxvY2FsaXplUHVibGljYXRpb25GaWVsZChmaWVsZENvbmZpZ05hbWUsIG1kKTtcblx0XHRcdH19XG5cdFx0XHRnZXRWYWx1ZT17KG1kOiBNZXRhZGF0YSkgPT4gbWQudmFsdWV9XG5cdFx0XHRpdGVtcz17bWV0YWRhdGF9XG5cdFx0XHRyZW5kZXJWYWx1ZT17KG1kOiBNZXRhZGF0YSkgPT4ge1xuXHRcdFx0XHRjb25zdCBjb3JyZWN0aW9ucyA9IGNvcnJlY3Rpb25zQnlNZXRhZGF0YU5hbWVbbWQubmFtZV07XG5cblx0XHRcdFx0cmV0dXJuIDw+XG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0ZWRpdGluZyA/XG5cdFx0XHRcdFx0XHRcdDxGM0lucHV0XG5cdFx0XHRcdFx0XHRcdFx0bmFtZT17bWQubmFtZX1cblx0XHRcdFx0XHRcdFx0XHRvbkNoYW5nZT17c2V0Q29ycmVjdGlvblZhbHVlfVxuXHRcdFx0XHRcdFx0XHRcdHZhbGlkYXRlPXt2YWwgPT4gdmFsaWRhdGVMZW5ndGgodmFsLCAnQ09SUkVDVElPTicpfVxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlPXtjb3JyZWN0aW9uVmFsdWVzW21kLm5hbWVdfVxuXHRcdFx0XHRcdFx0XHQvPiA6XG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0nbWV0YWRhdGEtdmFsdWUnPlxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiByZW5kZXJNZFZhbHVlID09PSAnZnVuY3Rpb24nID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0cmVuZGVyTWRWYWx1ZShtZC5uYW1lLCBtZC52YWx1ZSkgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRtZC52YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHQhZWRpdGluZyAmJlxuXHRcdFx0XHRcdFx0Y29ycmVjdGlvbnM/Lm1hcChjb3JyZWN0aW9uID0+IHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgeyBlbGVtZW50OiB7IHZhbHVlIH0sIG1ldGFkYXRhOiB7IG93bmVyOiBvd25lcklkLCBpZCB9IH0gPSBjb3JyZWN0aW9uO1xuXHRcdFx0XHRcdFx0XHRjb25zdCBvd25lciA9IHVzZXJzQnlVc2VySWRbb3duZXJJZF07XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHJlbmRlcmVkVmFsdWUgPSB0eXBlb2YgcmVuZGVyTWRDb3JyZWN0aW9uVmFsdWUgPT09ICdmdW5jdGlvbicgP1xuXHRcdFx0XHRcdFx0XHRcdHJlbmRlck1kQ29ycmVjdGlvblZhbHVlKG1kLm5hbWUsIHZhbHVlLCBjb3JyZWN0aW9uKSA6XG5cdFx0XHRcdFx0XHRcdFx0PGVtPnt2YWx1ZX08L2VtPjtcblxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gPGRpdiBrZXk9e2lkLm9iamVjdElkfSBjbGFzc05hbWU9J3Jvdyc+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbCc+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8YiBjbGFzc05hbWU9J3RleHQtcHJpbWFyeSc+JiM0Mjs8L2I+XG5cdFx0XHRcdFx0XHRcdFx0XHR7cmVuZGVyZWRWYWx1ZX1cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLWF1dG8gZC1mbGV4IGZsZXgtY29sdW1uIHRleHQtbXV0ZWQnPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHNtYWxsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt0KCdjb250ZW50TWV0YWRhdGFMaXN0LmFkZGVkQnknLCAnQWRkZWQgYnknKX06XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PEYzTGlua1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdtcy0yJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aHJlZj17Z2V0Q29udGVudFBhdGgoJ1VTRVInLCBvd25lci51c2VybmFtZSl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e2dldFVzZXJuYW1lRm9yRG9tYWluKG93bmVyLnVzZXJuYW1lLCBvd25lci51c2VySWQsIGYzRG9tYWluKX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0YzTGluaz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zbWFsbD5cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3RleHQtZW5kJz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG93bmVySWQgPT09IHVzZXI/LnVzZXJJZCAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxEZWxldGVCdXR0b25cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJ0blR5cGU9J3NlY29uZGFyeSdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nbXMtMiBweC0yIHB5LTAnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXthc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChhd2FpdCB2ZXJpZnkodCgnY29udGVudE1ldGFkYXRhTGlzdC5kZWxldGVDb3JyZWN0aW9uVmVyaWZ5JywgJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBjb3JyZWN0aW9uPycpKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhd2FpdCByZW1vdmVFbGVtZW50cyhbY29ycmVjdGlvbl0pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvKlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KiBsZXQgcmVzdWx0cyA9IGF3YWl0IG5ldyBDb250ZW50QXBpKCkucmVtb3ZlRWxlbWVudHMoY29udGVudCwgW2NvcnJlY3Rpb25dKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCogbWVyZ2VFbGVtZW50VXBkYXRlUmVzdWx0cyhyZXN1bHRzKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCovXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhZGRTdWNjZXNzQWxlcnQodCgnY29udGVudE1ldGFkYXRhTGlzdC5zdWNjZXNzQWxlcnQnLCAnWW91ciBjb3JyZWN0aW9uIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSByZW1vdmVkLicpKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFkZEVycm9yQWxlcnQodCgnY29udGVudE1ldGFkYXRhTGlzdC5lcnJvckFsZXJ0JywgJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLicpKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvdXRsaW5lXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyb3VuZGVkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzaXplPSdzbSdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7dCgnY29udGVudE1ldGFkYXRhTGlzdC5kZWxldGVCdXR0b25UZXh0JywgJ0RlbGV0ZScpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvRGVsZXRlQnV0dG9uPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+O1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdDwvPjtcblx0XHRcdH19XG5cdFx0PlxuXHRcdFx0e2NoaWxkcmVufVxuXHRcdFx0e1xuXHRcdFx0XHR2aWV3Q291bnQgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHQ8PlxuXHRcdFx0XHRcdDxEZXNjcmlwdGlvblRlcm0gbGFiZWw9e3QoJ2NvbnRlbnRNZXRhZGF0YUxpc3Qudmlld3NMYWJlbCcsICdWaWV3cycpfSAvPlxuXHRcdFx0XHRcdDxEZXNjcmlwdGlvbkRlZmluaXRpb24gZ2V0VmFsdWU9eygpID0+IG51bWJlcldpdGhDb21tYXModmlld0NvdW50KX0gLz5cblx0XHRcdFx0PC8+XG5cdFx0XHR9XG5cdFx0PC9EZXNjcmlwdGlvbkxpc3Q+XG5cdFx0PGRpdiBjbGFzc05hbWU9J21iLTMgcHQtMic+XG5cdFx0XHR7XG5cdFx0XHRcdCFlZGl0aW5nICYmXG5cdFx0XHRcdDxGM0J1dHRvblxuXHRcdFx0XHRcdGFyaWEtbGFiZWw9J0NsaWNrIHRvIGVkaXQgYW5kIGFkZCBhIGNvcnJlY3Rpb24nXG5cdFx0XHRcdFx0YnRuVHlwZT0nbGluaydcblx0XHRcdFx0XHRjbGFzc05hbWU9J2QtcHJpbnQtbm9uZSdcblx0XHRcdFx0XHRkYXRhLWN5PSdhZGQtY29ycmVjdGlvbidcblx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB0cnlFZGl0KCl9XG5cdFx0XHRcdD5cblx0XHRcdFx0XHQ8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdpY29uLWYzIGljb24tZmxhZyB0ZXh0LXNlY29uZGFyeSBtZS0xJyAvPlxuXHRcdFx0XHRcdHt0KCdjb250ZW50TWV0YWRhdGFMaXN0LmFkZENvcnJlY3Rpb25CdXR0b25UZXh0JywgJ0FkZCBhIGNvcnJlY3Rpb24nKX1cblx0XHRcdFx0PC9GM0J1dHRvbj5cblx0XHRcdH1cblx0XHRcdHtcblx0XHRcdFx0ZWRpdGluZyAmJlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ncm93IGctMiBqdXN0aWZ5LWNvbnRlbnQtZW5kJz5cblx0XHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRcdGJ0blR5cGU9J3NlY29uZGFyeSdcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nbWUtMiBjb2wtYXV0bydcblx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRcdFx0c2V0RWRpdGluZyhmYWxzZSk7XG5cdFx0XHRcdFx0XHRcdHNldENvcnJlY3Rpb25WYWx1ZXMoe30pO1xuXHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdG91dGxpbmVcblx0XHRcdFx0XHRcdHJvdW5kZWRcblx0XHRcdFx0XHRcdHNpemU9J3NtJ1xuXHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdHt0KCdjb250ZW50TWV0YWRhdGFMaXN0LmNhbmNlbENvcnJlY3Rpb25CdXR0b25UZXh0JywgJ0NhbmNlbCcpfVxuXHRcdFx0XHRcdDwvRjNCdXR0b24+XG5cdFx0XHRcdFx0PFN1Ym1pdEJ1dHRvblxuXHRcdFx0XHRcdFx0YnRuVHlwZT0ncHJpbWFyeSdcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nY29sLWF1dG8nXG5cdFx0XHRcdFx0XHRvdXRsaW5lXG5cdFx0XHRcdFx0XHRyb3VuZGVkXG5cdFx0XHRcdFx0XHRzaXplPSdzbSdcblx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHR7dCgnY29udGVudE1ldGFkYXRhTGlzdC5zYXZlQ29ycmVjdGlvbkJ1dHRvblRleHQnLCAnU2F2ZScpfVxuXHRcdFx0XHRcdDwvU3VibWl0QnV0dG9uPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdH1cblx0XHQ8L2Rpdj5cblx0PC9GM0Zvcm0+O1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IHVzZUxvY2F0aW9uIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBDb250ZW50RG9jdW1lbnRMaW5rcyB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQ29udGVudERvY3VtZW50TGlua3MnO1xuaW1wb3J0IHsgQ29udGVudE1ldGFkYXRhTGlzdCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvQ29udGVudE1ldGFkYXRhTGlzdCc7XG5pbXBvcnQgeyBEZXNjcmlwdGlvbkRlZmluaXRpb24sIERlc2NyaXB0aW9uVGVybSB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvRGVzY3JpcHRpb25MaXN0JztcbmltcG9ydCB7IEYzQnV0dG9uIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9GM0J1dHRvbic7XG5pbXBvcnQgeyBGM0xpbmsgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0YzTGluayc7XG5pbXBvcnQgeyBSZXBvcnREaWFsb2cgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL1JlcG9ydERpYWxvZyc7XG5pbXBvcnQgeyBJbmRleFJlY29yZENvbnRlbnRDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9jb250ZW50Q29udGV4dCc7XG5pbXBvcnQgeyBDb250ZW50UHJvdmlkZXIsIENyZWF0ZURvY3VtZW50RWxlbWVudCwgV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBnZXRNb2RpZmllZCwgZ2V0V3JhcHBlZENvbnRlbnRSZWYgfSBmcm9tICcuLi8uLi9saWIvY29udGVudC9jb250ZW50TWV0YWRhdGEnO1xuaW1wb3J0IHsgSW5kZXhSZWNvcmRXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudCB9IGZyb20gJy4uLy4uL2xpYi9jb250ZW50L2luZGV4LXJlY29yZHMvaW5kZXhSZWNvcmRDb250ZW50JztcbmltcG9ydCB7IHVzZURpYWxvZ3MgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlRGlhbG9ncyc7XG5pbXBvcnQgeyB1c2VEb21haW4gfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlRG9tYWluJztcbmltcG9ydCB7IHVzZUxvY2FsZURhdGUgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlTG9jYWxlRGF0ZXMnO1xuaW1wb3J0IHsgdXNlTG9jYWxpemVkQ29udGVudCB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VMb2NhbGl6ZWRDb250ZW50JztcbmltcG9ydCB7IHVzZVRodW1ibmFpbCB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VUaHVtYm5haWwnO1xuaW1wb3J0IHsgZ2V0Q29udGVudFByb3ZpZGVyRm9yRG9tYWluIH0gZnJvbSAnLi4vLi4vbGliL2xvY2FsaXphdGlvbi9kb21haW4nO1xuaW1wb3J0IHsgZ2V0Q29udGVudFBhdGggfSBmcm9tICcuLi8uLi9saWIvc2x1Zyc7XG5cbmludGVyZmFjZSBJbmRleFJlY29yZEluZm9UYWJTdGF0ZSB7XG5cdGVkaXRpbmc6IGJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIEluZGV4UmVjb3JkSW5mb1RhYlByb3BzIHsgfVxuXG5leHBvcnQgY29uc3QgSW5kZXhSZWNvcmRJbmZvVGFiID0gKHsgfTogSW5kZXhSZWNvcmRJbmZvVGFiUHJvcHMpID0+IHtcblx0Y29uc3QgeyBjb250ZW50LCBjb21wdXRlZFZhbHVlcywgbWVyZ2VFbGVtZW50VXBkYXRlUmVzdWx0cywgQ29udGVudEFwaSwgcHVibGljYXRpb24gfSA9IHVzZUNvbnRleHQoSW5kZXhSZWNvcmRDb250ZW50Q29udGV4dCk7XG5cdGNvbnN0IHsgZ3JvdXBlZEVsZW1lbnRzIH0gPSBjb21wdXRlZFZhbHVlcztcblx0Y29uc3QgeyBDT1JSRUNUSU9OLCBMSU5LIH0gPSBncm91cGVkRWxlbWVudHM7XG5cdGNvbnN0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcblx0Y29uc3QgeyBnZXRUaHVtYm5haWwgfSA9IHVzZVRodW1ibmFpbCgpO1xuXHRjb25zdCB7IGYzRG9tYWluIH0gPSB1c2VEb21haW4oKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignaW5kZXgnKTtcblx0Y29uc3QgeyBsb2NhbGl6ZVB1YmxpY2F0aW9uUHJvcCB9ID0gdXNlTG9jYWxpemVkQ29udGVudCgpO1xuXHRjb25zdCBnZXRMb2NhbGVEYXRlID0gdXNlTG9jYWxlRGF0ZSgpO1xuXG5cdGNvbnN0IHsgb3BlbkRpYWxvZyB9ID0gdXNlRGlhbG9ncygpO1xuXG5cdGxldCBsb2NhbGl6ZWRQcm92aWRlcjogQ29udGVudFByb3ZpZGVyO1xuXHRpZiAocHVibGljYXRpb24/LnByb3ZpZGVyKSB7XG5cdFx0bG9jYWxpemVkUHJvdmlkZXIgPSBnZXRDb250ZW50UHJvdmlkZXJGb3JEb21haW4oZjNEb21haW4sIHB1YmxpY2F0aW9uLnByb3ZpZGVyKTtcblx0fVxuXG5cdHJldHVybiAoXG5cdFx0PGRpdiBpZD0naW5mby10YWInPlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J2Z1bGwtbWV0YWRhdGEgcm93IGp1c3RpZnktY29udGVudC1jZW50ZXInPlxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Q09SUkVDVElPTj8ubGVuZ3RoID4gMCAmJlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0ndGV4dC1lbmQgZC1ibG9jayBweC0yJyBpZD0nYWx0ZXJuYXRlLWluZm8nPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd0ZXh0LXByaW1hcnknPio8L3NwYW4+IC1cblx0XHRcdFx0XHRcdHt0KCdpbmRleFJlY29yZEluZm9UYWIuYWx0ZXJuYXRlSW5mbycsICdhbHRlcm5hdGUgaW5mbycpfVxuXHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0fVxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLTEyIGNvbC1tZC0xMCBjb2wteGwtOCc+XG5cdFx0XHRcdFx0PENvbnRlbnRNZXRhZGF0YUxpc3Rcblx0XHRcdFx0XHRcdGFkZEVsZW1lbnRzPXthc3luYyAobmV3RWxlbWVudHM6IENyZWF0ZURvY3VtZW50RWxlbWVudDxJbmRleFJlY29yZFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50PltdKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBuZXcgQ29udGVudEFwaSgpLmFkZEVsZW1lbnRzKGNvbnRlbnQsIG5ld0VsZW1lbnRzKTtcblx0XHRcdFx0XHRcdFx0bWVyZ2VFbGVtZW50VXBkYXRlUmVzdWx0cyhyZXN1bHRzKTtcblx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRjb21wdXRlZD17Y29tcHV0ZWRWYWx1ZXN9XG5cdFx0XHRcdFx0XHRjb250ZW50PXtjb250ZW50fVxuXHRcdFx0XHRcdFx0ZWRpdGluZz17bG9jYXRpb24uc3RhdGU/LmVkaXRpbmd9XG5cdFx0XHRcdFx0XHRyZW1vdmVFbGVtZW50cz17YXN5bmMgKHJlbW92ZUVsZW1lbnRzOiBXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudDxJbmRleFJlY29yZFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50PltdKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBuZXcgQ29udGVudEFwaSgpLnJlbW92ZUVsZW1lbnRzKGNvbnRlbnQsIHJlbW92ZUVsZW1lbnRzKTtcblx0XHRcdFx0XHRcdFx0bWVyZ2VFbGVtZW50VXBkYXRlUmVzdWx0cyhyZXN1bHRzKTtcblx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0PENvbnRlbnREb2N1bWVudExpbmtzIGxpbmtzPXtMSU5LfSAvPlxuXHRcdFx0XHRcdDwvQ29udGVudE1ldGFkYXRhTGlzdD5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblxuXHRcdFx0PGhyIGNsYXNzTmFtZT0nYm9yZGVyLTInIC8+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29udGFpbmVyLXhsJz5cblx0XHRcdFx0PGgyIGNsYXNzTmFtZT0naDUgdGV4dC11cHBlcmNhc2UgdGV4dC1jZW50ZXIgdGV4dC1zZWNvbmRhcnknPnt0KCdpbmRleFJlY29yZEluZm8ucHVibGljYXRpb25JbmZvJywgJ1B1YmxpY2F0aW9uIGluZm8nKX08L2gyPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ncm93IGp1c3RpZnktY29udGVudC1jZW50ZXInPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtMTIgY29sLW1kLTEwIGNvbC14bC04Jz5cblx0XHRcdFx0XHRcdDxkbCBjbGFzc05hbWU9J3JvdyBwdWJsaWNhdGlvbi1pbmZvJz5cblx0XHRcdFx0XHRcdFx0PERlc2NyaXB0aW9uVGVybSBsYWJlbD17dCgnaW5kZXhSZWNvcmRJbmZvVGFiLnB1YmxpY2F0aW9uVGl0bGUnLCAnUHVibGljYXRpb24gVGl0bGUnKX0gLz5cblx0XHRcdFx0XHRcdFx0PERlc2NyaXB0aW9uRGVmaW5pdGlvblxuXHRcdFx0XHRcdFx0XHRcdGdldFZhbHVlPXsoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8RjNMaW5rXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aHJlZj17Z2V0Q29udGVudFBhdGgoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQnUFVCTElDQVRJT04nLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHVibGljYXRpb24/LnB1YmxpY2F0aW9uSWQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwdWJsaWNhdGlvbj8uc2x1Z1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aXRlbVByb3A9J3B1Ymxpc2hlcidcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0YXJnZXQ9J19zZWxmJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e2xvY2FsaXplUHVibGljYXRpb25Qcm9wKHB1YmxpY2F0aW9uLmZpZWxkQ29uZmlnTmFtZSwgWydzaG9ydFRpdGxlJywgJ3RpdGxlJ10sIHB1YmxpY2F0aW9uLnNob3J0VGl0bGUgfHwgcHVibGljYXRpb24udGl0bGUpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0YzTGluaz5cblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdGxvY2FsaXplZFByb3ZpZGVyICYmXG5cdFx0XHRcdFx0XHRcdFx0PD5cblx0XHRcdFx0XHRcdFx0XHRcdDxEZXNjcmlwdGlvblRlcm0gbGFiZWw9e3QoJ2luZGV4UmVjb3JkSW5mb1RhYi5jb250ZW50U291cmNlJywgJ0NvbnRlbnQgU291cmNlJyl9IC8+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8RGVzY3JpcHRpb25EZWZpbml0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGdldFZhbHVlPXsoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbWdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhbHQ9e2Ake2xvY2FsaXplZFByb3ZpZGVyLm5hbWV9IGljb25gfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0ncm91bmRlZCBtZS0yJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHNyYz17Z2V0VGh1bWJuYWlsKHsgcGF0aDogJ3Byb3ZpZGVyaWNvbicsIHF1ZXJ5OiB7IGlkOiBwdWJsaWNhdGlvbi5wcm92aWRlci5pZCwgd2lkdGg6IDUwLCBoZWlnaHQ6IDUwIH0gfSl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxGM0xpbmtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRocmVmPXtsb2NhbGl6ZWRQcm92aWRlci51cmx9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aXRlbVByb3A9J2NyZWF0b3InXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0PSdfYmxhbmsnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7bG9jYWxpemVkUHJvdmlkZXIubmFtZX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9GM0xpbms+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8Lz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdFx0XHQ8Lz5cblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdDxEZXNjcmlwdGlvblRlcm0gbGFiZWw9e3QoJ2luZGV4UmVjb3JkSW5mb1RhYi5sYXN0VXBkYXRlZCcsICdMYXN0IFVwZGF0ZWQnKX0gLz5cblx0XHRcdFx0XHRcdFx0PERlc2NyaXB0aW9uRGVmaW5pdGlvblxuXHRcdFx0XHRcdFx0XHRcdGdldFZhbHVlPXsoKSA9PiBnZXRMb2NhbGVEYXRlKGdldE1vZGlmaWVkKGNvbnRlbnQpKX1cblx0XHRcdFx0XHRcdFx0Lz5cblxuXHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0cHVibGljYXRpb24/LnNob3J0RGVzY3JpcHRpb24gJiZcblx0XHRcdFx0XHRcdFx0XHQ8PlxuXHRcdFx0XHRcdFx0XHRcdFx0PERlc2NyaXB0aW9uVGVybSBsYWJlbD17dCgnaW5kZXhSZWNvcmRJbmZvVGFiLmRlc2NyaXB0aW9uJywgJ0Rlc2NyaXB0aW9uJyl9IC8+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8RGVzY3JpcHRpb25EZWZpbml0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGdldFZhbHVlPXsoKSA9PiBsb2NhbGl6ZVB1YmxpY2F0aW9uUHJvcChwdWJsaWNhdGlvbi5maWVsZENvbmZpZ05hbWUsICdzaG9ydERlc2NyaXB0aW9uJywgcHVibGljYXRpb24uc2hvcnREZXNjcmlwdGlvbil9XG5cdFx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdDwvPlxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQ8L2RsPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3RleHQtY2VudGVyJz5cblx0XHRcdFx0XHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0YnRuVHlwZT0nbGluaydcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J3RleHQtbXV0ZWQgZC1wcmludC1ub25lJ1xuXHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdG9wZW5EaWFsb2coPFJlcG9ydERpYWxvZyBvYmplY3RSZWZlcmVuY2U9e2dldFdyYXBwZWRDb250ZW50UmVmKGNvbnRlbnQpfSAvPik7XG5cdFx0XHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdFx0XHRyb2xlPSdidXR0b24nXG5cdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9J2ljb24tZjMgaWNvbi13YXJuaW5nIG1lLTEnIC8+XG5cdFx0XHRcdFx0XHRcdFx0e3QoJ2luZGV4UmVjb3JkSW5mb1RhYi5yZXBvcnRJc3N1ZScsICdSZXBvcnQgYW4gaXNzdWUnKX1cblx0XHRcdFx0XHRcdFx0PC9GM0J1dHRvbj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHQpO1xufTtcbiIsImltcG9ydCB7IEJhdHRsZSB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IEJhdHRsZVJ1bnRpbWVQcm9wZXJ0aWVzT3RoZXIsIFdyYXBwZWRCYXR0bGVDb250ZW50IH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvYmF0dGxlcy9iYXR0bGVDb250ZW50JztcbmltcG9ydCB7IENvbnRlbnRBcGkgfSBmcm9tICcuL2NvbnRlbnRBcGknO1xuaW1wb3J0IHsgQmFja2VuZFNlcnZpY2UgfSBmcm9tICcuL0YzQXBpJztcblxuZXhwb3J0IHR5cGUgQmF0dGxlRmxhZyA9ICdJTUFHRV9NRVRBREFUQScgfCAnUEVSTUlTU0lPTlMnXG5cbi8qKiBbU2VlIERvY3VtZW50YXRpb25dKGh0dHBzOi8vamZvbGQzLmlhcmNoaXZlcy5jb20vam9iL2YzLXJlZ2ltZW50L2phdmFkb2MvY29tL2FuY2VzdHJ5L2ViL2pvc2VwaHVzL3JlZ2ltZW50L3NlcnZpY2UvUmVnaW1lbnRDb250ZW50U2VydmljZS5odG1sKSAqL1xuZXhwb3J0IGNsYXNzIEJhdHRsZUFwaSBleHRlbmRzIENvbnRlbnRBcGk8V3JhcHBlZEJhdHRsZUNvbnRlbnQsIEJhdHRsZSwgYW55LCBCYXR0bGVGbGFnLCBCYXR0bGVSdW50aW1lUHJvcGVydGllc090aGVyPiB7XG5cdHNlcnZpY2UgPSBCYWNrZW5kU2VydmljZS5SRUdJTUVOVDtcblx0YmFzZVBhdGggPSAnL2NvbnRlbnQnO1xuXHRjb250ZW50VHlwZSA9ICdCQVRUTEUnIGFzIGNvbnN0O1xufVxuIiwiaW1wb3J0IHsgQ29tcGFueURldGFpbHMgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBDb21wYW55UnVudGltZVByb3BlcnRpZXNPdGhlciwgV3JhcHBlZENvbXBhbnlDb250ZW50IH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvY29tcGFuaWVzL2NvbXBhbnlDb250ZW50JztcbmltcG9ydCB7IENvbnRlbnRBcGkgfSBmcm9tICcuL2NvbnRlbnRBcGknO1xuaW1wb3J0IHsgQmFja2VuZFNlcnZpY2UgfSBmcm9tICcuL0YzQXBpJztcblxudHlwZSBDb21wYW55RmxhZyA9ICdJTUFHRV9NRVRBREFUQScgfCAnUEVSTUlTU0lPTlMnXG5cbi8qKiBbU2VlIERvY3VtZW50YXRpb25dKGh0dHBzOi8vamZvbGQzLmlhcmNoaXZlcy5jb20vam9iL2YzLXJlZ2ltZW50L2phdmFkb2MvY29tL2FuY2VzdHJ5L2ViL2pvc2VwaHVzL3JlZ2ltZW50L3NlcnZpY2UvUmVnaW1lbnRDb250ZW50U2VydmljZS5odG1sKSAqL1xuZXhwb3J0IGNsYXNzIENvbXBhbnlBcGkgZXh0ZW5kcyBDb250ZW50QXBpPFdyYXBwZWRDb21wYW55Q29udGVudCwgQ29tcGFueURldGFpbHMsIGFueSwgQ29tcGFueUZsYWcsIENvbXBhbnlSdW50aW1lUHJvcGVydGllc090aGVyPiB7XG5cdHNlcnZpY2UgPSBCYWNrZW5kU2VydmljZS5SRUdJTUVOVDtcblx0YmFzZVBhdGggPSAnL2NvbnRlbnQnO1xuXHRjb250ZW50VHlwZSA9ICdDT01QQU5ZJyBhcyBjb25zdDtcbn1cbiIsImltcG9ydCB7IEltYWdlRGF0YSwgQ29udGVudERvY3VtZW50UGVybWlzc2lvbiwgSW1hZ2VEYXRhRmxhZywgQ29udGVudFR5cGUsIFJlY3RhbmdsZSwgSW1hZ2VEYXRhVGh1bWJuYWlsRGV0YWlscywgUmVwbGFjZUltYWdlUmVxdWVzdCwgQ29ycmVjdGFibGVNZXRhZGF0YSwgQ29udGVudERvY3VtZW50TWV0YWRhdGFMaXN0UGFnZSB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IEltYWdlRGF0YVJ1bnRpbWVQcm9wZXJ0aWVzT3RoZXIsIEltYWdlRGF0YVdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50LCBXcmFwcGVkSW1hZ2VEYXRhQ29udGVudCB9IGZyb20gJy4uL2xpYi9jb250ZW50L2ltYWdlRGF0YS9pbWFnZUNvbnRlbnQnO1xuaW1wb3J0IHsgZGVzZXJpYWxpemVyIH0gZnJvbSAnLi4vbGliL2Rlc2VyaWFsaXplcic7XG5pbXBvcnQgeyBDb250ZW50QXBpIH0gZnJvbSAnLi9jb250ZW50QXBpJztcbmltcG9ydCB7IEJhY2tlbmRTZXJ2aWNlIH0gZnJvbSAnLi9GM0FwaSc7XG5cbi8qKiBbU2VlIERvY3VtZW50YXRpb25dKGh0dHBzOi8vamZvbGQzLmlhcmNoaXZlcy5jb20vam9iL2YzLWltYWdlLWRhdGEvamF2YWRvYy9jb20vYW5jZXN0cnkvZWIvZm9sZDMxL2ltYWdlZGF0YS9zZXJ2aWNlL0ltYWdlRGF0YVNlcnZpY2UuaHRtbCkgKi9cbmV4cG9ydCBjbGFzcyBJbWFnZURhdGFBcGkgZXh0ZW5kcyBDb250ZW50QXBpPFdyYXBwZWRJbWFnZURhdGFDb250ZW50LCBJbWFnZURhdGEsIEltYWdlRGF0YVdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50LCBJbWFnZURhdGFGbGFnLCBJbWFnZURhdGFSdW50aW1lUHJvcGVydGllc090aGVyLCBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9uPiB7XG5cdHNlcnZpY2UgPSBCYWNrZW5kU2VydmljZS5JTUFHRV9EQVRBO1xuXHRiYXNlUGF0aCA9ICcvaW1hZ2UnO1xuXHRjb250ZW50VHlwZSA9ICdJTUFHRScgYXMgY29uc3Q7XG5cblx0dXNlTmV3Vmlld2VyKGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSwgaW1hZ2VJZDogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPsKge1xuXHRcdHJldHVybiB0aGlzLmdldChgL2ltYWdlL3ZpZXdlci8ke2NvbnRlbnRUeXBlfS8ke2ltYWdlSWR9YCwge1xuXHRcdFx0cHJpbWl0aXZlOiB0cnVlLFxuXHRcdH0pO1xuXHR9XG5cblx0YXN5bmMgZ2V0T2NySGl0cyhpbWFnZUlkOiBudW1iZXIsIGtleXdvcmQ6IHN0cmluZ1tdKTogUHJvbWlzZTxSZWN0YW5nbGVbXT4ge1xuXHRcdGxldCByZWN0U3RyaW5nczogc3RyaW5nW10gPSBhd2FpdCB0aGlzLmdldChgL29jci9oaXRzL0lNQUdFLyR7aW1hZ2VJZH1gLCB7XG5cdFx0XHRwYXJhbXM6IHsga2V5d29yZCB9LFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlY3RTdHJpbmdzLm1hcChzdHIgPT4gZGVzZXJpYWxpemVyLmRlY29kZShzdHIsICdyZWN0JykpO1xuXHR9XG5cblx0Z2V0VGh1bWJuYWlsRGV0YWlscyhpbWFnZUlkOiBudW1iZXIsIGFubm90YXRpb25JZD86IG51bWJlciwgc3ViSW1hZ2VJZD86IG51bWJlcik6IFByb21pc2U8SW1hZ2VEYXRhVGh1bWJuYWlsRGV0YWlscz4ge1xuXHRcdHJldHVybiB0aGlzLmdldChgL3RodW1ibmFpbC9JTUFHRS8ke2ltYWdlSWR9YCwge1xuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnSW1hZ2VEYXRhVGh1bWJuYWlsRGV0YWlscycsXG5cdFx0XHRwYXJhbXM6IHsgJ2Fubi1pZCc6IGFubm90YXRpb25JZCwgJ3N1Yi1pZCc6IHN1YkltYWdlSWQgfSxcblx0XHR9KTtcblx0fVxuXG5cdHJlcGxhY2VJbWFnZShpbWFnZUlkOiBudW1iZXIsIHJlcXVlc3Q6IFJlcGxhY2VJbWFnZVJlcXVlc3QpOiBQcm9taXNlPGJvb2xlYW4+IHtcblx0XHRyZXR1cm4gdGhpcy5wdXQoYC91cGRhdGUvcmVwbGFjZS9JTUFHRS8ke2ltYWdlSWR9YCwgcmVxdWVzdCwgeyBwcmltaXRpdmU6IHRydWUgfSk7XG5cdH1cblxuXHRyZXN0b3JlRG9jdW1lbnQoaW1hZ2VJZDogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdChgL2ltYWdlL3Jlc3RvcmUvSU1BR0UvJHtpbWFnZUlkfWApO1xuXHR9XG5cblx0dXBkYXRlTWV0YWRhdGEocmVjb3JkSWQ6IHN0cmluZywgbWV0YWRhdGE6IENvcnJlY3RhYmxlTWV0YWRhdGEpIHtcblx0XHRsZXQgeyBuYW1lLCB2YWx1ZSwgc3RpY2tpbmVzcyB9ID0gbWV0YWRhdGE7XG5cblx0XHRpZiAoIXN0aWNraW5lc3MpIHtcblx0XHRcdHN0aWNraW5lc3MgPSAnU1VQRVInO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnBvc3QoYC9pbWFnZS9tZXRhZGF0YS9JTUFHRS8ke3JlY29yZElkfS8ke25hbWV9YCwgeyB2YWx1ZSB9LCB7XG5cdFx0XHRwYXJhbXM6IHsgc3RpY2tpbmVzcyB9LFxuXHRcdH0pO1xuXHR9XG5cblx0bGlzdEltYWdlcyhwdWJsaWNhdGlvbklkOiBudW1iZXIsIGxhc3RFdmFsdWF0ZWRLZXk6IHN0cmluZywgY291bnQ6IG51bWJlcik6IFByb21pc2U8Q29udGVudERvY3VtZW50TWV0YWRhdGFMaXN0UGFnZT4ge1xuXHRcdHJldHVybiB0aGlzLmdldChgL2ltYWdlL2xpc3QvJHtwdWJsaWNhdGlvbklkfWAsIHsgcGFyYW1zOiB7ICdsYXN0LWtleSc6IGxhc3RFdmFsdWF0ZWRLZXksIGNvdW50IH0sIGRlc2VyaWFsaXplVHlwZTogJ0NvbnRlbnREb2N1bWVudE1ldGFkYXRhTGlzdFBhZ2UnIH0pO1xuXHQgIH1cbn1cbiIsImltcG9ydCB7IFJlZ2ltZW50IH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgUmVnaW1lbnRSdW50aW1lUHJvcGVydGllc090aGVyLCBXcmFwcGVkUmVnaW1lbnRDb250ZW50IH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvcmVnaW1lbnRzL3JlZ2ltZW50Q29udGVudCc7XG5pbXBvcnQgeyBDb250ZW50QXBpIH0gZnJvbSAnLi9jb250ZW50QXBpJztcbmltcG9ydCB7IEJhY2tlbmRTZXJ2aWNlIH0gZnJvbSAnLi9GM0FwaSc7XG5cbnR5cGUgUmVnaW1lbnRGbGFnID0gJ0lNQUdFX01FVEFEQVRBJyB8ICdQRVJNSVNTSU9OUydcblxuLyoqIFtTZWUgRG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9qZm9sZDMuaWFyY2hpdmVzLmNvbS9qb2IvZjMtcmVnaW1lbnQvamF2YWRvYy9jb20vYW5jZXN0cnkvZWIvam9zZXBodXMvcmVnaW1lbnQvc2VydmljZS9SZWdpbWVudENvbnRlbnRTZXJ2aWNlLmh0bWwpICovXG5leHBvcnQgY2xhc3MgUmVnaW1lbnRBcGkgZXh0ZW5kcyBDb250ZW50QXBpPFdyYXBwZWRSZWdpbWVudENvbnRlbnQsIFJlZ2ltZW50LCBhbnksIFJlZ2ltZW50RmxhZywgUmVnaW1lbnRSdW50aW1lUHJvcGVydGllc090aGVyPiB7XG5cdHNlcnZpY2UgPSBCYWNrZW5kU2VydmljZS5SRUdJTUVOVDtcblx0YmFzZVBhdGggPSAnL2NvbnRlbnQnO1xuXHRjb250ZW50VHlwZSA9ICdSRUdJTUVOVCcgYXMgY29uc3Q7XG59XG4iLCJpbXBvcnQgeyBDb250ZW50QXBpIH0gZnJvbSAnLi9jb250ZW50QXBpJztcbmltcG9ydCB7IEJhY2tlbmRTZXJ2aWNlIH0gZnJvbSAnLi9GM0FwaSc7XG5pbXBvcnQgeyBXcmFwcGVkU3ViSW1hZ2VEYXRhQ29udGVudCwgU3ViSW1hZ2VEYXRhUnVudGltZVByb3BlcnRpZXNPdGhlciwgU3ViSW1hZ2VEYXRhV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQgfSBmcm9tICcuLi9saWIvY29udGVudC9pbWFnZURhdGEvc3ViSW1hZ2VDb250ZW50JztcbmltcG9ydCB7IENvbnRlbnREb2N1bWVudFBlcm1pc3Npb24sIFJlY3RhbmdsZSwgU3ViSW1hZ2VEYXRhLCBTdWJJbWFnZURhdGFGbGFnLCBTdWJJbWFnZUluZGV4UmVzdWx0cyB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcblxuLyoqIFtTZWUgRG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9qZm9sZDMuaWFyY2hpdmVzLmNvbS9qb2IvZjMtaW1hZ2UtZGF0YS9qYXZhZG9jL2NvbS9hbmNlc3RyeS9lYi9mb2xkMzEvaW1hZ2VkYXRhL3NlcnZpY2UvU3ViSW1hZ2VEYXRhU2VydmljZS5odG1sKSAqL1xuZXhwb3J0IGNsYXNzIFN1YkltYWdlRGF0YUFwaSBleHRlbmRzIENvbnRlbnRBcGk8V3JhcHBlZFN1YkltYWdlRGF0YUNvbnRlbnQsIFN1YkltYWdlRGF0YSwgU3ViSW1hZ2VEYXRhV3JhcHBlZENvbnRlbnREb2N1bWVudEVsZW1lbnQsIFN1YkltYWdlRGF0YUZsYWcsIFN1YkltYWdlRGF0YVJ1bnRpbWVQcm9wZXJ0aWVzT3RoZXIsIENvbnRlbnREb2N1bWVudFBlcm1pc3Npb24+IHtcblx0c2VydmljZSA9IEJhY2tlbmRTZXJ2aWNlLklNQUdFX0RBVEE7XG5cdGJhc2VQYXRoID0gJy9zdWItaW1hZ2UnO1xuXHRjb250ZW50VHlwZSA9ICdTVUJfSU1BR0UnIGFzIGNvbnN0O1xuXG5cdGdldFN1YkltYWdlSW5kZXgoaW1hZ2VJZDogbnVtYmVyLCByZWN0OiBSZWN0YW5nbGUsIG5vblNwYXRpYWw6IGJvb2xlYW4pOiBQcm9taXNlPFN1YkltYWdlSW5kZXhSZXN1bHRzPiB7XG5cdFx0Y29uc3QgeyB4LCB5LCB3LCBoIH0gPSByZWN0O1xuXHRcdHJldHVybiB0aGlzLmdldChgJHt0aGlzLmJhc2VQYXRofS9pbmRleC9JTUFHRS8ke2ltYWdlSWR9LyR7eH0vJHt5fS8ke3d9LyR7aH0vJHtub25TcGF0aWFsfWAsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ1N1YkltYWdlSW5kZXhSZXN1bHRzJyxcblx0XHR9KTtcblx0fVxuXG5cdC8qXG5cdCAqIGxpc3RTdWJJbWFnZXMoaW1hZ2VJZDogbnVtYmVyLCBjb3VudDogbnVtYmVyLCBsYXN0S2V5OiBzdHJpbmcpOiBQcm9taXNlPENvbnRlbnREb2N1bWVudE1ldGFkYXRhTGlzdFBhZ2U+IHtcblx0ICogXHRyZXR1cm4gdGhpcy5nZXQoYC9saXN0L0lNQUdFLyR7aW1hZ2VJZH1gLCB7XG5cdCAqIFx0XHRwYXJhbXM6IHtcblx0ICogXHRcdFx0Y291bnQsXG5cdCAqIFx0XHRcdCdsYXN0LWtleSc6IGxhc3RLZXlcblx0ICogXHRcdH0sXG5cdCAqIFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdDb250ZW50RG9jdW1lbnRNZXRhZGF0YUxpc3RQYWdlJyxcblx0ICogXHR9KVxuXHQgKiB9XG5cdCAqL1xufVxuIiwiaW1wb3J0IHsgTWVtb3JpYWxPclN1YmplY3QsIFdyYXBwZWRNZW1vcmlhbE9yU3ViamVjdENvbnRlbnQgfSBmcm9tICcuLi9saWIvY29udGVudC9tZW1vcmlhbHMvbWVtb3JpYWxDb250ZW50JztcbmltcG9ydCB7IE1lbW9yaWFsU3ViamVjdEFwaSB9IGZyb20gJy4vbWVtb3JpYWxTdWJqZWN0QXBpJztcblxuZXhwb3J0IGNsYXNzIFN1YmplY3RBcGkgZXh0ZW5kcyBNZW1vcmlhbFN1YmplY3RBcGk8V3JhcHBlZE1lbW9yaWFsT3JTdWJqZWN0Q29udGVudCwgTWVtb3JpYWxPclN1YmplY3Q+IHtcblx0Y29udGVudFR5cGUgPSAnU1VCSkVDVCcgYXMgY29uc3Q7XG59XG4iLCJpbXBvcnQgeyBNaWxpdGFyeVVuaXQgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBVbml0UnVudGltZVByb3BlcnRpZXNPdGhlciwgV3JhcHBlZFVuaXRDb250ZW50IH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvdW5pdHMvdW5pdENvbnRlbnQnO1xuaW1wb3J0IHsgQ29udGVudEFwaSB9IGZyb20gJy4vY29udGVudEFwaSc7XG5pbXBvcnQgeyBCYWNrZW5kU2VydmljZSB9IGZyb20gJy4vRjNBcGknO1xuXG50eXBlIFVuaXRGbGFnID0gJ0lNQUdFX01FVEFEQVRBJyB8ICdQRVJNSVNTSU9OUydcblxuZXhwb3J0IGNsYXNzIFVuaXRBcGkgZXh0ZW5kcyBDb250ZW50QXBpPFdyYXBwZWRVbml0Q29udGVudCwgTWlsaXRhcnlVbml0LCBhbnksIFVuaXRGbGFnLCBVbml0UnVudGltZVByb3BlcnRpZXNPdGhlcj4ge1xuXHRzZXJ2aWNlID0gQmFja2VuZFNlcnZpY2UuUkVHSU1FTlQ7XG5cdGJhc2VQYXRoID0gJy9jb250ZW50Jztcblx0Y29udGVudFR5cGUgPSAnTUlMSVRBUllfVU5JVCcgYXMgY29uc3Q7XG59XG4iLCJpbXBvcnQgeyBCYXR0bGVBcGkgfSBmcm9tICcuLi8uLi9hcGlzL2JhdHRsZUFwaSc7XG5pbXBvcnQgeyBDb21wYW55QXBpIH0gZnJvbSAnLi4vLi4vYXBpcy9jb21wYW55QXBpJztcbmltcG9ydCB7IENvbnRlbnRBcGksIENvbnRlbnRBcGlUeXBlIH0gZnJvbSAnLi4vLi4vYXBpcy9jb250ZW50QXBpJztcbmltcG9ydCB7IEltYWdlRGF0YUFwaSB9IGZyb20gJy4uLy4uL2FwaXMvaW1hZ2VEYXRhQXBpJztcbmltcG9ydCB7IEluZGV4UmVjb3JkQXBpIH0gZnJvbSAnLi4vLi4vYXBpcy9pbmRleFJlY29yZEFwaSc7XG5pbXBvcnQgeyBNZW1vcmlhbEFwaSB9IGZyb20gJy4uLy4uL2FwaXMvbWVtb3JpYWxBcGknO1xuaW1wb3J0IHsgUmVnaW1lbnRBcGkgfSBmcm9tICcuLi8uLi9hcGlzL3JlZ2ltZW50QXBpJztcbmltcG9ydCB7IFN1YkltYWdlRGF0YUFwaSB9IGZyb20gJy4uLy4uL2FwaXMvc3ViSW1hZ2VEYXRhQXBpJztcbmltcG9ydCB7IFN1YmplY3RBcGkgfSBmcm9tICcuLi8uLi9hcGlzL3N1YmplY3RBcGknO1xuaW1wb3J0IHsgVW5pdEFwaSB9IGZyb20gJy4uLy4uL2FwaXMvdW5pdEFwaSc7XG5pbXBvcnQgeyBDb250ZW50VHlwZSwgV3JhcHBlZENvbnRlbnREb2N1bWVudCwgV3JhcHBlZENvbnRlbnREb2N1bWVudEFic3RyYWN0RG9jdW1lbnQgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBNZW1vcmlhbE9yU3ViamVjdENvbnRlbnRUeXBlIH0gZnJvbSAnLi9tZW1vcmlhbHMvbWVtb3JpYWxDb250ZW50JztcblxuY2xhc3MgR2VuZXJpY0NvbnRlbnRBcGkgZXh0ZW5kcyBDb250ZW50QXBpPFdyYXBwZWRDb250ZW50RG9jdW1lbnQsIFdyYXBwZWRDb250ZW50RG9jdW1lbnRBYnN0cmFjdERvY3VtZW50PiB7XG5cdHNlcnZpY2U6IG51bGw7XG5cdGNvbnRlbnRUeXBlOiBudWxsO1xuXHRiYXNlUGF0aDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRlbnRBcGkoY29udGVudFR5cGU6ICdCQVRUTEUnKTogdHlwZW9mIEJhdHRsZUFwaTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZW50QXBpKGNvbnRlbnRUeXBlOiAnQ09NUEFOWScpOiB0eXBlb2YgQ29tcGFueUFwaTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZW50QXBpKGNvbnRlbnRUeXBlOiAnSU5ERVhfUkVDT1JEJyk6IHR5cGVvZiBJbmRleFJlY29yZEFwaTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZW50QXBpKGNvbnRlbnRUeXBlOiAnUkVHSU1FTlQnKTogdHlwZW9mIFJlZ2ltZW50QXBpO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRlbnRBcGkoY29udGVudFR5cGU6ICdJTUFHRScpOiB0eXBlb2YgSW1hZ2VEYXRhQXBpO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRlbnRBcGkoY29udGVudFR5cGU6ICdTVUJfSU1BR0UnKTogdHlwZW9mIFN1YkltYWdlRGF0YUFwaTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZW50QXBpKGNvbnRlbnRUeXBlOiAnU1RPUllfUEFHRScpOiB0eXBlb2YgTWVtb3JpYWxBcGk7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGVudEFwaShjb250ZW50VHlwZTogJ1NVQkpFQ1QnKTogdHlwZW9mIFN1YmplY3RBcGk7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGVudEFwaShjb250ZW50VHlwZTogJ01JTElUQVJZX1VOSVQnKTogdHlwZW9mIFVuaXRBcGk7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGVudEFwaShjb250ZW50VHlwZTogTWVtb3JpYWxPclN1YmplY3RDb250ZW50VHlwZSk6IHR5cGVvZiBNZW1vcmlhbEFwaSB8IHR5cGVvZiBTdWJqZWN0QXBpO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRlbnRBcGkoY29udGVudFR5cGU6IENvbnRlbnRUeXBlKTogdHlwZW9mIEdlbmVyaWNDb250ZW50QXBpO1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRlbnRBcGkoY29udGVudFR5cGU6IENvbnRlbnRBcGlUeXBlKSB7XG5cdHN3aXRjaCAoY29udGVudFR5cGUgYXMgQ29udGVudFR5cGUpIHtcblx0XHRjYXNlICdCQVRUTEUnOiByZXR1cm4gQmF0dGxlQXBpO1xuXHRcdGNhc2UgJ0NPTVBBTlknOiByZXR1cm4gQ29tcGFueUFwaTtcblx0XHRjYXNlICdJTkRFWF9SRUNPUkQnOiByZXR1cm4gSW5kZXhSZWNvcmRBcGk7XG5cdFx0Y2FzZSAnUkVHSU1FTlQnOiByZXR1cm4gUmVnaW1lbnRBcGk7XG5cdFx0Y2FzZSAnSU1BR0UnOiByZXR1cm4gSW1hZ2VEYXRhQXBpO1xuXHRcdGNhc2UgJ1NVQl9JTUFHRSc6IHJldHVybiBTdWJJbWFnZURhdGFBcGk7XG5cdFx0Y2FzZSAnU1RPUllfUEFHRSc6IHJldHVybiBNZW1vcmlhbEFwaTtcblx0XHRjYXNlICdTVUJKRUNUJzogcmV0dXJuIFN1YmplY3RBcGk7XG5cdFx0Y2FzZSAnTUlMSVRBUllfVU5JVCc6IHJldHVybiBVbml0QXBpO1xuXHRcdGRlZmF1bHQ6IHJldHVybiBHZW5lcmljQ29udGVudEFwaTtcblx0fVxufVxuIiwiaW1wb3J0IGFsbEZhY3RNYXBwaW5ncyBmcm9tICcuLi8uLi9tYXBwaW5ncy9mYWN0LW1hcHBpbmdzLmpzb24nO1xuaW1wb3J0IHsgSW1wb3J0RnJvbUJvZHkgfSBmcm9tICcuLi9hcGlzL21lbW9yaWFsU3ViamVjdEFwaSc7XG5pbXBvcnQgeyBBYnN0cmFjdE1lbW9yaWFsRG9jdW1lbnRfVHlwZSwgRmFjZXRUeXBlLCBNZW1vcmlhbENhbm9uaWNhbEV2ZW50LCBNZW1vcmlhbENhbm9uaWNhbE1ldGFkYXRhLCBNZW1vcmlhbEV2ZW50X1R5cGUsIE1lbW9yaWFsU291cmNlLCBPYmplY3RSZWZlcmVuY2UgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBnZXRHcm91cGVkRWxlbWVudHMgfSBmcm9tICcuL2NvbnRlbnQvY29udGVudEVsZW1lbnRzJztcbmltcG9ydCB7IGdldFJ1bnRpbWUgfSBmcm9tICcuL2NvbnRlbnQvY29udGVudFJ1bnRpbWUnO1xuaW1wb3J0IHsgZ2V0Q29udGVudEFwaSB9IGZyb20gJy4vY29udGVudC9nZXRDb250ZW50QXBpJztcbmltcG9ydCB7IFdyYXBwZWRNZW1vcmlhbENvbnRlbnQsIGZhY3RUb0tleSwgZ2V0RmFjdHNCeUZhY3RLZXksIGdldEltcG9ydEZhY3RJZGVudGlmaWVycyB9IGZyb20gJy4vY29udGVudC9tZW1vcmlhbHMvbWVtb3JpYWxDb250ZW50JztcbmltcG9ydCB7IGNhcGl0YWxpemUgfSBmcm9tICcuL3RlbXBsYXRpbmcnO1xuaW1wb3J0IHsgZ2V0SW1hZ2VQYXRoIH0gZnJvbSAnLi90aHVtYm5haWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNvdXJjZUluZm8ge1xuXHR1cmw/OiBzdHJpbmdcblx0Y29tbWVudD86IHN0cmluZ1xuXHRyZWxhdGlvbklkPzogc3RyaW5nXG5cdHJlZj86IE9iamVjdFJlZmVyZW5jZVxuXHR0aXRsZT86IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV2ZW50V2l0aE1ldGFkYXRhV2l0aERpc3BsYXlMYWJlbCBleHRlbmRzIE1lbW9yaWFsQ2Fub25pY2FsRXZlbnQge1xuXHRjYW5vbmljYWxNZXRhZGF0YTogTWV0YWRhdGFXaXRoRGlzcGxheUxhYmVsW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWV0YWRhdGFXaXRoRGlzcGxheUxhYmVsIGV4dGVuZHMgTWVtb3JpYWxDYW5vbmljYWxNZXRhZGF0YSB7XG5cdGRpc3BsYXlMYWJlbDogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgaG9ub3JJbWFnZVVybCA9ICh0eXBlOiBzdHJpbmcsIGlkOiBzdHJpbmcsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcblx0dmFyIGV4dCxcblx0XHR1cmwgPSBgJHtnZXRJbWFnZVBhdGgoKX1ob25vcmltYWdlLyR7dHlwZX0vYDtcblxuXHRpZiAod2lkdGggPiAwIHx8IGhlaWdodCA+IDApIHtcblx0XHR1cmwgKz0gd2lkdGggKyAnLyc7XG5cdH1cblx0aWYgKGhlaWdodCA+IDApIHtcblx0XHR1cmwgKz0gaGVpZ2h0ICsgJy8nO1xuXHR9XG5cblx0aWYgKHR5cGUgPT0gJ2F2YXRhcicpIHtcblx0XHRleHQgPSAncG5nJztcblx0fSBlbHNlIHtcblx0XHRleHQgPSAnanBnJztcblx0fVxuXG5cdHVybCArPSBpZCArICcuJyArIGV4dDtcblxuXHRyZXR1cm4gdXJsO1xufTtcblxuZXhwb3J0IGNvbnN0IGNvdW50cnlGbGFnVXJsID0gKGNvdW50cnlDb2RlOiBzdHJpbmcpID0+IHtcblx0cmV0dXJuIGAke2dldEltYWdlUGF0aCgpfWZsYWcvJHtjb3VudHJ5Q29kZX1gO1xufTtcblxuZXhwb3J0IGNvbnN0IGV2ZW50VHlwZVRvTGFiZWwgPSAodHlwZTogTWVtb3JpYWxFdmVudF9UeXBlKSA9PiB7XG5cdHN3aXRjaCAodHlwZSkge1xuXHRcdGNhc2UgJ0lOVEVSTkFMX1BFT1BMRSc6IHJldHVybiAnUGVvcGxlJztcblx0XHRjYXNlICdJTlRFUk5BTF9PVEhFUic6IHJldHVybiAnT3RoZXInO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gY2FwaXRhbGl6ZSh0eXBlLCAnXycpO1xuXHR9XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlU291cmNlID0gKHsgcmVsYXRpb25JZCwgcmVmLCB1cmwsIGNvbW1lbnQsIHRpdGxlID0gdXJsIH06IFNvdXJjZUluZm8pID0+IHtcblx0aWYgKCFjb21tZW50ICYmICFyZWYgJiYgIXJlbGF0aW9uSWQgJiYgIXVybCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Y29uc3Qgc291cmNlOiBNZW1vcmlhbFNvdXJjZSA9IHt9IGFzIE1lbW9yaWFsU291cmNlO1xuXG5cdGlmIChyZWxhdGlvbklkKSB7XG5cdFx0c291cmNlLmxpbmsgPSB7XG5cdFx0XHR0eXBlOiAnRU5USVRZJyxcblx0XHRcdHJlbGF0aW9uSWQsXG5cdFx0fTtcblx0fSBlbHNlIGlmIChyZWYpIHtcblx0XHRzb3VyY2UubGluayA9IHtcblx0XHRcdHR5cGU6ICdPQkpFQ1RfSUQnLFxuXHRcdFx0b2JqZWN0SWQ6IHJlZixcblx0XHR9O1xuXHR9IGVsc2UgaWYgKHVybCkge1xuXHRcdHNvdXJjZS5saW5rID0ge1xuXHRcdFx0dHlwZTogJ1VSTCcsXG5cdFx0XHR1cmw6IHtcblx0XHRcdFx0dXJsLFxuXHRcdFx0XHR0aXRsZSxcblx0XHRcdH0sXG5cdFx0fTtcblx0fVxuXG5cdGlmIChjb21tZW50KSB7XG5cdFx0c291cmNlLmNvbW1lbnQgPSBjb21tZW50O1xuXHR9XG5cblx0cmV0dXJuIHNvdXJjZTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRJbWFnZXJ5ID0gKG1lbW9yaWFsQ29udGVudDogV3JhcHBlZE1lbW9yaWFsQ29udGVudCkgPT4ge1xuXHRyZXR1cm4gZ2V0UnVudGltZShtZW1vcmlhbENvbnRlbnQpPy5vdGhlcj8uaW1hZ2VzO1xufTtcblxuZXhwb3J0IGNvbnN0IGltcG9ydEZhY3RzRnJvbSA9IGFzeW5jICh7IGltcG9ydFRvLCBpbXBvcnRGcm9tLCBuZXdGYWN0cyB9OiBJbXBvcnRGcm9tQm9keSkgPT4ge1xuXHRjb25zdCBBcGkgPSBnZXRDb250ZW50QXBpKGltcG9ydFRvLmNvbnRlbnRUeXBlKTtcblx0Y29uc3QgY29udGVudCA9IGF3YWl0IG5ldyBBcGkoKS5nZXREb2N1bWVudChpbXBvcnRUby5vYmplY3RJZCwgWydGQUNUUyddKTtcblx0Y29uc3QgeyBGQUNUID0gW10gfSA9IGdldEdyb3VwZWRFbGVtZW50cyhjb250ZW50KTtcblx0Y29uc3QgbWVtb3JpYWxGYWN0cyA9IEZBQ1QubWFwKGZhY3QgPT4gZmFjdC5lbGVtZW50KTtcblxuXHRjb25zdCBmYWN0c0J5RmFjdEtleSA9IGdldEZhY3RzQnlGYWN0S2V5KG1lbW9yaWFsRmFjdHMpO1xuXHRjb25zdCBkZWR1cGxpY2F0ZWQgPSBuZXdGYWN0cy5maWx0ZXIoZmFjdCA9PiB7XG5cdFx0cmV0dXJuICEoZmFjdFRvS2V5KGZhY3QpIGluIGZhY3RzQnlGYWN0S2V5KTtcblx0fSk7XG5cblx0Y29uc3QgaWRlbnRpZmllcnMgPSBnZXRJbXBvcnRGYWN0SWRlbnRpZmllcnMoZGVkdXBsaWNhdGVkLCBtZW1vcmlhbEZhY3RzKTtcblx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IG5ldyBBcGkoKS5pbXBvcnRGYWN0c0Zyb20oaW1wb3J0VG8sIGltcG9ydEZyb20sIGlkZW50aWZpZXJzKTtcblxuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbmV4cG9ydCBjb25zdCBpc0Nhbm9uaWNhbEZhY3QgPSAoZmFjdE1hcHBpbmdzOiBNZXRhZGF0YVdpdGhEaXNwbGF5TGFiZWxbXSwgZmFjZXRUeXBlOiBGYWNldFR5cGUpID0+IHtcblx0cmV0dXJuIGZhY3RNYXBwaW5ncz8uc29tZShmYWN0ID0+IGZhY3QudHlwZSA9PT0gZmFjZXRUeXBlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRFdmVudFR5cGVGb3JGYWN0VHlwZSA9IChmYWNldFR5cGU6IEZhY2V0VHlwZSkgPT4ge1xuXHRyZXR1cm4gYWxsRmFjdE1hcHBpbmdzXG5cdFx0LmZpbmQobWFwcGluZyA9PiB7XG5cdFx0XHRyZXR1cm4gbWFwcGluZy5jYW5vbmljYWxNZXRhZGF0YS5zb21lKG1kID0+IG1kLnR5cGUgPT09IGZhY2V0VHlwZSk7XG5cdFx0fSlcblx0XHQ/LnR5cGUgYXMgTWVtb3JpYWxFdmVudF9UeXBlO1xufTtcblxuZXhwb3J0IGNvbnN0IG1pbGl0YXJ5Q2hpbGRFdmVudFR5cGVzID0gYWxsRmFjdE1hcHBpbmdzLnJlZHVjZSgoZmluYWxBcnIsIG1hcHBpbmcpID0+IHtcblx0aWYgKG1hcHBpbmcucGFyZW50VHlwZSA9PT0gJ01JTElUQVJZX1NFUlZJQ0UnKSB7XG5cdFx0ZmluYWxBcnIucHVzaChtYXBwaW5nLnR5cGUgYXMgQWJzdHJhY3RNZW1vcmlhbERvY3VtZW50X1R5cGUgfCBNZW1vcmlhbEV2ZW50X1R5cGUpO1xuXHR9XG5cdHJldHVybiBmaW5hbEFycjtcbn0sIFtdIGFzIChBYnN0cmFjdE1lbW9yaWFsRG9jdW1lbnRfVHlwZSB8IE1lbW9yaWFsRXZlbnRfVHlwZSlbXSk7XG5cbmV4cG9ydCBjb25zdCBtaWxpdGFyeUV2ZW50VHlwZXMgPSBtaWxpdGFyeUNoaWxkRXZlbnRUeXBlcy5jb25jYXQoJ01JTElUQVJZX1NFUlZJQ0UnKTtcblxuIiwiaW1wb3J0IHsgdjQgYXMgdXVpZFY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9uLCBDb250ZW50VHlwZSwgQ3JlYXRlRG9jdW1lbnRFbGVtZW50LCBEb2N1bWVudEVsZW1lbnRUeXBlLCBJbXBvcnRGYWN0SWRlbnRpZmllciwgTWVtb3JpYWwsIE1lbW9yaWFsQmFja2dyb3VuZEltYWdlLCBNZW1vcmlhbENvdmVySW1hZ2UsIE1lbW9yaWFsRXZlbnQsIE1lbW9yaWFsRXZlbnRfVHlwZSwgTWVtb3JpYWxGYWN0LCBNZW1vcmlhbEZhY3RTb3VyY2UsIE1lbW9yaWFsSG9ub3JJbWFnZSwgTWVtb3JpYWxQYXJ0bmVyLCBNZW1vcmlhbFNvdXJjZSwgTWVtb3JpYWxTdG9yeSwgU3ViamVjdCwgVXNlckZ1bGwsIFdyYXBwZWRDb250ZW50RG9jdW1lbnQsIF9NZW1vcmlhbFNvdXJjZV9UeXBlLCBfV2FyU3Rvcmllc1Byb3ZpZGVyIH0gZnJvbSAnLi4vLi4vLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgT2JqIH0gZnJvbSAnLi4vLi4vLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IG1pbGl0YXJ5Q2hpbGRFdmVudFR5cGVzLCBtaWxpdGFyeUV2ZW50VHlwZXMgfSBmcm9tICcuLi8uLi9tZW1vcmlhbEhlbHBlcnMnO1xuaW1wb3J0IHsgZ2V0RWxlbWVudE93bmVyLCBnZXRHcm91cGVkRWxlbWVudHMgfSBmcm9tICcuLi9jb250ZW50RWxlbWVudHMnO1xuaW1wb3J0IHsgaXNBbGxvd2VkIH0gZnJvbSAnLi4vY29udGVudFJ1bnRpbWUnO1xuXG5leHBvcnQgdHlwZSBNZW1vcmlhbFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50ID0gTWVtb3JpYWxDb3ZlckltYWdlIHwgTWVtb3JpYWxQYXJ0bmVyIHwgTWVtb3JpYWxTdG9yeSB8IE1lbW9yaWFsRmFjdFNvdXJjZSB8IE1lbW9yaWFsQmFja2dyb3VuZEltYWdlIHwgTWVtb3JpYWxGYWN0IHwgTWVtb3JpYWxTb3VyY2U7XG5leHBvcnQgdHlwZSBXcmFwcGVkTWVtb3JpYWxDb250ZW50ID0gV3JhcHBlZENvbnRlbnREb2N1bWVudDxNZW1vcmlhbCwgTWVtb3JpYWxXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudCwgTWVtb3JpYWxSdW50aW1lUHJvcGVydGllc090aGVyLCBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9uPjtcbmV4cG9ydCB0eXBlIFdyYXBwZWRTdWJqZWN0Q29udGVudCA9IFdyYXBwZWRDb250ZW50RG9jdW1lbnQ8U3ViamVjdCwgTWVtb3JpYWxXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudCwgTWVtb3JpYWxSdW50aW1lUHJvcGVydGllc090aGVyLCBDb250ZW50RG9jdW1lbnRQZXJtaXNzaW9uPjtcbmV4cG9ydCB0eXBlIFdyYXBwZWRNZW1vcmlhbE9yU3ViamVjdENvbnRlbnQgPSBXcmFwcGVkTWVtb3JpYWxDb250ZW50IHwgV3JhcHBlZFN1YmplY3RDb250ZW50XG5leHBvcnQgdHlwZSBNZW1vcmlhbE9yU3ViamVjdCA9IE1lbW9yaWFsIHwgU3ViamVjdFxuZXhwb3J0IHR5cGUgTWVtb3JpYWxPclN1YmplY3RDb250ZW50VHlwZSA9IENvbnRlbnRUeXBlICYgKCdTVE9SWV9QQUdFJyB8ICdTVUJKRUNUJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVtb3JpYWxSdW50aW1lUHJvcGVydGllc090aGVyIHtcblx0aW1hZ2VzOiBPYmo8c3RyaW5nLCBNZW1vcmlhbEhvbm9ySW1hZ2U+XG5cdHByb3ZpZGVyOiBfV2FyU3Rvcmllc1Byb3ZpZGVyXG59XG5cbmV4cG9ydCBjb25zdCBnZXRGYWN0c0J5RmFjdEtleSA9IChmYWN0czogTWVtb3JpYWxGYWN0W10pID0+IHtcblx0cmV0dXJuIGZhY3RzLnJlZHVjZSgoZmluYWxPYmosIGZhY3QpID0+IHtcblx0XHRmaW5hbE9ialtmYWN0VG9LZXkoZmFjdCldID0gZmFjdDtcblx0XHRyZXR1cm4gZmluYWxPYmo7XG5cdH0sIHt9IGFzIE9iajxzdHJpbmcsIE1lbW9yaWFsRmFjdCB8IE1lbW9yaWFsRmFjdD4pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEV2ZW50c0J5VHlwZSA9ICh0eXBlOiBNZW1vcmlhbEV2ZW50X1R5cGUsIGV4aXN0aW5nRmFjdHM6IE1lbW9yaWFsRmFjdFtdLCBjdXN0b21FdmVudE5hbWU/OiBzdHJpbmcpOiBNZW1vcmlhbEV2ZW50W11bXSA9PiB7XG5cdGNvbnN0IGV2ZW50c0J5RXZlbnRUeXBlID0gZ2V0RXZlbnRzQnlFdmVudFR5cGUoZXhpc3RpbmdGYWN0cyk7XG5cdGxldCBtYXRjaGluZ0V2ZW50cyA9IGV2ZW50c0J5RXZlbnRUeXBlW3R5cGVdIHx8IFtdO1xuXG5cdC8qXG5cdCAqIElmIHdlIGhhdmUgYSBjaGlsZCBtaWxpdGFyeSBldmVudCB0eXBlIGxpa2UgRU5MSVNUTUVOVCwgd2UgYWxyZWFkeSBoYXZlIGFsbCBleGlzdGluZyBFTkxJU1RNRU5UIGV2ZW50cyBvbiB0aGUgcGFnZS5cblx0ICogTm93LCB3ZSBuZWVkIHRvIGZpbmQgYWxsIG90aGVyIE1JTElUQVJZX1NFUlZJQ0UgZXZlbnRzIG9uIHRoZSBwYWdlIHRoYXQgZG9uJ3QgaGF2ZSBhbiBleGlzdGluZyBFTkxJU1RNRU5UIGV2ZW50IGluIHRoZW0uXG5cdCAqIFRoaXMgd2lsbCBhbGxvdyB1c2VycyB0byBjcmVhdGUgbmV3IEVOTElTVE1FTlQgZXZlbnRzIHdpdGhpbiBleGlzdGluZyBNSUxJVEFSWV9TRVJWSUNFIGV2ZW50cy5cblx0ICovXG5cdGlmIChtaWxpdGFyeUNoaWxkRXZlbnRUeXBlcy5pbmNsdWRlcyh0eXBlKSkge1xuXHRcdGxldCBtaWxpdGFyeUV2ZW50SWRzID0gbWF0Y2hpbmdFdmVudHNcblx0XHRcdC5tYXAoZXZlbnRzID0+IHtcblx0XHRcdFx0bGV0IG1pbGl0YXJ5RXZlbnQgPSBldmVudHMuZmluZChldnQgPT4gZXZ0LnR5cGUgPT09ICdNSUxJVEFSWV9TRVJWSUNFJyk7XG5cdFx0XHRcdHJldHVybiBtaWxpdGFyeUV2ZW50LmlkZW50aWZpZXI7XG5cdFx0XHR9KTtcblxuXHRcdGxldCBhbGxNaWxpdGFyeUV2ZW50cyA9IGdldEV2ZW50c0J5VHlwZSgnTUlMSVRBUllfU0VSVklDRScsIGV4aXN0aW5nRmFjdHMpO1xuXG5cdFx0YWxsTWlsaXRhcnlFdmVudHMuZm9yRWFjaChldmVudHMgPT4ge1xuXHRcdFx0bGV0IG1pbGl0YXJ5RXZlbnQgPSBldmVudHMuZmluZChldnQgPT4gZXZ0LnR5cGUgPT09ICdNSUxJVEFSWV9TRVJWSUNFJyk7XG5cdFx0XHRpZiAoIW1pbGl0YXJ5RXZlbnRJZHMuaW5jbHVkZXMobWlsaXRhcnlFdmVudC5pZGVudGlmaWVyKSkge1xuXHRcdFx0XHRtYXRjaGluZ0V2ZW50cy5wdXNoKFttaWxpdGFyeUV2ZW50XSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHRpZiAoY3VzdG9tRXZlbnROYW1lKSB7XG5cdFx0bWF0Y2hpbmdFdmVudHMgPSBtYXRjaGluZ0V2ZW50cy5maWx0ZXIoZXZlbnQgPT4gZXZlbnQuc29tZShldnQgPT4gZXZ0Lm5hbWUgPT09IGN1c3RvbUV2ZW50TmFtZSkpO1xuXHR9XG5cblx0cmV0dXJuIG1hdGNoaW5nRXZlbnRzO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEltcG9ydEZhY3RJZGVudGlmaWVycyA9IChuZXdGYWN0czogTWVtb3JpYWxGYWN0W10sIGV4aXN0aW5nRmFjdHM6IE1lbW9yaWFsRmFjdFtdKTogSW1wb3J0RmFjdElkZW50aWZpZXJbXSA9PiB7XG5cdHJldHVybiBnZXRJbXBvcnRGYWN0cyhuZXdGYWN0cywgZXhpc3RpbmdGYWN0cylcblx0XHQubWFwKGZhY3QgPT4gKHsgZXZlbnQ6IGZhY3QuZXZlbnQsIG9yaWdpbjogZmFjdC5vcmlnaW4gfSkpO1xufTtcblxuY29uc3QgZ2V0SW1wb3J0RmFjdHMgPSAobmV3RmFjdHM6IE1lbW9yaWFsRmFjdFtdLCBleGlzdGluZ0ZhY3RzOiBNZW1vcmlhbEZhY3RbXSk6IE1lbW9yaWFsRmFjdFtdID0+IHtcblx0bGV0IGV2ZW50c1VzZWQ6IE9iajxNZW1vcmlhbEV2ZW50X1R5cGUsIE1lbW9yaWFsRXZlbnRbXT4gPSB7fTtcblx0cmV0dXJuIG5ld0ZhY3RzLnJlZHVjZSgoZmluYWxBcnIsIGZhY3QpID0+IHtcblx0XHRjb25zdCBsYXN0RXZlbnQgPSBmYWN0LmV2ZW50W2ZhY3QuZXZlbnQubGVuZ3RoIC0gMV07XG5cdFx0Y29uc3QgZXZlbnRUeXBlID0gbGFzdEV2ZW50LnR5cGU7XG5cblx0XHRsZXQgZXZlbnRzOiBNZW1vcmlhbEV2ZW50W11bXTtcblxuXHRcdGlmIChldmVudFR5cGUgaW4gZXZlbnRzVXNlZCkge1xuXHRcdFx0ZXZlbnRzID0gW2V2ZW50c1VzZWRbZXZlbnRUeXBlXV07XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8qXG5cdFx0XHQgKiBJdCBnZXRzIHZlcnkgY29tcGxleCB0cnlpbmcgdG8ga25vdyB3aGV0aGVyIHRvIGNyZWF0ZSBhIG5ldyBtaWxpdGFyeSBldmVudCBvciB3aGljaCBleGlzdGluZyBvbmUgdG8gYWRkIHRvLlxuXHRcdFx0ICogV2Ugd2lsbCBjcmVhdGUgYSBuZXcgZXZlbnQgYW5kIGxldCB1c2VycyBkcmFnL2Ryb3AgZmFjdHMgaWYgbmVlZGVkLlxuXHRcdFx0ICovXG5cdFx0XHRpZiAobWlsaXRhcnlFdmVudFR5cGVzLmluY2x1ZGVzKGV2ZW50VHlwZSkpIHtcblx0XHRcdFx0ZXZlbnRzID0gW2ZhY3QuZXZlbnRdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZXZlbnRzID0gZ2V0RXZlbnRzQnlUeXBlKGV2ZW50VHlwZSwgZXhpc3RpbmdGYWN0cywgbGFzdEV2ZW50Lm5hbWUpO1xuXG5cdFx0XHRcdGlmIChldmVudHMubGVuZ3RoID09PSAwIHx8IGV2ZW50cy5sZW5ndGggPiAxKSB7XG5cdFx0XHRcdFx0ZXZlbnRzID0gW2ZhY3QuZXZlbnRdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZXZlbnRzVXNlZFtldmVudFR5cGVdID0gZXZlbnRzWzBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZpbmFsQXJyLnB1c2goe1xuXHRcdFx0Li4uZmFjdCxcblx0XHRcdGV2ZW50OiBldmVudHNbMF0sXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gZmluYWxBcnI7XG5cdH0sIFtdIGFzIE1lbW9yaWFsRmFjdFtdKTtcbn07XG5cbmV4cG9ydCBjb25zdCBncm91cEZhY3RzQnlFdmVudFR5cGUgPSAoZmFjdHM6IE1lbW9yaWFsRmFjdFtdKcKgPT4ge1xuXHRyZXR1cm4gZmFjdHMucmVkdWNlKChmaW5hbE9iaiwgZmFjdCkgPT4ge1xuXHRcdGxldCBldmVudFR5cGUgPSBmYWN0LmV2ZW50W2ZhY3QuZXZlbnQubGVuZ3RoIC0gMV0udHlwZTtcblxuXHRcdGlmICghKGV2ZW50VHlwZSBpbiBmaW5hbE9iaikpIGZpbmFsT2JqW2V2ZW50VHlwZV0gPSBbXTtcblx0XHRmaW5hbE9ialtldmVudFR5cGVdLnB1c2goZmFjdCBhcyB1bmtub3duIGFzIE1lbW9yaWFsRmFjdCk7XG5cdFx0cmV0dXJuIGZpbmFsT2JqO1xuXHR9LCB7fSBhcyBPYmo8TWVtb3JpYWxFdmVudF9UeXBlLCBNZW1vcmlhbEZhY3RbXT4pO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1lbW9yaWFsRXZlbnQgPSAodHlwZTogTWVtb3JpYWxFdmVudF9UeXBlLCBuYW1lPzogc3RyaW5nKTogTWVtb3JpYWxFdmVudCA9PiB7XG5cdGNvbnN0IGV2ZW50OiBNZW1vcmlhbEV2ZW50ID0ge1xuXHRcdGlkZW50aWZpZXI6IHV1aWRWNCgpLFxuXHRcdHR5cGUsXG5cdH0gYXMgTWVtb3JpYWxFdmVudDtcblxuXHRpZiAodHlwZS5zdGFydHNXaXRoKCdDVVNUT00nKSkge1xuXHRcdGV2ZW50Lm5hbWUgPSBuYW1lIHx8ICdDdXN0b20nO1xuXHR9XG5cblx0cmV0dXJuIGV2ZW50O1xufTtcblxuZXhwb3J0IGNvbnN0IGZhY3RUb0tleSA9IChmYWN0OiBNZW1vcmlhbEZhY3QgfCBNZW1vcmlhbEZhY3QpID0+IHtcblx0Y29uc3QgeyBuYW1lLCB2YWx1ZSwgdHlwZSB9ID0gZmFjdDtcblx0cmV0dXJuIGAke25hbWV9JHt2YWx1ZX0ke3R5cGV9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNZW1vcmlhbEZhY3RFbGVtZW50ID0gKGZhY3Q6IE1lbW9yaWFsRmFjdCk6IENyZWF0ZURvY3VtZW50RWxlbWVudDxNZW1vcmlhbEZhY3Q+ID0+IHtcblx0cmV0dXJuIHtcblx0XHRlbGVtZW50OiBmYWN0IGFzIHVua25vd24gYXMgTWVtb3JpYWxGYWN0LFxuXHRcdHR5cGU6ICdGQUNUJyxcblx0fTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVNZW1vcmlhbFBhcnRuZXJFbGVtZW50ID0gKGluc3RpdHV0aW9uSWQ6IG51bWJlcik6IENyZWF0ZURvY3VtZW50RWxlbWVudDxNZW1vcmlhbFBhcnRuZXI+ID0+IHtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiAnUEFSVE5FUicsXG5cdFx0ZWxlbWVudDogeyBpbnN0aXR1dGlvbjogaW5zdGl0dXRpb25JZCB9LFxuXHR9O1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1lbW9yaWFsRmFjdFNvdXJjZSA9IChzb3VyY2U6IE1lbW9yaWFsRmFjdFNvdXJjZSk6IENyZWF0ZURvY3VtZW50RWxlbWVudDxNZW1vcmlhbEZhY3RTb3VyY2U+ID0+IHtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiAnRkFDVF9TT1VSQ0UnLFxuXHRcdGVsZW1lbnQ6IHNvdXJjZSxcblx0fTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVIaWVyYXJjaHlGb3JFdmVudFR5cGUgPSAoZXZlbnRUeXBlOiBNZW1vcmlhbEV2ZW50X1R5cGUsIHBvdGVudGlhbEhpZXJhcmNoeTogTWVtb3JpYWxFdmVudFtdID0gW10sIGV2ZW50TmFtZT86IHN0cmluZyk6IE1lbW9yaWFsRXZlbnRbXSA9PiB7XG5cdGxldCBuZXdGYWN0RXZlbnRzOiBNZW1vcmlhbEV2ZW50W10gPSBbXTtcblxuXHRpZiAobWlsaXRhcnlDaGlsZEV2ZW50VHlwZXMuaW5jbHVkZXMoZXZlbnRUeXBlKSkge1xuXHRcdG5ld0ZhY3RFdmVudHMucHVzaChjcmVhdGVFdmVudElmTm90Rm91bmQoJ01JTElUQVJZX1NFUlZJQ0UnLCBwb3RlbnRpYWxIaWVyYXJjaHkpKTtcblx0fVxuXG5cdG5ld0ZhY3RFdmVudHMucHVzaChjcmVhdGVFdmVudElmTm90Rm91bmQoZXZlbnRUeXBlLCBwb3RlbnRpYWxIaWVyYXJjaHksIGV2ZW50TmFtZSkpO1xuXG5cdHJldHVybiBuZXdGYWN0RXZlbnRzO1xufTtcblxuY29uc3QgY3JlYXRlRXZlbnRJZk5vdEZvdW5kID0gKGV2ZW50VHlwZTogTWVtb3JpYWxFdmVudF9UeXBlLCBldmVudHM6IE1lbW9yaWFsRXZlbnRbXSwgZXZlbnROYW1lPzogc3RyaW5nKSA9PiB7XG5cdHJldHVybiAoZXZlbnRzIHx8IFtdKS5maW5kKGV2dCA9PiBldnQudHlwZSA9PT0gZXZlbnRUeXBlKSB8fCBjcmVhdGVNZW1vcmlhbEV2ZW50KGV2ZW50VHlwZSwgZXZlbnROYW1lKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTb3VyY2VUeXBlID0gKGVsZW1lbnQ6IE1lbW9yaWFsU291cmNlKTogX01lbW9yaWFsU291cmNlX1R5cGUgPT4ge1xuXHRjb25zdCB7IGxpbmsgfSA9IGVsZW1lbnQ7XG5cdGlmICghbGluaykgcmV0dXJuICdURVhUJztcblx0aWYgKGxpbmsudHlwZSA9PT0gJ0VOVElUWScgfHwgbGluay50eXBlID09PSAnT0JKRUNUX0lEJykgcmV0dXJuICdFTlRJVFknO1xuXHRpZiAobGluay50eXBlID09PSAnVVJMJykgcmV0dXJuICdVUkwnO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVuaXF1ZUV2ZW50SGllcmFyY2hpZXMoZmFjdHM6IE1lbW9yaWFsRmFjdFtdKSB7XG5cdGNvbnN0IFNFUEFSQVRPUiA9ICc6Oic7XG5cdGNvbnN0IGFsbEV2ZW50cyA9IGZhY3RzLm1hcChmYWN0ID0+IGZhY3QuZXZlbnQpO1xuXG5cdGNvbnN0IHVuaXF1ZUV2ZW50SGllcmFyY2hpZXMgPSBhbGxFdmVudHMucmVkdWNlKChmaW5hbE9iaiwgZXZlbnRzKSA9PiB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGV2dHMgPSBldmVudHMuc2xpY2UoMCwgaSArIDEpO1xuXHRcdFx0Y29uc3QgZXZlbnRJZHMgPSBldnRzLm1hcChldmVudCA9PiBldmVudC5pZGVudGlmaWVyKTtcblx0XHRcdGNvbnN0IGtleSA9IGlkc1RvS2V5KGV2ZW50SWRzLCBTRVBBUkFUT1IpO1xuXG5cdFx0XHRpZiAoIShrZXkgaW4gZmluYWxPYmopKSB7XG5cdFx0XHRcdGZpbmFsT2JqW2tleV0gPSBldnRzO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmaW5hbE9iajtcblx0fSwge30gYXMgT2JqPHN0cmluZywgTWVtb3JpYWxFdmVudFtdPik7XG5cblx0cmV0dXJuIE9iamVjdC52YWx1ZXModW5pcXVlRXZlbnRIaWVyYXJjaGllcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudHNCeUV2ZW50VHlwZShmYWN0czogTWVtb3JpYWxGYWN0W10pIHtcblx0Y29uc3QgZXZlbnRIaWVyYXJjaGllcyA9IGdldFVuaXF1ZUV2ZW50SGllcmFyY2hpZXMoZmFjdHMpO1xuXHRyZXR1cm4gZXZlbnRIaWVyYXJjaGllcy5yZWR1Y2UoKGZpbmFsT2JqLCBoaWVyYXJjaHkpID0+IHtcblx0XHRjb25zdCBbcGFyZW50RXZlbnQsIGNoaWxkRXZlbnRdID0gaGllcmFyY2h5O1xuXG5cdFx0aWYgKGNoaWxkRXZlbnQpIHtcblx0XHRcdGlmICghKGNoaWxkRXZlbnQudHlwZSBpbiBmaW5hbE9iaikpIHtcblx0XHRcdFx0ZmluYWxPYmpbY2hpbGRFdmVudC50eXBlXSA9IFtdO1xuXHRcdFx0fVxuXG5cdFx0XHRmaW5hbE9ialtjaGlsZEV2ZW50LnR5cGVdLnB1c2goW3BhcmVudEV2ZW50LCBjaGlsZEV2ZW50XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICghKHBhcmVudEV2ZW50LnR5cGUgaW4gZmluYWxPYmopKSB7XG5cdFx0XHRcdGZpbmFsT2JqW3BhcmVudEV2ZW50LnR5cGVdID0gW107XG5cdFx0XHR9XG5cblx0XHRcdGZpbmFsT2JqW3BhcmVudEV2ZW50LnR5cGVdLnB1c2goW3BhcmVudEV2ZW50XSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZpbmFsT2JqO1xuXHR9LCB7fSBhcyBPYmo8TWVtb3JpYWxFdmVudF9UeXBlLCBNZW1vcmlhbEV2ZW50W11bXT4pO1xufVxuXG4vKlxuICogY29uc3Qga2V5VG9JZHMgPSAoa2V5OiBzdHJpbmcsIHNlcGFyYXRvcjogc3RyaW5nKSA9PiB7XG4gKiBcdGlmIChrZXkgPT09ICcnKSByZXR1cm4gW107XG4gKiBcdHJldHVybiBrZXkuc3BsaXQoc2VwYXJhdG9yKTtcbiAqIH1cbiAqL1xuXG5jb25zdCBpZHNUb0tleSA9IChzb3VyY2VJZHM6IHN0cmluZ1tdLCBzZXBhcmF0b3I6IHN0cmluZykgPT4ge1xuXHRyZXR1cm4gc291cmNlSWRzLnNvcnQoKS5qb2luKHNlcGFyYXRvcik7XG59O1xuXG5leHBvcnQgY29uc3QgY2FuVXBkYXRlQ292ZXJJbWFnZSA9IChjb250ZW50OiBXcmFwcGVkTWVtb3JpYWxPclN1YmplY3RDb250ZW50LCB1c2VyOiBVc2VyRnVsbCkgPT4ge1xuXHRyZXR1cm4gY2FuVXBkYXRlSW1hZ2UoY29udGVudCwgdXNlciwgJ0NPVkVSX0lNQUdFJyk7XG59O1xuXG5leHBvcnQgY29uc3QgY2FuVXBkYXRlQmFja2dyb3VuZEltYWdlID0gKGNvbnRlbnQ6IFdyYXBwZWRNZW1vcmlhbE9yU3ViamVjdENvbnRlbnQsIHVzZXI6IFVzZXJGdWxsKSA9PiB7XG5cdHJldHVybiBjYW5VcGRhdGVJbWFnZShjb250ZW50LCB1c2VyLCAnQkFDS0dST1VORF9JTUFHRScpO1xufTtcblxuY29uc3QgY2FuVXBkYXRlSW1hZ2UgPSAoY29udGVudDogV3JhcHBlZE1lbW9yaWFsT3JTdWJqZWN0Q29udGVudCwgdXNlcjogVXNlckZ1bGwsIGVsZW1lbnRUeXBlOiBEb2N1bWVudEVsZW1lbnRUeXBlKSA9PiB7XG5cdGxldCBpbWFnZSA9IGdldEdyb3VwZWRFbGVtZW50cyhjb250ZW50KVtlbGVtZW50VHlwZV0/LlswXTtcblxuXHRjb25zdCBoYXNJbWFnZSA9ICEhaW1hZ2U7XG5cdGNvbnN0IGlzQ29udHJpYnV0aW9uT3duZXIgPSBoYXNJbWFnZSAmJiBnZXRFbGVtZW50T3duZXIoaW1hZ2UpID09PSB1c2VyPy51c2VySWQ7XG5cdGNvbnN0IGNhbkVkaXRDb3ZlckltYWdlID0gaGFzSW1hZ2UgJiYgKGlzQ29udHJpYnV0aW9uT3duZXIgfHwgaXNBbGxvd2VkKGNvbnRlbnQsIFsnQ09OVFJJQlVUSU9OX1VQREFURV9PVEhFUlMnXSwgZWxlbWVudFR5cGUpIHx8IGlzQWxsb3dlZChjb250ZW50LCBbJ0NPTlRSSUJVVElPTl9ERUxFVEVfT1RIRVJTJ10sIGVsZW1lbnRUeXBlKSk7XG5cdGNvbnN0IGNhbkNyZWF0ZUNvdmVySW1hZ2UgPSAhaGFzSW1hZ2UgJiYgKGlzQWxsb3dlZChjb250ZW50LCBbJ0NPTlRSSUJVVElPTl9DUkVBVEUnXSwgZWxlbWVudFR5cGUpIHx8IGlzQWxsb3dlZChjb250ZW50LCBbJ1VQREFURSddLCBlbGVtZW50VHlwZSkpO1xuXG5cdHJldHVybiBjYW5FZGl0Q292ZXJJbWFnZSB8fCBjYW5DcmVhdGVDb3ZlckltYWdlO1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IENvbm5lY3Rpb25zQXBpIH0gZnJvbSAnLi4vLi4vLi4vYXBpcy9jb25uZWN0aW9uc0FwaSc7XG5pbXBvcnQgeyBGM0J1dHRvbiB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvRjNCdXR0b24nO1xuaW1wb3J0IHsgQ29udGVudE9iamVjdCwgTWVtb3JpYWxFdmVudF9UeXBlLCBNZW1vcmlhbEZhY3QsIE9iamVjdFJlZmVyZW5jZSB9IGZyb20gJy4uLy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IE9iaiB9IGZyb20gJy4uLy4uLy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBmYWN0VG9LZXkgfSBmcm9tICcuLi8uLi8uLi9saWIvY29udGVudC9tZW1vcmlhbHMvbWVtb3JpYWxDb250ZW50JztcbmltcG9ydCB7IHVzZUFsZXJ0cyB9IGZyb20gJy4uLy4uLy4uL2xpYi9ob29rcy91c2VBbGVydHMnO1xuaW1wb3J0IHsgdXNlRGlhbG9ncyB9IGZyb20gJy4uLy4uLy4uL2xpYi9ob29rcy91c2VEaWFsb2dzJztcbmltcG9ydCB7IHVzZUxvY2FsaXplZENvbnRlbnQgfSBmcm9tICcuLi8uLi8uLi9saWIvaG9va3MvdXNlTG9jYWxpemVkQ29udGVudCc7XG5pbXBvcnQgeyB1c2VVc2VyIH0gZnJvbSAnLi4vLi4vLi4vbGliL2hvb2tzL3VzZVVzZXInO1xuaW1wb3J0IHsgZXZlbnRUeXBlVG9MYWJlbCB9IGZyb20gJy4uLy4uLy4uL2xpYi9tZW1vcmlhbEhlbHBlcnMnO1xuXG5pbnRlcmZhY2UgU2VsZWN0RmFjdHNQcm9wcyB7XG5cdHN1Z2dlc3RlZE1ldGFkYXRhOiBPYmo8TWVtb3JpYWxFdmVudF9UeXBlLCBNZW1vcmlhbEZhY3RbXT47XG5cdG9uUmVsYXRpb25BZGRlZD8ocmVsYXRpb246IENvbnRlbnRPYmplY3QpOiB2b2lkO1xuXHRvblN1Ym1pdChmYWN0czogTWVtb3JpYWxGYWN0W10sIHJlZjogT2JqZWN0UmVmZXJlbmNlKTogdm9pZDtcblx0b2JqZWN0UmVmOiBPYmplY3RSZWZlcmVuY2U7XG5cdGRpc2FibGVkPzogYm9vbGVhblxuXHRpbXBvcnRUbzogT2JqZWN0UmVmZXJlbmNlXG59XG5cbmV4cG9ydCBjb25zdCBJTVBPUlRfRkFDVFNfRk9STV9JRCA9ICdJTVBPUlRfRkFDVFNfRk9STSc7XG5cbmV4cG9ydCBjb25zdCBTZWxlY3RGYWN0cyA9ICh7IGltcG9ydFRvLCBzdWdnZXN0ZWRNZXRhZGF0YSwgb25SZWxhdGlvbkFkZGVkLCBvblN1Ym1pdCwgb2JqZWN0UmVmLCBkaXNhYmxlZCB9OiBTZWxlY3RGYWN0c1Byb3BzKSA9PiB7XG5cdGNvbnN0IHsgYWRkU3VjY2Vzc0FsZXJ0LCBhZGRFcnJvckFsZXJ0IH0gPSB1c2VBbGVydHMoKTtcblx0Y29uc3QgeyBjbG9zZURpYWxvZyB9ID0gdXNlRGlhbG9ncygpO1xuXHRjb25zdCB7IHVzZXIgfSA9IHVzZVVzZXIoKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignbWVtb3JpYWwnKTtcblx0Y29uc3QgeyBsb2NhbGl6ZUNvbnRlbnRUeXBlIH0gPSB1c2VMb2NhbGl6ZWRDb250ZW50KCk7XG5cblx0Y29uc3Qgc3VnZ2VzdGVkTWV0YWRhdGFBcnIgPSB1c2VNZW1vKCgpID0+IHtcblx0XHRpZiAoIXN1Z2dlc3RlZE1ldGFkYXRhKSByZXR1cm4gW107XG5cdFx0cmV0dXJuIE9iamVjdC5lbnRyaWVzKHN1Z2dlc3RlZE1ldGFkYXRhKTtcblx0fSwgW3N1Z2dlc3RlZE1ldGFkYXRhXSk7XG5cblx0Y29uc3Qgc3VnZ2VzdGlvbnNCeUtleSA9IHVzZU1lbW8oKCkgPT4ge1xuXHRcdGlmICghc3VnZ2VzdGVkTWV0YWRhdGEpIHJldHVybiB7fTtcblxuXHRcdHJldHVybiBPYmplY3QudmFsdWVzKHN1Z2dlc3RlZE1ldGFkYXRhKS5yZWR1Y2UoKGZpbmFsT2JqLCBpbXBvcnRGYWN0cykgPT4ge1xuXHRcdFx0aW1wb3J0RmFjdHMuZm9yRWFjaChmYWN0ID0+IHtcblx0XHRcdFx0Y29uc3Qga2V5ID0gZmFjdFRvS2V5KGZhY3QpO1xuXHRcdFx0XHRmaW5hbE9ialtrZXldID0gZmFjdDtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIGZpbmFsT2JqO1xuXHRcdH0sIHt9IGFzIE9iajxzdHJpbmcsIE1lbW9yaWFsRmFjdD4pO1xuXHR9LCBbc3VnZ2VzdGVkTWV0YWRhdGFdKTtcblxuXHRjb25zdCBjaGFuZ2VBbGxDaGVja2JveGVzID0gKGJvb2w6IGJvb2xlYW4pID0+IHtcblx0XHRsZXQgY2hlY2tib3hlczogSFRNTElucHV0RWxlbWVudFtdID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBmb3JtIyR7SU1QT1JUX0ZBQ1RTX0ZPUk1fSUR9IGlucHV0W3R5cGU9XCJjaGVja2JveFwiXWApKTtcblx0XHRjaGVja2JveGVzLmZvckVhY2goY2hlY2tib3ggPT4geyBjaGVja2JveC5jaGVja2VkID0gYm9vbDsgfSk7XG5cdH07XG5cblx0cmV0dXJuIChcblx0XHRzdWdnZXN0ZWRNZXRhZGF0YSAmJlxuXHRcdFx0PGZvcm1cblx0XHRcdFx0aWQ9e0lNUE9SVF9GQUNUU19GT1JNX0lEfVxuXHRcdFx0XHRvblN1Ym1pdD17ZSA9PiB7XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdGxldCBjaGVja2JveGVzID0gKGUudGFyZ2V0IGFzIEhUTUxGb3JtRWxlbWVudCkucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG5cdFx0XHRcdFx0bGV0IGZhY3RzVG9JbXBvcnQ6IE1lbW9yaWFsRmFjdFtdID0gQXJyYXkuZnJvbShjaGVja2JveGVzKVxuXHRcdFx0XHRcdFx0Lm1hcCgoY2hlY2tib3g6IEhUTUxJbnB1dEVsZW1lbnQpID0+IHtcblx0XHRcdFx0XHRcdFx0bGV0IHsga2V5IH0gPSBjaGVja2JveC5kYXRhc2V0O1xuXHRcdFx0XHRcdFx0XHRjb25zdCBmYWN0ID0gc3VnZ2VzdGlvbnNCeUtleVtrZXldO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChjaGVja2JveC5jaGVja2VkKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhY3Q7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQuZmlsdGVyKHggPT4geCAhPT0gbnVsbCk7XG5cblx0XHRcdFx0XHRvblN1Ym1pdChmYWN0c1RvSW1wb3J0LCBvYmplY3RSZWYpO1xuXHRcdFx0XHR9fVxuXHRcdFx0PlxuXHRcdFx0XHQ8ZmllbGRzZXQgZGlzYWJsZWQ9e2Rpc2FibGVkfT5cblx0XHRcdFx0XHQ8bGVnZW5kIGNsYXNzTmFtZT0nZC1ub25lJz57dCgnc2VsZWN0RmFjdHMuaW1wb3J0RmFjdHMnLCAnSW1wb3J0IEZhY3RzJyl9PC9sZWdlbmQ+XG5cdFx0XHRcdFx0e3N1Z2dlc3RlZE1ldGFkYXRhQXJyLmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHRcdDw+XG5cdFx0XHRcdFx0XHRcdDxGM0J1dHRvblxuXHRcdFx0XHRcdFx0XHRcdGJ0blR5cGU9J3NlY29uZGFyeSdcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J21lLTInXG5cdFx0XHRcdFx0XHRcdFx0ZGF0YS1jeT0nZmFjdHMtc2VsZWN0LWJ0bidcblx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjaGFuZ2VBbGxDaGVja2JveGVzKHRydWUpO1xuXHRcdFx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXG5cdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHR7dCgnc2VsZWN0RmFjdHMuc2VsZWN0QWxsJywgJ1NlbGVjdCBBbGwnKX1cblx0XHRcdFx0XHRcdFx0PC9GM0J1dHRvbj5cblx0XHRcdFx0XHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0YnRuVHlwZT0nc2Vjb25kYXJ5J1xuXHRcdFx0XHRcdFx0XHRcdGRhdGEtY3k9J2ZhY3RzLWRlc2VsZWN0LWJ0bidcblx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjaGFuZ2VBbGxDaGVja2JveGVzKGZhbHNlKTtcblx0XHRcdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0XHRcdHNpemU9J3NtJ1xuXHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0e3QoJ3NlbGVjdEZhY3RzLmRlc2VsZWN0QWxsJywgJ0Rlc2VsZWN0IEFsbCcpfVxuXHRcdFx0XHRcdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdFx0XHRcdFx0PC8+fVxuXHRcdFx0XHRcdHtzdWdnZXN0ZWRNZXRhZGF0YUFyci5sZW5ndGggPT09IDAgJiZcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSd0ZXh0LWNlbnRlcic+XG5cdFx0XHRcdFx0XHRcdDxwPnt0KCdzZWxlY3RGYWN0cy5ub0ZhY3RzRm91bmQnLCAnTm8gZmFjdHMgd2VyZSBmb3VuZCBpbiB7e2NvbnRlbnRUeXBlTGFiZWx9fS4nLCB7IGNvbnRlbnRUeXBlTGFiZWw6IGxvY2FsaXplQ29udGVudFR5cGUob2JqZWN0UmVmLmNvbnRlbnRUeXBlLCB7IGFtb3VudDogJ29uZScsIGRlbW9uc3RyYXRpdmU6ICdwcm94aW1hbCcgfSkgfSl9PC9wPlxuXHRcdFx0XHRcdFx0XHR7b2JqZWN0UmVmPy5jb250ZW50VHlwZSAhPT0gJ0lOREVYX1JFQ09SRCcgJiZcblx0XHRcdFx0XHRcdFx0XHQ8PlxuXHRcdFx0XHRcdFx0XHRcdFx0PHA+e3QoJ2FkZFRvR2FsbGVyeScsICdBZGQgaXQgdG8gdGhlIEdhbGxlcnkgaW5zdGVhZD8nKX08L3A+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRidG5UeXBlPSdzZWNvbmRhcnknXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0b25DbGljaz17YXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgbmV3UmVsYXRpb24gPSBhd2FpdCBuZXcgQ29ubmVjdGlvbnNBcGkoKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5hZGRDb250ZW50VG9NZW1vcmlhbChpbXBvcnRUbywge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0RG9jdW1lbnQ6IG9iamVjdFJlZixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRleHQ6ICcnLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sIHVzZXIpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uUmVsYXRpb25BZGRlZD8uKG5ld1JlbGF0aW9uKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWRkU3VjY2Vzc0FsZXJ0KHQoJ2ltYWdlU3VjY2Vzc2Z1bGx5QWRkZWQnLCAnVGhlIGltYWdlIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBhZGRlZCB0byB0aGUgZ2FsbGVyeS4nKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsb3NlRGlhbG9nKCk7IC8vIGNsb3NlIEltcG9ydEZhY3RzRGlhbG9nXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsb3NlRGlhbG9nKCk7IC8vIGNsb3NlIEFkZEZhY3RzRGlhbG9nXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWRkRXJyb3JBbGVydCh0KCdjb21tb246c29tZXRoaW5nV3JvbmcnKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt0KCdzZWxlY3RGYWN0cy5hZGRUb0dhbGxlcnknLCAnQWRkIHRvIEltYWdlIEdhbGxlcnknKX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9GM0J1dHRvbj5cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDwvPn1cblx0XHRcdFx0XHRcdDwvZGl2Pn1cblx0XHRcdFx0XHR7c3VnZ2VzdGVkTWV0YWRhdGFBcnI/Lmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHRcdHN1Z2dlc3RlZE1ldGFkYXRhQXJyLm1hcCgoW2V2ZW50VHlwZSwgZmFjdHNdKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGxldCBsYWJlbDtcblxuXHRcdFx0XHRcdFx0XHRpZiAoZXZlbnRUeXBlID09PSAnQ1VTVE9NJykge1xuXHRcdFx0XHRcdFx0XHRcdGxhYmVsID0gZmFjdHNbMF0/LmV2ZW50WzBdPy5uYW1lO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aWYgKCFsYWJlbCkge1xuXHRcdFx0XHRcdFx0XHRcdGxhYmVsID0gZXZlbnRUeXBlVG9MYWJlbChldmVudFR5cGUgYXMgTWVtb3JpYWxFdmVudF9UeXBlKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBrZXk9e2V2ZW50VHlwZX0+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8aDIgY2xhc3NOYW1lPSd0ZXh0LXVwcGVyY2FzZSBoNiB0ZXh0LXNlY29uZGFyeSBtdC0zJz57bGFiZWx9PC9oMj5cblx0XHRcdFx0XHRcdFx0XHRcdHtmYWN0cy5tYXAoZmFjdCA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IHsgbmFtZSwgdmFsdWUsIHR5cGUsIG9yaWdpbiB9ID0gZmFjdDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3Qga2V5ID0gZmFjdFRvS2V5KGZhY3QpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBrZXk9e2tleX0gY2xhc3NOYW1lPSdmb3JtLWNoZWNrJz5cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nZm9ybS1jaGVjay1pbnB1dCdcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YS1jeT0nZjMtY2hlY2tib3gnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGEta2V5PXtrZXl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHRDaGVja2VkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlkPXtgaWQtJHtrZXl9YH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZT0nY2hlY2tib3gnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzTmFtZT0nZm9ybS1jaGVjay1sYWJlbCcgaHRtbEZvcj17YGlkLSR7a2V5fWB9PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7bmFtZX06IHt2YWx1ZX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvbGFiZWw+XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdH0pfVxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0fSl9XG5cdFx0XHRcdDwvZmllbGRzZXQ+XG5cdFx0XHQ8L2Zvcm0+XG5cblx0KTtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUcmFucywgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IEltcG9ydEZyb21Cb2R5IH0gZnJvbSAnLi4vLi4vLi4vYXBpcy9tZW1vcmlhbFN1YmplY3RBcGknO1xuaW1wb3J0IHsgU3VibWl0QnV0dG9uIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9GM0J1dHRvbic7XG5pbXBvcnQgeyBMb2FkSW5kaWNhdG9yIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9Mb2FkSW5kaWNhdG9yJztcbmltcG9ydCB7IERpYWxvZywgRGlhbG9nQ2xvc2VCdXR0b24gfSBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL2RpYWxvZ3MvRGlhbG9nJztcbmltcG9ydCB7IENvbnRlbnRPYmplY3QsIERvY3VtZW50RWxlbWVudFVwZGF0ZVJlc3VsdHMsIE1lbW9yaWFsRXZlbnRfVHlwZSwgTWVtb3JpYWxGYWN0LCBPYmplY3RSZWZlcmVuY2UsIFdyYXBwZWRDb250ZW50RG9jdW1lbnRFbGVtZW50QWJzdHJhY3RFbGVtZW50IH0gZnJvbSAnLi4vLi4vLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgT2JqIH0gZnJvbSAnLi4vLi4vLi4vZHRvL2YzLXR5cGVzJztcbmltcG9ydCB7IGdldENvbnRlbnRUeXBlTGFiZWwgfSBmcm9tICcuLi8uLi8uLi9saWIvY29udGVudC9jb250ZW50T2JqZWN0JztcbmltcG9ydCB7IGdldENvbnRlbnRBcGkgfSBmcm9tICcuLi8uLi8uLi9saWIvY29udGVudC9nZXRDb250ZW50QXBpJztcbmltcG9ydCB7IGdyb3VwRmFjdHNCeUV2ZW50VHlwZSB9IGZyb20gJy4uLy4uLy4uL2xpYi9jb250ZW50L21lbW9yaWFscy9tZW1vcmlhbENvbnRlbnQnO1xuaW1wb3J0IHsgdXNlQWxlcnRzIH0gZnJvbSAnLi4vLi4vLi4vbGliL2hvb2tzL3VzZUFsZXJ0cyc7XG5pbXBvcnQgeyB1c2VBc3luY0VmZmVjdCB9IGZyb20gJy4uLy4uLy4uL2xpYi9ob29rcy91c2VBc3luY0VmZmVjdCc7XG5pbXBvcnQgeyB1c2VEaWFsb2dzIH0gZnJvbSAnLi4vLi4vLi4vbGliL2hvb2tzL3VzZURpYWxvZ3MnO1xuaW1wb3J0IHsgaW1wb3J0RmFjdHNGcm9tIH0gZnJvbSAnLi4vLi4vLi4vbGliL21lbW9yaWFsSGVscGVycyc7XG5pbXBvcnQgeyBJTVBPUlRfRkFDVFNfRk9STV9JRCwgU2VsZWN0RmFjdHMgfSBmcm9tICcuL1NlbGVjdEZhY3RzJztcblxuaW50ZXJmYWNlIEltcG9ydEZhY3RzRGlhbG9nUHJvcHMge1xuXHRpbXBvcnRUbzogT2JqZWN0UmVmZXJlbmNlIC8vIFRoaXMgbXVzdCByZWZlciB0byBhIG1lbW9yaWFsXG5cdGltcG9ydEZyb206IE9iamVjdFJlZmVyZW5jZVxuXHRtZW1vcmlhbFRpdGxlPzogc3RyaW5nXG5cdG9uRG9uZT8ocmVzdWx0czogRG9jdW1lbnRFbGVtZW50VXBkYXRlUmVzdWx0czxXcmFwcGVkQ29udGVudERvY3VtZW50RWxlbWVudEFic3RyYWN0RWxlbWVudD4pOiB2b2lkXG5cdG9uUmVsYXRpb25BZGRlZD8ocmVsYXRpb246IENvbnRlbnRPYmplY3QpOiB2b2lkXG5cdHRpdGxlPzogc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBJbXBvcnRGYWN0c0RpYWxvZyA9ICh7IGltcG9ydFRvLCBpbXBvcnRGcm9tLCBtZW1vcmlhbFRpdGxlLCBvbkRvbmUsIG9uUmVsYXRpb25BZGRlZCwgdGl0bGUgPSAnSW1wb3J0IEZhY3RzJyB9OiBJbXBvcnRGYWN0c0RpYWxvZ1Byb3BzKSA9PiB7XG5cdGNvbnN0IFtzdWdnZXN0ZWRNZXRhZGF0YSwgc2V0U3VnZ2VzdGVkTWV0YWRhdGFdID0gdXNlU3RhdGU8T2JqPE1lbW9yaWFsRXZlbnRfVHlwZSwgTWVtb3JpYWxGYWN0W10+PihudWxsKTtcblx0Y29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG5cdGNvbnN0IHsgYWRkU3VjY2Vzc0FsZXJ0LCBhZGRFcnJvckFsZXJ0IH0gPSB1c2VBbGVydHMoKTtcblx0Y29uc3QgeyBjbG9zZURpYWxvZyB9ID0gdXNlRGlhbG9ncygpO1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdtZW1vcmlhbCcpO1xuXG5cdGNvbnN0IENvbnRlbnRBcGkgPSBnZXRDb250ZW50QXBpKGltcG9ydFRvLmNvbnRlbnRUeXBlIGFzICdTVE9SWV9QQUdFJyB8ICdTVUJKRUNUJyk7XG5cblx0aWYgKCFtZW1vcmlhbFRpdGxlKSBtZW1vcmlhbFRpdGxlID0gJyc7XG5cblx0Y29uc3Qgc2hvd1NhdmVCdG4gPSB1c2VNZW1vKCgpID0+IHtcblx0XHRpZiAoc3VnZ2VzdGVkTWV0YWRhdGEgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0XHRyZXR1cm4gT2JqZWN0LmtleXMoc3VnZ2VzdGVkTWV0YWRhdGEpLmxlbmd0aCA+IDA7XG5cdH0sIFtzdWdnZXN0ZWRNZXRhZGF0YV0pO1xuXG5cdHVzZUFzeW5jRWZmZWN0KGFzeW5jICgpID0+IHtcblx0XHRjb25zdCB7IGNvbnRlbnRUeXBlLCBvYmplY3RJZCB9ID0gaW1wb3J0RnJvbTtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBfc3VnZ2VzdGVkID0gYXdhaXQgbmV3IENvbnRlbnRBcGkoKS5nZXRJbXBvcnRGYWN0c0Zyb20oY29udGVudFR5cGUsIG9iamVjdElkKTtcblxuXHRcdFx0LyogU29tZSBzdWdnZXN0aW9ucyBjb21lIGJhY2sgd2l0aG91dCBhIHZhbHVlLiBUaGF0IHdpbGwgdGhyb3cgYW4gZXJyb3Igd2hlbiBzYXZpbmcgKi9cblx0XHRcdGNvbnN0IHN1Z2dlc3RlZCA9IF9zdWdnZXN0ZWQuZmlsdGVyKHN1Z2dlc3Rpb24gPT4ge1xuXHRcdFx0XHRpZiAoIXN1Z2dlc3Rpb24udmFsdWUpIHJldHVybiBmYWxzZTtcblx0XHRcdFx0Ly8gaWYgKCFjb21wdXRlZFZhbHVlcy52YWxpZEZhY3RUeXBlcy5pbmNsdWRlcyhzdWdnZXN0aW9uLnR5cGUpKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fSk7XG5cdFx0XHRzZXRTdWdnZXN0ZWRNZXRhZGF0YShncm91cEZhY3RzQnlFdmVudFR5cGUoc3VnZ2VzdGVkKSk7XG5cdFx0XHRzZXRMb2FkaW5nKGZhbHNlKTtcblx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdHN3aXRjaCAoZS5yZXNwb25zZS5zdGF0dXMpIHtcblx0XHRcdFx0Y2FzZSA0MDM6XG5cdFx0XHRcdFx0YWRkRXJyb3JBbGVydCh0KCdpbXBvcnRGYWN0c0RpYWxvZy5pbXBvcnRGcm9tLm5vSW1wb3J0QWNjZXNzJywgJ1lvdSBkbyBub3QgaGF2ZSBhY2Nlc3MgdG8gaW1wb3J0IGZyb20gdGhpcyB7e2dldENvbnRlbnRMYWJlbH19LicsIHsgZ2V0Q29udGVudExhYmVsOiBnZXRDb250ZW50VHlwZUxhYmVsKGNvbnRlbnRUeXBlKSB9KSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0YWRkRXJyb3JBbGVydCh0KCdjb21tb246c29tZXRoaW5nV3JvbmcnKSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdHNldExvYWRpbmcoZmFsc2UpO1xuXHRcdFx0Y2xvc2VEaWFsb2coKTtcblx0XHR9XG5cdH0sIFtdKTtcblxuXHRjb25zdCBvdGhlckNvbnRlbnRUeXBlTGFiZWwgPSBnZXRDb250ZW50VHlwZUxhYmVsKGltcG9ydEZyb20uY29udGVudFR5cGUpO1xuXHRjb25zdCBzdG9yeVBhZ2VDb250ZW50VHlwZUxhYmVsID0gZ2V0Q29udGVudFR5cGVMYWJlbCgnU1RPUllfUEFHRScpO1xuXG5cdHJldHVybiA8RGlhbG9nXG5cdFx0Zm9vdGVyPXs8PlxuXHRcdFx0PERpYWxvZ0Nsb3NlQnV0dG9uIGRpc2FibGVkPXtsb2FkaW5nfSAvPlxuXHRcdFx0e1xuXHRcdFx0XHRzaG93U2F2ZUJ0biAmJlxuXHRcdFx0XHQ8U3VibWl0QnV0dG9uXG5cdFx0XHRcdFx0ZGlzYWJsZWQ9e2xvYWRpbmd9XG5cdFx0XHRcdFx0Zm9ybT17SU1QT1JUX0ZBQ1RTX0ZPUk1fSUR9XG5cdFx0XHRcdC8+XG5cdFx0XHR9XG5cdFx0PC8+fVxuXHRcdHRpdGxlPXt0aXRsZX1cblx0PlxuXHRcdDxwIGNsYXNzTmFtZT0nbWItMyc+XG5cdFx0XHQ8VHJhbnMgaTE4bktleT0nc2VsZWN0RmFjdHNUb0FkZCcgdD17dH0+XG5cdFx0XHRcdFNlbGVjdCB0aGUgZmFjdHMgeW91IHdvdWxkIGxpa2UgdG8gYWRkIHRvIHRoZSA8Yj57eyBtZW1vcmlhbFRpdGxlIH19PC9iPiA8Yj57eyBzdG9yeVBhZ2VDb250ZW50VHlwZUxhYmVsIH19PC9iPiBmcm9tIHRoaXMge3sgb3RoZXJDb250ZW50VHlwZUxhYmVsIH19XG5cdFx0XHQ8L1RyYW5zPlxuXHRcdDwvcD5cblx0XHR7IGxvYWRpbmcgJiYgPExvYWRJbmRpY2F0b3IgLz4gfVxuXG5cdFx0PFNlbGVjdEZhY3RzXG5cdFx0XHRkaXNhYmxlZD17bG9hZGluZ31cblx0XHRcdGltcG9ydFRvPXtpbXBvcnRUb31cblx0XHRcdG9iamVjdFJlZj17aW1wb3J0RnJvbX1cblx0XHRcdG9uUmVsYXRpb25BZGRlZD17b25SZWxhdGlvbkFkZGVkfVxuXHRcdFx0b25TdWJtaXQ9e2FzeW5jIChmYWN0cywgcmVmKSA9PiB7XG5cdFx0XHRcdGlmIChmYWN0cy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0XHRhZGRFcnJvckFsZXJ0KHQoJ25vRmFjdHNUb1NhdmUnLCAnVGhlcmUgYXJlIG5vIGZhY3RzIHRvIHNhdmUgZnJvbSB0aGlzIGRvY3VtZW50LicpKTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRzZXRMb2FkaW5nKHRydWUpO1xuXG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0bGV0IHJlc3VsdHM6IERvY3VtZW50RWxlbWVudFVwZGF0ZVJlc3VsdHM7XG5cblx0XHRcdFx0XHRzd2l0Y2ggKHJlZi5jb250ZW50VHlwZSkge1xuXHRcdFx0XHRcdFx0Y2FzZSAnQU5DRVNUUllfRE9DVU1FTlQnOlxuXHRcdFx0XHRcdFx0Y2FzZSAnRkdWX0RPQ1VNRU5UJzpcblx0XHRcdFx0XHRcdGNhc2UgJ05FV1NQQVBFUlNfRE9DVU1FTlQnOlxuXHRcdFx0XHRcdFx0Y2FzZSAnQVJDSElWRVNfRE9DVU1FTlQnOlxuXHRcdFx0XHRcdFx0XHRyZXN1bHRzID0gYXdhaXQgbmV3IENvbnRlbnRBcGkoKS5pbXBvcnRGYWN0c0Zyb21FeHRlcm5hbERvY3VtZW50KGltcG9ydFRvLm9iamVjdElkLCByZWYuY29udGVudFR5cGUsIHJlZi5vYmplY3RJZCwgZmFjdHMpO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMgPSBhd2FpdCBpbXBvcnRGYWN0c0Zyb20oeyBpbXBvcnRUbywgaW1wb3J0RnJvbTogcmVmLCBuZXdGYWN0czogZmFjdHMgfSBhcyBJbXBvcnRGcm9tQm9keSk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFkZFN1Y2Nlc3NBbGVydCh0KCdmYWN0c0FkZGVkU3VjY2VzcycsICdZb3VyIGZhY3RzIGhhdmUgYmVlbiBzdWNjZXNzZnVsbHkgYWRkZWQgdG8gdGhlIHBhZ2UuJykpO1xuXHRcdFx0XHRcdHNldExvYWRpbmcoZmFsc2UpO1xuXHRcdFx0XHRcdGNsb3NlRGlhbG9nKCk7XG5cdFx0XHRcdFx0b25Eb25lPy4ocmVzdWx0cyk7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN3aXRjaCAoZS5yZXNwb25zZS5zdGF0dXMpIHtcblx0XHRcdFx0XHRcdGNhc2UgNDAzOlxuXHRcdFx0XHRcdFx0XHRhZGRFcnJvckFsZXJ0KHQoJ2ltcG9ydEZhY3RzRGlhbG9nLm5vSW1wcG9ydEFjY2VzcycsICdZb3UgZG8gbm90IGhhdmUgYWNjZXNzIHRvIGltcG9ydCBmcm9tIHRoaXMge3tjb250ZW50TGFiZWx9fS4nLCB7IGNvbnRlbnRMYWJlbDogZ2V0Q29udGVudFR5cGVMYWJlbChyZWYuY29udGVudFR5cGUpIH0pKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdFx0XHRhZGRFcnJvckFsZXJ0KHQoJ2NvbW1vbjpzb21ldGhpbmdXcm9uZycpKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNldExvYWRpbmcoZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9fVxuXHRcdFx0c3VnZ2VzdGVkTWV0YWRhdGE9e3N1Z2dlc3RlZE1ldGFkYXRhfVxuXHRcdC8+XG5cdDwvRGlhbG9nPjtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlQ29udGV4dCwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVRyYW5zbGF0aW9uIH0gZnJvbSAncmVhY3QtaTE4bmV4dCc7XG5pbXBvcnQgeyBDb25uZWN0aW9uc0FwaSB9IGZyb20gJy4uLy4uL2FwaXMvY29ubmVjdGlvbnNBcGknO1xuaW1wb3J0IHsgRjNCdXR0b24gfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0YzQnV0dG9uJztcbmltcG9ydCB7IEYzTGluayB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvRjNMaW5rJztcbmltcG9ydCB7IEJhc2VUaHVtYm5haWwsIFRodW1ibmFpbCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvVGh1bWJuYWlsJztcbmltcG9ydCB7IERlbnkgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2RlbnkvRGVueSc7XG5pbXBvcnQgeyBJbmRleFJlY29yZENvbnRlbnRDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9jb250ZW50Q29udGV4dCc7XG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuLi8uLi9lbnVtcy9ndG1FdmVudC5lbnVtJztcbmltcG9ydCB7IGdldFdyYXBwZWRDb250ZW50UmVmIH0gZnJvbSAnLi4vLi4vbGliL2NvbnRlbnQvY29udGVudE1ldGFkYXRhJztcbmltcG9ydCB7IHJlbW92ZVJlbGF0aW9uIH0gZnJvbSAnLi4vLi4vbGliL2NvbnRlbnQvY29udGVudFJlbGF0aW9ucyc7XG5pbXBvcnQgeyBjb250ZW50RXZlbnQgfSBmcm9tICcuLi8uLi9saWIvZ29vZ2xlQW5hbHl0aWNzRXZlbnRzJztcbmltcG9ydCB7IHVzZUFsZXJ0cyB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VBbGVydHMnO1xuaW1wb3J0IHsgdXNlQ29udGVudFBlcm1pc3Npb25zIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUNvbnRlbnRQZXJtaXNzaW9ucyc7XG5pbXBvcnQgeyB1c2VEaWFsb2dzIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURpYWxvZ3MnO1xuaW1wb3J0IHsgdXNlRG9tYWluIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZURvbWFpbic7XG5pbXBvcnQgeyB1c2VMb2NhbGVEYXRlIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUxvY2FsZURhdGVzJztcbmltcG9ydCB7IHVzZVRodW1ibmFpbCB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VUaHVtYm5haWwnO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VVc2VyJztcbmltcG9ydCB7IHVzZVZlcmlmeSB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VWZXJpZnknO1xuaW1wb3J0IHsgZ2V0VXNlcm5hbWVGb3JEb21haW4sIHNlcmlhbGl6ZURvbWFpbiB9IGZyb20gJy4uLy4uL2xpYi9sb2NhbGl6YXRpb24vZG9tYWluJztcbmltcG9ydCB7IGdldENvbnRlbnRPYmplY3RVcmwsIGdldENvbnRlbnRQYXRoLCBnZXRUaXRsZSB9IGZyb20gJy4uLy4uL2xpYi9zbHVnJztcbmltcG9ydCB7IGRhdGVTb3J0IH0gZnJvbSAnLi4vLi4vbGliL3NvcnRVdGlsJztcbmltcG9ydCB7IEltcG9ydEZhY3RzRGlhbG9nIH0gZnJvbSAnLi4vbWVtb3JpYWxzL2ZhY3RzL0ltcG9ydEZhY3RzRGlhbG9nJztcbmltcG9ydCB7IEluZGV4UmVjb3JkTWVtb3JpYWxDb25uZWN0aW9uRGlhbG9nIH0gZnJvbSAnLi9JbmRleFJlY29yZE1lbW9yaWFsQ29ubmVjdGlvbkRpYWxvZyc7XG5cbmludGVyZmFjZSBJbmRleFJlY29yZE1lbW9yaWFsc1RhYlByb3BzIHtcbn1cblxuZXhwb3J0IGNvbnN0IEluZGV4UmVjb3JkTWVtb3JpYWxzVGFiID0gKHsgfTogSW5kZXhSZWNvcmRNZW1vcmlhbHNUYWJQcm9wcykgPT4ge1xuXHRjb25zdCB7IGNvbnRlbnQsIGNvbXB1dGVkVmFsdWVzLCB1cGRhdGVSZWxhdGlvbnMsIHB1YmxpY2F0aW9uIH0gPSB1c2VDb250ZXh0KEluZGV4UmVjb3JkQ29udGVudENvbnRleHQpO1xuXHRjb25zdCB7IGdyb3VwZWRSZWxhdGlvbnMgfSA9IGNvbXB1dGVkVmFsdWVzO1xuXHRjb25zdCB7IFNUT1JZX1BBR0UgfSA9IGdyb3VwZWRSZWxhdGlvbnM7XG5cdGNvbnN0IHsgb3BlbkRpYWxvZywgY2xvc2VEaWFsb2cgfSA9IHVzZURpYWxvZ3MoKTtcblx0Y29uc3QgeyB1c2VyLCBpc0NvbmZpcm1lZCB9ID0gdXNlVXNlcigpO1xuXHRjb25zdCB7IHZlcmlmeSB9ID0gdXNlVmVyaWZ5KCk7XG5cdGNvbnN0IHsgYWRkU3VjY2Vzc0FsZXJ0LCBhZGRFcnJvckFsZXJ0IH0gPSB1c2VBbGVydHMoKTtcblx0Y29uc3QgeyBjaGVja0FjdGlvbiB9ID0gdXNlQ29udGVudFBlcm1pc3Npb25zKGNvbnRlbnQpO1xuXHRsZXQgeyBmM0RvbWFpbiB9ID0gdXNlRG9tYWluKCk7XG5cdGNvbnN0IHsgZ2V0VGh1bWJuYWlsIH0gPSB1c2VUaHVtYm5haWwoKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignaW5kZXgnKTtcblx0Y29uc3QgZ2V0TG9jYWxlRGF0ZSA9IHVzZUxvY2FsZURhdGUoKTtcblxuXHRjb25zdCBzb3J0ZWRNZW1vcmlhbHMgPSB1c2VNZW1vKCgpID0+IHtcblx0XHRyZXR1cm4gKFNUT1JZX1BBR0UgfHwgW10pXG5cdFx0XHQuc2xpY2UoKVxuXHRcdFx0LnNvcnQoKG1lbUEsIG1lbUIpID0+IGRhdGVTb3J0KG1lbUEubW9kaWZpZWQsIG1lbUIubW9kaWZpZWQpKTtcblx0fSwgW1NUT1JZX1BBR0VdKTtcblxuXHRyZXR1cm4gKFxuXHRcdDxkaXYgYXJpYS1sYWJlbGxlZGJ5PSd0YWItaW5mbycgY2xhc3NOYW1lPSdjb250YWluZXIteGwnIGlkPSdwYWdlcy10YWInPlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J3JvdyBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJz5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC0xMiBjb2wtbWQtMTAgY29sLXhsLTgnPlxuXHRcdFx0XHRcdDxoMiBjbGFzc05hbWU9J2Qtbm9uZSBkLXByaW50LWJsb2NrIHRleHQtY2VudGVyIGg0Jz57dCgnaW5kZXhNZW1vcmlhbC5hdHRhY2hlZE1lbW9yaWFsJywgJ01lbW9yaWFscyBhdHRhY2hlZCB0byBpbmRleCByZWNvcmQnKX08L2gyPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdpbnZpdGUtc3RvcnkgdGV4dC1jZW50ZXIgZC1wcmludC1ub25lJz5cblx0XHRcdFx0XHRcdDxGM0J1dHRvblxuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2J0biBidG4tc2Vjb25kYXJ5IGhpZGRlbi1wcmludCdcblx0XHRcdFx0XHRcdFx0ZGF0YS1jeT0nYWRkLXRvLW1lbW9yaWFsJ1xuXHRcdFx0XHRcdFx0XHRpZD0nYWRkLXRvLW1lbW9yaWFsLW1zZydcblx0XHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChjaGVja0FjdGlvbignQ09OVFJJQlVUSU9OX0NSRUFURScpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvcGVuRGlhbG9nKDxJbmRleFJlY29yZE1lbW9yaWFsQ29ubmVjdGlvbkRpYWxvZyAvPik7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHR7dCgnaW5kZXhNZW1vcmlhbC5hZGRUb01lbW9yaWFsJywgJ0FkZCB0aGlzIHJlY29yZCB0byBhIE1lbW9yaWFsJyl9XG5cdFx0XHRcdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdFx0XHRcdDwvZGl2PlxuXG5cdFx0XHRcdFx0e1NUT1JZX1BBR0U/Lmxlbmd0aCA+IDAgP1xuXHRcdFx0XHRcdFx0PGgyIGNsYXNzTmFtZT0naDUgdGV4dC11cHBlcmNhc2UgdGV4dC1jZW50ZXIgdGV4dC1zZWNvbmRhcnkgbXQtMyc+e3QoJ21lbW9yaWFsU291cmNpbmcnLCAnTWVtb3JpYWxzIHNvdXJjaW5nIHRoaXMgcmVjb3JkJyl9PC9oMj5cdFx0XHQgOlxuXHRcdFx0XHRcdFx0PHAgY2xhc3NOYW1lPSd0ZXh0LW11dGVkIHRleHQtY2VudGVyIG10LTQnPnt0KCdpbmRleE1lbW9yaWFsLm5vQXR0YWNoZWRNZW1vcmlhbHMnLCAnVGhlcmUgYXJlIG5vIGF0dGFjaGVkIG1lbW9yaWFscy4nKX08L3A+fVxuXHRcdFx0XHRcdHtzb3J0ZWRNZW1vcmlhbHM/Lm1hcChyZWxhdGlvbiA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCB7XG5cdFx0XHRcdFx0XHRcdHJlbGF0aW9uT3duZXI6IHsgdXNlcklkLCB1c2VybmFtZSB9LFxuXHRcdFx0XHRcdFx0XHRtb2RpZmllZCxcblx0XHRcdFx0XHRcdFx0cmVsYXRpb25JZCxcblx0XHRcdFx0XHRcdH0gPSByZWxhdGlvbjtcblxuXHRcdFx0XHRcdFx0Y29uc3QgbG9jYWxpemVkVXNlcm5hbWUgPSBnZXRVc2VybmFtZUZvckRvbWFpbih1c2VybmFtZSwgdXNlcklkLCBmM0RvbWFpbik7XG5cblx0XHRcdFx0XHRcdHJldHVybiAoXG5cdFx0XHRcdFx0XHRcdDxkaXZcblx0XHRcdFx0XHRcdFx0XHRrZXk9e3JlbGF0aW9uSWR9XG5cdFx0XHRcdFx0XHRcdFx0YXJpYS1sYWJlbGxlZGJ5PXtgbWVtb3JpYWxlZC0ke3JlbGF0aW9uSWR9YH1cblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2Nvbm5lY3RlZC1zdG9yeXBhZ2Ugcm93IHB5LTInXG5cdFx0XHRcdFx0XHRcdFx0cm9sZT0nZ3JvdXAnXG5cdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nc3RvcnlwYWdlLWF2YXRhciBjb2wtYXV0byBib3JkZXItdG9wIHB0LTMnPlxuXHRcdFx0XHRcdFx0XHRcdFx0PEJhc2VUaHVtYm5haWxcblx0XHRcdFx0XHRcdFx0XHRcdFx0YWx0PXt0KCdwcm9maWxlSW1hZ2UnLCAnUHJvZmlsZSBpbWFnZSBmb3Ige3t1c2VybmFtZX19JywgeyB1c2VybmFtZTogbG9jYWxpemVkVXNlcm5hbWUgfSl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0ncm91bmRlZC1jaXJjbGUgaW1nLXN6LTgwJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzcmM9e2dldFRodW1ibmFpbCh7IHBhdGg6ICd1c2VyaWNvbicsIHF1ZXJ5OiB7IGlkOiB1c2VySWQsIGRvbWFpbjogc2VyaWFsaXplRG9tYWluKGYzRG9tYWluKSwgd2lkdGg6IDgwLCBoZWlnaHQ6IDgwIH0gfSl9XG5cdFx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdzdG9yeXBhZ2UtY29udGVudCBjb2wgYm9yZGVyLXRvcCBwdC0zJz5cblx0XHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzTmFtZT0nbWItMCc+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxGM0xpbmsgaHJlZj17Z2V0Q29udGVudFBhdGgoJ1VTRVInLCB1c2VybmFtZSl9IHRhcmdldD0nX3NlbGYnPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtsb2NhbGl6ZWRVc2VybmFtZX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9GM0xpbms+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGFyaWEtaGlkZGVuPSd0cnVlJz4mbmJzcDsmbWlkZG90OyZuYnNwOzwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd0ZXh0LW11dGVkJz57Z2V0TG9jYWxlRGF0ZShtb2RpZmllZCl9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3NOYW1lPSdtYi0wJyBpZD17YG1lbW9yaWFsZWQtJHtyZWxhdGlvbklkfWB9PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7dCgnY29ubmVjdGVkVG8nLCAnQ29ubmVjdGVkIHRoaXMgcmVjb3JkIHRvJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxGM0xpbmtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J21zLTEnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aHJlZj17Z2V0Q29udGVudE9iamVjdFVybChyZWxhdGlvbikuZnVsbFBhdGh9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGFyZ2V0PSdfc2VsZidcblx0XHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtnZXRUaXRsZShyZWxhdGlvbil9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvRjNMaW5rPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9wPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3JvdyBhbGlnbi1pdGVtcy1jZW50ZXIgcm91bmRlZCBteS0yIGJnLWxpZ2h0IHB5LTMgZ3gtMic+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdzdG9yeXBhZ2UtdGlsZSBjb2wtYXV0byc+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PFRodW1ibmFpbFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdyb3VuZGVkJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y29udGVudE9iamVjdD17cmVsYXRpb259XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzaXplPXs4MH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbCBkLXByaW50LW5vbmUnPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxGM0xpbmtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbSBtYi0yIG1iLXNtLTAnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRocmVmPXtnZXRDb250ZW50T2JqZWN0VXJsKHJlbGF0aW9uKS5mdWxsUGF0aH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRhcmdldD0nX2JsYW5rJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt0KCdpbmRleE1lbW9yaWFscy52aWV3TWVtb3JpYWwnLCAnVmlldyBNZW1vcmlhbCcpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvRjNMaW5rPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt1c2VyPy51c2VySWQgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGIgY2xhc3NOYW1lPSd0ZXh0LW11dGVkJz4gLSB7dCgnb3InLCAnb3InKX0gLSA8L2I+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxGM0J1dHRvblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nbWItMiBtYi1zbS0wJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGd0bUV2ZW50PXtjb250ZW50RXZlbnQoY29udGVudCwgcHVibGljYXRpb24sIEFjdGlvbi5BREQpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghaXNDb25maXJtZWQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BlbkRpYWxvZyg8RGVueSBhY3Rpb249J0NPTlRSSUJVVElPTl9DUkVBVEUnIHJlcXVpcmVtZW50PSdjb25maXJtJyAvPik7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3BlbkRpYWxvZyg8SW1wb3J0RmFjdHNEaWFsb2dcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aW1wb3J0RnJvbT17Z2V0V3JhcHBlZENvbnRlbnRSZWYoY29udGVudCl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGltcG9ydFRvPXtyZWxhdGlvbi5pZH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b25Eb25lPXtjbG9zZURpYWxvZ31cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGl0bGU9e3QoJ2NvcHlGYWN0cycsICdDb3B5IEZhY3RzIHRvIE1lbW9yaWFsJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvPik7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvdXRsaW5lXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7dCgnY29weUZhY3RzTWVtb3JpYWwnLCAnQ29weSBGYWN0cyB0byBNZW1vcmlhbCcpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC8+IDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxwIGNsYXNzTmFtZT0nbWItMCc+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxGM0xpbmtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J21lLTEnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aHJlZj17YC9sb2dpbj9uZXh0PSR7Z2V0Q29udGVudFBhdGgoJ0lOREVYX1JFQ09SRCcsIGNvbnRlbnQubWV0YWRhdGEuaWQub2JqZWN0SWQpfS9tZW1vcmlhbHNgfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3QoJ3NpZ25JbicsICdTaWduIGluJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvRjNMaW5rPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7dCgnYWRkRWRpdEZhY3RzJywgJ3RvIGFkZCBvciBlZGl0IGZhY3RzIHRvIGEgTWVtb3JpYWwuJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3A+fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtYXV0byBib3JkZXItdG9wIHB0LTMgZC1wcmludC1ub25lJz5cblx0XHRcdFx0XHRcdFx0XHRcdHt1c2VyPy51c2VySWQgPT09IHVzZXJJZCAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nZGVsZXRlLWNvbm5lY3Rpb24gaWNvbi1mMyBhMi1pY29uLWRlbGV0ZSdcblx0XHRcdFx0XHRcdFx0XHRcdFx0b25DbGljaz17YXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChhd2FpdCB2ZXJpZnkodCgnZGVsZXRlQ29ubmVjdGlvbicsICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgY29ubmVjdGlvbj8nKSkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGF3YWl0IG5ldyBDb25uZWN0aW9uc0FwaSgpLmRlbGV0ZUNvbm5lY3Rpb25zKFtyZWxhdGlvbklkXSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVwZGF0ZVJlbGF0aW9ucyhyZWxhdGlvbnMgPT4gcmVtb3ZlUmVsYXRpb24ocmVsYXRpb25zLCByZWxhdGlvbklkKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFkZFN1Y2Nlc3NBbGVydCh0KCdkZWxldGVTdWNjZXNzJywgJ1RoZSBjb25uZWN0aW9uIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBkZWxldGVkLicpKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhZGRFcnJvckFsZXJ0KHQoJ2NvbW1vbjpzb21ldGhpbmdXcm9uZycpKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG91dGxpbmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2l6ZT0nc20nXG5cdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0nZC1ub25lIGQtbWQtaW5saW5lJz57dCgncmVtb3ZlJywgJ1JlbW92ZScpfTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHRcdDwvRjNCdXR0b24+fVxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fSl9XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdCk7XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgRjNMaW5rIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9GM0xpbmsnO1xuaW1wb3J0IHsgSW5kZXhSZWNvcmRDb250ZW50Q29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvY29udGVudENvbnRleHQnO1xuaW1wb3J0IHsgZ2V0Q29udGVudFRpdGxlIH0gZnJvbSAnLi4vLi4vbGliL2NvbnRlbnQvY29udGVudCc7XG5pbXBvcnQgeyBnZXRDb250ZW50UGF0aCwgZ2V0VGl0bGUgfSBmcm9tICcuLi8uLi9saWIvc2x1Zyc7XG5cblxuaW50ZXJmYWNlIEluZGV4UmVjb3JkVGl0bGVQcm9wcyB7XG5cbn1cblxuZXhwb3J0IGNvbnN0IEluZGV4UmVjb3JkVGl0bGUgPSAoe306IEluZGV4UmVjb3JkVGl0bGVQcm9wcykgPT4ge1xuXHRjb25zdCB7IGNvbnRlbnQsIHB1YmxpY2F0aW9uIH0gPSB1c2VDb250ZXh0KEluZGV4UmVjb3JkQ29udGVudENvbnRleHQpO1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdpbmRleCcpO1xuXG5cdHJldHVybiA8ZGl2IGNsYXNzTmFtZT0nYmctc2Vjb25kYXJ5IHRleHQtY2VudGVyIHAtMyBwLXNtLTQnIGlkPSdyZWNvcmQtcGFnZS10aXRsZSc+XG5cdFx0PHAgY2xhc3NOYW1lPSdpbnRybyB0ZXh0LWNlbnRlciBmdy01MDAgdGV4dC1saWdodCB0ZXh0LXVwcGVyY2FzZSc+e3QoJ2luZGV4UmVjb3JkJywgJ0luZGV4IHJlY29yZCBmb3InKX08L3A+XG5cdFx0PGgxIGNsYXNzTmFtZT0ndGV4dC13aGl0ZSBteS0yIG14LWF1dG8nIGl0ZW1Qcm9wPSdwZXJzb24nPntnZXRDb250ZW50VGl0bGUoY29udGVudCl9PC9oMT5cblx0XHQ8RjNMaW5rXG5cdFx0XHRocmVmPXtnZXRDb250ZW50UGF0aCgnUFVCTElDQVRJT04nLCBwdWJsaWNhdGlvbj8ucHVibGljYXRpb25JZCwgcHVibGljYXRpb24/LnNsdWcpfVxuXHRcdFx0aXRlbVByb3A9J2hpc3RvcmljYWxDb2xsZWN0aW9uJ1xuXHRcdFx0dGFyZ2V0PSdfc2VsZidcblx0XHQ+XG5cdFx0XHQ8aDIgY2xhc3NOYW1lPSdoNiB0ZXh0LXdoaXRlJz5cblx0XHRcdFx0e2dldFRpdGxlKHB1YmxpY2F0aW9uKX1cblx0XHRcdDwvaDI+XG5cdFx0PC9GM0xpbms+XG5cdDwvZGl2Pjtcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmZ1bmN0aW9uIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgLy8gQ2FsbCB0aGlzLmNvbnN0cnVjdG9yLmdEU0ZQIHRvIHN1cHBvcnQgc3ViLWNsYXNzZXMuXG4gIHZhciBzdGF0ZSA9IHRoaXMuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUpO1xuICBpZiAoc3RhdGUgIT09IG51bGwgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gIC8vIENhbGwgdGhpcy5jb25zdHJ1Y3Rvci5nRFNGUCB0byBzdXBwb3J0IHN1Yi1jbGFzc2VzLlxuICAvLyBVc2UgdGhlIHNldFN0YXRlKCkgdXBkYXRlciB0byBlbnN1cmUgc3RhdGUgaXNuJ3Qgc3RhbGUgaW4gY2VydGFpbiBlZGdlIGNhc2VzLlxuICBmdW5jdGlvbiB1cGRhdGVyKHByZXZTdGF0ZSkge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKTtcbiAgICByZXR1cm4gc3RhdGUgIT09IG51bGwgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCA/IHN0YXRlIDogbnVsbDtcbiAgfVxuICAvLyBCaW5kaW5nIFwidGhpc1wiIGlzIGltcG9ydGFudCBmb3Igc2hhbGxvdyByZW5kZXJlciBzdXBwb3J0LlxuICB0aGlzLnNldFN0YXRlKHVwZGF0ZXIuYmluZCh0aGlzKSk7XG59XG5cbmZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcHJldlByb3BzID0gdGhpcy5wcm9wcztcbiAgICB2YXIgcHJldlN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICB0aGlzLnByb3BzID0gbmV4dFByb3BzO1xuICAgIHRoaXMuc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgdGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEZsYWcgPSB0cnVlO1xuICAgIHRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3QgPSB0aGlzLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKFxuICAgICAgcHJldlByb3BzLFxuICAgICAgcHJldlN0YXRlXG4gICAgKTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0aGlzLnByb3BzID0gcHJldlByb3BzO1xuICAgIHRoaXMuc3RhdGUgPSBwcmV2U3RhdGU7XG4gIH1cbn1cblxuLy8gUmVhY3QgbWF5IHdhcm4gYWJvdXQgY1dNL2NXUlAvY1dVIG1ldGhvZHMgYmVpbmcgZGVwcmVjYXRlZC5cbi8vIEFkZCBhIGZsYWcgdG8gc3VwcHJlc3MgdGhlc2Ugd2FybmluZ3MgZm9yIHRoaXMgc3BlY2lhbCBjYXNlLlxuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgPSB0cnVlO1xuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nID0gdHJ1ZTtcbmNvbXBvbmVudFdpbGxVcGRhdGUuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyA9IHRydWU7XG5cbmZ1bmN0aW9uIHBvbHlmaWxsKENvbXBvbmVudCkge1xuICB2YXIgcHJvdG90eXBlID0gQ29tcG9uZW50LnByb3RvdHlwZTtcblxuICBpZiAoIXByb3RvdHlwZSB8fCAhcHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbiBvbmx5IHBvbHlmaWxsIGNsYXNzIGNvbXBvbmVudHMnKTtcbiAgfVxuXG4gIGlmIChcbiAgICB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAhPT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiBwcm90b3R5cGUuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgIT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgcmV0dXJuIENvbXBvbmVudDtcbiAgfVxuXG4gIC8vIElmIG5ldyBjb21wb25lbnQgQVBJcyBhcmUgZGVmaW5lZCwgXCJ1bnNhZmVcIiBsaWZlY3ljbGVzIHdvbid0IGJlIGNhbGxlZC5cbiAgLy8gRXJyb3IgaWYgYW55IG9mIHRoZXNlIGxpZmVjeWNsZXMgYXJlIHByZXNlbnQsXG4gIC8vIEJlY2F1c2UgdGhleSB3b3VsZCB3b3JrIGRpZmZlcmVudGx5IGJldHdlZW4gb2xkZXIgYW5kIG5ld2VyICgxNi4zKykgdmVyc2lvbnMgb2YgUmVhY3QuXG4gIHZhciBmb3VuZFdpbGxNb3VudE5hbWUgPSBudWxsO1xuICB2YXIgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSA9IG51bGw7XG4gIHZhciBmb3VuZFdpbGxVcGRhdGVOYW1lID0gbnVsbDtcbiAgaWYgKHR5cGVvZiBwcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm91bmRXaWxsTW91bnROYW1lID0gJ2NvbXBvbmVudFdpbGxNb3VudCc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm91bmRXaWxsTW91bnROYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsTW91bnQnO1xuICB9XG4gIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJztcbiAgfVxuICBpZiAodHlwZW9mIHByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9ICdjb21wb25lbnRXaWxsVXBkYXRlJztcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvdG90eXBlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9ICdVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSc7XG4gIH1cbiAgaWYgKFxuICAgIGZvdW5kV2lsbE1vdW50TmFtZSAhPT0gbnVsbCB8fFxuICAgIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgIT09IG51bGwgfHxcbiAgICBmb3VuZFdpbGxVcGRhdGVOYW1lICE9PSBudWxsXG4gICkge1xuICAgIHZhciBjb21wb25lbnROYW1lID0gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lO1xuICAgIHZhciBuZXdBcGlOYW1lID1cbiAgICAgIHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gJ2dldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpJ1xuICAgICAgICA6ICdnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpJztcblxuICAgIHRocm93IEVycm9yKFxuICAgICAgJ1Vuc2FmZSBsZWdhY3kgbGlmZWN5Y2xlcyB3aWxsIG5vdCBiZSBjYWxsZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgbmV3IGNvbXBvbmVudCBBUElzLlxcblxcbicgK1xuICAgICAgICBjb21wb25lbnROYW1lICtcbiAgICAgICAgJyB1c2VzICcgK1xuICAgICAgICBuZXdBcGlOYW1lICtcbiAgICAgICAgJyBidXQgYWxzbyBjb250YWlucyB0aGUgZm9sbG93aW5nIGxlZ2FjeSBsaWZlY3ljbGVzOicgK1xuICAgICAgICAoZm91bmRXaWxsTW91bnROYW1lICE9PSBudWxsID8gJ1xcbiAgJyArIGZvdW5kV2lsbE1vdW50TmFtZSA6ICcnKSArXG4gICAgICAgIChmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lICE9PSBudWxsXG4gICAgICAgICAgPyAnXFxuICAnICsgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZVxuICAgICAgICAgIDogJycpICtcbiAgICAgICAgKGZvdW5kV2lsbFVwZGF0ZU5hbWUgIT09IG51bGwgPyAnXFxuICAnICsgZm91bmRXaWxsVXBkYXRlTmFtZSA6ICcnKSArXG4gICAgICAgICdcXG5cXG5UaGUgYWJvdmUgbGlmZWN5Y2xlcyBzaG91bGQgYmUgcmVtb3ZlZC4gTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTpcXG4nICtcbiAgICAgICAgJ2h0dHBzOi8vZmIubWUvcmVhY3QtYXN5bmMtY29tcG9uZW50LWxpZmVjeWNsZS1ob29rcydcbiAgICApO1xuICB9XG5cbiAgLy8gUmVhY3QgPD0gMTYuMiBkb2VzIG5vdCBzdXBwb3J0IHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuXG4gIC8vIEFzIGEgd29ya2Fyb3VuZCwgdXNlIGNXTSBhbmQgY1dSUCB0byBpbnZva2UgdGhlIG5ldyBzdGF0aWMgbGlmZWN5Y2xlLlxuICAvLyBOZXdlciB2ZXJzaW9ucyBvZiBSZWFjdCB3aWxsIGlnbm9yZSB0aGVzZSBsaWZlY3ljbGVzIGlmIGdEU0ZQIGV4aXN0cy5cbiAgaWYgKHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxNb3VudCA9IGNvbXBvbmVudFdpbGxNb3VudDtcbiAgICBwcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM7XG4gIH1cblxuICAvLyBSZWFjdCA8PSAxNi4yIGRvZXMgbm90IHN1cHBvcnQgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUuXG4gIC8vIEFzIGEgd29ya2Fyb3VuZCwgdXNlIGNXVSB0byBpbnZva2UgdGhlIG5ldyBsaWZlY3ljbGUuXG4gIC8vIE5ld2VyIHZlcnNpb25zIG9mIFJlYWN0IHdpbGwgaWdub3JlIHRoYXQgbGlmZWN5Y2xlIGlmIGdTQlUgZXhpc3RzLlxuICBpZiAodHlwZW9mIHByb3RvdHlwZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQ2Fubm90IHBvbHlmaWxsIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgZm9yIGNvbXBvbmVudHMgdGhhdCBkbyBub3QgZGVmaW5lIGNvbXBvbmVudERpZFVwZGF0ZSgpIG9uIHRoZSBwcm90b3R5cGUnXG4gICAgICApO1xuICAgIH1cblxuICAgIHByb3RvdHlwZS5jb21wb25lbnRXaWxsVXBkYXRlID0gY29tcG9uZW50V2lsbFVwZGF0ZTtcblxuICAgIHZhciBjb21wb25lbnREaWRVcGRhdGUgPSBwcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlO1xuXG4gICAgcHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZVBvbHlmaWxsKFxuICAgICAgcHJldlByb3BzLFxuICAgICAgcHJldlN0YXRlLFxuICAgICAgbWF5YmVTbmFwc2hvdFxuICAgICkge1xuICAgICAgLy8gMTYuMysgd2lsbCBub3QgZXhlY3V0ZSBvdXIgd2lsbC11cGRhdGUgbWV0aG9kO1xuICAgICAgLy8gSXQgd2lsbCBwYXNzIGEgc25hcHNob3QgdmFsdWUgdG8gZGlkLXVwZGF0ZSB0aG91Z2guXG4gICAgICAvLyBPbGRlciB2ZXJzaW9ucyB3aWxsIHJlcXVpcmUgb3VyIHBvbHlmaWxsZWQgd2lsbC11cGRhdGUgdmFsdWUuXG4gICAgICAvLyBXZSBuZWVkIHRvIGhhbmRsZSBib3RoIGNhc2VzLCBidXQgY2FuJ3QganVzdCBjaGVjayBmb3IgdGhlIHByZXNlbmNlIG9mIFwibWF5YmVTbmFwc2hvdFwiLFxuICAgICAgLy8gQmVjYXVzZSBmb3IgPD0gMTUueCB2ZXJzaW9ucyB0aGlzIG1pZ2h0IGJlIGEgXCJwcmV2Q29udGV4dFwiIG9iamVjdC5cbiAgICAgIC8vIFdlIGFsc28gY2FuJ3QganVzdCBjaGVjayBcIl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90XCIsXG4gICAgICAvLyBCZWNhdXNlIGdldC1zbmFwc2hvdCBtaWdodCByZXR1cm4gYSBmYWxzeSB2YWx1ZS5cbiAgICAgIC8vIFNvIGNoZWNrIGZvciB0aGUgZXhwbGljaXQgX19yZWFjdEludGVybmFsU25hcHNob3RGbGFnIGZsYWcgdG8gZGV0ZXJtaW5lIGJlaGF2aW9yLlxuICAgICAgdmFyIHNuYXBzaG90ID0gdGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEZsYWdcbiAgICAgICAgPyB0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90XG4gICAgICAgIDogbWF5YmVTbmFwc2hvdDtcblxuICAgICAgY29tcG9uZW50RGlkVXBkYXRlLmNhbGwodGhpcywgcHJldlByb3BzLCBwcmV2U3RhdGUsIHNuYXBzaG90KTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIENvbXBvbmVudDtcbn1cblxuZXhwb3J0IHsgcG9seWZpbGwgfTtcbiIsIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjYWxjdWxhdGVTaXplQW5kUG9zaXRpb25EYXRhQW5kVXBkYXRlU2Nyb2xsT2Zmc2V0KF9yZWYpIHtcbiAgdmFyIGNlbGxDb3VudCA9IF9yZWYuY2VsbENvdW50LFxuICAgICAgY2VsbFNpemUgPSBfcmVmLmNlbGxTaXplLFxuICAgICAgY29tcHV0ZU1ldGFkYXRhQ2FsbGJhY2sgPSBfcmVmLmNvbXB1dGVNZXRhZGF0YUNhbGxiYWNrLFxuICAgICAgY29tcHV0ZU1ldGFkYXRhQ2FsbGJhY2tQcm9wcyA9IF9yZWYuY29tcHV0ZU1ldGFkYXRhQ2FsbGJhY2tQcm9wcyxcbiAgICAgIG5leHRDZWxsc0NvdW50ID0gX3JlZi5uZXh0Q2VsbHNDb3VudCxcbiAgICAgIG5leHRDZWxsU2l6ZSA9IF9yZWYubmV4dENlbGxTaXplLFxuICAgICAgbmV4dFNjcm9sbFRvSW5kZXggPSBfcmVmLm5leHRTY3JvbGxUb0luZGV4LFxuICAgICAgc2Nyb2xsVG9JbmRleCA9IF9yZWYuc2Nyb2xsVG9JbmRleCxcbiAgICAgIHVwZGF0ZVNjcm9sbE9mZnNldEZvclNjcm9sbFRvSW5kZXggPSBfcmVmLnVwZGF0ZVNjcm9sbE9mZnNldEZvclNjcm9sbFRvSW5kZXg7XG5cbiAgLy8gRG9uJ3QgY29tcGFyZSBjZWxsIHNpemVzIGlmIHRoZXkgYXJlIGZ1bmN0aW9ucyBiZWNhdXNlIGlubGluZSBmdW5jdGlvbnMgd291bGQgY2F1c2UgaW5maW5pdGUgbG9vcHMuXG4gIC8vIEluIHRoYXQgZXZlbnQgdXNlcnMgc2hvdWxkIHVzZSB0aGUgbWFudWFsIHJlY29tcHV0ZSBtZXRob2RzIHRvIGluZm9ybSBvZiBjaGFuZ2VzLlxuICBpZiAoY2VsbENvdW50ICE9PSBuZXh0Q2VsbHNDb3VudCB8fCAodHlwZW9mIGNlbGxTaXplID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgbmV4dENlbGxTaXplID09PSAnbnVtYmVyJykgJiYgY2VsbFNpemUgIT09IG5leHRDZWxsU2l6ZSkge1xuICAgIGNvbXB1dGVNZXRhZGF0YUNhbGxiYWNrKGNvbXB1dGVNZXRhZGF0YUNhbGxiYWNrUHJvcHMpO1xuXG4gICAgLy8gVXBkYXRlZCBjZWxsIG1ldGFkYXRhIG1heSBoYXZlIGhpZGRlbiB0aGUgcHJldmlvdXMgc2Nyb2xsZWQtdG8gaXRlbS5cbiAgICAvLyBJbiB0aGlzIGNhc2Ugd2Ugc2hvdWxkIGFsc28gdXBkYXRlIHRoZSBzY3JvbGxUb3AgdG8gZW5zdXJlIGl0IHN0YXlzIHZpc2libGUuXG4gICAgaWYgKHNjcm9sbFRvSW5kZXggPj0gMCAmJiBzY3JvbGxUb0luZGV4ID09PSBuZXh0U2Nyb2xsVG9JbmRleCkge1xuICAgICAgdXBkYXRlU2Nyb2xsT2Zmc2V0Rm9yU2Nyb2xsVG9JbmRleCgpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEhlbHBlciBtZXRob2QgdGhhdCBkZXRlcm1pbmVzIHdoZW4gdG8gcmVjYWxjdWxhdGUgcm93IG9yIGNvbHVtbiBtZXRhZGF0YS5cbiAqLyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBTY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIgZnJvbSAnLi91dGlscy9TY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXInO1xuXG52YXIgYnBmcnB0X3Byb3B0eXBlX0NlbGxQb3NpdGlvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBjb2x1bW5JbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICByb3dJbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59O1xudmFyIGJwZnJwdF9wcm9wdHlwZV9DZWxsUmVuZGVyZXJQYXJhbXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgY29sdW1uSW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgaXNTY3JvbGxpbmc6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIGlzVmlzaWJsZTogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAga2V5OiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHBhcmVudDogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICByb3dJbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG59O1xudmFyIGJwZnJwdF9wcm9wdHlwZV9DZWxsUmVuZGVyZXIgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IFByb3BUeXBlcy5mdW5jO1xudmFyIGJwZnJwdF9wcm9wdHlwZV9DZWxsQ2FjaGUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IFByb3BUeXBlcy5vYmplY3RPZihQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkKTtcbnZhciBicGZycHRfcHJvcHR5cGVfU3R5bGVDYWNoZSA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDogUHJvcFR5cGVzLm9iamVjdE9mKFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCk7XG52YXIgYnBmcnB0X3Byb3B0eXBlX0NlbGxSYW5nZVJlbmRlcmVyUGFyYW1zID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIGNlbGxDYWNoZTogUHJvcFR5cGVzLm9iamVjdE9mKFByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWQpLmlzUmVxdWlyZWQsXG4gIGNlbGxSZW5kZXJlcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcjogZnVuY3Rpb24gY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcigpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBTY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIgPT09ICdmdW5jdGlvbicgPyBQcm9wVHlwZXMuaW5zdGFuY2VPZihTY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIpLmlzUmVxdWlyZWQgOiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIGNvbHVtblN0YXJ0SW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgY29sdW1uU3RvcEluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIGRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgaG9yaXpvbnRhbE9mZnNldEFkanVzdG1lbnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgaXNTY3JvbGxpbmc6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIGlzU2Nyb2xsaW5nT3B0T3V0OiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBwYXJlbnQ6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgcm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlcjogZnVuY3Rpb24gcm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlcigpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBTY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIgPT09ICdmdW5jdGlvbicgPyBQcm9wVHlwZXMuaW5zdGFuY2VPZihTY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIpLmlzUmVxdWlyZWQgOiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIHJvd1N0YXJ0SW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgcm93U3RvcEluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIHNjcm9sbExlZnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgc2Nyb2xsVG9wOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIHN0eWxlQ2FjaGU6IFByb3BUeXBlcy5vYmplY3RPZihQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQpLmlzUmVxdWlyZWQsXG4gIHZlcnRpY2FsT2Zmc2V0QWRqdXN0bWVudDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICB2aXNpYmxlQ29sdW1uSW5kaWNlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICB2aXNpYmxlUm93SW5kaWNlczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG59O1xudmFyIGJwZnJwdF9wcm9wdHlwZV9DZWxsUmFuZ2VSZW5kZXJlciA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDogUHJvcFR5cGVzLmZ1bmM7XG52YXIgYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplR2V0dGVyID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiBQcm9wVHlwZXMuZnVuYztcbnZhciBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemUgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMubnVtYmVyXSk7XG52YXIgYnBmcnB0X3Byb3B0eXBlX05vQ29udGVudFJlbmRlcmVyID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiBQcm9wVHlwZXMuZnVuYztcbnZhciBicGZycHRfcHJvcHR5cGVfU2Nyb2xsID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIGNsaWVudEhlaWdodDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBjbGllbnRXaWR0aDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBzY3JvbGxIZWlnaHQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgc2Nyb2xsTGVmdDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBzY3JvbGxUb3A6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgc2Nyb2xsV2lkdGg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcbnZhciBicGZycHRfcHJvcHR5cGVfU2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2UgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgaG9yaXpvbnRhbDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgdmVydGljYWw6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIHNpemU6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcbnZhciBicGZycHRfcHJvcHR5cGVfUmVuZGVyZWRTZWN0aW9uID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIGNvbHVtbk92ZXJzY2FuU3RhcnRJbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBjb2x1bW5PdmVyc2NhblN0b3BJbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBjb2x1bW5TdGFydEluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIGNvbHVtblN0b3BJbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICByb3dPdmVyc2NhblN0YXJ0SW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgcm93T3ZlcnNjYW5TdG9wSW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgcm93U3RhcnRJbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICByb3dTdG9wSW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcbnZhciBicGZycHRfcHJvcHR5cGVfT3ZlcnNjYW5JbmRpY2VzR2V0dGVyUGFyYW1zID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIC8vIE9uZSBvZiBTQ1JPTExfRElSRUNUSU9OX0hPUklaT05UQUwgb3IgU0NST0xMX0RJUkVDVElPTl9WRVJUSUNBTFxuICBkaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZihbJ2hvcml6b250YWwnLCAndmVydGljYWwnXSkuaXNSZXF1aXJlZCxcblxuXG4gIC8vIE9uZSBvZiBTQ1JPTExfRElSRUNUSU9OX0JBQ0tXQVJEIG9yIFNDUk9MTF9ESVJFQ1RJT05fRk9SV0FSRFxuICBzY3JvbGxEaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZihbLTEsIDFdKS5pc1JlcXVpcmVkLFxuXG5cbiAgLy8gTnVtYmVyIG9mIHJvd3Mgb3IgY29sdW1ucyBpbiB0aGUgY3VycmVudCBheGlzXG4gIGNlbGxDb3VudDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG5cbiAgLy8gTWF4aW11bSBudW1iZXIgb2YgY2VsbHMgdG8gb3Zlci1yZW5kZXIgaW4gZWl0aGVyIGRpcmVjdGlvblxuICBvdmVyc2NhbkNlbGxzQ291bnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuXG4gIC8vIEJlZ2luIG9mIHJhbmdlIG9mIHZpc2libGUgY2VsbHNcbiAgc3RhcnRJbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG5cbiAgLy8gRW5kIG9mIHJhbmdlIG9mIHZpc2libGUgY2VsbHNcbiAgc3RvcEluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn07XG52YXIgYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBvdmVyc2NhblN0YXJ0SW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgb3ZlcnNjYW5TdG9wSW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcbnZhciBicGZycHRfcHJvcHR5cGVfT3ZlcnNjYW5JbmRpY2VzR2V0dGVyID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiBQcm9wVHlwZXMuZnVuYztcbnZhciBicGZycHRfcHJvcHR5cGVfQWxpZ25tZW50ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiBQcm9wVHlwZXMub25lT2YoWydhdXRvJywgJ2VuZCcsICdzdGFydCcsICdjZW50ZXInXSk7XG52YXIgYnBmcnB0X3Byb3B0eXBlX1Zpc2libGVDZWxsUmFuZ2UgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgc3RhcnQ6IFByb3BUeXBlcy5udW1iZXIsXG4gIHN0b3A6IFByb3BUeXBlcy5udW1iZXJcbn07XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxQb3NpdGlvbiB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxSZW5kZXJlclBhcmFtcyB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxSZW5kZXJlciB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxDYWNoZSB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1N0eWxlQ2FjaGUgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsUmFuZ2VSZW5kZXJlclBhcmFtcyB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxSYW5nZVJlbmRlcmVyIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemVHZXR0ZXIgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX05vQ29udGVudFJlbmRlcmVyIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfU2Nyb2xsIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfU2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2UgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9SZW5kZXJlZFNlY3Rpb24gfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXNHZXR0ZXJQYXJhbXMgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXMgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXNHZXR0ZXIgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9BbGlnbm1lbnQgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9WaXNpYmxlQ2VsbFJhbmdlIH07IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuXG4vKipcbiAqIEp1c3QtaW4tdGltZSBjYWxjdWxhdGVzIGFuZCBjYWNoZXMgc2l6ZSBhbmQgcG9zaXRpb24gaW5mb3JtYXRpb24gZm9yIGEgY29sbGVjdGlvbiBvZiBjZWxscy5cbiAqL1xuXG52YXIgQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgLy8gVXNlZCBpbiBkZWZlcnJlZCBtb2RlIHRvIHRyYWNrIHdoaWNoIGNlbGxzIGhhdmUgYmVlbiBxdWV1ZWQgZm9yIG1lYXN1cmVtZW50LlxuXG4gIC8vIENhY2hlIG9mIHNpemUgYW5kIHBvc2l0aW9uIGRhdGEgZm9yIGNlbGxzLCBtYXBwZWQgYnkgY2VsbCBpbmRleC5cbiAgLy8gTm90ZSB0aGF0IGludmFsaWQgdmFsdWVzIG1heSBleGlzdCBpbiB0aGlzIG1hcCBzbyBvbmx5IHJlbHkgb24gY2VsbHMgdXAgdG8gdGhpcy5fbGFzdE1lYXN1cmVkSW5kZXhcbiAgZnVuY3Rpb24gQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIoX3JlZikge1xuICAgIHZhciBjZWxsQ291bnQgPSBfcmVmLmNlbGxDb3VudCxcbiAgICAgICAgY2VsbFNpemVHZXR0ZXIgPSBfcmVmLmNlbGxTaXplR2V0dGVyLFxuICAgICAgICBlc3RpbWF0ZWRDZWxsU2l6ZSA9IF9yZWYuZXN0aW1hdGVkQ2VsbFNpemU7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIpO1xuXG4gICAgdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbkRhdGEgPSB7fTtcbiAgICB0aGlzLl9sYXN0TWVhc3VyZWRJbmRleCA9IC0xO1xuICAgIHRoaXMuX2xhc3RCYXRjaGVkSW5kZXggPSAtMTtcblxuICAgIHRoaXMuX2NlbGxTaXplR2V0dGVyID0gY2VsbFNpemVHZXR0ZXI7XG4gICAgdGhpcy5fY2VsbENvdW50ID0gY2VsbENvdW50O1xuICAgIHRoaXMuX2VzdGltYXRlZENlbGxTaXplID0gZXN0aW1hdGVkQ2VsbFNpemU7XG4gIH1cblxuICAvLyBNZWFzdXJlbWVudHMgZm9yIGNlbGxzIHVwIHRvIHRoaXMgaW5kZXggY2FuIGJlIHRydXN0ZWQ7IGNlbGxzIGFmdGVyd2FyZCBzaG91bGQgYmUgZXN0aW1hdGVkLlxuXG5cbiAgX2NyZWF0ZUNsYXNzKENlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLCBbe1xuICAgIGtleTogJ2FyZU9mZnNldHNBZGp1c3RlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFyZU9mZnNldHNBZGp1c3RlZCgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb25maWd1cmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb25maWd1cmUoX3JlZjIpIHtcbiAgICAgIHZhciBjZWxsQ291bnQgPSBfcmVmMi5jZWxsQ291bnQsXG4gICAgICAgICAgZXN0aW1hdGVkQ2VsbFNpemUgPSBfcmVmMi5lc3RpbWF0ZWRDZWxsU2l6ZSxcbiAgICAgICAgICBjZWxsU2l6ZUdldHRlciA9IF9yZWYyLmNlbGxTaXplR2V0dGVyO1xuXG4gICAgICB0aGlzLl9jZWxsQ291bnQgPSBjZWxsQ291bnQ7XG4gICAgICB0aGlzLl9lc3RpbWF0ZWRDZWxsU2l6ZSA9IGVzdGltYXRlZENlbGxTaXplO1xuICAgICAgdGhpcy5fY2VsbFNpemVHZXR0ZXIgPSBjZWxsU2l6ZUdldHRlcjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRDZWxsQ291bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDZWxsQ291bnQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2VsbENvdW50O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEVzdGltYXRlZENlbGxTaXplJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RXN0aW1hdGVkQ2VsbFNpemUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZXN0aW1hdGVkQ2VsbFNpemU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TGFzdE1lYXN1cmVkSW5kZXgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMYXN0TWVhc3VyZWRJbmRleCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9sYXN0TWVhc3VyZWRJbmRleDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRPZmZzZXRBZGp1c3RtZW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T2Zmc2V0QWRqdXN0bWVudCgpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIHNpemUgYW5kIHBvc2l0aW9uIGZvciB0aGUgY2VsbCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LlxuICAgICAqIEl0IGp1c3QtaW4tdGltZSBjYWxjdWxhdGVzIChvciB1c2VkIGNhY2hlZCB2YWx1ZXMpIGZvciBjZWxscyBsZWFkaW5nIHVwIHRvIHRoZSBpbmRleC5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZDZWxsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZDZWxsKGluZGV4KSB7XG4gICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuX2NlbGxDb3VudCkge1xuICAgICAgICB0aHJvdyBFcnJvcignUmVxdWVzdGVkIGluZGV4ICcgKyBpbmRleCArICcgaXMgb3V0c2lkZSBvZiByYW5nZSAwLi4nICsgdGhpcy5fY2VsbENvdW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGluZGV4ID4gdGhpcy5fbGFzdE1lYXN1cmVkSW5kZXgpIHtcbiAgICAgICAgdmFyIGxhc3RNZWFzdXJlZENlbGxTaXplQW5kUG9zaXRpb24gPSB0aGlzLmdldFNpemVBbmRQb3NpdGlvbk9mTGFzdE1lYXN1cmVkQ2VsbCgpO1xuICAgICAgICB2YXIgX29mZnNldCA9IGxhc3RNZWFzdXJlZENlbGxTaXplQW5kUG9zaXRpb24ub2Zmc2V0ICsgbGFzdE1lYXN1cmVkQ2VsbFNpemVBbmRQb3NpdGlvbi5zaXplO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSB0aGlzLl9sYXN0TWVhc3VyZWRJbmRleCArIDE7IGkgPD0gaW5kZXg7IGkrKykge1xuICAgICAgICAgIHZhciBfc2l6ZSA9IHRoaXMuX2NlbGxTaXplR2V0dGVyKHsgaW5kZXg6IGkgfSk7XG5cbiAgICAgICAgICAvLyB1bmRlZmluZWQgb3IgTmFOIHByb2JhYmx5IG1lYW5zIGEgbG9naWMgZXJyb3IgaW4gdGhlIHNpemUgZ2V0dGVyLlxuICAgICAgICAgIC8vIG51bGwgbWVhbnMgd2UncmUgdXNpbmcgQ2VsbE1lYXN1cmVyIGFuZCBoYXZlbid0IHlldCBtZWFzdXJlZCBhIGdpdmVuIGluZGV4LlxuICAgICAgICAgIGlmIChfc2l6ZSA9PT0gdW5kZWZpbmVkIHx8IGlzTmFOKF9zaXplKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0ludmFsaWQgc2l6ZSByZXR1cm5lZCBmb3IgY2VsbCAnICsgaSArICcgb2YgdmFsdWUgJyArIF9zaXplKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKF9zaXplID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9jZWxsU2l6ZUFuZFBvc2l0aW9uRGF0YVtpXSA9IHtcbiAgICAgICAgICAgICAgb2Zmc2V0OiBfb2Zmc2V0LFxuICAgICAgICAgICAgICBzaXplOiAwXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLl9sYXN0QmF0Y2hlZEluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25EYXRhW2ldID0ge1xuICAgICAgICAgICAgICBvZmZzZXQ6IF9vZmZzZXQsXG4gICAgICAgICAgICAgIHNpemU6IF9zaXplXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBfb2Zmc2V0ICs9IF9zaXplO1xuXG4gICAgICAgICAgICB0aGlzLl9sYXN0TWVhc3VyZWRJbmRleCA9IGluZGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbkRhdGFbaW5kZXhdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFNpemVBbmRQb3NpdGlvbk9mTGFzdE1lYXN1cmVkQ2VsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNpemVBbmRQb3NpdGlvbk9mTGFzdE1lYXN1cmVkQ2VsbCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9sYXN0TWVhc3VyZWRJbmRleCA+PSAwID8gdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbkRhdGFbdGhpcy5fbGFzdE1lYXN1cmVkSW5kZXhdIDoge1xuICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgIHNpemU6IDBcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG90YWwgc2l6ZSBvZiBhbGwgY2VsbHMgYmVpbmcgbWVhc3VyZWQuXG4gICAgICogVGhpcyB2YWx1ZSB3aWxsIGJlIGNvbXBsZXRlbHkgZXN0aW1hdGVkIGluaXRpYWxseS5cbiAgICAgKiBBcyBjZWxscyBhcmUgbWVhc3VyZWQsIHRoZSBlc3RpbWF0ZSB3aWxsIGJlIHVwZGF0ZWQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFRvdGFsU2l6ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRvdGFsU2l6ZSgpIHtcbiAgICAgIHZhciBsYXN0TWVhc3VyZWRDZWxsU2l6ZUFuZFBvc2l0aW9uID0gdGhpcy5nZXRTaXplQW5kUG9zaXRpb25PZkxhc3RNZWFzdXJlZENlbGwoKTtcbiAgICAgIHZhciB0b3RhbFNpemVPZk1lYXN1cmVkQ2VsbHMgPSBsYXN0TWVhc3VyZWRDZWxsU2l6ZUFuZFBvc2l0aW9uLm9mZnNldCArIGxhc3RNZWFzdXJlZENlbGxTaXplQW5kUG9zaXRpb24uc2l6ZTtcbiAgICAgIHZhciBudW1Vbm1lYXN1cmVkQ2VsbHMgPSB0aGlzLl9jZWxsQ291bnQgLSB0aGlzLl9sYXN0TWVhc3VyZWRJbmRleCAtIDE7XG4gICAgICB2YXIgdG90YWxTaXplT2ZVbm1lYXN1cmVkQ2VsbHMgPSBudW1Vbm1lYXN1cmVkQ2VsbHMgKiB0aGlzLl9lc3RpbWF0ZWRDZWxsU2l6ZTtcbiAgICAgIHJldHVybiB0b3RhbFNpemVPZk1lYXN1cmVkQ2VsbHMgKyB0b3RhbFNpemVPZlVubWVhc3VyZWRDZWxscztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGEgbmV3IG9mZnNldCB0aGF0IGVuc3VyZXMgYSBjZXJ0YWluIGNlbGwgaXMgdmlzaWJsZSwgZ2l2ZW4gdGhlIGN1cnJlbnQgb2Zmc2V0LlxuICAgICAqIElmIHRoZSBjZWxsIGlzIGFscmVhZHkgdmlzaWJsZSB0aGVuIHRoZSBjdXJyZW50IG9mZnNldCB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqIElmIHRoZSBjdXJyZW50IG9mZnNldCBpcyB0b28gZ3JlYXQgb3Igc21hbGwsIGl0IHdpbGwgYmUgYWRqdXN0ZWQganVzdCBlbm91Z2ggdG8gZW5zdXJlIHRoZSBzcGVjaWZpZWQgaW5kZXggaXMgdmlzaWJsZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbGlnbiBEZXNpcmVkIGFsaWdubWVudCB3aXRoaW4gY29udGFpbmVyOyBvbmUgb2YgXCJhdXRvXCIgKGRlZmF1bHQpLCBcInN0YXJ0XCIsIG9yIFwiZW5kXCJcbiAgICAgKiBAcGFyYW0gY29udGFpbmVyU2l6ZSBTaXplICh3aWR0aCBvciBoZWlnaHQpIG9mIHRoZSBjb250YWluZXIgdmlld3BvcnRcbiAgICAgKiBAcGFyYW0gY3VycmVudE9mZnNldCBDb250YWluZXIncyBjdXJyZW50ICh4IG9yIHkpIG9mZnNldFxuICAgICAqIEBwYXJhbSB0b3RhbFNpemUgVG90YWwgc2l6ZSAod2lkdGggb3IgaGVpZ2h0KSBvZiBhbGwgY2VsbHNcbiAgICAgKiBAcmV0dXJuIE9mZnNldCB0byB1c2UgdG8gZW5zdXJlIHRoZSBzcGVjaWZpZWQgY2VsbCBpcyB2aXNpYmxlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFVwZGF0ZWRPZmZzZXRGb3JJbmRleCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFVwZGF0ZWRPZmZzZXRGb3JJbmRleChfcmVmMykge1xuICAgICAgdmFyIF9yZWYzJGFsaWduID0gX3JlZjMuYWxpZ24sXG4gICAgICAgICAgYWxpZ24gPSBfcmVmMyRhbGlnbiA9PT0gdW5kZWZpbmVkID8gJ2F1dG8nIDogX3JlZjMkYWxpZ24sXG4gICAgICAgICAgY29udGFpbmVyU2l6ZSA9IF9yZWYzLmNvbnRhaW5lclNpemUsXG4gICAgICAgICAgY3VycmVudE9mZnNldCA9IF9yZWYzLmN1cnJlbnRPZmZzZXQsXG4gICAgICAgICAgdGFyZ2V0SW5kZXggPSBfcmVmMy50YXJnZXRJbmRleDtcblxuICAgICAgaWYgKGNvbnRhaW5lclNpemUgPD0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgdmFyIGRhdHVtID0gdGhpcy5nZXRTaXplQW5kUG9zaXRpb25PZkNlbGwodGFyZ2V0SW5kZXgpO1xuICAgICAgdmFyIG1heE9mZnNldCA9IGRhdHVtLm9mZnNldDtcbiAgICAgIHZhciBtaW5PZmZzZXQgPSBtYXhPZmZzZXQgLSBjb250YWluZXJTaXplICsgZGF0dW0uc2l6ZTtcblxuICAgICAgdmFyIGlkZWFsT2Zmc2V0ID0gdm9pZCAwO1xuXG4gICAgICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgICBpZGVhbE9mZnNldCA9IG1heE9mZnNldDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZW5kJzpcbiAgICAgICAgICBpZGVhbE9mZnNldCA9IG1pbk9mZnNldDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICBpZGVhbE9mZnNldCA9IG1heE9mZnNldCAtIChjb250YWluZXJTaXplIC0gZGF0dW0uc2l6ZSkgLyAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlkZWFsT2Zmc2V0ID0gTWF0aC5tYXgobWluT2Zmc2V0LCBNYXRoLm1pbihtYXhPZmZzZXQsIGN1cnJlbnRPZmZzZXQpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgdmFyIHRvdGFsU2l6ZSA9IHRoaXMuZ2V0VG90YWxTaXplKCk7XG5cbiAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbih0b3RhbFNpemUgLSBjb250YWluZXJTaXplLCBpZGVhbE9mZnNldCkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFZpc2libGVDZWxsUmFuZ2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaXNpYmxlQ2VsbFJhbmdlKHBhcmFtcykge1xuICAgICAgdmFyIGNvbnRhaW5lclNpemUgPSBwYXJhbXMuY29udGFpbmVyU2l6ZSxcbiAgICAgICAgICBvZmZzZXQgPSBwYXJhbXMub2Zmc2V0O1xuXG5cbiAgICAgIHZhciB0b3RhbFNpemUgPSB0aGlzLmdldFRvdGFsU2l6ZSgpO1xuXG4gICAgICBpZiAodG90YWxTaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1heE9mZnNldCA9IG9mZnNldCArIGNvbnRhaW5lclNpemU7XG4gICAgICB2YXIgc3RhcnQgPSB0aGlzLl9maW5kTmVhcmVzdENlbGwob2Zmc2V0KTtcblxuICAgICAgdmFyIGRhdHVtID0gdGhpcy5nZXRTaXplQW5kUG9zaXRpb25PZkNlbGwoc3RhcnQpO1xuICAgICAgb2Zmc2V0ID0gZGF0dW0ub2Zmc2V0ICsgZGF0dW0uc2l6ZTtcblxuICAgICAgdmFyIHN0b3AgPSBzdGFydDtcblxuICAgICAgd2hpbGUgKG9mZnNldCA8IG1heE9mZnNldCAmJiBzdG9wIDwgdGhpcy5fY2VsbENvdW50IC0gMSkge1xuICAgICAgICBzdG9wKys7XG5cbiAgICAgICAgb2Zmc2V0ICs9IHRoaXMuZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZDZWxsKHN0b3ApLnNpemU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgc3RvcDogc3RvcFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBhbGwgY2FjaGVkIHZhbHVlcyBmb3IgY2VsbHMgYWZ0ZXIgdGhlIHNwZWNpZmllZCBpbmRleC5cbiAgICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGZvciBhbnkgY2VsbCB0aGF0IGhhcyBjaGFuZ2VkIGl0cyBzaXplLlxuICAgICAqIEl0IHdpbGwgbm90IGltbWVkaWF0ZWx5IHBlcmZvcm0gYW55IGNhbGN1bGF0aW9uczsgdGhleSdsbCBiZSBwZXJmb3JtZWQgdGhlIG5leHQgdGltZSBnZXRTaXplQW5kUG9zaXRpb25PZkNlbGwoKSBpcyBjYWxsZWQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3Jlc2V0Q2VsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0Q2VsbChpbmRleCkge1xuICAgICAgdGhpcy5fbGFzdE1lYXN1cmVkSW5kZXggPSBNYXRoLm1pbih0aGlzLl9sYXN0TWVhc3VyZWRJbmRleCwgaW5kZXggLSAxKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfYmluYXJ5U2VhcmNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2JpbmFyeVNlYXJjaChoaWdoLCBsb3csIG9mZnNldCkge1xuICAgICAgd2hpbGUgKGxvdyA8PSBoaWdoKSB7XG4gICAgICAgIHZhciBtaWRkbGUgPSBsb3cgKyBNYXRoLmZsb29yKChoaWdoIC0gbG93KSAvIDIpO1xuICAgICAgICB2YXIgX2N1cnJlbnRPZmZzZXQgPSB0aGlzLmdldFNpemVBbmRQb3NpdGlvbk9mQ2VsbChtaWRkbGUpLm9mZnNldDtcblxuICAgICAgICBpZiAoX2N1cnJlbnRPZmZzZXQgPT09IG9mZnNldCkge1xuICAgICAgICAgIHJldHVybiBtaWRkbGU7XG4gICAgICAgIH0gZWxzZSBpZiAoX2N1cnJlbnRPZmZzZXQgPCBvZmZzZXQpIHtcbiAgICAgICAgICBsb3cgPSBtaWRkbGUgKyAxO1xuICAgICAgICB9IGVsc2UgaWYgKF9jdXJyZW50T2Zmc2V0ID4gb2Zmc2V0KSB7XG4gICAgICAgICAgaGlnaCA9IG1pZGRsZSAtIDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGxvdyA+IDApIHtcbiAgICAgICAgcmV0dXJuIGxvdyAtIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfZXhwb25lbnRpYWxTZWFyY2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZXhwb25lbnRpYWxTZWFyY2goaW5kZXgsIG9mZnNldCkge1xuICAgICAgdmFyIGludGVydmFsID0gMTtcblxuICAgICAgd2hpbGUgKGluZGV4IDwgdGhpcy5fY2VsbENvdW50ICYmIHRoaXMuZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZDZWxsKGluZGV4KS5vZmZzZXQgPCBvZmZzZXQpIHtcbiAgICAgICAgaW5kZXggKz0gaW50ZXJ2YWw7XG4gICAgICAgIGludGVydmFsICo9IDI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9iaW5hcnlTZWFyY2goTWF0aC5taW4oaW5kZXgsIHRoaXMuX2NlbGxDb3VudCAtIDEpLCBNYXRoLmZsb29yKGluZGV4IC8gMiksIG9mZnNldCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VhcmNoZXMgZm9yIHRoZSBjZWxsIChpbmRleCkgbmVhcmVzdCB0aGUgc3BlY2lmaWVkIG9mZnNldC5cbiAgICAgKlxuICAgICAqIElmIG5vIGV4YWN0IG1hdGNoIGlzIGZvdW5kIHRoZSBuZXh0IGxvd2VzdCBjZWxsIGluZGV4IHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICogVGhpcyBhbGxvd3MgcGFydGlhbGx5IHZpc2libGUgY2VsbHMgKHdpdGggb2Zmc2V0cyBqdXN0IGJlZm9yZS9hYm92ZSB0aGUgZm9sZCkgdG8gYmUgdmlzaWJsZS5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2ZpbmROZWFyZXN0Q2VsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9maW5kTmVhcmVzdENlbGwob2Zmc2V0KSB7XG4gICAgICBpZiAoaXNOYU4ob2Zmc2V0KSkge1xuICAgICAgICB0aHJvdyBFcnJvcignSW52YWxpZCBvZmZzZXQgJyArIG9mZnNldCArICcgc3BlY2lmaWVkJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIE91ciBzZWFyY2ggYWxnb3JpdGhtcyBmaW5kIHRoZSBuZWFyZXN0IG1hdGNoIGF0IG9yIGJlbG93IHRoZSBzcGVjaWZpZWQgb2Zmc2V0LlxuICAgICAgLy8gU28gbWFrZSBzdXJlIHRoZSBvZmZzZXQgaXMgYXQgbGVhc3QgMCBvciBubyBtYXRjaCB3aWxsIGJlIGZvdW5kLlxuICAgICAgb2Zmc2V0ID0gTWF0aC5tYXgoMCwgb2Zmc2V0KTtcblxuICAgICAgdmFyIGxhc3RNZWFzdXJlZENlbGxTaXplQW5kUG9zaXRpb24gPSB0aGlzLmdldFNpemVBbmRQb3NpdGlvbk9mTGFzdE1lYXN1cmVkQ2VsbCgpO1xuICAgICAgdmFyIGxhc3RNZWFzdXJlZEluZGV4ID0gTWF0aC5tYXgoMCwgdGhpcy5fbGFzdE1lYXN1cmVkSW5kZXgpO1xuXG4gICAgICBpZiAobGFzdE1lYXN1cmVkQ2VsbFNpemVBbmRQb3NpdGlvbi5vZmZzZXQgPj0gb2Zmc2V0KSB7XG4gICAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgbWVhc3VyZWQgY2VsbHMgd2l0aGluIHRoaXMgcmFuZ2UganVzdCB1c2UgYSBiaW5hcnkgc2VhcmNoIGFzIGl0J3MgZmFzdGVyLlxuICAgICAgICByZXR1cm4gdGhpcy5fYmluYXJ5U2VhcmNoKGxhc3RNZWFzdXJlZEluZGV4LCAwLCBvZmZzZXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZW4ndCB5ZXQgbWVhc3VyZWQgdGhpcyBoaWdoLCBmYWxsYmFjayB0byBhbiBleHBvbmVudGlhbCBzZWFyY2ggd2l0aCBhbiBpbm5lciBiaW5hcnkgc2VhcmNoLlxuICAgICAgICAvLyBUaGUgZXhwb25lbnRpYWwgc2VhcmNoIGF2b2lkcyBwcmUtY29tcHV0aW5nIHNpemVzIGZvciB0aGUgZnVsbCBzZXQgb2YgY2VsbHMgYXMgYSBiaW5hcnkgc2VhcmNoIHdvdWxkLlxuICAgICAgICAvLyBUaGUgb3ZlcmFsbCBjb21wbGV4aXR5IGZvciB0aGlzIGFwcHJvYWNoIGlzIE8obG9nIG4pLlxuICAgICAgICByZXR1cm4gdGhpcy5fZXhwb25lbnRpYWxTZWFyY2gobGFzdE1lYXN1cmVkSW5kZXgsIG9mZnNldCk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyO1xufSgpO1xuXG5leHBvcnQgZGVmYXVsdCBDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9BbGlnbm1lbnQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemVHZXR0ZXIgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfVmlzaWJsZUNlbGxSYW5nZSB9IGZyb20gJy4uL3R5cGVzJzsiLCJ2YXIgREVGQVVMVF9NQVhfRUxFTUVOVF9TSVpFID0gMTUwMDAwMDtcbnZhciBDSFJPTUVfTUFYX0VMRU1FTlRfU0laRSA9IDEuNjc3NzFlNztcblxudmFyIGlzQnJvd3NlciA9IGZ1bmN0aW9uIGlzQnJvd3NlcigpIHtcbiAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xufTtcblxudmFyIGlzQ2hyb21lID0gZnVuY3Rpb24gaXNDaHJvbWUoKSB7XG4gIHJldHVybiAhIXdpbmRvdy5jaHJvbWUgJiYgISF3aW5kb3cuY2hyb21lLndlYnN0b3JlO1xufTtcblxuZXhwb3J0IHZhciBnZXRNYXhFbGVtZW50U2l6ZSA9IGZ1bmN0aW9uIGdldE1heEVsZW1lbnRTaXplKCkge1xuICBpZiAoaXNCcm93c2VyKCkpIHtcbiAgICBpZiAoaXNDaHJvbWUoKSkge1xuICAgICAgcmV0dXJuIENIUk9NRV9NQVhfRUxFTUVOVF9TSVpFO1xuICAgIH1cbiAgfVxuICByZXR1cm4gREVGQVVMVF9NQVhfRUxFTUVOVF9TSVpFO1xufTsiLCJpbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5cblxuaW1wb3J0IENlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyIGZyb20gJy4vQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXInO1xuXG5pbXBvcnQgeyBnZXRNYXhFbGVtZW50U2l6ZSB9IGZyb20gJy4vbWF4RWxlbWVudFNpemUuanMnO1xuXG4vKipcbiAqIEJyb3dzZXJzIGhhdmUgc2Nyb2xsIG9mZnNldCBsaW1pdGF0aW9ucyAoZWcgQ2hyb21lIHN0b3BzIHNjcm9sbGluZyBhdCB+MzMuNU0gcGl4ZWxzIHdoZXJlIGFzIEVkZ2UgdG9wcyBvdXQgYXQgfjEuNU0gcGl4ZWxzKS5cbiAqIEFmdGVyIGEgY2VydGFpbiBwb3NpdGlvbiwgdGhlIGJyb3dzZXIgd29uJ3QgYWxsb3cgdGhlIHVzZXIgdG8gc2Nyb2xsIGZ1cnRoZXIgKGV2ZW4gdmlhIEphdmFTY3JpcHQgc2Nyb2xsIG9mZnNldCBhZGp1c3RtZW50cykuXG4gKiBUaGlzIHV0aWwgcGlja3MgYSBsb3dlciBjZWlsaW5nIGZvciBtYXggc2l6ZSBhbmQgYXJ0aWZpY2lhbGx5IGFkanVzdHMgcG9zaXRpb25zIHdpdGhpbiB0byBtYWtlIGl0IHRyYW5zcGFyZW50IGZvciB1c2Vycy5cbiAqL1xuXG4vKipcbiAqIEV4dGVuZHMgQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIgYW5kIGFkZHMgc2NhbGluZyBiZWhhdmlvciBmb3IgbGlzdHMgdGhhdCBhcmUgdG9vIGxhcmdlIHRvIGZpdCB3aXRoaW4gYSBicm93c2VyJ3MgbmF0aXZlIGxpbWl0cy5cbiAqL1xudmFyIFNjYWxpbmdDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2NhbGluZ0NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyKF9yZWYpIHtcbiAgICB2YXIgX3JlZiRtYXhTY3JvbGxTaXplID0gX3JlZi5tYXhTY3JvbGxTaXplLFxuICAgICAgICBtYXhTY3JvbGxTaXplID0gX3JlZiRtYXhTY3JvbGxTaXplID09PSB1bmRlZmluZWQgPyBnZXRNYXhFbGVtZW50U2l6ZSgpIDogX3JlZiRtYXhTY3JvbGxTaXplLFxuICAgICAgICBwYXJhbXMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgWydtYXhTY3JvbGxTaXplJ10pO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNjYWxpbmdDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcik7XG5cbiAgICAvLyBGYXZvciBjb21wb3NpdGlvbiBvdmVyIGluaGVyaXRhbmNlIHRvIHNpbXBsaWZ5IElFMTAgc3VwcG9ydFxuICAgIHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyID0gbmV3IENlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyKHBhcmFtcyk7XG4gICAgdGhpcy5fbWF4U2Nyb2xsU2l6ZSA9IG1heFNjcm9sbFNpemU7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2NhbGluZ0NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLCBbe1xuICAgIGtleTogJ2FyZU9mZnNldHNBZGp1c3RlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFyZU9mZnNldHNBZGp1c3RlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRUb3RhbFNpemUoKSA+IHRoaXMuX21heFNjcm9sbFNpemU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29uZmlndXJlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29uZmlndXJlKHBhcmFtcykge1xuICAgICAgdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuY29uZmlndXJlKHBhcmFtcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Q2VsbENvdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2VsbENvdW50KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldENlbGxDb3VudCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEVzdGltYXRlZENlbGxTaXplJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RXN0aW1hdGVkQ2VsbFNpemUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0RXN0aW1hdGVkQ2VsbFNpemUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRMYXN0TWVhc3VyZWRJbmRleCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldExhc3RNZWFzdXJlZEluZGV4KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldExhc3RNZWFzdXJlZEluZGV4KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIHBpeGVscyBhIGNlbGwgYXQgdGhlIGdpdmVuIHBvc2l0aW9uIChvZmZzZXQpIHNob3VsZCBiZSBzaGlmdGVkIGluIG9yZGVyIHRvIGZpdCB3aXRoaW4gdGhlIHNjYWxlZCBjb250YWluZXIuXG4gICAgICogVGhlIG9mZnNldCBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBpcyBzY2FsZWQgKHNhZmUpIGFzIHdlbGwuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldE9mZnNldEFkanVzdG1lbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRPZmZzZXRBZGp1c3RtZW50KF9yZWYyKSB7XG4gICAgICB2YXIgY29udGFpbmVyU2l6ZSA9IF9yZWYyLmNvbnRhaW5lclNpemUsXG4gICAgICAgICAgb2Zmc2V0ID0gX3JlZjIub2Zmc2V0O1xuXG4gICAgICB2YXIgdG90YWxTaXplID0gdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VG90YWxTaXplKCk7XG4gICAgICB2YXIgc2FmZVRvdGFsU2l6ZSA9IHRoaXMuZ2V0VG90YWxTaXplKCk7XG4gICAgICB2YXIgb2Zmc2V0UGVyY2VudGFnZSA9IHRoaXMuX2dldE9mZnNldFBlcmNlbnRhZ2Uoe1xuICAgICAgICBjb250YWluZXJTaXplOiBjb250YWluZXJTaXplLFxuICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgdG90YWxTaXplOiBzYWZlVG90YWxTaXplXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIE1hdGgucm91bmQob2Zmc2V0UGVyY2VudGFnZSAqIChzYWZlVG90YWxTaXplIC0gdG90YWxTaXplKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZDZWxsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZDZWxsKGluZGV4KSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZDZWxsKGluZGV4KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTaXplQW5kUG9zaXRpb25PZkxhc3RNZWFzdXJlZENlbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTaXplQW5kUG9zaXRpb25PZkxhc3RNZWFzdXJlZENlbGwoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZMYXN0TWVhc3VyZWRDZWxsKCk7XG4gICAgfVxuXG4gICAgLyoqIFNlZSBDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlciNnZXRUb3RhbFNpemUgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0VG90YWxTaXplJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VG90YWxTaXplKCkge1xuICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuX21heFNjcm9sbFNpemUsIHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFRvdGFsU2l6ZSgpKTtcbiAgICB9XG5cbiAgICAvKiogU2VlIENlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyI2dldFVwZGF0ZWRPZmZzZXRGb3JJbmRleCAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRVcGRhdGVkT2Zmc2V0Rm9ySW5kZXgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVcGRhdGVkT2Zmc2V0Rm9ySW5kZXgoX3JlZjMpIHtcbiAgICAgIHZhciBfcmVmMyRhbGlnbiA9IF9yZWYzLmFsaWduLFxuICAgICAgICAgIGFsaWduID0gX3JlZjMkYWxpZ24gPT09IHVuZGVmaW5lZCA/ICdhdXRvJyA6IF9yZWYzJGFsaWduLFxuICAgICAgICAgIGNvbnRhaW5lclNpemUgPSBfcmVmMy5jb250YWluZXJTaXplLFxuICAgICAgICAgIGN1cnJlbnRPZmZzZXQgPSBfcmVmMy5jdXJyZW50T2Zmc2V0LFxuICAgICAgICAgIHRhcmdldEluZGV4ID0gX3JlZjMudGFyZ2V0SW5kZXg7XG5cbiAgICAgIGN1cnJlbnRPZmZzZXQgPSB0aGlzLl9zYWZlT2Zmc2V0VG9PZmZzZXQoe1xuICAgICAgICBjb250YWluZXJTaXplOiBjb250YWluZXJTaXplLFxuICAgICAgICBvZmZzZXQ6IGN1cnJlbnRPZmZzZXRcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgb2Zmc2V0ID0gdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VXBkYXRlZE9mZnNldEZvckluZGV4KHtcbiAgICAgICAgYWxpZ246IGFsaWduLFxuICAgICAgICBjb250YWluZXJTaXplOiBjb250YWluZXJTaXplLFxuICAgICAgICBjdXJyZW50T2Zmc2V0OiBjdXJyZW50T2Zmc2V0LFxuICAgICAgICB0YXJnZXRJbmRleDogdGFyZ2V0SW5kZXhcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0VG9TYWZlT2Zmc2V0KHtcbiAgICAgICAgY29udGFpbmVyU2l6ZTogY29udGFpbmVyU2l6ZSxcbiAgICAgICAgb2Zmc2V0OiBvZmZzZXRcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKiBTZWUgQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIjZ2V0VmlzaWJsZUNlbGxSYW5nZSAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRWaXNpYmxlQ2VsbFJhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmlzaWJsZUNlbGxSYW5nZShfcmVmNCkge1xuICAgICAgdmFyIGNvbnRhaW5lclNpemUgPSBfcmVmNC5jb250YWluZXJTaXplLFxuICAgICAgICAgIG9mZnNldCA9IF9yZWY0Lm9mZnNldDtcblxuICAgICAgb2Zmc2V0ID0gdGhpcy5fc2FmZU9mZnNldFRvT2Zmc2V0KHtcbiAgICAgICAgY29udGFpbmVyU2l6ZTogY29udGFpbmVyU2l6ZSxcbiAgICAgICAgb2Zmc2V0OiBvZmZzZXRcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gdGhpcy5fY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VmlzaWJsZUNlbGxSYW5nZSh7XG4gICAgICAgIGNvbnRhaW5lclNpemU6IGNvbnRhaW5lclNpemUsXG4gICAgICAgIG9mZnNldDogb2Zmc2V0XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXNldENlbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldENlbGwoaW5kZXgpIHtcbiAgICAgIHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLnJlc2V0Q2VsbChpbmRleCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2dldE9mZnNldFBlcmNlbnRhZ2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0T2Zmc2V0UGVyY2VudGFnZShfcmVmNSkge1xuICAgICAgdmFyIGNvbnRhaW5lclNpemUgPSBfcmVmNS5jb250YWluZXJTaXplLFxuICAgICAgICAgIG9mZnNldCA9IF9yZWY1Lm9mZnNldCxcbiAgICAgICAgICB0b3RhbFNpemUgPSBfcmVmNS50b3RhbFNpemU7XG5cbiAgICAgIHJldHVybiB0b3RhbFNpemUgPD0gY29udGFpbmVyU2l6ZSA/IDAgOiBvZmZzZXQgLyAodG90YWxTaXplIC0gY29udGFpbmVyU2l6ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX29mZnNldFRvU2FmZU9mZnNldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vZmZzZXRUb1NhZmVPZmZzZXQoX3JlZjYpIHtcbiAgICAgIHZhciBjb250YWluZXJTaXplID0gX3JlZjYuY29udGFpbmVyU2l6ZSxcbiAgICAgICAgICBvZmZzZXQgPSBfcmVmNi5vZmZzZXQ7XG5cbiAgICAgIHZhciB0b3RhbFNpemUgPSB0aGlzLl9jZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRUb3RhbFNpemUoKTtcbiAgICAgIHZhciBzYWZlVG90YWxTaXplID0gdGhpcy5nZXRUb3RhbFNpemUoKTtcblxuICAgICAgaWYgKHRvdGFsU2l6ZSA9PT0gc2FmZVRvdGFsU2l6ZSkge1xuICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9mZnNldFBlcmNlbnRhZ2UgPSB0aGlzLl9nZXRPZmZzZXRQZXJjZW50YWdlKHtcbiAgICAgICAgICBjb250YWluZXJTaXplOiBjb250YWluZXJTaXplLFxuICAgICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICAgIHRvdGFsU2l6ZTogdG90YWxTaXplXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG9mZnNldFBlcmNlbnRhZ2UgKiAoc2FmZVRvdGFsU2l6ZSAtIGNvbnRhaW5lclNpemUpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfc2FmZU9mZnNldFRvT2Zmc2V0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NhZmVPZmZzZXRUb09mZnNldChfcmVmNykge1xuICAgICAgdmFyIGNvbnRhaW5lclNpemUgPSBfcmVmNy5jb250YWluZXJTaXplLFxuICAgICAgICAgIG9mZnNldCA9IF9yZWY3Lm9mZnNldDtcblxuICAgICAgdmFyIHRvdGFsU2l6ZSA9IHRoaXMuX2NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFRvdGFsU2l6ZSgpO1xuICAgICAgdmFyIHNhZmVUb3RhbFNpemUgPSB0aGlzLmdldFRvdGFsU2l6ZSgpO1xuXG4gICAgICBpZiAodG90YWxTaXplID09PSBzYWZlVG90YWxTaXplKSB7XG4gICAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgb2Zmc2V0UGVyY2VudGFnZSA9IHRoaXMuX2dldE9mZnNldFBlcmNlbnRhZ2Uoe1xuICAgICAgICAgIGNvbnRhaW5lclNpemU6IGNvbnRhaW5lclNpemUsXG4gICAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgICAgdG90YWxTaXplOiBzYWZlVG90YWxTaXplXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG9mZnNldFBlcmNlbnRhZ2UgKiAodG90YWxTaXplIC0gY29udGFpbmVyU2l6ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXI7XG59KCk7XG5cbmV4cG9ydCBkZWZhdWx0IFNjYWxpbmdDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9BbGlnbm1lbnQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemVHZXR0ZXIgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfVmlzaWJsZUNlbGxSYW5nZSB9IGZyb20gJy4uL3R5cGVzJzsiLCJpbXBvcnQgX09iamVjdCRrZXlzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyc7XG4vKipcbiAqIEhlbHBlciB1dGlsaXR5IHRoYXQgdXBkYXRlcyB0aGUgc3BlY2lmaWVkIGNhbGxiYWNrIHdoZW5ldmVyIGFueSBvZiB0aGUgc3BlY2lmaWVkIGluZGljZXMgaGF2ZSBjaGFuZ2VkLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVDYWxsYmFja01lbW9pemVyKCkge1xuICB2YXIgcmVxdWlyZUFsbEtleXMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7XG5cbiAgdmFyIGNhY2hlZEluZGljZXMgPSB7fTtcblxuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBfcmVmLmNhbGxiYWNrLFxuICAgICAgICBpbmRpY2VzID0gX3JlZi5pbmRpY2VzO1xuXG4gICAgdmFyIGtleXMgPSBfT2JqZWN0JGtleXMoaW5kaWNlcyk7XG4gICAgdmFyIGFsbEluaXRpYWxpemVkID0gIXJlcXVpcmVBbGxLZXlzIHx8IGtleXMuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIHZhbHVlID0gaW5kaWNlc1trZXldO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubGVuZ3RoID4gMCA6IHZhbHVlID49IDA7XG4gICAgfSk7XG4gICAgdmFyIGluZGV4Q2hhbmdlZCA9IGtleXMubGVuZ3RoICE9PSBfT2JqZWN0JGtleXMoY2FjaGVkSW5kaWNlcykubGVuZ3RoIHx8IGtleXMuc29tZShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgY2FjaGVkVmFsdWUgPSBjYWNoZWRJbmRpY2VzW2tleV07XG4gICAgICB2YXIgdmFsdWUgPSBpbmRpY2VzW2tleV07XG5cbiAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IGNhY2hlZFZhbHVlLmpvaW4oJywnKSAhPT0gdmFsdWUuam9pbignLCcpIDogY2FjaGVkVmFsdWUgIT09IHZhbHVlO1xuICAgIH0pO1xuXG4gICAgY2FjaGVkSW5kaWNlcyA9IGluZGljZXM7XG5cbiAgICBpZiAoYWxsSW5pdGlhbGl6ZWQgJiYgaW5kZXhDaGFuZ2VkKSB7XG4gICAgICBjYWxsYmFjayhpbmRpY2VzKTtcbiAgICB9XG4gIH07XG59IiwiXG5cbmV4cG9ydCB2YXIgU0NST0xMX0RJUkVDVElPTl9CQUNLV0FSRCA9IC0xO1xuXG5leHBvcnQgdmFyIFNDUk9MTF9ESVJFQ1RJT05fRk9SV0FSRCA9IDE7XG5cbmV4cG9ydCB2YXIgU0NST0xMX0RJUkVDVElPTl9IT1JJWk9OVEFMID0gJ2hvcml6b250YWwnO1xuZXhwb3J0IHZhciBTQ1JPTExfRElSRUNUSU9OX1ZFUlRJQ0FMID0gJ3ZlcnRpY2FsJztcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBudW1iZXIgb2YgY2VsbHMgdG8gb3ZlcnNjYW4gYmVmb3JlIGFuZCBhZnRlciBhIHNwZWNpZmllZCByYW5nZS5cbiAqIFRoaXMgZnVuY3Rpb24gZW5zdXJlcyB0aGF0IG92ZXJzY2FubmluZyBkb2Vzbid0IGV4Y2VlZCB0aGUgYXZhaWxhYmxlIGNlbGxzLlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmF1bHRPdmVyc2NhbkluZGljZXNHZXR0ZXIoX3JlZikge1xuICB2YXIgY2VsbENvdW50ID0gX3JlZi5jZWxsQ291bnQsXG4gICAgICBvdmVyc2NhbkNlbGxzQ291bnQgPSBfcmVmLm92ZXJzY2FuQ2VsbHNDb3VudCxcbiAgICAgIHNjcm9sbERpcmVjdGlvbiA9IF9yZWYuc2Nyb2xsRGlyZWN0aW9uLFxuICAgICAgc3RhcnRJbmRleCA9IF9yZWYuc3RhcnRJbmRleCxcbiAgICAgIHN0b3BJbmRleCA9IF9yZWYuc3RvcEluZGV4O1xuXG4gIGlmIChzY3JvbGxEaXJlY3Rpb24gPT09IFNDUk9MTF9ESVJFQ1RJT05fRk9SV0FSRCkge1xuICAgIHJldHVybiB7XG4gICAgICBvdmVyc2NhblN0YXJ0SW5kZXg6IE1hdGgubWF4KDAsIHN0YXJ0SW5kZXgpLFxuICAgICAgb3ZlcnNjYW5TdG9wSW5kZXg6IE1hdGgubWluKGNlbGxDb3VudCAtIDEsIHN0b3BJbmRleCArIG92ZXJzY2FuQ2VsbHNDb3VudClcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICBvdmVyc2NhblN0YXJ0SW5kZXg6IE1hdGgubWF4KDAsIHN0YXJ0SW5kZXggLSBvdmVyc2NhbkNlbGxzQ291bnQpLFxuICAgICAgb3ZlcnNjYW5TdG9wSW5kZXg6IE1hdGgubWluKGNlbGxDb3VudCAtIDEsIHN0b3BJbmRleClcbiAgICB9O1xuICB9XG59XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfT3ZlcnNjYW5JbmRpY2VzR2V0dGVyUGFyYW1zIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfT3ZlcnNjYW5JbmRpY2VzIH0gZnJvbSAnLi90eXBlcyc7IiwiXG5cbmltcG9ydCBTY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIgZnJvbSAnLi9TY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuanMnO1xuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGRldGVybWluZXMgd2hlbiB0byB1cGRhdGUgc2Nyb2xsIG9mZnNldHMgdG8gZW5zdXJlIHRoYXQgYSBzY3JvbGwtdG8taW5kZXggcmVtYWlucyB2aXNpYmxlLlxuICogVGhpcyBmdW5jdGlvbiBhbHNvIGVuc3VyZXMgdGhhdCB0aGUgc2Nyb2xsIG9mc2V0IGlzbid0IHBhc3QgdGhlIGxhc3QgY29sdW1uL3JvdyBvZiBjZWxscy5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVTY3JvbGxJbmRleEhlbHBlcihfcmVmKSB7XG4gIHZhciBjZWxsU2l6ZSA9IF9yZWYuY2VsbFNpemUsXG4gICAgICBjZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlciA9IF9yZWYuY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIsXG4gICAgICBwcmV2aW91c0NlbGxzQ291bnQgPSBfcmVmLnByZXZpb3VzQ2VsbHNDb3VudCxcbiAgICAgIHByZXZpb3VzQ2VsbFNpemUgPSBfcmVmLnByZXZpb3VzQ2VsbFNpemUsXG4gICAgICBwcmV2aW91c1Njcm9sbFRvQWxpZ25tZW50ID0gX3JlZi5wcmV2aW91c1Njcm9sbFRvQWxpZ25tZW50LFxuICAgICAgcHJldmlvdXNTY3JvbGxUb0luZGV4ID0gX3JlZi5wcmV2aW91c1Njcm9sbFRvSW5kZXgsXG4gICAgICBwcmV2aW91c1NpemUgPSBfcmVmLnByZXZpb3VzU2l6ZSxcbiAgICAgIHNjcm9sbE9mZnNldCA9IF9yZWYuc2Nyb2xsT2Zmc2V0LFxuICAgICAgc2Nyb2xsVG9BbGlnbm1lbnQgPSBfcmVmLnNjcm9sbFRvQWxpZ25tZW50LFxuICAgICAgc2Nyb2xsVG9JbmRleCA9IF9yZWYuc2Nyb2xsVG9JbmRleCxcbiAgICAgIHNpemUgPSBfcmVmLnNpemUsXG4gICAgICBzaXplSnVzdEluY3JlYXNlZEZyb21aZXJvID0gX3JlZi5zaXplSnVzdEluY3JlYXNlZEZyb21aZXJvLFxuICAgICAgdXBkYXRlU2Nyb2xsSW5kZXhDYWxsYmFjayA9IF9yZWYudXBkYXRlU2Nyb2xsSW5kZXhDYWxsYmFjaztcblxuICB2YXIgY2VsbENvdW50ID0gY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0Q2VsbENvdW50KCk7XG4gIHZhciBoYXNTY3JvbGxUb0luZGV4ID0gc2Nyb2xsVG9JbmRleCA+PSAwICYmIHNjcm9sbFRvSW5kZXggPCBjZWxsQ291bnQ7XG4gIHZhciBzaXplSGFzQ2hhbmdlZCA9IHNpemUgIT09IHByZXZpb3VzU2l6ZSB8fCBzaXplSnVzdEluY3JlYXNlZEZyb21aZXJvIHx8ICFwcmV2aW91c0NlbGxTaXplIHx8IHR5cGVvZiBjZWxsU2l6ZSA9PT0gJ251bWJlcicgJiYgY2VsbFNpemUgIT09IHByZXZpb3VzQ2VsbFNpemU7XG5cbiAgLy8gSWYgd2UgaGF2ZSBhIG5ldyBzY3JvbGwgdGFyZ2V0IE9SIGlmIGhlaWdodC9yb3ctaGVpZ2h0IGhhcyBjaGFuZ2VkLFxuICAvLyBXZSBzaG91bGQgZW5zdXJlIHRoYXQgdGhlIHNjcm9sbCB0YXJnZXQgaXMgdmlzaWJsZS5cbiAgaWYgKGhhc1Njcm9sbFRvSW5kZXggJiYgKHNpemVIYXNDaGFuZ2VkIHx8IHNjcm9sbFRvQWxpZ25tZW50ICE9PSBwcmV2aW91c1Njcm9sbFRvQWxpZ25tZW50IHx8IHNjcm9sbFRvSW5kZXggIT09IHByZXZpb3VzU2Nyb2xsVG9JbmRleCkpIHtcbiAgICB1cGRhdGVTY3JvbGxJbmRleENhbGxiYWNrKHNjcm9sbFRvSW5kZXgpO1xuXG4gICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHNlbGVjdGVkIGl0ZW0gYnV0IGxpc3Qgc2l6ZSBvciBudW1iZXIgb2YgY2hpbGRyZW4gaGF2ZSBkZWNyZWFzZWQsXG4gICAgLy8gTWFrZSBzdXJlIHdlIGFyZW4ndCBzY3JvbGxlZCB0b28gZmFyIHBhc3QgdGhlIGN1cnJlbnQgY29udGVudC5cbiAgfSBlbHNlIGlmICghaGFzU2Nyb2xsVG9JbmRleCAmJiBjZWxsQ291bnQgPiAwICYmIChzaXplIDwgcHJldmlvdXNTaXplIHx8IGNlbGxDb3VudCA8IHByZXZpb3VzQ2VsbHNDb3VudCkpIHtcbiAgICAvLyBXZSBuZWVkIHRvIGVuc3VyZSB0aGF0IHRoZSBjdXJyZW50IHNjcm9sbCBvZmZzZXQgaXMgc3RpbGwgd2l0aGluIHRoZSBjb2xsZWN0aW9uJ3MgcmFuZ2UuXG4gICAgLy8gVG8gZG8gdGhpcywgd2UgZG9uJ3QgbmVlZCB0byBtZWFzdXJlIGV2ZXJ5dGhpbmc7IENlbGxNZWFzdXJlciB3b3VsZCBwZXJmb3JtIHBvb3JseS5cbiAgICAvLyBKdXN0IGNoZWNrIHRvIG1ha2Ugc3VyZSB3ZSdyZSBzdGlsbCBva2F5LlxuICAgIC8vIE9ubHkgYWRqdXN0IHRoZSBzY3JvbGwgcG9zaXRpb24gaWYgd2UndmUgc2Nyb2xsZWQgYmVsb3cgdGhlIGxhc3Qgc2V0IG9mIHJvd3MuXG4gICAgaWYgKHNjcm9sbE9mZnNldCA+IGNlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFRvdGFsU2l6ZSgpIC0gc2l6ZSkge1xuICAgICAgdXBkYXRlU2Nyb2xsSW5kZXhDYWxsYmFjayhjZWxsQ291bnQgLSAxKTtcbiAgICB9XG4gIH1cbn1cbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9BbGlnbm1lbnQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemUgfSBmcm9tICcuLi90eXBlcyc7IiwiXG5cbi8qKlxuICogRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBjZWxsUmFuZ2VSZW5kZXJlciB1c2VkIGJ5IEdyaWQuXG4gKiBUaGlzIHJlbmRlcmVyIHN1cHBvcnRzIGNlbGwtY2FjaGluZyB3aGlsZSB0aGUgdXNlciBpcyBzY3JvbGxpbmcuXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVmYXVsdENlbGxSYW5nZVJlbmRlcmVyKF9yZWYpIHtcbiAgdmFyIGNlbGxDYWNoZSA9IF9yZWYuY2VsbENhY2hlLFxuICAgICAgY2VsbFJlbmRlcmVyID0gX3JlZi5jZWxsUmVuZGVyZXIsXG4gICAgICBjb2x1bW5TaXplQW5kUG9zaXRpb25NYW5hZ2VyID0gX3JlZi5jb2x1bW5TaXplQW5kUG9zaXRpb25NYW5hZ2VyLFxuICAgICAgY29sdW1uU3RhcnRJbmRleCA9IF9yZWYuY29sdW1uU3RhcnRJbmRleCxcbiAgICAgIGNvbHVtblN0b3BJbmRleCA9IF9yZWYuY29sdW1uU3RvcEluZGV4LFxuICAgICAgZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlID0gX3JlZi5kZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGUsXG4gICAgICBob3Jpem9udGFsT2Zmc2V0QWRqdXN0bWVudCA9IF9yZWYuaG9yaXpvbnRhbE9mZnNldEFkanVzdG1lbnQsXG4gICAgICBpc1Njcm9sbGluZyA9IF9yZWYuaXNTY3JvbGxpbmcsXG4gICAgICBpc1Njcm9sbGluZ09wdE91dCA9IF9yZWYuaXNTY3JvbGxpbmdPcHRPdXQsXG4gICAgICBwYXJlbnQgPSBfcmVmLnBhcmVudCxcbiAgICAgIHJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIgPSBfcmVmLnJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIsXG4gICAgICByb3dTdGFydEluZGV4ID0gX3JlZi5yb3dTdGFydEluZGV4LFxuICAgICAgcm93U3RvcEluZGV4ID0gX3JlZi5yb3dTdG9wSW5kZXgsXG4gICAgICBzdHlsZUNhY2hlID0gX3JlZi5zdHlsZUNhY2hlLFxuICAgICAgdmVydGljYWxPZmZzZXRBZGp1c3RtZW50ID0gX3JlZi52ZXJ0aWNhbE9mZnNldEFkanVzdG1lbnQsXG4gICAgICB2aXNpYmxlQ29sdW1uSW5kaWNlcyA9IF9yZWYudmlzaWJsZUNvbHVtbkluZGljZXMsXG4gICAgICB2aXNpYmxlUm93SW5kaWNlcyA9IF9yZWYudmlzaWJsZVJvd0luZGljZXM7XG5cbiAgdmFyIHJlbmRlcmVkQ2VsbHMgPSBbXTtcblxuICAvLyBCcm93c2VycyBoYXZlIG5hdGl2ZSBzaXplIGxpbWl0cyBmb3IgZWxlbWVudHMgKGVnIENocm9tZSAzM00gcGl4ZWxzLCBJRSAxLjVNIHBpeGVzKS5cbiAgLy8gVXNlciBjYW5ub3Qgc2Nyb2xsIGJleW9uZCB0aGVzZSBzaXplIGxpbWl0YXRpb25zLlxuICAvLyBJbiBvcmRlciB0byB3b3JrIGFyb3VuZCB0aGlzLCBTY2FsaW5nQ2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXIgY29tcHJlc3NlcyBvZmZzZXRzLlxuICAvLyBXZSBzaG91bGQgbmV2ZXIgY2FjaGUgc3R5bGVzIGZvciBjb21wcmVzc2VkIG9mZnNldHMgdGhvdWdoIGFzIHRoaXMgY2FuIGxlYWQgdG8gYnVncy5cbiAgLy8gU2VlIGlzc3VlICM1NzYgZm9yIG1vcmUuXG4gIHZhciBhcmVPZmZzZXRzQWRqdXN0ZWQgPSBjb2x1bW5TaXplQW5kUG9zaXRpb25NYW5hZ2VyLmFyZU9mZnNldHNBZGp1c3RlZCgpIHx8IHJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIuYXJlT2Zmc2V0c0FkanVzdGVkKCk7XG5cbiAgdmFyIGNhbkNhY2hlU3R5bGUgPSAhaXNTY3JvbGxpbmcgJiYgIWFyZU9mZnNldHNBZGp1c3RlZDtcblxuICBmb3IgKHZhciByb3dJbmRleCA9IHJvd1N0YXJ0SW5kZXg7IHJvd0luZGV4IDw9IHJvd1N0b3BJbmRleDsgcm93SW5kZXgrKykge1xuICAgIHZhciByb3dEYXR1bSA9IHJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0U2l6ZUFuZFBvc2l0aW9uT2ZDZWxsKHJvd0luZGV4KTtcblxuICAgIGZvciAodmFyIGNvbHVtbkluZGV4ID0gY29sdW1uU3RhcnRJbmRleDsgY29sdW1uSW5kZXggPD0gY29sdW1uU3RvcEluZGV4OyBjb2x1bW5JbmRleCsrKSB7XG4gICAgICB2YXIgY29sdW1uRGF0dW0gPSBjb2x1bW5TaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFNpemVBbmRQb3NpdGlvbk9mQ2VsbChjb2x1bW5JbmRleCk7XG4gICAgICB2YXIgaXNWaXNpYmxlID0gY29sdW1uSW5kZXggPj0gdmlzaWJsZUNvbHVtbkluZGljZXMuc3RhcnQgJiYgY29sdW1uSW5kZXggPD0gdmlzaWJsZUNvbHVtbkluZGljZXMuc3RvcCAmJiByb3dJbmRleCA+PSB2aXNpYmxlUm93SW5kaWNlcy5zdGFydCAmJiByb3dJbmRleCA8PSB2aXNpYmxlUm93SW5kaWNlcy5zdG9wO1xuICAgICAgdmFyIGtleSA9IHJvd0luZGV4ICsgJy0nICsgY29sdW1uSW5kZXg7XG4gICAgICB2YXIgc3R5bGUgPSB2b2lkIDA7XG5cbiAgICAgIC8vIENhY2hlIHN0eWxlIG9iamVjdHMgc28gc2hhbGxvdy1jb21wYXJlIGRvZXNuJ3QgcmUtcmVuZGVyIHVubmVjZXNzYXJpbHkuXG4gICAgICBpZiAoY2FuQ2FjaGVTdHlsZSAmJiBzdHlsZUNhY2hlW2tleV0pIHtcbiAgICAgICAgc3R5bGUgPSBzdHlsZUNhY2hlW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJbiBkZWZlcnJlZCBtb2RlLCBjZWxscyB3aWxsIGJlIGluaXRpYWxseSByZW5kZXJlZCBiZWZvcmUgd2Uga25vdyB0aGVpciBzaXplLlxuICAgICAgICAvLyBEb24ndCBpbnRlcmZlcmUgd2l0aCBDZWxsTWVhc3VyZXIncyBtZWFzdXJlbWVudHMgYnkgc2V0dGluZyBhbiBpbnZhbGlkIHNpemUuXG4gICAgICAgIGlmIChkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGUgJiYgIWRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZS5oYXMocm93SW5kZXgsIGNvbHVtbkluZGV4KSkge1xuICAgICAgICAgIC8vIFBvc2l0aW9uIG5vdC15ZXQtbWVhc3VyZWQgY2VsbHMgYXQgdG9wL2xlZnQgMCwwLFxuICAgICAgICAgIC8vIEFuZCBnaXZlIHRoZW0gd2lkdGgvaGVpZ2h0IG9mICdhdXRvJyBzbyB0aGV5IGNhbiBncm93IGxhcmdlciB0aGFuIHRoZSBwYXJlbnQgR3JpZCBpZiBuZWNlc3NhcnkuXG4gICAgICAgICAgLy8gUG9zaXRpb25pbmcgdGhlbSBmdXJ0aGVyIHRvIHRoZSByaWdodC9ib3R0b20gaW5mbHVlbmNlcyB0aGVpciBtZWFzdXJlZCBzaXplLlxuICAgICAgICAgIHN0eWxlID0ge1xuICAgICAgICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICB3aWR0aDogJ2F1dG8nXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHlsZSA9IHtcbiAgICAgICAgICAgIGhlaWdodDogcm93RGF0dW0uc2l6ZSxcbiAgICAgICAgICAgIGxlZnQ6IGNvbHVtbkRhdHVtLm9mZnNldCArIGhvcml6b250YWxPZmZzZXRBZGp1c3RtZW50LFxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICB0b3A6IHJvd0RhdHVtLm9mZnNldCArIHZlcnRpY2FsT2Zmc2V0QWRqdXN0bWVudCxcbiAgICAgICAgICAgIHdpZHRoOiBjb2x1bW5EYXR1bS5zaXplXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHN0eWxlQ2FjaGVba2V5XSA9IHN0eWxlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBjZWxsUmVuZGVyZXJQYXJhbXMgPSB7XG4gICAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleCxcbiAgICAgICAgaXNTY3JvbGxpbmc6IGlzU2Nyb2xsaW5nLFxuICAgICAgICBpc1Zpc2libGU6IGlzVmlzaWJsZSxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgICByb3dJbmRleDogcm93SW5kZXgsXG4gICAgICAgIHN0eWxlOiBzdHlsZVxuICAgICAgfTtcblxuICAgICAgdmFyIHJlbmRlcmVkQ2VsbCA9IHZvaWQgMDtcblxuICAgICAgLy8gQXZvaWQgcmUtY3JlYXRpbmcgY2VsbHMgd2hpbGUgc2Nyb2xsaW5nLlxuICAgICAgLy8gVGhpcyBjYW4gbGVhZCB0byB0aGUgc2FtZSBjZWxsIGJlaW5nIGNyZWF0ZWQgbWFueSB0aW1lcyBhbmQgY2FuIGNhdXNlIHBlcmZvcm1hbmNlIGlzc3VlcyBmb3IgXCJoZWF2eVwiIGNlbGxzLlxuICAgICAgLy8gSWYgYSBzY3JvbGwgaXMgaW4gcHJvZ3Jlc3MtIGNhY2hlIGFuZCByZXVzZSBjZWxscy5cbiAgICAgIC8vIFRoaXMgY2FjaGUgd2lsbCBiZSB0aHJvd24gYXdheSBvbmNlIHNjcm9sbGluZyBjb21wbGV0ZXMuXG4gICAgICAvLyBIb3dldmVyIGlmIHdlIGFyZSBzY2FsaW5nIHNjcm9sbCBwb3NpdGlvbnMgYW5kIHNpemVzLCB3ZSBzaG91bGQgYWxzbyBhdm9pZCBjYWNoaW5nLlxuICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZSBvZmZzZXQgY2hhbmdlcyBzbGlnaHRseSBhcyBzY3JvbGwgcG9zaXRpb24gY2hhbmdlcyBhbmQgY2FjaGluZyBsZWFkcyB0byBzdGFsZSB2YWx1ZXMuXG4gICAgICAvLyBGb3IgbW9yZSBpbmZvIHJlZmVyIHRvIGlzc3VlICMzOTVcbiAgICAgIC8vXG4gICAgICAvLyBJZiBpc1Njcm9sbGluZ09wdE91dCBpcyBzcGVjaWZpZWQsIHdlIGFsd2F5cyBjYWNoZSBjZWxscy5cbiAgICAgIC8vIEZvciBtb3JlIGluZm8gcmVmZXIgdG8gaXNzdWUgIzEwMjhcbiAgICAgIGlmICgoaXNTY3JvbGxpbmdPcHRPdXQgfHwgaXNTY3JvbGxpbmcpICYmICFob3Jpem9udGFsT2Zmc2V0QWRqdXN0bWVudCAmJiAhdmVydGljYWxPZmZzZXRBZGp1c3RtZW50KSB7XG4gICAgICAgIGlmICghY2VsbENhY2hlW2tleV0pIHtcbiAgICAgICAgICBjZWxsQ2FjaGVba2V5XSA9IGNlbGxSZW5kZXJlcihjZWxsUmVuZGVyZXJQYXJhbXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVuZGVyZWRDZWxsID0gY2VsbENhY2hlW2tleV07XG5cbiAgICAgICAgLy8gSWYgdGhlIHVzZXIgaXMgbm8gbG9uZ2VyIHNjcm9sbGluZywgZG9uJ3QgY2FjaGUgY2VsbHMuXG4gICAgICAgIC8vIFRoaXMgbWFrZXMgZHluYW1pYyBjZWxsIGNvbnRlbnQgZGlmZmljdWx0IGZvciB1c2VycyBhbmQgd291bGQgYWxzbyBsZWFkIHRvIGEgaGVhdmllciBtZW1vcnkgZm9vdHByaW50LlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVuZGVyZWRDZWxsID0gY2VsbFJlbmRlcmVyKGNlbGxSZW5kZXJlclBhcmFtcyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZW5kZXJlZENlbGwgPT0gbnVsbCB8fCByZW5kZXJlZENlbGwgPT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB3YXJuQWJvdXRNaXNzaW5nU3R5bGUocGFyZW50LCByZW5kZXJlZENlbGwpO1xuICAgICAgfVxuXG4gICAgICByZW5kZXJlZENlbGxzLnB1c2gocmVuZGVyZWRDZWxsKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVuZGVyZWRDZWxscztcbn1cblxuZnVuY3Rpb24gd2FybkFib3V0TWlzc2luZ1N0eWxlKHBhcmVudCwgcmVuZGVyZWRDZWxsKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKHJlbmRlcmVkQ2VsbCkge1xuICAgICAgLy8gSWYgdGhlIGRpcmVjdCBjaGlsZCBpcyBhIENlbGxNZWFzdXJlciwgdGhlbiB3ZSBzaG91bGQgY2hlY2sgaXRzIGNoaWxkXG4gICAgICAvLyBTZWUgaXNzdWUgIzYxMVxuICAgICAgaWYgKHJlbmRlcmVkQ2VsbC50eXBlICYmIHJlbmRlcmVkQ2VsbC50eXBlLl9faW50ZXJuYWxDZWxsTWVhc3VyZXJGbGFnKSB7XG4gICAgICAgIHJlbmRlcmVkQ2VsbCA9IHJlbmRlcmVkQ2VsbC5wcm9wcy5jaGlsZHJlbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlbmRlcmVkQ2VsbCAmJiByZW5kZXJlZENlbGwucHJvcHMgJiYgcmVuZGVyZWRDZWxsLnByb3BzLnN0eWxlID09PSB1bmRlZmluZWQgJiYgcGFyZW50Ll9fd2FybmVkQWJvdXRNaXNzaW5nU3R5bGUgIT09IHRydWUpIHtcbiAgICAgICAgcGFyZW50Ll9fd2FybmVkQWJvdXRNaXNzaW5nU3R5bGUgPSB0cnVlO1xuXG4gICAgICAgIGNvbnNvbGUud2FybignUmVuZGVyZWQgY2VsbCBzaG91bGQgaW5jbHVkZSBzdHlsZSBwcm9wZXJ0eSBmb3IgcG9zaXRpb25pbmcuJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFJhbmdlUmVuZGVyZXJQYXJhbXMgfSBmcm9tICcuL3R5cGVzJzsiLCJcblxuLy8gUHJvcGVybHkgaGFuZGxlIHNlcnZlci1zaWRlIHJlbmRlcmluZy5cbnZhciB3aW4gPSB2b2lkIDA7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICB3aW4gPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICB3aW4gPSBzZWxmO1xufSBlbHNlIHtcbiAgd2luID0ge307XG59XG5cbi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZSgpIHNoaW0gYnkgUGF1bCBJcmlzaFxuLy8gaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbnZhciByZXF1ZXN0ID0gd2luLnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW4ud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbi5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luLm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luLm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICByZXR1cm4gd2luLnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG59O1xuXG52YXIgY2FuY2VsID0gd2luLmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbi53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW4ubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luLm9DYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW4ubXNDYW5jZWxBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoaWQpIHtcbiAgd2luLmNsZWFyVGltZW91dChpZCk7XG59O1xuXG5leHBvcnQgdmFyIHJhZiA9IHJlcXVlc3Q7XG5leHBvcnQgdmFyIGNhZiA9IGNhbmNlbDsiLCJpbXBvcnQgX1Byb21pc2UgZnJvbSAnYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UnO1xuaW1wb3J0IHsgY2FmLCByYWYgfSBmcm9tICcuL2FuaW1hdGlvbkZyYW1lJztcblxudmFyIGJwZnJwdF9wcm9wdHlwZV9BbmltYXRpb25UaW1lb3V0SWQgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgaWQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcblxuXG5leHBvcnQgdmFyIGNhbmNlbEFuaW1hdGlvblRpbWVvdXQgPSBmdW5jdGlvbiBjYW5jZWxBbmltYXRpb25UaW1lb3V0KGZyYW1lKSB7XG4gIHJldHVybiBjYWYoZnJhbWUuaWQpO1xufTtcblxuLyoqXG4gKiBSZWN1cnNpdmVseSBjYWxscyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgdW50aWwgYSBzcGVjaWZpZWQgZGVsYXkgaGFzIGJlZW4gbWV0IG9yIGV4Y2VlZGVkLlxuICogV2hlbiB0aGUgZGVsYXkgdGltZSBoYXMgYmVlbiByZWFjaGVkIHRoZSBmdW5jdGlvbiB5b3UncmUgdGltaW5nIG91dCB3aWxsIGJlIGNhbGxlZC5cbiAqXG4gKiBDcmVkaXQ6IEpvZSBMYW1iZXJ0IChodHRwczovL2dpc3QuZ2l0aHViLmNvbS9qb2VsYW1iZXJ0LzEwMDIxMTYjZmlsZS1yZXF1ZXN0dGltZW91dC1qcylcbiAqL1xuZXhwb3J0IHZhciByZXF1ZXN0QW5pbWF0aW9uVGltZW91dCA9IGZ1bmN0aW9uIHJlcXVlc3RBbmltYXRpb25UaW1lb3V0KGNhbGxiYWNrLCBkZWxheSkge1xuICB2YXIgc3RhcnQgPSB2b2lkIDA7XG4gIC8vIHdhaXQgZm9yIGVuZCBvZiBwcm9jZXNzaW5nIGN1cnJlbnQgZXZlbnQgaGFuZGxlciwgYmVjYXVzZSBldmVudCBoYW5kbGVyIG1heSBiZSBsb25nXG4gIF9Qcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICBzdGFydCA9IERhdGUubm93KCk7XG4gIH0pO1xuXG4gIHZhciB0aW1lb3V0ID0gZnVuY3Rpb24gdGltZW91dCgpIHtcbiAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0ID49IGRlbGF5KSB7XG4gICAgICBjYWxsYmFjay5jYWxsKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyYW1lLmlkID0gcmFmKHRpbWVvdXQpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZnJhbWUgPSB7XG4gICAgaWQ6IHJhZih0aW1lb3V0KVxuICB9O1xuXG4gIHJldHVybiBmcmFtZTtcbn07XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0FuaW1hdGlvblRpbWVvdXRJZCB9OyIsImltcG9ydCBfT2JqZWN0JGFzc2lnbiBmcm9tICdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2Fzc2lnbic7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9PYmplY3QkZ2V0UHJvdG90eXBlT2YgZnJvbSAnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY24gZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgY2FsY3VsYXRlU2l6ZUFuZFBvc2l0aW9uRGF0YUFuZFVwZGF0ZVNjcm9sbE9mZnNldCBmcm9tICcuL3V0aWxzL2NhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGFBbmRVcGRhdGVTY3JvbGxPZmZzZXQnO1xuaW1wb3J0IFNjYWxpbmdDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlciBmcm9tICcuL3V0aWxzL1NjYWxpbmdDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcic7XG5pbXBvcnQgY3JlYXRlQ2FsbGJhY2tNZW1vaXplciBmcm9tICcuLi91dGlscy9jcmVhdGVDYWxsYmFja01lbW9pemVyJztcbmltcG9ydCBkZWZhdWx0T3ZlcnNjYW5JbmRpY2VzR2V0dGVyLCB7IFNDUk9MTF9ESVJFQ1RJT05fQkFDS1dBUkQsIFNDUk9MTF9ESVJFQ1RJT05fRk9SV0FSRCB9IGZyb20gJy4vZGVmYXVsdE92ZXJzY2FuSW5kaWNlc0dldHRlcic7XG5pbXBvcnQgdXBkYXRlU2Nyb2xsSW5kZXhIZWxwZXIgZnJvbSAnLi91dGlscy91cGRhdGVTY3JvbGxJbmRleEhlbHBlcic7XG5pbXBvcnQgZGVmYXVsdENlbGxSYW5nZVJlbmRlcmVyIGZyb20gJy4vZGVmYXVsdENlbGxSYW5nZVJlbmRlcmVyJztcbmltcG9ydCBzY3JvbGxiYXJTaXplIGZyb20gJ2RvbS1oZWxwZXJzL3V0aWwvc2Nyb2xsYmFyU2l6ZSc7XG5pbXBvcnQgeyBwb2x5ZmlsbCB9IGZyb20gJ3JlYWN0LWxpZmVjeWNsZXMtY29tcGF0JztcbmltcG9ydCB7IHJlcXVlc3RBbmltYXRpb25UaW1lb3V0LCBjYW5jZWxBbmltYXRpb25UaW1lb3V0IH0gZnJvbSAnLi4vdXRpbHMvcmVxdWVzdEFuaW1hdGlvblRpbWVvdXQnO1xuXG4vKipcbiAqIFNwZWNpZmllcyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBkdXJpbmcgd2hpY2ggdG8gZGlzYWJsZSBwb2ludGVyIGV2ZW50cyB3aGlsZSBhIHNjcm9sbCBpcyBpbiBwcm9ncmVzcy5cbiAqIFRoaXMgaW1wcm92ZXMgcGVyZm9ybWFuY2UgYW5kIG1ha2VzIHNjcm9sbGluZyBzbW9vdGhlci5cbiAqL1xuZXhwb3J0IHZhciBERUZBVUxUX1NDUk9MTElOR19SRVNFVF9USU1FX0lOVEVSVkFMID0gMTUwO1xuXG4vKipcbiAqIENvbnRyb2xzIHdoZXRoZXIgdGhlIEdyaWQgdXBkYXRlcyB0aGUgRE9NIGVsZW1lbnQncyBzY3JvbGxMZWZ0L3Njcm9sbFRvcCBiYXNlZCBvbiB0aGUgY3VycmVudCBzdGF0ZSBvciBqdXN0IG9ic2VydmVzIGl0LlxuICogVGhpcyBwcmV2ZW50cyBHcmlkIGZyb20gaW50ZXJydXB0aW5nIG1vdXNlLXdoZWVsIGFuaW1hdGlvbnMgKHNlZSBpc3N1ZSAjMikuXG4gKi9cbnZhciBTQ1JPTExfUE9TSVRJT05fQ0hBTkdFX1JFQVNPTlMgPSB7XG4gIE9CU0VSVkVEOiAnb2JzZXJ2ZWQnLFxuICBSRVFVRVNURUQ6ICdyZXF1ZXN0ZWQnXG59O1xuXG52YXIgcmVuZGVyTnVsbCA9IGZ1bmN0aW9uIHJlbmRlck51bGwoKSB7XG4gIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBSZW5kZXJzIHRhYnVsYXIgZGF0YSB3aXRoIHZpcnR1YWxpemF0aW9uIGFsb25nIHRoZSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBheGVzLlxuICogUm93IGhlaWdodHMgYW5kIGNvbHVtbiB3aWR0aHMgbXVzdCBiZSBrbm93biBhaGVhZCBvZiB0aW1lIGFuZCBzcGVjaWZpZWQgYXMgcHJvcGVydGllcy5cbiAqL1xudmFyIEdyaWQgPSBmdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEdyaWQsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICAvLyBJbnZva2VzIG9uU2VjdGlvblJlbmRlcmVkIGNhbGxiYWNrIG9ubHkgd2hlbiBzdGFydC9zdG9wIHJvdyBvciBjb2x1bW4gaW5kaWNlcyBjaGFuZ2VcbiAgZnVuY3Rpb24gR3JpZChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHcmlkKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChHcmlkLl9fcHJvdG9fXyB8fCBfT2JqZWN0JGdldFByb3RvdHlwZU9mKEdyaWQpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5fb25HcmlkUmVuZGVyZWRNZW1vaXplciA9IGNyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIoKTtcbiAgICBfdGhpcy5fb25TY3JvbGxNZW1vaXplciA9IGNyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIoZmFsc2UpO1xuICAgIF90aGlzLl9kZWZlcnJlZEludmFsaWRhdGVDb2x1bW5JbmRleCA9IG51bGw7XG4gICAgX3RoaXMuX2RlZmVycmVkSW52YWxpZGF0ZVJvd0luZGV4ID0gbnVsbDtcbiAgICBfdGhpcy5fcmVjb21wdXRlU2Nyb2xsTGVmdEZsYWcgPSBmYWxzZTtcbiAgICBfdGhpcy5fcmVjb21wdXRlU2Nyb2xsVG9wRmxhZyA9IGZhbHNlO1xuICAgIF90aGlzLl9ob3Jpem9udGFsU2Nyb2xsQmFyU2l6ZSA9IDA7XG4gICAgX3RoaXMuX3ZlcnRpY2FsU2Nyb2xsQmFyU2l6ZSA9IDA7XG4gICAgX3RoaXMuX3Njcm9sbGJhclByZXNlbmNlQ2hhbmdlZCA9IGZhbHNlO1xuICAgIF90aGlzLl9yZW5kZXJlZENvbHVtblN0YXJ0SW5kZXggPSAwO1xuICAgIF90aGlzLl9yZW5kZXJlZENvbHVtblN0b3BJbmRleCA9IDA7XG4gICAgX3RoaXMuX3JlbmRlcmVkUm93U3RhcnRJbmRleCA9IDA7XG4gICAgX3RoaXMuX3JlbmRlcmVkUm93U3RvcEluZGV4ID0gMDtcbiAgICBfdGhpcy5fc3R5bGVDYWNoZSA9IHt9O1xuICAgIF90aGlzLl9jZWxsQ2FjaGUgPSB7fTtcblxuICAgIF90aGlzLl9kZWJvdW5jZVNjcm9sbEVuZGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5fZGlzYWJsZVBvaW50ZXJFdmVudHNUaW1lb3V0SWQgPSBudWxsO1xuICAgICAgLy8gaXNTY3JvbGxpbmcgaXMgdXNlZCB0byBkZXRlcm1pbmUgaWYgd2UgcmVzZXQgc3R5bGVDYWNoZVxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1Njcm9sbGluZzogZmFsc2UsXG4gICAgICAgIG5lZWRUb1Jlc2V0U3R5bGVDYWNoZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5faW52b2tlT25HcmlkUmVuZGVyZWRIZWxwZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgb25TZWN0aW9uUmVuZGVyZWQgPSBfdGhpcy5wcm9wcy5vblNlY3Rpb25SZW5kZXJlZDtcblxuXG4gICAgICBfdGhpcy5fb25HcmlkUmVuZGVyZWRNZW1vaXplcih7XG4gICAgICAgIGNhbGxiYWNrOiBvblNlY3Rpb25SZW5kZXJlZCxcbiAgICAgICAgaW5kaWNlczoge1xuICAgICAgICAgIGNvbHVtbk92ZXJzY2FuU3RhcnRJbmRleDogX3RoaXMuX2NvbHVtblN0YXJ0SW5kZXgsXG4gICAgICAgICAgY29sdW1uT3ZlcnNjYW5TdG9wSW5kZXg6IF90aGlzLl9jb2x1bW5TdG9wSW5kZXgsXG4gICAgICAgICAgY29sdW1uU3RhcnRJbmRleDogX3RoaXMuX3JlbmRlcmVkQ29sdW1uU3RhcnRJbmRleCxcbiAgICAgICAgICBjb2x1bW5TdG9wSW5kZXg6IF90aGlzLl9yZW5kZXJlZENvbHVtblN0b3BJbmRleCxcbiAgICAgICAgICByb3dPdmVyc2NhblN0YXJ0SW5kZXg6IF90aGlzLl9yb3dTdGFydEluZGV4LFxuICAgICAgICAgIHJvd092ZXJzY2FuU3RvcEluZGV4OiBfdGhpcy5fcm93U3RvcEluZGV4LFxuICAgICAgICAgIHJvd1N0YXJ0SW5kZXg6IF90aGlzLl9yZW5kZXJlZFJvd1N0YXJ0SW5kZXgsXG4gICAgICAgICAgcm93U3RvcEluZGV4OiBfdGhpcy5fcmVuZGVyZWRSb3dTdG9wSW5kZXhcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLl9zZXRTY3JvbGxpbmdDb250YWluZXJSZWYgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgICBfdGhpcy5fc2Nyb2xsaW5nQ29udGFpbmVyID0gcmVmO1xuICAgIH07XG5cbiAgICBfdGhpcy5fb25TY3JvbGwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIC8vIEluIGNlcnRhaW4gZWRnZS1jYXNlcyBSZWFjdCBkaXNwYXRjaGVzIGFuIG9uU2Nyb2xsIGV2ZW50IHdpdGggYW4gaW52YWxpZCB0YXJnZXQuc2Nyb2xsTGVmdCAvIHRhcmdldC5zY3JvbGxUb3AuXG4gICAgICAvLyBUaGlzIGludmFsaWQgZXZlbnQgY2FuIGJlIGRldGVjdGVkIGJ5IGNvbXBhcmluZyBldmVudC50YXJnZXQgdG8gdGhpcyBjb21wb25lbnQncyBzY3JvbGxhYmxlIERPTSBlbGVtZW50LlxuICAgICAgLy8gU2VlIGlzc3VlICM0MDQgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBfdGhpcy5fc2Nyb2xsaW5nQ29udGFpbmVyKSB7XG4gICAgICAgIF90aGlzLmhhbmRsZVNjcm9sbEV2ZW50KGV2ZW50LnRhcmdldCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBjb2x1bW5TaXplQW5kUG9zaXRpb25NYW5hZ2VyID0gbmV3IFNjYWxpbmdDZWxsU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcih7XG4gICAgICBjZWxsQ291bnQ6IHByb3BzLmNvbHVtbkNvdW50LFxuICAgICAgY2VsbFNpemVHZXR0ZXI6IGZ1bmN0aW9uIGNlbGxTaXplR2V0dGVyKHBhcmFtcykge1xuICAgICAgICByZXR1cm4gR3JpZC5fd3JhcFNpemVHZXR0ZXIocHJvcHMuY29sdW1uV2lkdGgpKHBhcmFtcyk7XG4gICAgICB9LFxuICAgICAgZXN0aW1hdGVkQ2VsbFNpemU6IEdyaWQuX2dldEVzdGltYXRlZENvbHVtblNpemUocHJvcHMpXG4gICAgfSk7XG4gICAgdmFyIHJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIgPSBuZXcgU2NhbGluZ0NlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyKHtcbiAgICAgIGNlbGxDb3VudDogcHJvcHMucm93Q291bnQsXG4gICAgICBjZWxsU2l6ZUdldHRlcjogZnVuY3Rpb24gY2VsbFNpemVHZXR0ZXIocGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBHcmlkLl93cmFwU2l6ZUdldHRlcihwcm9wcy5yb3dIZWlnaHQpKHBhcmFtcyk7XG4gICAgICB9LFxuICAgICAgZXN0aW1hdGVkQ2VsbFNpemU6IEdyaWQuX2dldEVzdGltYXRlZFJvd1NpemUocHJvcHMpXG4gICAgfSk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGluc3RhbmNlUHJvcHM6IHtcbiAgICAgICAgY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcjogY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcixcbiAgICAgICAgcm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlcjogcm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlcixcblxuICAgICAgICBwcmV2Q29sdW1uV2lkdGg6IHByb3BzLmNvbHVtbldpZHRoLFxuICAgICAgICBwcmV2Um93SGVpZ2h0OiBwcm9wcy5yb3dIZWlnaHQsXG4gICAgICAgIHByZXZDb2x1bW5Db3VudDogcHJvcHMuY29sdW1uQ291bnQsXG4gICAgICAgIHByZXZSb3dDb3VudDogcHJvcHMucm93Q291bnQsXG4gICAgICAgIHByZXZJc1Njcm9sbGluZzogcHJvcHMuaXNTY3JvbGxpbmcgPT09IHRydWUsXG4gICAgICAgIHByZXZTY3JvbGxUb0NvbHVtbjogcHJvcHMuc2Nyb2xsVG9Db2x1bW4sXG4gICAgICAgIHByZXZTY3JvbGxUb1JvdzogcHJvcHMuc2Nyb2xsVG9Sb3csXG5cbiAgICAgICAgc2Nyb2xsYmFyU2l6ZTogMCxcbiAgICAgICAgc2Nyb2xsYmFyU2l6ZU1lYXN1cmVkOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGlzU2Nyb2xsaW5nOiBmYWxzZSxcbiAgICAgIHNjcm9sbERpcmVjdGlvbkhvcml6b250YWw6IFNDUk9MTF9ESVJFQ1RJT05fRk9SV0FSRCxcbiAgICAgIHNjcm9sbERpcmVjdGlvblZlcnRpY2FsOiBTQ1JPTExfRElSRUNUSU9OX0ZPUldBUkQsXG4gICAgICBzY3JvbGxMZWZ0OiAwLFxuICAgICAgc2Nyb2xsVG9wOiAwLFxuICAgICAgc2Nyb2xsUG9zaXRpb25DaGFuZ2VSZWFzb246IG51bGwsXG5cbiAgICAgIG5lZWRUb1Jlc2V0U3R5bGVDYWNoZTogZmFsc2VcbiAgICB9O1xuXG4gICAgaWYgKHByb3BzLnNjcm9sbFRvUm93ID4gMCkge1xuICAgICAgX3RoaXMuX2luaXRpYWxTY3JvbGxUb3AgPSBfdGhpcy5fZ2V0Q2FsY3VsYXRlZFNjcm9sbFRvcChwcm9wcywgX3RoaXMuc3RhdGUpO1xuICAgIH1cbiAgICBpZiAocHJvcHMuc2Nyb2xsVG9Db2x1bW4gPiAwKSB7XG4gICAgICBfdGhpcy5faW5pdGlhbFNjcm9sbExlZnQgPSBfdGhpcy5fZ2V0Q2FsY3VsYXRlZFNjcm9sbExlZnQocHJvcHMsIF90aGlzLnN0YXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgb2Zmc2V0cyBmb3IgYSBnaXZlbiBjZWxsIGFuZCBhbGlnbm1lbnQuXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKEdyaWQsIFt7XG4gICAga2V5OiAnZ2V0T2Zmc2V0Rm9yQ2VsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE9mZnNldEZvckNlbGwoKSB7XG4gICAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgX3JlZiRhbGlnbm1lbnQgPSBfcmVmLmFsaWdubWVudCxcbiAgICAgICAgICBhbGlnbm1lbnQgPSBfcmVmJGFsaWdubWVudCA9PT0gdW5kZWZpbmVkID8gdGhpcy5wcm9wcy5zY3JvbGxUb0FsaWdubWVudCA6IF9yZWYkYWxpZ25tZW50LFxuICAgICAgICAgIF9yZWYkY29sdW1uSW5kZXggPSBfcmVmLmNvbHVtbkluZGV4LFxuICAgICAgICAgIGNvbHVtbkluZGV4ID0gX3JlZiRjb2x1bW5JbmRleCA9PT0gdW5kZWZpbmVkID8gdGhpcy5wcm9wcy5zY3JvbGxUb0NvbHVtbiA6IF9yZWYkY29sdW1uSW5kZXgsXG4gICAgICAgICAgX3JlZiRyb3dJbmRleCA9IF9yZWYucm93SW5kZXgsXG4gICAgICAgICAgcm93SW5kZXggPSBfcmVmJHJvd0luZGV4ID09PSB1bmRlZmluZWQgPyB0aGlzLnByb3BzLnNjcm9sbFRvUm93IDogX3JlZiRyb3dJbmRleDtcblxuICAgICAgdmFyIG9mZnNldFByb3BzID0gX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHtcbiAgICAgICAgc2Nyb2xsVG9BbGlnbm1lbnQ6IGFsaWdubWVudCxcbiAgICAgICAgc2Nyb2xsVG9Db2x1bW46IGNvbHVtbkluZGV4LFxuICAgICAgICBzY3JvbGxUb1Jvdzogcm93SW5kZXhcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzY3JvbGxMZWZ0OiB0aGlzLl9nZXRDYWxjdWxhdGVkU2Nyb2xsTGVmdChvZmZzZXRQcm9wcyksXG4gICAgICAgIHNjcm9sbFRvcDogdGhpcy5fZ2V0Q2FsY3VsYXRlZFNjcm9sbFRvcChvZmZzZXRQcm9wcylcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBlc3RpbWF0ZWQgdG90YWwgcm93cycgaGVpZ2h0LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRUb3RhbFJvd3NIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUb3RhbFJvd3NIZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5pbnN0YW5jZVByb3BzLnJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VG90YWxTaXplKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBlc3RpbWF0ZWQgdG90YWwgY29sdW1ucycgd2lkdGguXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFRvdGFsQ29sdW1uc1dpZHRoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VG90YWxDb2x1bW5zV2lkdGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5pbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VG90YWxTaXplKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaGFuZGxlcyBhIHNjcm9sbCBldmVudCBvcmlnaW5hdGluZyBmcm9tIGFuIGV4dGVybmFsIHNjcm9sbCBjb250cm9sLlxuICAgICAqIEl0J3MgYW4gYWR2YW5jZWQgbWV0aG9kIGFuZCBzaG91bGQgcHJvYmFibHkgbm90IGJlIHVzZWQgdW5sZXNzIHlvdSdyZSBpbXBsZW1lbnRpbmcgYSBjdXN0b20gc2Nyb2xsLWJhciBzb2x1dGlvbi5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlU2Nyb2xsRXZlbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGxFdmVudChfcmVmMikge1xuICAgICAgdmFyIF9yZWYyJHNjcm9sbExlZnQgPSBfcmVmMi5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbExlZnRQYXJhbSA9IF9yZWYyJHNjcm9sbExlZnQgPT09IHVuZGVmaW5lZCA/IDAgOiBfcmVmMiRzY3JvbGxMZWZ0LFxuICAgICAgICAgIF9yZWYyJHNjcm9sbFRvcCA9IF9yZWYyLnNjcm9sbFRvcCxcbiAgICAgICAgICBzY3JvbGxUb3BQYXJhbSA9IF9yZWYyJHNjcm9sbFRvcCA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWYyJHNjcm9sbFRvcDtcblxuICAgICAgLy8gT24gaU9TLCB3ZSBjYW4gYXJyaXZlIGF0IG5lZ2F0aXZlIG9mZnNldHMgYnkgc3dpcGluZyBwYXN0IHRoZSBzdGFydC5cbiAgICAgIC8vIFRvIHByZXZlbnQgZmxpY2tlciBoZXJlLCB3ZSBtYWtlIHBsYXlpbmcgaW4gdGhlIG5lZ2F0aXZlIG9mZnNldCB6b25lIGNhdXNlIG5vdGhpbmcgdG8gaGFwcGVuLlxuICAgICAgaWYgKHNjcm9sbFRvcFBhcmFtIDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFByZXZlbnQgcG9pbnRlciBldmVudHMgZnJvbSBpbnRlcnJ1cHRpbmcgYSBzbW9vdGggc2Nyb2xsXG4gICAgICB0aGlzLl9kZWJvdW5jZVNjcm9sbEVuZGVkKCk7XG5cbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGF1dG9IZWlnaHQgPSBfcHJvcHMuYXV0b0hlaWdodCxcbiAgICAgICAgICBhdXRvV2lkdGggPSBfcHJvcHMuYXV0b1dpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IF9wcm9wcy5oZWlnaHQsXG4gICAgICAgICAgd2lkdGggPSBfcHJvcHMud2lkdGg7XG4gICAgICB2YXIgaW5zdGFuY2VQcm9wcyA9IHRoaXMuc3RhdGUuaW5zdGFuY2VQcm9wcztcblxuICAgICAgLy8gV2hlbiB0aGlzIGNvbXBvbmVudCBpcyBzaHJ1bmsgZHJhc3RpY2FsbHksIFJlYWN0IGRpc3BhdGNoZXMgYSBzZXJpZXMgb2YgYmFjay10by1iYWNrIHNjcm9sbCBldmVudHMsXG4gICAgICAvLyBHcmFkdWFsbHkgY29udmVyZ2luZyBvbiBhIHNjcm9sbFRvcCB0aGF0IGlzIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoZSBuZXcsIHNtYWxsZXIgaGVpZ2h0LlxuICAgICAgLy8gVGhpcyBjYXVzZXMgYSBzZXJpZXMgb2YgcmFwaWQgcmVuZGVycyB0aGF0IGlzIHNsb3cgZm9yIGxvbmcgbGlzdHMuXG4gICAgICAvLyBXZSBjYW4gYXZvaWQgdGhhdCBieSBkb2luZyBzb21lIHNpbXBsZSBib3VuZHMgY2hlY2tpbmcgdG8gZW5zdXJlIHRoYXQgc2Nyb2xsIG9mZnNldHMgbmV2ZXIgZXhjZWVkIHRoZWlyIGJvdW5kcy5cblxuICAgICAgdmFyIHNjcm9sbGJhclNpemUgPSBpbnN0YW5jZVByb3BzLnNjcm9sbGJhclNpemU7XG4gICAgICB2YXIgdG90YWxSb3dzSGVpZ2h0ID0gaW5zdGFuY2VQcm9wcy5yb3dTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFRvdGFsU2l6ZSgpO1xuICAgICAgdmFyIHRvdGFsQ29sdW1uc1dpZHRoID0gaW5zdGFuY2VQcm9wcy5jb2x1bW5TaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFRvdGFsU2l6ZSgpO1xuICAgICAgdmFyIHNjcm9sbExlZnQgPSBNYXRoLm1pbihNYXRoLm1heCgwLCB0b3RhbENvbHVtbnNXaWR0aCAtIHdpZHRoICsgc2Nyb2xsYmFyU2l6ZSksIHNjcm9sbExlZnRQYXJhbSk7XG4gICAgICB2YXIgc2Nyb2xsVG9wID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgdG90YWxSb3dzSGVpZ2h0IC0gaGVpZ2h0ICsgc2Nyb2xsYmFyU2l6ZSksIHNjcm9sbFRvcFBhcmFtKTtcblxuICAgICAgLy8gQ2VydGFpbiBkZXZpY2VzIChsaWtlIEFwcGxlIHRvdWNocGFkKSByYXBpZC1maXJlIGR1cGxpY2F0ZSBldmVudHMuXG4gICAgICAvLyBEb24ndCBmb3JjZSBhIHJlLXJlbmRlciBpZiB0aGlzIGlzIHRoZSBjYXNlLlxuICAgICAgLy8gVGhlIG1vdXNlIG1heSBtb3ZlIGZhc3RlciB0aGVuIHRoZSBhbmltYXRpb24gZnJhbWUgZG9lcy5cbiAgICAgIC8vIFVzZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgdG8gYXZvaWQgb3Zlci11cGRhdGluZy5cbiAgICAgIGlmICh0aGlzLnN0YXRlLnNjcm9sbExlZnQgIT09IHNjcm9sbExlZnQgfHwgdGhpcy5zdGF0ZS5zY3JvbGxUb3AgIT09IHNjcm9sbFRvcCkge1xuICAgICAgICAvLyBUcmFjayBzY3JvbGxpbmcgZGlyZWN0aW9uIHNvIHdlIGNhbiBtb3JlIGVmZmljaWVudGx5IG92ZXJzY2FuIHJvd3MgdG8gcmVkdWNlIGVtcHR5IHNwYWNlIGFyb3VuZCB0aGUgZWRnZXMgd2hpbGUgc2Nyb2xsaW5nLlxuICAgICAgICAvLyBEb24ndCBjaGFuZ2UgZGlyZWN0aW9uIGZvciBhbiBheGlzIHVubGVzcyBzY3JvbGwgb2Zmc2V0IGhhcyBjaGFuZ2VkLlxuICAgICAgICB2YXIgX3Njcm9sbERpcmVjdGlvbkhvcml6b250YWwgPSBzY3JvbGxMZWZ0ICE9PSB0aGlzLnN0YXRlLnNjcm9sbExlZnQgPyBzY3JvbGxMZWZ0ID4gdGhpcy5zdGF0ZS5zY3JvbGxMZWZ0ID8gU0NST0xMX0RJUkVDVElPTl9GT1JXQVJEIDogU0NST0xMX0RJUkVDVElPTl9CQUNLV0FSRCA6IHRoaXMuc3RhdGUuc2Nyb2xsRGlyZWN0aW9uSG9yaXpvbnRhbDtcbiAgICAgICAgdmFyIF9zY3JvbGxEaXJlY3Rpb25WZXJ0aWNhbCA9IHNjcm9sbFRvcCAhPT0gdGhpcy5zdGF0ZS5zY3JvbGxUb3AgPyBzY3JvbGxUb3AgPiB0aGlzLnN0YXRlLnNjcm9sbFRvcCA/IFNDUk9MTF9ESVJFQ1RJT05fRk9SV0FSRCA6IFNDUk9MTF9ESVJFQ1RJT05fQkFDS1dBUkQgOiB0aGlzLnN0YXRlLnNjcm9sbERpcmVjdGlvblZlcnRpY2FsO1xuXG4gICAgICAgIHZhciBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICBpc1Njcm9sbGluZzogdHJ1ZSxcbiAgICAgICAgICBzY3JvbGxEaXJlY3Rpb25Ib3Jpem9udGFsOiBfc2Nyb2xsRGlyZWN0aW9uSG9yaXpvbnRhbCxcbiAgICAgICAgICBzY3JvbGxEaXJlY3Rpb25WZXJ0aWNhbDogX3Njcm9sbERpcmVjdGlvblZlcnRpY2FsLFxuICAgICAgICAgIHNjcm9sbFBvc2l0aW9uQ2hhbmdlUmVhc29uOiBTQ1JPTExfUE9TSVRJT05fQ0hBTkdFX1JFQVNPTlMuT0JTRVJWRURcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIWF1dG9IZWlnaHQpIHtcbiAgICAgICAgICBuZXdTdGF0ZS5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWF1dG9XaWR0aCkge1xuICAgICAgICAgIG5ld1N0YXRlLnNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3U3RhdGUubmVlZFRvUmVzZXRTdHlsZUNhY2hlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUobmV3U3RhdGUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9pbnZva2VPblNjcm9sbE1lbW9pemVyKHtcbiAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICAgIHRvdGFsQ29sdW1uc1dpZHRoOiB0b3RhbENvbHVtbnNXaWR0aCxcbiAgICAgICAgdG90YWxSb3dzSGVpZ2h0OiB0b3RhbFJvd3NIZWlnaHRcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludmFsaWRhdGUgR3JpZCBzaXplIGFuZCByZWNvbXB1dGUgdmlzaWJsZSBjZWxscy5cbiAgICAgKiBUaGlzIGlzIGEgZGVmZXJyZWQgd3JhcHBlciBmb3IgcmVjb21wdXRlR3JpZFNpemUoKS5cbiAgICAgKiBJdCBzZXRzIGEgZmxhZyB0byBiZSBldmFsdWF0ZWQgb24gY0RNL2NEVSB0byBhdm9pZCB1bm5lY2Vzc2FyeSByZW5kZXJzLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGludGVuZGVkIGZvciBhZHZhbmNlZCB1c2UtY2FzZXMgbGlrZSBDZWxsTWVhc3VyZXIuXG4gICAgICovXG4gICAgLy8gQFRPRE8gKGJ2YXVnaG4pIEFkZCBhdXRvbWF0ZWQgdGVzdCBjb3ZlcmFnZSBmb3IgdGhpcy5cblxuICB9LCB7XG4gICAga2V5OiAnaW52YWxpZGF0ZUNlbGxTaXplQWZ0ZXJSZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbnZhbGlkYXRlQ2VsbFNpemVBZnRlclJlbmRlcihfcmVmMykge1xuICAgICAgdmFyIGNvbHVtbkluZGV4ID0gX3JlZjMuY29sdW1uSW5kZXgsXG4gICAgICAgICAgcm93SW5kZXggPSBfcmVmMy5yb3dJbmRleDtcblxuICAgICAgdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlQ29sdW1uSW5kZXggPSB0eXBlb2YgdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlQ29sdW1uSW5kZXggPT09ICdudW1iZXInID8gTWF0aC5taW4odGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlQ29sdW1uSW5kZXgsIGNvbHVtbkluZGV4KSA6IGNvbHVtbkluZGV4O1xuICAgICAgdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlUm93SW5kZXggPSB0eXBlb2YgdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlUm93SW5kZXggPT09ICdudW1iZXInID8gTWF0aC5taW4odGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlUm93SW5kZXgsIHJvd0luZGV4KSA6IHJvd0luZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByZS1tZWFzdXJlIGFsbCBjb2x1bW5zIGFuZCByb3dzIGluIGEgR3JpZC5cbiAgICAgKiBUeXBpY2FsbHkgY2VsbHMgYXJlIG9ubHkgbWVhc3VyZWQgYXMgbmVlZGVkIGFuZCBlc3RpbWF0ZWQgc2l6ZXMgYXJlIHVzZWQgZm9yIGNlbGxzIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW4gbWVhc3VyZWQuXG4gICAgICogVGhpcyBtZXRob2QgZW5zdXJlcyB0aGF0IHRoZSBuZXh0IGNhbGwgdG8gZ2V0VG90YWxTaXplKCkgcmV0dXJucyBhbiBleGFjdCBzaXplIChhcyBvcHBvc2VkIHRvIGp1c3QgYW4gZXN0aW1hdGVkIG9uZSkuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ21lYXN1cmVBbGxDZWxscycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1lYXN1cmVBbGxDZWxscygpIHtcbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjb2x1bW5Db3VudCA9IF9wcm9wczIuY29sdW1uQ291bnQsXG4gICAgICAgICAgcm93Q291bnQgPSBfcHJvcHMyLnJvd0NvdW50O1xuICAgICAgdmFyIGluc3RhbmNlUHJvcHMgPSB0aGlzLnN0YXRlLmluc3RhbmNlUHJvcHM7XG5cbiAgICAgIGluc3RhbmNlUHJvcHMuY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRTaXplQW5kUG9zaXRpb25PZkNlbGwoY29sdW1uQ291bnQgLSAxKTtcbiAgICAgIGluc3RhbmNlUHJvcHMucm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRTaXplQW5kUG9zaXRpb25PZkNlbGwocm93Q291bnQgLSAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3JjZWQgcmVjb21wdXRlIG9mIHJvdyBoZWlnaHRzIGFuZCBjb2x1bW4gd2lkdGhzLlxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZCBpZiBkeW5hbWljIGNvbHVtbiBvciByb3cgc2l6ZXMgaGF2ZSBjaGFuZ2VkIGJ1dCBub3RoaW5nIGVsc2UgaGFzLlxuICAgICAqIFNpbmNlIEdyaWQgb25seSByZWNlaXZlcyA6Y29sdW1uQ291bnQgYW5kIDpyb3dDb3VudCBpdCBoYXMgbm8gd2F5IG9mIGRldGVjdGluZyB3aGVuIHRoZSB1bmRlcmx5aW5nIGRhdGEgY2hhbmdlcy5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVjb21wdXRlR3JpZFNpemUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWNvbXB1dGVHcmlkU2l6ZSgpIHtcbiAgICAgIHZhciBfcmVmNCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge30sXG4gICAgICAgICAgX3JlZjQkY29sdW1uSW5kZXggPSBfcmVmNC5jb2x1bW5JbmRleCxcbiAgICAgICAgICBjb2x1bW5JbmRleCA9IF9yZWY0JGNvbHVtbkluZGV4ID09PSB1bmRlZmluZWQgPyAwIDogX3JlZjQkY29sdW1uSW5kZXgsXG4gICAgICAgICAgX3JlZjQkcm93SW5kZXggPSBfcmVmNC5yb3dJbmRleCxcbiAgICAgICAgICByb3dJbmRleCA9IF9yZWY0JHJvd0luZGV4ID09PSB1bmRlZmluZWQgPyAwIDogX3JlZjQkcm93SW5kZXg7XG5cbiAgICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzY3JvbGxUb0NvbHVtbiA9IF9wcm9wczMuc2Nyb2xsVG9Db2x1bW4sXG4gICAgICAgICAgc2Nyb2xsVG9Sb3cgPSBfcHJvcHMzLnNjcm9sbFRvUm93O1xuICAgICAgdmFyIGluc3RhbmNlUHJvcHMgPSB0aGlzLnN0YXRlLmluc3RhbmNlUHJvcHM7XG5cblxuICAgICAgaW5zdGFuY2VQcm9wcy5jb2x1bW5TaXplQW5kUG9zaXRpb25NYW5hZ2VyLnJlc2V0Q2VsbChjb2x1bW5JbmRleCk7XG4gICAgICBpbnN0YW5jZVByb3BzLnJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIucmVzZXRDZWxsKHJvd0luZGV4KTtcblxuICAgICAgLy8gQ2VsbCBzaXplcyBtYXkgYmUgZGV0ZXJtaW5lZCBieSBhIGZ1bmN0aW9uIHByb3BlcnR5LlxuICAgICAgLy8gSW4gdGhpcyBjYXNlIHRoZSBjRFUgaGFuZGxlciBjYW4ndCBrbm93IGlmIHRoZXkgY2hhbmdlZC5cbiAgICAgIC8vIFN0b3JlIHRoaXMgZmxhZyB0byBsZXQgdGhlIG5leHQgY0RVIHBhc3Mga25vdyBpdCBuZWVkcyB0byByZWNvbXB1dGUgdGhlIHNjcm9sbCBvZmZzZXQuXG4gICAgICB0aGlzLl9yZWNvbXB1dGVTY3JvbGxMZWZ0RmxhZyA9IHNjcm9sbFRvQ29sdW1uID49IDAgJiYgKHRoaXMuc3RhdGUuc2Nyb2xsRGlyZWN0aW9uSG9yaXpvbnRhbCA9PT0gU0NST0xMX0RJUkVDVElPTl9GT1JXQVJEID8gY29sdW1uSW5kZXggPD0gc2Nyb2xsVG9Db2x1bW4gOiBjb2x1bW5JbmRleCA+PSBzY3JvbGxUb0NvbHVtbik7XG4gICAgICB0aGlzLl9yZWNvbXB1dGVTY3JvbGxUb3BGbGFnID0gc2Nyb2xsVG9Sb3cgPj0gMCAmJiAodGhpcy5zdGF0ZS5zY3JvbGxEaXJlY3Rpb25WZXJ0aWNhbCA9PT0gU0NST0xMX0RJUkVDVElPTl9GT1JXQVJEID8gcm93SW5kZXggPD0gc2Nyb2xsVG9Sb3cgOiByb3dJbmRleCA+PSBzY3JvbGxUb1Jvdyk7XG5cbiAgICAgIC8vIENsZWFyIGNlbGwgY2FjaGUgaW4gY2FzZSB3ZSBhcmUgc2Nyb2xsaW5nO1xuICAgICAgLy8gSW52YWxpZCByb3cgaGVpZ2h0cyBsaWtlbHkgbWVhbiBpbnZhbGlkIGNhY2hlZCBjb250ZW50IGFzIHdlbGwuXG4gICAgICB0aGlzLl9zdHlsZUNhY2hlID0ge307XG4gICAgICB0aGlzLl9jZWxsQ2FjaGUgPSB7fTtcblxuICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuc3VyZSBjb2x1bW4gYW5kIHJvdyBhcmUgdmlzaWJsZS5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2Nyb2xsVG9DZWxsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsVG9DZWxsKF9yZWY1KSB7XG4gICAgICB2YXIgY29sdW1uSW5kZXggPSBfcmVmNS5jb2x1bW5JbmRleCxcbiAgICAgICAgICByb3dJbmRleCA9IF9yZWY1LnJvd0luZGV4O1xuICAgICAgdmFyIGNvbHVtbkNvdW50ID0gdGhpcy5wcm9wcy5jb2x1bW5Db3VudDtcblxuXG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXG4gICAgICAvLyBEb24ndCBhZGp1c3Qgc2Nyb2xsIG9mZnNldCBmb3Igc2luZ2xlLWNvbHVtbiBncmlkcyAoZWcgTGlzdCwgVGFibGUpLlxuICAgICAgLy8gVGhpcyBjYW4gY2F1c2UgYSBmdW5reSBzY3JvbGwgb2Zmc2V0IGJlY2F1c2Ugb2YgdGhlIHZlcnRpY2FsIHNjcm9sbGJhciB3aWR0aC5cbiAgICAgIGlmIChjb2x1bW5Db3VudCA+IDEgJiYgY29sdW1uSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLl91cGRhdGVTY3JvbGxMZWZ0Rm9yU2Nyb2xsVG9Db2x1bW4oX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgICAgc2Nyb2xsVG9Db2x1bW46IGNvbHVtbkluZGV4XG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJvd0luZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2Nyb2xsVG9wRm9yU2Nyb2xsVG9Sb3coX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgICAgc2Nyb2xsVG9Sb3c6IHJvd0luZGV4XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF9wcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGdldFNjcm9sbGJhclNpemUgPSBfcHJvcHM0LmdldFNjcm9sbGJhclNpemUsXG4gICAgICAgICAgaGVpZ2h0ID0gX3Byb3BzNC5oZWlnaHQsXG4gICAgICAgICAgc2Nyb2xsTGVmdCA9IF9wcm9wczQuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb0NvbHVtbiA9IF9wcm9wczQuc2Nyb2xsVG9Db2x1bW4sXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3Byb3BzNC5zY3JvbGxUb3AsXG4gICAgICAgICAgc2Nyb2xsVG9Sb3cgPSBfcHJvcHM0LnNjcm9sbFRvUm93LFxuICAgICAgICAgIHdpZHRoID0gX3Byb3BzNC53aWR0aDtcbiAgICAgIHZhciBpbnN0YW5jZVByb3BzID0gdGhpcy5zdGF0ZS5pbnN0YW5jZVByb3BzO1xuXG4gICAgICAvLyBSZXNldCBpbml0aWFsIG9mZnNldHMgdG8gYmUgaWdub3JlZCBpbiBicm93c2VyXG5cbiAgICAgIHRoaXMuX2luaXRpYWxTY3JvbGxUb3AgPSAwO1xuICAgICAgdGhpcy5faW5pdGlhbFNjcm9sbExlZnQgPSAwO1xuXG4gICAgICAvLyBJZiBjZWxsIHNpemVzIGhhdmUgYmVlbiBpbnZhbGlkYXRlZCAoZWcgd2UgYXJlIHVzaW5nIENlbGxNZWFzdXJlcikgdGhlbiByZXNldCBjYWNoZWQgcG9zaXRpb25zLlxuICAgICAgLy8gV2UgbXVzdCBkbyB0aGlzIGF0IHRoZSBzdGFydCBvZiB0aGUgbWV0aG9kIGFzIHdlIG1heSBjYWxjdWxhdGUgYW5kIHVwZGF0ZSBzY3JvbGwgcG9zaXRpb24gYmVsb3cuXG4gICAgICB0aGlzLl9oYW5kbGVJbnZhbGlkYXRlZEdyaWRTaXplKCk7XG5cbiAgICAgIC8vIElmIHRoaXMgY29tcG9uZW50IHdhcyBmaXJzdCByZW5kZXJlZCBzZXJ2ZXItc2lkZSwgc2Nyb2xsYmFyIHNpemUgd2lsbCBiZSB1bmRlZmluZWQuXG4gICAgICAvLyBJbiB0aGF0IGV2ZW50IHdlIG5lZWQgdG8gcmVtZWFzdXJlLlxuICAgICAgaWYgKCFpbnN0YW5jZVByb3BzLnNjcm9sbGJhclNpemVNZWFzdXJlZCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgICAgICB2YXIgc3RhdGVVcGRhdGUgPSBfZXh0ZW5kcyh7fSwgcHJldlN0YXRlLCB7IG5lZWRUb1Jlc2V0U3R5bGVDYWNoZTogZmFsc2UgfSk7XG4gICAgICAgICAgc3RhdGVVcGRhdGUuaW5zdGFuY2VQcm9wcy5zY3JvbGxiYXJTaXplID0gZ2V0U2Nyb2xsYmFyU2l6ZSgpO1xuICAgICAgICAgIHN0YXRlVXBkYXRlLmluc3RhbmNlUHJvcHMuc2Nyb2xsYmFyU2l6ZU1lYXN1cmVkID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gc3RhdGVVcGRhdGU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNjcm9sbExlZnQgPT09ICdudW1iZXInICYmIHNjcm9sbExlZnQgPj0gMCB8fCB0eXBlb2Ygc2Nyb2xsVG9wID09PSAnbnVtYmVyJyAmJiBzY3JvbGxUb3AgPj0gMCkge1xuICAgICAgICB2YXIgc3RhdGVVcGRhdGUgPSBHcmlkLl9nZXRTY3JvbGxUb1Bvc2l0aW9uU3RhdGVVcGRhdGUoe1xuICAgICAgICAgIHByZXZTdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgICAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc3RhdGVVcGRhdGUpIHtcbiAgICAgICAgICBzdGF0ZVVwZGF0ZS5uZWVkVG9SZXNldFN0eWxlQ2FjaGUgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlVXBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyByZWZzIGRvbid0IHdvcmsgaW4gYHJlYWN0LXRlc3QtcmVuZGVyZXJgXG4gICAgICBpZiAodGhpcy5fc2Nyb2xsaW5nQ29udGFpbmVyKSB7XG4gICAgICAgIC8vIHNldHRpbmcgdGhlIHJlZidzIHNjcm9sbExlZnQgYW5kIHNjcm9sbFRvcC5cbiAgICAgICAgLy8gU29tZWhvdyBpbiBNdWx0aUdyaWQgdGhlIG1haW4gZ3JpZCBkb2Vzbid0IHRyaWdnZXIgYSB1cGRhdGUgb24gbW91bnQuXG4gICAgICAgIGlmICh0aGlzLl9zY3JvbGxpbmdDb250YWluZXIuc2Nyb2xsTGVmdCAhPT0gdGhpcy5zdGF0ZS5zY3JvbGxMZWZ0KSB7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsaW5nQ29udGFpbmVyLnNjcm9sbExlZnQgPSB0aGlzLnN0YXRlLnNjcm9sbExlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3Njcm9sbGluZ0NvbnRhaW5lci5zY3JvbGxUb3AgIT09IHRoaXMuc3RhdGUuc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsaW5nQ29udGFpbmVyLnNjcm9sbFRvcCA9IHRoaXMuc3RhdGUuc2Nyb2xsVG9wO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIERvbid0IHVwZGF0ZSBzY3JvbGwgb2Zmc2V0IGlmIHRoZSBzaXplIGlzIDA7IHdlIGRvbid0IHJlbmRlciBhbnkgY2VsbHMgaW4gdGhpcyBjYXNlLlxuICAgICAgLy8gU2V0dGluZyBhIHN0YXRlIG1heSBjYXVzZSB1cyB0byBsYXRlciB0aGluZyB3ZSd2ZSB1cGRhdGVkIHRoZSBvZmZjZSB3aGVuIHdlIGhhdmVuJ3QuXG4gICAgICB2YXIgc2l6ZUlzQmlnZ2VyVGhhblplcm8gPSBoZWlnaHQgPiAwICYmIHdpZHRoID4gMDtcbiAgICAgIGlmIChzY3JvbGxUb0NvbHVtbiA+PSAwICYmIHNpemVJc0JpZ2dlclRoYW5aZXJvKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbExlZnRGb3JTY3JvbGxUb0NvbHVtbigpO1xuICAgICAgfVxuICAgICAgaWYgKHNjcm9sbFRvUm93ID49IDAgJiYgc2l6ZUlzQmlnZ2VyVGhhblplcm8pIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2Nyb2xsVG9wRm9yU2Nyb2xsVG9Sb3coKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIG9uUm93c1JlbmRlcmVkIGNhbGxiYWNrXG4gICAgICB0aGlzLl9pbnZva2VPbkdyaWRSZW5kZXJlZEhlbHBlcigpO1xuXG4gICAgICAvLyBJbml0aWFsaXplIG9uU2Nyb2xsIGNhbGxiYWNrXG4gICAgICB0aGlzLl9pbnZva2VPblNjcm9sbE1lbW9pemVyKHtcbiAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCB8fCAwLFxuICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcCB8fCAwLFxuICAgICAgICB0b3RhbENvbHVtbnNXaWR0aDogaW5zdGFuY2VQcm9wcy5jb2x1bW5TaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFRvdGFsU2l6ZSgpLFxuICAgICAgICB0b3RhbFJvd3NIZWlnaHQ6IGluc3RhbmNlUHJvcHMucm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRUb3RhbFNpemUoKVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX21heWJlQ2FsbE9uU2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIFRoaXMgbWV0aG9kIHVwZGF0ZXMgc2Nyb2xsTGVmdC9zY3JvbGxUb3AgaW4gc3RhdGUgZm9yIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAgICAgKiAxKSBOZXcgc2Nyb2xsLXRvLWNlbGwgcHJvcHMgaGF2ZSBiZWVuIHNldFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgX3Byb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYXV0b0hlaWdodCA9IF9wcm9wczUuYXV0b0hlaWdodCxcbiAgICAgICAgICBhdXRvV2lkdGggPSBfcHJvcHM1LmF1dG9XaWR0aCxcbiAgICAgICAgICBjb2x1bW5Db3VudCA9IF9wcm9wczUuY29sdW1uQ291bnQsXG4gICAgICAgICAgaGVpZ2h0ID0gX3Byb3BzNS5oZWlnaHQsXG4gICAgICAgICAgcm93Q291bnQgPSBfcHJvcHM1LnJvd0NvdW50LFxuICAgICAgICAgIHNjcm9sbFRvQWxpZ25tZW50ID0gX3Byb3BzNS5zY3JvbGxUb0FsaWdubWVudCxcbiAgICAgICAgICBzY3JvbGxUb0NvbHVtbiA9IF9wcm9wczUuc2Nyb2xsVG9Db2x1bW4sXG4gICAgICAgICAgc2Nyb2xsVG9Sb3cgPSBfcHJvcHM1LnNjcm9sbFRvUm93LFxuICAgICAgICAgIHdpZHRoID0gX3Byb3BzNS53aWR0aDtcbiAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIHNjcm9sbExlZnQgPSBfc3RhdGUuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxQb3NpdGlvbkNoYW5nZVJlYXNvbiA9IF9zdGF0ZS5zY3JvbGxQb3NpdGlvbkNoYW5nZVJlYXNvbixcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfc3RhdGUuc2Nyb2xsVG9wLFxuICAgICAgICAgIGluc3RhbmNlUHJvcHMgPSBfc3RhdGUuaW5zdGFuY2VQcm9wcztcbiAgICAgIC8vIElmIGNlbGwgc2l6ZXMgaGF2ZSBiZWVuIGludmFsaWRhdGVkIChlZyB3ZSBhcmUgdXNpbmcgQ2VsbE1lYXN1cmVyKSB0aGVuIHJlc2V0IGNhY2hlZCBwb3NpdGlvbnMuXG4gICAgICAvLyBXZSBtdXN0IGRvIHRoaXMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBtZXRob2QgYXMgd2UgbWF5IGNhbGN1bGF0ZSBhbmQgdXBkYXRlIHNjcm9sbCBwb3NpdGlvbiBiZWxvdy5cblxuICAgICAgdGhpcy5faGFuZGxlSW52YWxpZGF0ZWRHcmlkU2l6ZSgpO1xuXG4gICAgICAvLyBIYW5kbGUgZWRnZSBjYXNlIHdoZXJlIGNvbHVtbiBvciByb3cgY291bnQgaGFzIG9ubHkganVzdCBpbmNyZWFzZWQgb3ZlciAwLlxuICAgICAgLy8gSW4gdGhpcyBjYXNlIHdlIG1heSBoYXZlIHRvIHJlc3RvcmUgYSBwcmV2aW91c2x5LXNwZWNpZmllZCBzY3JvbGwgb2Zmc2V0LlxuICAgICAgLy8gRm9yIG1vcmUgaW5mbyBzZWUgYnZhdWdobi9yZWFjdC12aXJ0dWFsaXplZC9pc3N1ZXMvMjE4XG4gICAgICB2YXIgY29sdW1uT3JSb3dDb3VudEp1c3RJbmNyZWFzZWRGcm9tWmVybyA9IGNvbHVtbkNvdW50ID4gMCAmJiBwcmV2UHJvcHMuY29sdW1uQ291bnQgPT09IDAgfHwgcm93Q291bnQgPiAwICYmIHByZXZQcm9wcy5yb3dDb3VudCA9PT0gMDtcblxuICAgICAgLy8gTWFrZSBzdXJlIHJlcXVlc3RlZCBjaGFuZ2VzIHRvIDpzY3JvbGxMZWZ0IG9yIDpzY3JvbGxUb3AgZ2V0IGFwcGxpZWQuXG4gICAgICAvLyBBc3NpZ25pbmcgdG8gc2Nyb2xsTGVmdC9zY3JvbGxUb3AgdGVsbHMgdGhlIGJyb3dzZXIgdG8gaW50ZXJydXB0IGFueSBydW5uaW5nIHNjcm9sbCBhbmltYXRpb25zLFxuICAgICAgLy8gQW5kIHRvIGRpc2NhcmQgYW55IHBlbmRpbmcgYXN5bmMgY2hhbmdlcyB0byB0aGUgc2Nyb2xsIHBvc2l0aW9uIHRoYXQgbWF5IGhhdmUgaGFwcGVuZWQgaW4gdGhlIG1lYW50aW1lIChlLmcuIG9uIGEgc2VwYXJhdGUgc2Nyb2xsaW5nIHRocmVhZCkuXG4gICAgICAvLyBTbyB3ZSBvbmx5IHNldCB0aGVzZSB3aGVuIHdlIHJlcXVpcmUgYW4gYWRqdXN0bWVudCBvZiB0aGUgc2Nyb2xsIHBvc2l0aW9uLlxuICAgICAgLy8gU2VlIGlzc3VlICMyIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAgaWYgKHNjcm9sbFBvc2l0aW9uQ2hhbmdlUmVhc29uID09PSBTQ1JPTExfUE9TSVRJT05fQ0hBTkdFX1JFQVNPTlMuUkVRVUVTVEVEKSB7XG4gICAgICAgIC8vIEBUUklDS1kgOmF1dG9IZWlnaHQgYW5kIDphdXRvV2lkdGggcHJvcGVydGllcyBpbnN0cnVjdHMgR3JpZCB0byBsZWF2ZSA6c2Nyb2xsVG9wIGFuZCA6c2Nyb2xsTGVmdCBtYW5hZ2VtZW50IHRvIGFuIGV4dGVybmFsIEhPQyAoZWcgV2luZG93U2Nyb2xsZXIpLlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2Ugd2Ugc2hvdWxkIGF2b2lkIGNoZWNraW5nIHNjcm9sbGluZ0NvbnRhaW5lci5zY3JvbGxUb3AgYW5kIHNjcm9sbGluZ0NvbnRhaW5lci5zY3JvbGxMZWZ0IHNpbmNlIGl0IGZvcmNlcyBsYXlvdXQvZmxvdy5cbiAgICAgICAgaWYgKCFhdXRvV2lkdGggJiYgc2Nyb2xsTGVmdCA+PSAwICYmIChzY3JvbGxMZWZ0ICE9PSB0aGlzLl9zY3JvbGxpbmdDb250YWluZXIuc2Nyb2xsTGVmdCB8fCBjb2x1bW5PclJvd0NvdW50SnVzdEluY3JlYXNlZEZyb21aZXJvKSkge1xuICAgICAgICAgIHRoaXMuX3Njcm9sbGluZ0NvbnRhaW5lci5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWF1dG9IZWlnaHQgJiYgc2Nyb2xsVG9wID49IDAgJiYgKHNjcm9sbFRvcCAhPT0gdGhpcy5fc2Nyb2xsaW5nQ29udGFpbmVyLnNjcm9sbFRvcCB8fCBjb2x1bW5PclJvd0NvdW50SnVzdEluY3JlYXNlZEZyb21aZXJvKSkge1xuICAgICAgICAgIHRoaXMuX3Njcm9sbGluZ0NvbnRhaW5lci5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gU3BlY2lhbCBjYXNlIHdoZXJlIHRoZSBwcmV2aW91cyBzaXplIHdhcyAwOlxuICAgICAgLy8gSW4gdGhpcyBjYXNlIHdlIGRvbid0IHNob3cgYW55IHdpbmRvd2VkIGNlbGxzIGF0IGFsbC5cbiAgICAgIC8vIFNvIHdlIHNob3VsZCBhbHdheXMgcmVjYWxjdWxhdGUgb2Zmc2V0IGFmdGVyd2FyZHMuXG4gICAgICB2YXIgc2l6ZUp1c3RJbmNyZWFzZWRGcm9tWmVybyA9IChwcmV2UHJvcHMud2lkdGggPT09IDAgfHwgcHJldlByb3BzLmhlaWdodCA9PT0gMCkgJiYgaGVpZ2h0ID4gMCAmJiB3aWR0aCA+IDA7XG5cbiAgICAgIC8vIFVwZGF0ZSBzY3JvbGwgb2Zmc2V0cyBpZiB0aGUgY3VycmVudCA6c2Nyb2xsVG9Db2x1bW4gb3IgOnNjcm9sbFRvUm93IHZhbHVlcyByZXF1aXJlcyBpdFxuICAgICAgLy8gQFRPRE8gRG8gd2UgYWxzbyBuZWVkIHRoaXMgY2hlY2sgb3IgY2FuIHRoZSBvbmUgaW4gY29tcG9uZW50V2lsbFVwZGF0ZSgpIHN1ZmZpY2U/XG4gICAgICBpZiAodGhpcy5fcmVjb21wdXRlU2Nyb2xsTGVmdEZsYWcpIHtcbiAgICAgICAgdGhpcy5fcmVjb21wdXRlU2Nyb2xsTGVmdEZsYWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2Nyb2xsTGVmdEZvclNjcm9sbFRvQ29sdW1uKHRoaXMucHJvcHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBkYXRlU2Nyb2xsSW5kZXhIZWxwZXIoe1xuICAgICAgICAgIGNlbGxTaXplQW5kUG9zaXRpb25NYW5hZ2VyOiBpbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIsXG4gICAgICAgICAgcHJldmlvdXNDZWxsc0NvdW50OiBwcmV2UHJvcHMuY29sdW1uQ291bnQsXG4gICAgICAgICAgcHJldmlvdXNDZWxsU2l6ZTogcHJldlByb3BzLmNvbHVtbldpZHRoLFxuICAgICAgICAgIHByZXZpb3VzU2Nyb2xsVG9BbGlnbm1lbnQ6IHByZXZQcm9wcy5zY3JvbGxUb0FsaWdubWVudCxcbiAgICAgICAgICBwcmV2aW91c1Njcm9sbFRvSW5kZXg6IHByZXZQcm9wcy5zY3JvbGxUb0NvbHVtbixcbiAgICAgICAgICBwcmV2aW91c1NpemU6IHByZXZQcm9wcy53aWR0aCxcbiAgICAgICAgICBzY3JvbGxPZmZzZXQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9BbGlnbm1lbnQ6IHNjcm9sbFRvQWxpZ25tZW50LFxuICAgICAgICAgIHNjcm9sbFRvSW5kZXg6IHNjcm9sbFRvQ29sdW1uLFxuICAgICAgICAgIHNpemU6IHdpZHRoLFxuICAgICAgICAgIHNpemVKdXN0SW5jcmVhc2VkRnJvbVplcm86IHNpemVKdXN0SW5jcmVhc2VkRnJvbVplcm8sXG4gICAgICAgICAgdXBkYXRlU2Nyb2xsSW5kZXhDYWxsYmFjazogZnVuY3Rpb24gdXBkYXRlU2Nyb2xsSW5kZXhDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczIuX3VwZGF0ZVNjcm9sbExlZnRGb3JTY3JvbGxUb0NvbHVtbihfdGhpczIucHJvcHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9yZWNvbXB1dGVTY3JvbGxUb3BGbGFnKSB7XG4gICAgICAgIHRoaXMuX3JlY29tcHV0ZVNjcm9sbFRvcEZsYWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlU2Nyb2xsVG9wRm9yU2Nyb2xsVG9Sb3codGhpcy5wcm9wcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVTY3JvbGxJbmRleEhlbHBlcih7XG4gICAgICAgICAgY2VsbFNpemVBbmRQb3NpdGlvbk1hbmFnZXI6IGluc3RhbmNlUHJvcHMucm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlcixcbiAgICAgICAgICBwcmV2aW91c0NlbGxzQ291bnQ6IHByZXZQcm9wcy5yb3dDb3VudCxcbiAgICAgICAgICBwcmV2aW91c0NlbGxTaXplOiBwcmV2UHJvcHMucm93SGVpZ2h0LFxuICAgICAgICAgIHByZXZpb3VzU2Nyb2xsVG9BbGlnbm1lbnQ6IHByZXZQcm9wcy5zY3JvbGxUb0FsaWdubWVudCxcbiAgICAgICAgICBwcmV2aW91c1Njcm9sbFRvSW5kZXg6IHByZXZQcm9wcy5zY3JvbGxUb1JvdyxcbiAgICAgICAgICBwcmV2aW91c1NpemU6IHByZXZQcm9wcy5oZWlnaHQsXG4gICAgICAgICAgc2Nyb2xsT2Zmc2V0OiBzY3JvbGxUb3AsXG4gICAgICAgICAgc2Nyb2xsVG9BbGlnbm1lbnQ6IHNjcm9sbFRvQWxpZ25tZW50LFxuICAgICAgICAgIHNjcm9sbFRvSW5kZXg6IHNjcm9sbFRvUm93LFxuICAgICAgICAgIHNpemU6IGhlaWdodCxcbiAgICAgICAgICBzaXplSnVzdEluY3JlYXNlZEZyb21aZXJvOiBzaXplSnVzdEluY3JlYXNlZEZyb21aZXJvLFxuICAgICAgICAgIHVwZGF0ZVNjcm9sbEluZGV4Q2FsbGJhY2s6IGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbEluZGV4Q2FsbGJhY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMyLl91cGRhdGVTY3JvbGxUb3BGb3JTY3JvbGxUb1JvdyhfdGhpczIucHJvcHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBvblJvd3NSZW5kZXJlZCBjYWxsYmFjayBpZiBzdGFydC9zdG9wIGluZGljZXMgaGF2ZSBjaGFuZ2VkXG4gICAgICB0aGlzLl9pbnZva2VPbkdyaWRSZW5kZXJlZEhlbHBlcigpO1xuXG4gICAgICAvLyBDaGFuZ2VzIHRvIDpzY3JvbGxMZWZ0IG9yIDpzY3JvbGxUb3Agc2hvdWxkIGFsc28gbm90aWZ5IDpvblNjcm9sbCBsaXN0ZW5lcnNcbiAgICAgIGlmIChzY3JvbGxMZWZ0ICE9PSBwcmV2U3RhdGUuc2Nyb2xsTGVmdCB8fCBzY3JvbGxUb3AgIT09IHByZXZTdGF0ZS5zY3JvbGxUb3ApIHtcbiAgICAgICAgdmFyIHRvdGFsUm93c0hlaWdodCA9IGluc3RhbmNlUHJvcHMucm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRUb3RhbFNpemUoKTtcbiAgICAgICAgdmFyIHRvdGFsQ29sdW1uc1dpZHRoID0gaW5zdGFuY2VQcm9wcy5jb2x1bW5TaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFRvdGFsU2l6ZSgpO1xuXG4gICAgICAgIHRoaXMuX2ludm9rZU9uU2Nyb2xsTWVtb2l6ZXIoe1xuICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICAgICAgdG90YWxDb2x1bW5zV2lkdGg6IHRvdGFsQ29sdW1uc1dpZHRoLFxuICAgICAgICAgIHRvdGFsUm93c0hlaWdodDogdG90YWxSb3dzSGVpZ2h0XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9tYXliZUNhbGxPblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLl9kaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZCkge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25UaW1lb3V0KHRoaXMuX2Rpc2FibGVQb2ludGVyRXZlbnRzVGltZW91dElkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB1cGRhdGVzIHNjcm9sbExlZnQvc2Nyb2xsVG9wIGluIHN0YXRlIGZvciB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gICAgICogMSkgRW1wdHkgY29udGVudCAoMCByb3dzIG9yIGNvbHVtbnMpXG4gICAgICogMikgTmV3IHNjcm9sbCBwcm9wcyBvdmVycmlkaW5nIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICogMykgQ2VsbHMtY291bnQgb3IgY2VsbHMtc2l6ZSBoYXMgY2hhbmdlZCwgbWFraW5nIHByZXZpb3VzIHNjcm9sbCBvZmZzZXRzIGludmFsaWRcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wczYgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGF1dG9Db250YWluZXJXaWR0aCA9IF9wcm9wczYuYXV0b0NvbnRhaW5lcldpZHRoLFxuICAgICAgICAgIGF1dG9IZWlnaHQgPSBfcHJvcHM2LmF1dG9IZWlnaHQsXG4gICAgICAgICAgYXV0b1dpZHRoID0gX3Byb3BzNi5hdXRvV2lkdGgsXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzNi5jbGFzc05hbWUsXG4gICAgICAgICAgY29udGFpbmVyUHJvcHMgPSBfcHJvcHM2LmNvbnRhaW5lclByb3BzLFxuICAgICAgICAgIGNvbnRhaW5lclJvbGUgPSBfcHJvcHM2LmNvbnRhaW5lclJvbGUsXG4gICAgICAgICAgY29udGFpbmVyU3R5bGUgPSBfcHJvcHM2LmNvbnRhaW5lclN0eWxlLFxuICAgICAgICAgIGhlaWdodCA9IF9wcm9wczYuaGVpZ2h0LFxuICAgICAgICAgIGlkID0gX3Byb3BzNi5pZCxcbiAgICAgICAgICBub0NvbnRlbnRSZW5kZXJlciA9IF9wcm9wczYubm9Db250ZW50UmVuZGVyZXIsXG4gICAgICAgICAgcm9sZSA9IF9wcm9wczYucm9sZSxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wczYuc3R5bGUsXG4gICAgICAgICAgdGFiSW5kZXggPSBfcHJvcHM2LnRhYkluZGV4LFxuICAgICAgICAgIHdpZHRoID0gX3Byb3BzNi53aWR0aDtcbiAgICAgIHZhciBfc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBpbnN0YW5jZVByb3BzID0gX3N0YXRlMi5pbnN0YW5jZVByb3BzLFxuICAgICAgICAgIG5lZWRUb1Jlc2V0U3R5bGVDYWNoZSA9IF9zdGF0ZTIubmVlZFRvUmVzZXRTdHlsZUNhY2hlO1xuXG5cbiAgICAgIHZhciBpc1Njcm9sbGluZyA9IHRoaXMuX2lzU2Nyb2xsaW5nKCk7XG5cbiAgICAgIHZhciBncmlkU3R5bGUgPSB7XG4gICAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgICBkaXJlY3Rpb246ICdsdHInLFxuICAgICAgICBoZWlnaHQ6IGF1dG9IZWlnaHQgPyAnYXV0bycgOiBoZWlnaHQsXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICB3aWR0aDogYXV0b1dpZHRoID8gJ2F1dG8nIDogd2lkdGgsXG4gICAgICAgIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAndG91Y2gnLFxuICAgICAgICB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJ1xuICAgICAgfTtcblxuICAgICAgaWYgKG5lZWRUb1Jlc2V0U3R5bGVDYWNoZSkge1xuICAgICAgICB0aGlzLl9zdHlsZUNhY2hlID0ge307XG4gICAgICB9XG5cbiAgICAgIC8vIGNhbGN1bGF0ZSBfc3R5bGVDYWNoZSBoZXJlXG4gICAgICAvLyBpZiBzdGF0ZS5pc1Njcm9sbGluZyAobm90IGZyb20gX2lzU2Nyb2xsaW5nKSB0aGVuIHJlc2V0XG4gICAgICBpZiAoIXRoaXMuc3RhdGUuaXNTY3JvbGxpbmcpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRTdHlsZUNhY2hlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGNhbGN1bGF0ZSBjaGlsZHJlbiB0byByZW5kZXIgaGVyZVxuICAgICAgdGhpcy5fY2FsY3VsYXRlQ2hpbGRyZW5Ub1JlbmRlcih0aGlzLnByb3BzLCB0aGlzLnN0YXRlKTtcblxuICAgICAgdmFyIHRvdGFsQ29sdW1uc1dpZHRoID0gaW5zdGFuY2VQcm9wcy5jb2x1bW5TaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFRvdGFsU2l6ZSgpO1xuICAgICAgdmFyIHRvdGFsUm93c0hlaWdodCA9IGluc3RhbmNlUHJvcHMucm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRUb3RhbFNpemUoKTtcblxuICAgICAgLy8gRm9yY2UgYnJvd3NlciB0byBoaWRlIHNjcm9sbGJhcnMgd2hlbiB3ZSBrbm93IHRoZXkgYXJlbid0IG5lY2Vzc2FyeS5cbiAgICAgIC8vIE90aGVyd2lzZSBvbmNlIHNjcm9sbGJhcnMgYXBwZWFyIHRoZXkgbWF5IG5vdCBkaXNhcHBlYXIgYWdhaW4uXG4gICAgICAvLyBGb3IgbW9yZSBpbmZvIHNlZSBpc3N1ZSAjMTE2XG4gICAgICB2YXIgdmVydGljYWxTY3JvbGxCYXJTaXplID0gdG90YWxSb3dzSGVpZ2h0ID4gaGVpZ2h0ID8gaW5zdGFuY2VQcm9wcy5zY3JvbGxiYXJTaXplIDogMDtcbiAgICAgIHZhciBob3Jpem9udGFsU2Nyb2xsQmFyU2l6ZSA9IHRvdGFsQ29sdW1uc1dpZHRoID4gd2lkdGggPyBpbnN0YW5jZVByb3BzLnNjcm9sbGJhclNpemUgOiAwO1xuXG4gICAgICBpZiAoaG9yaXpvbnRhbFNjcm9sbEJhclNpemUgIT09IHRoaXMuX2hvcml6b250YWxTY3JvbGxCYXJTaXplIHx8IHZlcnRpY2FsU2Nyb2xsQmFyU2l6ZSAhPT0gdGhpcy5fdmVydGljYWxTY3JvbGxCYXJTaXplKSB7XG4gICAgICAgIHRoaXMuX2hvcml6b250YWxTY3JvbGxCYXJTaXplID0gaG9yaXpvbnRhbFNjcm9sbEJhclNpemU7XG4gICAgICAgIHRoaXMuX3ZlcnRpY2FsU2Nyb2xsQmFyU2l6ZSA9IHZlcnRpY2FsU2Nyb2xsQmFyU2l6ZTtcbiAgICAgICAgdGhpcy5fc2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQWxzbyBleHBsaWNpdGx5IGluaXQgc3R5bGVzIHRvICdhdXRvJyBpZiBzY3JvbGxiYXJzIGFyZSByZXF1aXJlZC5cbiAgICAgIC8vIFRoaXMgd29ya3MgYXJvdW5kIGFuIG9ic2N1cmUgZWRnZSBjYXNlIHdoZXJlIGV4dGVybmFsIENTUyBzdHlsZXMgaGF2ZSBub3QgeWV0IGJlZW4gbG9hZGVkLFxuICAgICAgLy8gQnV0IGFuIGluaXRpYWwgc2Nyb2xsIGluZGV4IG9mIG9mZnNldCBpcyBzZXQgYXMgYW4gZXh0ZXJuYWwgcHJvcC5cbiAgICAgIC8vIFdpdGhvdXQgdGhpcyBzdHlsZSwgR3JpZCB3b3VsZCByZW5kZXIgdGhlIGNvcnJlY3QgcmFuZ2Ugb2YgY2VsbHMgYnV0IHdvdWxkIE5PVCB1cGRhdGUgaXRzIGludGVybmFsIG9mZnNldC5cbiAgICAgIC8vIFRoaXMgd2FzIG9yaWdpbmFsbHkgcmVwb3J0ZWQgdmlhIGNsYXVkZXJpYy9yZWFjdC1pbmZpbml0ZS1jYWxlbmRhci9pc3N1ZXMvMjNcbiAgICAgIGdyaWRTdHlsZS5vdmVyZmxvd1ggPSB0b3RhbENvbHVtbnNXaWR0aCArIHZlcnRpY2FsU2Nyb2xsQmFyU2l6ZSA8PSB3aWR0aCA/ICdoaWRkZW4nIDogJ2F1dG8nO1xuICAgICAgZ3JpZFN0eWxlLm92ZXJmbG93WSA9IHRvdGFsUm93c0hlaWdodCArIGhvcml6b250YWxTY3JvbGxCYXJTaXplIDw9IGhlaWdodCA/ICdoaWRkZW4nIDogJ2F1dG8nO1xuXG4gICAgICB2YXIgY2hpbGRyZW5Ub0Rpc3BsYXkgPSB0aGlzLl9jaGlsZHJlblRvRGlzcGxheTtcblxuICAgICAgdmFyIHNob3dOb0NvbnRlbnRSZW5kZXJlciA9IGNoaWxkcmVuVG9EaXNwbGF5Lmxlbmd0aCA9PT0gMCAmJiBoZWlnaHQgPiAwICYmIHdpZHRoID4gMDtcblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICBfZXh0ZW5kcyh7XG4gICAgICAgICAgcmVmOiB0aGlzLl9zZXRTY3JvbGxpbmdDb250YWluZXJSZWZcbiAgICAgICAgfSwgY29udGFpbmVyUHJvcHMsIHtcbiAgICAgICAgICAnYXJpYS1sYWJlbCc6IHRoaXMucHJvcHNbJ2FyaWEtbGFiZWwnXSxcbiAgICAgICAgICAnYXJpYS1yZWFkb25seSc6IHRoaXMucHJvcHNbJ2FyaWEtcmVhZG9ubHknXSxcbiAgICAgICAgICBjbGFzc05hbWU6IGNuKCdSZWFjdFZpcnR1YWxpemVkX19HcmlkJywgY2xhc3NOYW1lKSxcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgb25TY3JvbGw6IHRoaXMuX29uU2Nyb2xsLFxuICAgICAgICAgIHJvbGU6IHJvbGUsXG4gICAgICAgICAgc3R5bGU6IF9leHRlbmRzKHt9LCBncmlkU3R5bGUsIHN0eWxlKSxcbiAgICAgICAgICB0YWJJbmRleDogdGFiSW5kZXggfSksXG4gICAgICAgIGNoaWxkcmVuVG9EaXNwbGF5Lmxlbmd0aCA+IDAgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdSZWFjdFZpcnR1YWxpemVkX19HcmlkX19pbm5lclNjcm9sbENvbnRhaW5lcicsXG4gICAgICAgICAgICByb2xlOiBjb250YWluZXJSb2xlLFxuICAgICAgICAgICAgc3R5bGU6IF9leHRlbmRzKHtcbiAgICAgICAgICAgICAgd2lkdGg6IGF1dG9Db250YWluZXJXaWR0aCA/ICdhdXRvJyA6IHRvdGFsQ29sdW1uc1dpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQ6IHRvdGFsUm93c0hlaWdodCxcbiAgICAgICAgICAgICAgbWF4V2lkdGg6IHRvdGFsQ29sdW1uc1dpZHRoLFxuICAgICAgICAgICAgICBtYXhIZWlnaHQ6IHRvdGFsUm93c0hlaWdodCxcbiAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzOiBpc1Njcm9sbGluZyA/ICdub25lJyA6ICcnLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgICAgICAgICAgfSwgY29udGFpbmVyU3R5bGUpIH0sXG4gICAgICAgICAgY2hpbGRyZW5Ub0Rpc3BsYXlcbiAgICAgICAgKSxcbiAgICAgICAgc2hvd05vQ29udGVudFJlbmRlcmVyICYmIG5vQ29udGVudFJlbmRlcmVyKClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBIZWxwZXIgbWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiAgfSwge1xuICAgIGtleTogJ19jYWxjdWxhdGVDaGlsZHJlblRvUmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NhbGN1bGF0ZUNoaWxkcmVuVG9SZW5kZXIoKSB7XG4gICAgICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRoaXMucHJvcHM7XG4gICAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMuc3RhdGU7XG4gICAgICB2YXIgY2VsbFJlbmRlcmVyID0gcHJvcHMuY2VsbFJlbmRlcmVyLFxuICAgICAgICAgIGNlbGxSYW5nZVJlbmRlcmVyID0gcHJvcHMuY2VsbFJhbmdlUmVuZGVyZXIsXG4gICAgICAgICAgY29sdW1uQ291bnQgPSBwcm9wcy5jb2x1bW5Db3VudCxcbiAgICAgICAgICBkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGUgPSBwcm9wcy5kZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGUsXG4gICAgICAgICAgaGVpZ2h0ID0gcHJvcHMuaGVpZ2h0LFxuICAgICAgICAgIG92ZXJzY2FuQ29sdW1uQ291bnQgPSBwcm9wcy5vdmVyc2NhbkNvbHVtbkNvdW50LFxuICAgICAgICAgIG92ZXJzY2FuSW5kaWNlc0dldHRlciA9IHByb3BzLm92ZXJzY2FuSW5kaWNlc0dldHRlcixcbiAgICAgICAgICBvdmVyc2NhblJvd0NvdW50ID0gcHJvcHMub3ZlcnNjYW5Sb3dDb3VudCxcbiAgICAgICAgICByb3dDb3VudCA9IHByb3BzLnJvd0NvdW50LFxuICAgICAgICAgIHdpZHRoID0gcHJvcHMud2lkdGgsXG4gICAgICAgICAgaXNTY3JvbGxpbmdPcHRPdXQgPSBwcm9wcy5pc1Njcm9sbGluZ09wdE91dDtcbiAgICAgIHZhciBzY3JvbGxEaXJlY3Rpb25Ib3Jpem9udGFsID0gc3RhdGUuc2Nyb2xsRGlyZWN0aW9uSG9yaXpvbnRhbCxcbiAgICAgICAgICBzY3JvbGxEaXJlY3Rpb25WZXJ0aWNhbCA9IHN0YXRlLnNjcm9sbERpcmVjdGlvblZlcnRpY2FsLFxuICAgICAgICAgIGluc3RhbmNlUHJvcHMgPSBzdGF0ZS5pbnN0YW5jZVByb3BzO1xuXG5cbiAgICAgIHZhciBzY3JvbGxUb3AgPSB0aGlzLl9pbml0aWFsU2Nyb2xsVG9wID4gMCA/IHRoaXMuX2luaXRpYWxTY3JvbGxUb3AgOiBzdGF0ZS5zY3JvbGxUb3A7XG4gICAgICB2YXIgc2Nyb2xsTGVmdCA9IHRoaXMuX2luaXRpYWxTY3JvbGxMZWZ0ID4gMCA/IHRoaXMuX2luaXRpYWxTY3JvbGxMZWZ0IDogc3RhdGUuc2Nyb2xsTGVmdDtcblxuICAgICAgdmFyIGlzU2Nyb2xsaW5nID0gdGhpcy5faXNTY3JvbGxpbmcocHJvcHMsIHN0YXRlKTtcblxuICAgICAgdGhpcy5fY2hpbGRyZW5Ub0Rpc3BsYXkgPSBbXTtcblxuICAgICAgLy8gUmVuZGVyIG9ubHkgZW5vdWdoIGNvbHVtbnMgYW5kIHJvd3MgdG8gY292ZXIgdGhlIHZpc2libGUgYXJlYSBvZiB0aGUgZ3JpZC5cbiAgICAgIGlmIChoZWlnaHQgPiAwICYmIHdpZHRoID4gMCkge1xuICAgICAgICB2YXIgdmlzaWJsZUNvbHVtbkluZGljZXMgPSBpbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VmlzaWJsZUNlbGxSYW5nZSh7XG4gICAgICAgICAgY29udGFpbmVyU2l6ZTogd2lkdGgsXG4gICAgICAgICAgb2Zmc2V0OiBzY3JvbGxMZWZ0XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgdmlzaWJsZVJvd0luZGljZXMgPSBpbnN0YW5jZVByb3BzLnJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VmlzaWJsZUNlbGxSYW5nZSh7XG4gICAgICAgICAgY29udGFpbmVyU2l6ZTogaGVpZ2h0LFxuICAgICAgICAgIG9mZnNldDogc2Nyb2xsVG9wXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBob3Jpem9udGFsT2Zmc2V0QWRqdXN0bWVudCA9IGluc3RhbmNlUHJvcHMuY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRPZmZzZXRBZGp1c3RtZW50KHtcbiAgICAgICAgICBjb250YWluZXJTaXplOiB3aWR0aCxcbiAgICAgICAgICBvZmZzZXQ6IHNjcm9sbExlZnRcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciB2ZXJ0aWNhbE9mZnNldEFkanVzdG1lbnQgPSBpbnN0YW5jZVByb3BzLnJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0T2Zmc2V0QWRqdXN0bWVudCh7XG4gICAgICAgICAgY29udGFpbmVyU2l6ZTogaGVpZ2h0LFxuICAgICAgICAgIG9mZnNldDogc2Nyb2xsVG9wXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFN0b3JlIGZvciBfaW52b2tlT25HcmlkUmVuZGVyZWRIZWxwZXIoKVxuICAgICAgICB0aGlzLl9yZW5kZXJlZENvbHVtblN0YXJ0SW5kZXggPSB2aXNpYmxlQ29sdW1uSW5kaWNlcy5zdGFydDtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRDb2x1bW5TdG9wSW5kZXggPSB2aXNpYmxlQ29sdW1uSW5kaWNlcy5zdG9wO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZFJvd1N0YXJ0SW5kZXggPSB2aXNpYmxlUm93SW5kaWNlcy5zdGFydDtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRSb3dTdG9wSW5kZXggPSB2aXNpYmxlUm93SW5kaWNlcy5zdG9wO1xuXG4gICAgICAgIHZhciBvdmVyc2NhbkNvbHVtbkluZGljZXMgPSBvdmVyc2NhbkluZGljZXNHZXR0ZXIoe1xuICAgICAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICAgICAgICAgIGNlbGxDb3VudDogY29sdW1uQ291bnQsXG4gICAgICAgICAgb3ZlcnNjYW5DZWxsc0NvdW50OiBvdmVyc2NhbkNvbHVtbkNvdW50LFxuICAgICAgICAgIHNjcm9sbERpcmVjdGlvbjogc2Nyb2xsRGlyZWN0aW9uSG9yaXpvbnRhbCxcbiAgICAgICAgICBzdGFydEluZGV4OiB0eXBlb2YgdmlzaWJsZUNvbHVtbkluZGljZXMuc3RhcnQgPT09ICdudW1iZXInID8gdmlzaWJsZUNvbHVtbkluZGljZXMuc3RhcnQgOiAwLFxuICAgICAgICAgIHN0b3BJbmRleDogdHlwZW9mIHZpc2libGVDb2x1bW5JbmRpY2VzLnN0b3AgPT09ICdudW1iZXInID8gdmlzaWJsZUNvbHVtbkluZGljZXMuc3RvcCA6IC0xXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBvdmVyc2NhblJvd0luZGljZXMgPSBvdmVyc2NhbkluZGljZXNHZXR0ZXIoe1xuICAgICAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICAgICAgICBjZWxsQ291bnQ6IHJvd0NvdW50LFxuICAgICAgICAgIG92ZXJzY2FuQ2VsbHNDb3VudDogb3ZlcnNjYW5Sb3dDb3VudCxcbiAgICAgICAgICBzY3JvbGxEaXJlY3Rpb246IHNjcm9sbERpcmVjdGlvblZlcnRpY2FsLFxuICAgICAgICAgIHN0YXJ0SW5kZXg6IHR5cGVvZiB2aXNpYmxlUm93SW5kaWNlcy5zdGFydCA9PT0gJ251bWJlcicgPyB2aXNpYmxlUm93SW5kaWNlcy5zdGFydCA6IDAsXG4gICAgICAgICAgc3RvcEluZGV4OiB0eXBlb2YgdmlzaWJsZVJvd0luZGljZXMuc3RvcCA9PT0gJ251bWJlcicgPyB2aXNpYmxlUm93SW5kaWNlcy5zdG9wIDogLTFcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU3RvcmUgZm9yIF9pbnZva2VPbkdyaWRSZW5kZXJlZEhlbHBlcigpXG4gICAgICAgIHZhciBjb2x1bW5TdGFydEluZGV4ID0gb3ZlcnNjYW5Db2x1bW5JbmRpY2VzLm92ZXJzY2FuU3RhcnRJbmRleDtcbiAgICAgICAgdmFyIGNvbHVtblN0b3BJbmRleCA9IG92ZXJzY2FuQ29sdW1uSW5kaWNlcy5vdmVyc2NhblN0b3BJbmRleDtcbiAgICAgICAgdmFyIHJvd1N0YXJ0SW5kZXggPSBvdmVyc2NhblJvd0luZGljZXMub3ZlcnNjYW5TdGFydEluZGV4O1xuICAgICAgICB2YXIgcm93U3RvcEluZGV4ID0gb3ZlcnNjYW5Sb3dJbmRpY2VzLm92ZXJzY2FuU3RvcEluZGV4O1xuXG4gICAgICAgIC8vIEFkdmFuY2VkIHVzZS1jYXNlcyAoZWcgQ2VsbE1lYXN1cmVyKSByZXF1aXJlIGJhdGNoZWQgbWVhc3VyZW1lbnRzIHRvIGRldGVybWluZSBhY2N1cmF0ZSBzaXplcy5cbiAgICAgICAgaWYgKGRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZSkge1xuICAgICAgICAgIC8vIElmIHJvd3MgaGF2ZSBhIGR5bmFtaWMgaGVpZ2h0LCBzY2FuIHRoZSByb3dzIHdlIGFyZSBhYm91dCB0byByZW5kZXIuXG4gICAgICAgICAgLy8gSWYgYW55IGhhdmUgbm90IHlldCBiZWVuIG1lYXN1cmVkLCB0aGVuIHdlIG5lZWQgdG8gcmVuZGVyIGFsbCBjb2x1bW5zIGluaXRpYWxseSxcbiAgICAgICAgICAvLyBCZWNhdXNlIHRoZSBoZWlnaHQgb2YgdGhlIHJvdyBpcyBlcXVhbCB0byB0aGUgdGFsbGVzdCBjZWxsIHdpdGhpbiB0aGF0IHJvdyxcbiAgICAgICAgICAvLyAoQW5kIHNvIHdlIGNhbid0IGtub3cgdGhlIGhlaWdodCB3aXRob3V0IG1lYXN1cmluZyBhbGwgY29sdW1uLWNlbGxzIGZpcnN0KS5cbiAgICAgICAgICBpZiAoIWRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZS5oYXNGaXhlZEhlaWdodCgpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciByb3dJbmRleCA9IHJvd1N0YXJ0SW5kZXg7IHJvd0luZGV4IDw9IHJvd1N0b3BJbmRleDsgcm93SW5kZXgrKykge1xuICAgICAgICAgICAgICBpZiAoIWRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZS5oYXMocm93SW5kZXgsIDApKSB7XG4gICAgICAgICAgICAgICAgY29sdW1uU3RhcnRJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgY29sdW1uU3RvcEluZGV4ID0gY29sdW1uQ291bnQgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSWYgY29sdW1ucyBoYXZlIGEgZHluYW1pYyB3aWR0aCwgc2NhbiB0aGUgY29sdW1ucyB3ZSBhcmUgYWJvdXQgdG8gcmVuZGVyLlxuICAgICAgICAgIC8vIElmIGFueSBoYXZlIG5vdCB5ZXQgYmVlbiBtZWFzdXJlZCwgdGhlbiB3ZSBuZWVkIHRvIHJlbmRlciBhbGwgcm93cyBpbml0aWFsbHksXG4gICAgICAgICAgLy8gQmVjYXVzZSB0aGUgd2lkdGggb2YgdGhlIGNvbHVtbiBpcyBlcXVhbCB0byB0aGUgd2lkZXN0IGNlbGwgd2l0aGluIHRoYXQgY29sdW1uLFxuICAgICAgICAgIC8vIChBbmQgc28gd2UgY2FuJ3Qga25vdyB0aGUgd2lkdGggd2l0aG91dCBtZWFzdXJpbmcgYWxsIHJvdy1jZWxscyBmaXJzdCkuXG4gICAgICAgICAgaWYgKCFkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGUuaGFzRml4ZWRXaWR0aCgpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBjb2x1bW5JbmRleCA9IGNvbHVtblN0YXJ0SW5kZXg7IGNvbHVtbkluZGV4IDw9IGNvbHVtblN0b3BJbmRleDsgY29sdW1uSW5kZXgrKykge1xuICAgICAgICAgICAgICBpZiAoIWRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZS5oYXMoMCwgY29sdW1uSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgcm93U3RhcnRJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgcm93U3RvcEluZGV4ID0gcm93Q291bnQgLSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fY2hpbGRyZW5Ub0Rpc3BsYXkgPSBjZWxsUmFuZ2VSZW5kZXJlcih7XG4gICAgICAgICAgY2VsbENhY2hlOiB0aGlzLl9jZWxsQ2FjaGUsXG4gICAgICAgICAgY2VsbFJlbmRlcmVyOiBjZWxsUmVuZGVyZXIsXG4gICAgICAgICAgY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlcjogaW5zdGFuY2VQcm9wcy5jb2x1bW5TaXplQW5kUG9zaXRpb25NYW5hZ2VyLFxuICAgICAgICAgIGNvbHVtblN0YXJ0SW5kZXg6IGNvbHVtblN0YXJ0SW5kZXgsXG4gICAgICAgICAgY29sdW1uU3RvcEluZGV4OiBjb2x1bW5TdG9wSW5kZXgsXG4gICAgICAgICAgZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlOiBkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGUsXG4gICAgICAgICAgaG9yaXpvbnRhbE9mZnNldEFkanVzdG1lbnQ6IGhvcml6b250YWxPZmZzZXRBZGp1c3RtZW50LFxuICAgICAgICAgIGlzU2Nyb2xsaW5nOiBpc1Njcm9sbGluZyxcbiAgICAgICAgICBpc1Njcm9sbGluZ09wdE91dDogaXNTY3JvbGxpbmdPcHRPdXQsXG4gICAgICAgICAgcGFyZW50OiB0aGlzLFxuICAgICAgICAgIHJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXI6IGluc3RhbmNlUHJvcHMucm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlcixcbiAgICAgICAgICByb3dTdGFydEluZGV4OiByb3dTdGFydEluZGV4LFxuICAgICAgICAgIHJvd1N0b3BJbmRleDogcm93U3RvcEluZGV4LFxuICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICAgICAgc3R5bGVDYWNoZTogdGhpcy5fc3R5bGVDYWNoZSxcbiAgICAgICAgICB2ZXJ0aWNhbE9mZnNldEFkanVzdG1lbnQ6IHZlcnRpY2FsT2Zmc2V0QWRqdXN0bWVudCxcbiAgICAgICAgICB2aXNpYmxlQ29sdW1uSW5kaWNlczogdmlzaWJsZUNvbHVtbkluZGljZXMsXG4gICAgICAgICAgdmlzaWJsZVJvd0luZGljZXM6IHZpc2libGVSb3dJbmRpY2VzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgaW5kaWNlc1xuICAgICAgICB0aGlzLl9jb2x1bW5TdGFydEluZGV4ID0gY29sdW1uU3RhcnRJbmRleDtcbiAgICAgICAgdGhpcy5fY29sdW1uU3RvcEluZGV4ID0gY29sdW1uU3RvcEluZGV4O1xuICAgICAgICB0aGlzLl9yb3dTdGFydEluZGV4ID0gcm93U3RhcnRJbmRleDtcbiAgICAgICAgdGhpcy5fcm93U3RvcEluZGV4ID0gcm93U3RvcEluZGV4O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgYW4gOmlzU2Nyb2xsaW5nIGZsYWcgZm9yIGEgc21hbGwgd2luZG93IG9mIHRpbWUuXG4gICAgICogVGhpcyBmbGFnIGlzIHVzZWQgdG8gZGlzYWJsZSBwb2ludGVyIGV2ZW50cyBvbiB0aGUgc2Nyb2xsYWJsZSBwb3J0aW9uIG9mIHRoZSBHcmlkLlxuICAgICAqIFRoaXMgcHJldmVudHMgamVya3kvc3R1dHRlcnkgbW91c2Utd2hlZWwgc2Nyb2xsaW5nLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfZGVib3VuY2VTY3JvbGxFbmRlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWJvdW5jZVNjcm9sbEVuZGVkKCkge1xuICAgICAgdmFyIHNjcm9sbGluZ1Jlc2V0VGltZUludGVydmFsID0gdGhpcy5wcm9wcy5zY3JvbGxpbmdSZXNldFRpbWVJbnRlcnZhbDtcblxuXG4gICAgICBpZiAodGhpcy5fZGlzYWJsZVBvaW50ZXJFdmVudHNUaW1lb3V0SWQpIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uVGltZW91dCh0aGlzLl9kaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2Rpc2FibGVQb2ludGVyRXZlbnRzVGltZW91dElkID0gcmVxdWVzdEFuaW1hdGlvblRpbWVvdXQodGhpcy5fZGVib3VuY2VTY3JvbGxFbmRlZENhbGxiYWNrLCBzY3JvbGxpbmdSZXNldFRpbWVJbnRlcnZhbCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2hhbmRsZUludmFsaWRhdGVkR3JpZFNpemUnLFxuXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBmb3IgYmF0Y2hlZCBDZWxsTWVhc3VyZXIgc2l6ZSBpbnZhbGlkYXRpb25zLlxuICAgICAqIFRoaXMgd2lsbCBvY2N1ciB0aGUgZmlyc3QgdGltZSBvbmUgb3IgbW9yZSBwcmV2aW91c2x5IHVubWVhc3VyZWQgY2VsbHMgYXJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlSW52YWxpZGF0ZWRHcmlkU2l6ZSgpIHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlQ29sdW1uSW5kZXggPT09ICdudW1iZXInICYmIHR5cGVvZiB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVSb3dJbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgdmFyIGNvbHVtbkluZGV4ID0gdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlQ29sdW1uSW5kZXg7XG4gICAgICAgIHZhciByb3dJbmRleCA9IHRoaXMuX2RlZmVycmVkSW52YWxpZGF0ZVJvd0luZGV4O1xuXG4gICAgICAgIHRoaXMuX2RlZmVycmVkSW52YWxpZGF0ZUNvbHVtbkluZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlUm93SW5kZXggPSBudWxsO1xuXG4gICAgICAgIHRoaXMucmVjb21wdXRlR3JpZFNpemUoeyBjb2x1bW5JbmRleDogY29sdW1uSW5kZXgsIHJvd0luZGV4OiByb3dJbmRleCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfaW52b2tlT25TY3JvbGxNZW1vaXplcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9pbnZva2VPblNjcm9sbE1lbW9pemVyKF9yZWY2KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgdmFyIHNjcm9sbExlZnQgPSBfcmVmNi5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF9yZWY2LnNjcm9sbFRvcCxcbiAgICAgICAgICB0b3RhbENvbHVtbnNXaWR0aCA9IF9yZWY2LnRvdGFsQ29sdW1uc1dpZHRoLFxuICAgICAgICAgIHRvdGFsUm93c0hlaWdodCA9IF9yZWY2LnRvdGFsUm93c0hlaWdodDtcblxuICAgICAgdGhpcy5fb25TY3JvbGxNZW1vaXplcih7XG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhfcmVmNykge1xuICAgICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gX3JlZjcuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgc2Nyb2xsVG9wID0gX3JlZjcuc2Nyb2xsVG9wO1xuICAgICAgICAgIHZhciBfcHJvcHM3ID0gX3RoaXMzLnByb3BzLFxuICAgICAgICAgICAgICBoZWlnaHQgPSBfcHJvcHM3LmhlaWdodCxcbiAgICAgICAgICAgICAgb25TY3JvbGwgPSBfcHJvcHM3Lm9uU2Nyb2xsLFxuICAgICAgICAgICAgICB3aWR0aCA9IF9wcm9wczcud2lkdGg7XG5cblxuICAgICAgICAgIG9uU2Nyb2xsKHtcbiAgICAgICAgICAgIGNsaWVudEhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgY2xpZW50V2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0OiB0b3RhbFJvd3NIZWlnaHQsXG4gICAgICAgICAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICAgICAgICBzY3JvbGxXaWR0aDogdG90YWxDb2x1bW5zV2lkdGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5kaWNlczoge1xuICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3BcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2lzU2Nyb2xsaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2lzU2Nyb2xsaW5nKCkge1xuICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnByb3BzO1xuICAgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnN0YXRlO1xuXG4gICAgICAvLyBJZiBpc1Njcm9sbGluZyBpcyBkZWZpbmVkIGluIHByb3BzLCB1c2UgaXQgdG8gb3ZlcnJpZGUgdGhlIHZhbHVlIGluIHN0YXRlXG4gICAgICAvLyBUaGlzIGlzIGEgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uIGZvciBXaW5kb3dTY3JvbGxlciArIEdyaWRcbiAgICAgIHJldHVybiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgJ2lzU2Nyb2xsaW5nJykgPyBCb29sZWFuKHByb3BzLmlzU2Nyb2xsaW5nKSA6IEJvb2xlYW4oc3RhdGUuaXNTY3JvbGxpbmcpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19tYXliZUNhbGxPblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX21heWJlQ2FsbE9uU2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2UoKSB7XG4gICAgICBpZiAodGhpcy5fc2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2VkKSB7XG4gICAgICAgIHZhciBfb25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZSA9IHRoaXMucHJvcHMub25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZTtcblxuXG4gICAgICAgIHRoaXMuX3Njcm9sbGJhclByZXNlbmNlQ2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICAgIF9vblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlKHtcbiAgICAgICAgICBob3Jpem9udGFsOiB0aGlzLl9ob3Jpem9udGFsU2Nyb2xsQmFyU2l6ZSA+IDAsXG4gICAgICAgICAgc2l6ZTogdGhpcy5zdGF0ZS5pbnN0YW5jZVByb3BzLnNjcm9sbGJhclNpemUsXG4gICAgICAgICAgdmVydGljYWw6IHRoaXMuX3ZlcnRpY2FsU2Nyb2xsQmFyU2l6ZSA+IDBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2Nyb2xsVG9Qb3NpdGlvbicsXG5cblxuICAgIC8qKlxuICAgICAqIFNjcm9sbCB0byB0aGUgc3BlY2lmaWVkIG9mZnNldChzKS5cbiAgICAgKiBVc2VmdWwgZm9yIGFuaW1hdGluZyBwb3NpdGlvbiBjaGFuZ2VzLlxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxUb1Bvc2l0aW9uKF9yZWY4KSB7XG4gICAgICB2YXIgc2Nyb2xsTGVmdCA9IF9yZWY4LnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3JlZjguc2Nyb2xsVG9wO1xuXG4gICAgICB2YXIgc3RhdGVVcGRhdGUgPSBHcmlkLl9nZXRTY3JvbGxUb1Bvc2l0aW9uU3RhdGVVcGRhdGUoe1xuICAgICAgICBwcmV2U3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wXG4gICAgICB9KTtcblxuICAgICAgaWYgKHN0YXRlVXBkYXRlKSB7XG4gICAgICAgIHN0YXRlVXBkYXRlLm5lZWRUb1Jlc2V0U3R5bGVDYWNoZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlVXBkYXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfZ2V0Q2FsY3VsYXRlZFNjcm9sbExlZnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0Q2FsY3VsYXRlZFNjcm9sbExlZnQoKSB7XG4gICAgICB2YXIgcHJvcHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRoaXMucHJvcHM7XG4gICAgICB2YXIgc3RhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMuc3RhdGU7XG5cbiAgICAgIHJldHVybiBHcmlkLl9nZXRDYWxjdWxhdGVkU2Nyb2xsTGVmdChwcm9wcywgc3RhdGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ191cGRhdGVTY3JvbGxMZWZ0Rm9yU2Nyb2xsVG9Db2x1bW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlU2Nyb2xsTGVmdEZvclNjcm9sbFRvQ29sdW1uKCkge1xuICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnByb3BzO1xuICAgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnN0YXRlO1xuXG4gICAgICB2YXIgc3RhdGVVcGRhdGUgPSBHcmlkLl9nZXRTY3JvbGxMZWZ0Rm9yU2Nyb2xsVG9Db2x1bW5TdGF0ZVVwZGF0ZShwcm9wcywgc3RhdGUpO1xuICAgICAgaWYgKHN0YXRlVXBkYXRlKSB7XG4gICAgICAgIHN0YXRlVXBkYXRlLm5lZWRUb1Jlc2V0U3R5bGVDYWNoZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlVXBkYXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfZ2V0Q2FsY3VsYXRlZFNjcm9sbFRvcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRDYWxjdWxhdGVkU2Nyb2xsVG9wKCkge1xuICAgICAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnByb3BzO1xuICAgICAgdmFyIHN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB0aGlzLnN0YXRlO1xuXG4gICAgICByZXR1cm4gR3JpZC5fZ2V0Q2FsY3VsYXRlZFNjcm9sbFRvcChwcm9wcywgc3RhdGUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19yZXNldFN0eWxlQ2FjaGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzZXRTdHlsZUNhY2hlKCkge1xuICAgICAgdmFyIHN0eWxlQ2FjaGUgPSB0aGlzLl9zdHlsZUNhY2hlO1xuICAgICAgdmFyIGNlbGxDYWNoZSA9IHRoaXMuX2NlbGxDYWNoZTtcbiAgICAgIHZhciBpc1Njcm9sbGluZ09wdE91dCA9IHRoaXMucHJvcHMuaXNTY3JvbGxpbmdPcHRPdXQ7XG5cbiAgICAgIC8vIFJlc2V0IGNlbGwgYW5kIHN0eWxlIGNhY2hlcyBvbmNlIHNjcm9sbGluZyBzdG9wcy5cbiAgICAgIC8vIFRoaXMgbWFrZXMgR3JpZCBzaW1wbGVyIHRvIHVzZSAoc2luY2UgY2VsbHMgY29tbW9ubHkgY2hhbmdlKS5cbiAgICAgIC8vIEFuZCBpdCBrZWVwcyB0aGUgY2FjaGVzIGZyb20gZ3Jvd2luZyB0b28gbGFyZ2UuXG4gICAgICAvLyBQZXJmb3JtYW5jZSBpcyBtb3N0IHNlbnNpdGl2ZSB3aGVuIGEgdXNlciBpcyBzY3JvbGxpbmcuXG4gICAgICAvLyBEb24ndCBjbGVhciB2aXNpYmxlIGNlbGxzIGZyb20gY2VsbENhY2hlIGlmIGlzU2Nyb2xsaW5nT3B0T3V0IGlzIHNwZWNpZmllZC5cbiAgICAgIC8vIFRoaXMga2VlcHMgdGhlIGNlbGxDYWNoZSB0byBhIHJlc29uYWJsZSBzaXplLlxuXG4gICAgICB0aGlzLl9jZWxsQ2FjaGUgPSB7fTtcbiAgICAgIHRoaXMuX3N0eWxlQ2FjaGUgPSB7fTtcblxuICAgICAgLy8gQ29weSBvdmVyIHRoZSB2aXNpYmxlIGNlbGwgc3R5bGVzIHNvIGF2b2lkIHVubmVjZXNzYXJ5IHJlLXJlbmRlci5cbiAgICAgIGZvciAodmFyIHJvd0luZGV4ID0gdGhpcy5fcm93U3RhcnRJbmRleDsgcm93SW5kZXggPD0gdGhpcy5fcm93U3RvcEluZGV4OyByb3dJbmRleCsrKSB7XG4gICAgICAgIGZvciAodmFyIGNvbHVtbkluZGV4ID0gdGhpcy5fY29sdW1uU3RhcnRJbmRleDsgY29sdW1uSW5kZXggPD0gdGhpcy5fY29sdW1uU3RvcEluZGV4OyBjb2x1bW5JbmRleCsrKSB7XG4gICAgICAgICAgdmFyIGtleSA9IHJvd0luZGV4ICsgJy0nICsgY29sdW1uSW5kZXg7XG4gICAgICAgICAgdGhpcy5fc3R5bGVDYWNoZVtrZXldID0gc3R5bGVDYWNoZVtrZXldO1xuXG4gICAgICAgICAgaWYgKGlzU2Nyb2xsaW5nT3B0T3V0KSB7XG4gICAgICAgICAgICB0aGlzLl9jZWxsQ2FjaGVba2V5XSA9IGNlbGxDYWNoZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ191cGRhdGVTY3JvbGxUb3BGb3JTY3JvbGxUb1JvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVTY3JvbGxUb3BGb3JTY3JvbGxUb1JvdygpIHtcbiAgICAgIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5wcm9wcztcbiAgICAgIHZhciBzdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy5zdGF0ZTtcblxuICAgICAgdmFyIHN0YXRlVXBkYXRlID0gR3JpZC5fZ2V0U2Nyb2xsVG9wRm9yU2Nyb2xsVG9Sb3dTdGF0ZVVwZGF0ZShwcm9wcywgc3RhdGUpO1xuICAgICAgaWYgKHN0YXRlVXBkYXRlKSB7XG4gICAgICAgIHN0YXRlVXBkYXRlLm5lZWRUb1Jlc2V0U3R5bGVDYWNoZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlVXBkYXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ2dldERlcml2ZWRTdGF0ZUZyb21Qcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgdmFyIG5ld1N0YXRlID0ge307XG5cbiAgICAgIGlmIChuZXh0UHJvcHMuY29sdW1uQ291bnQgPT09IDAgJiYgcHJldlN0YXRlLnNjcm9sbExlZnQgIT09IDAgfHwgbmV4dFByb3BzLnJvd0NvdW50ID09PSAwICYmIHByZXZTdGF0ZS5zY3JvbGxUb3AgIT09IDApIHtcbiAgICAgICAgbmV3U3RhdGUuc2Nyb2xsTGVmdCA9IDA7XG4gICAgICAgIG5ld1N0YXRlLnNjcm9sbFRvcCA9IDA7XG5cbiAgICAgICAgLy8gb25seSB1c2Ugc2Nyb2xse0xlZnQsVG9wfSBmcm9tIHByb3BzIGlmIHNjcm9sbFRve0NvbHVtbixSb3d9IGlzbid0IHNwZWNpZmllZFxuICAgICAgICAvLyBzY3JvbGxUb3tDb2x1bW4sUm93fSBzaG91bGQgb3ZlcnJpZGUgc2Nyb2xse0xlZnQsVG9wfVxuICAgICAgfSBlbHNlIGlmIChuZXh0UHJvcHMuc2Nyb2xsTGVmdCAhPT0gcHJldlN0YXRlLnNjcm9sbExlZnQgJiYgbmV4dFByb3BzLnNjcm9sbFRvQ29sdW1uIDwgMCB8fCBuZXh0UHJvcHMuc2Nyb2xsVG9wICE9PSBwcmV2U3RhdGUuc2Nyb2xsVG9wICYmIG5leHRQcm9wcy5zY3JvbGxUb1JvdyA8IDApIHtcbiAgICAgICAgX09iamVjdCRhc3NpZ24obmV3U3RhdGUsIEdyaWQuX2dldFNjcm9sbFRvUG9zaXRpb25TdGF0ZVVwZGF0ZSh7XG4gICAgICAgICAgcHJldlN0YXRlOiBwcmV2U3RhdGUsXG4gICAgICAgICAgc2Nyb2xsTGVmdDogbmV4dFByb3BzLnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBuZXh0UHJvcHMuc2Nyb2xsVG9wXG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGluc3RhbmNlUHJvcHMgPSBwcmV2U3RhdGUuaW5zdGFuY2VQcm9wcztcblxuICAgICAgLy8gSW5pdGlhbGx5IHdlIHNob3VsZCBub3QgY2xlYXJTdHlsZUNhY2hlXG5cbiAgICAgIG5ld1N0YXRlLm5lZWRUb1Jlc2V0U3R5bGVDYWNoZSA9IGZhbHNlO1xuICAgICAgaWYgKG5leHRQcm9wcy5jb2x1bW5XaWR0aCAhPT0gaW5zdGFuY2VQcm9wcy5wcmV2Q29sdW1uV2lkdGggfHwgbmV4dFByb3BzLnJvd0hlaWdodCAhPT0gaW5zdGFuY2VQcm9wcy5wcmV2Um93SGVpZ2h0KSB7XG4gICAgICAgIC8vIFJlc2V0IGNhY2hlLiBzZXQgaXQgdG8ge30gaW4gcmVuZGVyXG4gICAgICAgIG5ld1N0YXRlLm5lZWRUb1Jlc2V0U3R5bGVDYWNoZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGluc3RhbmNlUHJvcHMuY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5jb25maWd1cmUoe1xuICAgICAgICBjZWxsQ291bnQ6IG5leHRQcm9wcy5jb2x1bW5Db3VudCxcbiAgICAgICAgZXN0aW1hdGVkQ2VsbFNpemU6IEdyaWQuX2dldEVzdGltYXRlZENvbHVtblNpemUobmV4dFByb3BzKSxcbiAgICAgICAgY2VsbFNpemVHZXR0ZXI6IEdyaWQuX3dyYXBTaXplR2V0dGVyKG5leHRQcm9wcy5jb2x1bW5XaWR0aClcbiAgICAgIH0pO1xuXG4gICAgICBpbnN0YW5jZVByb3BzLnJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIuY29uZmlndXJlKHtcbiAgICAgICAgY2VsbENvdW50OiBuZXh0UHJvcHMucm93Q291bnQsXG4gICAgICAgIGVzdGltYXRlZENlbGxTaXplOiBHcmlkLl9nZXRFc3RpbWF0ZWRSb3dTaXplKG5leHRQcm9wcyksXG4gICAgICAgIGNlbGxTaXplR2V0dGVyOiBHcmlkLl93cmFwU2l6ZUdldHRlcihuZXh0UHJvcHMucm93SGVpZ2h0KVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChpbnN0YW5jZVByb3BzLnByZXZDb2x1bW5Db3VudCA9PT0gMCB8fCBpbnN0YW5jZVByb3BzLnByZXZSb3dDb3VudCA9PT0gMCkge1xuICAgICAgICBpbnN0YW5jZVByb3BzLnByZXZDb2x1bW5Db3VudCA9IDA7XG4gICAgICAgIGluc3RhbmNlUHJvcHMucHJldlJvd0NvdW50ID0gMDtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgc2Nyb2xsaW5nIGlzIGNvbnRyb2xsZWQgb3V0c2lkZSB0aGlzIGNvbXBvbmVudCwgY2xlYXIgY2FjaGUgd2hlbiBzY3JvbGxpbmcgc3RvcHNcbiAgICAgIGlmIChuZXh0UHJvcHMuYXV0b0hlaWdodCAmJiBuZXh0UHJvcHMuaXNTY3JvbGxpbmcgPT09IGZhbHNlICYmIGluc3RhbmNlUHJvcHMucHJldklzU2Nyb2xsaW5nID09PSB0cnVlKSB7XG4gICAgICAgIF9PYmplY3QkYXNzaWduKG5ld1N0YXRlLCB7XG4gICAgICAgICAgaXNTY3JvbGxpbmc6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWF5YmVTdGF0ZUEgPSB2b2lkIDA7XG4gICAgICB2YXIgbWF5YmVTdGF0ZUIgPSB2b2lkIDA7XG5cbiAgICAgIGNhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGFBbmRVcGRhdGVTY3JvbGxPZmZzZXQoe1xuICAgICAgICBjZWxsQ291bnQ6IGluc3RhbmNlUHJvcHMucHJldkNvbHVtbkNvdW50LFxuICAgICAgICBjZWxsU2l6ZTogdHlwZW9mIGluc3RhbmNlUHJvcHMucHJldkNvbHVtbldpZHRoID09PSAnbnVtYmVyJyA/IGluc3RhbmNlUHJvcHMucHJldkNvbHVtbldpZHRoIDogbnVsbCxcbiAgICAgICAgY29tcHV0ZU1ldGFkYXRhQ2FsbGJhY2s6IGZ1bmN0aW9uIGNvbXB1dGVNZXRhZGF0YUNhbGxiYWNrKCkge1xuICAgICAgICAgIHJldHVybiBpbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIucmVzZXRDZWxsKDApO1xuICAgICAgICB9LFxuICAgICAgICBjb21wdXRlTWV0YWRhdGFDYWxsYmFja1Byb3BzOiBuZXh0UHJvcHMsXG4gICAgICAgIG5leHRDZWxsc0NvdW50OiBuZXh0UHJvcHMuY29sdW1uQ291bnQsXG4gICAgICAgIG5leHRDZWxsU2l6ZTogdHlwZW9mIG5leHRQcm9wcy5jb2x1bW5XaWR0aCA9PT0gJ251bWJlcicgPyBuZXh0UHJvcHMuY29sdW1uV2lkdGggOiBudWxsLFxuICAgICAgICBuZXh0U2Nyb2xsVG9JbmRleDogbmV4dFByb3BzLnNjcm9sbFRvQ29sdW1uLFxuICAgICAgICBzY3JvbGxUb0luZGV4OiBpbnN0YW5jZVByb3BzLnByZXZTY3JvbGxUb0NvbHVtbixcbiAgICAgICAgdXBkYXRlU2Nyb2xsT2Zmc2V0Rm9yU2Nyb2xsVG9JbmRleDogZnVuY3Rpb24gdXBkYXRlU2Nyb2xsT2Zmc2V0Rm9yU2Nyb2xsVG9JbmRleCgpIHtcbiAgICAgICAgICBtYXliZVN0YXRlQSA9IEdyaWQuX2dldFNjcm9sbExlZnRGb3JTY3JvbGxUb0NvbHVtblN0YXRlVXBkYXRlKG5leHRQcm9wcywgcHJldlN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjYWxjdWxhdGVTaXplQW5kUG9zaXRpb25EYXRhQW5kVXBkYXRlU2Nyb2xsT2Zmc2V0KHtcbiAgICAgICAgY2VsbENvdW50OiBpbnN0YW5jZVByb3BzLnByZXZSb3dDb3VudCxcbiAgICAgICAgY2VsbFNpemU6IHR5cGVvZiBpbnN0YW5jZVByb3BzLnByZXZSb3dIZWlnaHQgPT09ICdudW1iZXInID8gaW5zdGFuY2VQcm9wcy5wcmV2Um93SGVpZ2h0IDogbnVsbCxcbiAgICAgICAgY29tcHV0ZU1ldGFkYXRhQ2FsbGJhY2s6IGZ1bmN0aW9uIGNvbXB1dGVNZXRhZGF0YUNhbGxiYWNrKCkge1xuICAgICAgICAgIHJldHVybiBpbnN0YW5jZVByb3BzLnJvd1NpemVBbmRQb3NpdGlvbk1hbmFnZXIucmVzZXRDZWxsKDApO1xuICAgICAgICB9LFxuICAgICAgICBjb21wdXRlTWV0YWRhdGFDYWxsYmFja1Byb3BzOiBuZXh0UHJvcHMsXG4gICAgICAgIG5leHRDZWxsc0NvdW50OiBuZXh0UHJvcHMucm93Q291bnQsXG4gICAgICAgIG5leHRDZWxsU2l6ZTogdHlwZW9mIG5leHRQcm9wcy5yb3dIZWlnaHQgPT09ICdudW1iZXInID8gbmV4dFByb3BzLnJvd0hlaWdodCA6IG51bGwsXG4gICAgICAgIG5leHRTY3JvbGxUb0luZGV4OiBuZXh0UHJvcHMuc2Nyb2xsVG9Sb3csXG4gICAgICAgIHNjcm9sbFRvSW5kZXg6IGluc3RhbmNlUHJvcHMucHJldlNjcm9sbFRvUm93LFxuICAgICAgICB1cGRhdGVTY3JvbGxPZmZzZXRGb3JTY3JvbGxUb0luZGV4OiBmdW5jdGlvbiB1cGRhdGVTY3JvbGxPZmZzZXRGb3JTY3JvbGxUb0luZGV4KCkge1xuICAgICAgICAgIG1heWJlU3RhdGVCID0gR3JpZC5fZ2V0U2Nyb2xsVG9wRm9yU2Nyb2xsVG9Sb3dTdGF0ZVVwZGF0ZShuZXh0UHJvcHMsIHByZXZTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpbnN0YW5jZVByb3BzLnByZXZDb2x1bW5Db3VudCA9IG5leHRQcm9wcy5jb2x1bW5Db3VudDtcbiAgICAgIGluc3RhbmNlUHJvcHMucHJldkNvbHVtbldpZHRoID0gbmV4dFByb3BzLmNvbHVtbldpZHRoO1xuICAgICAgaW5zdGFuY2VQcm9wcy5wcmV2SXNTY3JvbGxpbmcgPSBuZXh0UHJvcHMuaXNTY3JvbGxpbmcgPT09IHRydWU7XG4gICAgICBpbnN0YW5jZVByb3BzLnByZXZSb3dDb3VudCA9IG5leHRQcm9wcy5yb3dDb3VudDtcbiAgICAgIGluc3RhbmNlUHJvcHMucHJldlJvd0hlaWdodCA9IG5leHRQcm9wcy5yb3dIZWlnaHQ7XG4gICAgICBpbnN0YW5jZVByb3BzLnByZXZTY3JvbGxUb0NvbHVtbiA9IG5leHRQcm9wcy5zY3JvbGxUb0NvbHVtbjtcbiAgICAgIGluc3RhbmNlUHJvcHMucHJldlNjcm9sbFRvUm93ID0gbmV4dFByb3BzLnNjcm9sbFRvUm93O1xuXG4gICAgICAvLyBnZXR0aW5nIHNjcm9sbEJhclNpemUgKG1vdmVkIGZyb20gY29tcG9uZW50V2lsbE1vdW50KVxuICAgICAgaW5zdGFuY2VQcm9wcy5zY3JvbGxiYXJTaXplID0gbmV4dFByb3BzLmdldFNjcm9sbGJhclNpemUoKTtcbiAgICAgIGlmIChpbnN0YW5jZVByb3BzLnNjcm9sbGJhclNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbnN0YW5jZVByb3BzLnNjcm9sbGJhclNpemVNZWFzdXJlZCA9IGZhbHNlO1xuICAgICAgICBpbnN0YW5jZVByb3BzLnNjcm9sbGJhclNpemUgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2VQcm9wcy5zY3JvbGxiYXJTaXplTWVhc3VyZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBuZXdTdGF0ZS5pbnN0YW5jZVByb3BzID0gaW5zdGFuY2VQcm9wcztcblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBuZXdTdGF0ZSwgbWF5YmVTdGF0ZUEsIG1heWJlU3RhdGVCKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfZ2V0RXN0aW1hdGVkQ29sdW1uU2l6ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRFc3RpbWF0ZWRDb2x1bW5TaXplKHByb3BzKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHByb3BzLmNvbHVtbldpZHRoID09PSAnbnVtYmVyJyA/IHByb3BzLmNvbHVtbldpZHRoIDogcHJvcHMuZXN0aW1hdGVkQ29sdW1uU2l6ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfZ2V0RXN0aW1hdGVkUm93U2l6ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRFc3RpbWF0ZWRSb3dTaXplKHByb3BzKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHByb3BzLnJvd0hlaWdodCA9PT0gJ251bWJlcicgPyBwcm9wcy5yb3dIZWlnaHQgOiBwcm9wcy5lc3RpbWF0ZWRSb3dTaXplO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19nZXRTY3JvbGxUb1Bvc2l0aW9uU3RhdGVVcGRhdGUnLFxuXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHVwZGF0ZWQgc3RhdGUgYWZ0ZXIgc2Nyb2xsaW5nIHRvXG4gICAgICogc2Nyb2xsTGVmdCBhbmQgc2Nyb2xsVG9wXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRTY3JvbGxUb1Bvc2l0aW9uU3RhdGVVcGRhdGUoX3JlZjkpIHtcbiAgICAgIHZhciBwcmV2U3RhdGUgPSBfcmVmOS5wcmV2U3RhdGUsXG4gICAgICAgICAgc2Nyb2xsTGVmdCA9IF9yZWY5LnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3JlZjkuc2Nyb2xsVG9wO1xuXG4gICAgICB2YXIgbmV3U3RhdGUgPSB7XG4gICAgICAgIHNjcm9sbFBvc2l0aW9uQ2hhbmdlUmVhc29uOiBTQ1JPTExfUE9TSVRJT05fQ0hBTkdFX1JFQVNPTlMuUkVRVUVTVEVEXG4gICAgICB9O1xuXG4gICAgICBpZiAodHlwZW9mIHNjcm9sbExlZnQgPT09ICdudW1iZXInICYmIHNjcm9sbExlZnQgPj0gMCkge1xuICAgICAgICBuZXdTdGF0ZS5zY3JvbGxEaXJlY3Rpb25Ib3Jpem9udGFsID0gc2Nyb2xsTGVmdCA+IHByZXZTdGF0ZS5zY3JvbGxMZWZ0ID8gU0NST0xMX0RJUkVDVElPTl9GT1JXQVJEIDogU0NST0xMX0RJUkVDVElPTl9CQUNLV0FSRDtcbiAgICAgICAgbmV3U3RhdGUuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygc2Nyb2xsVG9wID09PSAnbnVtYmVyJyAmJiBzY3JvbGxUb3AgPj0gMCkge1xuICAgICAgICBuZXdTdGF0ZS5zY3JvbGxEaXJlY3Rpb25WZXJ0aWNhbCA9IHNjcm9sbFRvcCA+IHByZXZTdGF0ZS5zY3JvbGxUb3AgPyBTQ1JPTExfRElSRUNUSU9OX0ZPUldBUkQgOiBTQ1JPTExfRElSRUNUSU9OX0JBQ0tXQVJEO1xuICAgICAgICBuZXdTdGF0ZS5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygc2Nyb2xsTGVmdCA9PT0gJ251bWJlcicgJiYgc2Nyb2xsTGVmdCA+PSAwICYmIHNjcm9sbExlZnQgIT09IHByZXZTdGF0ZS5zY3JvbGxMZWZ0IHx8IHR5cGVvZiBzY3JvbGxUb3AgPT09ICdudW1iZXInICYmIHNjcm9sbFRvcCA+PSAwICYmIHNjcm9sbFRvcCAhPT0gcHJldlN0YXRlLnNjcm9sbFRvcCkge1xuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfd3JhcFNpemVHZXR0ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfd3JhcFNpemVHZXR0ZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyB2YWx1ZSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfZ2V0Q2FsY3VsYXRlZFNjcm9sbExlZnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0Q2FsY3VsYXRlZFNjcm9sbExlZnQobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIHZhciBjb2x1bW5Db3VudCA9IG5leHRQcm9wcy5jb2x1bW5Db3VudCxcbiAgICAgICAgICBoZWlnaHQgPSBuZXh0UHJvcHMuaGVpZ2h0LFxuICAgICAgICAgIHNjcm9sbFRvQWxpZ25tZW50ID0gbmV4dFByb3BzLnNjcm9sbFRvQWxpZ25tZW50LFxuICAgICAgICAgIHNjcm9sbFRvQ29sdW1uID0gbmV4dFByb3BzLnNjcm9sbFRvQ29sdW1uLFxuICAgICAgICAgIHdpZHRoID0gbmV4dFByb3BzLndpZHRoO1xuICAgICAgdmFyIHNjcm9sbExlZnQgPSBwcmV2U3RhdGUuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBpbnN0YW5jZVByb3BzID0gcHJldlN0YXRlLmluc3RhbmNlUHJvcHM7XG5cblxuICAgICAgaWYgKGNvbHVtbkNvdW50ID4gMCkge1xuICAgICAgICB2YXIgZmluYWxDb2x1bW4gPSBjb2x1bW5Db3VudCAtIDE7XG4gICAgICAgIHZhciB0YXJnZXRJbmRleCA9IHNjcm9sbFRvQ29sdW1uIDwgMCA/IGZpbmFsQ29sdW1uIDogTWF0aC5taW4oZmluYWxDb2x1bW4sIHNjcm9sbFRvQ29sdW1uKTtcbiAgICAgICAgdmFyIHRvdGFsUm93c0hlaWdodCA9IGluc3RhbmNlUHJvcHMucm93U2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRUb3RhbFNpemUoKTtcbiAgICAgICAgdmFyIHNjcm9sbEJhclNpemUgPSBpbnN0YW5jZVByb3BzLnNjcm9sbGJhclNpemVNZWFzdXJlZCAmJiB0b3RhbFJvd3NIZWlnaHQgPiBoZWlnaHQgPyBpbnN0YW5jZVByb3BzLnNjcm9sbGJhclNpemUgOiAwO1xuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZVByb3BzLmNvbHVtblNpemVBbmRQb3NpdGlvbk1hbmFnZXIuZ2V0VXBkYXRlZE9mZnNldEZvckluZGV4KHtcbiAgICAgICAgICBhbGlnbjogc2Nyb2xsVG9BbGlnbm1lbnQsXG4gICAgICAgICAgY29udGFpbmVyU2l6ZTogd2lkdGggLSBzY3JvbGxCYXJTaXplLFxuICAgICAgICAgIGN1cnJlbnRPZmZzZXQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgdGFyZ2V0SW5kZXg6IHRhcmdldEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2dldFNjcm9sbExlZnRGb3JTY3JvbGxUb0NvbHVtblN0YXRlVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFNjcm9sbExlZnRGb3JTY3JvbGxUb0NvbHVtblN0YXRlVXBkYXRlKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICB2YXIgc2Nyb2xsTGVmdCA9IHByZXZTdGF0ZS5zY3JvbGxMZWZ0O1xuXG4gICAgICB2YXIgY2FsY3VsYXRlZFNjcm9sbExlZnQgPSBHcmlkLl9nZXRDYWxjdWxhdGVkU2Nyb2xsTGVmdChuZXh0UHJvcHMsIHByZXZTdGF0ZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgY2FsY3VsYXRlZFNjcm9sbExlZnQgPT09ICdudW1iZXInICYmIGNhbGN1bGF0ZWRTY3JvbGxMZWZ0ID49IDAgJiYgc2Nyb2xsTGVmdCAhPT0gY2FsY3VsYXRlZFNjcm9sbExlZnQpIHtcbiAgICAgICAgcmV0dXJuIEdyaWQuX2dldFNjcm9sbFRvUG9zaXRpb25TdGF0ZVVwZGF0ZSh7XG4gICAgICAgICAgcHJldlN0YXRlOiBwcmV2U3RhdGUsXG4gICAgICAgICAgc2Nyb2xsTGVmdDogY2FsY3VsYXRlZFNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wOiAtMVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19nZXRDYWxjdWxhdGVkU2Nyb2xsVG9wJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldENhbGN1bGF0ZWRTY3JvbGxUb3AobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIHZhciBoZWlnaHQgPSBuZXh0UHJvcHMuaGVpZ2h0LFxuICAgICAgICAgIHJvd0NvdW50ID0gbmV4dFByb3BzLnJvd0NvdW50LFxuICAgICAgICAgIHNjcm9sbFRvQWxpZ25tZW50ID0gbmV4dFByb3BzLnNjcm9sbFRvQWxpZ25tZW50LFxuICAgICAgICAgIHNjcm9sbFRvUm93ID0gbmV4dFByb3BzLnNjcm9sbFRvUm93LFxuICAgICAgICAgIHdpZHRoID0gbmV4dFByb3BzLndpZHRoO1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IHByZXZTdGF0ZS5zY3JvbGxUb3AsXG4gICAgICAgICAgaW5zdGFuY2VQcm9wcyA9IHByZXZTdGF0ZS5pbnN0YW5jZVByb3BzO1xuXG5cbiAgICAgIGlmIChyb3dDb3VudCA+IDApIHtcbiAgICAgICAgdmFyIGZpbmFsUm93ID0gcm93Q291bnQgLSAxO1xuICAgICAgICB2YXIgdGFyZ2V0SW5kZXggPSBzY3JvbGxUb1JvdyA8IDAgPyBmaW5hbFJvdyA6IE1hdGgubWluKGZpbmFsUm93LCBzY3JvbGxUb1Jvdyk7XG4gICAgICAgIHZhciB0b3RhbENvbHVtbnNXaWR0aCA9IGluc3RhbmNlUHJvcHMuY29sdW1uU2l6ZUFuZFBvc2l0aW9uTWFuYWdlci5nZXRUb3RhbFNpemUoKTtcbiAgICAgICAgdmFyIHNjcm9sbEJhclNpemUgPSBpbnN0YW5jZVByb3BzLnNjcm9sbGJhclNpemVNZWFzdXJlZCAmJiB0b3RhbENvbHVtbnNXaWR0aCA+IHdpZHRoID8gaW5zdGFuY2VQcm9wcy5zY3JvbGxiYXJTaXplIDogMDtcblxuICAgICAgICByZXR1cm4gaW5zdGFuY2VQcm9wcy5yb3dTaXplQW5kUG9zaXRpb25NYW5hZ2VyLmdldFVwZGF0ZWRPZmZzZXRGb3JJbmRleCh7XG4gICAgICAgICAgYWxpZ246IHNjcm9sbFRvQWxpZ25tZW50LFxuICAgICAgICAgIGNvbnRhaW5lclNpemU6IGhlaWdodCAtIHNjcm9sbEJhclNpemUsXG4gICAgICAgICAgY3VycmVudE9mZnNldDogc2Nyb2xsVG9wLFxuICAgICAgICAgIHRhcmdldEluZGV4OiB0YXJnZXRJbmRleFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19nZXRTY3JvbGxUb3BGb3JTY3JvbGxUb1Jvd1N0YXRlVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFNjcm9sbFRvcEZvclNjcm9sbFRvUm93U3RhdGVVcGRhdGUobmV4dFByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIHZhciBzY3JvbGxUb3AgPSBwcmV2U3RhdGUuc2Nyb2xsVG9wO1xuXG4gICAgICB2YXIgY2FsY3VsYXRlZFNjcm9sbFRvcCA9IEdyaWQuX2dldENhbGN1bGF0ZWRTY3JvbGxUb3AobmV4dFByb3BzLCBwcmV2U3RhdGUpO1xuXG4gICAgICBpZiAodHlwZW9mIGNhbGN1bGF0ZWRTY3JvbGxUb3AgPT09ICdudW1iZXInICYmIGNhbGN1bGF0ZWRTY3JvbGxUb3AgPj0gMCAmJiBzY3JvbGxUb3AgIT09IGNhbGN1bGF0ZWRTY3JvbGxUb3ApIHtcbiAgICAgICAgcmV0dXJuIEdyaWQuX2dldFNjcm9sbFRvUG9zaXRpb25TdGF0ZVVwZGF0ZSh7XG4gICAgICAgICAgcHJldlN0YXRlOiBwcmV2U3RhdGUsXG4gICAgICAgICAgc2Nyb2xsTGVmdDogLTEsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBjYWxjdWxhdGVkU2Nyb2xsVG9wXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEdyaWQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5HcmlkLmRlZmF1bHRQcm9wcyA9IHtcbiAgJ2FyaWEtbGFiZWwnOiAnZ3JpZCcsXG4gICdhcmlhLXJlYWRvbmx5JzogdHJ1ZSxcbiAgYXV0b0NvbnRhaW5lcldpZHRoOiBmYWxzZSxcbiAgYXV0b0hlaWdodDogZmFsc2UsXG4gIGF1dG9XaWR0aDogZmFsc2UsXG4gIGNlbGxSYW5nZVJlbmRlcmVyOiBkZWZhdWx0Q2VsbFJhbmdlUmVuZGVyZXIsXG4gIGNvbnRhaW5lclJvbGU6ICdyb3dncm91cCcsXG4gIGNvbnRhaW5lclN0eWxlOiB7fSxcbiAgZXN0aW1hdGVkQ29sdW1uU2l6ZTogMTAwLFxuICBlc3RpbWF0ZWRSb3dTaXplOiAzMCxcbiAgZ2V0U2Nyb2xsYmFyU2l6ZTogc2Nyb2xsYmFyU2l6ZSxcbiAgbm9Db250ZW50UmVuZGVyZXI6IHJlbmRlck51bGwsXG4gIG9uU2Nyb2xsOiBmdW5jdGlvbiBvblNjcm9sbCgpIHt9LFxuICBvblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlOiBmdW5jdGlvbiBvblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlKCkge30sXG4gIG9uU2VjdGlvblJlbmRlcmVkOiBmdW5jdGlvbiBvblNlY3Rpb25SZW5kZXJlZCgpIHt9LFxuICBvdmVyc2NhbkNvbHVtbkNvdW50OiAwLFxuICBvdmVyc2NhbkluZGljZXNHZXR0ZXI6IGRlZmF1bHRPdmVyc2NhbkluZGljZXNHZXR0ZXIsXG4gIG92ZXJzY2FuUm93Q291bnQ6IDEwLFxuICByb2xlOiAnZ3JpZCcsXG4gIHNjcm9sbGluZ1Jlc2V0VGltZUludGVydmFsOiBERUZBVUxUX1NDUk9MTElOR19SRVNFVF9USU1FX0lOVEVSVkFMLFxuICBzY3JvbGxUb0FsaWdubWVudDogJ2F1dG8nLFxuICBzY3JvbGxUb0NvbHVtbjogLTEsXG4gIHNjcm9sbFRvUm93OiAtMSxcbiAgc3R5bGU6IHt9LFxuICB0YWJJbmRleDogMCxcbiAgaXNTY3JvbGxpbmdPcHRPdXQ6IGZhbHNlXG59O1xuR3JpZC5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJhcmlhLWxhYmVsXCI6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgXCJhcmlhLXJlYWRvbmx5XCI6IFByb3BUeXBlcy5ib29sLFxuXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgd2lkdGggb2YgdGhlIGlubmVyIHNjcm9sbGFibGUgY29udGFpbmVyIHRvICdhdXRvJy5cbiAgICogVGhpcyBpcyB1c2VmdWwgZm9yIHNpbmdsZS1jb2x1bW4gR3JpZHMgdG8gZW5zdXJlIHRoYXQgdGhlIGNvbHVtbiBkb2Vzbid0IGV4dGVuZCBiZWxvdyBhIHZlcnRpY2FsIHNjcm9sbGJhci5cbiAgICovXG4gIGF1dG9Db250YWluZXJXaWR0aDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcblxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGZpeGVkIGhlaWdodCBmcm9tIHRoZSBzY3JvbGxpbmdDb250YWluZXIgc28gdGhhdCB0aGUgdG90YWwgaGVpZ2h0IG9mIHJvd3MgY2FuIHN0cmV0Y2ggdGhlIHdpbmRvdy5cbiAgICogSW50ZW5kZWQgZm9yIHVzZSB3aXRoIFdpbmRvd1Njcm9sbGVyXG4gICAqL1xuICBhdXRvSGVpZ2h0OiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgZml4ZWQgd2lkdGggZnJvbSB0aGUgc2Nyb2xsaW5nQ29udGFpbmVyIHNvIHRoYXQgdGhlIHRvdGFsIHdpZHRoIG9mIHJvd3MgY2FuIHN0cmV0Y2ggdGhlIHdpbmRvdy5cbiAgICogSW50ZW5kZWQgZm9yIHVzZSB3aXRoIFdpbmRvd1Njcm9sbGVyXG4gICAqL1xuICBhdXRvV2lkdGg6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG5cblxuICAvKiogUmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyBhIGNlbGwgZ2l2ZW4gYW4gcm93IGFuZCBjb2x1bW4gaW5kZXguICAqL1xuICBjZWxsUmVuZGVyZXI6IGZ1bmN0aW9uIGNlbGxSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBicGZycHRfcHJvcHR5cGVfQ2VsbFJlbmRlcmVyID09PSAnZnVuY3Rpb24nID8gYnBmcnB0X3Byb3B0eXBlX0NlbGxSZW5kZXJlci5pc1JlcXVpcmVkID8gYnBmcnB0X3Byb3B0eXBlX0NlbGxSZW5kZXJlci5pc1JlcXVpcmVkIDogYnBmcnB0X3Byb3B0eXBlX0NlbGxSZW5kZXJlciA6IFByb3BUeXBlcy5zaGFwZShicGZycHRfcHJvcHR5cGVfQ2VsbFJlbmRlcmVyKS5pc1JlcXVpcmVkKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuXG5cbiAgLyoqIFJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgYSBncm91cCBvZiBjZWxscyBnaXZlbiB0aGVpciBpbmRleCByYW5nZXMuICAqL1xuICBjZWxsUmFuZ2VSZW5kZXJlcjogZnVuY3Rpb24gY2VsbFJhbmdlUmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYnBmcnB0X3Byb3B0eXBlX0NlbGxSYW5nZVJlbmRlcmVyID09PSAnZnVuY3Rpb24nID8gYnBmcnB0X3Byb3B0eXBlX0NlbGxSYW5nZVJlbmRlcmVyLmlzUmVxdWlyZWQgPyBicGZycHRfcHJvcHR5cGVfQ2VsbFJhbmdlUmVuZGVyZXIuaXNSZXF1aXJlZCA6IGJwZnJwdF9wcm9wdHlwZV9DZWxsUmFuZ2VSZW5kZXJlciA6IFByb3BUeXBlcy5zaGFwZShicGZycHRfcHJvcHR5cGVfQ2VsbFJhbmdlUmVuZGVyZXIpLmlzUmVxdWlyZWQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cblxuICAvKiogT3B0aW9uYWwgY3VzdG9tIENTUyBjbGFzcyBuYW1lIHRvIGF0dGFjaCB0byByb290IEdyaWQgZWxlbWVudC4gICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuXG4gIC8qKiBOdW1iZXIgb2YgY29sdW1ucyBpbiBncmlkLiAgKi9cbiAgY29sdW1uQ291bnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuXG4gIC8qKiBFaXRoZXIgYSBmaXhlZCBjb2x1bW4gd2lkdGggKG51bWJlcikgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHdpZHRoIG9mIGEgY29sdW1uIGdpdmVuIGl0cyBpbmRleC4gICovXG4gIGNvbHVtbldpZHRoOiBmdW5jdGlvbiBjb2x1bW5XaWR0aCgpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemUgPT09ICdmdW5jdGlvbicgPyBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemUuaXNSZXF1aXJlZCA/IGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZS5pc1JlcXVpcmVkIDogYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplIDogUHJvcFR5cGVzLnNoYXBlKGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSkuaXNSZXF1aXJlZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuXG4gIC8qKiBVbmZpbHRlcmVkIHByb3BzIGZvciB0aGUgR3JpZCBjb250YWluZXIuICovXG4gIGNvbnRhaW5lclByb3BzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG5cbiAgLyoqIEFSSUEgcm9sZSBmb3IgdGhlIGNlbGwtY29udGFpbmVyLiAgKi9cbiAgY29udGFpbmVyUm9sZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXG5cbiAgLyoqIE9wdGlvbmFsIGlubGluZSBzdHlsZSBhcHBsaWVkIHRvIGlubmVyIGNlbGwtY29udGFpbmVyICovXG4gIGNvbnRhaW5lclN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cblxuICAvKipcbiAgICogSWYgQ2VsbE1lYXN1cmVyIGlzIHVzZWQgdG8gbWVhc3VyZSB0aGlzIEdyaWQncyBjaGlsZHJlbiwgdGhpcyBzaG91bGQgYmUgYSBwb2ludGVyIHRvIGl0cyBDZWxsTWVhc3VyZXJDYWNoZS5cbiAgICogQSBzaGFyZWQgQ2VsbE1lYXN1cmVyQ2FjaGUgcmVmZXJlbmNlIGVuYWJsZXMgR3JpZCBhbmQgQ2VsbE1lYXN1cmVyIHRvIHNoYXJlIG1lYXN1cmVtZW50IGRhdGEuXG4gICAqL1xuICBkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGU6IFByb3BUeXBlcy5vYmplY3QsXG5cblxuICAvKipcbiAgICogVXNlZCB0byBlc3RpbWF0ZSB0aGUgdG90YWwgd2lkdGggb2YgYSBHcmlkIGJlZm9yZSBhbGwgb2YgaXRzIGNvbHVtbnMgaGF2ZSBhY3R1YWxseSBiZWVuIG1lYXN1cmVkLlxuICAgKiBUaGUgZXN0aW1hdGVkIHRvdGFsIHdpZHRoIGlzIGFkanVzdGVkIGFzIGNvbHVtbnMgYXJlIHJlbmRlcmVkLlxuICAgKi9cbiAgZXN0aW1hdGVkQ29sdW1uU2l6ZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gZXN0aW1hdGUgdGhlIHRvdGFsIGhlaWdodCBvZiBhIEdyaWQgYmVmb3JlIGFsbCBvZiBpdHMgcm93cyBoYXZlIGFjdHVhbGx5IGJlZW4gbWVhc3VyZWQuXG4gICAqIFRoZSBlc3RpbWF0ZWQgdG90YWwgaGVpZ2h0IGlzIGFkanVzdGVkIGFzIHJvd3MgYXJlIHJlbmRlcmVkLlxuICAgKi9cbiAgZXN0aW1hdGVkUm93U2l6ZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG5cbiAgLyoqIEV4cG9zZWQgZm9yIHRlc3RpbmcgcHVycG9zZXMgb25seS4gICovXG4gIGdldFNjcm9sbGJhclNpemU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cblxuICAvKiogSGVpZ2h0IG9mIEdyaWQ7IHRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyB0aGUgbnVtYmVyIG9mIHZpc2libGUgKHZzIHZpcnR1YWxpemVkKSByb3dzLiAgKi9cbiAgaGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cblxuICAvKiogT3B0aW9uYWwgY3VzdG9tIGlkIHRvIGF0dGFjaCB0byByb290IEdyaWQgZWxlbWVudC4gICovXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIGludGVybmFsIGlzLXNjcm9sbGluZyBzdGF0ZSB0cmFja2luZy5cbiAgICogVGhpcyBwcm9wZXJ0eSBpcyBwcmltYXJpbHkgaW50ZW5kZWQgZm9yIHVzZSB3aXRoIHRoZSBXaW5kb3dTY3JvbGxlciBjb21wb25lbnQuXG4gICAqL1xuICBpc1Njcm9sbGluZzogUHJvcFR5cGVzLmJvb2wsXG5cblxuICAvKipcbiAgICogT3B0LW91dCBvZiBpc1Njcm9sbGluZyBwYXJhbSBwYXNzZWQgdG8gY2VsbFJhbmdlUmVuZGVyZXIuXG4gICAqIFRvIGF2b2lkIHRoZSBleHRyYSByZW5kZXIgd2hlbiBzY3JvbGwgc3RvcHMuXG4gICAqL1xuICBpc1Njcm9sbGluZ09wdE91dDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcblxuXG4gIC8qKiBPcHRpb25hbCByZW5kZXJlciB0byBiZSB1c2VkIGluIHBsYWNlIG9mIHJvd3Mgd2hlbiBlaXRoZXIgOnJvd0NvdW50IG9yIDpjb2x1bW5Db3VudCBpcyAwLiAgKi9cbiAgbm9Db250ZW50UmVuZGVyZXI6IGZ1bmN0aW9uIG5vQ29udGVudFJlbmRlcmVyKCkge1xuICAgIHJldHVybiAodHlwZW9mIGJwZnJwdF9wcm9wdHlwZV9Ob0NvbnRlbnRSZW5kZXJlciA9PT0gJ2Z1bmN0aW9uJyA/IGJwZnJwdF9wcm9wdHlwZV9Ob0NvbnRlbnRSZW5kZXJlci5pc1JlcXVpcmVkID8gYnBmcnB0X3Byb3B0eXBlX05vQ29udGVudFJlbmRlcmVyLmlzUmVxdWlyZWQgOiBicGZycHRfcHJvcHR5cGVfTm9Db250ZW50UmVuZGVyZXIgOiBQcm9wVHlwZXMuc2hhcGUoYnBmcnB0X3Byb3B0eXBlX05vQ29udGVudFJlbmRlcmVyKS5pc1JlcXVpcmVkKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGludm9rZWQgd2hlbmV2ZXIgdGhlIHNjcm9sbCBvZmZzZXQgY2hhbmdlcyB3aXRoaW4gdGhlIGlubmVyIHNjcm9sbGFibGUgcmVnaW9uLlxuICAgKiBUaGlzIGNhbGxiYWNrIGNhbiBiZSB1c2VkIHRvIHN5bmMgc2Nyb2xsaW5nIGJldHdlZW4gbGlzdHMsIHRhYmxlcywgb3IgZ3JpZHMuXG4gICAqL1xuICBvblNjcm9sbDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbmV2ZXIgYSBob3Jpem9udGFsIG9yIHZlcnRpY2FsIHNjcm9sbGJhciBpcyBhZGRlZCBvciByZW1vdmVkLlxuICAgKiBUaGlzIHByb3AgaXMgbm90IGludGVuZGVkIGZvciBlbmQtdXNlciB1c2U7XG4gICAqIEl0IGlzIHVzZWQgYnkgTXVsdGlHcmlkIHRvIHN1cHBvcnQgZml4ZWQtcm93L2ZpeGVkLWNvbHVtbiBzY3JvbGwgc3luY2luZy5cbiAgICovXG4gIG9uU2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cblxuICAvKiogQ2FsbGJhY2sgaW52b2tlZCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzZWN0aW9uIG9mIHRoZSBHcmlkIHRoYXQgd2FzIGp1c3QgcmVuZGVyZWQuICAqL1xuICBvblNlY3Rpb25SZW5kZXJlZDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgY29sdW1ucyB0byByZW5kZXIgYmVmb3JlL2FmdGVyIHRoZSB2aXNpYmxlIHNlY3Rpb24gb2YgdGhlIGdyaWQuXG4gICAqIFRoZXNlIGNvbHVtbnMgY2FuIGhlbHAgZm9yIHNtb290aGVyIHNjcm9sbGluZyBvbiB0b3VjaCBkZXZpY2VzIG9yIGJyb3dzZXJzIHRoYXQgc2VuZCBzY3JvbGwgZXZlbnRzIGluZnJlcXVlbnRseS5cbiAgICovXG4gIG92ZXJzY2FuQ29sdW1uQ291bnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBudW1iZXIgb2YgY2VsbHMgdG8gb3ZlcnNjYW4gYmVmb3JlIGFuZCBhZnRlciBhIHNwZWNpZmllZCByYW5nZS5cbiAgICogVGhpcyBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgb3ZlcnNjYW5uaW5nIGRvZXNuJ3QgZXhjZWVkIHRoZSBhdmFpbGFibGUgY2VsbHMuXG4gICAqL1xuICBvdmVyc2NhbkluZGljZXNHZXR0ZXI6IGZ1bmN0aW9uIG92ZXJzY2FuSW5kaWNlc0dldHRlcigpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBicGZycHRfcHJvcHR5cGVfT3ZlcnNjYW5JbmRpY2VzR2V0dGVyID09PSAnZnVuY3Rpb24nID8gYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlci5pc1JlcXVpcmVkID8gYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlci5pc1JlcXVpcmVkIDogYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlciA6IFByb3BUeXBlcy5zaGFwZShicGZycHRfcHJvcHR5cGVfT3ZlcnNjYW5JbmRpY2VzR2V0dGVyKS5pc1JlcXVpcmVkKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuXG5cbiAgLyoqXG4gICAqIE51bWJlciBvZiByb3dzIHRvIHJlbmRlciBhYm92ZS9iZWxvdyB0aGUgdmlzaWJsZSBzZWN0aW9uIG9mIHRoZSBncmlkLlxuICAgKiBUaGVzZSByb3dzIGNhbiBoZWxwIGZvciBzbW9vdGhlciBzY3JvbGxpbmcgb24gdG91Y2ggZGV2aWNlcyBvciBicm93c2VycyB0aGF0IHNlbmQgc2Nyb2xsIGV2ZW50cyBpbmZyZXF1ZW50bHkuXG4gICAqL1xuICBvdmVyc2NhblJvd0NvdW50OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cblxuICAvKiogQVJJQSByb2xlIGZvciB0aGUgZ3JpZCBlbGVtZW50LiAgKi9cbiAgcm9sZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXG5cbiAgLyoqXG4gICAqIEVpdGhlciBhIGZpeGVkIHJvdyBoZWlnaHQgKG51bWJlcikgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGhlaWdodCBvZiBhIHJvdyBnaXZlbiBpdHMgaW5kZXguXG4gICAqIFNob3VsZCBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBpbnRlcmZhY2U6ICh7IGluZGV4OiBudW1iZXIgfSk6IG51bWJlclxuICAgKi9cbiAgcm93SGVpZ2h0OiBmdW5jdGlvbiByb3dIZWlnaHQoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplID09PSAnZnVuY3Rpb24nID8gYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplLmlzUmVxdWlyZWQgPyBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemUuaXNSZXF1aXJlZCA6IGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSA6IFByb3BUeXBlcy5zaGFwZShicGZycHRfcHJvcHR5cGVfQ2VsbFNpemUpLmlzUmVxdWlyZWQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cblxuICAvKiogTnVtYmVyIG9mIHJvd3MgaW4gZ3JpZC4gICovXG4gIHJvd0NvdW50OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cblxuICAvKiogV2FpdCB0aGlzIGFtb3VudCBvZiB0aW1lIGFmdGVyIHRoZSBsYXN0IHNjcm9sbCBldmVudCBiZWZvcmUgcmVzZXR0aW5nIEdyaWQgYHBvaW50ZXItZXZlbnRzYC4gKi9cbiAgc2Nyb2xsaW5nUmVzZXRUaW1lSW50ZXJ2YWw6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuXG4gIC8qKiBIb3Jpem9udGFsIG9mZnNldC4gKi9cbiAgc2Nyb2xsTGVmdDogUHJvcFR5cGVzLm51bWJlcixcblxuXG4gIC8qKlxuICAgKiBDb250cm9scyBzY3JvbGwtdG8tY2VsbCBiZWhhdmlvciBvZiB0aGUgR3JpZC5cbiAgICogVGhlIGRlZmF1bHQgKFwiYXV0b1wiKSBzY3JvbGxzIHRoZSBsZWFzdCBhbW91bnQgcG9zc2libGUgdG8gZW5zdXJlIHRoYXQgdGhlIHNwZWNpZmllZCBjZWxsIGlzIGZ1bGx5IHZpc2libGUuXG4gICAqIFVzZSBcInN0YXJ0XCIgdG8gYWxpZ24gY2VsbHMgdG8gdGhlIHRvcC9sZWZ0IG9mIHRoZSBHcmlkIGFuZCBcImVuZFwiIHRvIGFsaWduIGJvdHRvbS9yaWdodC5cbiAgICovXG4gIHNjcm9sbFRvQWxpZ25tZW50OiBmdW5jdGlvbiBzY3JvbGxUb0FsaWdubWVudCgpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBicGZycHRfcHJvcHR5cGVfQWxpZ25tZW50ID09PSAnZnVuY3Rpb24nID8gYnBmcnB0X3Byb3B0eXBlX0FsaWdubWVudC5pc1JlcXVpcmVkID8gYnBmcnB0X3Byb3B0eXBlX0FsaWdubWVudC5pc1JlcXVpcmVkIDogYnBmcnB0X3Byb3B0eXBlX0FsaWdubWVudCA6IFByb3BUeXBlcy5zaGFwZShicGZycHRfcHJvcHR5cGVfQWxpZ25tZW50KS5pc1JlcXVpcmVkKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuXG5cbiAgLyoqIENvbHVtbiBpbmRleCB0byBlbnN1cmUgdmlzaWJsZSAoYnkgZm9yY2VmdWxseSBzY3JvbGxpbmcgaWYgbmVjZXNzYXJ5KSAqL1xuICBzY3JvbGxUb0NvbHVtbjogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG5cbiAgLyoqIFZlcnRpY2FsIG9mZnNldC4gKi9cbiAgc2Nyb2xsVG9wOiBQcm9wVHlwZXMubnVtYmVyLFxuXG5cbiAgLyoqIFJvdyBpbmRleCB0byBlbnN1cmUgdmlzaWJsZSAoYnkgZm9yY2VmdWxseSBzY3JvbGxpbmcgaWYgbmVjZXNzYXJ5KSAqL1xuICBzY3JvbGxUb1JvdzogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG5cbiAgLyoqIE9wdGlvbmFsIGlubGluZSBzdHlsZSAqL1xuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuXG5cbiAgLyoqIFRhYiBpbmRleCBmb3IgZm9jdXMgKi9cbiAgdGFiSW5kZXg6IFByb3BUeXBlcy5udW1iZXIsXG5cblxuICAvKiogV2lkdGggb2YgR3JpZDsgdGhpcyBwcm9wZXJ0eSBkZXRlcm1pbmVzIHRoZSBudW1iZXIgb2YgdmlzaWJsZSAodnMgdmlydHVhbGl6ZWQpIGNvbHVtbnMuICAqL1xuICB3aWR0aDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59O1xuXG5cbnBvbHlmaWxsKEdyaWQpO1xuZXhwb3J0IGRlZmF1bHQgR3JpZDtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsUmVuZGVyZXIgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsUmFuZ2VSZW5kZXJlciB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxQb3NpdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemVHZXR0ZXIgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9Ob0NvbnRlbnRSZW5kZXJlciB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Njcm9sbCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Njcm9sbGJhclByZXNlbmNlQ2hhbmdlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfUmVuZGVyZWRTZWN0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfT3ZlcnNjYW5JbmRpY2VzR2V0dGVyIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQWxpZ25tZW50IH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbENhY2hlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfU3R5bGVDYWNoZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0FuaW1hdGlvblRpbWVvdXRJZCB9IGZyb20gJy4uL3V0aWxzL3JlcXVlc3RBbmltYXRpb25UaW1lb3V0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7IiwiXG5cbmV4cG9ydCB2YXIgU0NST0xMX0RJUkVDVElPTl9CQUNLV0FSRCA9IC0xO1xuXG5leHBvcnQgdmFyIFNDUk9MTF9ESVJFQ1RJT05fRk9SV0FSRCA9IDE7XG5cbmV4cG9ydCB2YXIgU0NST0xMX0RJUkVDVElPTl9IT1JJWk9OVEFMID0gJ2hvcml6b250YWwnO1xuZXhwb3J0IHZhciBTQ1JPTExfRElSRUNUSU9OX1ZFUlRJQ0FMID0gJ3ZlcnRpY2FsJztcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBudW1iZXIgb2YgY2VsbHMgdG8gb3ZlcnNjYW4gYmVmb3JlIGFuZCBhZnRlciBhIHNwZWNpZmllZCByYW5nZS5cbiAqIFRoaXMgZnVuY3Rpb24gZW5zdXJlcyB0aGF0IG92ZXJzY2FubmluZyBkb2Vzbid0IGV4Y2VlZCB0aGUgYXZhaWxhYmxlIGNlbGxzLlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmF1bHRPdmVyc2NhbkluZGljZXNHZXR0ZXIoX3JlZikge1xuICB2YXIgY2VsbENvdW50ID0gX3JlZi5jZWxsQ291bnQsXG4gICAgICBvdmVyc2NhbkNlbGxzQ291bnQgPSBfcmVmLm92ZXJzY2FuQ2VsbHNDb3VudCxcbiAgICAgIHNjcm9sbERpcmVjdGlvbiA9IF9yZWYuc2Nyb2xsRGlyZWN0aW9uLFxuICAgICAgc3RhcnRJbmRleCA9IF9yZWYuc3RhcnRJbmRleCxcbiAgICAgIHN0b3BJbmRleCA9IF9yZWYuc3RvcEluZGV4O1xuXG4gIC8vIE1ha2Ugc3VyZSB3ZSByZW5kZXIgYXQgbGVhc3QgMSBjZWxsIGV4dHJhIGJlZm9yZSBhbmQgYWZ0ZXIgKGV4Y2VwdCBuZWFyIGJvdW5kYXJpZXMpXG4gIC8vIFRoaXMgaXMgbmVjZXNzYXJ5IGluIG9yZGVyIHRvIHN1cHBvcnQga2V5Ym9hcmQgbmF2aWdhdGlvbiAoVEFCL1NISUZUK1RBQikgaW4gc29tZSBjYXNlc1xuICAvLyBGb3IgbW9yZSBpbmZvIHNlZSBpc3N1ZXMgIzYyNVxuICBvdmVyc2NhbkNlbGxzQ291bnQgPSBNYXRoLm1heCgxLCBvdmVyc2NhbkNlbGxzQ291bnQpO1xuXG4gIGlmIChzY3JvbGxEaXJlY3Rpb24gPT09IFNDUk9MTF9ESVJFQ1RJT05fRk9SV0FSRCkge1xuICAgIHJldHVybiB7XG4gICAgICBvdmVyc2NhblN0YXJ0SW5kZXg6IE1hdGgubWF4KDAsIHN0YXJ0SW5kZXggLSAxKSxcbiAgICAgIG92ZXJzY2FuU3RvcEluZGV4OiBNYXRoLm1pbihjZWxsQ291bnQgLSAxLCBzdG9wSW5kZXggKyBvdmVyc2NhbkNlbGxzQ291bnQpXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3ZlcnNjYW5TdGFydEluZGV4OiBNYXRoLm1heCgwLCBzdGFydEluZGV4IC0gb3ZlcnNjYW5DZWxsc0NvdW50KSxcbiAgICAgIG92ZXJzY2FuU3RvcEluZGV4OiBNYXRoLm1pbihjZWxsQ291bnQgLSAxLCBzdG9wSW5kZXggKyAxKVxuICAgIH07XG4gIH1cbn1cbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXNHZXR0ZXJQYXJhbXMgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXMgfSBmcm9tICcuL3R5cGVzJzsiLCJcblxuZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gJy4vR3JpZCc7XG5cbmV4cG9ydCB7IGRlZmF1bHQgYXMgR3JpZCB9IGZyb20gJy4vR3JpZCc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGFjY2Vzc2liaWxpdHlPdmVyc2NhbkluZGljZXNHZXR0ZXIgfSBmcm9tICcuL2FjY2Vzc2liaWxpdHlPdmVyc2NhbkluZGljZXNHZXR0ZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBkZWZhdWx0Q2VsbFJhbmdlUmVuZGVyZXIgfSBmcm9tICcuL2RlZmF1bHRDZWxsUmFuZ2VSZW5kZXJlcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGRlZmF1bHRPdmVyc2NhbkluZGljZXNHZXR0ZXIgfSBmcm9tICcuL2RlZmF1bHRPdmVyc2NhbkluZGljZXNHZXR0ZXInO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX05vQ29udGVudFJlbmRlcmVyIH0gZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfTm9Db250ZW50UmVuZGVyZXIgfTtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9BbGlnbm1lbnQgfSBmcm9tICcuL3R5cGVzJztcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9BbGlnbm1lbnQgfTtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsUG9zaXRpb24gfSBmcm9tICcuL3R5cGVzJztcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsUG9zaXRpb24gfTtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSB9IGZyb20gJy4vdHlwZXMnO1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplIH07XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfT3ZlcnNjYW5JbmRpY2VzR2V0dGVyIH0gZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfT3ZlcnNjYW5JbmRpY2VzR2V0dGVyIH07XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfUmVuZGVyZWRTZWN0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfUmVuZGVyZWRTZWN0aW9uIH07XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFJlbmRlcmVyUGFyYW1zIH0gZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFJlbmRlcmVyUGFyYW1zIH07XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfU2Nyb2xsIH0gZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfU2Nyb2xsIH07IiwidmFyIGJwZnJwdF9wcm9wdHlwZV9TY3JvbGxJbmRpY2VzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIHNjcm9sbFRvQ29sdW1uOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIHNjcm9sbFRvUm93OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn07XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfU2Nyb2xsSW5kaWNlcyB9OyIsImltcG9ydCBfT2JqZWN0JGdldFByb3RvdHlwZU9mIGZyb20gJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZic7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcG9seWZpbGwgfSBmcm9tICdyZWFjdC1saWZlY3ljbGVzLWNvbXBhdCc7XG5cbi8qKlxuICogVGhpcyBIT0MgZGVjb3JhdGVzIGEgdmlydHVhbGl6ZWQgY29tcG9uZW50IGFuZCByZXNwb25kcyB0byBhcnJvdy1rZXkgZXZlbnRzIGJ5IHNjcm9sbGluZyBvbmUgcm93IG9yIGNvbHVtbiBhdCBhIHRpbWUuXG4gKi9cblxudmFyIEFycm93S2V5U3RlcHBlciA9IGZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQXJyb3dLZXlTdGVwcGVyLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQXJyb3dLZXlTdGVwcGVyKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcnJvd0tleVN0ZXBwZXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX3JlZiA9IEFycm93S2V5U3RlcHBlci5fX3Byb3RvX18gfHwgX09iamVjdCRnZXRQcm90b3R5cGVPZihBcnJvd0tleVN0ZXBwZXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNjcm9sbFRvQ29sdW1uOiAwLFxuICAgICAgc2Nyb2xsVG9Sb3c6IDBcbiAgICB9LCBfdGhpcy5fY29sdW1uU3RhcnRJbmRleCA9IDAsIF90aGlzLl9jb2x1bW5TdG9wSW5kZXggPSAwLCBfdGhpcy5fcm93U3RhcnRJbmRleCA9IDAsIF90aGlzLl9yb3dTdG9wSW5kZXggPSAwLCBfdGhpcy5fb25LZXlEb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBjb2x1bW5Db3VudCA9IF90aGlzJHByb3BzLmNvbHVtbkNvdW50LFxuICAgICAgICAgIGRpc2FibGVkID0gX3RoaXMkcHJvcHMuZGlzYWJsZWQsXG4gICAgICAgICAgbW9kZSA9IF90aGlzJHByb3BzLm1vZGUsXG4gICAgICAgICAgcm93Q291bnQgPSBfdGhpcyRwcm9wcy5yb3dDb3VudDtcblxuXG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3RoaXMkX2dldFNjcm9sbFN0YXRlID0gX3RoaXMuX2dldFNjcm9sbFN0YXRlKCksXG4gICAgICAgICAgc2Nyb2xsVG9Db2x1bW5QcmV2aW91cyA9IF90aGlzJF9nZXRTY3JvbGxTdGF0ZS5zY3JvbGxUb0NvbHVtbixcbiAgICAgICAgICBzY3JvbGxUb1Jvd1ByZXZpb3VzID0gX3RoaXMkX2dldFNjcm9sbFN0YXRlLnNjcm9sbFRvUm93O1xuXG4gICAgICB2YXIgX3RoaXMkX2dldFNjcm9sbFN0YXRlMiA9IF90aGlzLl9nZXRTY3JvbGxTdGF0ZSgpLFxuICAgICAgICAgIHNjcm9sbFRvQ29sdW1uID0gX3RoaXMkX2dldFNjcm9sbFN0YXRlMi5zY3JvbGxUb0NvbHVtbixcbiAgICAgICAgICBzY3JvbGxUb1JvdyA9IF90aGlzJF9nZXRTY3JvbGxTdGF0ZTIuc2Nyb2xsVG9Sb3c7XG5cbiAgICAgIC8vIFRoZSBhYm92ZSBjYXNlcyBhbGwgcHJldmVudCBkZWZhdWx0IGV2ZW50IGV2ZW50IGJlaGF2aW9yLlxuICAgICAgLy8gVGhpcyBpcyB0byBrZWVwIHRoZSBncmlkIGZyb20gc2Nyb2xsaW5nIGFmdGVyIHRoZSBzbmFwLXRvIHVwZGF0ZS5cblxuXG4gICAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgICBjYXNlICdBcnJvd0Rvd24nOlxuICAgICAgICAgIHNjcm9sbFRvUm93ID0gbW9kZSA9PT0gJ2NlbGxzJyA/IE1hdGgubWluKHNjcm9sbFRvUm93ICsgMSwgcm93Q291bnQgLSAxKSA6IE1hdGgubWluKF90aGlzLl9yb3dTdG9wSW5kZXggKyAxLCByb3dDb3VudCAtIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxuICAgICAgICAgIHNjcm9sbFRvQ29sdW1uID0gbW9kZSA9PT0gJ2NlbGxzJyA/IE1hdGgubWF4KHNjcm9sbFRvQ29sdW1uIC0gMSwgMCkgOiBNYXRoLm1heChfdGhpcy5fY29sdW1uU3RhcnRJbmRleCAtIDEsIDApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcbiAgICAgICAgICBzY3JvbGxUb0NvbHVtbiA9IG1vZGUgPT09ICdjZWxscycgPyBNYXRoLm1pbihzY3JvbGxUb0NvbHVtbiArIDEsIGNvbHVtbkNvdW50IC0gMSkgOiBNYXRoLm1pbihfdGhpcy5fY29sdW1uU3RvcEluZGV4ICsgMSwgY29sdW1uQ291bnQgLSAxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgc2Nyb2xsVG9Sb3cgPSBtb2RlID09PSAnY2VsbHMnID8gTWF0aC5tYXgoc2Nyb2xsVG9Sb3cgLSAxLCAwKSA6IE1hdGgubWF4KF90aGlzLl9yb3dTdGFydEluZGV4IC0gMSwgMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmIChzY3JvbGxUb0NvbHVtbiAhPT0gc2Nyb2xsVG9Db2x1bW5QcmV2aW91cyB8fCBzY3JvbGxUb1JvdyAhPT0gc2Nyb2xsVG9Sb3dQcmV2aW91cykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIF90aGlzLl91cGRhdGVTY3JvbGxTdGF0ZSh7IHNjcm9sbFRvQ29sdW1uOiBzY3JvbGxUb0NvbHVtbiwgc2Nyb2xsVG9Sb3c6IHNjcm9sbFRvUm93IH0pO1xuICAgICAgfVxuICAgIH0sIF90aGlzLl9vblNlY3Rpb25SZW5kZXJlZCA9IGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgdmFyIGNvbHVtblN0YXJ0SW5kZXggPSBfcmVmMi5jb2x1bW5TdGFydEluZGV4LFxuICAgICAgICAgIGNvbHVtblN0b3BJbmRleCA9IF9yZWYyLmNvbHVtblN0b3BJbmRleCxcbiAgICAgICAgICByb3dTdGFydEluZGV4ID0gX3JlZjIucm93U3RhcnRJbmRleCxcbiAgICAgICAgICByb3dTdG9wSW5kZXggPSBfcmVmMi5yb3dTdG9wSW5kZXg7XG5cbiAgICAgIF90aGlzLl9jb2x1bW5TdGFydEluZGV4ID0gY29sdW1uU3RhcnRJbmRleDtcbiAgICAgIF90aGlzLl9jb2x1bW5TdG9wSW5kZXggPSBjb2x1bW5TdG9wSW5kZXg7XG4gICAgICBfdGhpcy5fcm93U3RhcnRJbmRleCA9IHJvd1N0YXJ0SW5kZXg7XG4gICAgICBfdGhpcy5fcm93U3RvcEluZGV4ID0gcm93U3RvcEluZGV4O1xuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEFycm93S2V5U3RlcHBlciwgW3tcbiAgICBrZXk6ICdzZXRTY3JvbGxJbmRleGVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0U2Nyb2xsSW5kZXhlcyhfcmVmMykge1xuICAgICAgdmFyIHNjcm9sbFRvQ29sdW1uID0gX3JlZjMuc2Nyb2xsVG9Db2x1bW4sXG4gICAgICAgICAgc2Nyb2xsVG9Sb3cgPSBfcmVmMy5zY3JvbGxUb1JvdztcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHNjcm9sbFRvUm93OiBzY3JvbGxUb1JvdyxcbiAgICAgICAgc2Nyb2xsVG9Db2x1bW46IHNjcm9sbFRvQ29sdW1uXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuO1xuXG4gICAgICB2YXIgX2dldFNjcm9sbFN0YXRlMiA9IHRoaXMuX2dldFNjcm9sbFN0YXRlKCksXG4gICAgICAgICAgc2Nyb2xsVG9Db2x1bW4gPSBfZ2V0U2Nyb2xsU3RhdGUyLnNjcm9sbFRvQ29sdW1uLFxuICAgICAgICAgIHNjcm9sbFRvUm93ID0gX2dldFNjcm9sbFN0YXRlMi5zY3JvbGxUb1JvdztcblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lLCBvbktleURvd246IHRoaXMuX29uS2V5RG93biB9LFxuICAgICAgICBjaGlsZHJlbih7XG4gICAgICAgICAgb25TZWN0aW9uUmVuZGVyZWQ6IHRoaXMuX29uU2VjdGlvblJlbmRlcmVkLFxuICAgICAgICAgIHNjcm9sbFRvQ29sdW1uOiBzY3JvbGxUb0NvbHVtbixcbiAgICAgICAgICBzY3JvbGxUb1Jvdzogc2Nyb2xsVG9Sb3dcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2dldFNjcm9sbFN0YXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldFNjcm9sbFN0YXRlKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaXNDb250cm9sbGVkID8gdGhpcy5wcm9wcyA6IHRoaXMuc3RhdGU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX3VwZGF0ZVNjcm9sbFN0YXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZVNjcm9sbFN0YXRlKF9yZWY0KSB7XG4gICAgICB2YXIgc2Nyb2xsVG9Db2x1bW4gPSBfcmVmNC5zY3JvbGxUb0NvbHVtbixcbiAgICAgICAgICBzY3JvbGxUb1JvdyA9IF9yZWY0LnNjcm9sbFRvUm93O1xuICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGlzQ29udHJvbGxlZCA9IF9wcm9wczIuaXNDb250cm9sbGVkLFxuICAgICAgICAgIG9uU2Nyb2xsVG9DaGFuZ2UgPSBfcHJvcHMyLm9uU2Nyb2xsVG9DaGFuZ2U7XG5cblxuICAgICAgaWYgKHR5cGVvZiBvblNjcm9sbFRvQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9uU2Nyb2xsVG9DaGFuZ2UoeyBzY3JvbGxUb0NvbHVtbjogc2Nyb2xsVG9Db2x1bW4sIHNjcm9sbFRvUm93OiBzY3JvbGxUb1JvdyB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0NvbnRyb2xsZWQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNjcm9sbFRvQ29sdW1uOiBzY3JvbGxUb0NvbHVtbiwgc2Nyb2xsVG9Sb3c6IHNjcm9sbFRvUm93IH0pO1xuICAgICAgfVxuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICBpZiAobmV4dFByb3BzLmlzQ29udHJvbGxlZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKG5leHRQcm9wcy5zY3JvbGxUb0NvbHVtbiAhPT0gcHJldlN0YXRlLnNjcm9sbFRvQ29sdW1uIHx8IG5leHRQcm9wcy5zY3JvbGxUb1JvdyAhPT0gcHJldlN0YXRlLnNjcm9sbFRvUm93KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2Nyb2xsVG9Db2x1bW46IG5leHRQcm9wcy5zY3JvbGxUb0NvbHVtbixcbiAgICAgICAgICBzY3JvbGxUb1JvdzogbmV4dFByb3BzLnNjcm9sbFRvUm93XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBBcnJvd0tleVN0ZXBwZXI7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5BcnJvd0tleVN0ZXBwZXIuZGVmYXVsdFByb3BzID0ge1xuICBkaXNhYmxlZDogZmFsc2UsXG4gIGlzQ29udHJvbGxlZDogZmFsc2UsXG4gIG1vZGU6ICdlZGdlcycsXG4gIHNjcm9sbFRvQ29sdW1uOiAwLFxuICBzY3JvbGxUb1JvdzogMFxufTtcbkFycm93S2V5U3RlcHBlci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgY29sdW1uQ291bnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIGlzQ29udHJvbGxlZDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgbW9kZTogUHJvcFR5cGVzLm9uZU9mKFsnY2VsbHMnLCAnZWRnZXMnXSkuaXNSZXF1aXJlZCxcbiAgb25TY3JvbGxUb0NoYW5nZTogUHJvcFR5cGVzLmZ1bmMsXG4gIHJvd0NvdW50OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIHNjcm9sbFRvQ29sdW1uOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIHNjcm9sbFRvUm93OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn07XG5cblxucG9seWZpbGwoQXJyb3dLZXlTdGVwcGVyKTtcblxuZXhwb3J0IGRlZmF1bHQgQXJyb3dLZXlTdGVwcGVyO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1JlbmRlcmVkU2VjdGlvbiB9IGZyb20gJy4uL0dyaWQnO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Njcm9sbEluZGljZXMgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7IiwiXG5cbmV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tICcuL0Fycm93S2V5U3RlcHBlcic7XG5cbmV4cG9ydCB7IGRlZmF1bHQgYXMgQXJyb3dLZXlTdGVwcGVyIH0gZnJvbSAnLi9BcnJvd0tleVN0ZXBwZXInO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Njcm9sbEluZGljZXMgfSBmcm9tICcuL3R5cGVzJztcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9TY3JvbGxJbmRpY2VzIH07IiwiLyoqXG4gKiBEZXRlY3QgRWxlbWVudCBSZXNpemUuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc2RlY2ltYS9qYXZhc2NyaXB0LWRldGVjdC1lbGVtZW50LXJlc2l6ZVxuICogU2ViYXN0aWFuIERlY2ltYVxuICpcbiAqIEZvcmtlZCBmcm9tIHZlcnNpb24gMC41LjM7IGluY2x1ZGVzIHRoZSBmb2xsb3dpbmcgbW9kaWZpY2F0aW9uczpcbiAqIDEpwqBHdWFyZCBhZ2FpbnN0IHVuc2FmZSAnd2luZG93JyBhbmQgJ2RvY3VtZW50JyByZWZlcmVuY2VzICh0byBzdXBwb3J0IFNTUikuXG4gKiAyKcKgRGVmZXIgaW5pdGlhbGl6YXRpb24gY29kZSB2aWEgYSB0b3AtbGV2ZWwgZnVuY3Rpb24gd3JhcHBlciAodG8gc3VwcG9ydCBTU1IpLlxuICogMykgQXZvaWQgdW5uZWNlc3NhcnkgcmVmbG93cyBieSBub3QgbWVhc3VyaW5nIHNpemUgZm9yIHNjcm9sbCBldmVudHMgYnViYmxpbmcgZnJvbSBjaGlsZHJlbi5cbiAqIDQpIEFkZCBub25jZSBmb3Igc3R5bGUgZWxlbWVudC5cbiAqKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlRGV0ZWN0RWxlbWVudFJlc2l6ZShub25jZSkge1xuICAvLyBDaGVjayBgZG9jdW1lbnRgIGFuZCBgd2luZG93YCBpbiBjYXNlIG9mIHNlcnZlci1zaWRlIHJlbmRlcmluZ1xuICB2YXIgX3dpbmRvdztcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgX3dpbmRvdyA9IHdpbmRvdztcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBfd2luZG93ID0gc2VsZjtcbiAgfSBlbHNlIHtcbiAgICBfd2luZG93ID0gZ2xvYmFsO1xuICB9XG5cbiAgdmFyIGF0dGFjaEV2ZW50ID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5hdHRhY2hFdmVudDtcblxuICBpZiAoIWF0dGFjaEV2ZW50KSB7XG4gICAgdmFyIHJlcXVlc3RGcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByYWYgPSBfd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBfd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBfd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIF93aW5kb3cuc2V0VGltZW91dChmbiwgMjApO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgcmV0dXJuIHJhZihmbik7XG4gICAgICB9O1xuICAgIH0oKTtcblxuICAgIHZhciBjYW5jZWxGcmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjYW5jZWwgPSBfd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IF93aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgX3dpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fCBfd2luZG93LmNsZWFyVGltZW91dDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIGNhbmNlbChpZCk7XG4gICAgICB9O1xuICAgIH0oKTtcblxuICAgIHZhciByZXNldFRyaWdnZXJzID0gZnVuY3Rpb24gcmVzZXRUcmlnZ2VycyhlbGVtZW50KSB7XG4gICAgICB2YXIgdHJpZ2dlcnMgPSBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXyxcbiAgICAgICAgICBleHBhbmQgPSB0cmlnZ2Vycy5maXJzdEVsZW1lbnRDaGlsZCxcbiAgICAgICAgICBjb250cmFjdCA9IHRyaWdnZXJzLmxhc3RFbGVtZW50Q2hpbGQsXG4gICAgICAgICAgZXhwYW5kQ2hpbGQgPSBleHBhbmQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICBjb250cmFjdC5zY3JvbGxMZWZ0ID0gY29udHJhY3Quc2Nyb2xsV2lkdGg7XG4gICAgICBjb250cmFjdC5zY3JvbGxUb3AgPSBjb250cmFjdC5zY3JvbGxIZWlnaHQ7XG4gICAgICBleHBhbmRDaGlsZC5zdHlsZS53aWR0aCA9IGV4cGFuZC5vZmZzZXRXaWR0aCArIDEgKyAncHgnO1xuICAgICAgZXhwYW5kQ2hpbGQuc3R5bGUuaGVpZ2h0ID0gZXhwYW5kLm9mZnNldEhlaWdodCArIDEgKyAncHgnO1xuICAgICAgZXhwYW5kLnNjcm9sbExlZnQgPSBleHBhbmQuc2Nyb2xsV2lkdGg7XG4gICAgICBleHBhbmQuc2Nyb2xsVG9wID0gZXhwYW5kLnNjcm9sbEhlaWdodDtcbiAgICB9O1xuXG4gICAgdmFyIGNoZWNrVHJpZ2dlcnMgPSBmdW5jdGlvbiBjaGVja1RyaWdnZXJzKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50Lm9mZnNldFdpZHRoICE9IGVsZW1lbnQuX19yZXNpemVMYXN0X18ud2lkdGggfHwgZWxlbWVudC5vZmZzZXRIZWlnaHQgIT0gZWxlbWVudC5fX3Jlc2l6ZUxhc3RfXy5oZWlnaHQ7XG4gICAgfTtcblxuICAgIHZhciBzY3JvbGxMaXN0ZW5lciA9IGZ1bmN0aW9uIHNjcm9sbExpc3RlbmVyKGUpIHtcbiAgICAgIC8vIERvbid0IG1lYXN1cmUgKHdoaWNoIGZvcmNlcykgcmVmbG93IGZvciBzY3JvbGxzIHRoYXQgaGFwcGVuIGluc2lkZSBvZiBjaGlsZHJlbiFcbiAgICAgIGlmIChlLnRhcmdldC5jbGFzc05hbWUgJiYgdHlwZW9mIGUudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mID09PSAnZnVuY3Rpb24nICYmIGUudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKCdjb250cmFjdC10cmlnZ2VyJykgPCAwICYmIGUudGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKCdleHBhbmQtdHJpZ2dlcicpIDwgMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcztcbiAgICAgIHJlc2V0VHJpZ2dlcnModGhpcyk7XG4gICAgICBpZiAodGhpcy5fX3Jlc2l6ZVJBRl9fKSB7XG4gICAgICAgIGNhbmNlbEZyYW1lKHRoaXMuX19yZXNpemVSQUZfXyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9fcmVzaXplUkFGX18gPSByZXF1ZXN0RnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY2hlY2tUcmlnZ2VycyhlbGVtZW50KSkge1xuICAgICAgICAgIGVsZW1lbnQuX19yZXNpemVMYXN0X18ud2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICAgIGVsZW1lbnQuX19yZXNpemVMYXN0X18uaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZUxpc3RlbmVyc19fLmZvckVhY2goZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgICAgICBmbi5jYWxsKGVsZW1lbnQsIGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyogRGV0ZWN0IENTUyBBbmltYXRpb25zIHN1cHBvcnQgdG8gZGV0ZWN0IGVsZW1lbnQgZGlzcGxheS9yZS1hdHRhY2ggKi9cbiAgICB2YXIgYW5pbWF0aW9uID0gZmFsc2UsXG4gICAgICAgIGtleWZyYW1lcHJlZml4ID0gJycsXG4gICAgICAgIGFuaW1hdGlvbnN0YXJ0ZXZlbnQgPSAnYW5pbWF0aW9uc3RhcnQnLFxuICAgICAgICBkb21QcmVmaXhlcyA9ICdXZWJraXQgTW96IE8gbXMnLnNwbGl0KCcgJyksXG4gICAgICAgIHN0YXJ0RXZlbnRzID0gJ3dlYmtpdEFuaW1hdGlvblN0YXJ0IGFuaW1hdGlvbnN0YXJ0IG9BbmltYXRpb25TdGFydCBNU0FuaW1hdGlvblN0YXJ0Jy5zcGxpdCgnICcpLFxuICAgICAgICBwZnggPSAnJztcbiAgICB7XG4gICAgICB2YXIgZWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZmFrZWVsZW1lbnQnKTtcbiAgICAgIGlmIChlbG0uc3R5bGUuYW5pbWF0aW9uTmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGFuaW1hdGlvbiA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmltYXRpb24gPT09IGZhbHNlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9tUHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZWxtLnN0eWxlW2RvbVByZWZpeGVzW2ldICsgJ0FuaW1hdGlvbk5hbWUnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwZnggPSBkb21QcmVmaXhlc1tpXTtcbiAgICAgICAgICAgIGtleWZyYW1lcHJlZml4ID0gJy0nICsgcGZ4LnRvTG93ZXJDYXNlKCkgKyAnLSc7XG4gICAgICAgICAgICBhbmltYXRpb25zdGFydGV2ZW50ID0gc3RhcnRFdmVudHNbaV07XG4gICAgICAgICAgICBhbmltYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFuaW1hdGlvbk5hbWUgPSAncmVzaXplYW5pbSc7XG4gICAgdmFyIGFuaW1hdGlvbktleWZyYW1lcyA9ICdAJyArIGtleWZyYW1lcHJlZml4ICsgJ2tleWZyYW1lcyAnICsgYW5pbWF0aW9uTmFtZSArICcgeyBmcm9tIHsgb3BhY2l0eTogMDsgfSB0byB7IG9wYWNpdHk6IDA7IH0gfSAnO1xuICAgIHZhciBhbmltYXRpb25TdHlsZSA9IGtleWZyYW1lcHJlZml4ICsgJ2FuaW1hdGlvbjogMW1zICcgKyBhbmltYXRpb25OYW1lICsgJzsgJztcbiAgfVxuXG4gIHZhciBjcmVhdGVTdHlsZXMgPSBmdW5jdGlvbiBjcmVhdGVTdHlsZXMoZG9jKSB7XG4gICAgaWYgKCFkb2MuZ2V0RWxlbWVudEJ5SWQoJ2RldGVjdEVsZW1lbnRSZXNpemUnKSkge1xuICAgICAgLy9vcGFjaXR5OjAgd29ya3MgYXJvdW5kIGEgY2hyb21lIGJ1ZyBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9Mjg2MzYwXG4gICAgICB2YXIgY3NzID0gKGFuaW1hdGlvbktleWZyYW1lcyA/IGFuaW1hdGlvbktleWZyYW1lcyA6ICcnKSArICcucmVzaXplLXRyaWdnZXJzIHsgJyArIChhbmltYXRpb25TdHlsZSA/IGFuaW1hdGlvblN0eWxlIDogJycpICsgJ3Zpc2liaWxpdHk6IGhpZGRlbjsgb3BhY2l0eTogMDsgfSAnICsgJy5yZXNpemUtdHJpZ2dlcnMsIC5yZXNpemUtdHJpZ2dlcnMgPiBkaXYsIC5jb250cmFjdC10cmlnZ2VyOmJlZm9yZSB7IGNvbnRlbnQ6IFwiIFwiOyBkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IGhlaWdodDogMTAwJTsgd2lkdGg6IDEwMCU7IG92ZXJmbG93OiBoaWRkZW47IHotaW5kZXg6IC0xOyB9IC5yZXNpemUtdHJpZ2dlcnMgPiBkaXYgeyBiYWNrZ3JvdW5kOiAjZWVlOyBvdmVyZmxvdzogYXV0bzsgfSAuY29udHJhY3QtdHJpZ2dlcjpiZWZvcmUgeyB3aWR0aDogMjAwJTsgaGVpZ2h0OiAyMDAlOyB9JyxcbiAgICAgICAgICBoZWFkID0gZG9jLmhlYWQgfHwgZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0sXG4gICAgICAgICAgc3R5bGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICAgICAgc3R5bGUuaWQgPSAnZGV0ZWN0RWxlbWVudFJlc2l6ZSc7XG4gICAgICBzdHlsZS50eXBlID0gJ3RleHQvY3NzJztcblxuICAgICAgaWYgKG5vbmNlICE9IG51bGwpIHtcbiAgICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKCdub25jZScsIG5vbmNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICAgICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICAgICAgfVxuXG4gICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGFkZFJlc2l6ZUxpc3RlbmVyID0gZnVuY3Rpb24gYWRkUmVzaXplTGlzdGVuZXIoZWxlbWVudCwgZm4pIHtcbiAgICBpZiAoYXR0YWNoRXZlbnQpIHtcbiAgICAgIGVsZW1lbnQuYXR0YWNoRXZlbnQoJ29ucmVzaXplJywgZm4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWVsZW1lbnQuX19yZXNpemVUcmlnZ2Vyc19fKSB7XG4gICAgICAgIHZhciBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIHZhciBlbGVtZW50U3R5bGUgPSBfd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICAgIGlmIChlbGVtZW50U3R5bGUgJiYgZWxlbWVudFN0eWxlLnBvc2l0aW9uID09ICdzdGF0aWMnKSB7XG4gICAgICAgICAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgIH1cbiAgICAgICAgY3JlYXRlU3R5bGVzKGRvYyk7XG4gICAgICAgIGVsZW1lbnQuX19yZXNpemVMYXN0X18gPSB7fTtcbiAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZUxpc3RlbmVyc19fID0gW107XG4gICAgICAgIChlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXyA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKSkuY2xhc3NOYW1lID0gJ3Jlc2l6ZS10cmlnZ2Vycyc7XG4gICAgICAgIGVsZW1lbnQuX19yZXNpemVUcmlnZ2Vyc19fLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPVwiZXhwYW5kLXRyaWdnZXJcIj48ZGl2PjwvZGl2PjwvZGl2PicgKyAnPGRpdiBjbGFzcz1cImNvbnRyYWN0LXRyaWdnZXJcIj48L2Rpdj4nO1xuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQuX19yZXNpemVUcmlnZ2Vyc19fKTtcbiAgICAgICAgcmVzZXRUcmlnZ2VycyhlbGVtZW50KTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxMaXN0ZW5lciwgdHJ1ZSk7XG5cbiAgICAgICAgLyogTGlzdGVuIGZvciBhIGNzcyBhbmltYXRpb24gdG8gZGV0ZWN0IGVsZW1lbnQgZGlzcGxheS9yZS1hdHRhY2ggKi9cbiAgICAgICAgaWYgKGFuaW1hdGlvbnN0YXJ0ZXZlbnQpIHtcbiAgICAgICAgICBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXy5fX2FuaW1hdGlvbkxpc3RlbmVyX18gPSBmdW5jdGlvbiBhbmltYXRpb25MaXN0ZW5lcihlKSB7XG4gICAgICAgICAgICBpZiAoZS5hbmltYXRpb25OYW1lID09IGFuaW1hdGlvbk5hbWUpIHtcbiAgICAgICAgICAgICAgcmVzZXRUcmlnZ2VycyhlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGVsZW1lbnQuX19yZXNpemVUcmlnZ2Vyc19fLmFkZEV2ZW50TGlzdGVuZXIoYW5pbWF0aW9uc3RhcnRldmVudCwgZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJzX18uX19hbmltYXRpb25MaXN0ZW5lcl9fKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxlbWVudC5fX3Jlc2l6ZUxpc3RlbmVyc19fLnB1c2goZm4pO1xuICAgIH1cbiAgfTtcblxuICB2YXIgcmVtb3ZlUmVzaXplTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVSZXNpemVMaXN0ZW5lcihlbGVtZW50LCBmbikge1xuICAgIGlmIChhdHRhY2hFdmVudCkge1xuICAgICAgZWxlbWVudC5kZXRhY2hFdmVudCgnb25yZXNpemUnLCBmbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQuX19yZXNpemVMaXN0ZW5lcnNfXy5zcGxpY2UoZWxlbWVudC5fX3Jlc2l6ZUxpc3RlbmVyc19fLmluZGV4T2YoZm4pLCAxKTtcbiAgICAgIGlmICghZWxlbWVudC5fX3Jlc2l6ZUxpc3RlbmVyc19fLmxlbmd0aCkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbExpc3RlbmVyLCB0cnVlKTtcbiAgICAgICAgaWYgKGVsZW1lbnQuX19yZXNpemVUcmlnZ2Vyc19fLl9fYW5pbWF0aW9uTGlzdGVuZXJfXykge1xuICAgICAgICAgIGVsZW1lbnQuX19yZXNpemVUcmlnZ2Vyc19fLnJlbW92ZUV2ZW50TGlzdGVuZXIoYW5pbWF0aW9uc3RhcnRldmVudCwgZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJzX18uX19hbmltYXRpb25MaXN0ZW5lcl9fKTtcbiAgICAgICAgICBlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXy5fX2FuaW1hdGlvbkxpc3RlbmVyX18gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZWxlbWVudC5fX3Jlc2l6ZVRyaWdnZXJzX18gPSAhZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50Ll9fcmVzaXplVHJpZ2dlcnNfXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBQcmVhY3QgY29tcGF0OyBzZWUgZGV2ZWxvcGl0L3ByZWFjdC1jb21wYXQvaXNzdWVzLzIyOFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB7XG4gICAgYWRkUmVzaXplTGlzdGVuZXI6IGFkZFJlc2l6ZUxpc3RlbmVyLFxuICAgIHJlbW92ZVJlc2l6ZUxpc3RlbmVyOiByZW1vdmVSZXNpemVMaXN0ZW5lclxuICB9O1xufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX09iamVjdCRnZXRQcm90b3R5cGVPZiBmcm9tICdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjcmVhdGVEZXRlY3RFbGVtZW50UmVzaXplIGZyb20gJy4uL3ZlbmRvci9kZXRlY3RFbGVtZW50UmVzaXplJztcblxudmFyIEF1dG9TaXplciA9IGZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQXV0b1NpemVyLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQXV0b1NpemVyKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdXRvU2l6ZXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX3JlZiA9IEF1dG9TaXplci5fX3Byb3RvX18gfHwgX09iamVjdCRnZXRQcm90b3R5cGVPZihBdXRvU2l6ZXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGhlaWdodDogX3RoaXMucHJvcHMuZGVmYXVsdEhlaWdodCB8fCAwLFxuICAgICAgd2lkdGg6IF90aGlzLnByb3BzLmRlZmF1bHRXaWR0aCB8fCAwXG4gICAgfSwgX3RoaXMuX29uUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgZGlzYWJsZUhlaWdodCA9IF90aGlzJHByb3BzLmRpc2FibGVIZWlnaHQsXG4gICAgICAgICAgZGlzYWJsZVdpZHRoID0gX3RoaXMkcHJvcHMuZGlzYWJsZVdpZHRoLFxuICAgICAgICAgIG9uUmVzaXplID0gX3RoaXMkcHJvcHMub25SZXNpemU7XG5cblxuICAgICAgaWYgKF90aGlzLl9wYXJlbnROb2RlKSB7XG4gICAgICAgIC8vIEd1YXJkIGFnYWluc3QgQXV0b1NpemVyIGNvbXBvbmVudCBiZWluZyByZW1vdmVkIGZyb20gdGhlIERPTSBpbW1lZGlhdGVseSBhZnRlciBiZWluZyBhZGRlZC5cbiAgICAgICAgLy8gVGhpcyBjYW4gcmVzdWx0IGluIGludmFsaWQgc3R5bGUgdmFsdWVzIHdoaWNoIGNhbiByZXN1bHQgaW4gTmFOIHZhbHVlcyBpZiB3ZSBkb24ndCBoYW5kbGUgdGhlbS5cbiAgICAgICAgLy8gU2VlIGlzc3VlICMxNTAgZm9yIG1vcmUgY29udGV4dC5cblxuICAgICAgICB2YXIgX2hlaWdodCA9IF90aGlzLl9wYXJlbnROb2RlLm9mZnNldEhlaWdodCB8fCAwO1xuICAgICAgICB2YXIgX3dpZHRoID0gX3RoaXMuX3BhcmVudE5vZGUub2Zmc2V0V2lkdGggfHwgMDtcblxuICAgICAgICB2YXIgX3N0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoX3RoaXMuX3BhcmVudE5vZGUpIHx8IHt9O1xuICAgICAgICB2YXIgcGFkZGluZ0xlZnQgPSBwYXJzZUludChfc3R5bGUucGFkZGluZ0xlZnQsIDEwKSB8fCAwO1xuICAgICAgICB2YXIgcGFkZGluZ1JpZ2h0ID0gcGFyc2VJbnQoX3N0eWxlLnBhZGRpbmdSaWdodCwgMTApIHx8IDA7XG4gICAgICAgIHZhciBwYWRkaW5nVG9wID0gcGFyc2VJbnQoX3N0eWxlLnBhZGRpbmdUb3AsIDEwKSB8fCAwO1xuICAgICAgICB2YXIgcGFkZGluZ0JvdHRvbSA9IHBhcnNlSW50KF9zdHlsZS5wYWRkaW5nQm90dG9tLCAxMCkgfHwgMDtcblxuICAgICAgICB2YXIgbmV3SGVpZ2h0ID0gX2hlaWdodCAtIHBhZGRpbmdUb3AgLSBwYWRkaW5nQm90dG9tO1xuICAgICAgICB2YXIgbmV3V2lkdGggPSBfd2lkdGggLSBwYWRkaW5nTGVmdCAtIHBhZGRpbmdSaWdodDtcblxuICAgICAgICBpZiAoIWRpc2FibGVIZWlnaHQgJiYgX3RoaXMuc3RhdGUuaGVpZ2h0ICE9PSBuZXdIZWlnaHQgfHwgIWRpc2FibGVXaWR0aCAmJiBfdGhpcy5zdGF0ZS53aWR0aCAhPT0gbmV3V2lkdGgpIHtcbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBoZWlnaHQ6IF9oZWlnaHQgLSBwYWRkaW5nVG9wIC0gcGFkZGluZ0JvdHRvbSxcbiAgICAgICAgICAgIHdpZHRoOiBfd2lkdGggLSBwYWRkaW5nTGVmdCAtIHBhZGRpbmdSaWdodFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgb25SZXNpemUoeyBoZWlnaHQ6IF9oZWlnaHQsIHdpZHRoOiBfd2lkdGggfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfdGhpcy5fc2V0UmVmID0gZnVuY3Rpb24gKGF1dG9TaXplcikge1xuICAgICAgX3RoaXMuX2F1dG9TaXplciA9IGF1dG9TaXplcjtcbiAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhBdXRvU2l6ZXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBub25jZSA9IHRoaXMucHJvcHMubm9uY2U7XG5cbiAgICAgIGlmICh0aGlzLl9hdXRvU2l6ZXIgJiYgdGhpcy5fYXV0b1NpemVyLnBhcmVudE5vZGUgJiYgdGhpcy5fYXV0b1NpemVyLnBhcmVudE5vZGUub3duZXJEb2N1bWVudCAmJiB0aGlzLl9hdXRvU2l6ZXIucGFyZW50Tm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3ICYmIHRoaXMuX2F1dG9TaXplci5wYXJlbnROb2RlIGluc3RhbmNlb2YgdGhpcy5fYXV0b1NpemVyLnBhcmVudE5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5IVE1MRWxlbWVudCkge1xuICAgICAgICAvLyBEZWxheSBhY2Nlc3Mgb2YgcGFyZW50Tm9kZSB1bnRpbCBtb3VudC5cbiAgICAgICAgLy8gVGhpcyBoYW5kbGVzIGVkZ2UtY2FzZXMgd2hlcmUgdGhlIGNvbXBvbmVudCBoYXMgYWxyZWFkeSBiZWVuIHVubW91bnRlZCBiZWZvcmUgaXRzIHJlZiBoYXMgYmVlbiBzZXQsXG4gICAgICAgIC8vIEFzIHdlbGwgYXMgbGlicmFyaWVzIGxpa2UgcmVhY3QtbGl0ZSB3aGljaCBoYXZlIGEgc2xpZ2h0bHkgZGlmZmVyZW50IGxpZmVjeWNsZS5cbiAgICAgICAgdGhpcy5fcGFyZW50Tm9kZSA9IHRoaXMuX2F1dG9TaXplci5wYXJlbnROb2RlO1xuXG4gICAgICAgIC8vIERlZmVyIHJlcXVpcmluZyByZXNpemUgaGFuZGxlciBpbiBvcmRlciB0byBzdXBwb3J0IHNlcnZlci1zaWRlIHJlbmRlcmluZy5cbiAgICAgICAgLy8gU2VlIGlzc3VlICM0MVxuICAgICAgICB0aGlzLl9kZXRlY3RFbGVtZW50UmVzaXplID0gY3JlYXRlRGV0ZWN0RWxlbWVudFJlc2l6ZShub25jZSk7XG4gICAgICAgIHRoaXMuX2RldGVjdEVsZW1lbnRSZXNpemUuYWRkUmVzaXplTGlzdGVuZXIodGhpcy5fcGFyZW50Tm9kZSwgdGhpcy5fb25SZXNpemUpO1xuXG4gICAgICAgIHRoaXMuX29uUmVzaXplKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLl9kZXRlY3RFbGVtZW50UmVzaXplICYmIHRoaXMuX3BhcmVudE5vZGUpIHtcbiAgICAgICAgdGhpcy5fZGV0ZWN0RWxlbWVudFJlc2l6ZS5yZW1vdmVSZXNpemVMaXN0ZW5lcih0aGlzLl9wYXJlbnROb2RlLCB0aGlzLl9vblJlc2l6ZSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBkaXNhYmxlSGVpZ2h0ID0gX3Byb3BzLmRpc2FibGVIZWlnaHQsXG4gICAgICAgICAgZGlzYWJsZVdpZHRoID0gX3Byb3BzLmRpc2FibGVXaWR0aCxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZTtcbiAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGhlaWdodCA9IF9zdGF0ZS5oZWlnaHQsXG4gICAgICAgICAgd2lkdGggPSBfc3RhdGUud2lkdGg7XG5cbiAgICAgIC8vIE91dGVyIGRpdiBzaG91bGQgbm90IGZvcmNlIHdpZHRoL2hlaWdodCBzaW5jZSB0aGF0IG1heSBwcmV2ZW50IGNvbnRhaW5lcnMgZnJvbSBzaHJpbmtpbmcuXG4gICAgICAvLyBJbm5lciBjb21wb25lbnQgc2hvdWxkIG92ZXJmbG93IGFuZCB1c2UgY2FsY3VsYXRlZCB3aWR0aC9oZWlnaHQuXG4gICAgICAvLyBTZWUgaXNzdWUgIzY4IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuXG4gICAgICB2YXIgb3V0ZXJTdHlsZSA9IHsgb3ZlcmZsb3c6ICd2aXNpYmxlJyB9O1xuICAgICAgdmFyIGNoaWxkUGFyYW1zID0ge307XG5cbiAgICAgIGlmICghZGlzYWJsZUhlaWdodCkge1xuICAgICAgICBvdXRlclN0eWxlLmhlaWdodCA9IDA7XG4gICAgICAgIGNoaWxkUGFyYW1zLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFkaXNhYmxlV2lkdGgpIHtcbiAgICAgICAgb3V0ZXJTdHlsZS53aWR0aCA9IDA7XG4gICAgICAgIGNoaWxkUGFyYW1zLndpZHRoID0gd2lkdGg7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogVE9ETzogQXZvaWQgcmVuZGVyaW5nIGNoaWxkcmVuIGJlZm9yZSB0aGUgaW5pdGlhbCBtZWFzdXJlbWVudHMgaGF2ZSBiZWVuIGNvbGxlY3RlZC5cbiAgICAgICAqIEF0IGJlc3QgdGhpcyB3b3VsZCBqdXN0IGJlIHdhc3RpbmcgY3ljbGVzLlxuICAgICAgICogQWRkIHRoaXMgY2hlY2sgaW50byB2ZXJzaW9uIDEwIHRob3VnaCBhcyBpdCBjb3VsZCBicmVhayB0b28gbWFueSByZWYgY2FsbGJhY2tzIGluIHZlcnNpb24gOS5cbiAgICAgICAqIE5vdGUgdGhhdCBpZiBkZWZhdWx0IHdpZHRoL2hlaWdodCBwcm9wcyB3ZXJlIHByb3ZpZGVkIHRoaXMgd291bGQgc3RpbGwgd29yayB3aXRoIFNTUi5cbiAgICAgIGlmIChcbiAgICAgICAgaGVpZ2h0ICE9PSAwICYmXG4gICAgICAgIHdpZHRoICE9PSAwXG4gICAgICApIHtcbiAgICAgICAgY2hpbGQgPSBjaGlsZHJlbih7IGhlaWdodCwgd2lkdGggfSlcbiAgICAgIH1cbiAgICAgICovXG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgIHJlZjogdGhpcy5fc2V0UmVmLFxuICAgICAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgb3V0ZXJTdHlsZSwgc3R5bGUpIH0sXG4gICAgICAgIGNoaWxkcmVuKGNoaWxkUGFyYW1zKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQXV0b1NpemVyO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuQXV0b1NpemVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgb25SZXNpemU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge30sXG4gIGRpc2FibGVIZWlnaHQ6IGZhbHNlLFxuICBkaXNhYmxlV2lkdGg6IGZhbHNlLFxuICBzdHlsZToge31cbn07XG5BdXRvU2l6ZXIucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIC8qKiBGdW5jdGlvbiByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIGNoaWxkcmVuLiovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG5cbiAgLyoqIE9wdGlvbmFsIGN1c3RvbSBDU1MgY2xhc3MgbmFtZSB0byBhdHRhY2ggdG8gcm9vdCBBdXRvU2l6ZXIgZWxlbWVudC4gICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuXG4gIC8qKiBEZWZhdWx0IGhlaWdodCB0byB1c2UgZm9yIGluaXRpYWwgcmVuZGVyOyB1c2VmdWwgZm9yIFNTUiAqL1xuICBkZWZhdWx0SGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLFxuXG5cbiAgLyoqIERlZmF1bHQgd2lkdGggdG8gdXNlIGZvciBpbml0aWFsIHJlbmRlcjsgdXNlZnVsIGZvciBTU1IgKi9cbiAgZGVmYXVsdFdpZHRoOiBQcm9wVHlwZXMubnVtYmVyLFxuXG5cbiAgLyoqIERpc2FibGUgZHluYW1pYyA6aGVpZ2h0IHByb3BlcnR5ICovXG4gIGRpc2FibGVIZWlnaHQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG5cblxuICAvKiogRGlzYWJsZSBkeW5hbWljIDp3aWR0aCBwcm9wZXJ0eSAqL1xuICBkaXNhYmxlV2lkdGg6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG5cblxuICAvKiogTm9uY2Ugb2YgdGhlIGlubGluZWQgc3R5bGVzaGVldCBmb3IgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgKi9cbiAgbm9uY2U6IFByb3BUeXBlcy5zdHJpbmcsXG5cblxuICAvKiogQ2FsbGJhY2sgdG8gYmUgaW52b2tlZCBvbi1yZXNpemUgKi9cbiAgb25SZXNpemU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cblxuICAvKiogT3B0aW9uYWwgaW5saW5lIHN0eWxlICovXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0XG59O1xuZXhwb3J0IGRlZmF1bHQgQXV0b1NpemVyO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJzsiLCJleHBvcnQgeyBkZWZhdWx0IH0gZnJvbSAnLi9BdXRvU2l6ZXInO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBBdXRvU2l6ZXIgfSBmcm9tICcuL0F1dG9TaXplcic7IiwidmFyIGJwZnJwdF9wcm9wdHlwZV9DZWxsTWVhc3VyZUNhY2hlID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIGhhc0ZpeGVkV2lkdGg6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGhhc0ZpeGVkSGVpZ2h0OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBoYXM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHNldDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgZ2V0SGVpZ2h0OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBnZXRXaWR0aDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxufTtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsTWVhc3VyZUNhY2hlIH07IiwiaW1wb3J0IF9PYmplY3QkZ2V0UHJvdG90eXBlT2YgZnJvbSAnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBmaW5kRE9NTm9kZSB9IGZyb20gJ3JlYWN0LWRvbSc7XG5cbi8qKlxuICogV3JhcHMgYSBjZWxsIGFuZCBtZWFzdXJlcyBpdHMgcmVuZGVyZWQgY29udGVudC5cbiAqIE1lYXN1cmVtZW50cyBhcmUgc3RvcmVkIGluIGEgcGVyLWNlbGwgY2FjaGUuXG4gKiBDYWNoZWQtY29udGVudCBpcyBub3QgYmUgcmUtbWVhc3VyZWQuXG4gKi9cbnZhciBDZWxsTWVhc3VyZXIgPSBmdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENlbGxNZWFzdXJlciwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENlbGxNZWFzdXJlcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2VsbE1lYXN1cmVyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBDZWxsTWVhc3VyZXIuX19wcm90b19fIHx8IF9PYmplY3QkZ2V0UHJvdG90eXBlT2YoQ2VsbE1lYXN1cmVyKSkuY2FsbC5hcHBseShfcmVmLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuX21lYXN1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBjYWNoZSA9IF90aGlzJHByb3BzLmNhY2hlLFxuICAgICAgICAgIF90aGlzJHByb3BzJGNvbHVtbkluZCA9IF90aGlzJHByb3BzLmNvbHVtbkluZGV4LFxuICAgICAgICAgIGNvbHVtbkluZGV4ID0gX3RoaXMkcHJvcHMkY29sdW1uSW5kID09PSB1bmRlZmluZWQgPyAwIDogX3RoaXMkcHJvcHMkY29sdW1uSW5kLFxuICAgICAgICAgIHBhcmVudCA9IF90aGlzJHByb3BzLnBhcmVudCxcbiAgICAgICAgICBfdGhpcyRwcm9wcyRyb3dJbmRleCA9IF90aGlzJHByb3BzLnJvd0luZGV4LFxuICAgICAgICAgIHJvd0luZGV4ID0gX3RoaXMkcHJvcHMkcm93SW5kZXggPT09IHVuZGVmaW5lZCA/IF90aGlzLnByb3BzLmluZGV4IHx8IDAgOiBfdGhpcyRwcm9wcyRyb3dJbmRleDtcblxuICAgICAgdmFyIF90aGlzJF9nZXRDZWxsTWVhc3VyZSA9IF90aGlzLl9nZXRDZWxsTWVhc3VyZW1lbnRzKCksXG4gICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkX2dldENlbGxNZWFzdXJlLmhlaWdodCxcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJF9nZXRDZWxsTWVhc3VyZS53aWR0aDtcblxuICAgICAgaWYgKGhlaWdodCAhPT0gY2FjaGUuZ2V0SGVpZ2h0KHJvd0luZGV4LCBjb2x1bW5JbmRleCkgfHwgd2lkdGggIT09IGNhY2hlLmdldFdpZHRoKHJvd0luZGV4LCBjb2x1bW5JbmRleCkpIHtcbiAgICAgICAgY2FjaGUuc2V0KHJvd0luZGV4LCBjb2x1bW5JbmRleCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgaWYgKHBhcmVudCAmJiB0eXBlb2YgcGFyZW50LnJlY29tcHV0ZUdyaWRTaXplID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcGFyZW50LnJlY29tcHV0ZUdyaWRTaXplKHtcbiAgICAgICAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleCxcbiAgICAgICAgICAgIHJvd0luZGV4OiByb3dJbmRleFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2VsbE1lYXN1cmVyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLl9tYXliZU1lYXN1cmVDZWxsKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgdGhpcy5fbWF5YmVNZWFzdXJlQ2VsbCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cblxuICAgICAgcmV0dXJuIHR5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJyA/IGNoaWxkcmVuKHsgbWVhc3VyZTogdGhpcy5fbWVhc3VyZSB9KSA6IGNoaWxkcmVuO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19nZXRDZWxsTWVhc3VyZW1lbnRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldENlbGxNZWFzdXJlbWVudHMoKSB7XG4gICAgICB2YXIgY2FjaGUgPSB0aGlzLnByb3BzLmNhY2hlO1xuXG5cbiAgICAgIHZhciBub2RlID0gZmluZERPTU5vZGUodGhpcyk7XG5cbiAgICAgIC8vIFRPRE8gQ2hlY2sgZm9yIGEgYmFkIGNvbWJpbmF0aW9uIG9mIGZpeGVkV2lkdGggYW5kIG1pc3NpbmcgbnVtZXJpYyB3aWR0aCBvciB2aWNlIHZlcnNhIHdpdGggaGVpZ2h0XG5cbiAgICAgIGlmIChub2RlICYmIG5vZGUub3duZXJEb2N1bWVudCAmJiBub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgJiYgbm9kZSBpbnN0YW5jZW9mIG5vZGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5IVE1MRWxlbWVudCkge1xuICAgICAgICB2YXIgc3R5bGVXaWR0aCA9IG5vZGUuc3R5bGUud2lkdGg7XG4gICAgICAgIHZhciBzdHlsZUhlaWdodCA9IG5vZGUuc3R5bGUuaGVpZ2h0O1xuXG4gICAgICAgIC8vIElmIHdlIGFyZSByZS1tZWFzdXJpbmcgYSBjZWxsIHRoYXQgaGFzIGFscmVhZHkgYmVlbiBtZWFzdXJlZCxcbiAgICAgICAgLy8gSXQgd2lsbCBoYXZlIGEgaGFyZC1jb2RlZCB3aWR0aC9oZWlnaHQgZnJvbSB0aGUgcHJldmlvdXMgbWVhc3VyZW1lbnQuXG4gICAgICAgIC8vIFRoZSBmYWN0IHRoYXQgd2UgYXJlIG1lYXN1cmluZyBpbmRpY2F0ZXMgdGhpcyBtZWFzdXJlbWVudCBpcyBwcm9iYWJseSBzdGFsZSxcbiAgICAgICAgLy8gU28gZXhwbGljaXRseSBjbGVhciBpdCBvdXQgKGVnIHNldCB0byBcImF1dG9cIikgc28gd2UgY2FuIHJlY2FsY3VsYXRlLlxuICAgICAgICAvLyBTZWUgaXNzdWUgIzU5MyBmb3IgbW9yZSBpbmZvLlxuICAgICAgICAvLyBFdmVuIGlmIHdlIGFyZSBtZWFzdXJpbmcgaW5pdGlhbGx5LSBpZiB3ZSdyZSBpbnNpZGUgb2YgYSBNdWx0aUdyaWQgY29tcG9uZW50LFxuICAgICAgICAvLyBFeHBsaWNpdGx5IGNsZWFyIHdpZHRoL2hlaWdodCBiZWZvcmUgbWVhc3VyaW5nIHRvIGF2b2lkIGJlaW5nIHRhaW50ZWQgYnkgYW5vdGhlciBHcmlkLlxuICAgICAgICAvLyBlZyB0b3AvbGVmdCBHcmlkIHJlbmRlcnMgYmVmb3JlIGJvdHRvbS9yaWdodCBHcmlkXG4gICAgICAgIC8vIFNpbmNlIHRoZSBDZWxsTWVhc3VyZXJDYWNoZSBpcyBzaGFyZWQgYmV0d2VlbiB0aGVtIHRoaXMgdGFpbnRzIGRlcml2ZWQgY2VsbCBzaXplIHZhbHVlcy5cbiAgICAgICAgaWYgKCFjYWNoZS5oYXNGaXhlZFdpZHRoKCkpIHtcbiAgICAgICAgICBub2RlLnN0eWxlLndpZHRoID0gJ2F1dG8nO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2FjaGUuaGFzRml4ZWRIZWlnaHQoKSkge1xuICAgICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbChub2RlLm9mZnNldEhlaWdodCk7XG4gICAgICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChub2RlLm9mZnNldFdpZHRoKTtcblxuICAgICAgICAvLyBSZXNldCBhZnRlciBtZWFzdXJpbmcgdG8gYXZvaWQgYnJlYWtpbmcgc3R5bGVzOyBzZWUgIzY2MFxuICAgICAgICBpZiAoc3R5bGVXaWR0aCkge1xuICAgICAgICAgIG5vZGUuc3R5bGUud2lkdGggPSBzdHlsZVdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHlsZUhlaWdodCkge1xuICAgICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gc3R5bGVIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBoZWlnaHQ6IGhlaWdodCwgd2lkdGg6IHdpZHRoIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4geyBoZWlnaHQ6IDAsIHdpZHRoOiAwIH07XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX21heWJlTWVhc3VyZUNlbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfbWF5YmVNZWFzdXJlQ2VsbCgpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNhY2hlID0gX3Byb3BzLmNhY2hlLFxuICAgICAgICAgIF9wcm9wcyRjb2x1bW5JbmRleCA9IF9wcm9wcy5jb2x1bW5JbmRleCxcbiAgICAgICAgICBjb2x1bW5JbmRleCA9IF9wcm9wcyRjb2x1bW5JbmRleCA9PT0gdW5kZWZpbmVkID8gMCA6IF9wcm9wcyRjb2x1bW5JbmRleCxcbiAgICAgICAgICBwYXJlbnQgPSBfcHJvcHMucGFyZW50LFxuICAgICAgICAgIF9wcm9wcyRyb3dJbmRleCA9IF9wcm9wcy5yb3dJbmRleCxcbiAgICAgICAgICByb3dJbmRleCA9IF9wcm9wcyRyb3dJbmRleCA9PT0gdW5kZWZpbmVkID8gdGhpcy5wcm9wcy5pbmRleCB8fCAwIDogX3Byb3BzJHJvd0luZGV4O1xuXG5cbiAgICAgIGlmICghY2FjaGUuaGFzKHJvd0luZGV4LCBjb2x1bW5JbmRleCkpIHtcbiAgICAgICAgdmFyIF9nZXRDZWxsTWVhc3VyZW1lbnRzMiA9IHRoaXMuX2dldENlbGxNZWFzdXJlbWVudHMoKSxcbiAgICAgICAgICAgIGhlaWdodCA9IF9nZXRDZWxsTWVhc3VyZW1lbnRzMi5oZWlnaHQsXG4gICAgICAgICAgICB3aWR0aCA9IF9nZXRDZWxsTWVhc3VyZW1lbnRzMi53aWR0aDtcblxuICAgICAgICBjYWNoZS5zZXQocm93SW5kZXgsIGNvbHVtbkluZGV4LCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAvLyBJZiBzaXplIGhhcyBjaGFuZ2VkLCBsZXQgR3JpZCBrbm93IHRvIHJlLXJlbmRlci5cbiAgICAgICAgaWYgKHBhcmVudCAmJiB0eXBlb2YgcGFyZW50LmludmFsaWRhdGVDZWxsU2l6ZUFmdGVyUmVuZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcGFyZW50LmludmFsaWRhdGVDZWxsU2l6ZUFmdGVyUmVuZGVyKHtcbiAgICAgICAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleCxcbiAgICAgICAgICAgIHJvd0luZGV4OiByb3dJbmRleFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENlbGxNZWFzdXJlcjtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbi8vIFVzZWQgZm9yIERFViBtb2RlIHdhcm5pbmcgY2hlY2tcblxuXG5DZWxsTWVhc3VyZXIuX19pbnRlcm5hbENlbGxNZWFzdXJlckZsYWcgPSBmYWxzZTtcbkNlbGxNZWFzdXJlci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgY2FjaGU6IGZ1bmN0aW9uIGNhY2hlKCkge1xuICAgIHJldHVybiAodHlwZW9mIGJwZnJwdF9wcm9wdHlwZV9DZWxsTWVhc3VyZUNhY2hlID09PSAnZnVuY3Rpb24nID8gYnBmcnB0X3Byb3B0eXBlX0NlbGxNZWFzdXJlQ2FjaGUuaXNSZXF1aXJlZCA/IGJwZnJwdF9wcm9wdHlwZV9DZWxsTWVhc3VyZUNhY2hlLmlzUmVxdWlyZWQgOiBicGZycHRfcHJvcHR5cGVfQ2VsbE1lYXN1cmVDYWNoZSA6IFByb3BUeXBlcy5zaGFwZShicGZycHRfcHJvcHR5cGVfQ2VsbE1lYXN1cmVDYWNoZSkuaXNSZXF1aXJlZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5mdW5jLCBQcm9wVHlwZXMubm9kZV0pLmlzUmVxdWlyZWQsXG4gIGNvbHVtbkluZGV4OiBQcm9wVHlwZXMubnVtYmVyLFxuICBpbmRleDogUHJvcFR5cGVzLm51bWJlcixcbiAgcGFyZW50OiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGludmFsaWRhdGVDZWxsU2l6ZUFmdGVyUmVuZGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgICByZWNvbXB1dGVHcmlkU2l6ZTogUHJvcFR5cGVzLmZ1bmNcbiAgfSkuaXNSZXF1aXJlZCxcbiAgcm93SW5kZXg6IFByb3BUeXBlcy5udW1iZXJcbn07XG5leHBvcnQgZGVmYXVsdCBDZWxsTWVhc3VyZXI7XG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBDZWxsTWVhc3VyZXIuX19pbnRlcm5hbENlbGxNZWFzdXJlckZsYWcgPSB0cnVlO1xufVxuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxNZWFzdXJlQ2FjaGUgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7IiwiaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuXG5cbmV4cG9ydCB2YXIgREVGQVVMVF9IRUlHSFQgPSAzMDtcblxuZXhwb3J0IHZhciBERUZBVUxUX1dJRFRIID0gMTAwO1xuXG4vLyBFbmFibGVzIG1vcmUgaW50ZWxsaWdlbnQgbWFwcGluZyBvZiBhIGdpdmVuIGNvbHVtbiBhbmQgcm93IGluZGV4IHRvIGFuIGl0ZW0gSUQuXG4vLyBUaGlzIHByZXZlbnRzIGEgY2VsbCBjYWNoZSBmcm9tIGJlaW5nIGludmFsaWRhdGVkIHdoZW4gaXRzIHBhcmVudCBjb2xsZWN0aW9uIGlzIG1vZGlmaWVkLlxuXG4vKipcbiAqIENhY2hlcyBtZWFzdXJlbWVudHMgZm9yIGEgZ2l2ZW4gY2VsbC5cbiAqL1xudmFyIENlbGxNZWFzdXJlckNhY2hlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDZWxsTWVhc3VyZXJDYWNoZSgpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIHBhcmFtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2VsbE1lYXN1cmVyQ2FjaGUpO1xuXG4gICAgdGhpcy5fY2VsbEhlaWdodENhY2hlID0ge307XG4gICAgdGhpcy5fY2VsbFdpZHRoQ2FjaGUgPSB7fTtcbiAgICB0aGlzLl9jb2x1bW5XaWR0aENhY2hlID0ge307XG4gICAgdGhpcy5fcm93SGVpZ2h0Q2FjaGUgPSB7fTtcbiAgICB0aGlzLl9jb2x1bW5Db3VudCA9IDA7XG4gICAgdGhpcy5fcm93Q291bnQgPSAwO1xuXG4gICAgdGhpcy5jb2x1bW5XaWR0aCA9IGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICB2YXIgaW5kZXggPSBfcmVmLmluZGV4O1xuXG4gICAgICB2YXIga2V5ID0gX3RoaXMuX2tleU1hcHBlcigwLCBpbmRleCk7XG5cbiAgICAgIHJldHVybiBfdGhpcy5fY29sdW1uV2lkdGhDYWNoZS5oYXNPd25Qcm9wZXJ0eShrZXkpID8gX3RoaXMuX2NvbHVtbldpZHRoQ2FjaGVba2V5XSA6IF90aGlzLl9kZWZhdWx0V2lkdGg7XG4gICAgfTtcblxuICAgIHRoaXMucm93SGVpZ2h0ID0gZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICB2YXIgaW5kZXggPSBfcmVmMi5pbmRleDtcblxuICAgICAgdmFyIGtleSA9IF90aGlzLl9rZXlNYXBwZXIoaW5kZXgsIDApO1xuXG4gICAgICByZXR1cm4gX3RoaXMuX3Jvd0hlaWdodENhY2hlLmhhc093blByb3BlcnR5KGtleSkgPyBfdGhpcy5fcm93SGVpZ2h0Q2FjaGVba2V5XSA6IF90aGlzLl9kZWZhdWx0SGVpZ2h0O1xuICAgIH07XG5cbiAgICB2YXIgZGVmYXVsdEhlaWdodCA9IHBhcmFtcy5kZWZhdWx0SGVpZ2h0LFxuICAgICAgICBkZWZhdWx0V2lkdGggPSBwYXJhbXMuZGVmYXVsdFdpZHRoLFxuICAgICAgICBmaXhlZEhlaWdodCA9IHBhcmFtcy5maXhlZEhlaWdodCxcbiAgICAgICAgZml4ZWRXaWR0aCA9IHBhcmFtcy5maXhlZFdpZHRoLFxuICAgICAgICBrZXlNYXBwZXIgPSBwYXJhbXMua2V5TWFwcGVyLFxuICAgICAgICBtaW5IZWlnaHQgPSBwYXJhbXMubWluSGVpZ2h0LFxuICAgICAgICBtaW5XaWR0aCA9IHBhcmFtcy5taW5XaWR0aDtcblxuXG4gICAgdGhpcy5faGFzRml4ZWRIZWlnaHQgPSBmaXhlZEhlaWdodCA9PT0gdHJ1ZTtcbiAgICB0aGlzLl9oYXNGaXhlZFdpZHRoID0gZml4ZWRXaWR0aCA9PT0gdHJ1ZTtcbiAgICB0aGlzLl9taW5IZWlnaHQgPSBtaW5IZWlnaHQgfHwgMDtcbiAgICB0aGlzLl9taW5XaWR0aCA9IG1pbldpZHRoIHx8IDA7XG4gICAgdGhpcy5fa2V5TWFwcGVyID0ga2V5TWFwcGVyIHx8IGRlZmF1bHRLZXlNYXBwZXI7XG5cbiAgICB0aGlzLl9kZWZhdWx0SGVpZ2h0ID0gTWF0aC5tYXgodGhpcy5fbWluSGVpZ2h0LCB0eXBlb2YgZGVmYXVsdEhlaWdodCA9PT0gJ251bWJlcicgPyBkZWZhdWx0SGVpZ2h0IDogREVGQVVMVF9IRUlHSFQpO1xuICAgIHRoaXMuX2RlZmF1bHRXaWR0aCA9IE1hdGgubWF4KHRoaXMuX21pbldpZHRoLCB0eXBlb2YgZGVmYXVsdFdpZHRoID09PSAnbnVtYmVyJyA/IGRlZmF1bHRXaWR0aCA6IERFRkFVTFRfV0lEVEgpO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0aGlzLl9oYXNGaXhlZEhlaWdodCA9PT0gZmFsc2UgJiYgdGhpcy5faGFzRml4ZWRXaWR0aCA9PT0gZmFsc2UpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiQ2VsbE1lYXN1cmVyQ2FjaGUgc2hvdWxkIG9ubHkgbWVhc3VyZSBhIGNlbGwncyB3aWR0aCBvciBoZWlnaHQuIFwiICsgJ1lvdSBoYXZlIGNvbmZpZ3VyZWQgQ2VsbE1lYXN1cmVyQ2FjaGUgdG8gbWVhc3VyZSBib3RoLiAnICsgJ1RoaXMgd2lsbCByZXN1bHQgaW4gcG9vciBwZXJmb3JtYW5jZS4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2hhc0ZpeGVkSGVpZ2h0ID09PSBmYWxzZSAmJiB0aGlzLl9kZWZhdWx0SGVpZ2h0ID09PSAwKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRml4ZWQgaGVpZ2h0IENlbGxNZWFzdXJlckNhY2hlIHNob3VsZCBzcGVjaWZ5IGEgOmRlZmF1bHRIZWlnaHQgZ3JlYXRlciB0aGFuIDAuICcgKyAnRmFpbGluZyB0byBkbyBzbyB3aWxsIGxlYWQgdG8gdW5uZWNlc3NhcnkgbGF5b3V0IGFuZCBwb29yIHBlcmZvcm1hbmNlLicpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5faGFzRml4ZWRXaWR0aCA9PT0gZmFsc2UgJiYgdGhpcy5fZGVmYXVsdFdpZHRoID09PSAwKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRml4ZWQgd2lkdGggQ2VsbE1lYXN1cmVyQ2FjaGUgc2hvdWxkIHNwZWNpZnkgYSA6ZGVmYXVsdFdpZHRoIGdyZWF0ZXIgdGhhbiAwLiAnICsgJ0ZhaWxpbmcgdG8gZG8gc28gd2lsbCBsZWFkIHRvIHVubmVjZXNzYXJ5IGxheW91dCBhbmQgcG9vciBwZXJmb3JtYW5jZS4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2VsbE1lYXN1cmVyQ2FjaGUsIFt7XG4gICAga2V5OiAnY2xlYXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcihyb3dJbmRleCkge1xuICAgICAgdmFyIGNvbHVtbkluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuXG4gICAgICB2YXIga2V5ID0gdGhpcy5fa2V5TWFwcGVyKHJvd0luZGV4LCBjb2x1bW5JbmRleCk7XG5cbiAgICAgIGRlbGV0ZSB0aGlzLl9jZWxsSGVpZ2h0Q2FjaGVba2V5XTtcbiAgICAgIGRlbGV0ZSB0aGlzLl9jZWxsV2lkdGhDYWNoZVtrZXldO1xuXG4gICAgICB0aGlzLl91cGRhdGVDYWNoZWRDb2x1bW5BbmRSb3dTaXplcyhyb3dJbmRleCwgY29sdW1uSW5kZXgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NsZWFyQWxsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJBbGwoKSB7XG4gICAgICB0aGlzLl9jZWxsSGVpZ2h0Q2FjaGUgPSB7fTtcbiAgICAgIHRoaXMuX2NlbGxXaWR0aENhY2hlID0ge307XG4gICAgICB0aGlzLl9jb2x1bW5XaWR0aENhY2hlID0ge307XG4gICAgICB0aGlzLl9yb3dIZWlnaHRDYWNoZSA9IHt9O1xuICAgICAgdGhpcy5fcm93Q291bnQgPSAwO1xuICAgICAgdGhpcy5fY29sdW1uQ291bnQgPSAwO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhc0ZpeGVkSGVpZ2h0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzRml4ZWRIZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzRml4ZWRIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFzRml4ZWRXaWR0aCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0ZpeGVkV2lkdGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzRml4ZWRXaWR0aDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIZWlnaHQocm93SW5kZXgpIHtcbiAgICAgIHZhciBjb2x1bW5JbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcblxuICAgICAgaWYgKHRoaXMuX2hhc0ZpeGVkSGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0SGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIF9rZXkgPSB0aGlzLl9rZXlNYXBwZXIocm93SW5kZXgsIGNvbHVtbkluZGV4KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY2VsbEhlaWdodENhY2hlLmhhc093blByb3BlcnR5KF9rZXkpID8gTWF0aC5tYXgodGhpcy5fbWluSGVpZ2h0LCB0aGlzLl9jZWxsSGVpZ2h0Q2FjaGVbX2tleV0pIDogdGhpcy5fZGVmYXVsdEhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRXaWR0aCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdpZHRoKHJvd0luZGV4KSB7XG4gICAgICB2YXIgY29sdW1uSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cbiAgICAgIGlmICh0aGlzLl9oYXNGaXhlZFdpZHRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0V2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX2tleTIgPSB0aGlzLl9rZXlNYXBwZXIocm93SW5kZXgsIGNvbHVtbkluZGV4KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY2VsbFdpZHRoQ2FjaGUuaGFzT3duUHJvcGVydHkoX2tleTIpID8gTWF0aC5tYXgodGhpcy5fbWluV2lkdGgsIHRoaXMuX2NlbGxXaWR0aENhY2hlW19rZXkyXSkgOiB0aGlzLl9kZWZhdWx0V2lkdGg7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKHJvd0luZGV4KSB7XG4gICAgICB2YXIgY29sdW1uSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cbiAgICAgIHZhciBrZXkgPSB0aGlzLl9rZXlNYXBwZXIocm93SW5kZXgsIGNvbHVtbkluZGV4KTtcblxuICAgICAgcmV0dXJuIHRoaXMuX2NlbGxIZWlnaHRDYWNoZS5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldChyb3dJbmRleCwgY29sdW1uSW5kZXgsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHZhciBrZXkgPSB0aGlzLl9rZXlNYXBwZXIocm93SW5kZXgsIGNvbHVtbkluZGV4KTtcblxuICAgICAgaWYgKGNvbHVtbkluZGV4ID49IHRoaXMuX2NvbHVtbkNvdW50KSB7XG4gICAgICAgIHRoaXMuX2NvbHVtbkNvdW50ID0gY29sdW1uSW5kZXggKyAxO1xuICAgICAgfVxuICAgICAgaWYgKHJvd0luZGV4ID49IHRoaXMuX3Jvd0NvdW50KSB7XG4gICAgICAgIHRoaXMuX3Jvd0NvdW50ID0gcm93SW5kZXggKyAxO1xuICAgICAgfVxuXG4gICAgICAvLyBTaXplIGlzIGNhY2hlZCBwZXIgY2VsbCBzbyB3ZSBkb24ndCBoYXZlIHRvIHJlLW1lYXN1cmUgaWYgY2VsbHMgYXJlIHJlLW9yZGVyZWQuXG4gICAgICB0aGlzLl9jZWxsSGVpZ2h0Q2FjaGVba2V5XSA9IGhlaWdodDtcbiAgICAgIHRoaXMuX2NlbGxXaWR0aENhY2hlW2tleV0gPSB3aWR0aDtcblxuICAgICAgdGhpcy5fdXBkYXRlQ2FjaGVkQ29sdW1uQW5kUm93U2l6ZXMocm93SW5kZXgsIGNvbHVtbkluZGV4KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfdXBkYXRlQ2FjaGVkQ29sdW1uQW5kUm93U2l6ZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlQ2FjaGVkQ29sdW1uQW5kUm93U2l6ZXMocm93SW5kZXgsIGNvbHVtbkluZGV4KSB7XG4gICAgICAvLyA6Y29sdW1uV2lkdGggYW5kIDpyb3dIZWlnaHQgYXJlIGRlcml2ZWQgYmFzZWQgb24gYWxsIGNlbGxzIGluIGEgY29sdW1uL3Jvdy5cbiAgICAgIC8vIFByZS1jYWNoZSB0aGVzZSBkZXJpdmVkIHZhbHVlcyBmb3IgZmFzdGVyIGxvb2t1cCBsYXRlci5cbiAgICAgIC8vIFJlYWRzIGFyZSBleHBlY3RlZCB0byBvY2N1ciBtb3JlIGZyZXF1ZW50bHkgdGhhbiB3cml0ZXMgaW4gdGhpcyBjYXNlLlxuICAgICAgLy8gT25seSB1cGRhdGUgbm9uLWZpeGVkIGRpbWVuc2lvbnMgdGhvdWdoIHRvIGF2b2lkIGRvaW5nIHVubmVjZXNzYXJ5IHdvcmsuXG4gICAgICBpZiAoIXRoaXMuX2hhc0ZpeGVkV2lkdGgpIHtcbiAgICAgICAgdmFyIGNvbHVtbldpZHRoID0gMDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9yb3dDb3VudDsgaSsrKSB7XG4gICAgICAgICAgY29sdW1uV2lkdGggPSBNYXRoLm1heChjb2x1bW5XaWR0aCwgdGhpcy5nZXRXaWR0aChpLCBjb2x1bW5JbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb2x1bW5LZXkgPSB0aGlzLl9rZXlNYXBwZXIoMCwgY29sdW1uSW5kZXgpO1xuICAgICAgICB0aGlzLl9jb2x1bW5XaWR0aENhY2hlW2NvbHVtbktleV0gPSBjb2x1bW5XaWR0aDtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5faGFzRml4ZWRIZWlnaHQpIHtcbiAgICAgICAgdmFyIHJvd0hlaWdodCA9IDA7XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCB0aGlzLl9jb2x1bW5Db3VudDsgX2krKykge1xuICAgICAgICAgIHJvd0hlaWdodCA9IE1hdGgubWF4KHJvd0hlaWdodCwgdGhpcy5nZXRIZWlnaHQocm93SW5kZXgsIF9pKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJvd0tleSA9IHRoaXMuX2tleU1hcHBlcihyb3dJbmRleCwgMCk7XG4gICAgICAgIHRoaXMuX3Jvd0hlaWdodENhY2hlW3Jvd0tleV0gPSByb3dIZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGVmYXVsdEhlaWdodCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdEhlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZWZhdWx0V2lkdGgnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRXaWR0aDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ2VsbE1lYXN1cmVyQ2FjaGU7XG59KCk7XG5cbmV4cG9ydCBkZWZhdWx0IENlbGxNZWFzdXJlckNhY2hlO1xuXG5cbmZ1bmN0aW9uIGRlZmF1bHRLZXlNYXBwZXIocm93SW5kZXgsIGNvbHVtbkluZGV4KSB7XG4gIHJldHVybiByb3dJbmRleCArICctJyArIGNvbHVtbkluZGV4O1xufVxuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxNZWFzdXJlQ2FjaGUgfSBmcm9tICcuL3R5cGVzJzsiLCJpbXBvcnQgQ2VsbE1lYXN1cmVyIGZyb20gJy4vQ2VsbE1lYXN1cmVyJztcbmltcG9ydCBDZWxsTWVhc3VyZXJDYWNoZSBmcm9tICcuL0NlbGxNZWFzdXJlckNhY2hlJztcblxuZXhwb3J0IGRlZmF1bHQgQ2VsbE1lYXN1cmVyO1xuZXhwb3J0IHsgQ2VsbE1lYXN1cmVyLCBDZWxsTWVhc3VyZXJDYWNoZSB9OyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX09iamVjdCRnZXRQcm90b3R5cGVPZiBmcm9tICdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBjbiBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBwb2x5ZmlsbCB9IGZyb20gJ3JlYWN0LWxpZmVjeWNsZXMtY29tcGF0JztcbmltcG9ydCBjcmVhdGVDYWxsYmFja01lbW9pemVyIGZyb20gJy4uL3V0aWxzL2NyZWF0ZUNhbGxiYWNrTWVtb2l6ZXInO1xuaW1wb3J0IGdldFNjcm9sbGJhclNpemUgZnJvbSAnZG9tLWhlbHBlcnMvdXRpbC9zY3JvbGxiYXJTaXplJztcblxuLy8gQFRPRE8gTWVyZ2UgQ29sbGVjdGlvbiBhbmQgQ29sbGVjdGlvblZpZXdcblxuLyoqXG4gKiBTcGVjaWZpZXMgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgZHVyaW5nIHdoaWNoIHRvIGRpc2FibGUgcG9pbnRlciBldmVudHMgd2hpbGUgYSBzY3JvbGwgaXMgaW4gcHJvZ3Jlc3MuXG4gKiBUaGlzIGltcHJvdmVzIHBlcmZvcm1hbmNlIGFuZCBtYWtlcyBzY3JvbGxpbmcgc21vb3RoZXIuXG4gKi9cbnZhciBJU19TQ1JPTExJTkdfVElNRU9VVCA9IDE1MDtcblxuLyoqXG4gKiBDb250cm9scyB3aGV0aGVyIHRoZSBHcmlkIHVwZGF0ZXMgdGhlIERPTSBlbGVtZW50J3Mgc2Nyb2xsTGVmdC9zY3JvbGxUb3AgYmFzZWQgb24gdGhlIGN1cnJlbnQgc3RhdGUgb3IganVzdCBvYnNlcnZlcyBpdC5cbiAqIFRoaXMgcHJldmVudHMgR3JpZCBmcm9tIGludGVycnVwdGluZyBtb3VzZS13aGVlbCBhbmltYXRpb25zIChzZWUgaXNzdWUgIzIpLlxuICovXG52YXIgU0NST0xMX1BPU0lUSU9OX0NIQU5HRV9SRUFTT05TID0ge1xuICBPQlNFUlZFRDogJ29ic2VydmVkJyxcbiAgUkVRVUVTVEVEOiAncmVxdWVzdGVkJ1xufTtcblxuLyoqXG4gKiBNb25pdG9ycyBjaGFuZ2VzIGluIHByb3BlcnRpZXMgKGVnLiBjZWxsQ291bnQpIGFuZCBzdGF0ZSAoZWcuIHNjcm9sbCBvZmZzZXRzKSB0byBkZXRlcm1pbmUgd2hlbiByZW5kZXJpbmcgbmVlZHMgdG8gb2NjdXIuXG4gKiBUaGlzIGNvbXBvbmVudCBkb2VzIG5vdCByZW5kZXIgYW55IHZpc2libGUgY29udGVudCBpdHNlbGY7IGl0IGRlZmVycyB0byB0aGUgc3BlY2lmaWVkIDpjZWxsTGF5b3V0TWFuYWdlci5cbiAqL1xuXG52YXIgQ29sbGVjdGlvblZpZXcgPSBmdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENvbGxlY3Rpb25WaWV3LCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgLy8gSW52b2tlcyBjYWxsYmFja3Mgb25seSB3aGVuIHRoZWlyIHZhbHVlcyBoYXZlIGNoYW5nZWQuXG4gIGZ1bmN0aW9uIENvbGxlY3Rpb25WaWV3KCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbGxlY3Rpb25WaWV3KTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIC8vIElmIHRoaXMgY29tcG9uZW50IGlzIGJlaW5nIHJlbmRlcmVkIHNlcnZlci1zaWRlLCBnZXRTY3JvbGxiYXJTaXplKCkgd2lsbCByZXR1cm4gdW5kZWZpbmVkLlxuICAgIC8vIFdlIGhhbmRsZSB0aGlzIGNhc2UgaW4gY29tcG9uZW50RGlkTW91bnQoKVxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfcmVmID0gQ29sbGVjdGlvblZpZXcuX19wcm90b19fIHx8IF9PYmplY3QkZ2V0UHJvdG90eXBlT2YoQ29sbGVjdGlvblZpZXcpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgaXNTY3JvbGxpbmc6IGZhbHNlLFxuICAgICAgc2Nyb2xsTGVmdDogMCxcbiAgICAgIHNjcm9sbFRvcDogMFxuICAgIH07XG4gICAgX3RoaXMuX2NhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGFPbk5leHRVcGRhdGUgPSBmYWxzZTtcbiAgICBfdGhpcy5fb25TZWN0aW9uUmVuZGVyZWRNZW1vaXplciA9IGNyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIoKTtcbiAgICBfdGhpcy5fb25TY3JvbGxNZW1vaXplciA9IGNyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIoZmFsc2UpO1xuXG4gICAgX3RoaXMuX2ludm9rZU9uU2VjdGlvblJlbmRlcmVkSGVscGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgY2VsbExheW91dE1hbmFnZXIgPSBfdGhpcyRwcm9wcy5jZWxsTGF5b3V0TWFuYWdlcixcbiAgICAgICAgICBvblNlY3Rpb25SZW5kZXJlZCA9IF90aGlzJHByb3BzLm9uU2VjdGlvblJlbmRlcmVkO1xuXG5cbiAgICAgIF90aGlzLl9vblNlY3Rpb25SZW5kZXJlZE1lbW9pemVyKHtcbiAgICAgICAgY2FsbGJhY2s6IG9uU2VjdGlvblJlbmRlcmVkLFxuICAgICAgICBpbmRpY2VzOiB7XG4gICAgICAgICAgaW5kaWNlczogY2VsbExheW91dE1hbmFnZXIuZ2V0TGFzdFJlbmRlcmVkSW5kaWNlcygpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5fc2V0U2Nyb2xsaW5nQ29udGFpbmVyUmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMuX3Njcm9sbGluZ0NvbnRhaW5lciA9IHJlZjtcbiAgICB9O1xuXG4gICAgX3RoaXMuX3VwZGF0ZVNjcm9sbFBvc2l0aW9uRm9yU2Nyb2xsVG9DZWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGNlbGxMYXlvdXRNYW5hZ2VyID0gX3RoaXMkcHJvcHMyLmNlbGxMYXlvdXRNYW5hZ2VyLFxuICAgICAgICAgIGhlaWdodCA9IF90aGlzJHByb3BzMi5oZWlnaHQsXG4gICAgICAgICAgc2Nyb2xsVG9BbGlnbm1lbnQgPSBfdGhpcyRwcm9wczIuc2Nyb2xsVG9BbGlnbm1lbnQsXG4gICAgICAgICAgc2Nyb2xsVG9DZWxsID0gX3RoaXMkcHJvcHMyLnNjcm9sbFRvQ2VsbCxcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJHByb3BzMi53aWR0aDtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IF90aGlzLnN0YXRlLFxuICAgICAgICAgIHNjcm9sbExlZnQgPSBfdGhpcyRzdGF0ZS5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF90aGlzJHN0YXRlLnNjcm9sbFRvcDtcblxuXG4gICAgICBpZiAoc2Nyb2xsVG9DZWxsID49IDApIHtcbiAgICAgICAgdmFyIHNjcm9sbFBvc2l0aW9uID0gY2VsbExheW91dE1hbmFnZXIuZ2V0U2Nyb2xsUG9zaXRpb25Gb3JDZWxsKHtcbiAgICAgICAgICBhbGlnbjogc2Nyb2xsVG9BbGlnbm1lbnQsXG4gICAgICAgICAgY2VsbEluZGV4OiBzY3JvbGxUb0NlbGwsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcCxcbiAgICAgICAgICB3aWR0aDogd2lkdGhcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHNjcm9sbFBvc2l0aW9uLnNjcm9sbExlZnQgIT09IHNjcm9sbExlZnQgfHwgc2Nyb2xsUG9zaXRpb24uc2Nyb2xsVG9wICE9PSBzY3JvbGxUb3ApIHtcbiAgICAgICAgICBfdGhpcy5fc2V0U2Nyb2xsUG9zaXRpb24oc2Nyb2xsUG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLl9vblNjcm9sbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgLy8gSW4gY2VydGFpbiBlZGdlLWNhc2VzIFJlYWN0IGRpc3BhdGNoZXMgYW4gb25TY3JvbGwgZXZlbnQgd2l0aCBhbiBpbnZhbGlkIHRhcmdldC5zY3JvbGxMZWZ0IC8gdGFyZ2V0LnNjcm9sbFRvcC5cbiAgICAgIC8vIFRoaXMgaW52YWxpZCBldmVudCBjYW4gYmUgZGV0ZWN0ZWQgYnkgY29tcGFyaW5nIGV2ZW50LnRhcmdldCB0byB0aGlzIGNvbXBvbmVudCdzIHNjcm9sbGFibGUgRE9NIGVsZW1lbnQuXG4gICAgICAvLyBTZWUgaXNzdWUgIzQwNCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgIGlmIChldmVudC50YXJnZXQgIT09IF90aGlzLl9zY3JvbGxpbmdDb250YWluZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmV2ZW50IHBvaW50ZXIgZXZlbnRzIGZyb20gaW50ZXJydXB0aW5nIGEgc21vb3RoIHNjcm9sbFxuICAgICAgX3RoaXMuX2VuYWJsZVBvaW50ZXJFdmVudHNBZnRlckRlbGF5KCk7XG5cbiAgICAgIC8vIFdoZW4gdGhpcyBjb21wb25lbnQgaXMgc2hydW5rIGRyYXN0aWNhbGx5LCBSZWFjdCBkaXNwYXRjaGVzIGEgc2VyaWVzIG9mIGJhY2stdG8tYmFjayBzY3JvbGwgZXZlbnRzLFxuICAgICAgLy8gR3JhZHVhbGx5IGNvbnZlcmdpbmcgb24gYSBzY3JvbGxUb3AgdGhhdCBpcyB3aXRoaW4gdGhlIGJvdW5kcyBvZiB0aGUgbmV3LCBzbWFsbGVyIGhlaWdodC5cbiAgICAgIC8vIFRoaXMgY2F1c2VzIGEgc2VyaWVzIG9mIHJhcGlkIHJlbmRlcnMgdGhhdCBpcyBzbG93IGZvciBsb25nIGxpc3RzLlxuICAgICAgLy8gV2UgY2FuIGF2b2lkIHRoYXQgYnkgZG9pbmcgc29tZSBzaW1wbGUgYm91bmRzIGNoZWNraW5nIHRvIGVuc3VyZSB0aGF0IHNjcm9sbFRvcCBuZXZlciBleGNlZWRzIHRoZSB0b3RhbCBoZWlnaHQuXG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgY2VsbExheW91dE1hbmFnZXIgPSBfdGhpcyRwcm9wczMuY2VsbExheW91dE1hbmFnZXIsXG4gICAgICAgICAgaGVpZ2h0ID0gX3RoaXMkcHJvcHMzLmhlaWdodCxcbiAgICAgICAgICBpc1Njcm9sbGluZ0NoYW5nZSA9IF90aGlzJHByb3BzMy5pc1Njcm9sbGluZ0NoYW5nZSxcbiAgICAgICAgICB3aWR0aCA9IF90aGlzJHByb3BzMy53aWR0aDtcblxuICAgICAgdmFyIHNjcm9sbGJhclNpemUgPSBfdGhpcy5fc2Nyb2xsYmFyU2l6ZTtcblxuICAgICAgdmFyIF9jZWxsTGF5b3V0TWFuYWdlciRnZSA9IGNlbGxMYXlvdXRNYW5hZ2VyLmdldFRvdGFsU2l6ZSgpLFxuICAgICAgICAgIHRvdGFsSGVpZ2h0ID0gX2NlbGxMYXlvdXRNYW5hZ2VyJGdlLmhlaWdodCxcbiAgICAgICAgICB0b3RhbFdpZHRoID0gX2NlbGxMYXlvdXRNYW5hZ2VyJGdlLndpZHRoO1xuXG4gICAgICB2YXIgc2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRvdGFsV2lkdGggLSB3aWR0aCArIHNjcm9sbGJhclNpemUsIGV2ZW50LnRhcmdldC5zY3JvbGxMZWZ0KSk7XG4gICAgICB2YXIgc2Nyb2xsVG9wID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odG90YWxIZWlnaHQgLSBoZWlnaHQgKyBzY3JvbGxiYXJTaXplLCBldmVudC50YXJnZXQuc2Nyb2xsVG9wKSk7XG5cbiAgICAgIC8vIENlcnRhaW4gZGV2aWNlcyAobGlrZSBBcHBsZSB0b3VjaHBhZCkgcmFwaWQtZmlyZSBkdXBsaWNhdGUgZXZlbnRzLlxuICAgICAgLy8gRG9uJ3QgZm9yY2UgYSByZS1yZW5kZXIgaWYgdGhpcyBpcyB0aGUgY2FzZS5cbiAgICAgIC8vIFRoZSBtb3VzZSBtYXkgbW92ZSBmYXN0ZXIgdGhlbiB0aGUgYW5pbWF0aW9uIGZyYW1lIGRvZXMuXG4gICAgICAvLyBVc2UgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHRvIGF2b2lkIG92ZXItdXBkYXRpbmcuXG4gICAgICBpZiAoX3RoaXMuc3RhdGUuc2Nyb2xsTGVmdCAhPT0gc2Nyb2xsTGVmdCB8fCBfdGhpcy5zdGF0ZS5zY3JvbGxUb3AgIT09IHNjcm9sbFRvcCkge1xuICAgICAgICAvLyBCcm93c2VycyB3aXRoIGNhbmNlbGFibGUgc2Nyb2xsIGV2ZW50cyAoZWcuIEZpcmVmb3gpIGludGVycnVwdCBzY3JvbGxpbmcgYW5pbWF0aW9ucyBpZiBzY3JvbGxUb3Avc2Nyb2xsTGVmdCBpcyBzZXQuXG4gICAgICAgIC8vIE90aGVyIGJyb3dzZXJzIChlZy4gU2FmYXJpKSBkb24ndCBzY3JvbGwgYXMgd2VsbCB3aXRob3V0IHRoZSBoZWxwIHVuZGVyIGNlcnRhaW4gY29uZGl0aW9ucyAoRE9NIG9yIHN0eWxlIGNoYW5nZXMgZHVyaW5nIHNjcm9sbGluZykuXG4gICAgICAgIC8vIEFsbCB0aGluZ3MgY29uc2lkZXJlZCwgdGhpcyBzZWVtcyB0byBiZSB0aGUgYmVzdCBjdXJyZW50IHdvcmsgYXJvdW5kIHRoYXQgSSdtIGF3YXJlIG9mLlxuICAgICAgICAvLyBGb3IgbW9yZSBpbmZvcm1hdGlvbiBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2J2YXVnaG4vcmVhY3QtdmlydHVhbGl6ZWQvcHVsbC8xMjRcbiAgICAgICAgdmFyIHNjcm9sbFBvc2l0aW9uQ2hhbmdlUmVhc29uID0gZXZlbnQuY2FuY2VsYWJsZSA/IFNDUk9MTF9QT1NJVElPTl9DSEFOR0VfUkVBU09OUy5PQlNFUlZFRCA6IFNDUk9MTF9QT1NJVElPTl9DSEFOR0VfUkVBU09OUy5SRVFVRVNURUQ7XG5cbiAgICAgICAgLy8gU3luY2hyb25vdXNseSBzZXQgOmlzU2Nyb2xsaW5nIHRoZSBmaXJzdCB0aW1lIChzaW5jZSBfc2V0TmV4dFN0YXRlIHdpbGwgcmVzY2hlZHVsZSBpdHMgYW5pbWF0aW9uIGZyYW1lIGVhY2ggdGltZSBpdCdzIGNhbGxlZClcbiAgICAgICAgaWYgKCFfdGhpcy5zdGF0ZS5pc1Njcm9sbGluZykge1xuICAgICAgICAgIGlzU2Nyb2xsaW5nQ2hhbmdlKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzU2Nyb2xsaW5nOiB0cnVlLFxuICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsUG9zaXRpb25DaGFuZ2VSZWFzb246IHNjcm9sbFBvc2l0aW9uQ2hhbmdlUmVhc29uLFxuICAgICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5faW52b2tlT25TY3JvbGxNZW1vaXplcih7XG4gICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wLFxuICAgICAgICB0b3RhbFdpZHRoOiB0b3RhbFdpZHRoLFxuICAgICAgICB0b3RhbEhlaWdodDogdG90YWxIZWlnaHRcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5fc2Nyb2xsYmFyU2l6ZSA9IGdldFNjcm9sbGJhclNpemUoKTtcbiAgICBpZiAoX3RoaXMuX3Njcm9sbGJhclNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgX3RoaXMuX3Njcm9sbGJhclNpemVNZWFzdXJlZCA9IGZhbHNlO1xuICAgICAgX3RoaXMuX3Njcm9sbGJhclNpemUgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBfdGhpcy5fc2Nyb2xsYmFyU2l6ZU1lYXN1cmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlZCByZWNvbXB1dGUgb2YgY2VsbCBzaXplcyBhbmQgcG9zaXRpb25zLlxuICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBjYWxsZWQgaWYgY2VsbCBzaXplcyBoYXZlIGNoYW5nZWQgYnV0IG5vdGhpbmcgZWxzZSBoYXMuXG4gICAqIFNpbmNlIGNlbGwgcG9zaXRpb25zIGFyZSBjYWxjdWxhdGVkIGJ5IGNhbGxiYWNrcywgdGhlIGNvbGxlY3Rpb24gdmlldyBoYXMgbm8gd2F5IG9mIGRldGVjdGluZyB3aGVuIHRoZSB1bmRlcmx5aW5nIGRhdGEgaGFzIGNoYW5nZWQuXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKENvbGxlY3Rpb25WaWV3LCBbe1xuICAgIGtleTogJ3JlY29tcHV0ZUNlbGxTaXplc0FuZFBvc2l0aW9ucycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlY29tcHV0ZUNlbGxTaXplc0FuZFBvc2l0aW9ucygpIHtcbiAgICAgIHRoaXMuX2NhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGFPbk5leHRVcGRhdGUgPSB0cnVlO1xuICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQ29tcG9uZW50IGxpZmVjeWNsZSBtZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogVGhpcyBtZXRob2QgdXBkYXRlcyBzY3JvbGxMZWZ0L3Njcm9sbFRvcCBpbiBzdGF0ZSBmb3IgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICAgICAqIDEpIEVtcHR5IGNvbnRlbnQgKDAgcm93cyBvciBjb2x1bW5zKVxuICAgICAqIDIpIE5ldyBzY3JvbGwgcHJvcHMgb3ZlcnJpZGluZyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAqIDMpIENlbGxzLWNvdW50IG9yIGNlbGxzLXNpemUgaGFzIGNoYW5nZWQsIG1ha2luZyBwcmV2aW91cyBzY3JvbGwgb2Zmc2V0cyBpbnZhbGlkXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjZWxsTGF5b3V0TWFuYWdlciA9IF9wcm9wcy5jZWxsTGF5b3V0TWFuYWdlcixcbiAgICAgICAgICBzY3JvbGxMZWZ0ID0gX3Byb3BzLnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9DZWxsID0gX3Byb3BzLnNjcm9sbFRvQ2VsbCxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfcHJvcHMuc2Nyb2xsVG9wO1xuXG4gICAgICAvLyBJZiB0aGlzIGNvbXBvbmVudCB3YXMgZmlyc3QgcmVuZGVyZWQgc2VydmVyLXNpZGUsIHNjcm9sbGJhciBzaXplIHdpbGwgYmUgdW5kZWZpbmVkLlxuICAgICAgLy8gSW4gdGhhdCBldmVudCB3ZSBuZWVkIHRvIHJlbWVhc3VyZS5cblxuICAgICAgaWYgKCF0aGlzLl9zY3JvbGxiYXJTaXplTWVhc3VyZWQpIHtcbiAgICAgICAgdGhpcy5fc2Nyb2xsYmFyU2l6ZSA9IGdldFNjcm9sbGJhclNpemUoKTtcbiAgICAgICAgdGhpcy5fc2Nyb2xsYmFyU2l6ZU1lYXN1cmVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7fSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzY3JvbGxUb0NlbGwgPj0gMCkge1xuICAgICAgICB0aGlzLl91cGRhdGVTY3JvbGxQb3NpdGlvbkZvclNjcm9sbFRvQ2VsbCgpO1xuICAgICAgfSBlbHNlIGlmIChzY3JvbGxMZWZ0ID49IDAgfHwgc2Nyb2xsVG9wID49IDApIHtcbiAgICAgICAgdGhpcy5fc2V0U2Nyb2xsUG9zaXRpb24oeyBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LCBzY3JvbGxUb3A6IHNjcm9sbFRvcCB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIG9uU2VjdGlvblJlbmRlcmVkIGNhbGxiYWNrLlxuICAgICAgdGhpcy5faW52b2tlT25TZWN0aW9uUmVuZGVyZWRIZWxwZXIoKTtcblxuICAgICAgdmFyIF9jZWxsTGF5b3V0TWFuYWdlciRnZTIgPSBjZWxsTGF5b3V0TWFuYWdlci5nZXRUb3RhbFNpemUoKSxcbiAgICAgICAgICB0b3RhbEhlaWdodCA9IF9jZWxsTGF5b3V0TWFuYWdlciRnZTIuaGVpZ2h0LFxuICAgICAgICAgIHRvdGFsV2lkdGggPSBfY2VsbExheW91dE1hbmFnZXIkZ2UyLndpZHRoO1xuXG4gICAgICAvLyBJbml0aWFsaXplIG9uU2Nyb2xsIGNhbGxiYWNrLlxuXG5cbiAgICAgIHRoaXMuX2ludm9rZU9uU2Nyb2xsTWVtb2l6ZXIoe1xuICAgICAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0IHx8IDAsXG4gICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wIHx8IDAsXG4gICAgICAgIHRvdGFsSGVpZ2h0OiB0b3RhbEhlaWdodCxcbiAgICAgICAgdG90YWxXaWR0aDogdG90YWxXaWR0aFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgaGVpZ2h0ID0gX3Byb3BzMi5oZWlnaHQsXG4gICAgICAgICAgc2Nyb2xsVG9BbGlnbm1lbnQgPSBfcHJvcHMyLnNjcm9sbFRvQWxpZ25tZW50LFxuICAgICAgICAgIHNjcm9sbFRvQ2VsbCA9IF9wcm9wczIuc2Nyb2xsVG9DZWxsLFxuICAgICAgICAgIHdpZHRoID0gX3Byb3BzMi53aWR0aDtcbiAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIHNjcm9sbExlZnQgPSBfc3RhdGUuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxQb3NpdGlvbkNoYW5nZVJlYXNvbiA9IF9zdGF0ZS5zY3JvbGxQb3NpdGlvbkNoYW5nZVJlYXNvbixcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfc3RhdGUuc2Nyb2xsVG9wO1xuXG4gICAgICAvLyBNYWtlIHN1cmUgcmVxdWVzdGVkIGNoYW5nZXMgdG8gOnNjcm9sbExlZnQgb3IgOnNjcm9sbFRvcCBnZXQgYXBwbGllZC5cbiAgICAgIC8vIEFzc2lnbmluZyB0byBzY3JvbGxMZWZ0L3Njcm9sbFRvcCB0ZWxscyB0aGUgYnJvd3NlciB0byBpbnRlcnJ1cHQgYW55IHJ1bm5pbmcgc2Nyb2xsIGFuaW1hdGlvbnMsXG4gICAgICAvLyBBbmQgdG8gZGlzY2FyZCBhbnkgcGVuZGluZyBhc3luYyBjaGFuZ2VzIHRvIHRoZSBzY3JvbGwgcG9zaXRpb24gdGhhdCBtYXkgaGF2ZSBoYXBwZW5lZCBpbiB0aGUgbWVhbnRpbWUgKGUuZy4gb24gYSBzZXBhcmF0ZSBzY3JvbGxpbmcgdGhyZWFkKS5cbiAgICAgIC8vIFNvIHdlIG9ubHkgc2V0IHRoZXNlIHdoZW4gd2UgcmVxdWlyZSBhbiBhZGp1c3RtZW50IG9mIHRoZSBzY3JvbGwgcG9zaXRpb24uXG4gICAgICAvLyBTZWUgaXNzdWUgIzIgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG5cbiAgICAgIGlmIChzY3JvbGxQb3NpdGlvbkNoYW5nZVJlYXNvbiA9PT0gU0NST0xMX1BPU0lUSU9OX0NIQU5HRV9SRUFTT05TLlJFUVVFU1RFRCkge1xuICAgICAgICBpZiAoc2Nyb2xsTGVmdCA+PSAwICYmIHNjcm9sbExlZnQgIT09IHByZXZTdGF0ZS5zY3JvbGxMZWZ0ICYmIHNjcm9sbExlZnQgIT09IHRoaXMuX3Njcm9sbGluZ0NvbnRhaW5lci5zY3JvbGxMZWZ0KSB7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsaW5nQ29udGFpbmVyLnNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY3JvbGxUb3AgPj0gMCAmJiBzY3JvbGxUb3AgIT09IHByZXZTdGF0ZS5zY3JvbGxUb3AgJiYgc2Nyb2xsVG9wICE9PSB0aGlzLl9zY3JvbGxpbmdDb250YWluZXIuc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgdGhpcy5fc2Nyb2xsaW5nQ29udGFpbmVyLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgc2Nyb2xsIG9mZnNldHMgaWYgdGhlIGN1cnJlbnQgOnNjcm9sbFRvQ2VsbCB2YWx1ZXMgcmVxdWlyZXMgaXRcbiAgICAgIGlmIChoZWlnaHQgIT09IHByZXZQcm9wcy5oZWlnaHQgfHwgc2Nyb2xsVG9BbGlnbm1lbnQgIT09IHByZXZQcm9wcy5zY3JvbGxUb0FsaWdubWVudCB8fCBzY3JvbGxUb0NlbGwgIT09IHByZXZQcm9wcy5zY3JvbGxUb0NlbGwgfHwgd2lkdGggIT09IHByZXZQcm9wcy53aWR0aCkge1xuICAgICAgICB0aGlzLl91cGRhdGVTY3JvbGxQb3NpdGlvbkZvclNjcm9sbFRvQ2VsbCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgb25Sb3dzUmVuZGVyZWQgY2FsbGJhY2sgaWYgc3RhcnQvc3RvcCBpbmRpY2VzIGhhdmUgY2hhbmdlZFxuICAgICAgdGhpcy5faW52b2tlT25TZWN0aW9uUmVuZGVyZWRIZWxwZXIoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgaWYgKHRoaXMuX2Rpc2FibGVQb2ludGVyRXZlbnRzVGltZW91dElkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9kaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGF1dG9IZWlnaHQgPSBfcHJvcHMzLmF1dG9IZWlnaHQsXG4gICAgICAgICAgY2VsbENvdW50ID0gX3Byb3BzMy5jZWxsQ291bnQsXG4gICAgICAgICAgY2VsbExheW91dE1hbmFnZXIgPSBfcHJvcHMzLmNlbGxMYXlvdXRNYW5hZ2VyLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wczMuY2xhc3NOYW1lLFxuICAgICAgICAgIGhlaWdodCA9IF9wcm9wczMuaGVpZ2h0LFxuICAgICAgICAgIGhvcml6b250YWxPdmVyc2NhblNpemUgPSBfcHJvcHMzLmhvcml6b250YWxPdmVyc2NhblNpemUsXG4gICAgICAgICAgaWQgPSBfcHJvcHMzLmlkLFxuICAgICAgICAgIG5vQ29udGVudFJlbmRlcmVyID0gX3Byb3BzMy5ub0NvbnRlbnRSZW5kZXJlcixcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wczMuc3R5bGUsXG4gICAgICAgICAgdmVydGljYWxPdmVyc2NhblNpemUgPSBfcHJvcHMzLnZlcnRpY2FsT3ZlcnNjYW5TaXplLFxuICAgICAgICAgIHdpZHRoID0gX3Byb3BzMy53aWR0aDtcbiAgICAgIHZhciBfc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBpc1Njcm9sbGluZyA9IF9zdGF0ZTIuaXNTY3JvbGxpbmcsXG4gICAgICAgICAgc2Nyb2xsTGVmdCA9IF9zdGF0ZTIuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfc3RhdGUyLnNjcm9sbFRvcDtcblxuICAgICAgLy8gTWVtb2l6YXRpb24gcmVzZXRcblxuICAgICAgaWYgKHRoaXMuX2xhc3RSZW5kZXJlZENlbGxDb3VudCAhPT0gY2VsbENvdW50IHx8IHRoaXMuX2xhc3RSZW5kZXJlZENlbGxMYXlvdXRNYW5hZ2VyICE9PSBjZWxsTGF5b3V0TWFuYWdlciB8fCB0aGlzLl9jYWxjdWxhdGVTaXplQW5kUG9zaXRpb25EYXRhT25OZXh0VXBkYXRlKSB7XG4gICAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZENlbGxDb3VudCA9IGNlbGxDb3VudDtcbiAgICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkQ2VsbExheW91dE1hbmFnZXIgPSBjZWxsTGF5b3V0TWFuYWdlcjtcbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlU2l6ZUFuZFBvc2l0aW9uRGF0YU9uTmV4dFVwZGF0ZSA9IGZhbHNlO1xuXG4gICAgICAgIGNlbGxMYXlvdXRNYW5hZ2VyLmNhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGEoKTtcbiAgICAgIH1cblxuICAgICAgdmFyIF9jZWxsTGF5b3V0TWFuYWdlciRnZTMgPSBjZWxsTGF5b3V0TWFuYWdlci5nZXRUb3RhbFNpemUoKSxcbiAgICAgICAgICB0b3RhbEhlaWdodCA9IF9jZWxsTGF5b3V0TWFuYWdlciRnZTMuaGVpZ2h0LFxuICAgICAgICAgIHRvdGFsV2lkdGggPSBfY2VsbExheW91dE1hbmFnZXIkZ2UzLndpZHRoO1xuXG4gICAgICAvLyBTYWZlbHkgZXhwYW5kIHRoZSByZW5kZXJlZCBhcmVhIGJ5IHRoZSBzcGVjaWZpZWQgb3ZlcnNjYW4gYW1vdW50XG5cblxuICAgICAgdmFyIGxlZnQgPSBNYXRoLm1heCgwLCBzY3JvbGxMZWZ0IC0gaG9yaXpvbnRhbE92ZXJzY2FuU2l6ZSk7XG4gICAgICB2YXIgdG9wID0gTWF0aC5tYXgoMCwgc2Nyb2xsVG9wIC0gdmVydGljYWxPdmVyc2NhblNpemUpO1xuICAgICAgdmFyIHJpZ2h0ID0gTWF0aC5taW4odG90YWxXaWR0aCwgc2Nyb2xsTGVmdCArIHdpZHRoICsgaG9yaXpvbnRhbE92ZXJzY2FuU2l6ZSk7XG4gICAgICB2YXIgYm90dG9tID0gTWF0aC5taW4odG90YWxIZWlnaHQsIHNjcm9sbFRvcCArIGhlaWdodCArIHZlcnRpY2FsT3ZlcnNjYW5TaXplKTtcblxuICAgICAgdmFyIGNoaWxkcmVuVG9EaXNwbGF5ID0gaGVpZ2h0ID4gMCAmJiB3aWR0aCA+IDAgPyBjZWxsTGF5b3V0TWFuYWdlci5jZWxsUmVuZGVyZXJzKHtcbiAgICAgICAgaGVpZ2h0OiBib3R0b20gLSB0b3AsXG4gICAgICAgIGlzU2Nyb2xsaW5nOiBpc1Njcm9sbGluZyxcbiAgICAgICAgd2lkdGg6IHJpZ2h0IC0gbGVmdCxcbiAgICAgICAgeDogbGVmdCxcbiAgICAgICAgeTogdG9wXG4gICAgICB9KSA6IFtdO1xuXG4gICAgICB2YXIgY29sbGVjdGlvblN0eWxlID0ge1xuICAgICAgICBib3hTaXppbmc6ICdib3JkZXItYm94JyxcbiAgICAgICAgZGlyZWN0aW9uOiAnbHRyJyxcbiAgICAgICAgaGVpZ2h0OiBhdXRvSGVpZ2h0ID8gJ2F1dG8nIDogaGVpZ2h0LFxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6ICd0b3VjaCcsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgd2lsbENoYW5nZTogJ3RyYW5zZm9ybSdcbiAgICAgIH07XG5cbiAgICAgIC8vIEZvcmNlIGJyb3dzZXIgdG8gaGlkZSBzY3JvbGxiYXJzIHdoZW4gd2Uga25vdyB0aGV5IGFyZW4ndCBuZWNlc3NhcnkuXG4gICAgICAvLyBPdGhlcndpc2Ugb25jZSBzY3JvbGxiYXJzIGFwcGVhciB0aGV5IG1heSBub3QgZGlzYXBwZWFyIGFnYWluLlxuICAgICAgLy8gRm9yIG1vcmUgaW5mbyBzZWUgaXNzdWUgIzExNlxuICAgICAgdmFyIHZlcnRpY2FsU2Nyb2xsQmFyU2l6ZSA9IHRvdGFsSGVpZ2h0ID4gaGVpZ2h0ID8gdGhpcy5fc2Nyb2xsYmFyU2l6ZSA6IDA7XG4gICAgICB2YXIgaG9yaXpvbnRhbFNjcm9sbEJhclNpemUgPSB0b3RhbFdpZHRoID4gd2lkdGggPyB0aGlzLl9zY3JvbGxiYXJTaXplIDogMDtcblxuICAgICAgLy8gQWxzbyBleHBsaWNpdGx5IGluaXQgc3R5bGVzIHRvICdhdXRvJyBpZiBzY3JvbGxiYXJzIGFyZSByZXF1aXJlZC5cbiAgICAgIC8vIFRoaXMgd29ya3MgYXJvdW5kIGFuIG9ic2N1cmUgZWRnZSBjYXNlIHdoZXJlIGV4dGVybmFsIENTUyBzdHlsZXMgaGF2ZSBub3QgeWV0IGJlZW4gbG9hZGVkLFxuICAgICAgLy8gQnV0IGFuIGluaXRpYWwgc2Nyb2xsIGluZGV4IG9mIG9mZnNldCBpcyBzZXQgYXMgYW4gZXh0ZXJuYWwgcHJvcC5cbiAgICAgIC8vIFdpdGhvdXQgdGhpcyBzdHlsZSwgR3JpZCB3b3VsZCByZW5kZXIgdGhlIGNvcnJlY3QgcmFuZ2Ugb2YgY2VsbHMgYnV0IHdvdWxkIE5PVCB1cGRhdGUgaXRzIGludGVybmFsIG9mZnNldC5cbiAgICAgIC8vIFRoaXMgd2FzIG9yaWdpbmFsbHkgcmVwb3J0ZWQgdmlhIGNsYXVkZXJpYy9yZWFjdC1pbmZpbml0ZS1jYWxlbmRhci9pc3N1ZXMvMjNcbiAgICAgIGNvbGxlY3Rpb25TdHlsZS5vdmVyZmxvd1ggPSB0b3RhbFdpZHRoICsgdmVydGljYWxTY3JvbGxCYXJTaXplIDw9IHdpZHRoID8gJ2hpZGRlbicgOiAnYXV0byc7XG4gICAgICBjb2xsZWN0aW9uU3R5bGUub3ZlcmZsb3dZID0gdG90YWxIZWlnaHQgKyBob3Jpem9udGFsU2Nyb2xsQmFyU2l6ZSA8PSBoZWlnaHQgPyAnaGlkZGVuJyA6ICdhdXRvJztcblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7XG4gICAgICAgICAgcmVmOiB0aGlzLl9zZXRTY3JvbGxpbmdDb250YWluZXJSZWYsXG4gICAgICAgICAgJ2FyaWEtbGFiZWwnOiB0aGlzLnByb3BzWydhcmlhLWxhYmVsJ10sXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbignUmVhY3RWaXJ0dWFsaXplZF9fQ29sbGVjdGlvbicsIGNsYXNzTmFtZSksXG4gICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgIG9uU2Nyb2xsOiB0aGlzLl9vblNjcm9sbCxcbiAgICAgICAgICByb2xlOiAnZ3JpZCcsXG4gICAgICAgICAgc3R5bGU6IF9leHRlbmRzKHt9LCBjb2xsZWN0aW9uU3R5bGUsIHN0eWxlKSxcbiAgICAgICAgICB0YWJJbmRleDogMCB9LFxuICAgICAgICBjZWxsQ291bnQgPiAwICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiAnUmVhY3RWaXJ0dWFsaXplZF9fQ29sbGVjdGlvbl9faW5uZXJTY3JvbGxDb250YWluZXInLFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgaGVpZ2h0OiB0b3RhbEhlaWdodCxcbiAgICAgICAgICAgICAgbWF4SGVpZ2h0OiB0b3RhbEhlaWdodCxcbiAgICAgICAgICAgICAgbWF4V2lkdGg6IHRvdGFsV2lkdGgsXG4gICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgcG9pbnRlckV2ZW50czogaXNTY3JvbGxpbmcgPyAnbm9uZScgOiAnJyxcbiAgICAgICAgICAgICAgd2lkdGg6IHRvdGFsV2lkdGhcbiAgICAgICAgICAgIH0gfSxcbiAgICAgICAgICBjaGlsZHJlblRvRGlzcGxheVxuICAgICAgICApLFxuICAgICAgICBjZWxsQ291bnQgPT09IDAgJiYgbm9Db250ZW50UmVuZGVyZXIoKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEhlbHBlciBtZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIC8qKlxuICAgICAqIFNldHMgYW4gOmlzU2Nyb2xsaW5nIGZsYWcgZm9yIGEgc21hbGwgd2luZG93IG9mIHRpbWUuXG4gICAgICogVGhpcyBmbGFnIGlzIHVzZWQgdG8gZGlzYWJsZSBwb2ludGVyIGV2ZW50cyBvbiB0aGUgc2Nyb2xsYWJsZSBwb3J0aW9uIG9mIHRoZSBDb2xsZWN0aW9uLlxuICAgICAqIFRoaXMgcHJldmVudHMgamVya3kvc3R1dHRlcnkgbW91c2Utd2hlZWwgc2Nyb2xsaW5nLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfZW5hYmxlUG9pbnRlckV2ZW50c0FmdGVyRGVsYXknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZW5hYmxlUG9pbnRlckV2ZW50c0FmdGVyRGVsYXkoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2Rpc2FibGVQb2ludGVyRXZlbnRzVGltZW91dElkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9kaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2Rpc2FibGVQb2ludGVyRXZlbnRzVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpc1Njcm9sbGluZ0NoYW5nZSA9IF90aGlzMi5wcm9wcy5pc1Njcm9sbGluZ0NoYW5nZTtcblxuXG4gICAgICAgIGlzU2Nyb2xsaW5nQ2hhbmdlKGZhbHNlKTtcblxuICAgICAgICBfdGhpczIuX2Rpc2FibGVQb2ludGVyRXZlbnRzVGltZW91dElkID0gbnVsbDtcbiAgICAgICAgX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICBpc1Njcm9sbGluZzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9LCBJU19TQ1JPTExJTkdfVElNRU9VVCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2ludm9rZU9uU2Nyb2xsTWVtb2l6ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaW52b2tlT25TY3JvbGxNZW1vaXplcihfcmVmMikge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIHZhciBzY3JvbGxMZWZ0ID0gX3JlZjIuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfcmVmMi5zY3JvbGxUb3AsXG4gICAgICAgICAgdG90YWxIZWlnaHQgPSBfcmVmMi50b3RhbEhlaWdodCxcbiAgICAgICAgICB0b3RhbFdpZHRoID0gX3JlZjIudG90YWxXaWR0aDtcblxuICAgICAgdGhpcy5fb25TY3JvbGxNZW1vaXplcih7XG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhfcmVmMykge1xuICAgICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gX3JlZjMuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgc2Nyb2xsVG9wID0gX3JlZjMuc2Nyb2xsVG9wO1xuICAgICAgICAgIHZhciBfcHJvcHM0ID0gX3RoaXMzLnByb3BzLFxuICAgICAgICAgICAgICBoZWlnaHQgPSBfcHJvcHM0LmhlaWdodCxcbiAgICAgICAgICAgICAgb25TY3JvbGwgPSBfcHJvcHM0Lm9uU2Nyb2xsLFxuICAgICAgICAgICAgICB3aWR0aCA9IF9wcm9wczQud2lkdGg7XG5cblxuICAgICAgICAgIG9uU2Nyb2xsKHtcbiAgICAgICAgICAgIGNsaWVudEhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgY2xpZW50V2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0OiB0b3RhbEhlaWdodCxcbiAgICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcCxcbiAgICAgICAgICAgIHNjcm9sbFdpZHRoOiB0b3RhbFdpZHRoXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluZGljZXM6IHtcbiAgICAgICAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19zZXRTY3JvbGxQb3NpdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRTY3JvbGxQb3NpdGlvbihfcmVmNCkge1xuICAgICAgdmFyIHNjcm9sbExlZnQgPSBfcmVmNC5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF9yZWY0LnNjcm9sbFRvcDtcblxuICAgICAgdmFyIG5ld1N0YXRlID0ge1xuICAgICAgICBzY3JvbGxQb3NpdGlvbkNoYW5nZVJlYXNvbjogU0NST0xMX1BPU0lUSU9OX0NIQU5HRV9SRUFTT05TLlJFUVVFU1RFRFxuICAgICAgfTtcblxuICAgICAgaWYgKHNjcm9sbExlZnQgPj0gMCkge1xuICAgICAgICBuZXdTdGF0ZS5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgIH1cblxuICAgICAgaWYgKHNjcm9sbFRvcCA+PSAwKSB7XG4gICAgICAgIG5ld1N0YXRlLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgICAgIH1cblxuICAgICAgaWYgKHNjcm9sbExlZnQgPj0gMCAmJiBzY3JvbGxMZWZ0ICE9PSB0aGlzLnN0YXRlLnNjcm9sbExlZnQgfHwgc2Nyb2xsVG9wID49IDAgJiYgc2Nyb2xsVG9wICE9PSB0aGlzLnN0YXRlLnNjcm9sbFRvcCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ2dldERlcml2ZWRTdGF0ZUZyb21Qcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgaWYgKG5leHRQcm9wcy5jZWxsQ291bnQgPT09IDAgJiYgKHByZXZTdGF0ZS5zY3JvbGxMZWZ0ICE9PSAwIHx8IHByZXZTdGF0ZS5zY3JvbGxUb3AgIT09IDApKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2Nyb2xsTGVmdDogMCxcbiAgICAgICAgICBzY3JvbGxUb3A6IDBcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAobmV4dFByb3BzLnNjcm9sbExlZnQgIT09IHByZXZTdGF0ZS5zY3JvbGxMZWZ0IHx8IG5leHRQcm9wcy5zY3JvbGxUb3AgIT09IHByZXZTdGF0ZS5zY3JvbGxUb3ApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzY3JvbGxMZWZ0OiBuZXh0UHJvcHMuc2Nyb2xsTGVmdCAhPSBudWxsID8gbmV4dFByb3BzLnNjcm9sbExlZnQgOiBwcmV2U3RhdGUuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3A6IG5leHRQcm9wcy5zY3JvbGxUb3AgIT0gbnVsbCA/IG5leHRQcm9wcy5zY3JvbGxUb3AgOiBwcmV2U3RhdGUuc2Nyb2xsVG9wXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDb2xsZWN0aW9uVmlldztcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbkNvbGxlY3Rpb25WaWV3LmRlZmF1bHRQcm9wcyA9IHtcbiAgJ2FyaWEtbGFiZWwnOiAnZ3JpZCcsXG4gIGhvcml6b250YWxPdmVyc2NhblNpemU6IDAsXG4gIG5vQ29udGVudFJlbmRlcmVyOiBmdW5jdGlvbiBub0NvbnRlbnRSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgb25TY3JvbGw6IGZ1bmN0aW9uIG9uU2Nyb2xsKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBvblNlY3Rpb25SZW5kZXJlZDogZnVuY3Rpb24gb25TZWN0aW9uUmVuZGVyZWQoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIHNjcm9sbFRvQWxpZ25tZW50OiAnYXV0bycsXG4gIHNjcm9sbFRvQ2VsbDogLTEsXG4gIHN0eWxlOiB7fSxcbiAgdmVydGljYWxPdmVyc2NhblNpemU6IDBcbn07XG5Db2xsZWN0aW9uVmlldy5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gICdhcmlhLWxhYmVsJzogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogUmVtb3ZlcyBmaXhlZCBoZWlnaHQgZnJvbSB0aGUgc2Nyb2xsaW5nQ29udGFpbmVyIHNvIHRoYXQgdGhlIHRvdGFsIGhlaWdodFxuICAgKiBvZiByb3dzIGNhbiBzdHJldGNoIHRoZSB3aW5kb3cuIEludGVuZGVkIGZvciB1c2Ugd2l0aCBXaW5kb3dTY3JvbGxlclxuICAgKi9cbiAgYXV0b0hlaWdodDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqXG4gICAqIE51bWJlciBvZiBjZWxscyBpbiBjb2xsZWN0aW9uLlxuICAgKi9cbiAgY2VsbENvdW50OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgY2VsbCBzaXplcyBhbmQgcG9zaXRpb25zIGFuZCBtYW5hZ2VzIHJlbmRlcmluZyB0aGUgYXBwcm9wcmlhdGUgY2VsbHMgZ2l2ZW4gYSBzcGVjaWZpZWQgd2luZG93LlxuICAgKi9cbiAgY2VsbExheW91dE1hbmFnZXI6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogT3B0aW9uYWwgY3VzdG9tIENTUyBjbGFzcyBuYW1lIHRvIGF0dGFjaCB0byByb290IENvbGxlY3Rpb24gZWxlbWVudC5cbiAgICovXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogSGVpZ2h0IG9mIENvbGxlY3Rpb247IHRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyB0aGUgbnVtYmVyIG9mIHZpc2libGUgKHZzIHZpcnR1YWxpemVkKSByb3dzLlxuICAgKi9cbiAgaGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGN1c3RvbSBpZCB0byBhdHRhY2ggdG8gcm9vdCBDb2xsZWN0aW9uIGVsZW1lbnQuXG4gICAqL1xuICBpZDogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogRW5hYmxlcyB0aGUgYENvbGxlY3Rpb25gIHRvIGhvcmlvbnRhbGx5IFwib3ZlcnNjYW5cIiBpdHMgY29udGVudCBzaW1pbGFyIHRvIGhvdyBgR3JpZGAgZG9lcy5cbiAgICogVGhpcyBjYW4gcmVkdWNlIGZsaWNrZXIgYXJvdW5kIHRoZSBlZGdlcyB3aGVuIGEgdXNlciBzY3JvbGxzIHF1aWNrbHkuXG4gICAqL1xuICBob3Jpem9udGFsT3ZlcnNjYW5TaXplOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgaXNTY3JvbGxpbmdDaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBPcHRpb25hbCByZW5kZXJlciB0byBiZSB1c2VkIGluIHBsYWNlIG9mIHJvd3Mgd2hlbiBlaXRoZXIgOnJvd0NvdW50IG9yIDpjZWxsQ291bnQgaXMgMC5cbiAgICovXG4gIG5vQ29udGVudFJlbmRlcmVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBpbnZva2VkIHdoZW5ldmVyIHRoZSBzY3JvbGwgb2Zmc2V0IGNoYW5nZXMgd2l0aGluIHRoZSBpbm5lciBzY3JvbGxhYmxlIHJlZ2lvbi5cbiAgICogVGhpcyBjYWxsYmFjayBjYW4gYmUgdXNlZCB0byBzeW5jIHNjcm9sbGluZyBiZXR3ZWVuIGxpc3RzLCB0YWJsZXMsIG9yIGdyaWRzLlxuICAgKiAoeyBjbGllbnRIZWlnaHQsIGNsaWVudFdpZHRoLCBzY3JvbGxIZWlnaHQsIHNjcm9sbExlZnQsIHNjcm9sbFRvcCwgc2Nyb2xsV2lkdGggfSk6IHZvaWRcbiAgICovXG4gIG9uU2Nyb2xsOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBpbnZva2VkIHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIHNlY3Rpb24gb2YgdGhlIENvbGxlY3Rpb24gdGhhdCB3YXMganVzdCByZW5kZXJlZC5cbiAgICogVGhpcyBjYWxsYmFjayBpcyBwYXNzZWQgYSBuYW1lZCA6aW5kaWNlcyBwYXJhbWV0ZXIgd2hpY2ggaXMgYW4gQXJyYXkgb2YgdGhlIG1vc3QgcmVjZW50bHkgcmVuZGVyZWQgc2VjdGlvbiBpbmRpY2VzLlxuICAgKi9cbiAgb25TZWN0aW9uUmVuZGVyZWQ6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIEhvcml6b250YWwgb2Zmc2V0LlxuICAgKi9cbiAgc2Nyb2xsTGVmdDogUHJvcFR5cGVzLm51bWJlcixcblxuICAvKipcbiAgICogQ29udHJvbHMgc2Nyb2xsLXRvLWNlbGwgYmVoYXZpb3Igb2YgdGhlIEdyaWQuXG4gICAqIFRoZSBkZWZhdWx0IChcImF1dG9cIikgc2Nyb2xscyB0aGUgbGVhc3QgYW1vdW50IHBvc3NpYmxlIHRvIGVuc3VyZSB0aGF0IHRoZSBzcGVjaWZpZWQgY2VsbCBpcyBmdWxseSB2aXNpYmxlLlxuICAgKiBVc2UgXCJzdGFydFwiIHRvIGFsaWduIGNlbGxzIHRvIHRoZSB0b3AvbGVmdCBvZiB0aGUgR3JpZCBhbmQgXCJlbmRcIiB0byBhbGlnbiBib3R0b20vcmlnaHQuXG4gICAqL1xuICBzY3JvbGxUb0FsaWdubWVudDogUHJvcFR5cGVzLm9uZU9mKFsnYXV0bycsICdlbmQnLCAnc3RhcnQnLCAnY2VudGVyJ10pLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIENlbGwgaW5kZXggdG8gZW5zdXJlIHZpc2libGUgKGJ5IGZvcmNlZnVsbHkgc2Nyb2xsaW5nIGlmIG5lY2Vzc2FyeSkuXG4gICAqL1xuICBzY3JvbGxUb0NlbGw6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogVmVydGljYWwgb2Zmc2V0LlxuICAgKi9cbiAgc2Nyb2xsVG9wOiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBjdXN0b20gaW5saW5lIHN0eWxlIHRvIGF0dGFjaCB0byByb290IENvbGxlY3Rpb24gZWxlbWVudC5cbiAgICovXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKlxuICAgKiBFbmFibGVzIHRoZSBgQ29sbGVjdGlvbmAgdG8gdmVydGljYWxseSBcIm92ZXJzY2FuXCIgaXRzIGNvbnRlbnQgc2ltaWxhciB0byBob3cgYEdyaWRgIGRvZXMuXG4gICAqIFRoaXMgY2FuIHJlZHVjZSBmbGlja2VyIGFyb3VuZCB0aGUgZWRnZXMgd2hlbiBhIHVzZXIgc2Nyb2xscyBxdWlja2x5LlxuICAgKi9cbiAgdmVydGljYWxPdmVyc2NhblNpemU6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogV2lkdGggb2YgQ29sbGVjdGlvbjsgdGhpcyBwcm9wZXJ0eSBkZXRlcm1pbmVzIHRoZSBudW1iZXIgb2YgdmlzaWJsZSAodnMgdmlydHVhbGl6ZWQpIGNvbHVtbnMuXG4gICAqL1xuICB3aWR0aDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59IDoge307XG5cblxucG9seWZpbGwoQ29sbGVjdGlvblZpZXcpO1xuXG5leHBvcnQgZGVmYXVsdCBDb2xsZWN0aW9uVmlldzsiLCJ2YXIgYnBmcnB0X3Byb3B0eXBlX0luZGV4ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIGluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn07XG52YXIgYnBmcnB0X3Byb3B0eXBlX1Bvc2l0aW9uSW5mbyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICB4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIHk6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcbnZhciBicGZycHRfcHJvcHR5cGVfU2Nyb2xsUG9zaXRpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgc2Nyb2xsTGVmdDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBzY3JvbGxUb3A6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcbnZhciBicGZycHRfcHJvcHR5cGVfU2l6ZUFuZFBvc2l0aW9uSW5mbyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBoZWlnaHQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgeDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICB5OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn07XG52YXIgYnBmcnB0X3Byb3B0eXBlX1NpemVJbmZvID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIGhlaWdodDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICB3aWR0aDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59O1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tIFwicHJvcC10eXBlc1wiO1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0luZGV4IH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfUG9zaXRpb25JbmZvIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfU2Nyb2xsUG9zaXRpb24gfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9TaXplQW5kUG9zaXRpb25JbmZvIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfU2l6ZUluZm8gfTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5cbi8qKlxuICogQSBzZWN0aW9uIG9mIHRoZSBXaW5kb3cuXG4gKiBXaW5kb3cgU2VjdGlvbnMgYXJlIHVzZWQgdG8gZ3JvdXAgbmVhcmJ5IGNlbGxzLlxuICogVGhpcyBlbmFibGVzIHVzIHRvIG1vcmUgcXVpY2tseSBkZXRlcm1pbmUgd2hpY2ggY2VsbHMgdG8gZGlzcGxheSBpbiBhIGdpdmVuIHJlZ2lvbiBvZiB0aGUgV2luZG93LlxuICogU2VjdGlvbnMgaGF2ZSBhIGZpeGVkIHNpemUgYW5kIGNvbnRhaW4gMCB0byBtYW55IGNlbGxzICh0cmFja2VkIGJ5IHRoZWlyIGluZGljZXMpLlxuICovXG52YXIgU2VjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2VjdGlvbihfcmVmKSB7XG4gICAgdmFyIGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgICB3aWR0aCA9IF9yZWYud2lkdGgsXG4gICAgICAgIHggPSBfcmVmLngsXG4gICAgICAgIHkgPSBfcmVmLnk7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VjdGlvbik7XG5cbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgdGhpcy5faW5kZXhNYXAgPSB7fTtcbiAgICB0aGlzLl9pbmRpY2VzID0gW107XG4gIH1cblxuICAvKiogQWRkIGEgY2VsbCB0byB0aGlzIHNlY3Rpb24uICovXG5cblxuICBfY3JlYXRlQ2xhc3MoU2VjdGlvbiwgW3tcbiAgICBrZXk6ICdhZGRDZWxsSW5kZXgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRDZWxsSW5kZXgoX3JlZjIpIHtcbiAgICAgIHZhciBpbmRleCA9IF9yZWYyLmluZGV4O1xuXG4gICAgICBpZiAoIXRoaXMuX2luZGV4TWFwW2luZGV4XSkge1xuICAgICAgICB0aGlzLl9pbmRleE1hcFtpbmRleF0gPSB0cnVlO1xuICAgICAgICB0aGlzLl9pbmRpY2VzLnB1c2goaW5kZXgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBHZXQgYWxsIGNlbGwgaW5kaWNlcyB0aGF0IGhhdmUgYmVlbiBhZGRlZCB0byB0aGlzIHNlY3Rpb24uICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldENlbGxJbmRpY2VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2VsbEluZGljZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW5kaWNlcztcbiAgICB9XG5cbiAgICAvKiogSW50ZW5kZWQgZm9yIGRlYnVnZ2VyL3Rlc3QgcHVycG9zZXMgb25seSAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd0b1N0cmluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuIHRoaXMueCArICcsJyArIHRoaXMueSArICcgJyArIHRoaXMud2lkdGggKyAneCcgKyB0aGlzLmhlaWdodDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2VjdGlvbjtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9JbmRleCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1NpemVBbmRQb3NpdGlvbkluZm8gfSBmcm9tICcuL3R5cGVzJzsiLCJpbXBvcnQgX09iamVjdCRrZXlzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG4vKipcbiAqIFdpbmRvdyBTZWN0aW9ucyBhcmUgdXNlZCB0byBncm91cCBuZWFyYnkgY2VsbHMuXG4gKiBUaGlzIGVuYWJsZXMgdXMgdG8gbW9yZSBxdWlja2x5IGRldGVybWluZSB3aGljaCBjZWxscyB0byBkaXNwbGF5IGluIGEgZ2l2ZW4gcmVnaW9uIG9mIHRoZSBXaW5kb3cuXG4gKiBcbiAqL1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi9TZWN0aW9uJztcblxuXG52YXIgU0VDVElPTl9TSVpFID0gMTAwO1xuXG4vKipcbiAqIENvbnRhaW5zIDAgdG8gbWFueSBTZWN0aW9ucy5cbiAqIEdyb3dzIChhbmQgYWRkcyBTZWN0aW9ucykgZHluYW1pY2FsbHkgYXMgY2VsbHMgYXJlIHJlZ2lzdGVyZWQuXG4gKiBBdXRvbWF0aWNhbGx5IGFkZHMgY2VsbHMgdG8gdGhlIGFwcHJvcHJpYXRlIFNlY3Rpb24ocykuXG4gKi9cbnZhciBTZWN0aW9uTWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU2VjdGlvbk1hbmFnZXIoKSB7XG4gICAgdmFyIHNlY3Rpb25TaXplID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBTRUNUSU9OX1NJWkU7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VjdGlvbk1hbmFnZXIpO1xuXG4gICAgdGhpcy5fc2VjdGlvblNpemUgPSBzZWN0aW9uU2l6ZTtcblxuICAgIHRoaXMuX2NlbGxNZXRhZGF0YSA9IFtdO1xuICAgIHRoaXMuX3NlY3Rpb25zID0ge307XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbGwgY2VsbCBpbmRpY2VzIGNvbnRhaW5lZCBpbiB0aGUgc3BlY2lmaWVkIHJlZ2lvbi5cbiAgICogQSByZWdpb24gbWF5IGVuY29tcGFzcyAxIG9yIG1vcmUgU2VjdGlvbnMuXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFNlY3Rpb25NYW5hZ2VyLCBbe1xuICAgIGtleTogJ2dldENlbGxJbmRpY2VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2VsbEluZGljZXMoX3JlZikge1xuICAgICAgdmFyIGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgICAgIHdpZHRoID0gX3JlZi53aWR0aCxcbiAgICAgICAgICB4ID0gX3JlZi54LFxuICAgICAgICAgIHkgPSBfcmVmLnk7XG5cbiAgICAgIHZhciBpbmRpY2VzID0ge307XG5cbiAgICAgIHRoaXMuZ2V0U2VjdGlvbnMoeyBoZWlnaHQ6IGhlaWdodCwgd2lkdGg6IHdpZHRoLCB4OiB4LCB5OiB5IH0pLmZvckVhY2goZnVuY3Rpb24gKHNlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHNlY3Rpb24uZ2V0Q2VsbEluZGljZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICAgIGluZGljZXNbaW5kZXhdID0gaW5kZXg7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIE9iamVjdCBrZXlzIGFyZSBzdHJpbmdzOyB0aGlzIGZ1bmN0aW9uIHJldHVybnMgbnVtYmVyc1xuICAgICAgcmV0dXJuIF9PYmplY3Qka2V5cyhpbmRpY2VzKS5tYXAoZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpbmRpY2VzW2luZGV4XTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKiBHZXQgc2l6ZSBhbmQgcG9zaXRpb24gaW5mb3JtYXRpb24gZm9yIHRoZSBjZWxsIHNwZWNpZmllZC4gKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0Q2VsbE1ldGFkYXRhJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2VsbE1ldGFkYXRhKF9yZWYyKSB7XG4gICAgICB2YXIgaW5kZXggPSBfcmVmMi5pbmRleDtcblxuICAgICAgcmV0dXJuIHRoaXMuX2NlbGxNZXRhZGF0YVtpbmRleF07XG4gICAgfVxuXG4gICAgLyoqIEdldCBhbGwgU2VjdGlvbnMgb3ZlcmxhcHBpbmcgdGhlIHNwZWNpZmllZCByZWdpb24uICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFNlY3Rpb25zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2VjdGlvbnMoX3JlZjMpIHtcbiAgICAgIHZhciBoZWlnaHQgPSBfcmVmMy5oZWlnaHQsXG4gICAgICAgICAgd2lkdGggPSBfcmVmMy53aWR0aCxcbiAgICAgICAgICB4ID0gX3JlZjMueCxcbiAgICAgICAgICB5ID0gX3JlZjMueTtcblxuICAgICAgdmFyIHNlY3Rpb25YU3RhcnQgPSBNYXRoLmZsb29yKHggLyB0aGlzLl9zZWN0aW9uU2l6ZSk7XG4gICAgICB2YXIgc2VjdGlvblhTdG9wID0gTWF0aC5mbG9vcigoeCArIHdpZHRoIC0gMSkgLyB0aGlzLl9zZWN0aW9uU2l6ZSk7XG4gICAgICB2YXIgc2VjdGlvbllTdGFydCA9IE1hdGguZmxvb3IoeSAvIHRoaXMuX3NlY3Rpb25TaXplKTtcbiAgICAgIHZhciBzZWN0aW9uWVN0b3AgPSBNYXRoLmZsb29yKCh5ICsgaGVpZ2h0IC0gMSkgLyB0aGlzLl9zZWN0aW9uU2l6ZSk7XG5cbiAgICAgIHZhciBzZWN0aW9ucyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBzZWN0aW9uWCA9IHNlY3Rpb25YU3RhcnQ7IHNlY3Rpb25YIDw9IHNlY3Rpb25YU3RvcDsgc2VjdGlvblgrKykge1xuICAgICAgICBmb3IgKHZhciBzZWN0aW9uWSA9IHNlY3Rpb25ZU3RhcnQ7IHNlY3Rpb25ZIDw9IHNlY3Rpb25ZU3RvcDsgc2VjdGlvblkrKykge1xuICAgICAgICAgIHZhciBrZXkgPSBzZWN0aW9uWCArICcuJyArIHNlY3Rpb25ZO1xuXG4gICAgICAgICAgaWYgKCF0aGlzLl9zZWN0aW9uc1trZXldKSB7XG4gICAgICAgICAgICB0aGlzLl9zZWN0aW9uc1trZXldID0gbmV3IFNlY3Rpb24oe1xuICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuX3NlY3Rpb25TaXplLFxuICAgICAgICAgICAgICB3aWR0aDogdGhpcy5fc2VjdGlvblNpemUsXG4gICAgICAgICAgICAgIHg6IHNlY3Rpb25YICogdGhpcy5fc2VjdGlvblNpemUsXG4gICAgICAgICAgICAgIHk6IHNlY3Rpb25ZICogdGhpcy5fc2VjdGlvblNpemVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlY3Rpb25zLnB1c2godGhpcy5fc2VjdGlvbnNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlY3Rpb25zO1xuICAgIH1cblxuICAgIC8qKiBUb3RhbCBudW1iZXIgb2YgU2VjdGlvbnMgYmFzZWQgb24gdGhlIGN1cnJlbnRseSByZWdpc3RlcmVkIGNlbGxzLiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRUb3RhbFNlY3Rpb25Db3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRvdGFsU2VjdGlvbkNvdW50KCkge1xuICAgICAgcmV0dXJuIF9PYmplY3Qka2V5cyh0aGlzLl9zZWN0aW9ucykubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKiBJbnRlbmRlZCBmb3IgZGVidWdnZXIvdGVzdCBwdXJwb3NlcyBvbmx5ICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RvU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gX09iamVjdCRrZXlzKHRoaXMuX3NlY3Rpb25zKS5tYXAoZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5fc2VjdGlvbnNbaW5kZXhdLnRvU3RyaW5nKCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKiogQWRkcyBhIGNlbGwgdG8gdGhlIGFwcHJvcHJpYXRlIFNlY3Rpb25zIGFuZCByZWdpc3RlcnMgaXQgbWV0YWRhdGEgZm9yIGxhdGVyIHJldHJpZXZhYmxlLiAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZWdpc3RlckNlbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlckNlbGwoX3JlZjQpIHtcbiAgICAgIHZhciBjZWxsTWV0YWRhdHVtID0gX3JlZjQuY2VsbE1ldGFkYXR1bSxcbiAgICAgICAgICBpbmRleCA9IF9yZWY0LmluZGV4O1xuXG4gICAgICB0aGlzLl9jZWxsTWV0YWRhdGFbaW5kZXhdID0gY2VsbE1ldGFkYXR1bTtcblxuICAgICAgdGhpcy5nZXRTZWN0aW9ucyhjZWxsTWV0YWRhdHVtKS5mb3JFYWNoKGZ1bmN0aW9uIChzZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBzZWN0aW9uLmFkZENlbGxJbmRleCh7IGluZGV4OiBpbmRleCB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTZWN0aW9uTWFuYWdlcjtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbk1hbmFnZXI7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfSW5kZXggfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9TaXplQW5kUG9zaXRpb25JbmZvIH0gZnJvbSAnLi90eXBlcyc7IiwiaW1wb3J0IFNlY3Rpb25NYW5hZ2VyIGZyb20gJy4uL1NlY3Rpb25NYW5hZ2VyJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2FsY3VsYXRlU2l6ZUFuZFBvc2l0aW9uRGF0YShfcmVmKSB7XG4gIHZhciBjZWxsQ291bnQgPSBfcmVmLmNlbGxDb3VudCxcbiAgICAgIGNlbGxTaXplQW5kUG9zaXRpb25HZXR0ZXIgPSBfcmVmLmNlbGxTaXplQW5kUG9zaXRpb25HZXR0ZXIsXG4gICAgICBzZWN0aW9uU2l6ZSA9IF9yZWYuc2VjdGlvblNpemU7XG5cbiAgdmFyIGNlbGxNZXRhZGF0YSA9IFtdO1xuICB2YXIgc2VjdGlvbk1hbmFnZXIgPSBuZXcgU2VjdGlvbk1hbmFnZXIoc2VjdGlvblNpemUpO1xuICB2YXIgaGVpZ2h0ID0gMDtcbiAgdmFyIHdpZHRoID0gMDtcblxuICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgY2VsbENvdW50OyBpbmRleCsrKSB7XG4gICAgdmFyIGNlbGxNZXRhZGF0dW0gPSBjZWxsU2l6ZUFuZFBvc2l0aW9uR2V0dGVyKHsgaW5kZXg6IGluZGV4IH0pO1xuXG4gICAgaWYgKGNlbGxNZXRhZGF0dW0uaGVpZ2h0ID09IG51bGwgfHwgaXNOYU4oY2VsbE1ldGFkYXR1bS5oZWlnaHQpIHx8IGNlbGxNZXRhZGF0dW0ud2lkdGggPT0gbnVsbCB8fCBpc05hTihjZWxsTWV0YWRhdHVtLndpZHRoKSB8fCBjZWxsTWV0YWRhdHVtLnggPT0gbnVsbCB8fCBpc05hTihjZWxsTWV0YWRhdHVtLngpIHx8IGNlbGxNZXRhZGF0dW0ueSA9PSBudWxsIHx8IGlzTmFOKGNlbGxNZXRhZGF0dW0ueSkpIHtcbiAgICAgIHRocm93IEVycm9yKCdJbnZhbGlkIG1ldGFkYXRhIHJldHVybmVkIGZvciBjZWxsICcgKyBpbmRleCArICc6XFxuICAgICAgICB4OicgKyBjZWxsTWV0YWRhdHVtLnggKyAnLCB5OicgKyBjZWxsTWV0YWRhdHVtLnkgKyAnLCB3aWR0aDonICsgY2VsbE1ldGFkYXR1bS53aWR0aCArICcsIGhlaWdodDonICsgY2VsbE1ldGFkYXR1bS5oZWlnaHQpO1xuICAgIH1cblxuICAgIGhlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgY2VsbE1ldGFkYXR1bS55ICsgY2VsbE1ldGFkYXR1bS5oZWlnaHQpO1xuICAgIHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIGNlbGxNZXRhZGF0dW0ueCArIGNlbGxNZXRhZGF0dW0ud2lkdGgpO1xuXG4gICAgY2VsbE1ldGFkYXRhW2luZGV4XSA9IGNlbGxNZXRhZGF0dW07XG4gICAgc2VjdGlvbk1hbmFnZXIucmVnaXN0ZXJDZWxsKHtcbiAgICAgIGNlbGxNZXRhZGF0dW06IGNlbGxNZXRhZGF0dW0sXG4gICAgICBpbmRleDogaW5kZXhcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgY2VsbE1ldGFkYXRhOiBjZWxsTWV0YWRhdGEsXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgc2VjdGlvbk1hbmFnZXI6IHNlY3Rpb25NYW5hZ2VyLFxuICAgIHdpZHRoOiB3aWR0aFxuICB9O1xufSIsIi8qKlxuICogRGV0ZXJtaW5lcyBhIG5ldyBvZmZzZXQgdGhhdCBlbnN1cmVzIGEgY2VydGFpbiBjZWxsIGlzIHZpc2libGUsIGdpdmVuIHRoZSBjdXJyZW50IG9mZnNldC5cbiAqIElmIHRoZSBjZWxsIGlzIGFscmVhZHkgdmlzaWJsZSB0aGVuIHRoZSBjdXJyZW50IG9mZnNldCB3aWxsIGJlIHJldHVybmVkLlxuICogSWYgdGhlIGN1cnJlbnQgb2Zmc2V0IGlzIHRvbyBncmVhdCBvciBzbWFsbCwgaXQgd2lsbCBiZSBhZGp1c3RlZCBqdXN0IGVub3VnaCB0byBlbnN1cmUgdGhlIHNwZWNpZmllZCBpbmRleCBpcyB2aXNpYmxlLlxuICpcbiAqIEBwYXJhbSBhbGlnbiBEZXNpcmVkIGFsaWdubWVudCB3aXRoaW4gY29udGFpbmVyOyBvbmUgb2YgXCJhdXRvXCIgKGRlZmF1bHQpLCBcInN0YXJ0XCIsIG9yIFwiZW5kXCJcbiAqIEBwYXJhbSBjZWxsT2Zmc2V0IE9mZnNldCAoeCBvciB5KSBwb3NpdGlvbiBmb3IgY2VsbFxuICogQHBhcmFtIGNlbGxTaXplIFNpemUgKHdpZHRoIG9yIGhlaWdodCkgb2YgY2VsbFxuICogQHBhcmFtIGNvbnRhaW5lclNpemUgVG90YWwgc2l6ZSAod2lkdGggb3IgaGVpZ2h0KSBvZiB0aGUgY29udGFpbmVyXG4gKiBAcGFyYW0gY3VycmVudE9mZnNldCBDb250YWluZXIncyBjdXJyZW50ICh4IG9yIHkpIG9mZnNldFxuICogQHJldHVybiBPZmZzZXQgdG8gdXNlIHRvIGVuc3VyZSB0aGUgc3BlY2lmaWVkIGNlbGwgaXMgdmlzaWJsZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRVcGRhdGVkT2Zmc2V0Rm9ySW5kZXgoX3JlZikge1xuICB2YXIgX3JlZiRhbGlnbiA9IF9yZWYuYWxpZ24sXG4gICAgICBhbGlnbiA9IF9yZWYkYWxpZ24gPT09IHVuZGVmaW5lZCA/ICdhdXRvJyA6IF9yZWYkYWxpZ24sXG4gICAgICBjZWxsT2Zmc2V0ID0gX3JlZi5jZWxsT2Zmc2V0LFxuICAgICAgY2VsbFNpemUgPSBfcmVmLmNlbGxTaXplLFxuICAgICAgY29udGFpbmVyU2l6ZSA9IF9yZWYuY29udGFpbmVyU2l6ZSxcbiAgICAgIGN1cnJlbnRPZmZzZXQgPSBfcmVmLmN1cnJlbnRPZmZzZXQ7XG5cbiAgdmFyIG1heE9mZnNldCA9IGNlbGxPZmZzZXQ7XG4gIHZhciBtaW5PZmZzZXQgPSBtYXhPZmZzZXQgLSBjb250YWluZXJTaXplICsgY2VsbFNpemU7XG5cbiAgc3dpdGNoIChhbGlnbikge1xuICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgIHJldHVybiBtYXhPZmZzZXQ7XG4gICAgY2FzZSAnZW5kJzpcbiAgICAgIHJldHVybiBtaW5PZmZzZXQ7XG4gICAgY2FzZSAnY2VudGVyJzpcbiAgICAgIHJldHVybiBtYXhPZmZzZXQgLSAoY29udGFpbmVyU2l6ZSAtIGNlbGxTaXplKSAvIDI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBNYXRoLm1heChtaW5PZmZzZXQsIE1hdGgubWluKG1heE9mZnNldCwgY3VycmVudE9mZnNldCkpO1xuICB9XG59IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJztcbmltcG9ydCBfT2JqZWN0JGdldFByb3RvdHlwZU9mIGZyb20gJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZic7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBDb2xsZWN0aW9uVmlldyBmcm9tICcuL0NvbGxlY3Rpb25WaWV3JztcbmltcG9ydCBfY2FsY3VsYXRlU2l6ZUFuZFBvc2l0aW9uRGF0YSBmcm9tICcuL3V0aWxzL2NhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGEnO1xuaW1wb3J0IGdldFVwZGF0ZWRPZmZzZXRGb3JJbmRleCBmcm9tICcuLi91dGlscy9nZXRVcGRhdGVkT2Zmc2V0Rm9ySW5kZXgnO1xuXG4vKipcbiAqIFJlbmRlcnMgc2NhdHRlcmVkIG9yIG5vbi1saW5lYXIgZGF0YS5cbiAqIFVubGlrZSBHcmlkLCB3aGljaCByZW5kZXJzIGNoZWNrZXJib2FyZCBkYXRhLCBDb2xsZWN0aW9uIGNhbiByZW5kZXIgYXJiaXRyYXJpbHkgcG9zaXRpb25lZC0gZXZlbiBvdmVybGFwcGluZy0gZGF0YS5cbiAqL1xudmFyIENvbGxlY3Rpb24gPSBmdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENvbGxlY3Rpb24sIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDb2xsZWN0aW9uKHByb3BzLCBjb250ZXh0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbGxlY3Rpb24pO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENvbGxlY3Rpb24uX19wcm90b19fIHx8IF9PYmplY3QkZ2V0UHJvdG90eXBlT2YoQ29sbGVjdGlvbikpLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpKTtcblxuICAgIF90aGlzLl9jZWxsTWV0YWRhdGEgPSBbXTtcbiAgICBfdGhpcy5fbGFzdFJlbmRlcmVkQ2VsbEluZGljZXMgPSBbXTtcblxuICAgIC8vIENlbGwgY2FjaGUgZHVyaW5nIHNjcm9sbCAoZm9yIHBlcmZvcmFtbmNlKVxuICAgIF90aGlzLl9jZWxsQ2FjaGUgPSBbXTtcblxuICAgIF90aGlzLl9pc1Njcm9sbGluZ0NoYW5nZSA9IF90aGlzLl9pc1Njcm9sbGluZ0NoYW5nZS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5fc2V0Q29sbGVjdGlvblZpZXdSZWYgPSBfdGhpcy5fc2V0Q29sbGVjdGlvblZpZXdSZWYuYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENvbGxlY3Rpb24sIFt7XG4gICAga2V5OiAnZm9yY2VVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JjZVVwZGF0ZSgpIHtcbiAgICAgIGlmICh0aGlzLl9jb2xsZWN0aW9uVmlldyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuX2NvbGxlY3Rpb25WaWV3LmZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqIFNlZSBDb2xsZWN0aW9uI3JlY29tcHV0ZUNlbGxTaXplc0FuZFBvc2l0aW9ucyAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZWNvbXB1dGVDZWxsU2l6ZXNBbmRQb3NpdGlvbnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWNvbXB1dGVDZWxsU2l6ZXNBbmRQb3NpdGlvbnMoKSB7XG4gICAgICB0aGlzLl9jZWxsQ2FjaGUgPSBbXTtcbiAgICAgIHRoaXMuX2NvbGxlY3Rpb25WaWV3LnJlY29tcHV0ZUNlbGxTaXplc0FuZFBvc2l0aW9ucygpO1xuICAgIH1cblxuICAgIC8qKiBSZWFjdCBsaWZlY3ljbGUgbWV0aG9kcyAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXModGhpcy5wcm9wcywgW10pO1xuXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uVmlldywgX2V4dGVuZHMoe1xuICAgICAgICBjZWxsTGF5b3V0TWFuYWdlcjogdGhpcyxcbiAgICAgICAgaXNTY3JvbGxpbmdDaGFuZ2U6IHRoaXMuX2lzU2Nyb2xsaW5nQ2hhbmdlLFxuICAgICAgICByZWY6IHRoaXMuX3NldENvbGxlY3Rpb25WaWV3UmVmXG4gICAgICB9LCBwcm9wcykpO1xuICAgIH1cblxuICAgIC8qKiBDZWxsTGF5b3V0TWFuYWdlciBpbnRlcmZhY2UgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY2FsY3VsYXRlU2l6ZUFuZFBvc2l0aW9uRGF0YScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGN1bGF0ZVNpemVBbmRQb3NpdGlvbkRhdGEoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjZWxsQ291bnQgPSBfcHJvcHMuY2VsbENvdW50LFxuICAgICAgICAgIGNlbGxTaXplQW5kUG9zaXRpb25HZXR0ZXIgPSBfcHJvcHMuY2VsbFNpemVBbmRQb3NpdGlvbkdldHRlcixcbiAgICAgICAgICBzZWN0aW9uU2l6ZSA9IF9wcm9wcy5zZWN0aW9uU2l6ZTtcblxuXG4gICAgICB2YXIgZGF0YSA9IF9jYWxjdWxhdGVTaXplQW5kUG9zaXRpb25EYXRhKHtcbiAgICAgICAgY2VsbENvdW50OiBjZWxsQ291bnQsXG4gICAgICAgIGNlbGxTaXplQW5kUG9zaXRpb25HZXR0ZXI6IGNlbGxTaXplQW5kUG9zaXRpb25HZXR0ZXIsXG4gICAgICAgIHNlY3Rpb25TaXplOiBzZWN0aW9uU2l6ZVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX2NlbGxNZXRhZGF0YSA9IGRhdGEuY2VsbE1ldGFkYXRhO1xuICAgICAgdGhpcy5fc2VjdGlvbk1hbmFnZXIgPSBkYXRhLnNlY3Rpb25NYW5hZ2VyO1xuICAgICAgdGhpcy5faGVpZ2h0ID0gZGF0YS5oZWlnaHQ7XG4gICAgICB0aGlzLl93aWR0aCA9IGRhdGEud2lkdGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbW9zdCByZWNlbnRseSByZW5kZXJlZCBzZXQgb2YgY2VsbCBpbmRpY2VzLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRMYXN0UmVuZGVyZWRJbmRpY2VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TGFzdFJlbmRlcmVkSW5kaWNlcygpIHtcbiAgICAgIHJldHVybiB0aGlzLl9sYXN0UmVuZGVyZWRDZWxsSW5kaWNlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBtaW5pbXVtIGFtb3VudCBvZiBjaGFuZ2UgZnJvbSB0aGUgY3VycmVudCBzY3JvbGwgcG9zaXRpb24gdG8gZW5zdXJlIHRoZSBzcGVjaWZpZWQgY2VsbCBpcyAoZnVsbHkpIHZpc2libGUuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFNjcm9sbFBvc2l0aW9uRm9yQ2VsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNjcm9sbFBvc2l0aW9uRm9yQ2VsbChfcmVmKSB7XG4gICAgICB2YXIgYWxpZ24gPSBfcmVmLmFsaWduLFxuICAgICAgICAgIGNlbGxJbmRleCA9IF9yZWYuY2VsbEluZGV4LFxuICAgICAgICAgIGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgICAgIHNjcm9sbExlZnQgPSBfcmVmLnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3JlZi5zY3JvbGxUb3AsXG4gICAgICAgICAgd2lkdGggPSBfcmVmLndpZHRoO1xuICAgICAgdmFyIGNlbGxDb3VudCA9IHRoaXMucHJvcHMuY2VsbENvdW50O1xuXG5cbiAgICAgIGlmIChjZWxsSW5kZXggPj0gMCAmJiBjZWxsSW5kZXggPCBjZWxsQ291bnQpIHtcbiAgICAgICAgdmFyIGNlbGxNZXRhZGF0YSA9IHRoaXMuX2NlbGxNZXRhZGF0YVtjZWxsSW5kZXhdO1xuXG4gICAgICAgIHNjcm9sbExlZnQgPSBnZXRVcGRhdGVkT2Zmc2V0Rm9ySW5kZXgoe1xuICAgICAgICAgIGFsaWduOiBhbGlnbixcbiAgICAgICAgICBjZWxsT2Zmc2V0OiBjZWxsTWV0YWRhdGEueCxcbiAgICAgICAgICBjZWxsU2l6ZTogY2VsbE1ldGFkYXRhLndpZHRoLFxuICAgICAgICAgIGNvbnRhaW5lclNpemU6IHdpZHRoLFxuICAgICAgICAgIGN1cnJlbnRPZmZzZXQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgdGFyZ2V0SW5kZXg6IGNlbGxJbmRleFxuICAgICAgICB9KTtcblxuICAgICAgICBzY3JvbGxUb3AgPSBnZXRVcGRhdGVkT2Zmc2V0Rm9ySW5kZXgoe1xuICAgICAgICAgIGFsaWduOiBhbGlnbixcbiAgICAgICAgICBjZWxsT2Zmc2V0OiBjZWxsTWV0YWRhdGEueSxcbiAgICAgICAgICBjZWxsU2l6ZTogY2VsbE1ldGFkYXRhLmhlaWdodCxcbiAgICAgICAgICBjb250YWluZXJTaXplOiBoZWlnaHQsXG4gICAgICAgICAgY3VycmVudE9mZnNldDogc2Nyb2xsVG9wLFxuICAgICAgICAgIHRhcmdldEluZGV4OiBjZWxsSW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wXG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFRvdGFsU2l6ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRvdGFsU2l6ZSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhlaWdodDogdGhpcy5faGVpZ2h0LFxuICAgICAgICB3aWR0aDogdGhpcy5fd2lkdGhcbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY2VsbFJlbmRlcmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNlbGxSZW5kZXJlcnMoX3JlZjIpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgaGVpZ2h0ID0gX3JlZjIuaGVpZ2h0LFxuICAgICAgICAgIGlzU2Nyb2xsaW5nID0gX3JlZjIuaXNTY3JvbGxpbmcsXG4gICAgICAgICAgd2lkdGggPSBfcmVmMi53aWR0aCxcbiAgICAgICAgICB4ID0gX3JlZjIueCxcbiAgICAgICAgICB5ID0gX3JlZjIueTtcbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjZWxsR3JvdXBSZW5kZXJlciA9IF9wcm9wczIuY2VsbEdyb3VwUmVuZGVyZXIsXG4gICAgICAgICAgY2VsbFJlbmRlcmVyID0gX3Byb3BzMi5jZWxsUmVuZGVyZXI7XG5cbiAgICAgIC8vIFN0b3JlIGZvciBsYXRlciBjYWxscyB0byBnZXRMYXN0UmVuZGVyZWRJbmRpY2VzKClcblxuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkQ2VsbEluZGljZXMgPSB0aGlzLl9zZWN0aW9uTWFuYWdlci5nZXRDZWxsSW5kaWNlcyh7XG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIHg6IHgsXG4gICAgICAgIHk6IHlcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gY2VsbEdyb3VwUmVuZGVyZXIoe1xuICAgICAgICBjZWxsQ2FjaGU6IHRoaXMuX2NlbGxDYWNoZSxcbiAgICAgICAgY2VsbFJlbmRlcmVyOiBjZWxsUmVuZGVyZXIsXG4gICAgICAgIGNlbGxTaXplQW5kUG9zaXRpb25HZXR0ZXI6IGZ1bmN0aW9uIGNlbGxTaXplQW5kUG9zaXRpb25HZXR0ZXIoX3JlZjMpIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSBfcmVmMy5pbmRleDtcbiAgICAgICAgICByZXR1cm4gX3RoaXMyLl9zZWN0aW9uTWFuYWdlci5nZXRDZWxsTWV0YWRhdGEoeyBpbmRleDogaW5kZXggfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGluZGljZXM6IHRoaXMuX2xhc3RSZW5kZXJlZENlbGxJbmRpY2VzLFxuICAgICAgICBpc1Njcm9sbGluZzogaXNTY3JvbGxpbmdcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19pc1Njcm9sbGluZ0NoYW5nZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9pc1Njcm9sbGluZ0NoYW5nZShpc1Njcm9sbGluZykge1xuICAgICAgaWYgKCFpc1Njcm9sbGluZykge1xuICAgICAgICB0aGlzLl9jZWxsQ2FjaGUgPSBbXTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfc2V0Q29sbGVjdGlvblZpZXdSZWYnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0Q29sbGVjdGlvblZpZXdSZWYocmVmKSB7XG4gICAgICB0aGlzLl9jb2xsZWN0aW9uVmlldyA9IHJlZjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29sbGVjdGlvbjtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbkNvbGxlY3Rpb24uZGVmYXVsdFByb3BzID0ge1xuICAnYXJpYS1sYWJlbCc6ICdncmlkJyxcbiAgY2VsbEdyb3VwUmVuZGVyZXI6IGRlZmF1bHRDZWxsR3JvdXBSZW5kZXJlclxufTtcbmV4cG9ydCBkZWZhdWx0IENvbGxlY3Rpb247XG5Db2xsZWN0aW9uLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgJ2FyaWEtbGFiZWwnOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgY2VsbHMgaW4gQ29sbGVjdGlvbi5cbiAgICovXG4gIGNlbGxDb3VudDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBSZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIGEgZ3JvdXAgb2YgY2VsbHMgZ2l2ZW4gdGhlaXIgaW5kaWNlcy5cbiAgICogU2hvdWxkIGltcGxlbWVudCB0aGUgZm9sbG93aW5nIGludGVyZmFjZTogKHtcbiAgICogICBjZWxsU2l6ZUFuZFBvc2l0aW9uR2V0dGVyOkZ1bmN0aW9uLFxuICAgKiAgIGluZGljZXM6IEFycmF5PG51bWJlcj4sXG4gICAqICAgY2VsbFJlbmRlcmVyOiBGdW5jdGlvblxuICAgKiB9KTogQXJyYXk8UHJvcFR5cGVzLm5vZGU+XG4gICAqL1xuICBjZWxsR3JvdXBSZW5kZXJlcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogUmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyBhIGNlbGwgZ2l2ZW4gYW4gcm93IGFuZCBjb2x1bW4gaW5kZXguXG4gICAqIFNob3VsZCBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBpbnRlcmZhY2U6ICh7IGluZGV4OiBudW1iZXIsIGtleTogc3RyaW5nLCBzdHlsZTogb2JqZWN0IH0pOiBQcm9wVHlwZXMuZWxlbWVudFxuICAgKi9cbiAgY2VsbFJlbmRlcmVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayByZXNwb25zaWJsZSBmb3IgcmV0dXJuaW5nIHNpemUgYW5kIG9mZnNldC9wb3NpdGlvbiBpbmZvcm1hdGlvbiBmb3IgYSBnaXZlbiBjZWxsIChpbmRleCkuXG4gICAqICh7IGluZGV4OiBudW1iZXIgfSk6IHsgaGVpZ2h0OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIHg6IG51bWJlciwgeTogbnVtYmVyIH1cbiAgICovXG4gIGNlbGxTaXplQW5kUG9zaXRpb25HZXR0ZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsbHkgb3ZlcnJpZGUgdGhlIHNpemUgb2YgdGhlIHNlY3Rpb25zIGEgQ29sbGVjdGlvbidzIGNlbGxzIGFyZSBzcGxpdCBpbnRvLlxuICAgKi9cbiAgc2VjdGlvblNpemU6IFByb3BUeXBlcy5udW1iZXJcbn0gOiB7fTtcblxuXG5mdW5jdGlvbiBkZWZhdWx0Q2VsbEdyb3VwUmVuZGVyZXIoX3JlZjQpIHtcbiAgdmFyIGNlbGxDYWNoZSA9IF9yZWY0LmNlbGxDYWNoZSxcbiAgICAgIGNlbGxSZW5kZXJlciA9IF9yZWY0LmNlbGxSZW5kZXJlcixcbiAgICAgIGNlbGxTaXplQW5kUG9zaXRpb25HZXR0ZXIgPSBfcmVmNC5jZWxsU2l6ZUFuZFBvc2l0aW9uR2V0dGVyLFxuICAgICAgaW5kaWNlcyA9IF9yZWY0LmluZGljZXMsXG4gICAgICBpc1Njcm9sbGluZyA9IF9yZWY0LmlzU2Nyb2xsaW5nO1xuXG4gIHJldHVybiBpbmRpY2VzLm1hcChmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICB2YXIgY2VsbE1ldGFkYXRhID0gY2VsbFNpemVBbmRQb3NpdGlvbkdldHRlcih7IGluZGV4OiBpbmRleCB9KTtcblxuICAgIHZhciBjZWxsUmVuZGVyZXJQcm9wcyA9IHtcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIGlzU2Nyb2xsaW5nOiBpc1Njcm9sbGluZyxcbiAgICAgIGtleTogaW5kZXgsXG4gICAgICBzdHlsZToge1xuICAgICAgICBoZWlnaHQ6IGNlbGxNZXRhZGF0YS5oZWlnaHQsXG4gICAgICAgIGxlZnQ6IGNlbGxNZXRhZGF0YS54LFxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgdG9wOiBjZWxsTWV0YWRhdGEueSxcbiAgICAgICAgd2lkdGg6IGNlbGxNZXRhZGF0YS53aWR0aFxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBBdm9pZCByZS1jcmVhdGluZyBjZWxscyB3aGlsZSBzY3JvbGxpbmcuXG4gICAgLy8gVGhpcyBjYW4gbGVhZCB0byB0aGUgc2FtZSBjZWxsIGJlaW5nIGNyZWF0ZWQgbWFueSB0aW1lcyBhbmQgY2FuIGNhdXNlIHBlcmZvcm1hbmNlIGlzc3VlcyBmb3IgXCJoZWF2eVwiIGNlbGxzLlxuICAgIC8vIElmIGEgc2Nyb2xsIGlzIGluIHByb2dyZXNzLSBjYWNoZSBhbmQgcmV1c2UgY2VsbHMuXG4gICAgLy8gVGhpcyBjYWNoZSB3aWxsIGJlIHRocm93biBhd2F5IG9uY2Ugc2Nyb2xsaW5nIGNvbXBsZXRzLlxuICAgIGlmIChpc1Njcm9sbGluZykge1xuICAgICAgaWYgKCEoaW5kZXggaW4gY2VsbENhY2hlKSkge1xuICAgICAgICBjZWxsQ2FjaGVbaW5kZXhdID0gY2VsbFJlbmRlcmVyKGNlbGxSZW5kZXJlclByb3BzKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNlbGxDYWNoZVtpbmRleF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjZWxsUmVuZGVyZXIoY2VsbFJlbmRlcmVyUHJvcHMpO1xuICAgIH1cbiAgfSkuZmlsdGVyKGZ1bmN0aW9uIChyZW5kZXJlZENlbGwpIHtcbiAgICByZXR1cm4gISFyZW5kZXJlZENlbGw7XG4gIH0pO1xufVxuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Njcm9sbFBvc2l0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfU2l6ZUluZm8gfSBmcm9tICcuL3R5cGVzJzsiLCJpbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuL0NvbGxlY3Rpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBDb2xsZWN0aW9uO1xuZXhwb3J0IHsgQ29sbGVjdGlvbiB9OyIsImltcG9ydCBfT2JqZWN0JGdldFByb3RvdHlwZU9mIGZyb20gJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZic7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBIaWdoLW9yZGVyIGNvbXBvbmVudCB0aGF0IGF1dG8tY2FsY3VsYXRlcyBjb2x1bW4td2lkdGhzIGZvciBgR3JpZGAgY2VsbHMuXG4gKi9cblxudmFyIENvbHVtblNpemVyID0gZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDb2x1bW5TaXplciwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENvbHVtblNpemVyKHByb3BzLCBjb250ZXh0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbHVtblNpemVyKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDb2x1bW5TaXplci5fX3Byb3RvX18gfHwgX09iamVjdCRnZXRQcm90b3R5cGVPZihDb2x1bW5TaXplcikpLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpKTtcblxuICAgIF90aGlzLl9yZWdpc3RlckNoaWxkID0gX3RoaXMuX3JlZ2lzdGVyQ2hpbGQuYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENvbHVtblNpemVyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNvbHVtbk1heFdpZHRoID0gX3Byb3BzLmNvbHVtbk1heFdpZHRoLFxuICAgICAgICAgIGNvbHVtbk1pbldpZHRoID0gX3Byb3BzLmNvbHVtbk1pbldpZHRoLFxuICAgICAgICAgIGNvbHVtbkNvdW50ID0gX3Byb3BzLmNvbHVtbkNvdW50LFxuICAgICAgICAgIHdpZHRoID0gX3Byb3BzLndpZHRoO1xuXG5cbiAgICAgIGlmIChjb2x1bW5NYXhXaWR0aCAhPT0gcHJldlByb3BzLmNvbHVtbk1heFdpZHRoIHx8IGNvbHVtbk1pbldpZHRoICE9PSBwcmV2UHJvcHMuY29sdW1uTWluV2lkdGggfHwgY29sdW1uQ291bnQgIT09IHByZXZQcm9wcy5jb2x1bW5Db3VudCB8fCB3aWR0aCAhPT0gcHJldlByb3BzLndpZHRoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWdpc3RlcmVkQ2hpbGQpIHtcbiAgICAgICAgICB0aGlzLl9yZWdpc3RlcmVkQ2hpbGQucmVjb21wdXRlR3JpZFNpemUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wczIuY2hpbGRyZW4sXG4gICAgICAgICAgY29sdW1uTWF4V2lkdGggPSBfcHJvcHMyLmNvbHVtbk1heFdpZHRoLFxuICAgICAgICAgIGNvbHVtbk1pbldpZHRoID0gX3Byb3BzMi5jb2x1bW5NaW5XaWR0aCxcbiAgICAgICAgICBjb2x1bW5Db3VudCA9IF9wcm9wczIuY29sdW1uQ291bnQsXG4gICAgICAgICAgd2lkdGggPSBfcHJvcHMyLndpZHRoO1xuXG5cbiAgICAgIHZhciBzYWZlQ29sdW1uTWluV2lkdGggPSBjb2x1bW5NaW5XaWR0aCB8fCAxO1xuXG4gICAgICB2YXIgc2FmZUNvbHVtbk1heFdpZHRoID0gY29sdW1uTWF4V2lkdGggPyBNYXRoLm1pbihjb2x1bW5NYXhXaWR0aCwgd2lkdGgpIDogd2lkdGg7XG5cbiAgICAgIHZhciBjb2x1bW5XaWR0aCA9IHdpZHRoIC8gY29sdW1uQ291bnQ7XG4gICAgICBjb2x1bW5XaWR0aCA9IE1hdGgubWF4KHNhZmVDb2x1bW5NaW5XaWR0aCwgY29sdW1uV2lkdGgpO1xuICAgICAgY29sdW1uV2lkdGggPSBNYXRoLm1pbihzYWZlQ29sdW1uTWF4V2lkdGgsIGNvbHVtbldpZHRoKTtcbiAgICAgIGNvbHVtbldpZHRoID0gTWF0aC5mbG9vcihjb2x1bW5XaWR0aCk7XG5cbiAgICAgIHZhciBhZGp1c3RlZFdpZHRoID0gTWF0aC5taW4od2lkdGgsIGNvbHVtbldpZHRoICogY29sdW1uQ291bnQpO1xuXG4gICAgICByZXR1cm4gY2hpbGRyZW4oe1xuICAgICAgICBhZGp1c3RlZFdpZHRoOiBhZGp1c3RlZFdpZHRoLFxuICAgICAgICBjb2x1bW5XaWR0aDogY29sdW1uV2lkdGgsXG4gICAgICAgIGdldENvbHVtbldpZHRoOiBmdW5jdGlvbiBnZXRDb2x1bW5XaWR0aCgpIHtcbiAgICAgICAgICByZXR1cm4gY29sdW1uV2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIHJlZ2lzdGVyQ2hpbGQ6IHRoaXMuX3JlZ2lzdGVyQ2hpbGRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19yZWdpc3RlckNoaWxkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlZ2lzdGVyQ2hpbGQoY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZCAmJiB0eXBlb2YgY2hpbGQucmVjb21wdXRlR3JpZFNpemUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ1VuZXhwZWN0ZWQgY2hpbGQgdHlwZSByZWdpc3RlcmVkOyBvbmx5IEdyaWQvTXVsdGlHcmlkIGNoaWxkcmVuIGFyZSBzdXBwb3J0ZWQuJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3JlZ2lzdGVyZWRDaGlsZCA9IGNoaWxkO1xuXG4gICAgICBpZiAodGhpcy5fcmVnaXN0ZXJlZENoaWxkKSB7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyZWRDaGlsZC5yZWNvbXB1dGVHcmlkU2l6ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDb2x1bW5TaXplcjtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IENvbHVtblNpemVyO1xuQ29sdW1uU2l6ZXIucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKipcbiAgICogRnVuY3Rpb24gcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyBhIHZpcnR1YWxpemVkIEdyaWQuXG4gICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGltcGxlbWVudCB0aGUgZm9sbG93aW5nIHNpZ25hdHVyZTpcbiAgICogKHsgYWRqdXN0ZWRXaWR0aCwgZ2V0Q29sdW1uV2lkdGgsIHJlZ2lzdGVyQ2hpbGQgfSkgPT4gUHJvcFR5cGVzLmVsZW1lbnRcbiAgICpcbiAgICogVGhlIHNwZWNpZmllZCA6Z2V0Q29sdW1uV2lkdGggZnVuY3Rpb24gc2hvdWxkIGJlIHBhc3NlZCB0byB0aGUgR3JpZCdzIDpjb2x1bW5XaWR0aCBwcm9wZXJ0eS5cbiAgICogVGhlIDpyZWdpc3RlckNoaWxkIHNob3VsZCBiZSBwYXNzZWQgdG8gdGhlIEdyaWQncyA6cmVmIHByb3BlcnR5LlxuICAgKiBUaGUgOmFkanVzdGVkV2lkdGggcHJvcGVydHkgaXMgb3B0aW9uYWw7IGl0IHJlZmxlY3RzIHRoZSBsZXNzZXIgb2YgdGhlIG92ZXJhbGwgd2lkdGggb3IgdGhlIHdpZHRoIG9mIGFsbCBjb2x1bW5zLlxuICAgKi9cbiAgY2hpbGRyZW46IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgLyoqIE9wdGlvbmFsIG1heGltdW0gYWxsb3dlZCBjb2x1bW4gd2lkdGggKi9cbiAgY29sdW1uTWF4V2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgLyoqIE9wdGlvbmFsIG1pbmltdW0gYWxsb3dlZCBjb2x1bW4gd2lkdGggKi9cbiAgY29sdW1uTWluV2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgLyoqIE51bWJlciBvZiBjb2x1bW5zIGluIEdyaWQgb3IgVGFibGUgY2hpbGQgKi9cbiAgY29sdW1uQ291bnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKiogV2lkdGggb2YgR3JpZCBvciBUYWJsZSBjaGlsZCAqL1xuICB3aWR0aDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59IDoge307IiwiaW1wb3J0IENvbHVtblNpemVyIGZyb20gJy4vQ29sdW1uU2l6ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBDb2x1bW5TaXplcjtcbmV4cG9ydCB7IENvbHVtblNpemVyIH07IiwiaW1wb3J0IF9PYmplY3QkZ2V0UHJvdG90eXBlT2YgZnJvbSAnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIgZnJvbSAnLi4vdXRpbHMvY3JlYXRlQ2FsbGJhY2tNZW1vaXplcic7XG5cbi8qKlxuICogSGlnaGVyLW9yZGVyIGNvbXBvbmVudCB0aGF0IG1hbmFnZXMgbGF6eS1sb2FkaW5nIGZvciBcImluZmluaXRlXCIgZGF0YS5cbiAqIFRoaXMgY29tcG9uZW50IGRlY29yYXRlcyBhIHZpcnR1YWwgY29tcG9uZW50IGFuZCBqdXN0LWluLXRpbWUgcHJlZmV0Y2hlcyByb3dzIGFzIGEgdXNlciBzY3JvbGxzLlxuICogSXQgaXMgaW50ZW5kZWQgYXMgYSBjb252ZW5pZW5jZSBjb21wb25lbnQ7IGZvcmsgaXQgaWYgeW91J2QgbGlrZSBmaW5lci1ncmFpbmVkIGNvbnRyb2wgb3ZlciBkYXRhLWxvYWRpbmcuXG4gKi9cblxudmFyIEluZmluaXRlTG9hZGVyID0gZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhJbmZpbml0ZUxvYWRlciwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIEluZmluaXRlTG9hZGVyKHByb3BzLCBjb250ZXh0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEluZmluaXRlTG9hZGVyKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChJbmZpbml0ZUxvYWRlci5fX3Byb3RvX18gfHwgX09iamVjdCRnZXRQcm90b3R5cGVPZihJbmZpbml0ZUxvYWRlcikpLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpKTtcblxuICAgIF90aGlzLl9sb2FkTW9yZVJvd3NNZW1vaXplciA9IGNyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIoKTtcblxuICAgIF90aGlzLl9vblJvd3NSZW5kZXJlZCA9IF90aGlzLl9vblJvd3NSZW5kZXJlZC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5fcmVnaXN0ZXJDaGlsZCA9IF90aGlzLl9yZWdpc3RlckNoaWxkLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhJbmZpbml0ZUxvYWRlciwgW3tcbiAgICBrZXk6ICdyZXNldExvYWRNb3JlUm93c0NhY2hlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVzZXRMb2FkTW9yZVJvd3NDYWNoZShhdXRvUmVsb2FkKSB7XG4gICAgICB0aGlzLl9sb2FkTW9yZVJvd3NNZW1vaXplciA9IGNyZWF0ZUNhbGxiYWNrTWVtb2l6ZXIoKTtcblxuICAgICAgaWYgKGF1dG9SZWxvYWQpIHtcbiAgICAgICAgdGhpcy5fZG9TdHVmZih0aGlzLl9sYXN0UmVuZGVyZWRTdGFydEluZGV4LCB0aGlzLl9sYXN0UmVuZGVyZWRTdG9wSW5kZXgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cblxuICAgICAgcmV0dXJuIGNoaWxkcmVuKHtcbiAgICAgICAgb25Sb3dzUmVuZGVyZWQ6IHRoaXMuX29uUm93c1JlbmRlcmVkLFxuICAgICAgICByZWdpc3RlckNoaWxkOiB0aGlzLl9yZWdpc3RlckNoaWxkXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfbG9hZFVubG9hZGVkUmFuZ2VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2xvYWRVbmxvYWRlZFJhbmdlcyh1bmxvYWRlZFJhbmdlcykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBsb2FkTW9yZVJvd3MgPSB0aGlzLnByb3BzLmxvYWRNb3JlUm93cztcblxuXG4gICAgICB1bmxvYWRlZFJhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uICh1bmxvYWRlZFJhbmdlKSB7XG4gICAgICAgIHZhciBwcm9taXNlID0gbG9hZE1vcmVSb3dzKHVubG9hZGVkUmFuZ2UpO1xuICAgICAgICBpZiAocHJvbWlzZSkge1xuICAgICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBSZWZyZXNoIHRoZSB2aXNpYmxlIHJvd3MgaWYgYW55IG9mIHRoZW0gaGF2ZSBqdXN0IGJlZW4gbG9hZGVkLlxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZXkgd2lsbCByZW1haW4gaW4gdGhlaXIgdW5sb2FkZWQgdmlzdWFsIHN0YXRlLlxuICAgICAgICAgICAgaWYgKGlzUmFuZ2VWaXNpYmxlKHtcbiAgICAgICAgICAgICAgbGFzdFJlbmRlcmVkU3RhcnRJbmRleDogX3RoaXMyLl9sYXN0UmVuZGVyZWRTdGFydEluZGV4LFxuICAgICAgICAgICAgICBsYXN0UmVuZGVyZWRTdG9wSW5kZXg6IF90aGlzMi5fbGFzdFJlbmRlcmVkU3RvcEluZGV4LFxuICAgICAgICAgICAgICBzdGFydEluZGV4OiB1bmxvYWRlZFJhbmdlLnN0YXJ0SW5kZXgsXG4gICAgICAgICAgICAgIHN0b3BJbmRleDogdW5sb2FkZWRSYW5nZS5zdG9wSW5kZXhcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgIGlmIChfdGhpczIuX3JlZ2lzdGVyZWRDaGlsZCkge1xuICAgICAgICAgICAgICAgIGZvcmNlVXBkYXRlUmVhY3RWaXJ0dWFsaXplZENvbXBvbmVudChfdGhpczIuX3JlZ2lzdGVyZWRDaGlsZCwgX3RoaXMyLl9sYXN0UmVuZGVyZWRTdGFydEluZGV4KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfb25Sb3dzUmVuZGVyZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Sb3dzUmVuZGVyZWQoX3JlZikge1xuICAgICAgdmFyIHN0YXJ0SW5kZXggPSBfcmVmLnN0YXJ0SW5kZXgsXG4gICAgICAgICAgc3RvcEluZGV4ID0gX3JlZi5zdG9wSW5kZXg7XG5cbiAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZFN0YXJ0SW5kZXggPSBzdGFydEluZGV4O1xuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkU3RvcEluZGV4ID0gc3RvcEluZGV4O1xuXG4gICAgICB0aGlzLl9kb1N0dWZmKHN0YXJ0SW5kZXgsIHN0b3BJbmRleCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2RvU3R1ZmYnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZG9TdHVmZihzdGFydEluZGV4LCBzdG9wSW5kZXgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBpc1Jvd0xvYWRlZCA9IF9wcm9wcy5pc1Jvd0xvYWRlZCxcbiAgICAgICAgICBtaW5pbXVtQmF0Y2hTaXplID0gX3Byb3BzLm1pbmltdW1CYXRjaFNpemUsXG4gICAgICAgICAgcm93Q291bnQgPSBfcHJvcHMucm93Q291bnQsXG4gICAgICAgICAgdGhyZXNob2xkID0gX3Byb3BzLnRocmVzaG9sZDtcblxuXG4gICAgICB2YXIgdW5sb2FkZWRSYW5nZXMgPSBzY2FuRm9yVW5sb2FkZWRSYW5nZXMoe1xuICAgICAgICBpc1Jvd0xvYWRlZDogaXNSb3dMb2FkZWQsXG4gICAgICAgIG1pbmltdW1CYXRjaFNpemU6IG1pbmltdW1CYXRjaFNpemUsXG4gICAgICAgIHJvd0NvdW50OiByb3dDb3VudCxcbiAgICAgICAgc3RhcnRJbmRleDogTWF0aC5tYXgoMCwgc3RhcnRJbmRleCAtIHRocmVzaG9sZCksXG4gICAgICAgIHN0b3BJbmRleDogTWF0aC5taW4ocm93Q291bnQgLSAxLCBzdG9wSW5kZXggKyB0aHJlc2hvbGQpXG4gICAgICB9KTtcblxuICAgICAgLy8gRm9yIG1lbW9pemUgY29tcGFyaXNvblxuICAgICAgdmFyIHNxdWFzaGVkVW5sb2FkZWRSYW5nZXMgPSB1bmxvYWRlZFJhbmdlcy5yZWR1Y2UoZnVuY3Rpb24gKHJlZHVjZWQsIHVubG9hZGVkUmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHJlZHVjZWQuY29uY2F0KFt1bmxvYWRlZFJhbmdlLnN0YXJ0SW5kZXgsIHVubG9hZGVkUmFuZ2Uuc3RvcEluZGV4XSk7XG4gICAgICB9LCBbXSk7XG5cbiAgICAgIHRoaXMuX2xvYWRNb3JlUm93c01lbW9pemVyKHtcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgICAgIF90aGlzMy5fbG9hZFVubG9hZGVkUmFuZ2VzKHVubG9hZGVkUmFuZ2VzKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5kaWNlczogeyBzcXVhc2hlZFVubG9hZGVkUmFuZ2VzOiBzcXVhc2hlZFVubG9hZGVkUmFuZ2VzIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19yZWdpc3RlckNoaWxkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlZ2lzdGVyQ2hpbGQocmVnaXN0ZXJlZENoaWxkKSB7XG4gICAgICB0aGlzLl9yZWdpc3RlcmVkQ2hpbGQgPSByZWdpc3RlcmVkQ2hpbGQ7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEluZmluaXRlTG9hZGVyO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBzcGVjaWZpZWQgc3RhcnQvc3RvcCByYW5nZSBpcyB2aXNpYmxlIGJhc2VkIG9uIHRoZSBtb3N0IHJlY2VudGx5IHJlbmRlcmVkIHJhbmdlLlxuICovXG5cblxuSW5maW5pdGVMb2FkZXIuZGVmYXVsdFByb3BzID0ge1xuICBtaW5pbXVtQmF0Y2hTaXplOiAxMCxcbiAgcm93Q291bnQ6IDAsXG4gIHRocmVzaG9sZDogMTVcbn07XG5leHBvcnQgZGVmYXVsdCBJbmZpbml0ZUxvYWRlcjtcbkluZmluaXRlTG9hZGVyLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgYSB2aXJ0dWFsaXplZCBjb21wb25lbnQuXG4gICAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGltcGxlbWVudCB0aGUgZm9sbG93aW5nIHNpZ25hdHVyZTpcbiAgICogKHsgb25Sb3dzUmVuZGVyZWQsIHJlZ2lzdGVyQ2hpbGQgfSkgPT4gUHJvcFR5cGVzLmVsZW1lbnRcbiAgICpcbiAgICogVGhlIHNwZWNpZmllZCA6b25Sb3dzUmVuZGVyZWQgZnVuY3Rpb24gc2hvdWxkIGJlIHBhc3NlZCB0aHJvdWdoIHRvIHRoZSBjaGlsZCdzIDpvblJvd3NSZW5kZXJlZCBwcm9wZXJ0eS5cbiAgICogVGhlIDpyZWdpc3RlckNoaWxkIGNhbGxiYWNrIHNob3VsZCBiZSBzZXQgYXMgdGhlIHZpcnR1YWxpemVkIGNvbXBvbmVudCdzIDpyZWYuXG4gICAqL1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogRnVuY3Rpb24gcmVzcG9uc2libGUgZm9yIHRyYWNraW5nIHRoZSBsb2FkZWQgc3RhdGUgb2YgZWFjaCByb3cuXG4gICAqIEl0IHNob3VsZCBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBzaWduYXR1cmU6ICh7IGluZGV4OiBudW1iZXIgfSk6IGJvb2xlYW5cbiAgICovXG4gIGlzUm93TG9hZGVkOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayB0byBiZSBpbnZva2VkIHdoZW4gbW9yZSByb3dzIG11c3QgYmUgbG9hZGVkLlxuICAgKiBJdCBzaG91bGQgaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgc2lnbmF0dXJlOiAoeyBzdGFydEluZGV4LCBzdG9wSW5kZXggfSk6IFByb21pc2VcbiAgICogVGhlIHJldHVybmVkIFByb21pc2Ugc2hvdWxkIGJlIHJlc29sdmVkIG9uY2Ugcm93IGRhdGEgaGFzIGZpbmlzaGVkIGxvYWRpbmcuXG4gICAqIEl0IHdpbGwgYmUgdXNlZCB0byBkZXRlcm1pbmUgd2hlbiB0byByZWZyZXNoIHRoZSBsaXN0IHdpdGggdGhlIG5ld2x5LWxvYWRlZCBkYXRhLlxuICAgKiBUaGlzIGNhbGxiYWNrIG1heSBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgaW4gcmVhY3Rpb24gdG8gYSBzaW5nbGUgc2Nyb2xsIGV2ZW50LlxuICAgKi9cbiAgbG9hZE1vcmVSb3dzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBNaW5pbXVtIG51bWJlciBvZiByb3dzIHRvIGJlIGxvYWRlZCBhdCBhIHRpbWUuXG4gICAqIFRoaXMgcHJvcGVydHkgY2FuIGJlIHVzZWQgdG8gYmF0Y2ggcmVxdWVzdHMgdG8gcmVkdWNlIEhUVFAgcmVxdWVzdHMuXG4gICAqL1xuICBtaW5pbXVtQmF0Y2hTaXplOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIE51bWJlciBvZiByb3dzIGluIGxpc3Q7IGNhbiBiZSBhcmJpdHJhcnkgaGlnaCBudW1iZXIgaWYgYWN0dWFsIG51bWJlciBpcyB1bmtub3duLlxuICAgKi9cbiAgcm93Q291bnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogVGhyZXNob2xkIGF0IHdoaWNoIHRvIHByZS1mZXRjaCBkYXRhLlxuICAgKiBBIHRocmVzaG9sZCBYIG1lYW5zIHRoYXQgZGF0YSB3aWxsIHN0YXJ0IGxvYWRpbmcgd2hlbiBhIHVzZXIgc2Nyb2xscyB3aXRoaW4gWCByb3dzLlxuICAgKiBUaGlzIHZhbHVlIGRlZmF1bHRzIHRvIDE1LlxuICAgKi9cbiAgdGhyZXNob2xkOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn0gOiB7fTtcbmV4cG9ydCBmdW5jdGlvbiBpc1JhbmdlVmlzaWJsZShfcmVmMikge1xuICB2YXIgbGFzdFJlbmRlcmVkU3RhcnRJbmRleCA9IF9yZWYyLmxhc3RSZW5kZXJlZFN0YXJ0SW5kZXgsXG4gICAgICBsYXN0UmVuZGVyZWRTdG9wSW5kZXggPSBfcmVmMi5sYXN0UmVuZGVyZWRTdG9wSW5kZXgsXG4gICAgICBzdGFydEluZGV4ID0gX3JlZjIuc3RhcnRJbmRleCxcbiAgICAgIHN0b3BJbmRleCA9IF9yZWYyLnN0b3BJbmRleDtcblxuICByZXR1cm4gIShzdGFydEluZGV4ID4gbGFzdFJlbmRlcmVkU3RvcEluZGV4IHx8IHN0b3BJbmRleCA8IGxhc3RSZW5kZXJlZFN0YXJ0SW5kZXgpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYWxsIG9mIHRoZSByYW5nZXMgd2l0aGluIGEgbGFyZ2VyIHJhbmdlIHRoYXQgY29udGFpbiB1bmxvYWRlZCByb3dzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2NhbkZvclVubG9hZGVkUmFuZ2VzKF9yZWYzKSB7XG4gIHZhciBpc1Jvd0xvYWRlZCA9IF9yZWYzLmlzUm93TG9hZGVkLFxuICAgICAgbWluaW11bUJhdGNoU2l6ZSA9IF9yZWYzLm1pbmltdW1CYXRjaFNpemUsXG4gICAgICByb3dDb3VudCA9IF9yZWYzLnJvd0NvdW50LFxuICAgICAgc3RhcnRJbmRleCA9IF9yZWYzLnN0YXJ0SW5kZXgsXG4gICAgICBzdG9wSW5kZXggPSBfcmVmMy5zdG9wSW5kZXg7XG5cbiAgdmFyIHVubG9hZGVkUmFuZ2VzID0gW107XG5cbiAgdmFyIHJhbmdlU3RhcnRJbmRleCA9IG51bGw7XG4gIHZhciByYW5nZVN0b3BJbmRleCA9IG51bGw7XG5cbiAgZm9yICh2YXIgaW5kZXggPSBzdGFydEluZGV4OyBpbmRleCA8PSBzdG9wSW5kZXg7IGluZGV4KyspIHtcbiAgICB2YXIgbG9hZGVkID0gaXNSb3dMb2FkZWQoeyBpbmRleDogaW5kZXggfSk7XG5cbiAgICBpZiAoIWxvYWRlZCkge1xuICAgICAgcmFuZ2VTdG9wSW5kZXggPSBpbmRleDtcbiAgICAgIGlmIChyYW5nZVN0YXJ0SW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgcmFuZ2VTdGFydEluZGV4ID0gaW5kZXg7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyYW5nZVN0b3BJbmRleCAhPT0gbnVsbCkge1xuICAgICAgdW5sb2FkZWRSYW5nZXMucHVzaCh7XG4gICAgICAgIHN0YXJ0SW5kZXg6IHJhbmdlU3RhcnRJbmRleCxcbiAgICAgICAgc3RvcEluZGV4OiByYW5nZVN0b3BJbmRleFxuICAgICAgfSk7XG5cbiAgICAgIHJhbmdlU3RhcnRJbmRleCA9IHJhbmdlU3RvcEluZGV4ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBJZiA6cmFuZ2VTdG9wSW5kZXggaXMgbm90IG51bGwgaXQgbWVhbnMgd2UgaGF2ZW4ndCByYW4gb3V0IG9mIHVubG9hZGVkIHJvd3MuXG4gIC8vIFNjYW4gZm9yd2FyZCB0byB0cnkgZmlsbGluZyBvdXIgOm1pbmltdW1CYXRjaFNpemUuXG4gIGlmIChyYW5nZVN0b3BJbmRleCAhPT0gbnVsbCkge1xuICAgIHZhciBwb3RlbnRpYWxTdG9wSW5kZXggPSBNYXRoLm1pbihNYXRoLm1heChyYW5nZVN0b3BJbmRleCwgcmFuZ2VTdGFydEluZGV4ICsgbWluaW11bUJhdGNoU2l6ZSAtIDEpLCByb3dDb3VudCAtIDEpO1xuXG4gICAgZm9yICh2YXIgX2luZGV4ID0gcmFuZ2VTdG9wSW5kZXggKyAxOyBfaW5kZXggPD0gcG90ZW50aWFsU3RvcEluZGV4OyBfaW5kZXgrKykge1xuICAgICAgaWYgKCFpc1Jvd0xvYWRlZCh7IGluZGV4OiBfaW5kZXggfSkpIHtcbiAgICAgICAgcmFuZ2VTdG9wSW5kZXggPSBfaW5kZXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1bmxvYWRlZFJhbmdlcy5wdXNoKHtcbiAgICAgIHN0YXJ0SW5kZXg6IHJhbmdlU3RhcnRJbmRleCxcbiAgICAgIHN0b3BJbmRleDogcmFuZ2VTdG9wSW5kZXhcbiAgICB9KTtcbiAgfVxuXG4gIC8vIENoZWNrIHRvIHNlZSBpZiBvdXIgZmlyc3QgcmFuZ2UgZW5kZWQgcHJlbWF0dXJlbHkuXG4gIC8vIEluIHRoaXMgY2FzZSB3ZSBzaG91bGQgc2NhbiBiYWNrd2FyZHMgdG8gdHJ5IGZpbGxpbmcgb3VyIDptaW5pbXVtQmF0Y2hTaXplLlxuICBpZiAodW5sb2FkZWRSYW5nZXMubGVuZ3RoKSB7XG4gICAgdmFyIGZpcnN0VW5sb2FkZWRSYW5nZSA9IHVubG9hZGVkUmFuZ2VzWzBdO1xuXG4gICAgd2hpbGUgKGZpcnN0VW5sb2FkZWRSYW5nZS5zdG9wSW5kZXggLSBmaXJzdFVubG9hZGVkUmFuZ2Uuc3RhcnRJbmRleCArIDEgPCBtaW5pbXVtQmF0Y2hTaXplICYmIGZpcnN0VW5sb2FkZWRSYW5nZS5zdGFydEluZGV4ID4gMCkge1xuICAgICAgdmFyIF9pbmRleDIgPSBmaXJzdFVubG9hZGVkUmFuZ2Uuc3RhcnRJbmRleCAtIDE7XG5cbiAgICAgIGlmICghaXNSb3dMb2FkZWQoeyBpbmRleDogX2luZGV4MiB9KSkge1xuICAgICAgICBmaXJzdFVubG9hZGVkUmFuZ2Uuc3RhcnRJbmRleCA9IF9pbmRleDI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdW5sb2FkZWRSYW5nZXM7XG59XG5cbi8qKlxuICogU2luY2UgUlYgY29tcG9uZW50cyB1c2Ugc2hhbGxvd0NvbXBhcmUgd2UgbmVlZCB0byBmb3JjZSBhIHJlbmRlciAoZXZlbiB0aG91Z2ggcHJvcHMgaGF2ZW4ndCBjaGFuZ2VkKS5cbiAqIEhvd2V2ZXIgSW5maW5pdGVMb2FkZXIgbWF5IHdyYXAgYSBHcmlkIG9yIGl0IG1heSB3cmFwIGEgVGFibGUgb3IgTGlzdC5cbiAqIEluIHRoZSBmaXJzdCBjYXNlIHRoZSBidWlsdC1pbiBSZWFjdCBmb3JjZVVwZGF0ZSgpIG1ldGhvZCBpcyBzdWZmaWNpZW50IHRvIGZvcmNlIGEgcmUtcmVuZGVyLFxuICogQnV0IGluIHRoZSBsYXR0ZXIgY2FzZXMgd2UgbmVlZCB0byB1c2UgdGhlIFJWLXNwZWNpZmljIGZvcmNlVXBkYXRlR3JpZCgpIG1ldGhvZC5cbiAqIEVsc2UgdGhlIGlubmVyIEdyaWQgd2lsbCBub3QgYmUgcmUtcmVuZGVyZWQgYW5kIHZpc3VhbHMgbWF5IGJlIHN0YWxlLlxuICpcbiAqIEFkZGl0aW9uYWxseSwgd2hpbGUgYSBHcmlkIGlzIHNjcm9sbGluZyB0aGUgY2VsbHMgY2FuIGJlIGNhY2hlZCxcbiAqIFNvIGl0J3MgaW1wb3J0YW50IHRvIGludmFsaWRhdGUgdGhhdCBjYWNoZSBieSByZWNhbGN1bGF0aW5nIHNpemVzXG4gKiBiZWZvcmUgZm9yY2luZyBhIHJlcmVuZGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yY2VVcGRhdGVSZWFjdFZpcnR1YWxpemVkQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICB2YXIgY3VycmVudEluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuXG4gIHZhciByZWNvbXB1dGVTaXplID0gdHlwZW9mIGNvbXBvbmVudC5yZWNvbXB1dGVHcmlkU2l6ZSA9PT0gJ2Z1bmN0aW9uJyA/IGNvbXBvbmVudC5yZWNvbXB1dGVHcmlkU2l6ZSA6IGNvbXBvbmVudC5yZWNvbXB1dGVSb3dIZWlnaHRzO1xuXG4gIGlmIChyZWNvbXB1dGVTaXplKSB7XG4gICAgcmVjb21wdXRlU2l6ZS5jYWxsKGNvbXBvbmVudCwgY3VycmVudEluZGV4KTtcbiAgfSBlbHNlIHtcbiAgICBjb21wb25lbnQuZm9yY2VVcGRhdGUoKTtcbiAgfVxufSIsImltcG9ydCBJbmZpbml0ZUxvYWRlciBmcm9tICcuL0luZmluaXRlTG9hZGVyJztcblxuZXhwb3J0IGRlZmF1bHQgSW5maW5pdGVMb2FkZXI7XG5leHBvcnQgeyBJbmZpbml0ZUxvYWRlciB9OyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIGJwZnJwdF9wcm9wdHlwZV9Sb3dSZW5kZXJlclBhcmFtcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBpbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBpc1Njcm9sbGluZzogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgaXNWaXNpYmxlOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBrZXk6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgcGFyZW50OiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWRcbn07XG52YXIgYnBmcnB0X3Byb3B0eXBlX1Jvd1JlbmRlcmVyID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiBQcm9wVHlwZXMuZnVuYztcbnZhciBicGZycHRfcHJvcHR5cGVfUmVuZGVyZWRSb3dzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIG92ZXJzY2FuU3RhcnRJbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBvdmVyc2NhblN0b3BJbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBzdGFydEluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIHN0b3BJbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59O1xudmFyIGJwZnJwdF9wcm9wdHlwZV9TY3JvbGwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgY2xpZW50SGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIHNjcm9sbEhlaWdodDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBzY3JvbGxUb3A6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfUm93UmVuZGVyZXJQYXJhbXMgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9Sb3dSZW5kZXJlciB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1JlbmRlcmVkUm93cyB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Njcm9sbCB9OyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX09iamVjdCRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgZnJvbSAnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3InO1xuaW1wb3J0IF9PYmplY3QkZ2V0UHJvdG90eXBlT2YgZnJvbSAnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgR3JpZCwgeyBhY2Nlc3NpYmlsaXR5T3ZlcnNjYW5JbmRpY2VzR2V0dGVyIH0gZnJvbSAnLi4vR3JpZCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY24gZnJvbSAnY2xhc3NuYW1lcyc7XG5cbi8qKlxuICogSXQgaXMgaW5lZmZpY2llbnQgdG8gY3JlYXRlIGFuZCBtYW5hZ2UgYSBsYXJnZSBsaXN0IG9mIERPTSBlbGVtZW50cyB3aXRoaW4gYSBzY3JvbGxpbmcgY29udGFpbmVyXG4gKiBpZiBvbmx5IGEgZmV3IG9mIHRob3NlIGVsZW1lbnRzIGFyZSB2aXNpYmxlLiBUaGUgcHJpbWFyeSBwdXJwb3NlIG9mIHRoaXMgY29tcG9uZW50IGlzIHRvIGltcHJvdmVcbiAqIHBlcmZvcm1hbmNlIGJ5IG9ubHkgcmVuZGVyaW5nIHRoZSBET00gbm9kZXMgdGhhdCBhIHVzZXIgaXMgYWJsZSB0byBzZWUgYmFzZWQgb24gdGhlaXIgY3VycmVudFxuICogc2Nyb2xsIHBvc2l0aW9uLlxuICpcbiAqIFRoaXMgY29tcG9uZW50IHJlbmRlcnMgYSB2aXJ0dWFsaXplZCBsaXN0IG9mIGVsZW1lbnRzIHdpdGggZWl0aGVyIGZpeGVkIG9yIGR5bmFtaWMgaGVpZ2h0cy5cbiAqL1xuXG52YXIgTGlzdCA9IGZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTGlzdCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIExpc3QoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpc3QpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX3JlZiA9IExpc3QuX19wcm90b19fIHx8IF9PYmplY3QkZ2V0UHJvdG90eXBlT2YoTGlzdCkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLl9jZWxsUmVuZGVyZXIgPSBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBfcmVmMi5wYXJlbnQsXG4gICAgICAgICAgcm93SW5kZXggPSBfcmVmMi5yb3dJbmRleCxcbiAgICAgICAgICBzdHlsZSA9IF9yZWYyLnN0eWxlLFxuICAgICAgICAgIGlzU2Nyb2xsaW5nID0gX3JlZjIuaXNTY3JvbGxpbmcsXG4gICAgICAgICAgaXNWaXNpYmxlID0gX3JlZjIuaXNWaXNpYmxlLFxuICAgICAgICAgIGtleSA9IF9yZWYyLmtleTtcbiAgICAgIHZhciByb3dSZW5kZXJlciA9IF90aGlzLnByb3BzLnJvd1JlbmRlcmVyO1xuXG4gICAgICAvLyBUUklDS1kgVGhlIHN0eWxlIG9iamVjdCBpcyBzb21ldGltZXMgY2FjaGVkIGJ5IEdyaWQuXG4gICAgICAvLyBUaGlzIHByZXZlbnRzIG5ldyBzdHlsZSBvYmplY3RzIGZyb20gYnlwYXNzaW5nIHNoYWxsb3dDb21wYXJlKCkuXG4gICAgICAvLyBIb3dldmVyIGFzIG9mIFJlYWN0IDE2LCBzdHlsZSBwcm9wcyBhcmUgYXV0by1mcm96ZW4gKGF0IGxlYXN0IGluIGRldiBtb2RlKVxuICAgICAgLy8gQ2hlY2sgdG8gbWFrZSBzdXJlIHdlIGNhbiBzdGlsbCBtb2RpZnkgdGhlIHN0eWxlIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2NvbW1pdC85NzczNTc3NjViNDRhZjhmZjBjZmVhMzI3ODY2ODYxMDczMDk1YzEyI2NvbW1pdGNvbW1lbnQtMjA2NDg3MTNcblxuICAgICAgdmFyIF9PYmplY3QkZ2V0T3duUHJvcGVydCA9IF9PYmplY3QkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHN0eWxlLCAnd2lkdGgnKSxcbiAgICAgICAgICB3cml0YWJsZSA9IF9PYmplY3QkZ2V0T3duUHJvcGVydC53cml0YWJsZTtcblxuICAgICAgaWYgKHdyaXRhYmxlKSB7XG4gICAgICAgIC8vIEJ5IGRlZmF1bHQsIExpc3QgY2VsbHMgc2hvdWxkIGJlIDEwMCUgd2lkdGguXG4gICAgICAgIC8vIFRoaXMgcHJldmVudHMgdGhlbSBmcm9tIGZsb3dpbmcgdW5kZXIgYSBzY3JvbGxiYXIgKGlmIHByZXNlbnQpLlxuICAgICAgICBzdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJvd1JlbmRlcmVyKHtcbiAgICAgICAgaW5kZXg6IHJvd0luZGV4LFxuICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgIGlzU2Nyb2xsaW5nOiBpc1Njcm9sbGluZyxcbiAgICAgICAgaXNWaXNpYmxlOiBpc1Zpc2libGUsXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBwYXJlbnQ6IHBhcmVudFxuICAgICAgfSk7XG4gICAgfSwgX3RoaXMuX3NldFJlZiA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgIF90aGlzLkdyaWQgPSByZWY7XG4gICAgfSwgX3RoaXMuX29uU2Nyb2xsID0gZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICB2YXIgY2xpZW50SGVpZ2h0ID0gX3JlZjMuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgIHNjcm9sbEhlaWdodCA9IF9yZWYzLnNjcm9sbEhlaWdodCxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfcmVmMy5zY3JvbGxUb3A7XG4gICAgICB2YXIgb25TY3JvbGwgPSBfdGhpcy5wcm9wcy5vblNjcm9sbDtcblxuXG4gICAgICBvblNjcm9sbCh7IGNsaWVudEhlaWdodDogY2xpZW50SGVpZ2h0LCBzY3JvbGxIZWlnaHQ6IHNjcm9sbEhlaWdodCwgc2Nyb2xsVG9wOiBzY3JvbGxUb3AgfSk7XG4gICAgfSwgX3RoaXMuX29uU2VjdGlvblJlbmRlcmVkID0gZnVuY3Rpb24gKF9yZWY0KSB7XG4gICAgICB2YXIgcm93T3ZlcnNjYW5TdGFydEluZGV4ID0gX3JlZjQucm93T3ZlcnNjYW5TdGFydEluZGV4LFxuICAgICAgICAgIHJvd092ZXJzY2FuU3RvcEluZGV4ID0gX3JlZjQucm93T3ZlcnNjYW5TdG9wSW5kZXgsXG4gICAgICAgICAgcm93U3RhcnRJbmRleCA9IF9yZWY0LnJvd1N0YXJ0SW5kZXgsXG4gICAgICAgICAgcm93U3RvcEluZGV4ID0gX3JlZjQucm93U3RvcEluZGV4O1xuICAgICAgdmFyIG9uUm93c1JlbmRlcmVkID0gX3RoaXMucHJvcHMub25Sb3dzUmVuZGVyZWQ7XG5cblxuICAgICAgb25Sb3dzUmVuZGVyZWQoe1xuICAgICAgICBvdmVyc2NhblN0YXJ0SW5kZXg6IHJvd092ZXJzY2FuU3RhcnRJbmRleCxcbiAgICAgICAgb3ZlcnNjYW5TdG9wSW5kZXg6IHJvd092ZXJzY2FuU3RvcEluZGV4LFxuICAgICAgICBzdGFydEluZGV4OiByb3dTdGFydEluZGV4LFxuICAgICAgICBzdG9wSW5kZXg6IHJvd1N0b3BJbmRleFxuICAgICAgfSk7XG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGlzdCwgW3tcbiAgICBrZXk6ICdmb3JjZVVwZGF0ZUdyaWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JjZVVwZGF0ZUdyaWQoKSB7XG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHRoaXMuR3JpZC5mb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBTZWUgR3JpZCNnZXRPZmZzZXRGb3JDZWxsICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldE9mZnNldEZvclJvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE9mZnNldEZvclJvdyhfcmVmNSkge1xuICAgICAgdmFyIGFsaWdubWVudCA9IF9yZWY1LmFsaWdubWVudCxcbiAgICAgICAgICBpbmRleCA9IF9yZWY1LmluZGV4O1xuXG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHZhciBfR3JpZCRnZXRPZmZzZXRGb3JDZWwgPSB0aGlzLkdyaWQuZ2V0T2Zmc2V0Rm9yQ2VsbCh7XG4gICAgICAgICAgYWxpZ25tZW50OiBhbGlnbm1lbnQsXG4gICAgICAgICAgcm93SW5kZXg6IGluZGV4LFxuICAgICAgICAgIGNvbHVtbkluZGV4OiAwXG4gICAgICAgIH0pLFxuICAgICAgICAgICAgX3Njcm9sbFRvcCA9IF9HcmlkJGdldE9mZnNldEZvckNlbC5zY3JvbGxUb3A7XG5cbiAgICAgICAgcmV0dXJuIF9zY3JvbGxUb3A7XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvKiogQ2VsbE1lYXN1cmVyIGNvbXBhdGliaWxpdHkgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaW52YWxpZGF0ZUNlbGxTaXplQWZ0ZXJSZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbnZhbGlkYXRlQ2VsbFNpemVBZnRlclJlbmRlcihfcmVmNikge1xuICAgICAgdmFyIGNvbHVtbkluZGV4ID0gX3JlZjYuY29sdW1uSW5kZXgsXG4gICAgICAgICAgcm93SW5kZXggPSBfcmVmNi5yb3dJbmRleDtcblxuICAgICAgaWYgKHRoaXMuR3JpZCkge1xuICAgICAgICB0aGlzLkdyaWQuaW52YWxpZGF0ZUNlbGxTaXplQWZ0ZXJSZW5kZXIoe1xuICAgICAgICAgIHJvd0luZGV4OiByb3dJbmRleCxcbiAgICAgICAgICBjb2x1bW5JbmRleDogY29sdW1uSW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqIFNlZSBHcmlkI21lYXN1cmVBbGxDZWxscyAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdtZWFzdXJlQWxsUm93cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1lYXN1cmVBbGxSb3dzKCkge1xuICAgICAgaWYgKHRoaXMuR3JpZCkge1xuICAgICAgICB0aGlzLkdyaWQubWVhc3VyZUFsbENlbGxzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqIENlbGxNZWFzdXJlciBjb21wYXRpYmlsaXR5ICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlY29tcHV0ZUdyaWRTaXplJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb21wdXRlR3JpZFNpemUoKSB7XG4gICAgICB2YXIgX3JlZjcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICAgIF9yZWY3JGNvbHVtbkluZGV4ID0gX3JlZjcuY29sdW1uSW5kZXgsXG4gICAgICAgICAgY29sdW1uSW5kZXggPSBfcmVmNyRjb2x1bW5JbmRleCA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWY3JGNvbHVtbkluZGV4LFxuICAgICAgICAgIF9yZWY3JHJvd0luZGV4ID0gX3JlZjcucm93SW5kZXgsXG4gICAgICAgICAgcm93SW5kZXggPSBfcmVmNyRyb3dJbmRleCA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWY3JHJvd0luZGV4O1xuXG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHRoaXMuR3JpZC5yZWNvbXB1dGVHcmlkU2l6ZSh7XG4gICAgICAgICAgcm93SW5kZXg6IHJvd0luZGV4LFxuICAgICAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogU2VlIEdyaWQjcmVjb21wdXRlR3JpZFNpemUgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVjb21wdXRlUm93SGVpZ2h0cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlY29tcHV0ZVJvd0hlaWdodHMoKSB7XG4gICAgICB2YXIgaW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7XG5cbiAgICAgIGlmICh0aGlzLkdyaWQpIHtcbiAgICAgICAgdGhpcy5HcmlkLnJlY29tcHV0ZUdyaWRTaXplKHtcbiAgICAgICAgICByb3dJbmRleDogaW5kZXgsXG4gICAgICAgICAgY29sdW1uSW5kZXg6IDBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqIFNlZSBHcmlkI3Njcm9sbFRvUG9zaXRpb24gKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2Nyb2xsVG9Qb3NpdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvUG9zaXRpb24oKSB7XG4gICAgICB2YXIgc2Nyb2xsVG9wID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHRoaXMuR3JpZC5zY3JvbGxUb1Bvc2l0aW9uKHsgc2Nyb2xsVG9wOiBzY3JvbGxUb3AgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqIFNlZSBHcmlkI3Njcm9sbFRvQ2VsbCAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzY3JvbGxUb1JvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvUm93KCkge1xuICAgICAgdmFyIGluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHRoaXMuR3JpZC5zY3JvbGxUb0NlbGwoe1xuICAgICAgICAgIGNvbHVtbkluZGV4OiAwLFxuICAgICAgICAgIHJvd0luZGV4OiBpbmRleFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIG5vUm93c1JlbmRlcmVyID0gX3Byb3BzLm5vUm93c1JlbmRlcmVyLFxuICAgICAgICAgIHNjcm9sbFRvSW5kZXggPSBfcHJvcHMuc2Nyb2xsVG9JbmRleCxcbiAgICAgICAgICB3aWR0aCA9IF9wcm9wcy53aWR0aDtcblxuXG4gICAgICB2YXIgY2xhc3NOYW1lcyA9IGNuKCdSZWFjdFZpcnR1YWxpemVkX19MaXN0JywgY2xhc3NOYW1lKTtcblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHtcbiAgICAgICAgYXV0b0NvbnRhaW5lcldpZHRoOiB0cnVlLFxuICAgICAgICBjZWxsUmVuZGVyZXI6IHRoaXMuX2NlbGxSZW5kZXJlcixcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzLFxuICAgICAgICBjb2x1bW5XaWR0aDogd2lkdGgsXG4gICAgICAgIGNvbHVtbkNvdW50OiAxLFxuICAgICAgICBub0NvbnRlbnRSZW5kZXJlcjogbm9Sb3dzUmVuZGVyZXIsXG4gICAgICAgIG9uU2Nyb2xsOiB0aGlzLl9vblNjcm9sbCxcbiAgICAgICAgb25TZWN0aW9uUmVuZGVyZWQ6IHRoaXMuX29uU2VjdGlvblJlbmRlcmVkLFxuICAgICAgICByZWY6IHRoaXMuX3NldFJlZixcbiAgICAgICAgc2Nyb2xsVG9Sb3c6IHNjcm9sbFRvSW5kZXhcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTGlzdDtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbkxpc3QuZGVmYXVsdFByb3BzID0ge1xuICBhdXRvSGVpZ2h0OiBmYWxzZSxcbiAgZXN0aW1hdGVkUm93U2l6ZTogMzAsXG4gIG9uU2Nyb2xsOiBmdW5jdGlvbiBvblNjcm9sbCgpIHt9LFxuICBub1Jvd3NSZW5kZXJlcjogZnVuY3Rpb24gbm9Sb3dzUmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIG9uUm93c1JlbmRlcmVkOiBmdW5jdGlvbiBvblJvd3NSZW5kZXJlZCgpIHt9LFxuICBvdmVyc2NhbkluZGljZXNHZXR0ZXI6IGFjY2Vzc2liaWxpdHlPdmVyc2NhbkluZGljZXNHZXR0ZXIsXG4gIG92ZXJzY2FuUm93Q291bnQ6IDEwLFxuICBzY3JvbGxUb0FsaWdubWVudDogJ2F1dG8nLFxuICBzY3JvbGxUb0luZGV4OiAtMSxcbiAgc3R5bGU6IHt9XG59O1xuTGlzdC5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgXCJhcmlhLWxhYmVsXCI6IFByb3BUeXBlcy5zdHJpbmcsXG5cblxuICAvKipcbiAgICogUmVtb3ZlcyBmaXhlZCBoZWlnaHQgZnJvbSB0aGUgc2Nyb2xsaW5nQ29udGFpbmVyIHNvIHRoYXQgdGhlIHRvdGFsIGhlaWdodFxuICAgKiBvZiByb3dzIGNhbiBzdHJldGNoIHRoZSB3aW5kb3cuIEludGVuZGVkIGZvciB1c2Ugd2l0aCBXaW5kb3dTY3JvbGxlclxuICAgKi9cbiAgYXV0b0hlaWdodDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcblxuXG4gIC8qKiBPcHRpb25hbCBDU1MgY2xhc3MgbmFtZSAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cblxuICAvKipcbiAgICogVXNlZCB0byBlc3RpbWF0ZSB0aGUgdG90YWwgaGVpZ2h0IG9mIGEgTGlzdCBiZWZvcmUgYWxsIG9mIGl0cyByb3dzIGhhdmUgYWN0dWFsbHkgYmVlbiBtZWFzdXJlZC5cbiAgICogVGhlIGVzdGltYXRlZCB0b3RhbCBoZWlnaHQgaXMgYWRqdXN0ZWQgYXMgcm93cyBhcmUgcmVuZGVyZWQuXG4gICAqL1xuICBlc3RpbWF0ZWRSb3dTaXplOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cblxuICAvKiogSGVpZ2h0IGNvbnN0cmFpbnQgZm9yIGxpc3QgKGRldGVybWluZXMgaG93IG1hbnkgYWN0dWFsIHJvd3MgYXJlIHJlbmRlcmVkKSAqL1xuICBoZWlnaHQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuXG4gIC8qKiBPcHRpb25hbCByZW5kZXJlciB0byBiZSB1c2VkIGluIHBsYWNlIG9mIHJvd3Mgd2hlbiByb3dDb3VudCBpcyAwICovXG4gIG5vUm93c1JlbmRlcmVyOiBmdW5jdGlvbiBub1Jvd3NSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBicGZycHRfcHJvcHR5cGVfTm9Db250ZW50UmVuZGVyZXIgPT09ICdmdW5jdGlvbicgPyBicGZycHRfcHJvcHR5cGVfTm9Db250ZW50UmVuZGVyZXIuaXNSZXF1aXJlZCA/IGJwZnJwdF9wcm9wdHlwZV9Ob0NvbnRlbnRSZW5kZXJlci5pc1JlcXVpcmVkIDogYnBmcnB0X3Byb3B0eXBlX05vQ29udGVudFJlbmRlcmVyIDogUHJvcFR5cGVzLnNoYXBlKGJwZnJwdF9wcm9wdHlwZV9Ob0NvbnRlbnRSZW5kZXJlcikuaXNSZXF1aXJlZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuXG4gIC8qKiBDYWxsYmFjayBpbnZva2VkIHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIHNsaWNlIG9mIHJvd3MgdGhhdCB3ZXJlIGp1c3QgcmVuZGVyZWQuICAqL1xuXG4gIG9uUm93c1JlbmRlcmVkOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGludm9rZWQgd2hlbmV2ZXIgdGhlIHNjcm9sbCBvZmZzZXQgY2hhbmdlcyB3aXRoaW4gdGhlIGlubmVyIHNjcm9sbGFibGUgcmVnaW9uLlxuICAgKiBUaGlzIGNhbGxiYWNrIGNhbiBiZSB1c2VkIHRvIHN5bmMgc2Nyb2xsaW5nIGJldHdlZW4gbGlzdHMsIHRhYmxlcywgb3IgZ3JpZHMuXG4gICAqL1xuICBvblNjcm9sbDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuXG4gIC8qKiBTZWUgR3JpZCNvdmVyc2NhbkluZGljZXNHZXR0ZXIgKi9cbiAgb3ZlcnNjYW5JbmRpY2VzR2V0dGVyOiBmdW5jdGlvbiBvdmVyc2NhbkluZGljZXNHZXR0ZXIoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlciA9PT0gJ2Z1bmN0aW9uJyA/IGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXNHZXR0ZXIuaXNSZXF1aXJlZCA/IGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXNHZXR0ZXIuaXNSZXF1aXJlZCA6IGJwZnJwdF9wcm9wdHlwZV9PdmVyc2NhbkluZGljZXNHZXR0ZXIgOiBQcm9wVHlwZXMuc2hhcGUoYnBmcnB0X3Byb3B0eXBlX092ZXJzY2FuSW5kaWNlc0dldHRlcikuaXNSZXF1aXJlZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2Ygcm93cyB0byByZW5kZXIgYWJvdmUvYmVsb3cgdGhlIHZpc2libGUgYm91bmRzIG9mIHRoZSBsaXN0LlxuICAgKiBUaGVzZSByb3dzIGNhbiBoZWxwIGZvciBzbW9vdGhlciBzY3JvbGxpbmcgb24gdG91Y2ggZGV2aWNlcy5cbiAgICovXG4gIG92ZXJzY2FuUm93Q291bnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuXG4gIC8qKiBFaXRoZXIgYSBmaXhlZCByb3cgaGVpZ2h0IChudW1iZXIpIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBoZWlnaHQgb2YgYSByb3cgZ2l2ZW4gaXRzIGluZGV4LiAgKi9cbiAgcm93SGVpZ2h0OiBmdW5jdGlvbiByb3dIZWlnaHQoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplID09PSAnZnVuY3Rpb24nID8gYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplLmlzUmVxdWlyZWQgPyBicGZycHRfcHJvcHR5cGVfQ2VsbFNpemUuaXNSZXF1aXJlZCA6IGJwZnJwdF9wcm9wdHlwZV9DZWxsU2l6ZSA6IFByb3BUeXBlcy5zaGFwZShicGZycHRfcHJvcHR5cGVfQ2VsbFNpemUpLmlzUmVxdWlyZWQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cblxuICAvKiogUmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyBhIHJvdyBnaXZlbiBhbiBpbmRleDsgKHsgaW5kZXg6IG51bWJlciB9KTogbm9kZSAqL1xuICByb3dSZW5kZXJlcjogZnVuY3Rpb24gcm93UmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYnBmcnB0X3Byb3B0eXBlX1Jvd1JlbmRlcmVyID09PSAnZnVuY3Rpb24nID8gYnBmcnB0X3Byb3B0eXBlX1Jvd1JlbmRlcmVyLmlzUmVxdWlyZWQgPyBicGZycHRfcHJvcHR5cGVfUm93UmVuZGVyZXIuaXNSZXF1aXJlZCA6IGJwZnJwdF9wcm9wdHlwZV9Sb3dSZW5kZXJlciA6IFByb3BUeXBlcy5zaGFwZShicGZycHRfcHJvcHR5cGVfUm93UmVuZGVyZXIpLmlzUmVxdWlyZWQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG5cblxuICAvKiogTnVtYmVyIG9mIHJvd3MgaW4gbGlzdC4gKi9cbiAgcm93Q291bnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuXG4gIC8qKiBTZWUgR3JpZCNzY3JvbGxUb0FsaWdubWVudCAqL1xuICBzY3JvbGxUb0FsaWdubWVudDogZnVuY3Rpb24gc2Nyb2xsVG9BbGlnbm1lbnQoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgYnBmcnB0X3Byb3B0eXBlX0FsaWdubWVudCA9PT0gJ2Z1bmN0aW9uJyA/IGJwZnJwdF9wcm9wdHlwZV9BbGlnbm1lbnQuaXNSZXF1aXJlZCA/IGJwZnJwdF9wcm9wdHlwZV9BbGlnbm1lbnQuaXNSZXF1aXJlZCA6IGJwZnJwdF9wcm9wdHlwZV9BbGlnbm1lbnQgOiBQcm9wVHlwZXMuc2hhcGUoYnBmcnB0X3Byb3B0eXBlX0FsaWdubWVudCkuaXNSZXF1aXJlZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcblxuXG4gIC8qKiBSb3cgaW5kZXggdG8gZW5zdXJlIHZpc2libGUgKGJ5IGZvcmNlZnVsbHkgc2Nyb2xsaW5nIGlmIG5lY2Vzc2FyeSkgKi9cbiAgc2Nyb2xsVG9JbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG5cbiAgLyoqIFZlcnRpY2FsIG9mZnNldC4gKi9cbiAgc2Nyb2xsVG9wOiBQcm9wVHlwZXMubnVtYmVyLFxuXG5cbiAgLyoqIE9wdGlvbmFsIGlubGluZSBzdHlsZSAqL1xuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuXG5cbiAgLyoqIFRhYiBpbmRleCBmb3IgZm9jdXMgKi9cbiAgdGFiSW5kZXg6IFByb3BUeXBlcy5udW1iZXIsXG5cblxuICAvKiogV2lkdGggb2YgbGlzdCAqL1xuICB3aWR0aDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59O1xuZXhwb3J0IGRlZmF1bHQgTGlzdDtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9Ob0NvbnRlbnRSZW5kZXJlciB9IGZyb20gJy4uL0dyaWQnO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0FsaWdubWVudCB9IGZyb20gJy4uL0dyaWQnO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxTaXplIH0gZnJvbSAnLi4vR3JpZCc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFBvc2l0aW9uIH0gZnJvbSAnLi4vR3JpZCc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfT3ZlcnNjYW5JbmRpY2VzR2V0dGVyIH0gZnJvbSAnLi4vR3JpZCc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfUmVuZGVyZWRTZWN0aW9uIH0gZnJvbSAnLi4vR3JpZCc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQ2VsbFJlbmRlcmVyUGFyYW1zIH0gZnJvbSAnLi4vR3JpZCc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfU2Nyb2xsIGFzIGJwZnJwdF9wcm9wdHlwZV9HcmlkU2Nyb2xsIH0gZnJvbSAnLi4vR3JpZCc7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfUm93UmVuZGVyZXIgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9SZW5kZXJlZFJvd3MgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9TY3JvbGwgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7IiwiXG5cbmV4cG9ydCB7IGRlZmF1bHQgfSBmcm9tICcuL0xpc3QnO1xuXG5leHBvcnQgeyBkZWZhdWx0IGFzIExpc3QgfSBmcm9tICcuL0xpc3QnO1xuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Jvd1JlbmRlcmVyUGFyYW1zIH0gZnJvbSAnLi90eXBlcyc7XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfUm93UmVuZGVyZXJQYXJhbXMgfTsiLCIvKipcbiAqIEJpbmFyeSBTZWFyY2ggQm91bmRzXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWlrb2xhbHlzZW5rby9iaW5hcnktc2VhcmNoLWJvdW5kc1xuICogTWlrb2xhIEx5c2Vua29cbiAqXG4gKiBJbmxpbmVkIGJlY2F1c2Ugb2YgQ29udGVudCBTZWN1cml0eSBQb2xpY3kgaXNzdWUgY2F1c2VkIGJ5IHRoZSB1c2Ugb2YgYG5ldyBGdW5jdGlvbiguLi4pYCBzeW50YXguXG4gKiBJc3N1ZSByZXBvcnRlZCBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vbWlrb2xhbHlzZW5rby9iaW5hcnktc2VhcmNoLWJvdW5kcy9pc3N1ZXMvNVxuICoqL1xuXG5mdW5jdGlvbiBfR0VBKGEsIGwsIGgsIHkpIHtcbiAgdmFyIGkgPSBoICsgMTtcbiAgd2hpbGUgKGwgPD0gaCkge1xuICAgIHZhciBtID0gbCArIGggPj4+IDEsXG4gICAgICAgIHggPSBhW21dO1xuICAgIGlmICh4ID49IHkpIHtcbiAgICAgIGkgPSBtO1xuICAgICAgaCA9IG0gLSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gbSArIDE7XG4gICAgfVxuICB9XG4gIHJldHVybiBpO1xufVxuZnVuY3Rpb24gX0dFUChhLCBsLCBoLCB5LCBjKSB7XG4gIHZhciBpID0gaCArIDE7XG4gIHdoaWxlIChsIDw9IGgpIHtcbiAgICB2YXIgbSA9IGwgKyBoID4+PiAxLFxuICAgICAgICB4ID0gYVttXTtcbiAgICBpZiAoYyh4LCB5KSA+PSAwKSB7XG4gICAgICBpID0gbTtcbiAgICAgIGggPSBtIC0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgbCA9IG0gKyAxO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoQnNlYXJjaEdFKGEsIHksIGMsIGwsIGgpIHtcbiAgaWYgKHR5cGVvZiBjID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIF9HRVAoYSwgbCA9PT0gdm9pZCAwID8gMCA6IGwgfCAwLCBoID09PSB2b2lkIDAgPyBhLmxlbmd0aCAtIDEgOiBoIHwgMCwgeSwgYyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIF9HRUEoYSwgYyA9PT0gdm9pZCAwID8gMCA6IGMgfCAwLCBsID09PSB2b2lkIDAgPyBhLmxlbmd0aCAtIDEgOiBsIHwgMCwgeSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX0dUQShhLCBsLCBoLCB5KSB7XG4gIHZhciBpID0gaCArIDE7XG4gIHdoaWxlIChsIDw9IGgpIHtcbiAgICB2YXIgbSA9IGwgKyBoID4+PiAxLFxuICAgICAgICB4ID0gYVttXTtcbiAgICBpZiAoeCA+IHkpIHtcbiAgICAgIGkgPSBtO1xuICAgICAgaCA9IG0gLSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gbSArIDE7XG4gICAgfVxuICB9XG4gIHJldHVybiBpO1xufVxuZnVuY3Rpb24gX0dUUChhLCBsLCBoLCB5LCBjKSB7XG4gIHZhciBpID0gaCArIDE7XG4gIHdoaWxlIChsIDw9IGgpIHtcbiAgICB2YXIgbSA9IGwgKyBoID4+PiAxLFxuICAgICAgICB4ID0gYVttXTtcbiAgICBpZiAoYyh4LCB5KSA+IDApIHtcbiAgICAgIGkgPSBtO1xuICAgICAgaCA9IG0gLSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gbSArIDE7XG4gICAgfVxuICB9XG4gIHJldHVybiBpO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2hCc2VhcmNoR1QoYSwgeSwgYywgbCwgaCkge1xuICBpZiAodHlwZW9mIGMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gX0dUUChhLCBsID09PSB2b2lkIDAgPyAwIDogbCB8IDAsIGggPT09IHZvaWQgMCA/IGEubGVuZ3RoIC0gMSA6IGggfCAwLCB5LCBjKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gX0dUQShhLCBjID09PSB2b2lkIDAgPyAwIDogYyB8IDAsIGwgPT09IHZvaWQgMCA/IGEubGVuZ3RoIC0gMSA6IGwgfCAwLCB5KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfTFRBKGEsIGwsIGgsIHkpIHtcbiAgdmFyIGkgPSBsIC0gMTtcbiAgd2hpbGUgKGwgPD0gaCkge1xuICAgIHZhciBtID0gbCArIGggPj4+IDEsXG4gICAgICAgIHggPSBhW21dO1xuICAgIGlmICh4IDwgeSkge1xuICAgICAgaSA9IG07XG4gICAgICBsID0gbSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGggPSBtIC0gMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGk7XG59XG5mdW5jdGlvbiBfTFRQKGEsIGwsIGgsIHksIGMpIHtcbiAgdmFyIGkgPSBsIC0gMTtcbiAgd2hpbGUgKGwgPD0gaCkge1xuICAgIHZhciBtID0gbCArIGggPj4+IDEsXG4gICAgICAgIHggPSBhW21dO1xuICAgIGlmIChjKHgsIHkpIDwgMCkge1xuICAgICAgaSA9IG07XG4gICAgICBsID0gbSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGggPSBtIC0gMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaEJzZWFyY2hMVChhLCB5LCBjLCBsLCBoKSB7XG4gIGlmICh0eXBlb2YgYyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBfTFRQKGEsIGwgPT09IHZvaWQgMCA/IDAgOiBsIHwgMCwgaCA9PT0gdm9pZCAwID8gYS5sZW5ndGggLSAxIDogaCB8IDAsIHksIGMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBfTFRBKGEsIGMgPT09IHZvaWQgMCA/IDAgOiBjIHwgMCwgbCA9PT0gdm9pZCAwID8gYS5sZW5ndGggLSAxIDogbCB8IDAsIHkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9MRUEoYSwgbCwgaCwgeSkge1xuICB2YXIgaSA9IGwgLSAxO1xuICB3aGlsZSAobCA8PSBoKSB7XG4gICAgdmFyIG0gPSBsICsgaCA+Pj4gMSxcbiAgICAgICAgeCA9IGFbbV07XG4gICAgaWYgKHggPD0geSkge1xuICAgICAgaSA9IG07XG4gICAgICBsID0gbSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGggPSBtIC0gMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGk7XG59XG5mdW5jdGlvbiBfTEVQKGEsIGwsIGgsIHksIGMpIHtcbiAgdmFyIGkgPSBsIC0gMTtcbiAgd2hpbGUgKGwgPD0gaCkge1xuICAgIHZhciBtID0gbCArIGggPj4+IDEsXG4gICAgICAgIHggPSBhW21dO1xuICAgIGlmIChjKHgsIHkpIDw9IDApIHtcbiAgICAgIGkgPSBtO1xuICAgICAgbCA9IG0gKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBoID0gbSAtIDE7XG4gICAgfVxuICB9XG4gIHJldHVybiBpO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2hCc2VhcmNoTEUoYSwgeSwgYywgbCwgaCkge1xuICBpZiAodHlwZW9mIGMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gX0xFUChhLCBsID09PSB2b2lkIDAgPyAwIDogbCB8IDAsIGggPT09IHZvaWQgMCA/IGEubGVuZ3RoIC0gMSA6IGggfCAwLCB5LCBjKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gX0xFQShhLCBjID09PSB2b2lkIDAgPyAwIDogYyB8IDAsIGwgPT09IHZvaWQgMCA/IGEubGVuZ3RoIC0gMSA6IGwgfCAwLCB5KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfRVFBKGEsIGwsIGgsIHkpIHtcbiAgbCAtIDE7XG4gIHdoaWxlIChsIDw9IGgpIHtcbiAgICB2YXIgbSA9IGwgKyBoID4+PiAxLFxuICAgICAgICB4ID0gYVttXTtcbiAgICBpZiAoeCA9PT0geSkge1xuICAgICAgcmV0dXJuIG07XG4gICAgfSBlbHNlIGlmICh4IDw9IHkpIHtcbiAgICAgIGwgPSBtICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaCA9IG0gLSAxO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5mdW5jdGlvbiBfRVFQKGEsIGwsIGgsIHksIGMpIHtcbiAgbCAtIDE7XG4gIHdoaWxlIChsIDw9IGgpIHtcbiAgICB2YXIgbSA9IGwgKyBoID4+PiAxLFxuICAgICAgICB4ID0gYVttXTtcbiAgICB2YXIgcCA9IGMoeCwgeSk7XG4gICAgaWYgKHAgPT09IDApIHtcbiAgICAgIHJldHVybiBtO1xuICAgIH0gZWxzZSBpZiAocCA8PSAwKSB7XG4gICAgICBsID0gbSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGggPSBtIC0gMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2hCc2VhcmNoRVEoYSwgeSwgYywgbCwgaCkge1xuICBpZiAodHlwZW9mIGMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gX0VRUChhLCBsID09PSB2b2lkIDAgPyAwIDogbCB8IDAsIGggPT09IHZvaWQgMCA/IGEubGVuZ3RoIC0gMSA6IGggfCAwLCB5LCBjKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gX0VRQShhLCBjID09PSB2b2lkIDAgPyAwIDogYyB8IDAsIGwgPT09IHZvaWQgMCA/IGEubGVuZ3RoIC0gMSA6IGwgfCAwLCB5KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdlOiBkaXNwYXRjaEJzZWFyY2hHRSxcbiAgZ3Q6IGRpc3BhdGNoQnNlYXJjaEdULFxuICBsdDogZGlzcGF0Y2hCc2VhcmNoTFQsXG4gIGxlOiBkaXNwYXRjaEJzZWFyY2hMRSxcbiAgZXE6IGRpc3BhdGNoQnNlYXJjaEVRXG59OyIsIi8qKlxuICogQmluYXJ5IFNlYXJjaCBCb3VuZHNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9taWtvbGFseXNlbmtvL2ludGVydmFsLXRyZWUtMWRcbiAqIE1pa29sYSBMeXNlbmtvXG4gKlxuICogSW5saW5lZCBiZWNhdXNlIG9mIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGlzc3VlIGNhdXNlZCBieSB0aGUgdXNlIG9mIGBuZXcgRnVuY3Rpb24oLi4uKWAgc3ludGF4IGluIGFuIHVwc3RyZWFtIGRlcGVuZGVuY3kuXG4gKiBJc3N1ZSByZXBvcnRlZCBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vbWlrb2xhbHlzZW5rby9iaW5hcnktc2VhcmNoLWJvdW5kcy9pc3N1ZXMvNVxuICoqL1xuXG5pbXBvcnQgYm91bmRzIGZyb20gJy4vYmluYXJ5U2VhcmNoQm91bmRzJztcblxudmFyIE5PVF9GT1VORCA9IDA7XG52YXIgU1VDQ0VTUyA9IDE7XG52YXIgRU1QVFkgPSAyO1xuXG5mdW5jdGlvbiBJbnRlcnZhbFRyZWVOb2RlKG1pZCwgbGVmdCwgcmlnaHQsIGxlZnRQb2ludHMsIHJpZ2h0UG9pbnRzKSB7XG4gIHRoaXMubWlkID0gbWlkO1xuICB0aGlzLmxlZnQgPSBsZWZ0O1xuICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gIHRoaXMubGVmdFBvaW50cyA9IGxlZnRQb2ludHM7XG4gIHRoaXMucmlnaHRQb2ludHMgPSByaWdodFBvaW50cztcbiAgdGhpcy5jb3VudCA9IChsZWZ0ID8gbGVmdC5jb3VudCA6IDApICsgKHJpZ2h0ID8gcmlnaHQuY291bnQgOiAwKSArIGxlZnRQb2ludHMubGVuZ3RoO1xufVxuXG52YXIgcHJvdG8gPSBJbnRlcnZhbFRyZWVOb2RlLnByb3RvdHlwZTtcblxuZnVuY3Rpb24gY29weShhLCBiKSB7XG4gIGEubWlkID0gYi5taWQ7XG4gIGEubGVmdCA9IGIubGVmdDtcbiAgYS5yaWdodCA9IGIucmlnaHQ7XG4gIGEubGVmdFBvaW50cyA9IGIubGVmdFBvaW50cztcbiAgYS5yaWdodFBvaW50cyA9IGIucmlnaHRQb2ludHM7XG4gIGEuY291bnQgPSBiLmNvdW50O1xufVxuXG5mdW5jdGlvbiByZWJ1aWxkKG5vZGUsIGludGVydmFscykge1xuICB2YXIgbnRyZWUgPSBjcmVhdGVJbnRlcnZhbFRyZWUoaW50ZXJ2YWxzKTtcbiAgbm9kZS5taWQgPSBudHJlZS5taWQ7XG4gIG5vZGUubGVmdCA9IG50cmVlLmxlZnQ7XG4gIG5vZGUucmlnaHQgPSBudHJlZS5yaWdodDtcbiAgbm9kZS5sZWZ0UG9pbnRzID0gbnRyZWUubGVmdFBvaW50cztcbiAgbm9kZS5yaWdodFBvaW50cyA9IG50cmVlLnJpZ2h0UG9pbnRzO1xuICBub2RlLmNvdW50ID0gbnRyZWUuY291bnQ7XG59XG5cbmZ1bmN0aW9uIHJlYnVpbGRXaXRoSW50ZXJ2YWwobm9kZSwgaW50ZXJ2YWwpIHtcbiAgdmFyIGludGVydmFscyA9IG5vZGUuaW50ZXJ2YWxzKFtdKTtcbiAgaW50ZXJ2YWxzLnB1c2goaW50ZXJ2YWwpO1xuICByZWJ1aWxkKG5vZGUsIGludGVydmFscyk7XG59XG5cbmZ1bmN0aW9uIHJlYnVpbGRXaXRob3V0SW50ZXJ2YWwobm9kZSwgaW50ZXJ2YWwpIHtcbiAgdmFyIGludGVydmFscyA9IG5vZGUuaW50ZXJ2YWxzKFtdKTtcbiAgdmFyIGlkeCA9IGludGVydmFscy5pbmRleE9mKGludGVydmFsKTtcbiAgaWYgKGlkeCA8IDApIHtcbiAgICByZXR1cm4gTk9UX0ZPVU5EO1xuICB9XG4gIGludGVydmFscy5zcGxpY2UoaWR4LCAxKTtcbiAgcmVidWlsZChub2RlLCBpbnRlcnZhbHMpO1xuICByZXR1cm4gU1VDQ0VTUztcbn1cblxucHJvdG8uaW50ZXJ2YWxzID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICByZXN1bHQucHVzaC5hcHBseShyZXN1bHQsIHRoaXMubGVmdFBvaW50cyk7XG4gIGlmICh0aGlzLmxlZnQpIHtcbiAgICB0aGlzLmxlZnQuaW50ZXJ2YWxzKHJlc3VsdCk7XG4gIH1cbiAgaWYgKHRoaXMucmlnaHQpIHtcbiAgICB0aGlzLnJpZ2h0LmludGVydmFscyhyZXN1bHQpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5wcm90by5pbnNlcnQgPSBmdW5jdGlvbiAoaW50ZXJ2YWwpIHtcbiAgdmFyIHdlaWdodCA9IHRoaXMuY291bnQgLSB0aGlzLmxlZnRQb2ludHMubGVuZ3RoO1xuICB0aGlzLmNvdW50ICs9IDE7XG4gIGlmIChpbnRlcnZhbFsxXSA8IHRoaXMubWlkKSB7XG4gICAgaWYgKHRoaXMubGVmdCkge1xuICAgICAgaWYgKDQgKiAodGhpcy5sZWZ0LmNvdW50ICsgMSkgPiAzICogKHdlaWdodCArIDEpKSB7XG4gICAgICAgIHJlYnVpbGRXaXRoSW50ZXJ2YWwodGhpcywgaW50ZXJ2YWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sZWZ0Lmluc2VydChpbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubGVmdCA9IGNyZWF0ZUludGVydmFsVHJlZShbaW50ZXJ2YWxdKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaW50ZXJ2YWxbMF0gPiB0aGlzLm1pZCkge1xuICAgIGlmICh0aGlzLnJpZ2h0KSB7XG4gICAgICBpZiAoNCAqICh0aGlzLnJpZ2h0LmNvdW50ICsgMSkgPiAzICogKHdlaWdodCArIDEpKSB7XG4gICAgICAgIHJlYnVpbGRXaXRoSW50ZXJ2YWwodGhpcywgaW50ZXJ2YWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yaWdodC5pbnNlcnQoaW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJpZ2h0ID0gY3JlYXRlSW50ZXJ2YWxUcmVlKFtpbnRlcnZhbF0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgbCA9IGJvdW5kcy5nZSh0aGlzLmxlZnRQb2ludHMsIGludGVydmFsLCBjb21wYXJlQmVnaW4pO1xuICAgIHZhciByID0gYm91bmRzLmdlKHRoaXMucmlnaHRQb2ludHMsIGludGVydmFsLCBjb21wYXJlRW5kKTtcbiAgICB0aGlzLmxlZnRQb2ludHMuc3BsaWNlKGwsIDAsIGludGVydmFsKTtcbiAgICB0aGlzLnJpZ2h0UG9pbnRzLnNwbGljZShyLCAwLCBpbnRlcnZhbCk7XG4gIH1cbn07XG5cbnByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uIChpbnRlcnZhbCkge1xuICB2YXIgd2VpZ2h0ID0gdGhpcy5jb3VudCAtIHRoaXMubGVmdFBvaW50cztcbiAgaWYgKGludGVydmFsWzFdIDwgdGhpcy5taWQpIHtcbiAgICBpZiAoIXRoaXMubGVmdCkge1xuICAgICAgcmV0dXJuIE5PVF9GT1VORDtcbiAgICB9XG4gICAgdmFyIHJ3ID0gdGhpcy5yaWdodCA/IHRoaXMucmlnaHQuY291bnQgOiAwO1xuICAgIGlmICg0ICogcncgPiAzICogKHdlaWdodCAtIDEpKSB7XG4gICAgICByZXR1cm4gcmVidWlsZFdpdGhvdXRJbnRlcnZhbCh0aGlzLCBpbnRlcnZhbCk7XG4gICAgfVxuICAgIHZhciByID0gdGhpcy5sZWZ0LnJlbW92ZShpbnRlcnZhbCk7XG4gICAgaWYgKHIgPT09IEVNUFRZKSB7XG4gICAgICB0aGlzLmxlZnQgPSBudWxsO1xuICAgICAgdGhpcy5jb3VudCAtPSAxO1xuICAgICAgcmV0dXJuIFNVQ0NFU1M7XG4gICAgfSBlbHNlIGlmIChyID09PSBTVUNDRVNTKSB7XG4gICAgICB0aGlzLmNvdW50IC09IDE7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9IGVsc2UgaWYgKGludGVydmFsWzBdID4gdGhpcy5taWQpIHtcbiAgICBpZiAoIXRoaXMucmlnaHQpIHtcbiAgICAgIHJldHVybiBOT1RfRk9VTkQ7XG4gICAgfVxuICAgIHZhciBsdyA9IHRoaXMubGVmdCA/IHRoaXMubGVmdC5jb3VudCA6IDA7XG4gICAgaWYgKDQgKiBsdyA+IDMgKiAod2VpZ2h0IC0gMSkpIHtcbiAgICAgIHJldHVybiByZWJ1aWxkV2l0aG91dEludGVydmFsKHRoaXMsIGludGVydmFsKTtcbiAgICB9XG4gICAgdmFyIHIgPSB0aGlzLnJpZ2h0LnJlbW92ZShpbnRlcnZhbCk7XG4gICAgaWYgKHIgPT09IEVNUFRZKSB7XG4gICAgICB0aGlzLnJpZ2h0ID0gbnVsbDtcbiAgICAgIHRoaXMuY291bnQgLT0gMTtcbiAgICAgIHJldHVybiBTVUNDRVNTO1xuICAgIH0gZWxzZSBpZiAociA9PT0gU1VDQ0VTUykge1xuICAgICAgdGhpcy5jb3VudCAtPSAxO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhpcy5jb3VudCA9PT0gMSkge1xuICAgICAgaWYgKHRoaXMubGVmdFBvaW50c1swXSA9PT0gaW50ZXJ2YWwpIHtcbiAgICAgICAgcmV0dXJuIEVNUFRZO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE5PVF9GT1VORDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMubGVmdFBvaW50cy5sZW5ndGggPT09IDEgJiYgdGhpcy5sZWZ0UG9pbnRzWzBdID09PSBpbnRlcnZhbCkge1xuICAgICAgaWYgKHRoaXMubGVmdCAmJiB0aGlzLnJpZ2h0KSB7XG4gICAgICAgIHZhciBwID0gdGhpcztcbiAgICAgICAgdmFyIG4gPSB0aGlzLmxlZnQ7XG4gICAgICAgIHdoaWxlIChuLnJpZ2h0KSB7XG4gICAgICAgICAgcCA9IG47XG4gICAgICAgICAgbiA9IG4ucmlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHAgPT09IHRoaXMpIHtcbiAgICAgICAgICBuLnJpZ2h0ID0gdGhpcy5yaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbCA9IHRoaXMubGVmdDtcbiAgICAgICAgICB2YXIgciA9IHRoaXMucmlnaHQ7XG4gICAgICAgICAgcC5jb3VudCAtPSBuLmNvdW50O1xuICAgICAgICAgIHAucmlnaHQgPSBuLmxlZnQ7XG4gICAgICAgICAgbi5sZWZ0ID0gbDtcbiAgICAgICAgICBuLnJpZ2h0ID0gcjtcbiAgICAgICAgfVxuICAgICAgICBjb3B5KHRoaXMsIG4pO1xuICAgICAgICB0aGlzLmNvdW50ID0gKHRoaXMubGVmdCA/IHRoaXMubGVmdC5jb3VudCA6IDApICsgKHRoaXMucmlnaHQgPyB0aGlzLnJpZ2h0LmNvdW50IDogMCkgKyB0aGlzLmxlZnRQb2ludHMubGVuZ3RoO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmxlZnQpIHtcbiAgICAgICAgY29weSh0aGlzLCB0aGlzLmxlZnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29weSh0aGlzLCB0aGlzLnJpZ2h0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBTVUNDRVNTO1xuICAgIH1cbiAgICBmb3IgKHZhciBsID0gYm91bmRzLmdlKHRoaXMubGVmdFBvaW50cywgaW50ZXJ2YWwsIGNvbXBhcmVCZWdpbik7IGwgPCB0aGlzLmxlZnRQb2ludHMubGVuZ3RoOyArK2wpIHtcbiAgICAgIGlmICh0aGlzLmxlZnRQb2ludHNbbF1bMF0gIT09IGludGVydmFsWzBdKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMubGVmdFBvaW50c1tsXSA9PT0gaW50ZXJ2YWwpIHtcbiAgICAgICAgdGhpcy5jb3VudCAtPSAxO1xuICAgICAgICB0aGlzLmxlZnRQb2ludHMuc3BsaWNlKGwsIDEpO1xuICAgICAgICBmb3IgKHZhciByID0gYm91bmRzLmdlKHRoaXMucmlnaHRQb2ludHMsIGludGVydmFsLCBjb21wYXJlRW5kKTsgciA8IHRoaXMucmlnaHRQb2ludHMubGVuZ3RoOyArK3IpIHtcbiAgICAgICAgICBpZiAodGhpcy5yaWdodFBvaW50c1tyXVsxXSAhPT0gaW50ZXJ2YWxbMV0pIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5yaWdodFBvaW50c1tyXSA9PT0gaW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHRoaXMucmlnaHRQb2ludHMuc3BsaWNlKHIsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIFNVQ0NFU1M7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBOT1RfRk9VTkQ7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHJlcG9ydExlZnRSYW5nZShhcnIsIGhpLCBjYikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGggJiYgYXJyW2ldWzBdIDw9IGhpOyArK2kpIHtcbiAgICB2YXIgciA9IGNiKGFycltpXSk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXBvcnRSaWdodFJhbmdlKGFyciwgbG8sIGNiKSB7XG4gIGZvciAodmFyIGkgPSBhcnIubGVuZ3RoIC0gMTsgaSA+PSAwICYmIGFycltpXVsxXSA+PSBsbzsgLS1pKSB7XG4gICAgdmFyIHIgPSBjYihhcnJbaV0pO1xuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVwb3J0UmFuZ2UoYXJyLCBjYikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgIHZhciByID0gY2IoYXJyW2ldKTtcbiAgICBpZiAocikge1xuICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICB9XG59XG5cbnByb3RvLnF1ZXJ5UG9pbnQgPSBmdW5jdGlvbiAoeCwgY2IpIHtcbiAgaWYgKHggPCB0aGlzLm1pZCkge1xuICAgIGlmICh0aGlzLmxlZnQpIHtcbiAgICAgIHZhciByID0gdGhpcy5sZWZ0LnF1ZXJ5UG9pbnQoeCwgY2IpO1xuICAgICAgaWYgKHIpIHtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXBvcnRMZWZ0UmFuZ2UodGhpcy5sZWZ0UG9pbnRzLCB4LCBjYik7XG4gIH0gZWxzZSBpZiAoeCA+IHRoaXMubWlkKSB7XG4gICAgaWYgKHRoaXMucmlnaHQpIHtcbiAgICAgIHZhciByID0gdGhpcy5yaWdodC5xdWVyeVBvaW50KHgsIGNiKTtcbiAgICAgIGlmIChyKSB7XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVwb3J0UmlnaHRSYW5nZSh0aGlzLnJpZ2h0UG9pbnRzLCB4LCBjYik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlcG9ydFJhbmdlKHRoaXMubGVmdFBvaW50cywgY2IpO1xuICB9XG59O1xuXG5wcm90by5xdWVyeUludGVydmFsID0gZnVuY3Rpb24gKGxvLCBoaSwgY2IpIHtcbiAgaWYgKGxvIDwgdGhpcy5taWQgJiYgdGhpcy5sZWZ0KSB7XG4gICAgdmFyIHIgPSB0aGlzLmxlZnQucXVlcnlJbnRlcnZhbChsbywgaGksIGNiKTtcbiAgICBpZiAocikge1xuICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICB9XG4gIGlmIChoaSA+IHRoaXMubWlkICYmIHRoaXMucmlnaHQpIHtcbiAgICB2YXIgciA9IHRoaXMucmlnaHQucXVlcnlJbnRlcnZhbChsbywgaGksIGNiKTtcbiAgICBpZiAocikge1xuICAgICAgcmV0dXJuIHI7XG4gICAgfVxuICB9XG4gIGlmIChoaSA8IHRoaXMubWlkKSB7XG4gICAgcmV0dXJuIHJlcG9ydExlZnRSYW5nZSh0aGlzLmxlZnRQb2ludHMsIGhpLCBjYik7XG4gIH0gZWxzZSBpZiAobG8gPiB0aGlzLm1pZCkge1xuICAgIHJldHVybiByZXBvcnRSaWdodFJhbmdlKHRoaXMucmlnaHRQb2ludHMsIGxvLCBjYik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlcG9ydFJhbmdlKHRoaXMubGVmdFBvaW50cywgY2IpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBjb21wYXJlTnVtYmVycyhhLCBiKSB7XG4gIHJldHVybiBhIC0gYjtcbn1cblxuZnVuY3Rpb24gY29tcGFyZUJlZ2luKGEsIGIpIHtcbiAgdmFyIGQgPSBhWzBdIC0gYlswXTtcbiAgaWYgKGQpIHtcbiAgICByZXR1cm4gZDtcbiAgfVxuICByZXR1cm4gYVsxXSAtIGJbMV07XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVFbmQoYSwgYikge1xuICB2YXIgZCA9IGFbMV0gLSBiWzFdO1xuICBpZiAoZCkge1xuICAgIHJldHVybiBkO1xuICB9XG4gIHJldHVybiBhWzBdIC0gYlswXTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW50ZXJ2YWxUcmVlKGludGVydmFscykge1xuICBpZiAoaW50ZXJ2YWxzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBwdHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnRlcnZhbHMubGVuZ3RoOyArK2kpIHtcbiAgICBwdHMucHVzaChpbnRlcnZhbHNbaV1bMF0sIGludGVydmFsc1tpXVsxXSk7XG4gIH1cbiAgcHRzLnNvcnQoY29tcGFyZU51bWJlcnMpO1xuXG4gIHZhciBtaWQgPSBwdHNbcHRzLmxlbmd0aCA+PiAxXTtcblxuICB2YXIgbGVmdEludGVydmFscyA9IFtdO1xuICB2YXIgcmlnaHRJbnRlcnZhbHMgPSBbXTtcbiAgdmFyIGNlbnRlckludGVydmFscyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGludGVydmFscy5sZW5ndGg7ICsraSkge1xuICAgIHZhciBzID0gaW50ZXJ2YWxzW2ldO1xuICAgIGlmIChzWzFdIDwgbWlkKSB7XG4gICAgICBsZWZ0SW50ZXJ2YWxzLnB1c2gocyk7XG4gICAgfSBlbHNlIGlmIChtaWQgPCBzWzBdKSB7XG4gICAgICByaWdodEludGVydmFscy5wdXNoKHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjZW50ZXJJbnRlcnZhbHMucHVzaChzKTtcbiAgICB9XG4gIH1cblxuICAvL1NwbGl0IGNlbnRlciBpbnRlcnZhbHNcbiAgdmFyIGxlZnRQb2ludHMgPSBjZW50ZXJJbnRlcnZhbHM7XG4gIHZhciByaWdodFBvaW50cyA9IGNlbnRlckludGVydmFscy5zbGljZSgpO1xuICBsZWZ0UG9pbnRzLnNvcnQoY29tcGFyZUJlZ2luKTtcbiAgcmlnaHRQb2ludHMuc29ydChjb21wYXJlRW5kKTtcblxuICByZXR1cm4gbmV3IEludGVydmFsVHJlZU5vZGUobWlkLCBjcmVhdGVJbnRlcnZhbFRyZWUobGVmdEludGVydmFscyksIGNyZWF0ZUludGVydmFsVHJlZShyaWdodEludGVydmFscyksIGxlZnRQb2ludHMsIHJpZ2h0UG9pbnRzKTtcbn1cblxuLy9Vc2VyIGZyaWVuZGx5IHdyYXBwZXIgdGhhdCBtYWtlcyBpdCBwb3NzaWJsZSB0byBzdXBwb3J0IGVtcHR5IHRyZWVzXG5mdW5jdGlvbiBJbnRlcnZhbFRyZWUocm9vdCkge1xuICB0aGlzLnJvb3QgPSByb290O1xufVxuXG52YXIgdHByb3RvID0gSW50ZXJ2YWxUcmVlLnByb3RvdHlwZTtcblxudHByb3RvLmluc2VydCA9IGZ1bmN0aW9uIChpbnRlcnZhbCkge1xuICBpZiAodGhpcy5yb290KSB7XG4gICAgdGhpcy5yb290Lmluc2VydChpbnRlcnZhbCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5yb290ID0gbmV3IEludGVydmFsVHJlZU5vZGUoaW50ZXJ2YWxbMF0sIG51bGwsIG51bGwsIFtpbnRlcnZhbF0sIFtpbnRlcnZhbF0pO1xuICB9XG59O1xuXG50cHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24gKGludGVydmFsKSB7XG4gIGlmICh0aGlzLnJvb3QpIHtcbiAgICB2YXIgciA9IHRoaXMucm9vdC5yZW1vdmUoaW50ZXJ2YWwpO1xuICAgIGlmIChyID09PSBFTVBUWSkge1xuICAgICAgdGhpcy5yb290ID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHIgIT09IE5PVF9GT1VORDtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG50cHJvdG8ucXVlcnlQb2ludCA9IGZ1bmN0aW9uIChwLCBjYikge1xuICBpZiAodGhpcy5yb290KSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5xdWVyeVBvaW50KHAsIGNiKTtcbiAgfVxufTtcblxudHByb3RvLnF1ZXJ5SW50ZXJ2YWwgPSBmdW5jdGlvbiAobG8sIGhpLCBjYikge1xuICBpZiAobG8gPD0gaGkgJiYgdGhpcy5yb290KSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdC5xdWVyeUludGVydmFsKGxvLCBoaSwgY2IpO1xuICB9XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkodHByb3RvLCAnY291bnQnLCB7XG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIGlmICh0aGlzLnJvb3QpIHtcbiAgICAgIHJldHVybiB0aGlzLnJvb3QuY291bnQ7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KHRwcm90bywgJ2ludGVydmFscycsIHtcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgaWYgKHRoaXMucm9vdCkge1xuICAgICAgcmV0dXJuIHRoaXMucm9vdC5pbnRlcnZhbHMoW10pO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVXcmFwcGVyKGludGVydmFscykge1xuICBpZiAoIWludGVydmFscyB8fCBpbnRlcnZhbHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG5ldyBJbnRlcnZhbFRyZWUobnVsbCk7XG4gIH1cbiAgcmV0dXJuIG5ldyBJbnRlcnZhbFRyZWUoY3JlYXRlSW50ZXJ2YWxUcmVlKGludGVydmFscykpO1xufSIsImltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheSc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgY3JlYXRlSW50ZXJ2YWxUcmVlIGZyb20gJy4uL3ZlbmRvci9pbnRlcnZhbFRyZWUnO1xuXG4vLyBQb3NpdGlvbiBjYWNoZSByZXF1aXJlbWVudHM6XG4vLyAgIE8obG9nKG4pKSBsb29rdXAgb2YgY2VsbHMgdG8gcmVuZGVyIGZvciBhIGdpdmVuIHZpZXdwb3J0IHNpemVcbi8vICAgTygxKSBsb29rdXAgb2Ygc2hvcnRlc3QgbWVhc3VyZWQgY29sdW1uIChzbyB3ZSBrbm93IHdoZW4gdG8gZW50ZXIgcGhhc2UgMSlcbnZhciBQb3NpdGlvbkNhY2hlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQb3NpdGlvbkNhY2hlKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb3NpdGlvbkNhY2hlKTtcblxuICAgIHRoaXMuX2NvbHVtblNpemVNYXAgPSB7fTtcbiAgICB0aGlzLl9pbnRlcnZhbFRyZWUgPSBjcmVhdGVJbnRlcnZhbFRyZWUoKTtcbiAgICB0aGlzLl9sZWZ0TWFwID0ge307XG4gIH1cbiAgLy8gVHJhY2tzIHRoZSBoZWlnaHQgb2YgZWFjaCBjb2x1bW5cblxuXG4gIC8vIFN0b3JlIHRvcHMgYW5kIGJvdHRvbXMgb2YgZWFjaCBjZWxsIGZvciBmYXN0IGludGVyc2VjdGlvbiBsb29rdXAuXG5cblxuICAvLyBNYXBzIGNlbGwgaW5kZXggdG8geCBjb29yZGluYXRlcyBmb3IgcXVpY2sgbG9va3VwLlxuXG5cbiAgX2NyZWF0ZUNsYXNzKFBvc2l0aW9uQ2FjaGUsIFt7XG4gICAga2V5OiAnZXN0aW1hdGVUb3RhbEhlaWdodCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVzdGltYXRlVG90YWxIZWlnaHQoY2VsbENvdW50LCBjb2x1bW5Db3VudCwgZGVmYXVsdENlbGxIZWlnaHQpIHtcbiAgICAgIHZhciB1bm1lYXN1cmVkQ2VsbENvdW50ID0gY2VsbENvdW50IC0gdGhpcy5jb3VudDtcbiAgICAgIHJldHVybiB0aGlzLnRhbGxlc3RDb2x1bW5TaXplICsgTWF0aC5jZWlsKHVubWVhc3VyZWRDZWxsQ291bnQgLyBjb2x1bW5Db3VudCkgKiBkZWZhdWx0Q2VsbEhlaWdodDtcbiAgICB9XG5cbiAgICAvLyBSZW5kZXIgYWxsIGNlbGxzIHZpc2libGUgd2l0aGluIHRoZSB2aWV3cG9ydCByYW5nZSBkZWZpbmVkLlxuXG4gIH0sIHtcbiAgICBrZXk6ICdyYW5nZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJhbmdlKHNjcm9sbFRvcCwgY2xpZW50SGVpZ2h0LCByZW5kZXJDYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgdGhpcy5faW50ZXJ2YWxUcmVlLnF1ZXJ5SW50ZXJ2YWwoc2Nyb2xsVG9wLCBzY3JvbGxUb3AgKyBjbGllbnRIZWlnaHQsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDMpLFxuICAgICAgICAgICAgdG9wID0gX3JlZjJbMF0sXG4gICAgICAgICAgICBfID0gX3JlZjJbMV0sXG4gICAgICAgICAgICBpbmRleCA9IF9yZWYyWzJdO1xuXG4gICAgICAgIHJldHVybiByZW5kZXJDYWxsYmFjayhpbmRleCwgX3RoaXMuX2xlZnRNYXBbaW5kZXhdLCB0b3ApO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0UG9zaXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQb3NpdGlvbihpbmRleCwgbGVmdCwgdG9wLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuX2ludGVydmFsVHJlZS5pbnNlcnQoW3RvcCwgdG9wICsgaGVpZ2h0LCBpbmRleF0pO1xuICAgICAgdGhpcy5fbGVmdE1hcFtpbmRleF0gPSBsZWZ0O1xuXG4gICAgICB2YXIgY29sdW1uU2l6ZU1hcCA9IHRoaXMuX2NvbHVtblNpemVNYXA7XG4gICAgICB2YXIgY29sdW1uSGVpZ2h0ID0gY29sdW1uU2l6ZU1hcFtsZWZ0XTtcbiAgICAgIGlmIChjb2x1bW5IZWlnaHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb2x1bW5TaXplTWFwW2xlZnRdID0gdG9wICsgaGVpZ2h0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29sdW1uU2l6ZU1hcFtsZWZ0XSA9IE1hdGgubWF4KGNvbHVtbkhlaWdodCwgdG9wICsgaGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb3VudCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW50ZXJ2YWxUcmVlLmNvdW50O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3Nob3J0ZXN0Q29sdW1uU2l6ZScsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgY29sdW1uU2l6ZU1hcCA9IHRoaXMuX2NvbHVtblNpemVNYXA7XG5cbiAgICAgIHZhciBzaXplID0gMDtcblxuICAgICAgZm9yICh2YXIgaSBpbiBjb2x1bW5TaXplTWFwKSB7XG4gICAgICAgIHZhciBoZWlnaHQgPSBjb2x1bW5TaXplTWFwW2ldO1xuICAgICAgICBzaXplID0gc2l6ZSA9PT0gMCA/IGhlaWdodCA6IE1hdGgubWluKHNpemUsIGhlaWdodCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaXplO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3RhbGxlc3RDb2x1bW5TaXplJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHZhciBjb2x1bW5TaXplTWFwID0gdGhpcy5fY29sdW1uU2l6ZU1hcDtcblxuICAgICAgdmFyIHNpemUgPSAwO1xuXG4gICAgICBmb3IgKHZhciBpIGluIGNvbHVtblNpemVNYXApIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IGNvbHVtblNpemVNYXBbaV07XG4gICAgICAgIHNpemUgPSBNYXRoLm1heChzaXplLCBoZWlnaHQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUG9zaXRpb25DYWNoZTtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgUG9zaXRpb25DYWNoZTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9PYmplY3QkZ2V0UHJvdG90eXBlT2YgZnJvbSAnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgY24gZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBwb2x5ZmlsbCB9IGZyb20gJ3JlYWN0LWxpZmVjeWNsZXMtY29tcGF0JztcbmltcG9ydCBQb3NpdGlvbkNhY2hlIGZyb20gJy4vUG9zaXRpb25DYWNoZSc7XG5pbXBvcnQgeyByZXF1ZXN0QW5pbWF0aW9uVGltZW91dCwgY2FuY2VsQW5pbWF0aW9uVGltZW91dCB9IGZyb20gJy4uL3V0aWxzL3JlcXVlc3RBbmltYXRpb25UaW1lb3V0JztcblxudmFyIGVtcHR5T2JqZWN0ID0ge307XG5cbi8qKlxuICogU3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgbWlsaXNlY29uZHMgZHVyaW5nIHdoaWNoIHRvIGRpc2FibGUgcG9pbnRlciBldmVudHMgd2hpbGUgYSBzY3JvbGwgaXMgaW4gcHJvZ3Jlc3MuXG4gKiBUaGlzIGltcHJvdmVzIHBlcmZvcm1hbmNlIGFuZCBtYWtlcyBzY3JvbGxpbmcgc21vb3RoZXIuXG4gKi9cbmV4cG9ydCB2YXIgREVGQVVMVF9TQ1JPTExJTkdfUkVTRVRfVElNRV9JTlRFUlZBTCA9IDE1MDtcblxuLyoqXG4gKiBUaGlzIGNvbXBvbmVudCBlZmZpY2llbnRseSBkaXNwbGF5cyBhcmJpdHJhcmlseSBwb3NpdGlvbmVkIGNlbGxzIHVzaW5nIHdpbmRvd2luZyB0ZWNobmlxdWVzLlxuICogQ2VsbCBwb3NpdGlvbiBpcyBkZXRlcm1pbmVkIGJ5IGFuIGluamVjdGVkIGBjZWxsUG9zaXRpb25lcmAgcHJvcGVydHkuXG4gKiBXaW5kb3dpbmcgaXMgdmVydGljYWw7IHRoaXMgY29tcG9uZW50IGRvZXMgbm90IHN1cHBvcnQgaG9yaXpvbnRhbCBzY3JvbGxpbmcuXG4gKlxuICogUmVuZGVyaW5nIG9jY3VycyBpbiB0d28gcGhhc2VzOlxuICogMSkgRmlyc3QgcGFzcyB1c2VzIGVzdGltYXRlZCBjZWxsIHNpemVzIChwcm92aWRlZCBieSB0aGUgY2FjaGUpIHRvIGRldGVybWluZSBob3cgbWFueSBjZWxscyB0byBtZWFzdXJlIGluIGEgYmF0Y2guXG4gKiAgICBCYXRjaCBzaXplIGlzIGNob3NlbiB1c2luZyBhIGZhc3QsIG5haXZlIGxheW91dCBhbGdvcml0aG0gdGhhdCBzdGFja3MgaW1hZ2VzIGluIG9yZGVyIHVudGlsIHRoZSB2aWV3cG9ydCBoYXMgYmVlbiBmaWxsZWQuXG4gKiAgICBBZnRlciBtZWFzdXJlbWVudCBpcyBjb21wbGV0ZSAoY29tcG9uZW50RGlkTW91bnQgb3IgY29tcG9uZW50RGlkVXBkYXRlKSB0aGlzIGNvbXBvbmVudCBldmFsdWF0ZXMgcG9zaXRpb25lZCBjZWxsc1xuICogICAgaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIGlmIGFub3RoZXIgbWVhc3VyZW1lbnQgcGFzcyBpcyByZXF1aXJlZCAoZWcgaWYgYWN0dWFsIGNlbGwgc2l6ZXMgd2VyZSBsZXNzIHRoYW4gZXN0aW1hdGVkIHNpemVzKS5cbiAqICAgIEFsbCBtZWFzdXJlbWVudHMgYXJlIHBlcm1hbmVudGx5IGNhY2hlZCAoa2V5ZWQgYnkgYGtleU1hcHBlcmApIGZvciBwZXJmb3JtYW5jZSBwdXJwb3Nlcy5cbiAqIDIpIFNlY29uZCBwYXNzIHVzZXMgdGhlIGV4dGVybmFsIGBjZWxsUG9zaXRpb25lcmAgdG8gbGF5b3V0IGNlbGxzLlxuICogICAgQXQgdGhpcyB0aW1lIHRoZSBwb3NpdGlvbmVyIGhhcyBhY2Nlc3MgdG8gY2FjaGVkIHNpemUgbWVhc3VyZW1lbnRzIGZvciBhbGwgY2VsbHMuXG4gKiAgICBUaGUgcG9zaXRpb25zIGl0IHJldHVybnMgYXJlIGNhY2hlZCBieSBNYXNvbnJ5IGZvciBmYXN0IGFjY2VzcyBsYXRlci5cbiAqICAgIFBoYXNlIG9uZSBpcyByZXBlYXRlZCBpZiB0aGUgdXNlciBzY3JvbGxzIGJleW9uZCB0aGUgY3VycmVudCBsYXlvdXQncyBib3VuZHMuXG4gKiAgICBJZiB0aGUgbGF5b3V0IGlzIGludmFsaWRhdGVkIGR1ZSB0byBlZyBhIHJlc2l6ZSwgY2FjaGVkIHBvc2l0aW9ucyBjYW4gYmUgY2xlYXJlZCB1c2luZyBgcmVjb21wdXRlQ2VsbFBvc2l0aW9ucygpYC5cbiAqXG4gKiBBbmltYXRpb24gY29uc3RyYWludHM6XG4gKiAgIFNpbXBsZSBhbmltYXRpb25zIGFyZSBzdXBwb3J0ZWQgKGVnIHRyYW5zbGF0ZS9zbGlkZSBpbnRvIHBsYWNlIG9uIGluaXRpYWwgcmV2ZWFsKS5cbiAqICAgTW9yZSBjb21wbGV4IGFuaW1hdGlvbnMgYXJlIG5vdCAoZWcgZmx5aW5nIGZyb20gb25lIHBvc2l0aW9uIHRvIGFub3RoZXIgb24gcmVzaXplKS5cbiAqXG4gKiBMYXlvdXQgY29uc3RyYWludHM6XG4gKiAgIFRoaXMgY29tcG9uZW50IHN1cHBvcnRzIG11bHRpLWNvbHVtbiBsYXlvdXQuXG4gKiAgIFRoZSBoZWlnaHQgb2YgZWFjaCBpdGVtIG1heSB2YXJ5LlxuICogICBUaGUgd2lkdGggb2YgZWFjaCBpdGVtIG11c3Qgbm90IGV4Y2VlZCB0aGUgd2lkdGggb2YgdGhlIGNvbHVtbiBpdCBpcyBcImluXCIuXG4gKiAgIFRoZSBsZWZ0IHBvc2l0aW9uIG9mIGFsbCBpdGVtcyB3aXRoaW4gYSBjb2x1bW4gbXVzdCBhbGlnbi5cbiAqICAgKEl0ZW1zIG1heSBub3Qgc3BhbiBtdWx0aXBsZSBjb2x1bW5zLilcbiAqL1xuXG52YXIgTWFzb25yeSA9IGZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTWFzb25yeSwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIE1hc29ucnkoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1hc29ucnkpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX3JlZiA9IE1hc29ucnkuX19wcm90b19fIHx8IF9PYmplY3QkZ2V0UHJvdG90eXBlT2YoTWFzb25yeSkpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLnN0YXRlID0ge1xuICAgICAgaXNTY3JvbGxpbmc6IGZhbHNlLFxuICAgICAgc2Nyb2xsVG9wOiAwXG4gICAgfSwgX3RoaXMuX2ludmFsaWRhdGVPblVwZGF0ZVN0YXJ0SW5kZXggPSBudWxsLCBfdGhpcy5faW52YWxpZGF0ZU9uVXBkYXRlU3RvcEluZGV4ID0gbnVsbCwgX3RoaXMuX3Bvc2l0aW9uQ2FjaGUgPSBuZXcgUG9zaXRpb25DYWNoZSgpLCBfdGhpcy5fc3RhcnRJbmRleCA9IG51bGwsIF90aGlzLl9zdGFydEluZGV4TWVtb2l6ZWQgPSBudWxsLCBfdGhpcy5fc3RvcEluZGV4ID0gbnVsbCwgX3RoaXMuX3N0b3BJbmRleE1lbW9pemVkID0gbnVsbCwgX3RoaXMuX2RlYm91bmNlUmVzZXRJc1Njcm9sbGluZ0NhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1Njcm9sbGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sIF90aGlzLl9zZXRTY3JvbGxpbmdDb250YWluZXJSZWYgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgICBfdGhpcy5fc2Nyb2xsaW5nQ29udGFpbmVyID0gcmVmO1xuICAgIH0sIF90aGlzLl9vblNjcm9sbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGhlaWdodCA9IF90aGlzLnByb3BzLmhlaWdodDtcblxuXG4gICAgICB2YXIgZXZlbnRTY3JvbGxUb3AgPSBldmVudC50YXJnZXQuc2Nyb2xsVG9wO1xuXG4gICAgICAvLyBXaGVuIHRoaXMgY29tcG9uZW50IGlzIHNocnVuayBkcmFzdGljYWxseSwgUmVhY3QgZGlzcGF0Y2hlcyBhIHNlcmllcyBvZiBiYWNrLXRvLWJhY2sgc2Nyb2xsIGV2ZW50cyxcbiAgICAgIC8vIEdyYWR1YWxseSBjb252ZXJnaW5nIG9uIGEgc2Nyb2xsVG9wIHRoYXQgaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIG5ldywgc21hbGxlciBoZWlnaHQuXG4gICAgICAvLyBUaGlzIGNhdXNlcyBhIHNlcmllcyBvZiByYXBpZCByZW5kZXJzIHRoYXQgaXMgc2xvdyBmb3IgbG9uZyBsaXN0cy5cbiAgICAgIC8vIFdlIGNhbiBhdm9pZCB0aGF0IGJ5IGRvaW5nIHNvbWUgc2ltcGxlIGJvdW5kcyBjaGVja2luZyB0byBlbnN1cmUgdGhhdCBzY3JvbGwgb2Zmc2V0cyBuZXZlciBleGNlZWQgdGhlaXIgYm91bmRzLlxuICAgICAgdmFyIHNjcm9sbFRvcCA9IE1hdGgubWluKE1hdGgubWF4KDAsIF90aGlzLl9nZXRFc3RpbWF0ZWRUb3RhbEhlaWdodCgpIC0gaGVpZ2h0KSwgZXZlbnRTY3JvbGxUb3ApO1xuXG4gICAgICAvLyBPbiBpT1MsIHdlIGNhbiBhcnJpdmUgYXQgbmVnYXRpdmUgb2Zmc2V0cyBieSBzd2lwaW5nIHBhc3QgdGhlIHN0YXJ0IG9yIGVuZC5cbiAgICAgIC8vIEF2b2lkIHJlLXJlbmRlcmluZyBpbiB0aGlzIGNhc2UgYXMgaXQgY2FuIGNhdXNlIHByb2JsZW1zOyBzZWUgIzUzMiBmb3IgbW9yZS5cbiAgICAgIGlmIChldmVudFNjcm9sbFRvcCAhPT0gc2Nyb2xsVG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUHJldmVudCBwb2ludGVyIGV2ZW50cyBmcm9tIGludGVycnVwdGluZyBhIHNtb290aCBzY3JvbGxcbiAgICAgIF90aGlzLl9kZWJvdW5jZVJlc2V0SXNTY3JvbGxpbmcoKTtcblxuICAgICAgLy8gQ2VydGFpbiBkZXZpY2VzIChsaWtlIEFwcGxlIHRvdWNocGFkKSByYXBpZC1maXJlIGR1cGxpY2F0ZSBldmVudHMuXG4gICAgICAvLyBEb24ndCBmb3JjZSBhIHJlLXJlbmRlciBpZiB0aGlzIGlzIHRoZSBjYXNlLlxuICAgICAgLy8gVGhlIG1vdXNlIG1heSBtb3ZlIGZhc3RlciB0aGVuIHRoZSBhbmltYXRpb24gZnJhbWUgZG9lcy5cbiAgICAgIC8vIFVzZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgdG8gYXZvaWQgb3Zlci11cGRhdGluZy5cbiAgICAgIGlmIChfdGhpcy5zdGF0ZS5zY3JvbGxUb3AgIT09IHNjcm9sbFRvcCkge1xuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNTY3JvbGxpbmc6IHRydWUsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3BcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWFzb25yeSwgW3tcbiAgICBrZXk6ICdjbGVhckNlbGxQb3NpdGlvbnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhckNlbGxQb3NpdGlvbnMoKSB7XG4gICAgICB0aGlzLl9wb3NpdGlvbkNhY2hlID0gbmV3IFBvc2l0aW9uQ2FjaGUoKTtcbiAgICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBIQUNLIFRoaXMgbWV0aG9kIHNpZ25hdHVyZSB3YXMgaW50ZW5kZWQgZm9yIEdyaWRcblxuICB9LCB7XG4gICAga2V5OiAnaW52YWxpZGF0ZUNlbGxTaXplQWZ0ZXJSZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbnZhbGlkYXRlQ2VsbFNpemVBZnRlclJlbmRlcihfcmVmMikge1xuICAgICAgdmFyIGluZGV4ID0gX3JlZjIucm93SW5kZXg7XG5cbiAgICAgIGlmICh0aGlzLl9pbnZhbGlkYXRlT25VcGRhdGVTdGFydEluZGV4ID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2ludmFsaWRhdGVPblVwZGF0ZVN0YXJ0SW5kZXggPSBpbmRleDtcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZU9uVXBkYXRlU3RvcEluZGV4ID0gaW5kZXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlT25VcGRhdGVTdGFydEluZGV4ID0gTWF0aC5taW4odGhpcy5faW52YWxpZGF0ZU9uVXBkYXRlU3RhcnRJbmRleCwgaW5kZXgpO1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlT25VcGRhdGVTdG9wSW5kZXggPSBNYXRoLm1heCh0aGlzLl9pbnZhbGlkYXRlT25VcGRhdGVTdG9wSW5kZXgsIGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZWNvbXB1dGVDZWxsUG9zaXRpb25zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVjb21wdXRlQ2VsbFBvc2l0aW9ucygpIHtcbiAgICAgIHZhciBzdG9wSW5kZXggPSB0aGlzLl9wb3NpdGlvbkNhY2hlLmNvdW50IC0gMTtcblxuICAgICAgdGhpcy5fcG9zaXRpb25DYWNoZSA9IG5ldyBQb3NpdGlvbkNhY2hlKCk7XG4gICAgICB0aGlzLl9wb3B1bGF0ZVBvc2l0aW9uQ2FjaGUoMCwgc3RvcEluZGV4KTtcblxuICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB0aGlzLl9jaGVja0ludmFsaWRhdGVPblVwZGF0ZSgpO1xuICAgICAgdGhpcy5faW52b2tlT25TY3JvbGxDYWxsYmFjaygpO1xuICAgICAgdGhpcy5faW52b2tlT25DZWxsc1JlbmRlcmVkQ2FsbGJhY2soKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIHRoaXMuX2NoZWNrSW52YWxpZGF0ZU9uVXBkYXRlKCk7XG4gICAgICB0aGlzLl9pbnZva2VPblNjcm9sbENhbGxiYWNrKCk7XG4gICAgICB0aGlzLl9pbnZva2VPbkNlbGxzUmVuZGVyZWRDYWxsYmFjaygpO1xuXG4gICAgICBpZiAodGhpcy5wcm9wcy5zY3JvbGxUb3AgIT09IHByZXZQcm9wcy5zY3JvbGxUb3ApIHtcbiAgICAgICAgdGhpcy5fZGVib3VuY2VSZXNldElzU2Nyb2xsaW5nKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLl9kZWJvdW5jZVJlc2V0SXNTY3JvbGxpbmdJZCkge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25UaW1lb3V0KHRoaXMuX2RlYm91bmNlUmVzZXRJc1Njcm9sbGluZ0lkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgYXV0b0hlaWdodCA9IF9wcm9wcy5hdXRvSGVpZ2h0LFxuICAgICAgICAgIGNlbGxDb3VudCA9IF9wcm9wcy5jZWxsQ291bnQsXG4gICAgICAgICAgY2VsbE1lYXN1cmVyQ2FjaGUgPSBfcHJvcHMuY2VsbE1lYXN1cmVyQ2FjaGUsXG4gICAgICAgICAgY2VsbFJlbmRlcmVyID0gX3Byb3BzLmNlbGxSZW5kZXJlcixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIGhlaWdodCA9IF9wcm9wcy5oZWlnaHQsXG4gICAgICAgICAgaWQgPSBfcHJvcHMuaWQsXG4gICAgICAgICAga2V5TWFwcGVyID0gX3Byb3BzLmtleU1hcHBlcixcbiAgICAgICAgICBvdmVyc2NhbkJ5UGl4ZWxzID0gX3Byb3BzLm92ZXJzY2FuQnlQaXhlbHMsXG4gICAgICAgICAgcm9sZSA9IF9wcm9wcy5yb2xlLFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIHRhYkluZGV4ID0gX3Byb3BzLnRhYkluZGV4LFxuICAgICAgICAgIHdpZHRoID0gX3Byb3BzLndpZHRoLFxuICAgICAgICAgIHJvd0RpcmVjdGlvbiA9IF9wcm9wcy5yb3dEaXJlY3Rpb247XG4gICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBpc1Njcm9sbGluZyA9IF9zdGF0ZS5pc1Njcm9sbGluZyxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfc3RhdGUuc2Nyb2xsVG9wO1xuXG5cbiAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuXG4gICAgICB2YXIgZXN0aW1hdGVUb3RhbEhlaWdodCA9IHRoaXMuX2dldEVzdGltYXRlZFRvdGFsSGVpZ2h0KCk7XG5cbiAgICAgIHZhciBzaG9ydGVzdENvbHVtblNpemUgPSB0aGlzLl9wb3NpdGlvbkNhY2hlLnNob3J0ZXN0Q29sdW1uU2l6ZTtcbiAgICAgIHZhciBtZWFzdXJlZENlbGxDb3VudCA9IHRoaXMuX3Bvc2l0aW9uQ2FjaGUuY291bnQ7XG5cbiAgICAgIHZhciBzdGFydEluZGV4ID0gMDtcbiAgICAgIHZhciBzdG9wSW5kZXggPSB2b2lkIDA7XG5cbiAgICAgIHRoaXMuX3Bvc2l0aW9uQ2FjaGUucmFuZ2UoTWF0aC5tYXgoMCwgc2Nyb2xsVG9wIC0gb3ZlcnNjYW5CeVBpeGVscyksIGhlaWdodCArIG92ZXJzY2FuQnlQaXhlbHMgKiAyLCBmdW5jdGlvbiAoaW5kZXgsIGxlZnQsIHRvcCkge1xuICAgICAgICB2YXIgX3N0eWxlO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc3RvcEluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHN0YXJ0SW5kZXggPSBpbmRleDtcbiAgICAgICAgICBzdG9wSW5kZXggPSBpbmRleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGFydEluZGV4ID0gTWF0aC5taW4oc3RhcnRJbmRleCwgaW5kZXgpO1xuICAgICAgICAgIHN0b3BJbmRleCA9IE1hdGgubWF4KHN0b3BJbmRleCwgaW5kZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGRyZW4ucHVzaChjZWxsUmVuZGVyZXIoe1xuICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICBpc1Njcm9sbGluZzogaXNTY3JvbGxpbmcsXG4gICAgICAgICAga2V5OiBrZXlNYXBwZXIoaW5kZXgpLFxuICAgICAgICAgIHBhcmVudDogX3RoaXMyLFxuICAgICAgICAgIHN0eWxlOiAoX3N0eWxlID0ge1xuICAgICAgICAgICAgaGVpZ2h0OiBjZWxsTWVhc3VyZXJDYWNoZS5nZXRIZWlnaHQoaW5kZXgpXG4gICAgICAgICAgfSwgX2RlZmluZVByb3BlcnR5KF9zdHlsZSwgcm93RGlyZWN0aW9uID09PSAnbHRyJyA/ICdsZWZ0JyA6ICdyaWdodCcsIGxlZnQpLCBfZGVmaW5lUHJvcGVydHkoX3N0eWxlLCAncG9zaXRpb24nLCAnYWJzb2x1dGUnKSwgX2RlZmluZVByb3BlcnR5KF9zdHlsZSwgJ3RvcCcsIHRvcCksIF9kZWZpbmVQcm9wZXJ0eShfc3R5bGUsICd3aWR0aCcsIGNlbGxNZWFzdXJlckNhY2hlLmdldFdpZHRoKGluZGV4KSksIF9zdHlsZSlcbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFdlIG5lZWQgdG8gbWVhc3VyZSBhZGRpdGlvbmFsIGNlbGxzIGZvciB0aGlzIGxheW91dFxuICAgICAgaWYgKHNob3J0ZXN0Q29sdW1uU2l6ZSA8IHNjcm9sbFRvcCArIGhlaWdodCArIG92ZXJzY2FuQnlQaXhlbHMgJiYgbWVhc3VyZWRDZWxsQ291bnQgPCBjZWxsQ291bnQpIHtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IE1hdGgubWluKGNlbGxDb3VudCAtIG1lYXN1cmVkQ2VsbENvdW50LCBNYXRoLmNlaWwoKHNjcm9sbFRvcCArIGhlaWdodCArIG92ZXJzY2FuQnlQaXhlbHMgLSBzaG9ydGVzdENvbHVtblNpemUpIC8gY2VsbE1lYXN1cmVyQ2FjaGUuZGVmYXVsdEhlaWdodCAqIHdpZHRoIC8gY2VsbE1lYXN1cmVyQ2FjaGUuZGVmYXVsdFdpZHRoKSk7XG5cbiAgICAgICAgZm9yICh2YXIgX2luZGV4ID0gbWVhc3VyZWRDZWxsQ291bnQ7IF9pbmRleCA8IG1lYXN1cmVkQ2VsbENvdW50ICsgYmF0Y2hTaXplOyBfaW5kZXgrKykge1xuICAgICAgICAgIHN0b3BJbmRleCA9IF9pbmRleDtcblxuICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2VsbFJlbmRlcmVyKHtcbiAgICAgICAgICAgIGluZGV4OiBfaW5kZXgsXG4gICAgICAgICAgICBpc1Njcm9sbGluZzogaXNTY3JvbGxpbmcsXG4gICAgICAgICAgICBrZXk6IGtleU1hcHBlcihfaW5kZXgpLFxuICAgICAgICAgICAgcGFyZW50OiB0aGlzLFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgd2lkdGg6IGNlbGxNZWFzdXJlckNhY2hlLmdldFdpZHRoKF9pbmRleClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5fc3RhcnRJbmRleCA9IHN0YXJ0SW5kZXg7XG4gICAgICB0aGlzLl9zdG9wSW5kZXggPSBzdG9wSW5kZXg7XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAge1xuICAgICAgICAgIHJlZjogdGhpcy5fc2V0U2Nyb2xsaW5nQ29udGFpbmVyUmVmLFxuICAgICAgICAgICdhcmlhLWxhYmVsJzogdGhpcy5wcm9wc1snYXJpYS1sYWJlbCddLFxuICAgICAgICAgIGNsYXNzTmFtZTogY24oJ1JlYWN0VmlydHVhbGl6ZWRfX01hc29ucnknLCBjbGFzc05hbWUpLFxuICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICBvblNjcm9sbDogdGhpcy5fb25TY3JvbGwsXG4gICAgICAgICAgcm9sZTogcm9sZSxcbiAgICAgICAgICBzdHlsZTogX2V4dGVuZHMoe1xuICAgICAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICAgICAgICBkaXJlY3Rpb246ICdsdHInLFxuICAgICAgICAgICAgaGVpZ2h0OiBhdXRvSGVpZ2h0ID8gJ2F1dG8nIDogaGVpZ2h0LFxuICAgICAgICAgICAgb3ZlcmZsb3dYOiAnaGlkZGVuJyxcbiAgICAgICAgICAgIG92ZXJmbG93WTogZXN0aW1hdGVUb3RhbEhlaWdodCA8IGhlaWdodCA/ICdoaWRkZW4nIDogJ2F1dG8nLFxuICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBXZWJraXRPdmVyZmxvd1Njcm9sbGluZzogJ3RvdWNoJyxcbiAgICAgICAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nXG4gICAgICAgICAgfSwgc3R5bGUpLFxuICAgICAgICAgIHRhYkluZGV4OiB0YWJJbmRleCB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ1JlYWN0VmlydHVhbGl6ZWRfX01hc29ucnlfX2lubmVyU2Nyb2xsQ29udGFpbmVyJyxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgIGhlaWdodDogZXN0aW1hdGVUb3RhbEhlaWdodCxcbiAgICAgICAgICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgbWF4SGVpZ2h0OiBlc3RpbWF0ZVRvdGFsSGVpZ2h0LFxuICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgICAgICAgIHBvaW50ZXJFdmVudHM6IGlzU2Nyb2xsaW5nID8gJ25vbmUnIDogJycsXG4gICAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXG4gICAgICAgICAgICB9IH0sXG4gICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfY2hlY2tJbnZhbGlkYXRlT25VcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY2hlY2tJbnZhbGlkYXRlT25VcGRhdGUoKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuX2ludmFsaWRhdGVPblVwZGF0ZVN0YXJ0SW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhciBfc3RhcnRJbmRleCA9IHRoaXMuX2ludmFsaWRhdGVPblVwZGF0ZVN0YXJ0SW5kZXg7XG4gICAgICAgIHZhciBfc3RvcEluZGV4ID0gdGhpcy5faW52YWxpZGF0ZU9uVXBkYXRlU3RvcEluZGV4O1xuXG4gICAgICAgIHRoaXMuX2ludmFsaWRhdGVPblVwZGF0ZVN0YXJ0SW5kZXggPSBudWxsO1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlT25VcGRhdGVTdG9wSW5kZXggPSBudWxsO1xuXG4gICAgICAgIC8vIFF1ZXJ5IGV4dGVybmFsIGxheW91dCBsb2dpYyBmb3IgcG9zaXRpb24gb2YgbmV3bHktbWVhc3VyZWQgY2VsbHNcbiAgICAgICAgdGhpcy5fcG9wdWxhdGVQb3NpdGlvbkNhY2hlKF9zdGFydEluZGV4LCBfc3RvcEluZGV4KTtcblxuICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2RlYm91bmNlUmVzZXRJc1Njcm9sbGluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9kZWJvdW5jZVJlc2V0SXNTY3JvbGxpbmcoKSB7XG4gICAgICB2YXIgc2Nyb2xsaW5nUmVzZXRUaW1lSW50ZXJ2YWwgPSB0aGlzLnByb3BzLnNjcm9sbGluZ1Jlc2V0VGltZUludGVydmFsO1xuXG5cbiAgICAgIGlmICh0aGlzLl9kZWJvdW5jZVJlc2V0SXNTY3JvbGxpbmdJZCkge1xuICAgICAgICBjYW5jZWxBbmltYXRpb25UaW1lb3V0KHRoaXMuX2RlYm91bmNlUmVzZXRJc1Njcm9sbGluZ0lkKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fZGVib3VuY2VSZXNldElzU2Nyb2xsaW5nSWQgPSByZXF1ZXN0QW5pbWF0aW9uVGltZW91dCh0aGlzLl9kZWJvdW5jZVJlc2V0SXNTY3JvbGxpbmdDYWxsYmFjaywgc2Nyb2xsaW5nUmVzZXRUaW1lSW50ZXJ2YWwpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19nZXRFc3RpbWF0ZWRUb3RhbEhlaWdodCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRFc3RpbWF0ZWRUb3RhbEhlaWdodCgpIHtcbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjZWxsQ291bnQgPSBfcHJvcHMyLmNlbGxDb3VudCxcbiAgICAgICAgICBjZWxsTWVhc3VyZXJDYWNoZSA9IF9wcm9wczIuY2VsbE1lYXN1cmVyQ2FjaGUsXG4gICAgICAgICAgd2lkdGggPSBfcHJvcHMyLndpZHRoO1xuXG5cbiAgICAgIHZhciBlc3RpbWF0ZWRDb2x1bW5Db3VudCA9IE1hdGgubWF4KDEsIE1hdGguZmxvb3Iod2lkdGggLyBjZWxsTWVhc3VyZXJDYWNoZS5kZWZhdWx0V2lkdGgpKTtcblxuICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uQ2FjaGUuZXN0aW1hdGVUb3RhbEhlaWdodChjZWxsQ291bnQsIGVzdGltYXRlZENvbHVtbkNvdW50LCBjZWxsTWVhc3VyZXJDYWNoZS5kZWZhdWx0SGVpZ2h0KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfaW52b2tlT25TY3JvbGxDYWxsYmFjaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9pbnZva2VPblNjcm9sbENhbGxiYWNrKCkge1xuICAgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGhlaWdodCA9IF9wcm9wczMuaGVpZ2h0LFxuICAgICAgICAgIG9uU2Nyb2xsID0gX3Byb3BzMy5vblNjcm9sbDtcbiAgICAgIHZhciBzY3JvbGxUb3AgPSB0aGlzLnN0YXRlLnNjcm9sbFRvcDtcblxuXG4gICAgICBpZiAodGhpcy5fb25TY3JvbGxNZW1vaXplZCAhPT0gc2Nyb2xsVG9wKSB7XG4gICAgICAgIG9uU2Nyb2xsKHtcbiAgICAgICAgICBjbGllbnRIZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICBzY3JvbGxIZWlnaHQ6IHRoaXMuX2dldEVzdGltYXRlZFRvdGFsSGVpZ2h0KCksXG4gICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3BcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fb25TY3JvbGxNZW1vaXplZCA9IHNjcm9sbFRvcDtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfaW52b2tlT25DZWxsc1JlbmRlcmVkQ2FsbGJhY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfaW52b2tlT25DZWxsc1JlbmRlcmVkQ2FsbGJhY2soKSB7XG4gICAgICBpZiAodGhpcy5fc3RhcnRJbmRleE1lbW9pemVkICE9PSB0aGlzLl9zdGFydEluZGV4IHx8IHRoaXMuX3N0b3BJbmRleE1lbW9pemVkICE9PSB0aGlzLl9zdG9wSW5kZXgpIHtcbiAgICAgICAgdmFyIF9vbkNlbGxzUmVuZGVyZWQgPSB0aGlzLnByb3BzLm9uQ2VsbHNSZW5kZXJlZDtcblxuXG4gICAgICAgIF9vbkNlbGxzUmVuZGVyZWQoe1xuICAgICAgICAgIHN0YXJ0SW5kZXg6IHRoaXMuX3N0YXJ0SW5kZXgsXG4gICAgICAgICAgc3RvcEluZGV4OiB0aGlzLl9zdG9wSW5kZXhcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fc3RhcnRJbmRleE1lbW9pemVkID0gdGhpcy5fc3RhcnRJbmRleDtcbiAgICAgICAgdGhpcy5fc3RvcEluZGV4TWVtb2l6ZWQgPSB0aGlzLl9zdG9wSW5kZXg7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX3BvcHVsYXRlUG9zaXRpb25DYWNoZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9wb3B1bGF0ZVBvc2l0aW9uQ2FjaGUoc3RhcnRJbmRleCwgc3RvcEluZGV4KSB7XG4gICAgICB2YXIgX3Byb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2VsbE1lYXN1cmVyQ2FjaGUgPSBfcHJvcHM0LmNlbGxNZWFzdXJlckNhY2hlLFxuICAgICAgICAgIGNlbGxQb3NpdGlvbmVyID0gX3Byb3BzNC5jZWxsUG9zaXRpb25lcjtcblxuXG4gICAgICBmb3IgKHZhciBfaW5kZXgyID0gc3RhcnRJbmRleDsgX2luZGV4MiA8PSBzdG9wSW5kZXg7IF9pbmRleDIrKykge1xuICAgICAgICB2YXIgX2NlbGxQb3NpdGlvbmVyID0gY2VsbFBvc2l0aW9uZXIoX2luZGV4MiksXG4gICAgICAgICAgICBfbGVmdCA9IF9jZWxsUG9zaXRpb25lci5sZWZ0LFxuICAgICAgICAgICAgX3RvcCA9IF9jZWxsUG9zaXRpb25lci50b3A7XG5cbiAgICAgICAgdGhpcy5fcG9zaXRpb25DYWNoZS5zZXRQb3NpdGlvbihfaW5kZXgyLCBfbGVmdCwgX3RvcCwgY2VsbE1lYXN1cmVyQ2FjaGUuZ2V0SGVpZ2h0KF9pbmRleDIpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogJ2dldERlcml2ZWRTdGF0ZUZyb21Qcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgaWYgKG5leHRQcm9wcy5zY3JvbGxUb3AgIT09IHVuZGVmaW5lZCAmJiBwcmV2U3RhdGUuc2Nyb2xsVG9wICE9PSBuZXh0UHJvcHMuc2Nyb2xsVG9wKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaXNTY3JvbGxpbmc6IHRydWUsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBuZXh0UHJvcHMuc2Nyb2xsVG9wXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNYXNvbnJ5O1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuTWFzb25yeS5kZWZhdWx0UHJvcHMgPSB7XG4gIGF1dG9IZWlnaHQ6IGZhbHNlLFxuICBrZXlNYXBwZXI6IGlkZW50aXR5LFxuICBvbkNlbGxzUmVuZGVyZWQ6IG5vb3AsXG4gIG9uU2Nyb2xsOiBub29wLFxuICBvdmVyc2NhbkJ5UGl4ZWxzOiAyMCxcbiAgcm9sZTogJ2dyaWQnLFxuICBzY3JvbGxpbmdSZXNldFRpbWVJbnRlcnZhbDogREVGQVVMVF9TQ1JPTExJTkdfUkVTRVRfVElNRV9JTlRFUlZBTCxcbiAgc3R5bGU6IGVtcHR5T2JqZWN0LFxuICB0YWJJbmRleDogMCxcbiAgcm93RGlyZWN0aW9uOiAnbHRyJ1xufTtcbk1hc29ucnkucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIGF1dG9IZWlnaHQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIGNlbGxDb3VudDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBjZWxsTWVhc3VyZXJDYWNoZTogZnVuY3Rpb24gY2VsbE1lYXN1cmVyQ2FjaGUoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgQ2VsbE1lYXN1cmVyQ2FjaGUgPT09ICdmdW5jdGlvbicgPyBQcm9wVHlwZXMuaW5zdGFuY2VPZihDZWxsTWVhc3VyZXJDYWNoZSkuaXNSZXF1aXJlZCA6IFByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZCkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcbiAgY2VsbFBvc2l0aW9uZXI6IGZ1bmN0aW9uIGNlbGxQb3NpdGlvbmVyKCkge1xuICAgIHJldHVybiAodHlwZW9mIFBvc2l0aW9uZXIgPT09ICdmdW5jdGlvbicgPyBQcm9wVHlwZXMuaW5zdGFuY2VPZihQb3NpdGlvbmVyKS5pc1JlcXVpcmVkIDogUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9LFxuICBjZWxsUmVuZGVyZXI6IGZ1bmN0aW9uIGNlbGxSZW5kZXJlcigpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBDZWxsUmVuZGVyZXIgPT09ICdmdW5jdGlvbicgPyBQcm9wVHlwZXMuaW5zdGFuY2VPZihDZWxsUmVuZGVyZXIpLmlzUmVxdWlyZWQgOiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgaGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIGlkOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBrZXlNYXBwZXI6IGZ1bmN0aW9uIGtleU1hcHBlcigpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBLZXlNYXBwZXIgPT09ICdmdW5jdGlvbicgPyBQcm9wVHlwZXMuaW5zdGFuY2VPZihLZXlNYXBwZXIpLmlzUmVxdWlyZWQgOiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIG9uQ2VsbHNSZW5kZXJlZDogZnVuY3Rpb24gb25DZWxsc1JlbmRlcmVkKCkge1xuICAgIHJldHVybiAodHlwZW9mIE9uQ2VsbHNSZW5kZXJlZENhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gUHJvcFR5cGVzLmluc3RhbmNlT2YoT25DZWxsc1JlbmRlcmVkQ2FsbGJhY2spIDogUHJvcFR5cGVzLmFueSkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfSxcbiAgb25TY3JvbGw6IGZ1bmN0aW9uIG9uU2Nyb2xsKCkge1xuICAgIHJldHVybiAodHlwZW9mIE9uU2Nyb2xsQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicgPyBQcm9wVHlwZXMuaW5zdGFuY2VPZihPblNjcm9sbENhbGxiYWNrKSA6IFByb3BUeXBlcy5hbnkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0sXG4gIG92ZXJzY2FuQnlQaXhlbHM6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgcm9sZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBzY3JvbGxpbmdSZXNldFRpbWVJbnRlcnZhbDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBzdHlsZTogZnVuY3Rpb24gc3R5bGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIHByb3BOYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9wIGAnICsgcHJvcE5hbWUgKyAnYCBoYXMgdHlwZSBcXCdhbnlcXCcgb3IgXFwnbWl4ZWRcXCcsIGJ1dCB3YXMgbm90IHByb3ZpZGVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLiBQYXNzIHVuZGVmaW5lZCBvciBhbnkgb3RoZXIgdmFsdWUuJyk7XG4gICAgfVxuICB9LFxuICB0YWJJbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICB3aWR0aDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICByb3dEaXJlY3Rpb246IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZFxufTtcblxuXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgYnBmcnB0X3Byb3B0eXBlX0NlbGxNZWFzdXJlckNhY2hlID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIGRlZmF1bHRIZWlnaHQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgZGVmYXVsdFdpZHRoOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIGdldEhlaWdodDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgZ2V0V2lkdGg6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn07XG5cblxucG9seWZpbGwoTWFzb25yeSk7XG5cbmV4cG9ydCBkZWZhdWx0IE1hc29ucnk7XG5cbnZhciBicGZycHRfcHJvcHR5cGVfUG9zaXRpb25lciA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDogUHJvcFR5cGVzLmZ1bmM7XG5pbXBvcnQgeyBicGZycHRfcHJvcHR5cGVfQW5pbWF0aW9uVGltZW91dElkIH0gZnJvbSAnLi4vdXRpbHMvcmVxdWVzdEFuaW1hdGlvblRpbWVvdXQnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsTWVhc3VyZXJDYWNoZSB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1Bvc2l0aW9uZXIgfTsiLCJcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlQ2VsbFBvc2l0aW9uZXIoX3JlZikge1xuICB2YXIgY2VsbE1lYXN1cmVyQ2FjaGUgPSBfcmVmLmNlbGxNZWFzdXJlckNhY2hlLFxuICAgICAgY29sdW1uQ291bnQgPSBfcmVmLmNvbHVtbkNvdW50LFxuICAgICAgY29sdW1uV2lkdGggPSBfcmVmLmNvbHVtbldpZHRoLFxuICAgICAgX3JlZiRzcGFjZXIgPSBfcmVmLnNwYWNlcixcbiAgICAgIHNwYWNlciA9IF9yZWYkc3BhY2VyID09PSB1bmRlZmluZWQgPyAwIDogX3JlZiRzcGFjZXI7XG5cbiAgdmFyIGNvbHVtbkhlaWdodHMgPSB2b2lkIDA7XG5cbiAgaW5pdE9yUmVzZXREZXJpdmVkVmFsdWVzKCk7XG5cbiAgZnVuY3Rpb24gY2VsbFBvc2l0aW9uZXIoaW5kZXgpIHtcbiAgICAvLyBGaW5kIHRoZSBzaG9ydGVzdCBjb2x1bW4gYW5kIHVzZSBpdC5cbiAgICB2YXIgY29sdW1uSW5kZXggPSAwO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgY29sdW1uSGVpZ2h0cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGNvbHVtbkhlaWdodHNbaV0gPCBjb2x1bW5IZWlnaHRzW2NvbHVtbkluZGV4XSkge1xuICAgICAgICBjb2x1bW5JbmRleCA9IGk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGxlZnQgPSBjb2x1bW5JbmRleCAqIChjb2x1bW5XaWR0aCArIHNwYWNlcik7XG4gICAgdmFyIHRvcCA9IGNvbHVtbkhlaWdodHNbY29sdW1uSW5kZXhdIHx8IDA7XG5cbiAgICBjb2x1bW5IZWlnaHRzW2NvbHVtbkluZGV4XSA9IHRvcCArIGNlbGxNZWFzdXJlckNhY2hlLmdldEhlaWdodChpbmRleCkgKyBzcGFjZXI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogbGVmdCxcbiAgICAgIHRvcDogdG9wXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRPclJlc2V0RGVyaXZlZFZhbHVlcygpIHtcbiAgICAvLyBUcmFjayB0aGUgaGVpZ2h0IG9mIGVhY2ggY29sdW1uLlxuICAgIC8vIExheW91dCBhbGdvcml0aG0gYmVsb3cgYWx3YXlzIGluc2VydHMgaW50byB0aGUgc2hvcnRlc3QgY29sdW1uLlxuICAgIGNvbHVtbkhlaWdodHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbHVtbkNvdW50OyBpKyspIHtcbiAgICAgIGNvbHVtbkhlaWdodHNbaV0gPSAwO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0KHBhcmFtcykge1xuICAgIGNvbHVtbkNvdW50ID0gcGFyYW1zLmNvbHVtbkNvdW50O1xuICAgIGNvbHVtbldpZHRoID0gcGFyYW1zLmNvbHVtbldpZHRoO1xuICAgIHNwYWNlciA9IHBhcmFtcy5zcGFjZXI7XG5cbiAgICBpbml0T3JSZXNldERlcml2ZWRWYWx1ZXMoKTtcbiAgfVxuXG4gIGNlbGxQb3NpdGlvbmVyLnJlc2V0ID0gcmVzZXQ7XG5cbiAgcmV0dXJuIGNlbGxQb3NpdGlvbmVyO1xufVxuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxNZWFzdXJlckNhY2hlIH0gZnJvbSAnLi9NYXNvbnJ5JztcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9Qb3NpdGlvbmVyIH0gZnJvbSAnLi9NYXNvbnJ5JzsiLCJpbXBvcnQgY3JlYXRlQ2VsbFBvc2l0aW9uZXIgZnJvbSAnLi9jcmVhdGVDZWxsUG9zaXRpb25lcic7XG5pbXBvcnQgTWFzb25yeSBmcm9tICcuL01hc29ucnknO1xuXG5leHBvcnQgZGVmYXVsdCBNYXNvbnJ5O1xuZXhwb3J0IHsgY3JlYXRlQ2VsbFBvc2l0aW9uZXIsIE1hc29ucnkgfTsiLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgeyBDZWxsTWVhc3VyZXJDYWNoZSB9IGZyb20gJy4uL0NlbGxNZWFzdXJlcic7XG5cbi8qKlxuICogQ2FjaGVzIG1lYXN1cmVtZW50cyBmb3IgYSBnaXZlbiBjZWxsLlxuICovXG52YXIgQ2VsbE1lYXN1cmVyQ2FjaGVEZWNvcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENlbGxNZWFzdXJlckNhY2hlRGVjb3JhdG9yKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDZWxsTWVhc3VyZXJDYWNoZURlY29yYXRvcik7XG5cbiAgICB0aGlzLmNvbHVtbldpZHRoID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciBpbmRleCA9IF9yZWYuaW5kZXg7XG5cbiAgICAgIF90aGlzLl9jZWxsTWVhc3VyZXJDYWNoZS5jb2x1bW5XaWR0aCh7XG4gICAgICAgIGluZGV4OiBpbmRleCArIF90aGlzLl9jb2x1bW5JbmRleE9mZnNldFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMucm93SGVpZ2h0ID0gZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICB2YXIgaW5kZXggPSBfcmVmMi5pbmRleDtcblxuICAgICAgX3RoaXMuX2NlbGxNZWFzdXJlckNhY2hlLnJvd0hlaWdodCh7XG4gICAgICAgIGluZGV4OiBpbmRleCArIF90aGlzLl9yb3dJbmRleE9mZnNldFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBjZWxsTWVhc3VyZXJDYWNoZSA9IHBhcmFtcy5jZWxsTWVhc3VyZXJDYWNoZSxcbiAgICAgICAgX3BhcmFtcyRjb2x1bW5JbmRleE9mID0gcGFyYW1zLmNvbHVtbkluZGV4T2Zmc2V0LFxuICAgICAgICBjb2x1bW5JbmRleE9mZnNldCA9IF9wYXJhbXMkY29sdW1uSW5kZXhPZiA9PT0gdW5kZWZpbmVkID8gMCA6IF9wYXJhbXMkY29sdW1uSW5kZXhPZixcbiAgICAgICAgX3BhcmFtcyRyb3dJbmRleE9mZnNlID0gcGFyYW1zLnJvd0luZGV4T2Zmc2V0LFxuICAgICAgICByb3dJbmRleE9mZnNldCA9IF9wYXJhbXMkcm93SW5kZXhPZmZzZSA9PT0gdW5kZWZpbmVkID8gMCA6IF9wYXJhbXMkcm93SW5kZXhPZmZzZTtcblxuXG4gICAgdGhpcy5fY2VsbE1lYXN1cmVyQ2FjaGUgPSBjZWxsTWVhc3VyZXJDYWNoZTtcbiAgICB0aGlzLl9jb2x1bW5JbmRleE9mZnNldCA9IGNvbHVtbkluZGV4T2Zmc2V0O1xuICAgIHRoaXMuX3Jvd0luZGV4T2Zmc2V0ID0gcm93SW5kZXhPZmZzZXQ7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2VsbE1lYXN1cmVyQ2FjaGVEZWNvcmF0b3IsIFt7XG4gICAga2V5OiAnY2xlYXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcihyb3dJbmRleCwgY29sdW1uSW5kZXgpIHtcbiAgICAgIHRoaXMuX2NlbGxNZWFzdXJlckNhY2hlLmNsZWFyKHJvd0luZGV4ICsgdGhpcy5fcm93SW5kZXhPZmZzZXQsIGNvbHVtbkluZGV4ICsgdGhpcy5fY29sdW1uSW5kZXhPZmZzZXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NsZWFyQWxsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJBbGwoKSB7XG4gICAgICB0aGlzLl9jZWxsTWVhc3VyZXJDYWNoZS5jbGVhckFsbCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhc0ZpeGVkSGVpZ2h0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzRml4ZWRIZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2VsbE1lYXN1cmVyQ2FjaGUuaGFzRml4ZWRIZWlnaHQoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYXNGaXhlZFdpZHRoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzRml4ZWRXaWR0aCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jZWxsTWVhc3VyZXJDYWNoZS5oYXNGaXhlZFdpZHRoKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0SGVpZ2h0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SGVpZ2h0KHJvd0luZGV4KSB7XG4gICAgICB2YXIgY29sdW1uSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cbiAgICAgIHJldHVybiB0aGlzLl9jZWxsTWVhc3VyZXJDYWNoZS5nZXRIZWlnaHQocm93SW5kZXggKyB0aGlzLl9yb3dJbmRleE9mZnNldCwgY29sdW1uSW5kZXggKyB0aGlzLl9jb2x1bW5JbmRleE9mZnNldCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0V2lkdGgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRXaWR0aChyb3dJbmRleCkge1xuICAgICAgdmFyIGNvbHVtbkluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuXG4gICAgICByZXR1cm4gdGhpcy5fY2VsbE1lYXN1cmVyQ2FjaGUuZ2V0V2lkdGgocm93SW5kZXggKyB0aGlzLl9yb3dJbmRleE9mZnNldCwgY29sdW1uSW5kZXggKyB0aGlzLl9jb2x1bW5JbmRleE9mZnNldCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFzKHJvd0luZGV4KSB7XG4gICAgICB2YXIgY29sdW1uSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG5cbiAgICAgIHJldHVybiB0aGlzLl9jZWxsTWVhc3VyZXJDYWNoZS5oYXMocm93SW5kZXggKyB0aGlzLl9yb3dJbmRleE9mZnNldCwgY29sdW1uSW5kZXggKyB0aGlzLl9jb2x1bW5JbmRleE9mZnNldCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0KHJvd0luZGV4LCBjb2x1bW5JbmRleCwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgdGhpcy5fY2VsbE1lYXN1cmVyQ2FjaGUuc2V0KHJvd0luZGV4ICsgdGhpcy5fcm93SW5kZXhPZmZzZXQsIGNvbHVtbkluZGV4ICsgdGhpcy5fY29sdW1uSW5kZXhPZmZzZXQsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RlZmF1bHRIZWlnaHQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NlbGxNZWFzdXJlckNhY2hlLmRlZmF1bHRIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGVmYXVsdFdpZHRoJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jZWxsTWVhc3VyZXJDYWNoZS5kZWZhdWx0V2lkdGg7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIENlbGxNZWFzdXJlckNhY2hlRGVjb3JhdG9yO1xufSgpO1xuXG5leHBvcnQgZGVmYXVsdCBDZWxsTWVhc3VyZXJDYWNoZURlY29yYXRvcjsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnO1xuaW1wb3J0IF9PYmplY3QkZ2V0UHJvdG90eXBlT2YgZnJvbSAnYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtcHJvdG90eXBlLW9mJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcG9seWZpbGwgfSBmcm9tICdyZWFjdC1saWZlY3ljbGVzLWNvbXBhdCc7XG5pbXBvcnQgQ2VsbE1lYXN1cmVyQ2FjaGVEZWNvcmF0b3IgZnJvbSAnLi9DZWxsTWVhc3VyZXJDYWNoZURlY29yYXRvcic7XG5pbXBvcnQgR3JpZCBmcm9tICcuLi9HcmlkJztcblxudmFyIFNDUk9MTEJBUl9TSVpFX0JVRkZFUiA9IDIwO1xuXG4vKipcbiAqIFJlbmRlcnMgMSwgMiwgb3IgNCBHcmlkcyBkZXBlbmRpbmcgb24gY29uZmlndXJhdGlvbi5cbiAqIEEgbWFpbiAoYm9keSkgR3JpZCB3aWxsIGFsd2F5cyBiZSByZW5kZXJlZC5cbiAqIE9wdGlvbmFsbHksIDEtMiBHcmlkcyBmb3Igc3RpY2t5IGhlYWRlciByb3dzIHdpbGwgYWxzbyBiZSByZW5kZXJlZC5cbiAqIElmIG5vIHN0aWNreSBjb2x1bW5zLCBvbmx5IDEgc3RpY2t5IGhlYWRlciBHcmlkIHdpbGwgYmUgcmVuZGVyZWQuXG4gKiBJZiBzdGlja3kgY29sdW1ucywgMiBzdGlja3kgaGVhZGVyIEdyaWRzIHdpbGwgYmUgcmVuZGVyZWQuXG4gKi9cblxudmFyIE11bHRpR3JpZCA9IGZ1bmN0aW9uIChfUmVhY3QkUHVyZUNvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTXVsdGlHcmlkLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTXVsdGlHcmlkKHByb3BzLCBjb250ZXh0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE11bHRpR3JpZCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTXVsdGlHcmlkLl9fcHJvdG9fXyB8fCBfT2JqZWN0JGdldFByb3RvdHlwZU9mKE11bHRpR3JpZCkpLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpKTtcblxuICAgIF9pbml0aWFsaXNlUHJvcHMuY2FsbChfdGhpcyk7XG5cbiAgICB2YXIgZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlID0gcHJvcHMuZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlLFxuICAgICAgICBmaXhlZENvbHVtbkNvdW50ID0gcHJvcHMuZml4ZWRDb2x1bW5Db3VudCxcbiAgICAgICAgZml4ZWRSb3dDb3VudCA9IHByb3BzLmZpeGVkUm93Q291bnQ7XG5cblxuICAgIF90aGlzLl9tYXliZUNhbGN1bGF0ZUNhY2hlZFN0eWxlcyh0cnVlKTtcblxuICAgIGlmIChkZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGUpIHtcbiAgICAgIF90aGlzLl9kZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGVCb3R0b21MZWZ0R3JpZCA9IGZpeGVkUm93Q291bnQgPiAwID8gbmV3IENlbGxNZWFzdXJlckNhY2hlRGVjb3JhdG9yKHtcbiAgICAgICAgY2VsbE1lYXN1cmVyQ2FjaGU6IGRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZSxcbiAgICAgICAgY29sdW1uSW5kZXhPZmZzZXQ6IDAsXG4gICAgICAgIHJvd0luZGV4T2Zmc2V0OiBmaXhlZFJvd0NvdW50XG4gICAgICB9KSA6IGRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZTtcblxuICAgICAgX3RoaXMuX2RlZmVycmVkTWVhc3VyZW1lbnRDYWNoZUJvdHRvbVJpZ2h0R3JpZCA9IGZpeGVkQ29sdW1uQ291bnQgPiAwIHx8IGZpeGVkUm93Q291bnQgPiAwID8gbmV3IENlbGxNZWFzdXJlckNhY2hlRGVjb3JhdG9yKHtcbiAgICAgICAgY2VsbE1lYXN1cmVyQ2FjaGU6IGRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZSxcbiAgICAgICAgY29sdW1uSW5kZXhPZmZzZXQ6IGZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgIHJvd0luZGV4T2Zmc2V0OiBmaXhlZFJvd0NvdW50XG4gICAgICB9KSA6IGRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZTtcblxuICAgICAgX3RoaXMuX2RlZmVycmVkTWVhc3VyZW1lbnRDYWNoZVRvcFJpZ2h0R3JpZCA9IGZpeGVkQ29sdW1uQ291bnQgPiAwID8gbmV3IENlbGxNZWFzdXJlckNhY2hlRGVjb3JhdG9yKHtcbiAgICAgICAgY2VsbE1lYXN1cmVyQ2FjaGU6IGRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZSxcbiAgICAgICAgY29sdW1uSW5kZXhPZmZzZXQ6IGZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgIHJvd0luZGV4T2Zmc2V0OiAwXG4gICAgICB9KSA6IGRlZmVycmVkTWVhc3VyZW1lbnRDYWNoZTtcbiAgICB9XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE11bHRpR3JpZCwgW3tcbiAgICBrZXk6ICdmb3JjZVVwZGF0ZUdyaWRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZm9yY2VVcGRhdGVHcmlkcygpIHtcbiAgICAgIHRoaXMuX2JvdHRvbUxlZnRHcmlkICYmIHRoaXMuX2JvdHRvbUxlZnRHcmlkLmZvcmNlVXBkYXRlKCk7XG4gICAgICB0aGlzLl9ib3R0b21SaWdodEdyaWQgJiYgdGhpcy5fYm90dG9tUmlnaHRHcmlkLmZvcmNlVXBkYXRlKCk7XG4gICAgICB0aGlzLl90b3BMZWZ0R3JpZCAmJiB0aGlzLl90b3BMZWZ0R3JpZC5mb3JjZVVwZGF0ZSgpO1xuICAgICAgdGhpcy5fdG9wUmlnaHRHcmlkICYmIHRoaXMuX3RvcFJpZ2h0R3JpZC5mb3JjZVVwZGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKiBTZWUgR3JpZCNpbnZhbGlkYXRlQ2VsbFNpemVBZnRlclJlbmRlciAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpbnZhbGlkYXRlQ2VsbFNpemVBZnRlclJlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGludmFsaWRhdGVDZWxsU2l6ZUFmdGVyUmVuZGVyKCkge1xuICAgICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICAgIF9yZWYkY29sdW1uSW5kZXggPSBfcmVmLmNvbHVtbkluZGV4LFxuICAgICAgICAgIGNvbHVtbkluZGV4ID0gX3JlZiRjb2x1bW5JbmRleCA9PT0gdW5kZWZpbmVkID8gMCA6IF9yZWYkY29sdW1uSW5kZXgsXG4gICAgICAgICAgX3JlZiRyb3dJbmRleCA9IF9yZWYucm93SW5kZXgsXG4gICAgICAgICAgcm93SW5kZXggPSBfcmVmJHJvd0luZGV4ID09PSB1bmRlZmluZWQgPyAwIDogX3JlZiRyb3dJbmRleDtcblxuICAgICAgdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlQ29sdW1uSW5kZXggPSB0eXBlb2YgdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlQ29sdW1uSW5kZXggPT09ICdudW1iZXInID8gTWF0aC5taW4odGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlQ29sdW1uSW5kZXgsIGNvbHVtbkluZGV4KSA6IGNvbHVtbkluZGV4O1xuICAgICAgdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlUm93SW5kZXggPSB0eXBlb2YgdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlUm93SW5kZXggPT09ICdudW1iZXInID8gTWF0aC5taW4odGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlUm93SW5kZXgsIHJvd0luZGV4KSA6IHJvd0luZGV4O1xuICAgIH1cblxuICAgIC8qKiBTZWUgR3JpZCNtZWFzdXJlQWxsQ2VsbHMgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbWVhc3VyZUFsbENlbGxzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWVhc3VyZUFsbENlbGxzKCkge1xuICAgICAgdGhpcy5fYm90dG9tTGVmdEdyaWQgJiYgdGhpcy5fYm90dG9tTGVmdEdyaWQubWVhc3VyZUFsbENlbGxzKCk7XG4gICAgICB0aGlzLl9ib3R0b21SaWdodEdyaWQgJiYgdGhpcy5fYm90dG9tUmlnaHRHcmlkLm1lYXN1cmVBbGxDZWxscygpO1xuICAgICAgdGhpcy5fdG9wTGVmdEdyaWQgJiYgdGhpcy5fdG9wTGVmdEdyaWQubWVhc3VyZUFsbENlbGxzKCk7XG4gICAgICB0aGlzLl90b3BSaWdodEdyaWQgJiYgdGhpcy5fdG9wUmlnaHRHcmlkLm1lYXN1cmVBbGxDZWxscygpO1xuICAgIH1cblxuICAgIC8qKiBTZWUgR3JpZCNyZWNvbXB1dGVHcmlkU2l6ZSAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZWNvbXB1dGVHcmlkU2l6ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlY29tcHV0ZUdyaWRTaXplKCkge1xuICAgICAgdmFyIF9yZWYyID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgICAgICBfcmVmMiRjb2x1bW5JbmRleCA9IF9yZWYyLmNvbHVtbkluZGV4LFxuICAgICAgICAgIGNvbHVtbkluZGV4ID0gX3JlZjIkY29sdW1uSW5kZXggPT09IHVuZGVmaW5lZCA/IDAgOiBfcmVmMiRjb2x1bW5JbmRleCxcbiAgICAgICAgICBfcmVmMiRyb3dJbmRleCA9IF9yZWYyLnJvd0luZGV4LFxuICAgICAgICAgIHJvd0luZGV4ID0gX3JlZjIkcm93SW5kZXggPT09IHVuZGVmaW5lZCA/IDAgOiBfcmVmMiRyb3dJbmRleDtcblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgZml4ZWRDb2x1bW5Db3VudCA9IF9wcm9wcy5maXhlZENvbHVtbkNvdW50LFxuICAgICAgICAgIGZpeGVkUm93Q291bnQgPSBfcHJvcHMuZml4ZWRSb3dDb3VudDtcblxuXG4gICAgICB2YXIgYWRqdXN0ZWRDb2x1bW5JbmRleCA9IE1hdGgubWF4KDAsIGNvbHVtbkluZGV4IC0gZml4ZWRDb2x1bW5Db3VudCk7XG4gICAgICB2YXIgYWRqdXN0ZWRSb3dJbmRleCA9IE1hdGgubWF4KDAsIHJvd0luZGV4IC0gZml4ZWRSb3dDb3VudCk7XG5cbiAgICAgIHRoaXMuX2JvdHRvbUxlZnRHcmlkICYmIHRoaXMuX2JvdHRvbUxlZnRHcmlkLnJlY29tcHV0ZUdyaWRTaXplKHtcbiAgICAgICAgY29sdW1uSW5kZXg6IGNvbHVtbkluZGV4LFxuICAgICAgICByb3dJbmRleDogYWRqdXN0ZWRSb3dJbmRleFxuICAgICAgfSk7XG4gICAgICB0aGlzLl9ib3R0b21SaWdodEdyaWQgJiYgdGhpcy5fYm90dG9tUmlnaHRHcmlkLnJlY29tcHV0ZUdyaWRTaXplKHtcbiAgICAgICAgY29sdW1uSW5kZXg6IGFkanVzdGVkQ29sdW1uSW5kZXgsXG4gICAgICAgIHJvd0luZGV4OiBhZGp1c3RlZFJvd0luZGV4XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX3RvcExlZnRHcmlkICYmIHRoaXMuX3RvcExlZnRHcmlkLnJlY29tcHV0ZUdyaWRTaXplKHtcbiAgICAgICAgY29sdW1uSW5kZXg6IGNvbHVtbkluZGV4LFxuICAgICAgICByb3dJbmRleDogcm93SW5kZXhcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fdG9wUmlnaHRHcmlkICYmIHRoaXMuX3RvcFJpZ2h0R3JpZC5yZWNvbXB1dGVHcmlkU2l6ZSh7XG4gICAgICAgIGNvbHVtbkluZGV4OiBhZGp1c3RlZENvbHVtbkluZGV4LFxuICAgICAgICByb3dJbmRleDogcm93SW5kZXhcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9sZWZ0R3JpZFdpZHRoID0gbnVsbDtcbiAgICAgIHRoaXMuX3RvcEdyaWRIZWlnaHQgPSBudWxsO1xuICAgICAgdGhpcy5fbWF5YmVDYWxjdWxhdGVDYWNoZWRTdHlsZXModHJ1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBzY3JvbGxMZWZ0ID0gX3Byb3BzMi5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF9wcm9wczIuc2Nyb2xsVG9wO1xuXG5cbiAgICAgIGlmIChzY3JvbGxMZWZ0ID4gMCB8fCBzY3JvbGxUb3AgPiAwKSB7XG4gICAgICAgIHZhciBuZXdTdGF0ZSA9IHt9O1xuXG4gICAgICAgIGlmIChzY3JvbGxMZWZ0ID4gMCkge1xuICAgICAgICAgIG5ld1N0YXRlLnNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNjcm9sbFRvcCA+IDApIHtcbiAgICAgICAgICBuZXdTdGF0ZS5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2hhbmRsZUludmFsaWRhdGVkR3JpZFNpemUoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICB0aGlzLl9oYW5kbGVJbnZhbGlkYXRlZEdyaWRTaXplKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIG9uU2Nyb2xsID0gX3Byb3BzMy5vblNjcm9sbCxcbiAgICAgICAgICBvblNlY3Rpb25SZW5kZXJlZCA9IF9wcm9wczMub25TZWN0aW9uUmVuZGVyZWQsXG4gICAgICAgICAgb25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZSA9IF9wcm9wczMub25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZSxcbiAgICAgICAgICBzY3JvbGxMZWZ0UHJvcCA9IF9wcm9wczMuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb0NvbHVtbiA9IF9wcm9wczMuc2Nyb2xsVG9Db2x1bW4sXG4gICAgICAgICAgc2Nyb2xsVG9wUHJvcCA9IF9wcm9wczMuc2Nyb2xsVG9wLFxuICAgICAgICAgIHNjcm9sbFRvUm93ID0gX3Byb3BzMy5zY3JvbGxUb1JvdyxcbiAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wczMsIFsnb25TY3JvbGwnLCAnb25TZWN0aW9uUmVuZGVyZWQnLCAnb25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZScsICdzY3JvbGxMZWZ0JywgJ3Njcm9sbFRvQ29sdW1uJywgJ3Njcm9sbFRvcCcsICdzY3JvbGxUb1JvdyddKTtcblxuICAgICAgdGhpcy5fcHJlcGFyZUZvclJlbmRlcigpO1xuXG4gICAgICAvLyBEb24ndCByZW5kZXIgYW55IG9mIG91ciBHcmlkcyBpZiB0aGVyZSBhcmUgbm8gY2VsbHMuXG4gICAgICAvLyBUaGlzIG1pcnJvcnMgd2hhdCBHcmlkIGRvZXMsXG4gICAgICAvLyBBbmQgcHJldmVudHMgdXMgZnJvbSByZWNvcmRpbmcgaW5hY2N1cmFnZSBtZWFzdXJlbWVudHMgd2hlbiB1c2VkIHdpdGggQ2VsbE1lYXN1cmVyLlxuICAgICAgaWYgKHRoaXMucHJvcHMud2lkdGggPT09IDAgfHwgdGhpcy5wcm9wcy5oZWlnaHQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIHNjcm9sbFRvcCBhbmQgc2Nyb2xsTGVmdCBwcm9wcyBhcmUgZXhwbGljaXRseSBmaWx0ZXJlZCBvdXQgYW5kIGlnbm9yZWRcblxuICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgc2Nyb2xsTGVmdCA9IF9zdGF0ZS5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF9zdGF0ZS5zY3JvbGxUb3A7XG5cblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IHN0eWxlOiB0aGlzLl9jb250YWluZXJPdXRlclN0eWxlIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBzdHlsZTogdGhpcy5fY29udGFpbmVyVG9wU3R5bGUgfSxcbiAgICAgICAgICB0aGlzLl9yZW5kZXJUb3BMZWZ0R3JpZChyZXN0KSxcbiAgICAgICAgICB0aGlzLl9yZW5kZXJUb3BSaWdodEdyaWQoX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICAgICAgICAgIG9uU2Nyb2xsOiBvblNjcm9sbCxcbiAgICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnRcbiAgICAgICAgICB9KSlcbiAgICAgICAgKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IHN0eWxlOiB0aGlzLl9jb250YWluZXJCb3R0b21TdHlsZSB9LFxuICAgICAgICAgIHRoaXMuX3JlbmRlckJvdHRvbUxlZnRHcmlkKF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgICAgICAgICBvblNjcm9sbDogb25TY3JvbGwsXG4gICAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgICB0aGlzLl9yZW5kZXJCb3R0b21SaWdodEdyaWQoX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICAgICAgICAgIG9uU2Nyb2xsOiBvblNjcm9sbCxcbiAgICAgICAgICAgIG9uU2VjdGlvblJlbmRlcmVkOiBvblNlY3Rpb25SZW5kZXJlZCxcbiAgICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgICBzY3JvbGxUb0NvbHVtbjogc2Nyb2xsVG9Db2x1bW4sXG4gICAgICAgICAgICBzY3JvbGxUb1Jvdzogc2Nyb2xsVG9Sb3csXG4gICAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcFxuICAgICAgICAgIH0pKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19nZXRCb3R0b21HcmlkSGVpZ2h0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldEJvdHRvbUdyaWRIZWlnaHQocHJvcHMpIHtcbiAgICAgIHZhciBoZWlnaHQgPSBwcm9wcy5oZWlnaHQ7XG5cblxuICAgICAgdmFyIHRvcEdyaWRIZWlnaHQgPSB0aGlzLl9nZXRUb3BHcmlkSGVpZ2h0KHByb3BzKTtcblxuICAgICAgcmV0dXJuIGhlaWdodCAtIHRvcEdyaWRIZWlnaHQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2dldExlZnRHcmlkV2lkdGgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0TGVmdEdyaWRXaWR0aChwcm9wcykge1xuICAgICAgdmFyIGZpeGVkQ29sdW1uQ291bnQgPSBwcm9wcy5maXhlZENvbHVtbkNvdW50LFxuICAgICAgICAgIGNvbHVtbldpZHRoID0gcHJvcHMuY29sdW1uV2lkdGg7XG5cblxuICAgICAgaWYgKHRoaXMuX2xlZnRHcmlkV2lkdGggPT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIGNvbHVtbldpZHRoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdmFyIGxlZnRHcmlkV2lkdGggPSAwO1xuXG4gICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGZpeGVkQ29sdW1uQ291bnQ7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGxlZnRHcmlkV2lkdGggKz0gY29sdW1uV2lkdGgoeyBpbmRleDogaW5kZXggfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5fbGVmdEdyaWRXaWR0aCA9IGxlZnRHcmlkV2lkdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fbGVmdEdyaWRXaWR0aCA9IGNvbHVtbldpZHRoICogZml4ZWRDb2x1bW5Db3VudDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fbGVmdEdyaWRXaWR0aDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfZ2V0UmlnaHRHcmlkV2lkdGgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0UmlnaHRHcmlkV2lkdGgocHJvcHMpIHtcbiAgICAgIHZhciB3aWR0aCA9IHByb3BzLndpZHRoO1xuXG5cbiAgICAgIHZhciBsZWZ0R3JpZFdpZHRoID0gdGhpcy5fZ2V0TGVmdEdyaWRXaWR0aChwcm9wcyk7XG5cbiAgICAgIHJldHVybiB3aWR0aCAtIGxlZnRHcmlkV2lkdGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2dldFRvcEdyaWRIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0VG9wR3JpZEhlaWdodChwcm9wcykge1xuICAgICAgdmFyIGZpeGVkUm93Q291bnQgPSBwcm9wcy5maXhlZFJvd0NvdW50LFxuICAgICAgICAgIHJvd0hlaWdodCA9IHByb3BzLnJvd0hlaWdodDtcblxuXG4gICAgICBpZiAodGhpcy5fdG9wR3JpZEhlaWdodCA9PSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygcm93SGVpZ2h0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdmFyIHRvcEdyaWRIZWlnaHQgPSAwO1xuXG4gICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGZpeGVkUm93Q291bnQ7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHRvcEdyaWRIZWlnaHQgKz0gcm93SGVpZ2h0KHsgaW5kZXg6IGluZGV4IH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX3RvcEdyaWRIZWlnaHQgPSB0b3BHcmlkSGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX3RvcEdyaWRIZWlnaHQgPSByb3dIZWlnaHQgKiBmaXhlZFJvd0NvdW50O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl90b3BHcmlkSGVpZ2h0O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19oYW5kbGVJbnZhbGlkYXRlZEdyaWRTaXplJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2hhbmRsZUludmFsaWRhdGVkR3JpZFNpemUoKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuX2RlZmVycmVkSW52YWxpZGF0ZUNvbHVtbkluZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgICB2YXIgY29sdW1uSW5kZXggPSB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVDb2x1bW5JbmRleDtcbiAgICAgICAgdmFyIHJvd0luZGV4ID0gdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlUm93SW5kZXg7XG5cbiAgICAgICAgdGhpcy5fZGVmZXJyZWRJbnZhbGlkYXRlQ29sdW1uSW5kZXggPSBudWxsO1xuICAgICAgICB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVSb3dJbmRleCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5yZWNvbXB1dGVHcmlkU2l6ZSh7XG4gICAgICAgICAgY29sdW1uSW5kZXg6IGNvbHVtbkluZGV4LFxuICAgICAgICAgIHJvd0luZGV4OiByb3dJbmRleFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEF2b2lkIHJlY3JlYXRpbmcgaW5saW5lIHN0eWxlcyBlYWNoIHJlbmRlcjsgdGhpcyBieXBhc3NlcyBHcmlkJ3Mgc2hhbGxvd0NvbXBhcmUuXG4gICAgICogVGhpcyBtZXRob2QgcmVjYWxjdWxhdGVzIHN0eWxlcyBvbmx5IHdoZW4gc3BlY2lmaWMgcHJvcHMgY2hhbmdlLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfbWF5YmVDYWxjdWxhdGVDYWNoZWRTdHlsZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfbWF5YmVDYWxjdWxhdGVDYWNoZWRTdHlsZXMocmVzZXRBbGwpIHtcbiAgICAgIHZhciBfcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjb2x1bW5XaWR0aCA9IF9wcm9wczQuY29sdW1uV2lkdGgsXG4gICAgICAgICAgZW5hYmxlRml4ZWRDb2x1bW5TY3JvbGwgPSBfcHJvcHM0LmVuYWJsZUZpeGVkQ29sdW1uU2Nyb2xsLFxuICAgICAgICAgIGVuYWJsZUZpeGVkUm93U2Nyb2xsID0gX3Byb3BzNC5lbmFibGVGaXhlZFJvd1Njcm9sbCxcbiAgICAgICAgICBoZWlnaHQgPSBfcHJvcHM0LmhlaWdodCxcbiAgICAgICAgICBmaXhlZENvbHVtbkNvdW50ID0gX3Byb3BzNC5maXhlZENvbHVtbkNvdW50LFxuICAgICAgICAgIGZpeGVkUm93Q291bnQgPSBfcHJvcHM0LmZpeGVkUm93Q291bnQsXG4gICAgICAgICAgcm93SGVpZ2h0ID0gX3Byb3BzNC5yb3dIZWlnaHQsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHM0LnN0eWxlLFxuICAgICAgICAgIHN0eWxlQm90dG9tTGVmdEdyaWQgPSBfcHJvcHM0LnN0eWxlQm90dG9tTGVmdEdyaWQsXG4gICAgICAgICAgc3R5bGVCb3R0b21SaWdodEdyaWQgPSBfcHJvcHM0LnN0eWxlQm90dG9tUmlnaHRHcmlkLFxuICAgICAgICAgIHN0eWxlVG9wTGVmdEdyaWQgPSBfcHJvcHM0LnN0eWxlVG9wTGVmdEdyaWQsXG4gICAgICAgICAgc3R5bGVUb3BSaWdodEdyaWQgPSBfcHJvcHM0LnN0eWxlVG9wUmlnaHRHcmlkLFxuICAgICAgICAgIHdpZHRoID0gX3Byb3BzNC53aWR0aDtcblxuXG4gICAgICB2YXIgc2l6ZUNoYW5nZSA9IHJlc2V0QWxsIHx8IGhlaWdodCAhPT0gdGhpcy5fbGFzdFJlbmRlcmVkSGVpZ2h0IHx8IHdpZHRoICE9PSB0aGlzLl9sYXN0UmVuZGVyZWRXaWR0aDtcbiAgICAgIHZhciBsZWZ0U2l6ZUNoYW5nZSA9IHJlc2V0QWxsIHx8IGNvbHVtbldpZHRoICE9PSB0aGlzLl9sYXN0UmVuZGVyZWRDb2x1bW5XaWR0aCB8fCBmaXhlZENvbHVtbkNvdW50ICE9PSB0aGlzLl9sYXN0UmVuZGVyZWRGaXhlZENvbHVtbkNvdW50O1xuICAgICAgdmFyIHRvcFNpemVDaGFuZ2UgPSByZXNldEFsbCB8fCBmaXhlZFJvd0NvdW50ICE9PSB0aGlzLl9sYXN0UmVuZGVyZWRGaXhlZFJvd0NvdW50IHx8IHJvd0hlaWdodCAhPT0gdGhpcy5fbGFzdFJlbmRlcmVkUm93SGVpZ2h0O1xuXG4gICAgICBpZiAocmVzZXRBbGwgfHwgc2l6ZUNoYW5nZSB8fCBzdHlsZSAhPT0gdGhpcy5fbGFzdFJlbmRlcmVkU3R5bGUpIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyT3V0ZXJTdHlsZSA9IF9leHRlbmRzKHtcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICBvdmVyZmxvdzogJ3Zpc2libGUnLCAvLyBMZXQgOmZvY3VzIG91dGxpbmUgc2hvdyB0aHJvdWdoXG4gICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgIH0sIHN0eWxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc2V0QWxsIHx8IHNpemVDaGFuZ2UgfHwgdG9wU2l6ZUNoYW5nZSkge1xuICAgICAgICB0aGlzLl9jb250YWluZXJUb3BTdHlsZSA9IHtcbiAgICAgICAgICBoZWlnaHQ6IHRoaXMuX2dldFRvcEdyaWRIZWlnaHQodGhpcy5wcm9wcyksXG4gICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fY29udGFpbmVyQm90dG9tU3R5bGUgPSB7XG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQgLSB0aGlzLl9nZXRUb3BHcmlkSGVpZ2h0KHRoaXMucHJvcHMpLFxuICAgICAgICAgIG92ZXJmbG93OiAndmlzaWJsZScsIC8vIExldCA6Zm9jdXMgb3V0bGluZSBzaG93IHRocm91Z2hcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICB3aWR0aDogd2lkdGhcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc2V0QWxsIHx8IHN0eWxlQm90dG9tTGVmdEdyaWQgIT09IHRoaXMuX2xhc3RSZW5kZXJlZFN0eWxlQm90dG9tTGVmdEdyaWQpIHtcbiAgICAgICAgdGhpcy5fYm90dG9tTGVmdEdyaWRTdHlsZSA9IF9leHRlbmRzKHtcbiAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgIG92ZXJmbG93WDogJ2hpZGRlbicsXG4gICAgICAgICAgb3ZlcmZsb3dZOiBlbmFibGVGaXhlZENvbHVtblNjcm9sbCA/ICdhdXRvJyA6ICdoaWRkZW4nLFxuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgICAgIH0sIHN0eWxlQm90dG9tTGVmdEdyaWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzZXRBbGwgfHwgbGVmdFNpemVDaGFuZ2UgfHwgc3R5bGVCb3R0b21SaWdodEdyaWQgIT09IHRoaXMuX2xhc3RSZW5kZXJlZFN0eWxlQm90dG9tUmlnaHRHcmlkKSB7XG4gICAgICAgIHRoaXMuX2JvdHRvbVJpZ2h0R3JpZFN0eWxlID0gX2V4dGVuZHMoe1xuICAgICAgICAgIGxlZnQ6IHRoaXMuX2dldExlZnRHcmlkV2lkdGgodGhpcy5wcm9wcyksXG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcbiAgICAgICAgfSwgc3R5bGVCb3R0b21SaWdodEdyaWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzZXRBbGwgfHwgc3R5bGVUb3BMZWZ0R3JpZCAhPT0gdGhpcy5fbGFzdFJlbmRlcmVkU3R5bGVUb3BMZWZ0R3JpZCkge1xuICAgICAgICB0aGlzLl90b3BMZWZ0R3JpZFN0eWxlID0gX2V4dGVuZHMoe1xuICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgb3ZlcmZsb3dYOiAnaGlkZGVuJyxcbiAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nLFxuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgIHRvcDogMFxuICAgICAgICB9LCBzdHlsZVRvcExlZnRHcmlkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlc2V0QWxsIHx8IGxlZnRTaXplQ2hhbmdlIHx8IHN0eWxlVG9wUmlnaHRHcmlkICE9PSB0aGlzLl9sYXN0UmVuZGVyZWRTdHlsZVRvcFJpZ2h0R3JpZCkge1xuICAgICAgICB0aGlzLl90b3BSaWdodEdyaWRTdHlsZSA9IF9leHRlbmRzKHtcbiAgICAgICAgICBsZWZ0OiB0aGlzLl9nZXRMZWZ0R3JpZFdpZHRoKHRoaXMucHJvcHMpLFxuICAgICAgICAgIG92ZXJmbG93WDogZW5hYmxlRml4ZWRSb3dTY3JvbGwgPyAnYXV0bycgOiAnaGlkZGVuJyxcbiAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nLFxuICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgIHRvcDogMFxuICAgICAgICB9LCBzdHlsZVRvcFJpZ2h0R3JpZCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZENvbHVtbldpZHRoID0gY29sdW1uV2lkdGg7XG4gICAgICB0aGlzLl9sYXN0UmVuZGVyZWRGaXhlZENvbHVtbkNvdW50ID0gZml4ZWRDb2x1bW5Db3VudDtcbiAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZEZpeGVkUm93Q291bnQgPSBmaXhlZFJvd0NvdW50O1xuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkUm93SGVpZ2h0ID0gcm93SGVpZ2h0O1xuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkU3R5bGUgPSBzdHlsZTtcbiAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZFN0eWxlQm90dG9tTGVmdEdyaWQgPSBzdHlsZUJvdHRvbUxlZnRHcmlkO1xuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkU3R5bGVCb3R0b21SaWdodEdyaWQgPSBzdHlsZUJvdHRvbVJpZ2h0R3JpZDtcbiAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZFN0eWxlVG9wTGVmdEdyaWQgPSBzdHlsZVRvcExlZnRHcmlkO1xuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkU3R5bGVUb3BSaWdodEdyaWQgPSBzdHlsZVRvcFJpZ2h0R3JpZDtcbiAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZFdpZHRoID0gd2lkdGg7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX3ByZXBhcmVGb3JSZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcHJlcGFyZUZvclJlbmRlcigpIHtcbiAgICAgIGlmICh0aGlzLl9sYXN0UmVuZGVyZWRDb2x1bW5XaWR0aCAhPT0gdGhpcy5wcm9wcy5jb2x1bW5XaWR0aCB8fCB0aGlzLl9sYXN0UmVuZGVyZWRGaXhlZENvbHVtbkNvdW50ICE9PSB0aGlzLnByb3BzLmZpeGVkQ29sdW1uQ291bnQpIHtcbiAgICAgICAgdGhpcy5fbGVmdEdyaWRXaWR0aCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9sYXN0UmVuZGVyZWRGaXhlZFJvd0NvdW50ICE9PSB0aGlzLnByb3BzLmZpeGVkUm93Q291bnQgfHwgdGhpcy5fbGFzdFJlbmRlcmVkUm93SGVpZ2h0ICE9PSB0aGlzLnByb3BzLnJvd0hlaWdodCkge1xuICAgICAgICB0aGlzLl90b3BHcmlkSGVpZ2h0ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fbWF5YmVDYWxjdWxhdGVDYWNoZWRTdHlsZXMoKTtcblxuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkQ29sdW1uV2lkdGggPSB0aGlzLnByb3BzLmNvbHVtbldpZHRoO1xuICAgICAgdGhpcy5fbGFzdFJlbmRlcmVkRml4ZWRDb2x1bW5Db3VudCA9IHRoaXMucHJvcHMuZml4ZWRDb2x1bW5Db3VudDtcbiAgICAgIHRoaXMuX2xhc3RSZW5kZXJlZEZpeGVkUm93Q291bnQgPSB0aGlzLnByb3BzLmZpeGVkUm93Q291bnQ7XG4gICAgICB0aGlzLl9sYXN0UmVuZGVyZWRSb3dIZWlnaHQgPSB0aGlzLnByb3BzLnJvd0hlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfcmVuZGVyQm90dG9tTGVmdEdyaWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyQm90dG9tTGVmdEdyaWQocHJvcHMpIHtcbiAgICAgIHZhciBlbmFibGVGaXhlZENvbHVtblNjcm9sbCA9IHByb3BzLmVuYWJsZUZpeGVkQ29sdW1uU2Nyb2xsLFxuICAgICAgICAgIGZpeGVkQ29sdW1uQ291bnQgPSBwcm9wcy5maXhlZENvbHVtbkNvdW50LFxuICAgICAgICAgIGZpeGVkUm93Q291bnQgPSBwcm9wcy5maXhlZFJvd0NvdW50LFxuICAgICAgICAgIHJvd0NvdW50ID0gcHJvcHMucm93Q291bnQsXG4gICAgICAgICAgaGlkZUJvdHRvbUxlZnRHcmlkU2Nyb2xsYmFyID0gcHJvcHMuaGlkZUJvdHRvbUxlZnRHcmlkU2Nyb2xsYmFyO1xuICAgICAgdmFyIHNob3dWZXJ0aWNhbFNjcm9sbGJhciA9IHRoaXMuc3RhdGUuc2hvd1ZlcnRpY2FsU2Nyb2xsYmFyO1xuXG5cbiAgICAgIGlmICghZml4ZWRDb2x1bW5Db3VudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGFkZGl0aW9uYWxSb3dDb3VudCA9IHNob3dWZXJ0aWNhbFNjcm9sbGJhciA/IDEgOiAwLFxuICAgICAgICAgIGhlaWdodCA9IHRoaXMuX2dldEJvdHRvbUdyaWRIZWlnaHQocHJvcHMpLFxuICAgICAgICAgIHdpZHRoID0gdGhpcy5fZ2V0TGVmdEdyaWRXaWR0aChwcm9wcyksXG4gICAgICAgICAgc2Nyb2xsYmFyU2l6ZSA9IHRoaXMuc3RhdGUuc2hvd1ZlcnRpY2FsU2Nyb2xsYmFyID8gdGhpcy5zdGF0ZS5zY3JvbGxiYXJTaXplIDogMCxcbiAgICAgICAgICBncmlkV2lkdGggPSBoaWRlQm90dG9tTGVmdEdyaWRTY3JvbGxiYXIgPyB3aWR0aCArIHNjcm9sbGJhclNpemUgOiB3aWR0aDtcblxuICAgICAgdmFyIGJvdHRvbUxlZnRHcmlkID0gUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgICAgY2VsbFJlbmRlcmVyOiB0aGlzLl9jZWxsUmVuZGVyZXJCb3R0b21MZWZ0R3JpZCxcbiAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmNsYXNzTmFtZUJvdHRvbUxlZnRHcmlkLFxuICAgICAgICBjb2x1bW5Db3VudDogZml4ZWRDb2x1bW5Db3VudCxcbiAgICAgICAgZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlOiB0aGlzLl9kZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGVCb3R0b21MZWZ0R3JpZCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIG9uU2Nyb2xsOiBlbmFibGVGaXhlZENvbHVtblNjcm9sbCA/IHRoaXMuX29uU2Nyb2xsVG9wIDogdW5kZWZpbmVkLFxuICAgICAgICByZWY6IHRoaXMuX2JvdHRvbUxlZnRHcmlkUmVmLFxuICAgICAgICByb3dDb3VudDogTWF0aC5tYXgoMCwgcm93Q291bnQgLSBmaXhlZFJvd0NvdW50KSArIGFkZGl0aW9uYWxSb3dDb3VudCxcbiAgICAgICAgcm93SGVpZ2h0OiB0aGlzLl9yb3dIZWlnaHRCb3R0b21HcmlkLFxuICAgICAgICBzdHlsZTogdGhpcy5fYm90dG9tTGVmdEdyaWRTdHlsZSxcbiAgICAgICAgdGFiSW5kZXg6IG51bGwsXG4gICAgICAgIHdpZHRoOiBncmlkV2lkdGhcbiAgICAgIH0pKTtcblxuICAgICAgaWYgKGhpZGVCb3R0b21MZWZ0R3JpZFNjcm9sbGJhcikge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdCb3R0b21MZWZ0R3JpZF9TY3JvbGxXcmFwcGVyJyxcbiAgICAgICAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgdGhpcy5fYm90dG9tTGVmdEdyaWRTdHlsZSwge1xuICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nXG4gICAgICAgICAgICB9KSB9LFxuICAgICAgICAgIGJvdHRvbUxlZnRHcmlkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYm90dG9tTGVmdEdyaWQ7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX3JlbmRlckJvdHRvbVJpZ2h0R3JpZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJCb3R0b21SaWdodEdyaWQocHJvcHMpIHtcbiAgICAgIHZhciBjb2x1bW5Db3VudCA9IHByb3BzLmNvbHVtbkNvdW50LFxuICAgICAgICAgIGZpeGVkQ29sdW1uQ291bnQgPSBwcm9wcy5maXhlZENvbHVtbkNvdW50LFxuICAgICAgICAgIGZpeGVkUm93Q291bnQgPSBwcm9wcy5maXhlZFJvd0NvdW50LFxuICAgICAgICAgIHJvd0NvdW50ID0gcHJvcHMucm93Q291bnQsXG4gICAgICAgICAgc2Nyb2xsVG9Db2x1bW4gPSBwcm9wcy5zY3JvbGxUb0NvbHVtbixcbiAgICAgICAgICBzY3JvbGxUb1JvdyA9IHByb3BzLnNjcm9sbFRvUm93O1xuXG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICBjZWxsUmVuZGVyZXI6IHRoaXMuX2NlbGxSZW5kZXJlckJvdHRvbVJpZ2h0R3JpZCxcbiAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmNsYXNzTmFtZUJvdHRvbVJpZ2h0R3JpZCxcbiAgICAgICAgY29sdW1uQ291bnQ6IE1hdGgubWF4KDAsIGNvbHVtbkNvdW50IC0gZml4ZWRDb2x1bW5Db3VudCksXG4gICAgICAgIGNvbHVtbldpZHRoOiB0aGlzLl9jb2x1bW5XaWR0aFJpZ2h0R3JpZCxcbiAgICAgICAgZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlOiB0aGlzLl9kZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGVCb3R0b21SaWdodEdyaWQsXG4gICAgICAgIGhlaWdodDogdGhpcy5fZ2V0Qm90dG9tR3JpZEhlaWdodChwcm9wcyksXG4gICAgICAgIG9uU2Nyb2xsOiB0aGlzLl9vblNjcm9sbCxcbiAgICAgICAgb25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZTogdGhpcy5fb25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZSxcbiAgICAgICAgcmVmOiB0aGlzLl9ib3R0b21SaWdodEdyaWRSZWYsXG4gICAgICAgIHJvd0NvdW50OiBNYXRoLm1heCgwLCByb3dDb3VudCAtIGZpeGVkUm93Q291bnQpLFxuICAgICAgICByb3dIZWlnaHQ6IHRoaXMuX3Jvd0hlaWdodEJvdHRvbUdyaWQsXG4gICAgICAgIHNjcm9sbFRvQ29sdW1uOiBzY3JvbGxUb0NvbHVtbiAtIGZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgIHNjcm9sbFRvUm93OiBzY3JvbGxUb1JvdyAtIGZpeGVkUm93Q291bnQsXG4gICAgICAgIHN0eWxlOiB0aGlzLl9ib3R0b21SaWdodEdyaWRTdHlsZSxcbiAgICAgICAgd2lkdGg6IHRoaXMuX2dldFJpZ2h0R3JpZFdpZHRoKHByb3BzKVxuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19yZW5kZXJUb3BMZWZ0R3JpZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9yZW5kZXJUb3BMZWZ0R3JpZChwcm9wcykge1xuICAgICAgdmFyIGZpeGVkQ29sdW1uQ291bnQgPSBwcm9wcy5maXhlZENvbHVtbkNvdW50LFxuICAgICAgICAgIGZpeGVkUm93Q291bnQgPSBwcm9wcy5maXhlZFJvd0NvdW50O1xuXG5cbiAgICAgIGlmICghZml4ZWRDb2x1bW5Db3VudCB8fCAhZml4ZWRSb3dDb3VudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgIGNsYXNzTmFtZTogdGhpcy5wcm9wcy5jbGFzc05hbWVUb3BMZWZ0R3JpZCxcbiAgICAgICAgY29sdW1uQ291bnQ6IGZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgIGhlaWdodDogdGhpcy5fZ2V0VG9wR3JpZEhlaWdodChwcm9wcyksXG4gICAgICAgIHJlZjogdGhpcy5fdG9wTGVmdEdyaWRSZWYsXG4gICAgICAgIHJvd0NvdW50OiBmaXhlZFJvd0NvdW50LFxuICAgICAgICBzdHlsZTogdGhpcy5fdG9wTGVmdEdyaWRTdHlsZSxcbiAgICAgICAgdGFiSW5kZXg6IG51bGwsXG4gICAgICAgIHdpZHRoOiB0aGlzLl9nZXRMZWZ0R3JpZFdpZHRoKHByb3BzKVxuICAgICAgfSkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19yZW5kZXJUb3BSaWdodEdyaWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVuZGVyVG9wUmlnaHRHcmlkKHByb3BzKSB7XG4gICAgICB2YXIgY29sdW1uQ291bnQgPSBwcm9wcy5jb2x1bW5Db3VudCxcbiAgICAgICAgICBlbmFibGVGaXhlZFJvd1Njcm9sbCA9IHByb3BzLmVuYWJsZUZpeGVkUm93U2Nyb2xsLFxuICAgICAgICAgIGZpeGVkQ29sdW1uQ291bnQgPSBwcm9wcy5maXhlZENvbHVtbkNvdW50LFxuICAgICAgICAgIGZpeGVkUm93Q291bnQgPSBwcm9wcy5maXhlZFJvd0NvdW50LFxuICAgICAgICAgIHNjcm9sbExlZnQgPSBwcm9wcy5zY3JvbGxMZWZ0LFxuICAgICAgICAgIGhpZGVUb3BSaWdodEdyaWRTY3JvbGxiYXIgPSBwcm9wcy5oaWRlVG9wUmlnaHRHcmlkU2Nyb2xsYmFyO1xuICAgICAgdmFyIF9zdGF0ZTIgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIHNob3dIb3Jpem9udGFsU2Nyb2xsYmFyID0gX3N0YXRlMi5zaG93SG9yaXpvbnRhbFNjcm9sbGJhcixcbiAgICAgICAgICBzY3JvbGxiYXJTaXplID0gX3N0YXRlMi5zY3JvbGxiYXJTaXplO1xuXG5cbiAgICAgIGlmICghZml4ZWRSb3dDb3VudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGFkZGl0aW9uYWxDb2x1bW5Db3VudCA9IHNob3dIb3Jpem9udGFsU2Nyb2xsYmFyID8gMSA6IDAsXG4gICAgICAgICAgaGVpZ2h0ID0gdGhpcy5fZ2V0VG9wR3JpZEhlaWdodChwcm9wcyksXG4gICAgICAgICAgd2lkdGggPSB0aGlzLl9nZXRSaWdodEdyaWRXaWR0aChwcm9wcyksXG4gICAgICAgICAgYWRkaXRpb25hbEhlaWdodCA9IHNob3dIb3Jpem9udGFsU2Nyb2xsYmFyID8gc2Nyb2xsYmFyU2l6ZSA6IDA7XG5cbiAgICAgIHZhciBncmlkSGVpZ2h0ID0gaGVpZ2h0LFxuICAgICAgICAgIHN0eWxlID0gdGhpcy5fdG9wUmlnaHRHcmlkU3R5bGU7XG5cbiAgICAgIGlmIChoaWRlVG9wUmlnaHRHcmlkU2Nyb2xsYmFyKSB7XG4gICAgICAgIGdyaWRIZWlnaHQgPSBoZWlnaHQgKyBhZGRpdGlvbmFsSGVpZ2h0O1xuICAgICAgICBzdHlsZSA9IF9leHRlbmRzKHt9LCB0aGlzLl90b3BSaWdodEdyaWRTdHlsZSwge1xuICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0b3BSaWdodEdyaWQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICBjZWxsUmVuZGVyZXI6IHRoaXMuX2NlbGxSZW5kZXJlclRvcFJpZ2h0R3JpZCxcbiAgICAgICAgY2xhc3NOYW1lOiB0aGlzLnByb3BzLmNsYXNzTmFtZVRvcFJpZ2h0R3JpZCxcbiAgICAgICAgY29sdW1uQ291bnQ6IE1hdGgubWF4KDAsIGNvbHVtbkNvdW50IC0gZml4ZWRDb2x1bW5Db3VudCkgKyBhZGRpdGlvbmFsQ29sdW1uQ291bnQsXG4gICAgICAgIGNvbHVtbldpZHRoOiB0aGlzLl9jb2x1bW5XaWR0aFJpZ2h0R3JpZCxcbiAgICAgICAgZGVmZXJyZWRNZWFzdXJlbWVudENhY2hlOiB0aGlzLl9kZWZlcnJlZE1lYXN1cmVtZW50Q2FjaGVUb3BSaWdodEdyaWQsXG4gICAgICAgIGhlaWdodDogZ3JpZEhlaWdodCxcbiAgICAgICAgb25TY3JvbGw6IGVuYWJsZUZpeGVkUm93U2Nyb2xsID8gdGhpcy5fb25TY3JvbGxMZWZ0IDogdW5kZWZpbmVkLFxuICAgICAgICByZWY6IHRoaXMuX3RvcFJpZ2h0R3JpZFJlZixcbiAgICAgICAgcm93Q291bnQ6IGZpeGVkUm93Q291bnQsXG4gICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgdGFiSW5kZXg6IG51bGwsXG4gICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgfSkpO1xuXG4gICAgICBpZiAoaGlkZVRvcFJpZ2h0R3JpZFNjcm9sbGJhcikge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdUb3BSaWdodEdyaWRfU2Nyb2xsV3JhcHBlcicsXG4gICAgICAgICAgICBzdHlsZTogX2V4dGVuZHMoe30sIHRoaXMuX3RvcFJpZ2h0R3JpZFN0eWxlLCB7XG4gICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgIG92ZXJmbG93WDogJ2hpZGRlbidcbiAgICAgICAgICAgIH0pIH0sXG4gICAgICAgICAgdG9wUmlnaHRHcmlkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9wUmlnaHRHcmlkO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICBpZiAobmV4dFByb3BzLnNjcm9sbExlZnQgIT09IHByZXZTdGF0ZS5zY3JvbGxMZWZ0IHx8IG5leHRQcm9wcy5zY3JvbGxUb3AgIT09IHByZXZTdGF0ZS5zY3JvbGxUb3ApIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzY3JvbGxMZWZ0OiBuZXh0UHJvcHMuc2Nyb2xsTGVmdCAhPSBudWxsICYmIG5leHRQcm9wcy5zY3JvbGxMZWZ0ID49IDAgPyBuZXh0UHJvcHMuc2Nyb2xsTGVmdCA6IHByZXZTdGF0ZS5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcDogbmV4dFByb3BzLnNjcm9sbFRvcCAhPSBudWxsICYmIG5leHRQcm9wcy5zY3JvbGxUb3AgPj0gMCA/IG5leHRQcm9wcy5zY3JvbGxUb3AgOiBwcmV2U3RhdGUuc2Nyb2xsVG9wXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNdWx0aUdyaWQ7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5NdWx0aUdyaWQuZGVmYXVsdFByb3BzID0ge1xuICBjbGFzc05hbWVCb3R0b21MZWZ0R3JpZDogJycsXG4gIGNsYXNzTmFtZUJvdHRvbVJpZ2h0R3JpZDogJycsXG4gIGNsYXNzTmFtZVRvcExlZnRHcmlkOiAnJyxcbiAgY2xhc3NOYW1lVG9wUmlnaHRHcmlkOiAnJyxcbiAgZW5hYmxlRml4ZWRDb2x1bW5TY3JvbGw6IGZhbHNlLFxuICBlbmFibGVGaXhlZFJvd1Njcm9sbDogZmFsc2UsXG4gIGZpeGVkQ29sdW1uQ291bnQ6IDAsXG4gIGZpeGVkUm93Q291bnQ6IDAsXG4gIHNjcm9sbFRvQ29sdW1uOiAtMSxcbiAgc2Nyb2xsVG9Sb3c6IC0xLFxuICBzdHlsZToge30sXG4gIHN0eWxlQm90dG9tTGVmdEdyaWQ6IHt9LFxuICBzdHlsZUJvdHRvbVJpZ2h0R3JpZDoge30sXG4gIHN0eWxlVG9wTGVmdEdyaWQ6IHt9LFxuICBzdHlsZVRvcFJpZ2h0R3JpZDoge30sXG4gIGhpZGVUb3BSaWdodEdyaWRTY3JvbGxiYXI6IGZhbHNlLFxuICBoaWRlQm90dG9tTGVmdEdyaWRTY3JvbGxiYXI6IGZhbHNlXG59O1xuXG52YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gIHRoaXMuc3RhdGUgPSB7XG4gICAgc2Nyb2xsTGVmdDogMCxcbiAgICBzY3JvbGxUb3A6IDAsXG4gICAgc2Nyb2xsYmFyU2l6ZTogMCxcbiAgICBzaG93SG9yaXpvbnRhbFNjcm9sbGJhcjogZmFsc2UsXG4gICAgc2hvd1ZlcnRpY2FsU2Nyb2xsYmFyOiBmYWxzZVxuICB9O1xuICB0aGlzLl9kZWZlcnJlZEludmFsaWRhdGVDb2x1bW5JbmRleCA9IG51bGw7XG4gIHRoaXMuX2RlZmVycmVkSW52YWxpZGF0ZVJvd0luZGV4ID0gbnVsbDtcblxuICB0aGlzLl9ib3R0b21MZWZ0R3JpZFJlZiA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgICBfdGhpczIuX2JvdHRvbUxlZnRHcmlkID0gcmVmO1xuICB9O1xuXG4gIHRoaXMuX2JvdHRvbVJpZ2h0R3JpZFJlZiA9IGZ1bmN0aW9uIChyZWYpIHtcbiAgICBfdGhpczIuX2JvdHRvbVJpZ2h0R3JpZCA9IHJlZjtcbiAgfTtcblxuICB0aGlzLl9jZWxsUmVuZGVyZXJCb3R0b21MZWZ0R3JpZCA9IGZ1bmN0aW9uIChfcmVmMykge1xuICAgIHZhciByb3dJbmRleCA9IF9yZWYzLnJvd0luZGV4LFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYzLCBbJ3Jvd0luZGV4J10pO1xuXG4gICAgdmFyIF9wcm9wczUgPSBfdGhpczIucHJvcHMsXG4gICAgICAgIGNlbGxSZW5kZXJlciA9IF9wcm9wczUuY2VsbFJlbmRlcmVyLFxuICAgICAgICBmaXhlZFJvd0NvdW50ID0gX3Byb3BzNS5maXhlZFJvd0NvdW50LFxuICAgICAgICByb3dDb3VudCA9IF9wcm9wczUucm93Q291bnQ7XG5cblxuICAgIGlmIChyb3dJbmRleCA9PT0gcm93Q291bnQgLSBmaXhlZFJvd0NvdW50KSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBrZXk6IHJlc3Qua2V5LFxuICAgICAgICBzdHlsZTogX2V4dGVuZHMoe30sIHJlc3Quc3R5bGUsIHtcbiAgICAgICAgICBoZWlnaHQ6IFNDUk9MTEJBUl9TSVpFX0JVRkZFUlxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjZWxsUmVuZGVyZXIoX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICAgICAgcGFyZW50OiBfdGhpczIsXG4gICAgICAgIHJvd0luZGV4OiByb3dJbmRleCArIGZpeGVkUm93Q291bnRcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5fY2VsbFJlbmRlcmVyQm90dG9tUmlnaHRHcmlkID0gZnVuY3Rpb24gKF9yZWY0KSB7XG4gICAgdmFyIGNvbHVtbkluZGV4ID0gX3JlZjQuY29sdW1uSW5kZXgsXG4gICAgICAgIHJvd0luZGV4ID0gX3JlZjQucm93SW5kZXgsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjQsIFsnY29sdW1uSW5kZXgnLCAncm93SW5kZXgnXSk7XG5cbiAgICB2YXIgX3Byb3BzNiA9IF90aGlzMi5wcm9wcyxcbiAgICAgICAgY2VsbFJlbmRlcmVyID0gX3Byb3BzNi5jZWxsUmVuZGVyZXIsXG4gICAgICAgIGZpeGVkQ29sdW1uQ291bnQgPSBfcHJvcHM2LmZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgIGZpeGVkUm93Q291bnQgPSBfcHJvcHM2LmZpeGVkUm93Q291bnQ7XG5cblxuICAgIHJldHVybiBjZWxsUmVuZGVyZXIoX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleCArIGZpeGVkQ29sdW1uQ291bnQsXG4gICAgICBwYXJlbnQ6IF90aGlzMixcbiAgICAgIHJvd0luZGV4OiByb3dJbmRleCArIGZpeGVkUm93Q291bnRcbiAgICB9KSk7XG4gIH07XG5cbiAgdGhpcy5fY2VsbFJlbmRlcmVyVG9wUmlnaHRHcmlkID0gZnVuY3Rpb24gKF9yZWY1KSB7XG4gICAgdmFyIGNvbHVtbkluZGV4ID0gX3JlZjUuY29sdW1uSW5kZXgsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjUsIFsnY29sdW1uSW5kZXgnXSk7XG5cbiAgICB2YXIgX3Byb3BzNyA9IF90aGlzMi5wcm9wcyxcbiAgICAgICAgY2VsbFJlbmRlcmVyID0gX3Byb3BzNy5jZWxsUmVuZGVyZXIsXG4gICAgICAgIGNvbHVtbkNvdW50ID0gX3Byb3BzNy5jb2x1bW5Db3VudCxcbiAgICAgICAgZml4ZWRDb2x1bW5Db3VudCA9IF9wcm9wczcuZml4ZWRDb2x1bW5Db3VudDtcblxuXG4gICAgaWYgKGNvbHVtbkluZGV4ID09PSBjb2x1bW5Db3VudCAtIGZpeGVkQ29sdW1uQ291bnQpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIGtleTogcmVzdC5rZXksXG4gICAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgcmVzdC5zdHlsZSwge1xuICAgICAgICAgIHdpZHRoOiBTQ1JPTExCQVJfU0laRV9CVUZGRVJcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2VsbFJlbmRlcmVyKF9leHRlbmRzKHt9LCByZXN0LCB7XG4gICAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleCArIGZpeGVkQ29sdW1uQ291bnQsXG4gICAgICAgIHBhcmVudDogX3RoaXMyXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuX2NvbHVtbldpZHRoUmlnaHRHcmlkID0gZnVuY3Rpb24gKF9yZWY2KSB7XG4gICAgdmFyIGluZGV4ID0gX3JlZjYuaW5kZXg7XG4gICAgdmFyIF9wcm9wczggPSBfdGhpczIucHJvcHMsXG4gICAgICAgIGNvbHVtbkNvdW50ID0gX3Byb3BzOC5jb2x1bW5Db3VudCxcbiAgICAgICAgZml4ZWRDb2x1bW5Db3VudCA9IF9wcm9wczguZml4ZWRDb2x1bW5Db3VudCxcbiAgICAgICAgY29sdW1uV2lkdGggPSBfcHJvcHM4LmNvbHVtbldpZHRoO1xuICAgIHZhciBfc3RhdGUzID0gX3RoaXMyLnN0YXRlLFxuICAgICAgICBzY3JvbGxiYXJTaXplID0gX3N0YXRlMy5zY3JvbGxiYXJTaXplLFxuICAgICAgICBzaG93SG9yaXpvbnRhbFNjcm9sbGJhciA9IF9zdGF0ZTMuc2hvd0hvcml6b250YWxTY3JvbGxiYXI7XG5cbiAgICAvLyBBbiBleHRyYSBjZWxsIGlzIGFkZGVkIHRvIHRoZSBjb3VudFxuICAgIC8vIFRoaXMgZ2l2ZXMgdGhlIHNtYWxsZXIgR3JpZCBleHRyYSByb29tIGZvciBvZmZzZXQsXG4gICAgLy8gSW4gY2FzZSB0aGUgbWFpbiAoYm90dG9tIHJpZ2h0KSBHcmlkIGhhcyBhIHNjcm9sbGJhclxuICAgIC8vIElmIG5vIHNjcm9sbGJhciwgdGhlIGV4dHJhIHNwYWNlIGlzIG92ZXJmbG93OmhpZGRlbiBhbnl3YXlcblxuICAgIGlmIChzaG93SG9yaXpvbnRhbFNjcm9sbGJhciAmJiBpbmRleCA9PT0gY29sdW1uQ291bnQgLSBmaXhlZENvbHVtbkNvdW50KSB7XG4gICAgICByZXR1cm4gc2Nyb2xsYmFyU2l6ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHlwZW9mIGNvbHVtbldpZHRoID09PSAnZnVuY3Rpb24nID8gY29sdW1uV2lkdGgoeyBpbmRleDogaW5kZXggKyBmaXhlZENvbHVtbkNvdW50IH0pIDogY29sdW1uV2lkdGg7XG4gIH07XG5cbiAgdGhpcy5fb25TY3JvbGwgPSBmdW5jdGlvbiAoc2Nyb2xsSW5mbykge1xuICAgIHZhciBzY3JvbGxMZWZ0ID0gc2Nyb2xsSW5mby5zY3JvbGxMZWZ0LFxuICAgICAgICBzY3JvbGxUb3AgPSBzY3JvbGxJbmZvLnNjcm9sbFRvcDtcblxuICAgIF90aGlzMi5zZXRTdGF0ZSh7XG4gICAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3BcbiAgICB9KTtcbiAgICB2YXIgb25TY3JvbGwgPSBfdGhpczIucHJvcHMub25TY3JvbGw7XG4gICAgaWYgKG9uU2Nyb2xsKSB7XG4gICAgICBvblNjcm9sbChzY3JvbGxJbmZvKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5fb25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZSA9IGZ1bmN0aW9uIChfcmVmNykge1xuICAgIHZhciBob3Jpem9udGFsID0gX3JlZjcuaG9yaXpvbnRhbCxcbiAgICAgICAgc2l6ZSA9IF9yZWY3LnNpemUsXG4gICAgICAgIHZlcnRpY2FsID0gX3JlZjcudmVydGljYWw7XG4gICAgdmFyIF9zdGF0ZTQgPSBfdGhpczIuc3RhdGUsXG4gICAgICAgIHNob3dIb3Jpem9udGFsU2Nyb2xsYmFyID0gX3N0YXRlNC5zaG93SG9yaXpvbnRhbFNjcm9sbGJhcixcbiAgICAgICAgc2hvd1ZlcnRpY2FsU2Nyb2xsYmFyID0gX3N0YXRlNC5zaG93VmVydGljYWxTY3JvbGxiYXI7XG5cblxuICAgIGlmIChob3Jpem9udGFsICE9PSBzaG93SG9yaXpvbnRhbFNjcm9sbGJhciB8fCB2ZXJ0aWNhbCAhPT0gc2hvd1ZlcnRpY2FsU2Nyb2xsYmFyKSB7XG4gICAgICBfdGhpczIuc2V0U3RhdGUoe1xuICAgICAgICBzY3JvbGxiYXJTaXplOiBzaXplLFxuICAgICAgICBzaG93SG9yaXpvbnRhbFNjcm9sbGJhcjogaG9yaXpvbnRhbCxcbiAgICAgICAgc2hvd1ZlcnRpY2FsU2Nyb2xsYmFyOiB2ZXJ0aWNhbFxuICAgICAgfSk7XG5cbiAgICAgIHZhciBvblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlID0gX3RoaXMyLnByb3BzLm9uU2Nyb2xsYmFyUHJlc2VuY2VDaGFuZ2U7XG5cbiAgICAgIGlmICh0eXBlb2Ygb25TY3JvbGxiYXJQcmVzZW5jZUNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlKHtcbiAgICAgICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsLFxuICAgICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgICAgdmVydGljYWw6IHZlcnRpY2FsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB0aGlzLl9vblNjcm9sbExlZnQgPSBmdW5jdGlvbiAoc2Nyb2xsSW5mbykge1xuICAgIHZhciBzY3JvbGxMZWZ0ID0gc2Nyb2xsSW5mby5zY3JvbGxMZWZ0O1xuXG4gICAgX3RoaXMyLl9vblNjcm9sbCh7XG4gICAgICBzY3JvbGxMZWZ0OiBzY3JvbGxMZWZ0LFxuICAgICAgc2Nyb2xsVG9wOiBfdGhpczIuc3RhdGUuc2Nyb2xsVG9wXG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5fb25TY3JvbGxUb3AgPSBmdW5jdGlvbiAoc2Nyb2xsSW5mbykge1xuICAgIHZhciBzY3JvbGxUb3AgPSBzY3JvbGxJbmZvLnNjcm9sbFRvcDtcblxuICAgIF90aGlzMi5fb25TY3JvbGwoe1xuICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICBzY3JvbGxMZWZ0OiBfdGhpczIuc3RhdGUuc2Nyb2xsTGVmdFxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuX3Jvd0hlaWdodEJvdHRvbUdyaWQgPSBmdW5jdGlvbiAoX3JlZjgpIHtcbiAgICB2YXIgaW5kZXggPSBfcmVmOC5pbmRleDtcbiAgICB2YXIgX3Byb3BzOSA9IF90aGlzMi5wcm9wcyxcbiAgICAgICAgZml4ZWRSb3dDb3VudCA9IF9wcm9wczkuZml4ZWRSb3dDb3VudCxcbiAgICAgICAgcm93Q291bnQgPSBfcHJvcHM5LnJvd0NvdW50LFxuICAgICAgICByb3dIZWlnaHQgPSBfcHJvcHM5LnJvd0hlaWdodDtcbiAgICB2YXIgX3N0YXRlNSA9IF90aGlzMi5zdGF0ZSxcbiAgICAgICAgc2Nyb2xsYmFyU2l6ZSA9IF9zdGF0ZTUuc2Nyb2xsYmFyU2l6ZSxcbiAgICAgICAgc2hvd1ZlcnRpY2FsU2Nyb2xsYmFyID0gX3N0YXRlNS5zaG93VmVydGljYWxTY3JvbGxiYXI7XG5cbiAgICAvLyBBbiBleHRyYSBjZWxsIGlzIGFkZGVkIHRvIHRoZSBjb3VudFxuICAgIC8vIFRoaXMgZ2l2ZXMgdGhlIHNtYWxsZXIgR3JpZCBleHRyYSByb29tIGZvciBvZmZzZXQsXG4gICAgLy8gSW4gY2FzZSB0aGUgbWFpbiAoYm90dG9tIHJpZ2h0KSBHcmlkIGhhcyBhIHNjcm9sbGJhclxuICAgIC8vIElmIG5vIHNjcm9sbGJhciwgdGhlIGV4dHJhIHNwYWNlIGlzIG92ZXJmbG93OmhpZGRlbiBhbnl3YXlcblxuICAgIGlmIChzaG93VmVydGljYWxTY3JvbGxiYXIgJiYgaW5kZXggPT09IHJvd0NvdW50IC0gZml4ZWRSb3dDb3VudCkge1xuICAgICAgcmV0dXJuIHNjcm9sbGJhclNpemU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGVvZiByb3dIZWlnaHQgPT09ICdmdW5jdGlvbicgPyByb3dIZWlnaHQoeyBpbmRleDogaW5kZXggKyBmaXhlZFJvd0NvdW50IH0pIDogcm93SGVpZ2h0O1xuICB9O1xuXG4gIHRoaXMuX3RvcExlZnRHcmlkUmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgIF90aGlzMi5fdG9wTGVmdEdyaWQgPSByZWY7XG4gIH07XG5cbiAgdGhpcy5fdG9wUmlnaHRHcmlkUmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgIF90aGlzMi5fdG9wUmlnaHRHcmlkID0gcmVmO1xuICB9O1xufTtcblxuTXVsdGlHcmlkLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgY2xhc3NOYW1lQm90dG9tTGVmdEdyaWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgY2xhc3NOYW1lQm90dG9tUmlnaHRHcmlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNsYXNzTmFtZVRvcExlZnRHcmlkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNsYXNzTmFtZVRvcFJpZ2h0R3JpZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBlbmFibGVGaXhlZENvbHVtblNjcm9sbDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgZW5hYmxlRml4ZWRSb3dTY3JvbGw6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIGZpeGVkQ29sdW1uQ291bnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgZml4ZWRSb3dDb3VudDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBvblNjcm9sbGJhclByZXNlbmNlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYyxcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgc3R5bGVCb3R0b21MZWZ0R3JpZDogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBzdHlsZUJvdHRvbVJpZ2h0R3JpZDogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICBzdHlsZVRvcExlZnRHcmlkOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIHN0eWxlVG9wUmlnaHRHcmlkOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIGhpZGVUb3BSaWdodEdyaWRTY3JvbGxiYXI6IFByb3BUeXBlcy5ib29sLFxuICBoaWRlQm90dG9tTGVmdEdyaWRTY3JvbGxiYXI6IFByb3BUeXBlcy5ib29sXG59IDoge307XG5cblxucG9seWZpbGwoTXVsdGlHcmlkKTtcblxuZXhwb3J0IGRlZmF1bHQgTXVsdGlHcmlkOyIsImltcG9ydCBNdWx0aUdyaWQgZnJvbSAnLi9NdWx0aUdyaWQnO1xuXG5leHBvcnQgZGVmYXVsdCBNdWx0aUdyaWQ7XG5leHBvcnQgeyBNdWx0aUdyaWQgfTsiLCJpbXBvcnQgX09iamVjdCRnZXRQcm90b3R5cGVPZiBmcm9tICdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogSE9DIHRoYXQgc2ltcGxpZmllcyB0aGUgcHJvY2VzcyBvZiBzeW5jaHJvbml6aW5nIHNjcm9sbGluZyBiZXR3ZWVuIHR3byBvciBtb3JlIHZpcnR1YWxpemVkIGNvbXBvbmVudHMuXG4gKi9cblxudmFyIFNjcm9sbFN5bmMgPSBmdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFNjcm9sbFN5bmMsIF9SZWFjdCRQdXJlQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTY3JvbGxTeW5jKHByb3BzLCBjb250ZXh0KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNjcm9sbFN5bmMpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFNjcm9sbFN5bmMuX19wcm90b19fIHx8IF9PYmplY3QkZ2V0UHJvdG90eXBlT2YoU2Nyb2xsU3luYykpLmNhbGwodGhpcywgcHJvcHMsIGNvbnRleHQpKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgY2xpZW50SGVpZ2h0OiAwLFxuICAgICAgY2xpZW50V2lkdGg6IDAsXG4gICAgICBzY3JvbGxIZWlnaHQ6IDAsXG4gICAgICBzY3JvbGxMZWZ0OiAwLFxuICAgICAgc2Nyb2xsVG9wOiAwLFxuICAgICAgc2Nyb2xsV2lkdGg6IDBcbiAgICB9O1xuXG4gICAgX3RoaXMuX29uU2Nyb2xsID0gX3RoaXMuX29uU2Nyb2xsLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTY3JvbGxTeW5jLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBjbGllbnRIZWlnaHQgPSBfc3RhdGUuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgIGNsaWVudFdpZHRoID0gX3N0YXRlLmNsaWVudFdpZHRoLFxuICAgICAgICAgIHNjcm9sbEhlaWdodCA9IF9zdGF0ZS5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgc2Nyb2xsTGVmdCA9IF9zdGF0ZS5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF9zdGF0ZS5zY3JvbGxUb3AsXG4gICAgICAgICAgc2Nyb2xsV2lkdGggPSBfc3RhdGUuc2Nyb2xsV2lkdGg7XG5cblxuICAgICAgcmV0dXJuIGNoaWxkcmVuKHtcbiAgICAgICAgY2xpZW50SGVpZ2h0OiBjbGllbnRIZWlnaHQsXG4gICAgICAgIGNsaWVudFdpZHRoOiBjbGllbnRXaWR0aCxcbiAgICAgICAgb25TY3JvbGw6IHRoaXMuX29uU2Nyb2xsLFxuICAgICAgICBzY3JvbGxIZWlnaHQ6IHNjcm9sbEhlaWdodCxcbiAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICAgIHNjcm9sbFdpZHRoOiBzY3JvbGxXaWR0aFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX29uU2Nyb2xsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29uU2Nyb2xsKF9yZWYpIHtcbiAgICAgIHZhciBjbGllbnRIZWlnaHQgPSBfcmVmLmNsaWVudEhlaWdodCxcbiAgICAgICAgICBjbGllbnRXaWR0aCA9IF9yZWYuY2xpZW50V2lkdGgsXG4gICAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gX3JlZi5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgc2Nyb2xsTGVmdCA9IF9yZWYuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfcmVmLnNjcm9sbFRvcCxcbiAgICAgICAgICBzY3JvbGxXaWR0aCA9IF9yZWYuc2Nyb2xsV2lkdGg7XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjbGllbnRIZWlnaHQ6IGNsaWVudEhlaWdodCxcbiAgICAgICAgY2xpZW50V2lkdGg6IGNsaWVudFdpZHRoLFxuICAgICAgICBzY3JvbGxIZWlnaHQ6IHNjcm9sbEhlaWdodCxcbiAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICAgIHNjcm9sbFdpZHRoOiBzY3JvbGxXaWR0aFxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNjcm9sbFN5bmM7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBTY3JvbGxTeW5jO1xuU2Nyb2xsU3luYy5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIDIgb3IgbW9yZSB2aXJ0dWFsaXplZCBjb21wb25lbnRzLlxuICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBzaWduYXR1cmU6XG4gICAqICh7IG9uU2Nyb2xsLCBzY3JvbGxMZWZ0LCBzY3JvbGxUb3AgfSkgPT4gUHJvcFR5cGVzLmVsZW1lbnRcbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59IDoge307IiwiaW1wb3J0IFNjcm9sbFN5bmMgZnJvbSAnLi9TY3JvbGxTeW5jJztcblxuZXhwb3J0IGRlZmF1bHQgU2Nyb2xsU3luYztcbmV4cG9ydCB7IFNjcm9sbFN5bmMgfTsiLCJpbXBvcnQgX09iamVjdCRrZXlzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY3JlYXRlTXVsdGlTb3J0KHNvcnRDYWxsYmFjaykge1xuICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge30sXG4gICAgICBkZWZhdWx0U29ydEJ5ID0gX3JlZi5kZWZhdWx0U29ydEJ5LFxuICAgICAgX3JlZiRkZWZhdWx0U29ydERpcmVjID0gX3JlZi5kZWZhdWx0U29ydERpcmVjdGlvbixcbiAgICAgIGRlZmF1bHRTb3J0RGlyZWN0aW9uID0gX3JlZiRkZWZhdWx0U29ydERpcmVjID09PSB1bmRlZmluZWQgPyB7fSA6IF9yZWYkZGVmYXVsdFNvcnREaXJlYztcblxuICBpZiAoIXNvcnRDYWxsYmFjaykge1xuICAgIHRocm93IEVycm9yKCdSZXF1aXJlZCBwYXJhbWV0ZXIgXCJzb3J0Q2FsbGJhY2tcIiBub3Qgc3BlY2lmaWVkJyk7XG4gIH1cblxuICB2YXIgc29ydEJ5ID0gZGVmYXVsdFNvcnRCeSB8fCBbXTtcbiAgdmFyIHNvcnREaXJlY3Rpb24gPSB7fTtcblxuICBzb3J0QnkuZm9yRWFjaChmdW5jdGlvbiAoZGF0YUtleSkge1xuICAgIHNvcnREaXJlY3Rpb25bZGF0YUtleV0gPSBkZWZhdWx0U29ydERpcmVjdGlvbi5oYXNPd25Qcm9wZXJ0eShkYXRhS2V5KSA/IGRlZmF1bHRTb3J0RGlyZWN0aW9uW2RhdGFLZXldIDogJ0FTQyc7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHNvcnQoX3JlZjIpIHtcbiAgICB2YXIgZGVmYXVsdFNvcnREaXJlY3Rpb24gPSBfcmVmMi5kZWZhdWx0U29ydERpcmVjdGlvbixcbiAgICAgICAgZXZlbnQgPSBfcmVmMi5ldmVudCxcbiAgICAgICAgZGF0YUtleSA9IF9yZWYyLnNvcnRCeTtcblxuICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgLy8gU2hpZnQgKyBjbGljayBhcHBlbmRzIGEgY29sdW1uIHRvIGV4aXN0aW5nIGNyaXRlcmlhXG4gICAgICBpZiAoc29ydERpcmVjdGlvbi5oYXNPd25Qcm9wZXJ0eShkYXRhS2V5KSkge1xuICAgICAgICBzb3J0RGlyZWN0aW9uW2RhdGFLZXldID0gc29ydERpcmVjdGlvbltkYXRhS2V5XSA9PT0gJ0FTQycgPyAnREVTQycgOiAnQVNDJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvcnREaXJlY3Rpb25bZGF0YUtleV0gPSBkZWZhdWx0U29ydERpcmVjdGlvbjtcbiAgICAgICAgc29ydEJ5LnB1c2goZGF0YUtleSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpIHtcbiAgICAgIC8vIENvbnRyb2wgKyBjbGljayByZW1vdmVzIGNvbHVtbiBmcm9tIHNvcnQgKGlmIHByZXNzZW50KVxuICAgICAgdmFyIGluZGV4ID0gc29ydEJ5LmluZGV4T2YoZGF0YUtleSk7XG4gICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBzb3J0Qnkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgZGVsZXRlIHNvcnREaXJlY3Rpb25bZGF0YUtleV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENsZWFyIHNvcnRCeSBhcnJheSBvZiBhbGwgbm9uLXNlbGVjdGVkIGtleXNcbiAgICAgIHNvcnRCeS5sZW5ndGggPSAwO1xuICAgICAgc29ydEJ5LnB1c2goZGF0YUtleSk7XG5cbiAgICAgIC8vIENsZWFyIHNvcnREaXJlY3Rpb24gb2JqZWN0IG9mIGFsbCBub24tc2VsZWN0ZWQga2V5c1xuICAgICAgdmFyIHNvcnREaXJlY3Rpb25LZXlzID0gX09iamVjdCRrZXlzKHNvcnREaXJlY3Rpb24pO1xuICAgICAgc29ydERpcmVjdGlvbktleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChrZXkgIT09IGRhdGFLZXkpIGRlbGV0ZSBzb3J0RGlyZWN0aW9uW2tleV07XG4gICAgICB9KTtcblxuICAgICAgLy8gSWYga2V5IGlzIGFscmVhZHkgc2VsZWN0ZWQsIHJldmVyc2Ugc29ydCBkaXJlY3Rpb24uXG4gICAgICAvLyBFbHNlLCBzZXQgc29ydCBkaXJlY3Rpb24gdG8gZGVmYXVsdCBkaXJlY3Rpb24uXG4gICAgICBpZiAoc29ydERpcmVjdGlvbi5oYXNPd25Qcm9wZXJ0eShkYXRhS2V5KSkge1xuICAgICAgICBzb3J0RGlyZWN0aW9uW2RhdGFLZXldID0gc29ydERpcmVjdGlvbltkYXRhS2V5XSA9PT0gJ0FTQycgPyAnREVTQycgOiAnQVNDJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNvcnREaXJlY3Rpb25bZGF0YUtleV0gPSBkZWZhdWx0U29ydERpcmVjdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOb3RpZnkgYXBwbGljYXRpb24gY29kZVxuICAgIHNvcnRDYWxsYmFjayh7XG4gICAgICBzb3J0Qnk6IHNvcnRCeSxcbiAgICAgIHNvcnREaXJlY3Rpb246IHNvcnREaXJlY3Rpb25cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc29ydDogc29ydCxcbiAgICBzb3J0Qnk6IHNvcnRCeSxcbiAgICBzb3J0RGlyZWN0aW9uOiBzb3J0RGlyZWN0aW9uXG4gIH07XG59IiwidmFyIGJwZnJwdF9wcm9wdHlwZV9DZWxsRGF0YUdldHRlclBhcmFtcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyBudWxsIDoge1xuICBjb2x1bW5EYXRhOiBQcm9wVHlwZXMuYW55LFxuICBkYXRhS2V5OiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHJvd0RhdGE6IGZ1bmN0aW9uIHJvd0RhdGEocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIHByb3BOYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvcCBgXCIgKyBwcm9wTmFtZSArIFwiYCBoYXMgdHlwZSAnYW55JyBvciAnbWl4ZWQnLCBidXQgd2FzIG5vdCBwcm92aWRlZCB0byBgXCIgKyBjb21wb25lbnROYW1lICsgXCJgLiBQYXNzIHVuZGVmaW5lZCBvciBhbnkgb3RoZXIgdmFsdWUuXCIpO1xuICAgIH1cbiAgfVxufTtcbnZhciBicGZycHRfcHJvcHR5cGVfQ2VsbFJlbmRlcmVyUGFyYW1zID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIGNlbGxEYXRhOiBQcm9wVHlwZXMuYW55LFxuICBjb2x1bW5EYXRhOiBQcm9wVHlwZXMuYW55LFxuICBkYXRhS2V5OiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHJvd0RhdGE6IGZ1bmN0aW9uIHJvd0RhdGEocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIHByb3BOYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvcCBgXCIgKyBwcm9wTmFtZSArIFwiYCBoYXMgdHlwZSAnYW55JyBvciAnbWl4ZWQnLCBidXQgd2FzIG5vdCBwcm92aWRlZCB0byBgXCIgKyBjb21wb25lbnROYW1lICsgXCJgLiBQYXNzIHVuZGVmaW5lZCBvciBhbnkgb3RoZXIgdmFsdWUuXCIpO1xuICAgIH1cbiAgfSxcbiAgcm93SW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcbnZhciBicGZycHRfcHJvcHR5cGVfSGVhZGVyUm93UmVuZGVyZXJQYXJhbXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGNvbHVtbnM6IFByb3BUeXBlcy5hcnJheU9mKGZ1bmN0aW9uIChwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgcHJvcE5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm9wIGBcIiArIHByb3BOYW1lICsgXCJgIGhhcyB0eXBlICdhbnknIG9yICdtaXhlZCcsIGJ1dCB3YXMgbm90IHByb3ZpZGVkIHRvIGBcIiArIGNvbXBvbmVudE5hbWUgKyBcImAuIFBhc3MgdW5kZWZpbmVkIG9yIGFueSBvdGhlciB2YWx1ZS5cIik7XG4gICAgfVxuICB9KS5pc1JlcXVpcmVkLFxuICBzdHlsZTogZnVuY3Rpb24gc3R5bGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIHByb3BOYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvcCBgXCIgKyBwcm9wTmFtZSArIFwiYCBoYXMgdHlwZSAnYW55JyBvciAnbWl4ZWQnLCBidXQgd2FzIG5vdCBwcm92aWRlZCB0byBgXCIgKyBjb21wb25lbnROYW1lICsgXCJgLiBQYXNzIHVuZGVmaW5lZCBvciBhbnkgb3RoZXIgdmFsdWUuXCIpO1xuICAgIH1cbiAgfVxufTtcbnZhciBicGZycHRfcHJvcHR5cGVfSGVhZGVyUmVuZGVyZXJQYXJhbXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gbnVsbCA6IHtcbiAgY29sdW1uRGF0YTogUHJvcFR5cGVzLmFueSxcbiAgZGF0YUtleTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBkaXNhYmxlU29ydDogUHJvcFR5cGVzLmJvb2wsXG4gIGxhYmVsOiBQcm9wVHlwZXMuYW55LFxuICBzb3J0Qnk6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHNvcnREaXJlY3Rpb246IFByb3BUeXBlcy5zdHJpbmdcbn07XG52YXIgYnBmcnB0X3Byb3B0eXBlX1Jvd1JlbmRlcmVyUGFyYW1zID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBjb2x1bW5zOiBQcm9wVHlwZXMuYXJyYXlPZihmdW5jdGlvbiAocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIHByb3BOYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvcCBgXCIgKyBwcm9wTmFtZSArIFwiYCBoYXMgdHlwZSAnYW55JyBvciAnbWl4ZWQnLCBidXQgd2FzIG5vdCBwcm92aWRlZCB0byBgXCIgKyBjb21wb25lbnROYW1lICsgXCJgLiBQYXNzIHVuZGVmaW5lZCBvciBhbnkgb3RoZXIgdmFsdWUuXCIpO1xuICAgIH1cbiAgfSkuaXNSZXF1aXJlZCxcbiAgaW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgaXNTY3JvbGxpbmc6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIG9uUm93Q2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuICBvblJvd0RvdWJsZUNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25Sb3dNb3VzZU92ZXI6IFByb3BUeXBlcy5mdW5jLFxuICBvblJvd01vdXNlT3V0OiBQcm9wVHlwZXMuZnVuYyxcbiAgcm93RGF0YTogZnVuY3Rpb24gcm93RGF0YShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgcHJvcE5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm9wIGBcIiArIHByb3BOYW1lICsgXCJgIGhhcyB0eXBlICdhbnknIG9yICdtaXhlZCcsIGJ1dCB3YXMgbm90IHByb3ZpZGVkIHRvIGBcIiArIGNvbXBvbmVudE5hbWUgKyBcImAuIFBhc3MgdW5kZWZpbmVkIG9yIGFueSBvdGhlciB2YWx1ZS5cIik7XG4gICAgfVxuICB9LFxuICBzdHlsZTogZnVuY3Rpb24gc3R5bGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIHByb3BOYW1lKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvcCBgXCIgKyBwcm9wTmFtZSArIFwiYCBoYXMgdHlwZSAnYW55JyBvciAnbWl4ZWQnLCBidXQgd2FzIG5vdCBwcm92aWRlZCB0byBgXCIgKyBjb21wb25lbnROYW1lICsgXCJgLiBQYXNzIHVuZGVmaW5lZCBvciBhbnkgb3RoZXIgdmFsdWUuXCIpO1xuICAgIH1cbiAgfVxufTtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsRGF0YUdldHRlclBhcmFtcyB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxSZW5kZXJlclBhcmFtcyB9O1xuZXhwb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0hlYWRlclJvd1JlbmRlcmVyUGFyYW1zIH07XG5leHBvcnQgeyBicGZycHRfcHJvcHR5cGVfSGVhZGVyUmVuZGVyZXJQYXJhbXMgfTtcbmV4cG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9Sb3dSZW5kZXJlclBhcmFtcyB9OyIsIlxuXG4vKipcbiAqIERlZmF1bHQgYWNjZXNzb3IgZm9yIHJldHVybmluZyBhIGNlbGwgdmFsdWUgZm9yIGEgZ2l2ZW4gYXR0cmlidXRlLlxuICogVGhpcyBmdW5jdGlvbiBleHBlY3RzIHRvIG9wZXJhdGUgb24gZWl0aGVyIGEgdmFuaWxsYSBPYmplY3Qgb3IgYW4gSW1tdXRhYmxlIE1hcC5cbiAqIFlvdSBzaG91bGQgb3ZlcnJpZGUgdGhlIGNvbHVtbidzIGNlbGxEYXRhR2V0dGVyIGlmIHlvdXIgZGF0YSBpcyBzb21lIG90aGVyIHR5cGUgb2Ygb2JqZWN0LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWZhdWx0Q2VsbERhdGFHZXR0ZXIoX3JlZikge1xuICB2YXIgZGF0YUtleSA9IF9yZWYuZGF0YUtleSxcbiAgICAgIHJvd0RhdGEgPSBfcmVmLnJvd0RhdGE7XG5cbiAgaWYgKHR5cGVvZiByb3dEYXRhLmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiByb3dEYXRhLmdldChkYXRhS2V5KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcm93RGF0YVtkYXRhS2V5XTtcbiAgfVxufVxuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxEYXRhR2V0dGVyUGFyYW1zIH0gZnJvbSAnLi90eXBlcyc7IiwiXG5cbi8qKlxuICogRGVmYXVsdCBjZWxsIHJlbmRlcmVyIHRoYXQgZGlzcGxheXMgYW4gYXR0cmlidXRlIGFzIGEgc2ltcGxlIHN0cmluZ1xuICogWW91IHNob3VsZCBvdmVycmlkZSB0aGUgY29sdW1uJ3MgY2VsbFJlbmRlcmVyIGlmIHlvdXIgZGF0YSBpcyBzb21lIG90aGVyIHR5cGUgb2Ygb2JqZWN0LlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWZhdWx0Q2VsbFJlbmRlcmVyKF9yZWYpIHtcbiAgdmFyIGNlbGxEYXRhID0gX3JlZi5jZWxsRGF0YTtcblxuICBpZiAoY2VsbERhdGEgPT0gbnVsbCkge1xuICAgIHJldHVybiAnJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gU3RyaW5nKGNlbGxEYXRhKTtcbiAgfVxufVxuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX0NlbGxSZW5kZXJlclBhcmFtcyB9IGZyb20gJy4vdHlwZXMnOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWZhdWx0SGVhZGVyUm93UmVuZGVyZXIoX3JlZikge1xuICB2YXIgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjb2x1bW5zID0gX3JlZi5jb2x1bW5zLFxuICAgICAgc3R5bGUgPSBfcmVmLnN0eWxlO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICdkaXYnLFxuICAgIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUsIHJvbGU6ICdyb3cnLCBzdHlsZTogc3R5bGUgfSxcbiAgICBjb2x1bW5zXG4gICk7XG59XG5kZWZhdWx0SGVhZGVyUm93UmVuZGVyZXIucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiBicGZycHRfcHJvcHR5cGVfSGVhZGVyUm93UmVuZGVyZXJQYXJhbXMgPT09IFByb3BUeXBlcy5hbnkgPyB7fSA6IGJwZnJwdF9wcm9wdHlwZV9IZWFkZXJSb3dSZW5kZXJlclBhcmFtcztcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9IZWFkZXJSb3dSZW5kZXJlclBhcmFtcyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJzsiLCJ2YXIgU29ydERpcmVjdGlvbiA9IHtcbiAgLyoqXG4gICAqIFNvcnQgaXRlbXMgaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgKiBUaGlzIG1lYW5zIGFycmFuZ2luZyBmcm9tIHRoZSBsb3dlc3QgdmFsdWUgdG8gdGhlIGhpZ2hlc3QgKGUuZy4gYS16LCAwLTkpLlxuICAgKi9cbiAgQVNDOiAnQVNDJyxcblxuICAvKipcbiAgICogU29ydCBpdGVtcyBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgKiBUaGlzIG1lYW5zIGFycmFuZ2luZyBmcm9tIHRoZSBoaWdoZXN0IHZhbHVlIHRvIHRoZSBsb3dlc3QgKGUuZy4gei1hLCA5LTApLlxuICAgKi9cbiAgREVTQzogJ0RFU0MnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBTb3J0RGlyZWN0aW9uOyIsImltcG9ydCBjbiBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgU29ydERpcmVjdGlvbiBmcm9tICcuL1NvcnREaXJlY3Rpb24nO1xuXG4vKipcbiAqIERpc3BsYXllZCBiZXNpZGUgYSBoZWFkZXIgdG8gaW5kaWNhdGUgdGhhdCBhIFRhYmxlIGlzIGN1cnJlbnRseSBzb3J0ZWQgYnkgdGhpcyBjb2x1bW4uXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNvcnRJbmRpY2F0b3IoX3JlZikge1xuICB2YXIgc29ydERpcmVjdGlvbiA9IF9yZWYuc29ydERpcmVjdGlvbjtcblxuICB2YXIgY2xhc3NOYW1lcyA9IGNuKCdSZWFjdFZpcnR1YWxpemVkX19UYWJsZV9fc29ydGFibGVIZWFkZXJJY29uJywge1xuICAgICdSZWFjdFZpcnR1YWxpemVkX19UYWJsZV9fc29ydGFibGVIZWFkZXJJY29uLS1BU0MnOiBzb3J0RGlyZWN0aW9uID09PSBTb3J0RGlyZWN0aW9uLkFTQyxcbiAgICAnUmVhY3RWaXJ0dWFsaXplZF9fVGFibGVfX3NvcnRhYmxlSGVhZGVySWNvbi0tREVTQyc6IHNvcnREaXJlY3Rpb24gPT09IFNvcnREaXJlY3Rpb24uREVTQ1xuICB9KTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAnc3ZnJyxcbiAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lcywgd2lkdGg6IDE4LCBoZWlnaHQ6IDE4LCB2aWV3Qm94OiAnMCAwIDI0IDI0JyB9LFxuICAgIHNvcnREaXJlY3Rpb24gPT09IFNvcnREaXJlY3Rpb24uQVNDID8gUmVhY3QuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ003IDE0bDUtNSA1IDV6JyB9KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7IGQ6ICdNNyAxMGw1IDUgNS01eicgfSksXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudCgncGF0aCcsIHsgZDogJ00wIDBoMjR2MjRIMHonLCBmaWxsOiAnbm9uZScgfSlcbiAgKTtcbn1cblxuU29ydEluZGljYXRvci5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB7XG4gIHNvcnREaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZihbU29ydERpcmVjdGlvbi5BU0MsIFNvcnREaXJlY3Rpb24uREVTQ10pXG59IDoge307IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFNvcnRJbmRpY2F0b3IgZnJvbSAnLi9Tb3J0SW5kaWNhdG9yJztcblxuXG4vKipcbiAqIERlZmF1bHQgdGFibGUgaGVhZGVyIHJlbmRlcmVyLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWZhdWx0SGVhZGVyUmVuZGVyZXIoX3JlZikge1xuICB2YXIgZGF0YUtleSA9IF9yZWYuZGF0YUtleSxcbiAgICAgIGxhYmVsID0gX3JlZi5sYWJlbCxcbiAgICAgIHNvcnRCeSA9IF9yZWYuc29ydEJ5LFxuICAgICAgc29ydERpcmVjdGlvbiA9IF9yZWYuc29ydERpcmVjdGlvbjtcblxuICB2YXIgc2hvd1NvcnRJbmRpY2F0b3IgPSBzb3J0QnkgPT09IGRhdGFLZXk7XG4gIHZhciBjaGlsZHJlbiA9IFtSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICdzcGFuJyxcbiAgICB7XG4gICAgICBjbGFzc05hbWU6ICdSZWFjdFZpcnR1YWxpemVkX19UYWJsZV9faGVhZGVyVHJ1bmNhdGVkVGV4dCcsXG4gICAgICBrZXk6ICdsYWJlbCcsXG4gICAgICB0aXRsZTogbGFiZWwgfSxcbiAgICBsYWJlbFxuICApXTtcblxuICBpZiAoc2hvd1NvcnRJbmRpY2F0b3IpIHtcbiAgICBjaGlsZHJlbi5wdXNoKFJlYWN0LmNyZWF0ZUVsZW1lbnQoU29ydEluZGljYXRvciwgeyBrZXk6ICdTb3J0SW5kaWNhdG9yJywgc29ydERpcmVjdGlvbjogc29ydERpcmVjdGlvbiB9KSk7XG4gIH1cblxuICByZXR1cm4gY2hpbGRyZW47XG59XG5kZWZhdWx0SGVhZGVyUmVuZGVyZXIucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiBicGZycHRfcHJvcHR5cGVfSGVhZGVyUmVuZGVyZXJQYXJhbXMgPT09IFByb3BUeXBlcy5hbnkgPyB7fSA6IGJwZnJwdF9wcm9wdHlwZV9IZWFkZXJSZW5kZXJlclBhcmFtcztcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9IZWFkZXJSZW5kZXJlclBhcmFtcyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJzsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5cbi8qKlxuICogRGVmYXVsdCByb3cgcmVuZGVyZXIgZm9yIFRhYmxlLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkZWZhdWx0Um93UmVuZGVyZXIoX3JlZikge1xuICB2YXIgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjb2x1bW5zID0gX3JlZi5jb2x1bW5zLFxuICAgICAgaW5kZXggPSBfcmVmLmluZGV4LFxuICAgICAga2V5ID0gX3JlZi5rZXksXG4gICAgICBvblJvd0NsaWNrID0gX3JlZi5vblJvd0NsaWNrLFxuICAgICAgb25Sb3dEb3VibGVDbGljayA9IF9yZWYub25Sb3dEb3VibGVDbGljayxcbiAgICAgIG9uUm93TW91c2VPdXQgPSBfcmVmLm9uUm93TW91c2VPdXQsXG4gICAgICBvblJvd01vdXNlT3ZlciA9IF9yZWYub25Sb3dNb3VzZU92ZXIsXG4gICAgICBvblJvd1JpZ2h0Q2xpY2sgPSBfcmVmLm9uUm93UmlnaHRDbGljayxcbiAgICAgIHJvd0RhdGEgPSBfcmVmLnJvd0RhdGEsXG4gICAgICBzdHlsZSA9IF9yZWYuc3R5bGU7XG5cbiAgdmFyIGExMXlQcm9wcyA9IHsgJ2FyaWEtcm93aW5kZXgnOiBpbmRleCArIDEgfTtcblxuICBpZiAob25Sb3dDbGljayB8fCBvblJvd0RvdWJsZUNsaWNrIHx8IG9uUm93TW91c2VPdXQgfHwgb25Sb3dNb3VzZU92ZXIgfHwgb25Sb3dSaWdodENsaWNrKSB7XG4gICAgYTExeVByb3BzWydhcmlhLWxhYmVsJ10gPSAncm93JztcbiAgICBhMTF5UHJvcHMudGFiSW5kZXggPSAwO1xuXG4gICAgaWYgKG9uUm93Q2xpY2spIHtcbiAgICAgIGExMXlQcm9wcy5vbkNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBvblJvd0NsaWNrKHsgZXZlbnQ6IGV2ZW50LCBpbmRleDogaW5kZXgsIHJvd0RhdGE6IHJvd0RhdGEgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAob25Sb3dEb3VibGVDbGljaykge1xuICAgICAgYTExeVByb3BzLm9uRG91YmxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIG9uUm93RG91YmxlQ2xpY2soeyBldmVudDogZXZlbnQsIGluZGV4OiBpbmRleCwgcm93RGF0YTogcm93RGF0YSB9KTtcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChvblJvd01vdXNlT3V0KSB7XG4gICAgICBhMTF5UHJvcHMub25Nb3VzZU91dCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gb25Sb3dNb3VzZU91dCh7IGV2ZW50OiBldmVudCwgaW5kZXg6IGluZGV4LCByb3dEYXRhOiByb3dEYXRhIH0pO1xuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG9uUm93TW91c2VPdmVyKSB7XG4gICAgICBhMTF5UHJvcHMub25Nb3VzZU92ZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIG9uUm93TW91c2VPdmVyKHsgZXZlbnQ6IGV2ZW50LCBpbmRleDogaW5kZXgsIHJvd0RhdGE6IHJvd0RhdGEgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAob25Sb3dSaWdodENsaWNrKSB7XG4gICAgICBhMTF5UHJvcHMub25Db250ZXh0TWVudSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gb25Sb3dSaWdodENsaWNrKHsgZXZlbnQ6IGV2ZW50LCBpbmRleDogaW5kZXgsIHJvd0RhdGE6IHJvd0RhdGEgfSk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICdkaXYnLFxuICAgIF9leHRlbmRzKHt9LCBhMTF5UHJvcHMsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAga2V5OiBrZXksXG4gICAgICByb2xlOiAncm93JyxcbiAgICAgIHN0eWxlOiBzdHlsZSB9KSxcbiAgICBjb2x1bW5zXG4gICk7XG59XG5kZWZhdWx0Um93UmVuZGVyZXIucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiBicGZycHRfcHJvcHR5cGVfUm93UmVuZGVyZXJQYXJhbXMgPT09IFByb3BUeXBlcy5hbnkgPyB7fSA6IGJwZnJwdF9wcm9wdHlwZV9Sb3dSZW5kZXJlclBhcmFtcztcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9Sb3dSZW5kZXJlclBhcmFtcyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJzsiLCJpbXBvcnQgX09iamVjdCRnZXRQcm90b3R5cGVPZiBmcm9tICdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZGVmYXVsdEhlYWRlclJlbmRlcmVyIGZyb20gJy4vZGVmYXVsdEhlYWRlclJlbmRlcmVyJztcbmltcG9ydCBkZWZhdWx0Q2VsbFJlbmRlcmVyIGZyb20gJy4vZGVmYXVsdENlbGxSZW5kZXJlcic7XG5pbXBvcnQgZGVmYXVsdENlbGxEYXRhR2V0dGVyIGZyb20gJy4vZGVmYXVsdENlbGxEYXRhR2V0dGVyJztcbmltcG9ydCBTb3J0RGlyZWN0aW9uIGZyb20gJy4vU29ydERpcmVjdGlvbic7XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBoZWFkZXIgYW5kIGNlbGwgY29udGVudHMgb2YgYSB0YWJsZSBjb2x1bW4uXG4gKi9cblxudmFyIENvbHVtbiA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDb2x1bW4sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIENvbHVtbigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29sdW1uKTtcblxuICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ29sdW1uLl9fcHJvdG9fXyB8fCBfT2JqZWN0JGdldFByb3RvdHlwZU9mKENvbHVtbikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIENvbHVtbjtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuQ29sdW1uLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2VsbERhdGFHZXR0ZXI6IGRlZmF1bHRDZWxsRGF0YUdldHRlcixcbiAgY2VsbFJlbmRlcmVyOiBkZWZhdWx0Q2VsbFJlbmRlcmVyLFxuICBkZWZhdWx0U29ydERpcmVjdGlvbjogU29ydERpcmVjdGlvbi5BU0MsXG4gIGZsZXhHcm93OiAwLFxuICBmbGV4U2hyaW5rOiAxLFxuICBoZWFkZXJSZW5kZXJlcjogZGVmYXVsdEhlYWRlclJlbmRlcmVyLFxuICBzdHlsZToge31cbn07XG5leHBvcnQgZGVmYXVsdCBDb2x1bW47XG5Db2x1bW4ucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICAvKiogT3B0aW9uYWwgYXJpYS1sYWJlbCB2YWx1ZSB0byBzZXQgb24gdGhlIGNvbHVtbiBoZWFkZXIgKi9cbiAgJ2FyaWEtbGFiZWwnOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayByZXNwb25zaWJsZSBmb3IgcmV0dXJuaW5nIGEgY2VsbCdzIGRhdGEsIGdpdmVuIGl0cyA6ZGF0YUtleVxuICAgKiAoeyBjb2x1bW5EYXRhOiBhbnksIGRhdGFLZXk6IHN0cmluZywgcm93RGF0YTogYW55IH0pOiBhbnlcbiAgICovXG4gIGNlbGxEYXRhR2V0dGVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyBhIGNlbGwncyBjb250ZW50cy5cbiAgICogKHsgY2VsbERhdGE6IGFueSwgY29sdW1uRGF0YTogYW55LCBkYXRhS2V5OiBzdHJpbmcsIHJvd0RhdGE6IGFueSwgcm93SW5kZXg6IG51bWJlciB9KTogbm9kZVxuICAgKi9cbiAgY2VsbFJlbmRlcmVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKiogT3B0aW9uYWwgQ1NTIGNsYXNzIHRvIGFwcGx5IHRvIGNlbGwgKi9cbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKiBPcHRpb25hbCBhZGRpdGlvbmFsIGRhdGEgcGFzc2VkIHRvIHRoaXMgY29sdW1uJ3MgOmNlbGxEYXRhR2V0dGVyICovXG4gIGNvbHVtbkRhdGE6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqIFVuaXF1ZWx5IGlkZW50aWZpZXMgdGhlIHJvdy1kYXRhIGF0dHJpYnV0ZSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgY2VsbCAqL1xuICBkYXRhS2V5OiBQcm9wVHlwZXMuYW55LmlzUmVxdWlyZWQsXG5cbiAgLyoqIE9wdGlvbmFsIGRpcmVjdGlvbiB0byBiZSB1c2VkIHdoZW4gY2xpY2tlZCB0aGUgZmlyc3QgdGltZSAqL1xuICBkZWZhdWx0U29ydERpcmVjdGlvbjogUHJvcFR5cGVzLm9uZU9mKFtTb3J0RGlyZWN0aW9uLkFTQywgU29ydERpcmVjdGlvbi5ERVNDXSksXG5cbiAgLyoqIElmIHNvcnQgaXMgZW5hYmxlZCBmb3IgdGhlIHRhYmxlIGF0IGxhcmdlLCBkaXNhYmxlIGl0IGZvciB0aGlzIGNvbHVtbiAqL1xuICBkaXNhYmxlU29ydDogUHJvcFR5cGVzLmJvb2wsXG5cbiAgLyoqIEZsZXggZ3JvdyBzdHlsZTsgZGVmYXVsdHMgdG8gMCAqL1xuICBmbGV4R3JvdzogUHJvcFR5cGVzLm51bWJlcixcblxuICAvKiogRmxleCBzaHJpbmsgc3R5bGU7IGRlZmF1bHRzIHRvIDEgKi9cbiAgZmxleFNocmluazogUHJvcFR5cGVzLm51bWJlcixcblxuICAvKiogT3B0aW9uYWwgQ1NTIGNsYXNzIHRvIGFwcGx5IHRvIHRoaXMgY29sdW1uJ3MgaGVhZGVyICovXG4gIGhlYWRlckNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKipcbiAgICogT3B0aW9uYWwgY2FsbGJhY2sgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyBhIGNvbHVtbiBoZWFkZXIgY29udGVudHMuXG4gICAqICh7IGNvbHVtbkRhdGE6IG9iamVjdCwgZGF0YUtleTogc3RyaW5nLCBkaXNhYmxlU29ydDogYm9vbGVhbiwgbGFiZWw6IG5vZGUsIHNvcnRCeTogc3RyaW5nLCBzb3J0RGlyZWN0aW9uOiBzdHJpbmcgfSk6IFByb3BUeXBlcy5ub2RlXG4gICAqL1xuICBoZWFkZXJSZW5kZXJlcjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuICAvKiogT3B0aW9uYWwgaW5saW5lIHN0eWxlIHRvIGFwcGx5IHRvIHRoaXMgY29sdW1uJ3MgaGVhZGVyICovXG4gIGhlYWRlclN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKiBPcHRpb25hbCBpZCB0byBzZXQgb24gdGhlIGNvbHVtbiBoZWFkZXIgKi9cbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqIEhlYWRlciBsYWJlbCBmb3IgdGhpcyBjb2x1bW4gKi9cbiAgbGFiZWw6IFByb3BUeXBlcy5ub2RlLFxuXG4gIC8qKiBNYXhpbXVtIHdpZHRoIG9mIGNvbHVtbjsgdGhpcyBwcm9wZXJ0eSB3aWxsIG9ubHkgYmUgdXNlZCBpZiA6ZmxleEdyb3cgaXMgPiAwLiAqL1xuICBtYXhXaWR0aDogUHJvcFR5cGVzLm51bWJlcixcblxuICAvKiogTWluaW11bSB3aWR0aCBvZiBjb2x1bW4uICovXG4gIG1pbldpZHRoOiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gIC8qKiBPcHRpb25hbCBpbmxpbmUgc3R5bGUgdG8gYXBwbHkgdG8gY2VsbCAqL1xuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcblxuICAvKiogRmxleCBiYXNpcyAod2lkdGgpIGZvciB0aGlzIGNvbHVtbjsgVGhpcyB2YWx1ZSBjYW4gZ3JvdyBvciBzaHJpbmsgYmFzZWQgb24gOmZsZXhHcm93IGFuZCA6ZmxleFNocmluayBwcm9wZXJ0aWVzLiAqL1xuICB3aWR0aDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkXG59IDoge307IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfT2JqZWN0JGdldFByb3RvdHlwZU9mIGZyb20gJ2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZic7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuXG5cbmltcG9ydCBjbiBmcm9tICdjbGFzc25hbWVzJztcblxuaW1wb3J0IENvbHVtbiBmcm9tICcuL0NvbHVtbic7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZmluZERPTU5vZGUgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IEdyaWQsIHsgYWNjZXNzaWJpbGl0eU92ZXJzY2FuSW5kaWNlc0dldHRlciB9IGZyb20gJy4uL0dyaWQnO1xuXG5pbXBvcnQgZGVmYXVsdFJvd1JlbmRlcmVyIGZyb20gJy4vZGVmYXVsdFJvd1JlbmRlcmVyJztcbmltcG9ydCBkZWZhdWx0SGVhZGVyUm93UmVuZGVyZXIgZnJvbSAnLi9kZWZhdWx0SGVhZGVyUm93UmVuZGVyZXInO1xuaW1wb3J0IFNvcnREaXJlY3Rpb24gZnJvbSAnLi9Tb3J0RGlyZWN0aW9uJztcblxuLyoqXG4gKiBUYWJsZSBjb21wb25lbnQgd2l0aCBmaXhlZCBoZWFkZXJzIGFuZCB2aXJ0dWFsaXplZCByb3dzIGZvciBpbXByb3ZlZCBwZXJmb3JtYW5jZSB3aXRoIGxhcmdlIGRhdGEgc2V0cy5cbiAqIFRoaXMgY29tcG9uZW50IGV4cGVjdHMgZXhwbGljaXQgd2lkdGgsIGhlaWdodCwgYW5kIHBhZGRpbmcgcGFyYW1ldGVycy5cbiAqL1xuXG52YXIgVGFibGUgPSBmdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFRhYmxlLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gVGFibGUocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFibGUpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRhYmxlLl9fcHJvdG9fXyB8fCBfT2JqZWN0JGdldFByb3RvdHlwZU9mKFRhYmxlKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBzY3JvbGxiYXJXaWR0aDogMFxuICAgIH07XG5cbiAgICBfdGhpcy5fY3JlYXRlQ29sdW1uID0gX3RoaXMuX2NyZWF0ZUNvbHVtbi5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5fY3JlYXRlUm93ID0gX3RoaXMuX2NyZWF0ZVJvdy5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5fb25TY3JvbGwgPSBfdGhpcy5fb25TY3JvbGwuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuX29uU2VjdGlvblJlbmRlcmVkID0gX3RoaXMuX29uU2VjdGlvblJlbmRlcmVkLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLl9zZXRSZWYgPSBfdGhpcy5fc2V0UmVmLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUYWJsZSwgW3tcbiAgICBrZXk6ICdmb3JjZVVwZGF0ZUdyaWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmb3JjZVVwZGF0ZUdyaWQoKSB7XG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHRoaXMuR3JpZC5mb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBTZWUgR3JpZCNnZXRPZmZzZXRGb3JDZWxsICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldE9mZnNldEZvclJvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE9mZnNldEZvclJvdyhfcmVmKSB7XG4gICAgICB2YXIgYWxpZ25tZW50ID0gX3JlZi5hbGlnbm1lbnQsXG4gICAgICAgICAgaW5kZXggPSBfcmVmLmluZGV4O1xuXG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHZhciBfR3JpZCRnZXRPZmZzZXRGb3JDZWwgPSB0aGlzLkdyaWQuZ2V0T2Zmc2V0Rm9yQ2VsbCh7XG4gICAgICAgICAgYWxpZ25tZW50OiBhbGlnbm1lbnQsXG4gICAgICAgICAgcm93SW5kZXg6IGluZGV4XG4gICAgICAgIH0pLFxuICAgICAgICAgICAgc2Nyb2xsVG9wID0gX0dyaWQkZ2V0T2Zmc2V0Rm9yQ2VsLnNjcm9sbFRvcDtcblxuICAgICAgICByZXR1cm4gc2Nyb2xsVG9wO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgLyoqIENlbGxNZWFzdXJlciBjb21wYXRpYmlsaXR5ICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ludmFsaWRhdGVDZWxsU2l6ZUFmdGVyUmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW52YWxpZGF0ZUNlbGxTaXplQWZ0ZXJSZW5kZXIoX3JlZjIpIHtcbiAgICAgIHZhciBjb2x1bW5JbmRleCA9IF9yZWYyLmNvbHVtbkluZGV4LFxuICAgICAgICAgIHJvd0luZGV4ID0gX3JlZjIucm93SW5kZXg7XG5cbiAgICAgIGlmICh0aGlzLkdyaWQpIHtcbiAgICAgICAgdGhpcy5HcmlkLmludmFsaWRhdGVDZWxsU2l6ZUFmdGVyUmVuZGVyKHtcbiAgICAgICAgICByb3dJbmRleDogcm93SW5kZXgsXG4gICAgICAgICAgY29sdW1uSW5kZXg6IGNvbHVtbkluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBTZWUgR3JpZCNtZWFzdXJlQWxsQ2VsbHMgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbWVhc3VyZUFsbFJvd3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtZWFzdXJlQWxsUm93cygpIHtcbiAgICAgIGlmICh0aGlzLkdyaWQpIHtcbiAgICAgICAgdGhpcy5HcmlkLm1lYXN1cmVBbGxDZWxscygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBDZWxsTWVhc3VyZXIgY29tcGF0aWJpbGl0eSAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZWNvbXB1dGVHcmlkU2l6ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlY29tcHV0ZUdyaWRTaXplKCkge1xuICAgICAgdmFyIF9yZWYzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgICAgICBfcmVmMyRjb2x1bW5JbmRleCA9IF9yZWYzLmNvbHVtbkluZGV4LFxuICAgICAgICAgIGNvbHVtbkluZGV4ID0gX3JlZjMkY29sdW1uSW5kZXggPT09IHVuZGVmaW5lZCA/IDAgOiBfcmVmMyRjb2x1bW5JbmRleCxcbiAgICAgICAgICBfcmVmMyRyb3dJbmRleCA9IF9yZWYzLnJvd0luZGV4LFxuICAgICAgICAgIHJvd0luZGV4ID0gX3JlZjMkcm93SW5kZXggPT09IHVuZGVmaW5lZCA/IDAgOiBfcmVmMyRyb3dJbmRleDtcblxuICAgICAgaWYgKHRoaXMuR3JpZCkge1xuICAgICAgICB0aGlzLkdyaWQucmVjb21wdXRlR3JpZFNpemUoe1xuICAgICAgICAgIHJvd0luZGV4OiByb3dJbmRleCxcbiAgICAgICAgICBjb2x1bW5JbmRleDogY29sdW1uSW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqIFNlZSBHcmlkI3JlY29tcHV0ZUdyaWRTaXplICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlY29tcHV0ZVJvd0hlaWdodHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWNvbXB1dGVSb3dIZWlnaHRzKCkge1xuICAgICAgdmFyIGluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwO1xuXG4gICAgICBpZiAodGhpcy5HcmlkKSB7XG4gICAgICAgIHRoaXMuR3JpZC5yZWNvbXB1dGVHcmlkU2l6ZSh7XG4gICAgICAgICAgcm93SW5kZXg6IGluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBTZWUgR3JpZCNzY3JvbGxUb1Bvc2l0aW9uICovXG5cbiAgfSwge1xuICAgIGtleTogJ3Njcm9sbFRvUG9zaXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxUb1Bvc2l0aW9uKCkge1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcblxuICAgICAgaWYgKHRoaXMuR3JpZCkge1xuICAgICAgICB0aGlzLkdyaWQuc2Nyb2xsVG9Qb3NpdGlvbih7IHNjcm9sbFRvcDogc2Nyb2xsVG9wIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBTZWUgR3JpZCNzY3JvbGxUb0NlbGwgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2Nyb2xsVG9Sb3cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxUb1JvdygpIHtcbiAgICAgIHZhciBpbmRleCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMDtcblxuICAgICAgaWYgKHRoaXMuR3JpZCkge1xuICAgICAgICB0aGlzLkdyaWQuc2Nyb2xsVG9DZWxsKHtcbiAgICAgICAgICBjb2x1bW5JbmRleDogMCxcbiAgICAgICAgICByb3dJbmRleDogaW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHRoaXMuX3NldFNjcm9sbGJhcldpZHRoKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgdGhpcy5fc2V0U2Nyb2xsYmFyV2lkdGgoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICBkaXNhYmxlSGVhZGVyID0gX3Byb3BzLmRpc2FibGVIZWFkZXIsXG4gICAgICAgICAgZ3JpZENsYXNzTmFtZSA9IF9wcm9wcy5ncmlkQ2xhc3NOYW1lLFxuICAgICAgICAgIGdyaWRTdHlsZSA9IF9wcm9wcy5ncmlkU3R5bGUsXG4gICAgICAgICAgaGVhZGVySGVpZ2h0ID0gX3Byb3BzLmhlYWRlckhlaWdodCxcbiAgICAgICAgICBoZWFkZXJSb3dSZW5kZXJlciA9IF9wcm9wcy5oZWFkZXJSb3dSZW5kZXJlcixcbiAgICAgICAgICBoZWlnaHQgPSBfcHJvcHMuaGVpZ2h0LFxuICAgICAgICAgIGlkID0gX3Byb3BzLmlkLFxuICAgICAgICAgIG5vUm93c1JlbmRlcmVyID0gX3Byb3BzLm5vUm93c1JlbmRlcmVyLFxuICAgICAgICAgIHJvd0NsYXNzTmFtZSA9IF9wcm9wcy5yb3dDbGFzc05hbWUsXG4gICAgICAgICAgcm93U3R5bGUgPSBfcHJvcHMucm93U3R5bGUsXG4gICAgICAgICAgc2Nyb2xsVG9JbmRleCA9IF9wcm9wcy5zY3JvbGxUb0luZGV4LFxuICAgICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICAgIHdpZHRoID0gX3Byb3BzLndpZHRoO1xuICAgICAgdmFyIHNjcm9sbGJhcldpZHRoID0gdGhpcy5zdGF0ZS5zY3JvbGxiYXJXaWR0aDtcblxuXG4gICAgICB2YXIgYXZhaWxhYmxlUm93c0hlaWdodCA9IGRpc2FibGVIZWFkZXIgPyBoZWlnaHQgOiBoZWlnaHQgLSBoZWFkZXJIZWlnaHQ7XG5cbiAgICAgIHZhciByb3dDbGFzcyA9IHR5cGVvZiByb3dDbGFzc05hbWUgPT09ICdmdW5jdGlvbicgPyByb3dDbGFzc05hbWUoeyBpbmRleDogLTEgfSkgOiByb3dDbGFzc05hbWU7XG4gICAgICB2YXIgcm93U3R5bGVPYmplY3QgPSB0eXBlb2Ygcm93U3R5bGUgPT09ICdmdW5jdGlvbicgPyByb3dTdHlsZSh7IGluZGV4OiAtMSB9KSA6IHJvd1N0eWxlO1xuXG4gICAgICAvLyBQcmVjb21wdXRlIGFuZCBjYWNoZSBjb2x1bW4gc3R5bGVzIGJlZm9yZSByZW5kZXJpbmcgcm93cyBhbmQgY29sdW1ucyB0byBzcGVlZCB0aGluZ3MgdXBcbiAgICAgIHRoaXMuX2NhY2hlZENvbHVtblN0eWxlcyA9IFtdO1xuICAgICAgUmVhY3QuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uLCBpbmRleCkge1xuICAgICAgICB2YXIgZmxleFN0eWxlcyA9IF90aGlzMi5fZ2V0RmxleFN0eWxlRm9yQ29sdW1uKGNvbHVtbiwgY29sdW1uLnByb3BzLnN0eWxlKTtcblxuICAgICAgICBfdGhpczIuX2NhY2hlZENvbHVtblN0eWxlc1tpbmRleF0gPSBfZXh0ZW5kcyh7fSwgZmxleFN0eWxlcywge1xuICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBOb3RlIHRoYXQgd2Ugc3BlY2lmeSA6cm93Q291bnQsIDpzY3JvbGxiYXJXaWR0aCwgOnNvcnRCeSwgYW5kIDpzb3J0RGlyZWN0aW9uIGFzIHByb3BlcnRpZXMgb24gR3JpZCBldmVuIHRob3VnaCB0aGVzZSBoYXZlIG5vdGhpbmcgdG8gZG8gd2l0aCBHcmlkLlxuICAgICAgLy8gVGhpcyBpcyBkb25lIGJlY2F1c2UgR3JpZCBpcyBhIHB1cmUgY29tcG9uZW50IGFuZCB3b24ndCB1cGRhdGUgdW5sZXNzIGl0cyBwcm9wZXJ0aWVzIG9yIHN0YXRlIGhhcyBjaGFuZ2VkLlxuICAgICAgLy8gQW55IHByb3BlcnR5IHRoYXQgc2hvdWxkIHRyaWdnZXIgYSByZS1yZW5kZXIgb2YgR3JpZCB0aGVuIGlzIHNwZWNpZmllZCBoZXJlIHRvIGF2b2lkIGEgc3RhbGUgZGlzcGxheS5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAge1xuICAgICAgICAgICdhcmlhLWxhYmVsJzogdGhpcy5wcm9wc1snYXJpYS1sYWJlbCddLFxuICAgICAgICAgICdhcmlhLWxhYmVsbGVkYnknOiB0aGlzLnByb3BzWydhcmlhLWxhYmVsbGVkYnknXSxcbiAgICAgICAgICAnYXJpYS1jb2xjb3VudCc6IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pLmxlbmd0aCxcbiAgICAgICAgICAnYXJpYS1yb3djb3VudCc6IHRoaXMucHJvcHMucm93Q291bnQsXG4gICAgICAgICAgY2xhc3NOYW1lOiBjbignUmVhY3RWaXJ0dWFsaXplZF9fVGFibGUnLCBjbGFzc05hbWUpLFxuICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICByb2xlOiAnZ3JpZCcsXG4gICAgICAgICAgc3R5bGU6IHN0eWxlIH0sXG4gICAgICAgICFkaXNhYmxlSGVhZGVyICYmIGhlYWRlclJvd1JlbmRlcmVyKHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNuKCdSZWFjdFZpcnR1YWxpemVkX19UYWJsZV9faGVhZGVyUm93Jywgcm93Q2xhc3MpLFxuICAgICAgICAgIGNvbHVtbnM6IHRoaXMuX2dldEhlYWRlckNvbHVtbnMoKSxcbiAgICAgICAgICBzdHlsZTogX2V4dGVuZHMoe1xuICAgICAgICAgICAgaGVpZ2h0OiBoZWFkZXJIZWlnaHQsXG4gICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IHNjcm9sbGJhcldpZHRoLFxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgICAgfSwgcm93U3R5bGVPYmplY3QpXG4gICAgICAgIH0pLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7XG4gICAgICAgICAgYXV0b0NvbnRhaW5lcldpZHRoOiB0cnVlLFxuICAgICAgICAgIGNsYXNzTmFtZTogY24oJ1JlYWN0VmlydHVhbGl6ZWRfX1RhYmxlX19HcmlkJywgZ3JpZENsYXNzTmFtZSksXG4gICAgICAgICAgY2VsbFJlbmRlcmVyOiB0aGlzLl9jcmVhdGVSb3csXG4gICAgICAgICAgY29sdW1uV2lkdGg6IHdpZHRoLFxuICAgICAgICAgIGNvbHVtbkNvdW50OiAxLFxuICAgICAgICAgIGhlaWdodDogYXZhaWxhYmxlUm93c0hlaWdodCxcbiAgICAgICAgICBpZDogdW5kZWZpbmVkLFxuICAgICAgICAgIG5vQ29udGVudFJlbmRlcmVyOiBub1Jvd3NSZW5kZXJlcixcbiAgICAgICAgICBvblNjcm9sbDogdGhpcy5fb25TY3JvbGwsXG4gICAgICAgICAgb25TZWN0aW9uUmVuZGVyZWQ6IHRoaXMuX29uU2VjdGlvblJlbmRlcmVkLFxuICAgICAgICAgIHJlZjogdGhpcy5fc2V0UmVmLFxuICAgICAgICAgIHJvbGU6ICdyb3dncm91cCcsXG4gICAgICAgICAgc2Nyb2xsYmFyV2lkdGg6IHNjcm9sbGJhcldpZHRoLFxuICAgICAgICAgIHNjcm9sbFRvUm93OiBzY3JvbGxUb0luZGV4LFxuICAgICAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgZ3JpZFN0eWxlLCB7XG4gICAgICAgICAgICBvdmVyZmxvd1g6ICdoaWRkZW4nXG4gICAgICAgICAgfSlcbiAgICAgICAgfSkpXG4gICAgICApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19jcmVhdGVDb2x1bW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlQ29sdW1uKF9yZWY0KSB7XG4gICAgICB2YXIgY29sdW1uID0gX3JlZjQuY29sdW1uLFxuICAgICAgICAgIGNvbHVtbkluZGV4ID0gX3JlZjQuY29sdW1uSW5kZXgsXG4gICAgICAgICAgaXNTY3JvbGxpbmcgPSBfcmVmNC5pc1Njcm9sbGluZyxcbiAgICAgICAgICBwYXJlbnQgPSBfcmVmNC5wYXJlbnQsXG4gICAgICAgICAgcm93RGF0YSA9IF9yZWY0LnJvd0RhdGEsXG4gICAgICAgICAgcm93SW5kZXggPSBfcmVmNC5yb3dJbmRleDtcbiAgICAgIHZhciBvbkNvbHVtbkNsaWNrID0gdGhpcy5wcm9wcy5vbkNvbHVtbkNsaWNrO1xuICAgICAgdmFyIF9jb2x1bW4kcHJvcHMgPSBjb2x1bW4ucHJvcHMsXG4gICAgICAgICAgY2VsbERhdGFHZXR0ZXIgPSBfY29sdW1uJHByb3BzLmNlbGxEYXRhR2V0dGVyLFxuICAgICAgICAgIGNlbGxSZW5kZXJlciA9IF9jb2x1bW4kcHJvcHMuY2VsbFJlbmRlcmVyLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF9jb2x1bW4kcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIGNvbHVtbkRhdGEgPSBfY29sdW1uJHByb3BzLmNvbHVtbkRhdGEsXG4gICAgICAgICAgZGF0YUtleSA9IF9jb2x1bW4kcHJvcHMuZGF0YUtleSxcbiAgICAgICAgICBpZCA9IF9jb2x1bW4kcHJvcHMuaWQ7XG5cblxuICAgICAgdmFyIGNlbGxEYXRhID0gY2VsbERhdGFHZXR0ZXIoeyBjb2x1bW5EYXRhOiBjb2x1bW5EYXRhLCBkYXRhS2V5OiBkYXRhS2V5LCByb3dEYXRhOiByb3dEYXRhIH0pO1xuICAgICAgdmFyIHJlbmRlcmVkQ2VsbCA9IGNlbGxSZW5kZXJlcih7XG4gICAgICAgIGNlbGxEYXRhOiBjZWxsRGF0YSxcbiAgICAgICAgY29sdW1uRGF0YTogY29sdW1uRGF0YSxcbiAgICAgICAgY29sdW1uSW5kZXg6IGNvbHVtbkluZGV4LFxuICAgICAgICBkYXRhS2V5OiBkYXRhS2V5LFxuICAgICAgICBpc1Njcm9sbGluZzogaXNTY3JvbGxpbmcsXG4gICAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgICByb3dEYXRhOiByb3dEYXRhLFxuICAgICAgICByb3dJbmRleDogcm93SW5kZXhcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgb25Db2x1bW5DbGljayAmJiBvbkNvbHVtbkNsaWNrKHsgY29sdW1uRGF0YTogY29sdW1uRGF0YSwgZGF0YUtleTogZGF0YUtleSwgZXZlbnQ6IGV2ZW50IH0pO1xuICAgICAgfTtcblxuICAgICAgdmFyIHN0eWxlID0gdGhpcy5fY2FjaGVkQ29sdW1uU3R5bGVzW2NvbHVtbkluZGV4XTtcblxuICAgICAgdmFyIHRpdGxlID0gdHlwZW9mIHJlbmRlcmVkQ2VsbCA9PT0gJ3N0cmluZycgPyByZW5kZXJlZENlbGwgOiBudWxsO1xuXG4gICAgICAvLyBBdm9pZCB1c2luZyBvYmplY3Qtc3ByZWFkIHN5bnRheCB3aXRoIG11bHRpcGxlIG9iamVjdHMgaGVyZSxcbiAgICAgIC8vIFNpbmNlIGl0IHJlc3VsdHMgaW4gYW4gZXh0cmEgbWV0aG9kIGNhbGwgdG8gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJ1xuICAgICAgLy8gU2VlIFBSIGh0dHBzOi8vZ2l0aHViLmNvbS9idmF1Z2huL3JlYWN0LXZpcnR1YWxpemVkL3B1bGwvOTQyXG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHtcbiAgICAgICAgICAnYXJpYS1jb2xpbmRleCc6IGNvbHVtbkluZGV4ICsgMSxcbiAgICAgICAgICAnYXJpYS1kZXNjcmliZWRieSc6IGlkLFxuICAgICAgICAgIGNsYXNzTmFtZTogY24oJ1JlYWN0VmlydHVhbGl6ZWRfX1RhYmxlX19yb3dDb2x1bW4nLCBjbGFzc05hbWUpLFxuICAgICAgICAgIGtleTogJ1JvdycgKyByb3dJbmRleCArICctJyArICdDb2wnICsgY29sdW1uSW5kZXgsXG4gICAgICAgICAgb25DbGljazogb25DbGljayxcbiAgICAgICAgICByb2xlOiAnZ3JpZGNlbGwnLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICB0aXRsZTogdGl0bGUgfSxcbiAgICAgICAgcmVuZGVyZWRDZWxsXG4gICAgICApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19jcmVhdGVIZWFkZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfY3JlYXRlSGVhZGVyKF9yZWY1KSB7XG4gICAgICB2YXIgY29sdW1uID0gX3JlZjUuY29sdW1uLFxuICAgICAgICAgIGluZGV4ID0gX3JlZjUuaW5kZXg7XG4gICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgaGVhZGVyQ2xhc3NOYW1lID0gX3Byb3BzMi5oZWFkZXJDbGFzc05hbWUsXG4gICAgICAgICAgaGVhZGVyU3R5bGUgPSBfcHJvcHMyLmhlYWRlclN0eWxlLFxuICAgICAgICAgIG9uSGVhZGVyQ2xpY2sgPSBfcHJvcHMyLm9uSGVhZGVyQ2xpY2ssXG4gICAgICAgICAgc29ydCA9IF9wcm9wczIuc29ydCxcbiAgICAgICAgICBzb3J0QnkgPSBfcHJvcHMyLnNvcnRCeSxcbiAgICAgICAgICBzb3J0RGlyZWN0aW9uID0gX3Byb3BzMi5zb3J0RGlyZWN0aW9uO1xuICAgICAgdmFyIF9jb2x1bW4kcHJvcHMyID0gY29sdW1uLnByb3BzLFxuICAgICAgICAgIGNvbHVtbkRhdGEgPSBfY29sdW1uJHByb3BzMi5jb2x1bW5EYXRhLFxuICAgICAgICAgIGRhdGFLZXkgPSBfY29sdW1uJHByb3BzMi5kYXRhS2V5LFxuICAgICAgICAgIGRlZmF1bHRTb3J0RGlyZWN0aW9uID0gX2NvbHVtbiRwcm9wczIuZGVmYXVsdFNvcnREaXJlY3Rpb24sXG4gICAgICAgICAgZGlzYWJsZVNvcnQgPSBfY29sdW1uJHByb3BzMi5kaXNhYmxlU29ydCxcbiAgICAgICAgICBoZWFkZXJSZW5kZXJlciA9IF9jb2x1bW4kcHJvcHMyLmhlYWRlclJlbmRlcmVyLFxuICAgICAgICAgIGlkID0gX2NvbHVtbiRwcm9wczIuaWQsXG4gICAgICAgICAgbGFiZWwgPSBfY29sdW1uJHByb3BzMi5sYWJlbDtcblxuICAgICAgdmFyIHNvcnRFbmFibGVkID0gIWRpc2FibGVTb3J0ICYmIHNvcnQ7XG5cbiAgICAgIHZhciBjbGFzc05hbWVzID0gY24oJ1JlYWN0VmlydHVhbGl6ZWRfX1RhYmxlX19oZWFkZXJDb2x1bW4nLCBoZWFkZXJDbGFzc05hbWUsIGNvbHVtbi5wcm9wcy5oZWFkZXJDbGFzc05hbWUsIHtcbiAgICAgICAgUmVhY3RWaXJ0dWFsaXplZF9fVGFibGVfX3NvcnRhYmxlSGVhZGVyQ29sdW1uOiBzb3J0RW5hYmxlZFxuICAgICAgfSk7XG4gICAgICB2YXIgc3R5bGUgPSB0aGlzLl9nZXRGbGV4U3R5bGVGb3JDb2x1bW4oY29sdW1uLCBfZXh0ZW5kcyh7fSwgaGVhZGVyU3R5bGUsIGNvbHVtbi5wcm9wcy5oZWFkZXJTdHlsZSkpO1xuXG4gICAgICB2YXIgcmVuZGVyZWRIZWFkZXIgPSBoZWFkZXJSZW5kZXJlcih7XG4gICAgICAgIGNvbHVtbkRhdGE6IGNvbHVtbkRhdGEsXG4gICAgICAgIGRhdGFLZXk6IGRhdGFLZXksXG4gICAgICAgIGRpc2FibGVTb3J0OiBkaXNhYmxlU29ydCxcbiAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICBzb3J0Qnk6IHNvcnRCeSxcbiAgICAgICAgc29ydERpcmVjdGlvbjogc29ydERpcmVjdGlvblxuICAgICAgfSk7XG5cbiAgICAgIHZhciBoZWFkZXJPbkNsaWNrID0gdm9pZCAwLFxuICAgICAgICAgIGhlYWRlck9uS2V5RG93biA9IHZvaWQgMCxcbiAgICAgICAgICBoZWFkZXJUYWJJbmRleCA9IHZvaWQgMCxcbiAgICAgICAgICBoZWFkZXJBcmlhU29ydCA9IHZvaWQgMCxcbiAgICAgICAgICBoZWFkZXJBcmlhTGFiZWwgPSB2b2lkIDA7XG5cbiAgICAgIGlmIChzb3J0RW5hYmxlZCB8fCBvbkhlYWRlckNsaWNrKSB7XG4gICAgICAgIC8vIElmIHRoaXMgaXMgYSBzb3J0YWJsZSBoZWFkZXIsIGNsaWNraW5nIGl0IHNob3VsZCB1cGRhdGUgdGhlIHRhYmxlIGRhdGEncyBzb3J0aW5nLlxuICAgICAgICB2YXIgaXNGaXJzdFRpbWVTb3J0ID0gc29ydEJ5ICE9PSBkYXRhS2V5O1xuXG4gICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0VGltZSBzb3J0IG9mIHRoaXMgY29sdW1uLCB1c2UgdGhlIGNvbHVtbiBkZWZhdWx0IHNvcnQgb3JkZXIuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgaW52ZXJ0IHRoZSBkaXJlY3Rpb24gb2YgdGhlIHNvcnQuXG4gICAgICAgIHZhciBuZXdTb3J0RGlyZWN0aW9uID0gaXNGaXJzdFRpbWVTb3J0ID8gZGVmYXVsdFNvcnREaXJlY3Rpb24gOiBzb3J0RGlyZWN0aW9uID09PSBTb3J0RGlyZWN0aW9uLkRFU0MgPyBTb3J0RGlyZWN0aW9uLkFTQyA6IFNvcnREaXJlY3Rpb24uREVTQztcblxuICAgICAgICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgICBzb3J0RW5hYmxlZCAmJiBzb3J0KHtcbiAgICAgICAgICAgIGRlZmF1bHRTb3J0RGlyZWN0aW9uOiBkZWZhdWx0U29ydERpcmVjdGlvbixcbiAgICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICAgIHNvcnRCeTogZGF0YUtleSxcbiAgICAgICAgICAgIHNvcnREaXJlY3Rpb246IG5ld1NvcnREaXJlY3Rpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvbkhlYWRlckNsaWNrICYmIG9uSGVhZGVyQ2xpY2soeyBjb2x1bW5EYXRhOiBjb2x1bW5EYXRhLCBkYXRhS2V5OiBkYXRhS2V5LCBldmVudDogZXZlbnQgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIG9uS2V5RG93biA9IGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuICAgICAgICAgIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicgfHwgZXZlbnQua2V5ID09PSAnICcpIHtcbiAgICAgICAgICAgIG9uQ2xpY2soZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBoZWFkZXJBcmlhTGFiZWwgPSBjb2x1bW4ucHJvcHNbJ2FyaWEtbGFiZWwnXSB8fCBsYWJlbCB8fCBkYXRhS2V5O1xuICAgICAgICBoZWFkZXJBcmlhU29ydCA9ICdub25lJztcbiAgICAgICAgaGVhZGVyVGFiSW5kZXggPSAwO1xuICAgICAgICBoZWFkZXJPbkNsaWNrID0gb25DbGljaztcbiAgICAgICAgaGVhZGVyT25LZXlEb3duID0gb25LZXlEb3duO1xuICAgICAgfVxuXG4gICAgICBpZiAoc29ydEJ5ID09PSBkYXRhS2V5KSB7XG4gICAgICAgIGhlYWRlckFyaWFTb3J0ID0gc29ydERpcmVjdGlvbiA9PT0gU29ydERpcmVjdGlvbi5BU0MgPyAnYXNjZW5kaW5nJyA6ICdkZXNjZW5kaW5nJztcbiAgICAgIH1cblxuICAgICAgLy8gQXZvaWQgdXNpbmcgb2JqZWN0LXNwcmVhZCBzeW50YXggd2l0aCBtdWx0aXBsZSBvYmplY3RzIGhlcmUsXG4gICAgICAvLyBTaW5jZSBpdCByZXN1bHRzIGluIGFuIGV4dHJhIG1ldGhvZCBjYWxsIHRvICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcydcbiAgICAgIC8vIFNlZSBQUiBodHRwczovL2dpdGh1Yi5jb20vYnZhdWdobi9yZWFjdC12aXJ0dWFsaXplZC9wdWxsLzk0MlxuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7XG4gICAgICAgICAgJ2FyaWEtbGFiZWwnOiBoZWFkZXJBcmlhTGFiZWwsXG4gICAgICAgICAgJ2FyaWEtc29ydCc6IGhlYWRlckFyaWFTb3J0LFxuICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyxcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAga2V5OiAnSGVhZGVyLUNvbCcgKyBpbmRleCxcbiAgICAgICAgICBvbkNsaWNrOiBoZWFkZXJPbkNsaWNrLFxuICAgICAgICAgIG9uS2V5RG93bjogaGVhZGVyT25LZXlEb3duLFxuICAgICAgICAgIHJvbGU6ICdjb2x1bW5oZWFkZXInLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICB0YWJJbmRleDogaGVhZGVyVGFiSW5kZXggfSxcbiAgICAgICAgcmVuZGVyZWRIZWFkZXJcbiAgICAgICk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2NyZWF0ZVJvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVSb3coX3JlZjYpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgaW5kZXggPSBfcmVmNi5yb3dJbmRleCxcbiAgICAgICAgICBpc1Njcm9sbGluZyA9IF9yZWY2LmlzU2Nyb2xsaW5nLFxuICAgICAgICAgIGtleSA9IF9yZWY2LmtleSxcbiAgICAgICAgICBwYXJlbnQgPSBfcmVmNi5wYXJlbnQsXG4gICAgICAgICAgc3R5bGUgPSBfcmVmNi5zdHlsZTtcbiAgICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wczMuY2hpbGRyZW4sXG4gICAgICAgICAgb25Sb3dDbGljayA9IF9wcm9wczMub25Sb3dDbGljayxcbiAgICAgICAgICBvblJvd0RvdWJsZUNsaWNrID0gX3Byb3BzMy5vblJvd0RvdWJsZUNsaWNrLFxuICAgICAgICAgIG9uUm93UmlnaHRDbGljayA9IF9wcm9wczMub25Sb3dSaWdodENsaWNrLFxuICAgICAgICAgIG9uUm93TW91c2VPdmVyID0gX3Byb3BzMy5vblJvd01vdXNlT3ZlcixcbiAgICAgICAgICBvblJvd01vdXNlT3V0ID0gX3Byb3BzMy5vblJvd01vdXNlT3V0LFxuICAgICAgICAgIHJvd0NsYXNzTmFtZSA9IF9wcm9wczMucm93Q2xhc3NOYW1lLFxuICAgICAgICAgIHJvd0dldHRlciA9IF9wcm9wczMucm93R2V0dGVyLFxuICAgICAgICAgIHJvd1JlbmRlcmVyID0gX3Byb3BzMy5yb3dSZW5kZXJlcixcbiAgICAgICAgICByb3dTdHlsZSA9IF9wcm9wczMucm93U3R5bGU7XG4gICAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSB0aGlzLnN0YXRlLnNjcm9sbGJhcldpZHRoO1xuXG5cbiAgICAgIHZhciByb3dDbGFzcyA9IHR5cGVvZiByb3dDbGFzc05hbWUgPT09ICdmdW5jdGlvbicgPyByb3dDbGFzc05hbWUoeyBpbmRleDogaW5kZXggfSkgOiByb3dDbGFzc05hbWU7XG4gICAgICB2YXIgcm93U3R5bGVPYmplY3QgPSB0eXBlb2Ygcm93U3R5bGUgPT09ICdmdW5jdGlvbicgPyByb3dTdHlsZSh7IGluZGV4OiBpbmRleCB9KSA6IHJvd1N0eWxlO1xuICAgICAgdmFyIHJvd0RhdGEgPSByb3dHZXR0ZXIoeyBpbmRleDogaW5kZXggfSk7XG5cbiAgICAgIHZhciBjb2x1bW5zID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbikubWFwKGZ1bmN0aW9uIChjb2x1bW4sIGNvbHVtbkluZGV4KSB7XG4gICAgICAgIHJldHVybiBfdGhpczMuX2NyZWF0ZUNvbHVtbih7XG4gICAgICAgICAgY29sdW1uOiBjb2x1bW4sXG4gICAgICAgICAgY29sdW1uSW5kZXg6IGNvbHVtbkluZGV4LFxuICAgICAgICAgIGlzU2Nyb2xsaW5nOiBpc1Njcm9sbGluZyxcbiAgICAgICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgICAgICByb3dEYXRhOiByb3dEYXRhLFxuICAgICAgICAgIHJvd0luZGV4OiBpbmRleCxcbiAgICAgICAgICBzY3JvbGxiYXJXaWR0aDogc2Nyb2xsYmFyV2lkdGhcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNsYXNzTmFtZSA9IGNuKCdSZWFjdFZpcnR1YWxpemVkX19UYWJsZV9fcm93Jywgcm93Q2xhc3MpO1xuICAgICAgdmFyIGZsYXR0ZW5lZFN0eWxlID0gX2V4dGVuZHMoe30sIHN0eWxlLCB7XG4gICAgICAgIGhlaWdodDogdGhpcy5fZ2V0Um93SGVpZ2h0KGluZGV4KSxcbiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICBwYWRkaW5nUmlnaHQ6IHNjcm9sbGJhcldpZHRoXG4gICAgICB9LCByb3dTdHlsZU9iamVjdCk7XG5cbiAgICAgIHJldHVybiByb3dSZW5kZXJlcih7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBjb2x1bW5zOiBjb2x1bW5zLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGlzU2Nyb2xsaW5nOiBpc1Njcm9sbGluZyxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIG9uUm93Q2xpY2s6IG9uUm93Q2xpY2ssXG4gICAgICAgIG9uUm93RG91YmxlQ2xpY2s6IG9uUm93RG91YmxlQ2xpY2ssXG4gICAgICAgIG9uUm93UmlnaHRDbGljazogb25Sb3dSaWdodENsaWNrLFxuICAgICAgICBvblJvd01vdXNlT3Zlcjogb25Sb3dNb3VzZU92ZXIsXG4gICAgICAgIG9uUm93TW91c2VPdXQ6IG9uUm93TW91c2VPdXQsXG4gICAgICAgIHJvd0RhdGE6IHJvd0RhdGEsXG4gICAgICAgIHN0eWxlOiBmbGF0dGVuZWRTdHlsZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgZmxleC1zaHJpbmssIGZsZXgtZ3JvdywgYW5kIHdpZHRoIHZhbHVlcyBmb3IgYSBjZWxsIChoZWFkZXIgb3IgY29sdW1uKS5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2dldEZsZXhTdHlsZUZvckNvbHVtbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRGbGV4U3R5bGVGb3JDb2x1bW4oY29sdW1uKSB7XG4gICAgICB2YXIgY3VzdG9tU3R5bGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICB2YXIgZmxleFZhbHVlID0gY29sdW1uLnByb3BzLmZsZXhHcm93ICsgJyAnICsgY29sdW1uLnByb3BzLmZsZXhTaHJpbmsgKyAnICcgKyBjb2x1bW4ucHJvcHMud2lkdGggKyAncHgnO1xuXG4gICAgICB2YXIgc3R5bGUgPSBfZXh0ZW5kcyh7fSwgY3VzdG9tU3R5bGUsIHtcbiAgICAgICAgZmxleDogZmxleFZhbHVlLFxuICAgICAgICBtc0ZsZXg6IGZsZXhWYWx1ZSxcbiAgICAgICAgV2Via2l0RmxleDogZmxleFZhbHVlXG4gICAgICB9KTtcblxuICAgICAgaWYgKGNvbHVtbi5wcm9wcy5tYXhXaWR0aCkge1xuICAgICAgICBzdHlsZS5tYXhXaWR0aCA9IGNvbHVtbi5wcm9wcy5tYXhXaWR0aDtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbHVtbi5wcm9wcy5taW5XaWR0aCkge1xuICAgICAgICBzdHlsZS5taW5XaWR0aCA9IGNvbHVtbi5wcm9wcy5taW5XaWR0aDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19nZXRIZWFkZXJDb2x1bW5zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2dldEhlYWRlckNvbHVtbnMoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIF9wcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzNC5jaGlsZHJlbixcbiAgICAgICAgICBkaXNhYmxlSGVhZGVyID0gX3Byb3BzNC5kaXNhYmxlSGVhZGVyO1xuXG4gICAgICB2YXIgaXRlbXMgPSBkaXNhYmxlSGVhZGVyID8gW10gOiBSZWFjdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKTtcblxuICAgICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbiAoY29sdW1uLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gX3RoaXM0Ll9jcmVhdGVIZWFkZXIoeyBjb2x1bW46IGNvbHVtbiwgaW5kZXg6IGluZGV4IH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX2dldFJvd0hlaWdodCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRSb3dIZWlnaHQocm93SW5kZXgpIHtcbiAgICAgIHZhciByb3dIZWlnaHQgPSB0aGlzLnByb3BzLnJvd0hlaWdodDtcblxuXG4gICAgICByZXR1cm4gdHlwZW9mIHJvd0hlaWdodCA9PT0gJ2Z1bmN0aW9uJyA/IHJvd0hlaWdodCh7IGluZGV4OiByb3dJbmRleCB9KSA6IHJvd0hlaWdodDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdfb25TY3JvbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25TY3JvbGwoX3JlZjcpIHtcbiAgICAgIHZhciBjbGllbnRIZWlnaHQgPSBfcmVmNy5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gX3JlZjcuc2Nyb2xsSGVpZ2h0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF9yZWY3LnNjcm9sbFRvcDtcbiAgICAgIHZhciBvblNjcm9sbCA9IHRoaXMucHJvcHMub25TY3JvbGw7XG5cblxuICAgICAgb25TY3JvbGwoeyBjbGllbnRIZWlnaHQ6IGNsaWVudEhlaWdodCwgc2Nyb2xsSGVpZ2h0OiBzY3JvbGxIZWlnaHQsIHNjcm9sbFRvcDogc2Nyb2xsVG9wIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19vblNlY3Rpb25SZW5kZXJlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vblNlY3Rpb25SZW5kZXJlZChfcmVmOCkge1xuICAgICAgdmFyIHJvd092ZXJzY2FuU3RhcnRJbmRleCA9IF9yZWY4LnJvd092ZXJzY2FuU3RhcnRJbmRleCxcbiAgICAgICAgICByb3dPdmVyc2NhblN0b3BJbmRleCA9IF9yZWY4LnJvd092ZXJzY2FuU3RvcEluZGV4LFxuICAgICAgICAgIHJvd1N0YXJ0SW5kZXggPSBfcmVmOC5yb3dTdGFydEluZGV4LFxuICAgICAgICAgIHJvd1N0b3BJbmRleCA9IF9yZWY4LnJvd1N0b3BJbmRleDtcbiAgICAgIHZhciBvblJvd3NSZW5kZXJlZCA9IHRoaXMucHJvcHMub25Sb3dzUmVuZGVyZWQ7XG5cblxuICAgICAgb25Sb3dzUmVuZGVyZWQoe1xuICAgICAgICBvdmVyc2NhblN0YXJ0SW5kZXg6IHJvd092ZXJzY2FuU3RhcnRJbmRleCxcbiAgICAgICAgb3ZlcnNjYW5TdG9wSW5kZXg6IHJvd092ZXJzY2FuU3RvcEluZGV4LFxuICAgICAgICBzdGFydEluZGV4OiByb3dTdGFydEluZGV4LFxuICAgICAgICBzdG9wSW5kZXg6IHJvd1N0b3BJbmRleFxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX3NldFJlZicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXRSZWYocmVmKSB7XG4gICAgICB0aGlzLkdyaWQgPSByZWY7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnX3NldFNjcm9sbGJhcldpZHRoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldFNjcm9sbGJhcldpZHRoKCkge1xuICAgICAgaWYgKHRoaXMuR3JpZCkge1xuICAgICAgICB2YXIgX0dyaWQgPSBmaW5kRE9NTm9kZSh0aGlzLkdyaWQpO1xuICAgICAgICB2YXIgY2xpZW50V2lkdGggPSBfR3JpZC5jbGllbnRXaWR0aCB8fCAwO1xuICAgICAgICB2YXIgb2Zmc2V0V2lkdGggPSBfR3JpZC5vZmZzZXRXaWR0aCB8fCAwO1xuICAgICAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBvZmZzZXRXaWR0aCAtIGNsaWVudFdpZHRoO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzY3JvbGxiYXJXaWR0aDogc2Nyb2xsYmFyV2lkdGggfSk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRhYmxlO1xufShSZWFjdC5QdXJlQ29tcG9uZW50KTtcblxuVGFibGUuZGVmYXVsdFByb3BzID0ge1xuICBkaXNhYmxlSGVhZGVyOiBmYWxzZSxcbiAgZXN0aW1hdGVkUm93U2l6ZTogMzAsXG4gIGhlYWRlckhlaWdodDogMCxcbiAgaGVhZGVyU3R5bGU6IHt9LFxuICBub1Jvd3NSZW5kZXJlcjogZnVuY3Rpb24gbm9Sb3dzUmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIG9uUm93c1JlbmRlcmVkOiBmdW5jdGlvbiBvblJvd3NSZW5kZXJlZCgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgb25TY3JvbGw6IGZ1bmN0aW9uIG9uU2Nyb2xsKCkge1xuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBvdmVyc2NhbkluZGljZXNHZXR0ZXI6IGFjY2Vzc2liaWxpdHlPdmVyc2NhbkluZGljZXNHZXR0ZXIsXG4gIG92ZXJzY2FuUm93Q291bnQ6IDEwLFxuICByb3dSZW5kZXJlcjogZGVmYXVsdFJvd1JlbmRlcmVyLFxuICBoZWFkZXJSb3dSZW5kZXJlcjogZGVmYXVsdEhlYWRlclJvd1JlbmRlcmVyLFxuICByb3dTdHlsZToge30sXG4gIHNjcm9sbFRvQWxpZ25tZW50OiAnYXV0bycsXG4gIHNjcm9sbFRvSW5kZXg6IC0xLFxuICBzdHlsZToge31cbn07XG5leHBvcnQgZGVmYXVsdCBUYWJsZTtcblRhYmxlLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgLyoqIFRoaXMgaXMganVzdCBzZXQgb24gdGhlIGdyaWQgdG9wIGVsZW1lbnQuICovXG4gICdhcmlhLWxhYmVsJzogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKiogVGhpcyBpcyBqdXN0IHNldCBvbiB0aGUgZ3JpZCB0b3AgZWxlbWVudC4gKi9cbiAgJ2FyaWEtbGFiZWxsZWRieSc6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgZml4ZWQgaGVpZ2h0IGZyb20gdGhlIHNjcm9sbGluZ0NvbnRhaW5lciBzbyB0aGF0IHRoZSB0b3RhbCBoZWlnaHRcbiAgICogb2Ygcm93cyBjYW4gc3RyZXRjaCB0aGUgd2luZG93LiBJbnRlbmRlZCBmb3IgdXNlIHdpdGggV2luZG93U2Nyb2xsZXJcbiAgICovXG4gIGF1dG9IZWlnaHQ6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKiBPbmUgb3IgbW9yZSBDb2x1bW5zIGRlc2NyaWJpbmcgdGhlIGRhdGEgZGlzcGxheWVkIGluIHRoaXMgcm93ICovXG4gIGNoaWxkcmVuOiBmdW5jdGlvbiBjaGlsZHJlbihwcm9wcykge1xuICAgIHZhciBjaGlsZHJlbiA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkocHJvcHMuY2hpbGRyZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjaGlsZFR5cGUgPSBjaGlsZHJlbltpXS50eXBlO1xuICAgICAgaWYgKGNoaWxkVHlwZSAhPT0gQ29sdW1uICYmICEoY2hpbGRUeXBlLnByb3RvdHlwZSBpbnN0YW5jZW9mIENvbHVtbikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignVGFibGUgb25seSBhY2NlcHRzIGNoaWxkcmVuIG9mIHR5cGUgQ29sdW1uJyk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKiBPcHRpb25hbCBDU1MgY2xhc3MgbmFtZSAqL1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqIERpc2FibGUgcmVuZGVyaW5nIHRoZSBoZWFkZXIgYXQgYWxsICovXG4gIGRpc2FibGVIZWFkZXI6IFByb3BUeXBlcy5ib29sLFxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGVzdGltYXRlIHRoZSB0b3RhbCBoZWlnaHQgb2YgYSBUYWJsZSBiZWZvcmUgYWxsIG9mIGl0cyByb3dzIGhhdmUgYWN0dWFsbHkgYmVlbiBtZWFzdXJlZC5cbiAgICogVGhlIGVzdGltYXRlZCB0b3RhbCBoZWlnaHQgaXMgYWRqdXN0ZWQgYXMgcm93cyBhcmUgcmVuZGVyZWQuXG4gICAqL1xuICBlc3RpbWF0ZWRSb3dTaXplOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgLyoqIE9wdGlvbmFsIGN1c3RvbSBDU1MgY2xhc3MgbmFtZSB0byBhdHRhY2ggdG8gaW5uZXIgR3JpZCBlbGVtZW50LiAqL1xuICBncmlkQ2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIC8qKiBPcHRpb25hbCBpbmxpbmUgc3R5bGUgdG8gYXR0YWNoIHRvIGlubmVyIEdyaWQgZWxlbWVudC4gKi9cbiAgZ3JpZFN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKiBPcHRpb25hbCBDU1MgY2xhc3MgdG8gYXBwbHkgdG8gYWxsIGNvbHVtbiBoZWFkZXJzICovXG4gIGhlYWRlckNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKiogRml4ZWQgaGVpZ2h0IG9mIGhlYWRlciByb3cgKi9cbiAgaGVhZGVySGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIFJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgYSB0YWJsZSByb3cgZ2l2ZW4gYW4gYXJyYXkgb2YgY29sdW1uczpcbiAgICogU2hvdWxkIGltcGxlbWVudCB0aGUgZm9sbG93aW5nIGludGVyZmFjZTogKHtcbiAgICogICBjbGFzc05hbWU6IHN0cmluZyxcbiAgICogICBjb2x1bW5zOiBhbnlbXSxcbiAgICogICBzdHlsZTogYW55XG4gICAqIH0pOiBQcm9wVHlwZXMubm9kZVxuICAgKi9cbiAgaGVhZGVyUm93UmVuZGVyZXI6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKiBPcHRpb25hbCBjdXN0b20gaW5saW5lIHN0eWxlIHRvIGF0dGFjaCB0byB0YWJsZSBoZWFkZXIgY29sdW1ucy4gKi9cbiAgaGVhZGVyU3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgLyoqIEZpeGVkL2F2YWlsYWJsZSBoZWlnaHQgZm9yIG91dCBET00gZWxlbWVudCAqL1xuICBoZWlnaHQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKiogT3B0aW9uYWwgaWQgKi9cbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgLyoqIE9wdGlvbmFsIHJlbmRlcmVyIHRvIGJlIHVzZWQgaW4gcGxhY2Ugb2YgdGFibGUgYm9keSByb3dzIHdoZW4gcm93Q291bnQgaXMgMCAqL1xuICBub1Jvd3NSZW5kZXJlcjogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIE9wdGlvbmFsIGNhbGxiYWNrIHdoZW4gYSBjb2x1bW4gaXMgY2xpY2tlZC5cbiAgICogKHsgY29sdW1uRGF0YTogYW55LCBkYXRhS2V5OiBzdHJpbmcgfSk6IHZvaWRcbiAgICovXG4gIG9uQ29sdW1uQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBPcHRpb25hbCBjYWxsYmFjayB3aGVuIGEgY29sdW1uJ3MgaGVhZGVyIGlzIGNsaWNrZWQuXG4gICAqICh7IGNvbHVtbkRhdGE6IGFueSwgZGF0YUtleTogc3RyaW5nIH0pOiB2b2lkXG4gICAqL1xuICBvbkhlYWRlckNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgaW52b2tlZCB3aGVuIGEgdXNlciBjbGlja3Mgb24gYSB0YWJsZSByb3cuXG4gICAqICh7IGluZGV4OiBudW1iZXIgfSk6IHZvaWRcbiAgICovXG4gIG9uUm93Q2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBpbnZva2VkIHdoZW4gYSB1c2VyIGRvdWJsZS1jbGlja3Mgb24gYSB0YWJsZSByb3cuXG4gICAqICh7IGluZGV4OiBudW1iZXIgfSk6IHZvaWRcbiAgICovXG4gIG9uUm93RG91YmxlQ2xpY2s6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBpbnZva2VkIHdoZW4gdGhlIG1vdXNlIGxlYXZlcyBhIHRhYmxlIHJvdy5cbiAgICogKHsgaW5kZXg6IG51bWJlciB9KTogdm9pZFxuICAgKi9cbiAgb25Sb3dNb3VzZU91dDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGludm9rZWQgd2hlbiBhIHVzZXIgbW92ZXMgdGhlIG1vdXNlIG92ZXIgYSB0YWJsZSByb3cuXG4gICAqICh7IGluZGV4OiBudW1iZXIgfSk6IHZvaWRcbiAgICovXG4gIG9uUm93TW91c2VPdmVyOiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKipcbiAgICogQ2FsbGJhY2sgaW52b2tlZCB3aGVuIGEgdXNlciByaWdodC1jbGlja3Mgb24gYSB0YWJsZSByb3cuXG4gICAqICh7IGluZGV4OiBudW1iZXIgfSk6IHZvaWRcbiAgICovXG4gIG9uUm93UmlnaHRDbGljazogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGludm9rZWQgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc2xpY2Ugb2Ygcm93cyB0aGF0IHdlcmUganVzdCByZW5kZXJlZC5cbiAgICogKHsgc3RhcnRJbmRleCwgc3RvcEluZGV4IH0pOiB2b2lkXG4gICAqL1xuICBvblJvd3NSZW5kZXJlZDogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGludm9rZWQgd2hlbmV2ZXIgdGhlIHNjcm9sbCBvZmZzZXQgY2hhbmdlcyB3aXRoaW4gdGhlIGlubmVyIHNjcm9sbGFibGUgcmVnaW9uLlxuICAgKiBUaGlzIGNhbGxiYWNrIGNhbiBiZSB1c2VkIHRvIHN5bmMgc2Nyb2xsaW5nIGJldHdlZW4gbGlzdHMsIHRhYmxlcywgb3IgZ3JpZHMuXG4gICAqICh7IGNsaWVudEhlaWdodCwgc2Nyb2xsSGVpZ2h0LCBzY3JvbGxUb3AgfSk6IHZvaWRcbiAgICovXG4gIG9uU2Nyb2xsOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKiBTZWUgR3JpZCNvdmVyc2NhbkluZGljZXNHZXR0ZXIgKi9cbiAgb3ZlcnNjYW5JbmRpY2VzR2V0dGVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2Ygcm93cyB0byByZW5kZXIgYWJvdmUvYmVsb3cgdGhlIHZpc2libGUgYm91bmRzIG9mIHRoZSBsaXN0LlxuICAgKiBUaGVzZSByb3dzIGNhbiBoZWxwIGZvciBzbW9vdGhlciBzY3JvbGxpbmcgb24gdG91Y2ggZGV2aWNlcy5cbiAgICovXG4gIG92ZXJzY2FuUm93Q291bnQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuICAvKipcbiAgICogT3B0aW9uYWwgQ1NTIGNsYXNzIHRvIGFwcGx5IHRvIGFsbCB0YWJsZSByb3dzIChpbmNsdWRpbmcgdGhlIGhlYWRlciByb3cpLlxuICAgKiBUaGlzIHByb3BlcnR5IGNhbiBiZSBhIENTUyBjbGFzcyBuYW1lIChzdHJpbmcpIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgY2xhc3MgbmFtZS5cbiAgICogSWYgYSBmdW5jdGlvbiBpcyBwcm92aWRlZCBpdHMgc2lnbmF0dXJlIHNob3VsZCBiZTogKHsgaW5kZXg6IG51bWJlciB9KTogc3RyaW5nXG4gICAqL1xuICByb3dDbGFzc05hbWU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jXSksXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHJlc3BvbnNpYmxlIGZvciByZXR1cm5pbmcgYSBkYXRhIHJvdyBnaXZlbiBhbiBpbmRleC5cbiAgICogKHsgaW5kZXg6IG51bWJlciB9KTogYW55XG4gICAqL1xuICByb3dHZXR0ZXI6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgLyoqXG4gICAqIEVpdGhlciBhIGZpeGVkIHJvdyBoZWlnaHQgKG51bWJlcikgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGhlaWdodCBvZiBhIHJvdyBnaXZlbiBpdHMgaW5kZXguXG4gICAqICh7IGluZGV4OiBudW1iZXIgfSk6IG51bWJlclxuICAgKi9cbiAgcm93SGVpZ2h0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuZnVuY10pLmlzUmVxdWlyZWQsXG5cbiAgLyoqIE51bWJlciBvZiByb3dzIGluIHRhYmxlLiAqL1xuICByb3dDb3VudDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXG4gIC8qKlxuICAgKiBSZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIGEgdGFibGUgcm93IGdpdmVuIGFuIGFycmF5IG9mIGNvbHVtbnM6XG4gICAqIFNob3VsZCBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBpbnRlcmZhY2U6ICh7XG4gICAqICAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gICAqICAgY29sdW1uczogQXJyYXksXG4gICAqICAgaW5kZXg6IG51bWJlcixcbiAgICogICBpc1Njcm9sbGluZzogYm9vbGVhbixcbiAgICogICBvblJvd0NsaWNrOiA/RnVuY3Rpb24sXG4gICAqICAgb25Sb3dEb3VibGVDbGljazogP0Z1bmN0aW9uLFxuICAgKiAgIG9uUm93TW91c2VPdmVyOiA/RnVuY3Rpb24sXG4gICAqICAgb25Sb3dNb3VzZU91dDogP0Z1bmN0aW9uLFxuICAgKiAgIHJvd0RhdGE6IGFueSxcbiAgICogICBzdHlsZTogYW55XG4gICAqIH0pOiBQcm9wVHlwZXMubm9kZVxuICAgKi9cbiAgcm93UmVuZGVyZXI6IFByb3BUeXBlcy5mdW5jLFxuXG4gIC8qKiBPcHRpb25hbCBjdXN0b20gaW5saW5lIHN0eWxlIHRvIGF0dGFjaCB0byB0YWJsZSByb3dzLiAqL1xuICByb3dTdHlsZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmZ1bmNdKS5pc1JlcXVpcmVkLFxuXG4gIC8qKiBTZWUgR3JpZCNzY3JvbGxUb0FsaWdubWVudCAqL1xuICBzY3JvbGxUb0FsaWdubWVudDogUHJvcFR5cGVzLm9uZU9mKFsnYXV0bycsICdlbmQnLCAnc3RhcnQnLCAnY2VudGVyJ10pLmlzUmVxdWlyZWQsXG5cbiAgLyoqIFJvdyBpbmRleCB0byBlbnN1cmUgdmlzaWJsZSAoYnkgZm9yY2VmdWxseSBzY3JvbGxpbmcgaWYgbmVjZXNzYXJ5KSAqL1xuICBzY3JvbGxUb0luZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cbiAgLyoqIFZlcnRpY2FsIG9mZnNldC4gKi9cbiAgc2Nyb2xsVG9wOiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gIC8qKlxuICAgKiBTb3J0IGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiBhIHNvcnRhYmxlIGhlYWRlciBpcyBjbGlja2VkLlxuICAgKiBTaG91bGQgaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgaW50ZXJmYWNlOiAoe1xuICAgKiAgIGRlZmF1bHRTb3J0RGlyZWN0aW9uOiAnQVNDJyB8ICdERVNDJyxcbiAgICogICBldmVudDogTW91c2VFdmVudCxcbiAgICogICBzb3J0Qnk6IHN0cmluZyxcbiAgICogICBzb3J0RGlyZWN0aW9uOiBTb3J0RGlyZWN0aW9uXG4gICAqIH0pOiB2b2lkXG4gICAqL1xuICBzb3J0OiBQcm9wVHlwZXMuZnVuYyxcblxuICAvKiogVGFibGUgZGF0YSBpcyBjdXJyZW50bHkgc29ydGVkIGJ5IHRoaXMgOmRhdGFLZXkgKGlmIGl0IGlzIHNvcnRlZCBhdCBhbGwpICovXG4gIHNvcnRCeTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAvKiogVGFibGUgZGF0YSBpcyBjdXJyZW50bHkgc29ydGVkIGluIHRoaXMgZGlyZWN0aW9uIChpZiBpdCBpcyBzb3J0ZWQgYXQgYWxsKSAqL1xuICBzb3J0RGlyZWN0aW9uOiBQcm9wVHlwZXMub25lT2YoW1NvcnREaXJlY3Rpb24uQVNDLCBTb3J0RGlyZWN0aW9uLkRFU0NdKSxcblxuICAvKiogT3B0aW9uYWwgaW5saW5lIHN0eWxlICovXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gIC8qKiBUYWIgaW5kZXggZm9yIGZvY3VzICovXG4gIHRhYkluZGV4OiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gIC8qKiBXaWR0aCBvZiBsaXN0ICovXG4gIHdpZHRoOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWRcbn0gOiB7fTtcbmltcG9ydCB7IGJwZnJwdF9wcm9wdHlwZV9DZWxsUG9zaXRpb24gfSBmcm9tICcuLi9HcmlkJzsiLCJpbXBvcnQgY3JlYXRlTXVsdGlTb3J0IGZyb20gJy4vY3JlYXRlTXVsdGlTb3J0JztcbmltcG9ydCBkZWZhdWx0Q2VsbERhdGFHZXR0ZXIgZnJvbSAnLi9kZWZhdWx0Q2VsbERhdGFHZXR0ZXInO1xuaW1wb3J0IGRlZmF1bHRDZWxsUmVuZGVyZXIgZnJvbSAnLi9kZWZhdWx0Q2VsbFJlbmRlcmVyJztcbmltcG9ydCBkZWZhdWx0SGVhZGVyUm93UmVuZGVyZXIgZnJvbSAnLi9kZWZhdWx0SGVhZGVyUm93UmVuZGVyZXIuanMnO1xuaW1wb3J0IGRlZmF1bHRIZWFkZXJSZW5kZXJlciBmcm9tICcuL2RlZmF1bHRIZWFkZXJSZW5kZXJlcic7XG5pbXBvcnQgZGVmYXVsdFJvd1JlbmRlcmVyIGZyb20gJy4vZGVmYXVsdFJvd1JlbmRlcmVyJztcbmltcG9ydCBDb2x1bW4gZnJvbSAnLi9Db2x1bW4nO1xuaW1wb3J0IFNvcnREaXJlY3Rpb24gZnJvbSAnLi9Tb3J0RGlyZWN0aW9uJztcbmltcG9ydCBTb3J0SW5kaWNhdG9yIGZyb20gJy4vU29ydEluZGljYXRvcic7XG5pbXBvcnQgVGFibGUgZnJvbSAnLi9UYWJsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IFRhYmxlO1xuZXhwb3J0IHsgY3JlYXRlTXVsdGlTb3J0LCBkZWZhdWx0Q2VsbERhdGFHZXR0ZXIsIGRlZmF1bHRDZWxsUmVuZGVyZXIsIGRlZmF1bHRIZWFkZXJSb3dSZW5kZXJlciwgZGVmYXVsdEhlYWRlclJlbmRlcmVyLCBkZWZhdWx0Um93UmVuZGVyZXIsIENvbHVtbiwgU29ydERpcmVjdGlvbiwgU29ydEluZGljYXRvciwgVGFibGUgfTsiLCJpbXBvcnQgeyByZXF1ZXN0QW5pbWF0aW9uVGltZW91dCwgY2FuY2VsQW5pbWF0aW9uVGltZW91dCB9IGZyb20gJy4uLy4uL3V0aWxzL3JlcXVlc3RBbmltYXRpb25UaW1lb3V0JztcblxuXG52YXIgbW91bnRlZEluc3RhbmNlcyA9IFtdO1xudmFyIG9yaWdpbmFsQm9keVBvaW50ZXJFdmVudHMgPSBudWxsO1xudmFyIGRpc2FibGVQb2ludGVyRXZlbnRzVGltZW91dElkID0gbnVsbDtcblxuZnVuY3Rpb24gZW5hYmxlUG9pbnRlckV2ZW50c0lmRGlzYWJsZWQoKSB7XG4gIGlmIChkaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZCkge1xuICAgIGRpc2FibGVQb2ludGVyRXZlbnRzVGltZW91dElkID0gbnVsbDtcblxuICAgIGlmIChkb2N1bWVudC5ib2R5ICYmIG9yaWdpbmFsQm9keVBvaW50ZXJFdmVudHMgIT0gbnVsbCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wb2ludGVyRXZlbnRzID0gb3JpZ2luYWxCb2R5UG9pbnRlckV2ZW50cztcbiAgICB9XG5cbiAgICBvcmlnaW5hbEJvZHlQb2ludGVyRXZlbnRzID0gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiBlbmFibGVQb2ludGVyRXZlbnRzQWZ0ZXJEZWxheUNhbGxiYWNrKCkge1xuICBlbmFibGVQb2ludGVyRXZlbnRzSWZEaXNhYmxlZCgpO1xuICBtb3VudGVkSW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLl9fcmVzZXRJc1Njcm9sbGluZygpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZW5hYmxlUG9pbnRlckV2ZW50c0FmdGVyRGVsYXkoKSB7XG4gIGlmIChkaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZCkge1xuICAgIGNhbmNlbEFuaW1hdGlvblRpbWVvdXQoZGlzYWJsZVBvaW50ZXJFdmVudHNUaW1lb3V0SWQpO1xuICB9XG5cbiAgdmFyIG1heGltdW1UaW1lb3V0ID0gMDtcbiAgbW91bnRlZEluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgIG1heGltdW1UaW1lb3V0ID0gTWF0aC5tYXgobWF4aW11bVRpbWVvdXQsIGluc3RhbmNlLnByb3BzLnNjcm9sbGluZ1Jlc2V0VGltZUludGVydmFsKTtcbiAgfSk7XG5cbiAgZGlzYWJsZVBvaW50ZXJFdmVudHNUaW1lb3V0SWQgPSByZXF1ZXN0QW5pbWF0aW9uVGltZW91dChlbmFibGVQb2ludGVyRXZlbnRzQWZ0ZXJEZWxheUNhbGxiYWNrLCBtYXhpbXVtVGltZW91dCk7XG59XG5cbmZ1bmN0aW9uIG9uU2Nyb2xsV2luZG93KGV2ZW50KSB7XG4gIGlmIChldmVudC5jdXJyZW50VGFyZ2V0ID09PSB3aW5kb3cgJiYgb3JpZ2luYWxCb2R5UG9pbnRlckV2ZW50cyA9PSBudWxsICYmIGRvY3VtZW50LmJvZHkpIHtcbiAgICBvcmlnaW5hbEJvZHlQb2ludGVyRXZlbnRzID0gZG9jdW1lbnQuYm9keS5zdHlsZS5wb2ludGVyRXZlbnRzO1xuXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICB9XG4gIGVuYWJsZVBvaW50ZXJFdmVudHNBZnRlckRlbGF5KCk7XG4gIG1vdW50ZWRJbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICBpZiAoaW5zdGFuY2UucHJvcHMuc2Nyb2xsRWxlbWVudCA9PT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xuICAgICAgaW5zdGFuY2UuX19oYW5kbGVXaW5kb3dTY3JvbGxFdmVudCgpO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclNjcm9sbExpc3RlbmVyKGNvbXBvbmVudCwgZWxlbWVudCkge1xuICBpZiAoIW1vdW50ZWRJbnN0YW5jZXMuc29tZShmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UucHJvcHMuc2Nyb2xsRWxlbWVudCA9PT0gZWxlbWVudDtcbiAgfSkpIHtcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIG9uU2Nyb2xsV2luZG93KTtcbiAgfVxuICBtb3VudGVkSW5zdGFuY2VzLnB1c2goY29tcG9uZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucmVnaXN0ZXJTY3JvbGxMaXN0ZW5lcihjb21wb25lbnQsIGVsZW1lbnQpIHtcbiAgbW91bnRlZEluc3RhbmNlcyA9IG1vdW50ZWRJbnN0YW5jZXMuZmlsdGVyKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgIHJldHVybiBpbnN0YW5jZSAhPT0gY29tcG9uZW50O1xuICB9KTtcbiAgaWYgKCFtb3VudGVkSW5zdGFuY2VzLmxlbmd0aCkge1xuICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgb25TY3JvbGxXaW5kb3cpO1xuICAgIGlmIChkaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZCkge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uVGltZW91dChkaXNhYmxlUG9pbnRlckV2ZW50c1RpbWVvdXRJZCk7XG4gICAgICBlbmFibGVQb2ludGVyRXZlbnRzSWZEaXNhYmxlZCgpO1xuICAgIH1cbiAgfVxufVxuaW1wb3J0IHsgYnBmcnB0X3Byb3B0eXBlX1dpbmRvd1Njcm9sbGVyIH0gZnJvbSAnLi4vV2luZG93U2Nyb2xsZXIuanMnOyIsIlxuXG4vKipcbiAqIEdldHMgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIGVsZW1lbnQsIGFjY291bnRpbmcgZm9yIEFQSSBkaWZmZXJlbmNlcyBiZXR3ZWVuXG4gKiBgd2luZG93YCBhbmQgb3RoZXIgRE9NIGVsZW1lbnRzLlxuICovXG5cbnZhciBpc1dpbmRvdyA9IGZ1bmN0aW9uIGlzV2luZG93KGVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsZW1lbnQgPT09IHdpbmRvdztcbn07XG5cbi8vIFRPRE8gTW92ZSB0aGlzIGludG8gV2luZG93U2Nyb2xsZXIgYW5kIGltcG9ydCBmcm9tIHRoZXJlXG5cblxudmFyIGdldEJvdW5kaW5nQm94ID0gZnVuY3Rpb24gZ2V0Qm91bmRpbmdCb3goZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREaW1lbnNpb25zKHNjcm9sbEVsZW1lbnQsIHByb3BzKSB7XG4gIGlmICghc2Nyb2xsRWxlbWVudCkge1xuICAgIHJldHVybiB7XG4gICAgICBoZWlnaHQ6IHByb3BzLnNlcnZlckhlaWdodCxcbiAgICAgIHdpZHRoOiBwcm9wcy5zZXJ2ZXJXaWR0aFxuICAgIH07XG4gIH0gZWxzZSBpZiAoaXNXaW5kb3coc2Nyb2xsRWxlbWVudCkpIHtcbiAgICB2YXIgX3dpbmRvdyA9IHdpbmRvdyxcbiAgICAgICAgaW5uZXJIZWlnaHQgPSBfd2luZG93LmlubmVySGVpZ2h0LFxuICAgICAgICBpbm5lcldpZHRoID0gX3dpbmRvdy5pbm5lcldpZHRoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGhlaWdodDogdHlwZW9mIGlubmVySGVpZ2h0ID09PSAnbnVtYmVyJyA/IGlubmVySGVpZ2h0IDogMCxcbiAgICAgIHdpZHRoOiB0eXBlb2YgaW5uZXJXaWR0aCA9PT0gJ251bWJlcicgPyBpbm5lcldpZHRoIDogMFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldEJvdW5kaW5nQm94KHNjcm9sbEVsZW1lbnQpO1xuICB9XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmVydGljYWwgYW5kIGhvcml6b250YWwgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gaXRzIHNjcm9sbCBjb250YWluZXIuXG4gKiBFbGVtZW50cyB0aGF0IGhhdmUgYmVlbiDigJxzY3JvbGxlZCBwYXN04oCdIHJldHVybiBuZWdhdGl2ZSB2YWx1ZXMuXG4gKiBIYW5kbGVzIGVkZ2UtY2FzZSB3aGVyZSBhIHVzZXIgaXMgbmF2aWdhdGluZyBiYWNrIChoaXN0b3J5KSBmcm9tIGFuIGFscmVhZHktc2Nyb2xsZWQgcGFnZS5cbiAqIEluIHRoaXMgY2FzZSB0aGUgYm9keeKAmXMgdG9wIG9yIGxlZnQgcG9zaXRpb24gd2lsbCBiZSBhIG5lZ2F0aXZlIG51bWJlciBhbmQgdGhpcyBlbGVtZW504oCZcyB0b3Agb3IgbGVmdCB3aWxsIGJlIGluY3JlYXNlZCAoYnkgdGhhdCBhbW91bnQpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zaXRpb25PZmZzZXQoZWxlbWVudCwgY29udGFpbmVyKSB7XG4gIGlmIChpc1dpbmRvdyhjb250YWluZXIpICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgIHZhciBjb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgIHZhciBlbGVtZW50UmVjdCA9IGdldEJvdW5kaW5nQm94KGVsZW1lbnQpO1xuICAgIHZhciBjb250YWluZXJSZWN0ID0gZ2V0Qm91bmRpbmdCb3goY29udGFpbmVyRWxlbWVudCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogZWxlbWVudFJlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3AsXG4gICAgICBsZWZ0OiBlbGVtZW50UmVjdC5sZWZ0IC0gY29udGFpbmVyUmVjdC5sZWZ0XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgc2Nyb2xsT2Zmc2V0ID0gZ2V0U2Nyb2xsT2Zmc2V0KGNvbnRhaW5lcik7XG4gICAgdmFyIF9lbGVtZW50UmVjdCA9IGdldEJvdW5kaW5nQm94KGVsZW1lbnQpO1xuICAgIHZhciBfY29udGFpbmVyUmVjdCA9IGdldEJvdW5kaW5nQm94KGNvbnRhaW5lcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvcDogX2VsZW1lbnRSZWN0LnRvcCArIHNjcm9sbE9mZnNldC50b3AgLSBfY29udGFpbmVyUmVjdC50b3AsXG4gICAgICBsZWZ0OiBfZWxlbWVudFJlY3QubGVmdCArIHNjcm9sbE9mZnNldC5sZWZ0IC0gX2NvbnRhaW5lclJlY3QubGVmdFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBHZXRzIHRoZSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY3JvbGwgYW1vdW50IG9mIHRoZSBlbGVtZW50LCBhY2NvdW50aW5nIGZvciBJRSBjb21wYXRpYmlsaXR5XG4gKiBhbmQgQVBJIGRpZmZlcmVuY2VzIGJldHdlZW4gYHdpbmRvd2AgYW5kIG90aGVyIERPTSBlbGVtZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNjcm9sbE9mZnNldChlbGVtZW50KSB7XG4gIGlmIChpc1dpbmRvdyhlbGVtZW50KSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiAnc2Nyb2xsWScgaW4gd2luZG93ID8gd2luZG93LnNjcm9sbFkgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLFxuICAgICAgbGVmdDogJ3Njcm9sbFgnIGluIHdpbmRvdyA/IHdpbmRvdy5zY3JvbGxYIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnRcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IGVsZW1lbnQuc2Nyb2xsVG9wLFxuICAgICAgbGVmdDogZWxlbWVudC5zY3JvbGxMZWZ0XG4gICAgfTtcbiAgfVxufSIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX09iamVjdCRnZXRQcm90b3R5cGVPZiBmcm9tICdiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2dldC1wcm90b3R5cGUtb2YnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyByZWdpc3RlclNjcm9sbExpc3RlbmVyLCB1bnJlZ2lzdGVyU2Nyb2xsTGlzdGVuZXIgfSBmcm9tICcuL3V0aWxzL29uU2Nyb2xsJztcbmltcG9ydCB7IGdldERpbWVuc2lvbnMsIGdldFBvc2l0aW9uT2Zmc2V0LCBnZXRTY3JvbGxPZmZzZXQgfSBmcm9tICcuL3V0aWxzL2RpbWVuc2lvbnMnO1xuaW1wb3J0IGNyZWF0ZURldGVjdEVsZW1lbnRSZXNpemUgZnJvbSAnLi4vdmVuZG9yL2RldGVjdEVsZW1lbnRSZXNpemUnO1xuXG4vKipcbiAqIFNwZWNpZmllcyB0aGUgbnVtYmVyIG9mIG1pbGlzZWNvbmRzIGR1cmluZyB3aGljaCB0byBkaXNhYmxlIHBvaW50ZXIgZXZlbnRzIHdoaWxlIGEgc2Nyb2xsIGlzIGluIHByb2dyZXNzLlxuICogVGhpcyBpbXByb3ZlcyBwZXJmb3JtYW5jZSBhbmQgbWFrZXMgc2Nyb2xsaW5nIHNtb290aGVyLlxuICovXG5leHBvcnQgdmFyIElTX1NDUk9MTElOR19USU1FT1VUID0gMTUwO1xuXG52YXIgZ2V0V2luZG93ID0gZnVuY3Rpb24gZ2V0V2luZG93KCkge1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB1bmRlZmluZWQ7XG59O1xuXG52YXIgV2luZG93U2Nyb2xsZXIgPSBmdW5jdGlvbiAoX1JlYWN0JFB1cmVDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFdpbmRvd1Njcm9sbGVyLCBfUmVhY3QkUHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gV2luZG93U2Nyb2xsZXIoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdpbmRvd1Njcm9sbGVyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9yZWYgPSBXaW5kb3dTY3JvbGxlci5fX3Byb3RvX18gfHwgX09iamVjdCRnZXRQcm90b3R5cGVPZihXaW5kb3dTY3JvbGxlcikpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLl93aW5kb3cgPSBnZXRXaW5kb3coKSwgX3RoaXMuX2lzTW91bnRlZCA9IGZhbHNlLCBfdGhpcy5fcG9zaXRpb25Gcm9tVG9wID0gMCwgX3RoaXMuX3Bvc2l0aW9uRnJvbUxlZnQgPSAwLCBfdGhpcy5zdGF0ZSA9IF9leHRlbmRzKHt9LCBnZXREaW1lbnNpb25zKF90aGlzLnByb3BzLnNjcm9sbEVsZW1lbnQsIF90aGlzLnByb3BzKSwge1xuICAgICAgaXNTY3JvbGxpbmc6IGZhbHNlLFxuICAgICAgc2Nyb2xsTGVmdDogMCxcbiAgICAgIHNjcm9sbFRvcDogMFxuICAgIH0pLCBfdGhpcy5fcmVnaXN0ZXJDaGlsZCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudCAmJiAhKGVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1dpbmRvd1Njcm9sbGVyIHJlZ2lzdGVyQ2hpbGQgZXhwZWN0cyB0byBiZSBwYXNzZWQgRWxlbWVudCBvciBudWxsJyk7XG4gICAgICB9XG4gICAgICBfdGhpcy5fY2hpbGQgPSBlbGVtZW50O1xuICAgICAgX3RoaXMudXBkYXRlUG9zaXRpb24oKTtcbiAgICB9LCBfdGhpcy5fb25DaGlsZFNjcm9sbCA9IGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgdmFyIHNjcm9sbFRvcCA9IF9yZWYyLnNjcm9sbFRvcDtcblxuICAgICAgaWYgKF90aGlzLnN0YXRlLnNjcm9sbFRvcCA9PT0gc2Nyb2xsVG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNjcm9sbEVsZW1lbnQgPSBfdGhpcy5wcm9wcy5zY3JvbGxFbGVtZW50O1xuICAgICAgaWYgKHNjcm9sbEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzY3JvbGxFbGVtZW50LnNjcm9sbFRvID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgc2Nyb2xsRWxlbWVudC5zY3JvbGxUbygwLCBzY3JvbGxUb3AgKyBfdGhpcy5fcG9zaXRpb25Gcm9tVG9wKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCA9IHNjcm9sbFRvcCArIF90aGlzLl9wb3NpdGlvbkZyb21Ub3A7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBfdGhpcy5fcmVnaXN0ZXJSZXNpemVMaXN0ZW5lciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudCA9PT0gd2luZG93KSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBfdGhpcy5fb25SZXNpemUsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLl9kZXRlY3RFbGVtZW50UmVzaXplLmFkZFJlc2l6ZUxpc3RlbmVyKGVsZW1lbnQsIF90aGlzLl9vblJlc2l6ZSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuX3VucmVnaXN0ZXJSZXNpemVMaXN0ZW5lciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBpZiAoZWxlbWVudCA9PT0gd2luZG93KSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBfdGhpcy5fb25SZXNpemUsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbWVudCkge1xuICAgICAgICBfdGhpcy5fZGV0ZWN0RWxlbWVudFJlc2l6ZS5yZW1vdmVSZXNpemVMaXN0ZW5lcihlbGVtZW50LCBfdGhpcy5fb25SZXNpemUpO1xuICAgICAgfVxuICAgIH0sIF90aGlzLl9vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLnVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgfSwgX3RoaXMuX19oYW5kbGVXaW5kb3dTY3JvbGxFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghX3RoaXMuX2lzTW91bnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBvblNjcm9sbCA9IF90aGlzLnByb3BzLm9uU2Nyb2xsO1xuXG5cbiAgICAgIHZhciBzY3JvbGxFbGVtZW50ID0gX3RoaXMucHJvcHMuc2Nyb2xsRWxlbWVudDtcbiAgICAgIGlmIChzY3JvbGxFbGVtZW50KSB7XG4gICAgICAgIHZhciBzY3JvbGxPZmZzZXQgPSBnZXRTY3JvbGxPZmZzZXQoc2Nyb2xsRWxlbWVudCk7XG4gICAgICAgIHZhciBfc2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIHNjcm9sbE9mZnNldC5sZWZ0IC0gX3RoaXMuX3Bvc2l0aW9uRnJvbUxlZnQpO1xuICAgICAgICB2YXIgX3Njcm9sbFRvcCA9IE1hdGgubWF4KDAsIHNjcm9sbE9mZnNldC50b3AgLSBfdGhpcy5fcG9zaXRpb25Gcm9tVG9wKTtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNTY3JvbGxpbmc6IHRydWUsXG4gICAgICAgICAgc2Nyb2xsTGVmdDogX3Njcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBfc2Nyb2xsVG9wXG4gICAgICAgIH0pO1xuXG4gICAgICAgIG9uU2Nyb2xsKHtcbiAgICAgICAgICBzY3JvbGxMZWZ0OiBfc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3A6IF9zY3JvbGxUb3BcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgX3RoaXMuX19yZXNldElzU2Nyb2xsaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc1Njcm9sbGluZzogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFdpbmRvd1Njcm9sbGVyLCBbe1xuICAgIGtleTogJ3VwZGF0ZVBvc2l0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgICB2YXIgc2Nyb2xsRWxlbWVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5wcm9wcy5zY3JvbGxFbGVtZW50O1xuICAgICAgdmFyIG9uUmVzaXplID0gdGhpcy5wcm9wcy5vblJlc2l6ZTtcbiAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGhlaWdodCA9IF9zdGF0ZS5oZWlnaHQsXG4gICAgICAgICAgd2lkdGggPSBfc3RhdGUud2lkdGg7XG5cblxuICAgICAgdmFyIHRoaXNOb2RlID0gdGhpcy5fY2hpbGQgfHwgUmVhY3RET00uZmluZERPTU5vZGUodGhpcyk7XG4gICAgICBpZiAodGhpc05vZGUgaW5zdGFuY2VvZiBFbGVtZW50ICYmIHNjcm9sbEVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IGdldFBvc2l0aW9uT2Zmc2V0KHRoaXNOb2RlLCBzY3JvbGxFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fcG9zaXRpb25Gcm9tVG9wID0gb2Zmc2V0LnRvcDtcbiAgICAgICAgdGhpcy5fcG9zaXRpb25Gcm9tTGVmdCA9IG9mZnNldC5sZWZ0O1xuICAgICAgfVxuXG4gICAgICB2YXIgZGltZW5zaW9ucyA9IGdldERpbWVuc2lvbnMoc2Nyb2xsRWxlbWVudCwgdGhpcy5wcm9wcyk7XG4gICAgICBpZiAoaGVpZ2h0ICE9PSBkaW1lbnNpb25zLmhlaWdodCB8fCB3aWR0aCAhPT0gZGltZW5zaW9ucy53aWR0aCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBoZWlnaHQ6IGRpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgICAgIHdpZHRoOiBkaW1lbnNpb25zLndpZHRoXG4gICAgICAgIH0pO1xuICAgICAgICBvblJlc2l6ZSh7XG4gICAgICAgICAgaGVpZ2h0OiBkaW1lbnNpb25zLmhlaWdodCxcbiAgICAgICAgICB3aWR0aDogZGltZW5zaW9ucy53aWR0aFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIHNjcm9sbEVsZW1lbnQgPSB0aGlzLnByb3BzLnNjcm9sbEVsZW1lbnQ7XG5cbiAgICAgIHRoaXMuX2RldGVjdEVsZW1lbnRSZXNpemUgPSBjcmVhdGVEZXRlY3RFbGVtZW50UmVzaXplKCk7XG5cbiAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oc2Nyb2xsRWxlbWVudCk7XG5cbiAgICAgIGlmIChzY3JvbGxFbGVtZW50KSB7XG4gICAgICAgIHJlZ2lzdGVyU2Nyb2xsTGlzdGVuZXIodGhpcywgc2Nyb2xsRWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyUmVzaXplTGlzdGVuZXIoc2Nyb2xsRWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzTW91bnRlZCA9IHRydWU7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICB2YXIgc2Nyb2xsRWxlbWVudCA9IHRoaXMucHJvcHMuc2Nyb2xsRWxlbWVudDtcbiAgICAgIHZhciBwcmV2U2Nyb2xsRWxlbWVudCA9IHByZXZQcm9wcy5zY3JvbGxFbGVtZW50O1xuXG5cbiAgICAgIGlmIChwcmV2U2Nyb2xsRWxlbWVudCAhPT0gc2Nyb2xsRWxlbWVudCAmJiBwcmV2U2Nyb2xsRWxlbWVudCAhPSBudWxsICYmIHNjcm9sbEVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKHNjcm9sbEVsZW1lbnQpO1xuXG4gICAgICAgIHVucmVnaXN0ZXJTY3JvbGxMaXN0ZW5lcih0aGlzLCBwcmV2U2Nyb2xsRWxlbWVudCk7XG4gICAgICAgIHJlZ2lzdGVyU2Nyb2xsTGlzdGVuZXIodGhpcywgc2Nyb2xsRWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy5fdW5yZWdpc3RlclJlc2l6ZUxpc3RlbmVyKHByZXZTY3JvbGxFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fcmVnaXN0ZXJSZXNpemVMaXN0ZW5lcihzY3JvbGxFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdmFyIHNjcm9sbEVsZW1lbnQgPSB0aGlzLnByb3BzLnNjcm9sbEVsZW1lbnQ7XG4gICAgICBpZiAoc2Nyb2xsRWxlbWVudCkge1xuICAgICAgICB1bnJlZ2lzdGVyU2Nyb2xsTGlzdGVuZXIodGhpcywgc2Nyb2xsRWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3VucmVnaXN0ZXJSZXNpemVMaXN0ZW5lcihzY3JvbGxFbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faXNNb3VudGVkID0gZmFsc2U7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICAgIHZhciBfc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBpc1Njcm9sbGluZyA9IF9zdGF0ZTIuaXNTY3JvbGxpbmcsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3N0YXRlMi5zY3JvbGxUb3AsXG4gICAgICAgICAgc2Nyb2xsTGVmdCA9IF9zdGF0ZTIuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBoZWlnaHQgPSBfc3RhdGUyLmhlaWdodCxcbiAgICAgICAgICB3aWR0aCA9IF9zdGF0ZTIud2lkdGg7XG5cblxuICAgICAgcmV0dXJuIGNoaWxkcmVuKHtcbiAgICAgICAgb25DaGlsZFNjcm9sbDogdGhpcy5fb25DaGlsZFNjcm9sbCxcbiAgICAgICAgcmVnaXN0ZXJDaGlsZDogdGhpcy5fcmVnaXN0ZXJDaGlsZCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIGlzU2Nyb2xsaW5nOiBpc1Njcm9sbGluZyxcbiAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVmZXJlbmNlZCBieSB1dGlscy9vblNjcm9sbFxuXG5cbiAgICAvLyBSZWZlcmVuY2VkIGJ5IHV0aWxzL29uU2Nyb2xsXG5cbiAgfV0pO1xuXG4gIHJldHVybiBXaW5kb3dTY3JvbGxlcjtcbn0oUmVhY3QuUHVyZUNvbXBvbmVudCk7XG5cbldpbmRvd1Njcm9sbGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgb25SZXNpemU6IGZ1bmN0aW9uIG9uUmVzaXplKCkge30sXG4gIG9uU2Nyb2xsOiBmdW5jdGlvbiBvblNjcm9sbCgpIHt9LFxuICBzY3JvbGxpbmdSZXNldFRpbWVJbnRlcnZhbDogSVNfU0NST0xMSU5HX1RJTUVPVVQsXG4gIHNjcm9sbEVsZW1lbnQ6IGdldFdpbmRvdygpLFxuICBzZXJ2ZXJIZWlnaHQ6IDAsXG4gIHNlcnZlcldpZHRoOiAwXG59O1xuV2luZG93U2Nyb2xsZXIucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IG51bGwgOiB7XG4gIC8qKlxuICAgKiBGdW5jdGlvbiByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIGNoaWxkcmVuLlxuICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBzaWduYXR1cmU6XG4gICAqICh7IGhlaWdodCwgaXNTY3JvbGxpbmcsIHNjcm9sbExlZnQsIHNjcm9sbFRvcCwgd2lkdGggfSkgPT4gUHJvcFR5cGVzLmVsZW1lbnRcbiAgICovXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG5cbiAgLyoqIENhbGxiYWNrIHRvIGJlIGludm9rZWQgb24tcmVzaXplOiAoeyBoZWlnaHQsIHdpZHRoIH0pICovXG4gIG9uUmVzaXplOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG5cbiAgLyoqIENhbGxiYWNrIHRvIGJlIGludm9rZWQgb24tc2Nyb2xsOiAoeyBzY3JvbGxMZWZ0LCBzY3JvbGxUb3AgfSkgKi9cbiAgb25TY3JvbGw6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cblxuICAvKiogRWxlbWVudCB0byBhdHRhY2ggc2Nyb2xsIGV2ZW50IGxpc3RlbmVycy4gRGVmYXVsdHMgdG8gd2luZG93LiAqL1xuICBzY3JvbGxFbGVtZW50OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYW55LCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0eXBlb2YgRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJyA/IFByb3BUeXBlcy5pbnN0YW5jZU9mKEVsZW1lbnQpIDogUHJvcFR5cGVzLmFueSkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfV0pLFxuXG4gIC8qKlxuICAgKiBXYWl0IHRoaXMgYW1vdW50IG9mIHRpbWUgYWZ0ZXIgdGhlIGxhc3Qgc2Nyb2xsIGV2ZW50IGJlZm9yZSByZXNldHRpbmcgY2hpbGQgYHBvaW50ZXItZXZlbnRzYC5cbiAgICovXG4gIHNjcm9sbGluZ1Jlc2V0VGltZUludGVydmFsOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG5cblxuICAvKiogSGVpZ2h0IHVzZWQgZm9yIHNlcnZlci1zaWRlIHJlbmRlcmluZyAqL1xuICBzZXJ2ZXJIZWlnaHQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblxuXG4gIC8qKiBXaWR0aCB1c2VkIGZvciBzZXJ2ZXItc2lkZSByZW5kZXJpbmcgKi9cbiAgc2VydmVyV2lkdGg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxufTtcbmV4cG9ydCBkZWZhdWx0IFdpbmRvd1Njcm9sbGVyO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJzsiLCJpbXBvcnQgV2luZG93U2Nyb2xsZXIsIHsgSVNfU0NST0xMSU5HX1RJTUVPVVQgfSBmcm9tICcuL1dpbmRvd1Njcm9sbGVyJztcblxuZXhwb3J0IGRlZmF1bHQgV2luZG93U2Nyb2xsZXI7XG5leHBvcnQgeyBXaW5kb3dTY3JvbGxlciwgSVNfU0NST0xMSU5HX1RJTUVPVVQgfTsiLCJleHBvcnQgeyBBcnJvd0tleVN0ZXBwZXIgfSBmcm9tICcuL0Fycm93S2V5U3RlcHBlcic7XG5leHBvcnQgeyBBdXRvU2l6ZXIgfSBmcm9tICcuL0F1dG9TaXplcic7XG5leHBvcnQgeyBDZWxsTWVhc3VyZXIsIENlbGxNZWFzdXJlckNhY2hlIH0gZnJvbSAnLi9DZWxsTWVhc3VyZXInO1xuZXhwb3J0IHsgQ29sbGVjdGlvbiB9IGZyb20gJy4vQ29sbGVjdGlvbic7XG5leHBvcnQgeyBDb2x1bW5TaXplciB9IGZyb20gJy4vQ29sdW1uU2l6ZXInO1xuZXhwb3J0IHsgYWNjZXNzaWJpbGl0eU92ZXJzY2FuSW5kaWNlc0dldHRlciwgZGVmYXVsdENlbGxSYW5nZVJlbmRlcmVyLCBkZWZhdWx0T3ZlcnNjYW5JbmRpY2VzR2V0dGVyLCBHcmlkIH0gZnJvbSAnLi9HcmlkJztcbmV4cG9ydCB7IEluZmluaXRlTG9hZGVyIH0gZnJvbSAnLi9JbmZpbml0ZUxvYWRlcic7XG5leHBvcnQgeyBMaXN0IH0gZnJvbSAnLi9MaXN0JztcbmV4cG9ydCB7IGNyZWF0ZUNlbGxQb3NpdGlvbmVyIGFzIGNyZWF0ZU1hc29ucnlDZWxsUG9zaXRpb25lciwgTWFzb25yeSB9IGZyb20gJy4vTWFzb25yeSc7XG5leHBvcnQgeyBNdWx0aUdyaWQgfSBmcm9tICcuL011bHRpR3JpZCc7XG5leHBvcnQgeyBTY3JvbGxTeW5jIH0gZnJvbSAnLi9TY3JvbGxTeW5jJztcbmV4cG9ydCB7IGNyZWF0ZU11bHRpU29ydCBhcyBjcmVhdGVUYWJsZU11bHRpU29ydCwgZGVmYXVsdENlbGxEYXRhR2V0dGVyIGFzIGRlZmF1bHRUYWJsZUNlbGxEYXRhR2V0dGVyLCBkZWZhdWx0Q2VsbFJlbmRlcmVyIGFzIGRlZmF1bHRUYWJsZUNlbGxSZW5kZXJlciwgZGVmYXVsdEhlYWRlclJlbmRlcmVyIGFzIGRlZmF1bHRUYWJsZUhlYWRlclJlbmRlcmVyLCBkZWZhdWx0SGVhZGVyUm93UmVuZGVyZXIgYXMgZGVmYXVsdFRhYmxlSGVhZGVyUm93UmVuZGVyZXIsIGRlZmF1bHRSb3dSZW5kZXJlciBhcyBkZWZhdWx0VGFibGVSb3dSZW5kZXJlciwgVGFibGUsIENvbHVtbiwgU29ydERpcmVjdGlvbiwgU29ydEluZGljYXRvciB9IGZyb20gJy4vVGFibGUnO1xuZXhwb3J0IHsgV2luZG93U2Nyb2xsZXIgfSBmcm9tICcuL1dpbmRvd1Njcm9sbGVyJzsiLCJpbXBvcnQgeyBTZWFyY2hUYWdJbmZvIH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgQmFja2VuZFNlcnZpY2UsIEYzQXBpIH0gZnJvbSAnLi9GM0FwaSc7XG5cbi8qKiBbU2VlIERvY3VtZW50YXRpb25dKGh0dHBzOi8vamZvbGQzLmlhcmNoaXZlcy5jb20vam9iL2YzLXNlYXJjaC9qYXZhZG9jL2NvbS9hbmNlc3RyeS9lYi9qb3NlcGh1cy9mb2xkMzEvc2VhcmNoL3NlcnZpY2UvU2VhcmNoVXRpbFNlcnZpY2UuaHRtbCkgKi9cbmV4cG9ydCBjbGFzcyBTZWFyY2hVdGlsQXBpIGV4dGVuZHMgRjNBcGkge1xuXHRzZXJ2aWNlID0gQmFja2VuZFNlcnZpY2UuU0VBUkNIO1xuXHRiYXNlVXJsID0gJy9zZWFyY2gtdXRpbCc7XG5cblx0bGlzdEFsbFRhZ3MoKTogUHJvbWlzZTxTZWFyY2hUYWdJbmZvW10+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJy90YWcnLCB7XG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdTZWFyY2hUYWdJbmZvJyxcblx0XHR9KTtcblx0fVxuXG5cdGdldEJyb3dzZUxldmVsTGFiZWxzKHB1YmxpY2F0aW9uSWQ6IG51bWJlcik6IFByb21pc2U8c3RyaW5nW10+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9icm93c2UtbGV2ZWxzLyR7cHVibGljYXRpb25JZH1gKTtcblx0fVxuXG5cdGdldERvY3VtZW50TGV2ZWxMYWJlbChwdWJsaWNhdGlvbklkOiBudW1iZXIpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdHJldHVybiB0aGlzLmdldChgL2RvY3VtZW50LWxldmVsLyR7cHVibGljYXRpb25JZH1gLCB7IHByaW1pdGl2ZTogdHJ1ZSB9KTtcblx0fVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmM6ICguLi5hbGxBcmdzOiBhbnlbXSkgPT4gYW55LCB3YWl0OiBudW1iZXIpIHtcblx0bGV0IHRpbWVvdXQ6IGFueTtcblxuXHRyZXR1cm4gKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG5cdFx0aWYgKHRpbWVvdXQpIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblxuXHRcdHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdGZ1bmMoLi4uYXJncyk7XG5cdFx0fSwgd2FpdCk7XG5cdH07XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufSIsImltcG9ydCBzZXRQcm90b3R5cGVPZiBmcm9tIFwiLi9zZXRQcm90b3R5cGVPZi5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cbiAgcmV0dXJuIHNlbGY7XG59IiwiZnVuY3Rpb24gYXJlSW5wdXRzRXF1YWwobmV3SW5wdXRzLCBsYXN0SW5wdXRzKSB7XG4gICAgaWYgKG5ld0lucHV0cy5sZW5ndGggIT09IGxhc3RJbnB1dHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdJbnB1dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKG5ld0lucHV0c1tpXSAhPT0gbGFzdElucHV0c1tpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBtZW1vaXplT25lKHJlc3VsdEZuLCBpc0VxdWFsKSB7XG4gICAgaWYgKGlzRXF1YWwgPT09IHZvaWQgMCkgeyBpc0VxdWFsID0gYXJlSW5wdXRzRXF1YWw7IH1cbiAgICB2YXIgbGFzdFRoaXM7XG4gICAgdmFyIGxhc3RBcmdzID0gW107XG4gICAgdmFyIGxhc3RSZXN1bHQ7XG4gICAgdmFyIGNhbGxlZE9uY2UgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBtZW1vaXplZCgpIHtcbiAgICAgICAgdmFyIG5ld0FyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG5ld0FyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FsbGVkT25jZSAmJiBsYXN0VGhpcyA9PT0gdGhpcyAmJiBpc0VxdWFsKG5ld0FyZ3MsIGxhc3RBcmdzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFJlc3VsdCA9IHJlc3VsdEZuLmFwcGx5KHRoaXMsIG5ld0FyZ3MpO1xuICAgICAgICBjYWxsZWRPbmNlID0gdHJ1ZTtcbiAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICBsYXN0QXJncyA9IG5ld0FyZ3M7XG4gICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gbWVtb2l6ZWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1lbW9pemVPbmU7XG4iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgX2luaGVyaXRzTG9vc2UgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZSc7XG5pbXBvcnQgX2Fzc2VydFRoaXNJbml0aWFsaXplZCBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQnO1xuaW1wb3J0IG1lbW9pemVPbmUgZnJvbSAnbWVtb2l6ZS1vbmUnO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgUHVyZUNvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlJztcblxuLy8gQW5pbWF0aW9uIGZyYW1lIGJhc2VkIGltcGxlbWVudGF0aW9uIG9mIHNldFRpbWVvdXQuXG4vLyBJbnNwaXJlZCBieSBKb2UgTGFtYmVydCwgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vam9lbGFtYmVydC8xMDAyMTE2I2ZpbGUtcmVxdWVzdHRpbWVvdXQtanNcbnZhciBoYXNOYXRpdmVQZXJmb3JtYW5jZU5vdyA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gJ2Z1bmN0aW9uJztcbnZhciBub3cgPSBoYXNOYXRpdmVQZXJmb3JtYW5jZU5vdyA/IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xufSA6IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIERhdGUubm93KCk7XG59O1xuZnVuY3Rpb24gY2FuY2VsVGltZW91dCh0aW1lb3V0SUQpIHtcbiAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGltZW91dElELmlkKTtcbn1cbmZ1bmN0aW9uIHJlcXVlc3RUaW1lb3V0KGNhbGxiYWNrLCBkZWxheSkge1xuICB2YXIgc3RhcnQgPSBub3coKTtcblxuICBmdW5jdGlvbiB0aWNrKCkge1xuICAgIGlmIChub3coKSAtIHN0YXJ0ID49IGRlbGF5KSB7XG4gICAgICBjYWxsYmFjay5jYWxsKG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aW1lb3V0SUQuaWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHRpbWVvdXRJRCA9IHtcbiAgICBpZDogcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spXG4gIH07XG4gIHJldHVybiB0aW1lb3V0SUQ7XG59XG5cbnZhciBzaXplID0gLTE7IC8vIFRoaXMgdXRpbGl0eSBjb3BpZWQgZnJvbSBcImRvbS1oZWxwZXJzXCIgcGFja2FnZS5cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsYmFyU2l6ZShyZWNhbGN1bGF0ZSkge1xuICBpZiAocmVjYWxjdWxhdGUgPT09IHZvaWQgMCkge1xuICAgIHJlY2FsY3VsYXRlID0gZmFsc2U7XG4gIH1cblxuICBpZiAoc2l6ZSA9PT0gLTEgfHwgcmVjYWxjdWxhdGUpIHtcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIHN0eWxlID0gZGl2LnN0eWxlO1xuICAgIHN0eWxlLndpZHRoID0gJzUwcHgnO1xuICAgIHN0eWxlLmhlaWdodCA9ICc1MHB4JztcbiAgICBzdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICBzaXplID0gZGl2Lm9mZnNldFdpZHRoIC0gZGl2LmNsaWVudFdpZHRoO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZGl2KTtcbiAgfVxuXG4gIHJldHVybiBzaXplO1xufVxudmFyIGNhY2hlZFJUTFJlc3VsdCA9IG51bGw7IC8vIFRSSUNLWSBBY2NvcmRpbmcgdG8gdGhlIHNwZWMsIHNjcm9sbExlZnQgc2hvdWxkIGJlIG5lZ2F0aXZlIGZvciBSVEwgYWxpZ25lZCBlbGVtZW50cy5cbi8vIENocm9tZSBkb2VzIG5vdCBzZWVtIHRvIGFkaGVyZTsgaXRzIHNjcm9sbExlZnQgdmFsdWVzIGFyZSBwb3NpdGl2ZSAobWVhc3VyZWQgcmVsYXRpdmUgdG8gdGhlIGxlZnQpLlxuLy8gU2FmYXJpJ3MgZWxhc3RpYyBib3VuY2UgbWFrZXMgZGV0ZWN0aW5nIHRoaXMgZXZlbiBtb3JlIGNvbXBsaWNhdGVkIHdydCBwb3RlbnRpYWwgZmFsc2UgcG9zaXRpdmVzLlxuLy8gVGhlIHNhZmVzdCB3YXkgdG8gY2hlY2sgdGhpcyBpcyB0byBpbnRlbnRpb25hbGx5IHNldCBhIG5lZ2F0aXZlIG9mZnNldCxcbi8vIGFuZCB0aGVuIHZlcmlmeSB0aGF0IHRoZSBzdWJzZXF1ZW50IFwic2Nyb2xsXCIgZXZlbnQgbWF0Y2hlcyB0aGUgbmVnYXRpdmUgb2Zmc2V0LlxuLy8gSWYgaXQgZG9lcyBub3QgbWF0Y2gsIHRoZW4gd2UgY2FuIGFzc3VtZSBhIG5vbi1zdGFuZGFyZCBSVEwgc2Nyb2xsIGltcGxlbWVudGF0aW9uLlxuXG5mdW5jdGlvbiBnZXRSVExPZmZzZXRUeXBlKHJlY2FsY3VsYXRlKSB7XG4gIGlmIChyZWNhbGN1bGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgcmVjYWxjdWxhdGUgPSBmYWxzZTtcbiAgfVxuXG4gIGlmIChjYWNoZWRSVExSZXN1bHQgPT09IG51bGwgfHwgcmVjYWxjdWxhdGUpIHtcbiAgICB2YXIgb3V0ZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB2YXIgb3V0ZXJTdHlsZSA9IG91dGVyRGl2LnN0eWxlO1xuICAgIG91dGVyU3R5bGUud2lkdGggPSAnNTBweCc7XG4gICAgb3V0ZXJTdHlsZS5oZWlnaHQgPSAnNTBweCc7XG4gICAgb3V0ZXJTdHlsZS5vdmVyZmxvdyA9ICdzY3JvbGwnO1xuICAgIG91dGVyU3R5bGUuZGlyZWN0aW9uID0gJ3J0bCc7XG4gICAgdmFyIGlubmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdmFyIGlubmVyU3R5bGUgPSBpbm5lckRpdi5zdHlsZTtcbiAgICBpbm5lclN0eWxlLndpZHRoID0gJzEwMHB4JztcbiAgICBpbm5lclN0eWxlLmhlaWdodCA9ICcxMDBweCc7XG4gICAgb3V0ZXJEaXYuYXBwZW5kQ2hpbGQoaW5uZXJEaXYpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3V0ZXJEaXYpO1xuXG4gICAgaWYgKG91dGVyRGl2LnNjcm9sbExlZnQgPiAwKSB7XG4gICAgICBjYWNoZWRSVExSZXN1bHQgPSAncG9zaXRpdmUtZGVzY2VuZGluZyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dGVyRGl2LnNjcm9sbExlZnQgPSAxO1xuXG4gICAgICBpZiAob3V0ZXJEaXYuc2Nyb2xsTGVmdCA9PT0gMCkge1xuICAgICAgICBjYWNoZWRSVExSZXN1bHQgPSAnbmVnYXRpdmUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FjaGVkUlRMUmVzdWx0ID0gJ3Bvc2l0aXZlLWFzY2VuZGluZyc7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvdXRlckRpdik7XG4gICAgcmV0dXJuIGNhY2hlZFJUTFJlc3VsdDtcbiAgfVxuXG4gIHJldHVybiBjYWNoZWRSVExSZXN1bHQ7XG59XG5cbnZhciBJU19TQ1JPTExJTkdfREVCT1VOQ0VfSU5URVJWQUwgPSAxNTA7XG5cbnZhciBkZWZhdWx0SXRlbUtleSA9IGZ1bmN0aW9uIGRlZmF1bHRJdGVtS2V5KF9yZWYpIHtcbiAgdmFyIGNvbHVtbkluZGV4ID0gX3JlZi5jb2x1bW5JbmRleCxcbiAgICAgIGRhdGEgPSBfcmVmLmRhdGEsXG4gICAgICByb3dJbmRleCA9IF9yZWYucm93SW5kZXg7XG4gIHJldHVybiByb3dJbmRleCArIFwiOlwiICsgY29sdW1uSW5kZXg7XG59OyAvLyBJbiBERVYgbW9kZSwgdGhpcyBTZXQgaGVscHMgdXMgb25seSBsb2cgYSB3YXJuaW5nIG9uY2UgcGVyIGNvbXBvbmVudCBpbnN0YW5jZS5cbi8vIFRoaXMgYXZvaWRzIHNwYW1taW5nIHRoZSBjb25zb2xlIGV2ZXJ5IHRpbWUgYSByZW5kZXIgaGFwcGVucy5cblxuXG52YXIgZGV2V2FybmluZ3NPdmVyc2NhbkNvdW50ID0gbnVsbDtcbnZhciBkZXZXYXJuaW5nc092ZXJzY2FuUm93c0NvbHVtbnNDb3VudCA9IG51bGw7XG52YXIgZGV2V2FybmluZ3NUYWdOYW1lID0gbnVsbDtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuV2Vha1NldCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBkZXZXYXJuaW5nc092ZXJzY2FuQ291bnQgPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBuZXcgV2Vha1NldCgpO1xuICAgIGRldldhcm5pbmdzT3ZlcnNjYW5Sb3dzQ29sdW1uc0NvdW50ID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgbmV3IFdlYWtTZXQoKTtcbiAgICBkZXZXYXJuaW5nc1RhZ05hbWUgPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBuZXcgV2Vha1NldCgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUdyaWRDb21wb25lbnQoX3JlZjIpIHtcbiAgdmFyIF9jbGFzcywgX3RlbXA7XG5cbiAgdmFyIGdldENvbHVtbk9mZnNldCA9IF9yZWYyLmdldENvbHVtbk9mZnNldCxcbiAgICAgIGdldENvbHVtblN0YXJ0SW5kZXhGb3JPZmZzZXQgPSBfcmVmMi5nZXRDb2x1bW5TdGFydEluZGV4Rm9yT2Zmc2V0LFxuICAgICAgZ2V0Q29sdW1uU3RvcEluZGV4Rm9yU3RhcnRJbmRleCA9IF9yZWYyLmdldENvbHVtblN0b3BJbmRleEZvclN0YXJ0SW5kZXgsXG4gICAgICBnZXRDb2x1bW5XaWR0aCA9IF9yZWYyLmdldENvbHVtbldpZHRoLFxuICAgICAgZ2V0RXN0aW1hdGVkVG90YWxIZWlnaHQgPSBfcmVmMi5nZXRFc3RpbWF0ZWRUb3RhbEhlaWdodCxcbiAgICAgIGdldEVzdGltYXRlZFRvdGFsV2lkdGggPSBfcmVmMi5nZXRFc3RpbWF0ZWRUb3RhbFdpZHRoLFxuICAgICAgZ2V0T2Zmc2V0Rm9yQ29sdW1uQW5kQWxpZ25tZW50ID0gX3JlZjIuZ2V0T2Zmc2V0Rm9yQ29sdW1uQW5kQWxpZ25tZW50LFxuICAgICAgZ2V0T2Zmc2V0Rm9yUm93QW5kQWxpZ25tZW50ID0gX3JlZjIuZ2V0T2Zmc2V0Rm9yUm93QW5kQWxpZ25tZW50LFxuICAgICAgZ2V0Um93SGVpZ2h0ID0gX3JlZjIuZ2V0Um93SGVpZ2h0LFxuICAgICAgZ2V0Um93T2Zmc2V0ID0gX3JlZjIuZ2V0Um93T2Zmc2V0LFxuICAgICAgZ2V0Um93U3RhcnRJbmRleEZvck9mZnNldCA9IF9yZWYyLmdldFJvd1N0YXJ0SW5kZXhGb3JPZmZzZXQsXG4gICAgICBnZXRSb3dTdG9wSW5kZXhGb3JTdGFydEluZGV4ID0gX3JlZjIuZ2V0Um93U3RvcEluZGV4Rm9yU3RhcnRJbmRleCxcbiAgICAgIGluaXRJbnN0YW5jZVByb3BzID0gX3JlZjIuaW5pdEluc3RhbmNlUHJvcHMsXG4gICAgICBzaG91bGRSZXNldFN0eWxlQ2FjaGVPbkl0ZW1TaXplQ2hhbmdlID0gX3JlZjIuc2hvdWxkUmVzZXRTdHlsZUNhY2hlT25JdGVtU2l6ZUNoYW5nZSxcbiAgICAgIHZhbGlkYXRlUHJvcHMgPSBfcmVmMi52YWxpZGF0ZVByb3BzO1xuICByZXR1cm4gX3RlbXAgPSBfY2xhc3MgPVxuICAvKiNfX1BVUkVfXyovXG4gIGZ1bmN0aW9uIChfUHVyZUNvbXBvbmVudCkge1xuICAgIF9pbmhlcml0c0xvb3NlKEdyaWQsIF9QdXJlQ29tcG9uZW50KTtcblxuICAgIC8vIEFsd2F5cyB1c2UgZXhwbGljaXQgY29uc3RydWN0b3IgZm9yIFJlYWN0IGNvbXBvbmVudHMuXG4gICAgLy8gSXQgcHJvZHVjZXMgbGVzcyBjb2RlIGFmdGVyIHRyYW5zcGlsYXRpb24uICgjMjYpXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtY29uc3RydWN0b3JcbiAgICBmdW5jdGlvbiBHcmlkKHByb3BzKSB7XG4gICAgICB2YXIgX3RoaXM7XG5cbiAgICAgIF90aGlzID0gX1B1cmVDb21wb25lbnQuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgIF90aGlzLl9pbnN0YW5jZVByb3BzID0gaW5pdEluc3RhbmNlUHJvcHMoX3RoaXMucHJvcHMsIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcykpKTtcbiAgICAgIF90aGlzLl9yZXNldElzU2Nyb2xsaW5nVGltZW91dElkID0gbnVsbDtcbiAgICAgIF90aGlzLl9vdXRlclJlZiA9IHZvaWQgMDtcbiAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICBpbnN0YW5jZTogX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSksXG4gICAgICAgIGlzU2Nyb2xsaW5nOiBmYWxzZSxcbiAgICAgICAgaG9yaXpvbnRhbFNjcm9sbERpcmVjdGlvbjogJ2ZvcndhcmQnLFxuICAgICAgICBzY3JvbGxMZWZ0OiB0eXBlb2YgX3RoaXMucHJvcHMuaW5pdGlhbFNjcm9sbExlZnQgPT09ICdudW1iZXInID8gX3RoaXMucHJvcHMuaW5pdGlhbFNjcm9sbExlZnQgOiAwLFxuICAgICAgICBzY3JvbGxUb3A6IHR5cGVvZiBfdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsVG9wID09PSAnbnVtYmVyJyA/IF90aGlzLnByb3BzLmluaXRpYWxTY3JvbGxUb3AgOiAwLFxuICAgICAgICBzY3JvbGxVcGRhdGVXYXNSZXF1ZXN0ZWQ6IGZhbHNlLFxuICAgICAgICB2ZXJ0aWNhbFNjcm9sbERpcmVjdGlvbjogJ2ZvcndhcmQnXG4gICAgICB9O1xuICAgICAgX3RoaXMuX2NhbGxPbkl0ZW1zUmVuZGVyZWQgPSB2b2lkIDA7XG4gICAgICBfdGhpcy5fY2FsbE9uSXRlbXNSZW5kZXJlZCA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKG92ZXJzY2FuQ29sdW1uU3RhcnRJbmRleCwgb3ZlcnNjYW5Db2x1bW5TdG9wSW5kZXgsIG92ZXJzY2FuUm93U3RhcnRJbmRleCwgb3ZlcnNjYW5Sb3dTdG9wSW5kZXgsIHZpc2libGVDb2x1bW5TdGFydEluZGV4LCB2aXNpYmxlQ29sdW1uU3RvcEluZGV4LCB2aXNpYmxlUm93U3RhcnRJbmRleCwgdmlzaWJsZVJvd1N0b3BJbmRleCkge1xuICAgICAgICByZXR1cm4gX3RoaXMucHJvcHMub25JdGVtc1JlbmRlcmVkKHtcbiAgICAgICAgICBvdmVyc2NhbkNvbHVtblN0YXJ0SW5kZXg6IG92ZXJzY2FuQ29sdW1uU3RhcnRJbmRleCxcbiAgICAgICAgICBvdmVyc2NhbkNvbHVtblN0b3BJbmRleDogb3ZlcnNjYW5Db2x1bW5TdG9wSW5kZXgsXG4gICAgICAgICAgb3ZlcnNjYW5Sb3dTdGFydEluZGV4OiBvdmVyc2NhblJvd1N0YXJ0SW5kZXgsXG4gICAgICAgICAgb3ZlcnNjYW5Sb3dTdG9wSW5kZXg6IG92ZXJzY2FuUm93U3RvcEluZGV4LFxuICAgICAgICAgIHZpc2libGVDb2x1bW5TdGFydEluZGV4OiB2aXNpYmxlQ29sdW1uU3RhcnRJbmRleCxcbiAgICAgICAgICB2aXNpYmxlQ29sdW1uU3RvcEluZGV4OiB2aXNpYmxlQ29sdW1uU3RvcEluZGV4LFxuICAgICAgICAgIHZpc2libGVSb3dTdGFydEluZGV4OiB2aXNpYmxlUm93U3RhcnRJbmRleCxcbiAgICAgICAgICB2aXNpYmxlUm93U3RvcEluZGV4OiB2aXNpYmxlUm93U3RvcEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBfdGhpcy5fY2FsbE9uU2Nyb2xsID0gdm9pZCAwO1xuICAgICAgX3RoaXMuX2NhbGxPblNjcm9sbCA9IG1lbW9pemVPbmUoZnVuY3Rpb24gKHNjcm9sbExlZnQsIHNjcm9sbFRvcCwgaG9yaXpvbnRhbFNjcm9sbERpcmVjdGlvbiwgdmVydGljYWxTY3JvbGxEaXJlY3Rpb24sIHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZCkge1xuICAgICAgICByZXR1cm4gX3RoaXMucHJvcHMub25TY3JvbGwoe1xuICAgICAgICAgIGhvcml6b250YWxTY3JvbGxEaXJlY3Rpb246IGhvcml6b250YWxTY3JvbGxEaXJlY3Rpb24sXG4gICAgICAgICAgc2Nyb2xsTGVmdDogc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcCxcbiAgICAgICAgICB2ZXJ0aWNhbFNjcm9sbERpcmVjdGlvbjogdmVydGljYWxTY3JvbGxEaXJlY3Rpb24sXG4gICAgICAgICAgc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkOiBzY3JvbGxVcGRhdGVXYXNSZXF1ZXN0ZWRcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIF90aGlzLl9nZXRJdGVtU3R5bGUgPSB2b2lkIDA7XG5cbiAgICAgIF90aGlzLl9nZXRJdGVtU3R5bGUgPSBmdW5jdGlvbiAocm93SW5kZXgsIGNvbHVtbkluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgY29sdW1uV2lkdGggPSBfdGhpcyRwcm9wcy5jb2x1bW5XaWR0aCxcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9IF90aGlzJHByb3BzLmRpcmVjdGlvbixcbiAgICAgICAgICAgIHJvd0hlaWdodCA9IF90aGlzJHByb3BzLnJvd0hlaWdodDtcblxuICAgICAgICB2YXIgaXRlbVN0eWxlQ2FjaGUgPSBfdGhpcy5fZ2V0SXRlbVN0eWxlQ2FjaGUoc2hvdWxkUmVzZXRTdHlsZUNhY2hlT25JdGVtU2l6ZUNoYW5nZSAmJiBjb2x1bW5XaWR0aCwgc2hvdWxkUmVzZXRTdHlsZUNhY2hlT25JdGVtU2l6ZUNoYW5nZSAmJiBkaXJlY3Rpb24sIHNob3VsZFJlc2V0U3R5bGVDYWNoZU9uSXRlbVNpemVDaGFuZ2UgJiYgcm93SGVpZ2h0KTtcblxuICAgICAgICB2YXIga2V5ID0gcm93SW5kZXggKyBcIjpcIiArIGNvbHVtbkluZGV4O1xuICAgICAgICB2YXIgc3R5bGU7XG5cbiAgICAgICAgaWYgKGl0ZW1TdHlsZUNhY2hlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBzdHlsZSA9IGl0ZW1TdHlsZUNhY2hlW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIF9zdHlsZTtcblxuICAgICAgICAgIGl0ZW1TdHlsZUNhY2hlW2tleV0gPSBzdHlsZSA9IChfc3R5bGUgPSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgICAgICAgIH0sIF9zdHlsZVtkaXJlY3Rpb24gPT09ICdydGwnID8gJ3JpZ2h0JyA6ICdsZWZ0J10gPSBnZXRDb2x1bW5PZmZzZXQoX3RoaXMucHJvcHMsIGNvbHVtbkluZGV4LCBfdGhpcy5faW5zdGFuY2VQcm9wcyksIF9zdHlsZS50b3AgPSBnZXRSb3dPZmZzZXQoX3RoaXMucHJvcHMsIHJvd0luZGV4LCBfdGhpcy5faW5zdGFuY2VQcm9wcyksIF9zdHlsZS5oZWlnaHQgPSBnZXRSb3dIZWlnaHQoX3RoaXMucHJvcHMsIHJvd0luZGV4LCBfdGhpcy5faW5zdGFuY2VQcm9wcyksIF9zdHlsZS53aWR0aCA9IGdldENvbHVtbldpZHRoKF90aGlzLnByb3BzLCBjb2x1bW5JbmRleCwgX3RoaXMuX2luc3RhbmNlUHJvcHMpLCBfc3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgICAgfTtcblxuICAgICAgX3RoaXMuX2dldEl0ZW1TdHlsZUNhY2hlID0gdm9pZCAwO1xuICAgICAgX3RoaXMuX2dldEl0ZW1TdHlsZUNhY2hlID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAoXywgX18sIF9fXykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuX29uU2Nyb2xsID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBfZXZlbnQkY3VycmVudFRhcmdldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQsXG4gICAgICAgICAgICBjbGllbnRIZWlnaHQgPSBfZXZlbnQkY3VycmVudFRhcmdldC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgICBjbGllbnRXaWR0aCA9IF9ldmVudCRjdXJyZW50VGFyZ2V0LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgc2Nyb2xsTGVmdCA9IF9ldmVudCRjdXJyZW50VGFyZ2V0LnNjcm9sbExlZnQsXG4gICAgICAgICAgICBzY3JvbGxUb3AgPSBfZXZlbnQkY3VycmVudFRhcmdldC5zY3JvbGxUb3AsXG4gICAgICAgICAgICBzY3JvbGxIZWlnaHQgPSBfZXZlbnQkY3VycmVudFRhcmdldC5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgICBzY3JvbGxXaWR0aCA9IF9ldmVudCRjdXJyZW50VGFyZ2V0LnNjcm9sbFdpZHRoO1xuXG4gICAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgICAgICBpZiAocHJldlN0YXRlLnNjcm9sbExlZnQgPT09IHNjcm9sbExlZnQgJiYgcHJldlN0YXRlLnNjcm9sbFRvcCA9PT0gc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICAvLyBTY3JvbGwgcG9zaXRpb24gbWF5IGhhdmUgYmVlbiB1cGRhdGVkIGJ5IGNETS9jRFUsXG4gICAgICAgICAgICAvLyBJbiB3aGljaCBjYXNlIHdlIGRvbid0IG5lZWQgdG8gdHJpZ2dlciBhbm90aGVyIHJlbmRlcixcbiAgICAgICAgICAgIC8vIEFuZCB3ZSBkb24ndCB3YW50IHRvIHVwZGF0ZSBzdGF0ZS5pc1Njcm9sbGluZy5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBfdGhpcy5wcm9wcy5kaXJlY3Rpb247IC8vIFRSSUNLWSBBY2NvcmRpbmcgdG8gdGhlIHNwZWMsIHNjcm9sbExlZnQgc2hvdWxkIGJlIG5lZ2F0aXZlIGZvciBSVEwgYWxpZ25lZCBlbGVtZW50cy5cbiAgICAgICAgICAvLyBUaGlzIGlzIG5vdCB0aGUgY2FzZSBmb3IgYWxsIGJyb3dzZXJzIHRob3VnaCAoZS5nLiBDaHJvbWUgcmVwb3J0cyB2YWx1ZXMgYXMgcG9zaXRpdmUsIG1lYXN1cmVkIHJlbGF0aXZlIHRvIHRoZSBsZWZ0KS5cbiAgICAgICAgICAvLyBJdCdzIGFsc28gZWFzaWVyIGZvciB0aGlzIGNvbXBvbmVudCBpZiB3ZSBjb252ZXJ0IG9mZnNldHMgdG8gdGhlIHNhbWUgZm9ybWF0IGFzIHRoZXkgd291bGQgYmUgaW4gZm9yIGx0ci5cbiAgICAgICAgICAvLyBTbyB0aGUgc2ltcGxlc3Qgc29sdXRpb24gaXMgdG8gZGV0ZXJtaW5lIHdoaWNoIGJyb3dzZXIgYmVoYXZpb3Igd2UncmUgZGVhbGluZyB3aXRoLCBhbmQgY29udmVydCBiYXNlZCBvbiBpdC5cblxuICAgICAgICAgIHZhciBjYWxjdWxhdGVkU2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG5cbiAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgICAgICAgICAgc3dpdGNoIChnZXRSVExPZmZzZXRUeXBlKCkpIHtcbiAgICAgICAgICAgICAgY2FzZSAnbmVnYXRpdmUnOlxuICAgICAgICAgICAgICAgIGNhbGN1bGF0ZWRTY3JvbGxMZWZ0ID0gLXNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAncG9zaXRpdmUtZGVzY2VuZGluZyc6XG4gICAgICAgICAgICAgICAgY2FsY3VsYXRlZFNjcm9sbExlZnQgPSBzY3JvbGxXaWR0aCAtIGNsaWVudFdpZHRoIC0gc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IC8vIFByZXZlbnQgU2FmYXJpJ3MgZWxhc3RpYyBzY3JvbGxpbmcgZnJvbSBjYXVzaW5nIHZpc3VhbCBzaGFraW5nIHdoZW4gc2Nyb2xsaW5nIHBhc3QgYm91bmRzLlxuXG5cbiAgICAgICAgICBjYWxjdWxhdGVkU2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGNhbGN1bGF0ZWRTY3JvbGxMZWZ0LCBzY3JvbGxXaWR0aCAtIGNsaWVudFdpZHRoKSk7XG4gICAgICAgICAgdmFyIGNhbGN1bGF0ZWRTY3JvbGxUb3AgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzY3JvbGxUb3AsIHNjcm9sbEhlaWdodCAtIGNsaWVudEhlaWdodCkpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc1Njcm9sbGluZzogdHJ1ZSxcbiAgICAgICAgICAgIGhvcml6b250YWxTY3JvbGxEaXJlY3Rpb246IHByZXZTdGF0ZS5zY3JvbGxMZWZ0IDwgc2Nyb2xsTGVmdCA/ICdmb3J3YXJkJyA6ICdiYWNrd2FyZCcsXG4gICAgICAgICAgICBzY3JvbGxMZWZ0OiBjYWxjdWxhdGVkU2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIHNjcm9sbFRvcDogY2FsY3VsYXRlZFNjcm9sbFRvcCxcbiAgICAgICAgICAgIHZlcnRpY2FsU2Nyb2xsRGlyZWN0aW9uOiBwcmV2U3RhdGUuc2Nyb2xsVG9wIDwgc2Nyb2xsVG9wID8gJ2ZvcndhcmQnIDogJ2JhY2t3YXJkJyxcbiAgICAgICAgICAgIHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICB9LCBfdGhpcy5fcmVzZXRJc1Njcm9sbGluZ0RlYm91bmNlZCk7XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5fb3V0ZXJSZWZTZXR0ZXIgPSBmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgIHZhciBvdXRlclJlZiA9IF90aGlzLnByb3BzLm91dGVyUmVmO1xuICAgICAgICBfdGhpcy5fb3V0ZXJSZWYgPSByZWY7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvdXRlclJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIG91dGVyUmVmKHJlZik7XG4gICAgICAgIH0gZWxzZSBpZiAob3V0ZXJSZWYgIT0gbnVsbCAmJiB0eXBlb2Ygb3V0ZXJSZWYgPT09ICdvYmplY3QnICYmIG91dGVyUmVmLmhhc093blByb3BlcnR5KCdjdXJyZW50JykpIHtcbiAgICAgICAgICBvdXRlclJlZi5jdXJyZW50ID0gcmVmO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5fcmVzZXRJc1Njcm9sbGluZ0RlYm91bmNlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKF90aGlzLl9yZXNldElzU2Nyb2xsaW5nVGltZW91dElkICE9PSBudWxsKSB7XG4gICAgICAgICAgY2FuY2VsVGltZW91dChfdGhpcy5fcmVzZXRJc1Njcm9sbGluZ1RpbWVvdXRJZCk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpcy5fcmVzZXRJc1Njcm9sbGluZ1RpbWVvdXRJZCA9IHJlcXVlc3RUaW1lb3V0KF90aGlzLl9yZXNldElzU2Nyb2xsaW5nLCBJU19TQ1JPTExJTkdfREVCT1VOQ0VfSU5URVJWQUwpO1xuICAgICAgfTtcblxuICAgICAgX3RoaXMuX3Jlc2V0SXNTY3JvbGxpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLl9yZXNldElzU2Nyb2xsaW5nVGltZW91dElkID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNTY3JvbGxpbmc6IGZhbHNlXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBDbGVhciBzdHlsZSBjYWNoZSBhZnRlciBzdGF0ZSB1cGRhdGUgaGFzIGJlZW4gY29tbWl0dGVkLlxuICAgICAgICAgIC8vIFRoaXMgd2F5IHdlIGRvbid0IGJyZWFrIHB1cmUgc0NVIGZvciBpdGVtcyB0aGF0IGRvbid0IHVzZSBpc1Njcm9sbGluZyBwYXJhbS5cbiAgICAgICAgICBfdGhpcy5fZ2V0SXRlbVN0eWxlQ2FjaGUoLTEpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBHcmlkLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgdmFsaWRhdGVTaGFyZWRQcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSk7XG4gICAgICB2YWxpZGF0ZVByb3BzKG5leHRQcm9wcyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgdmFyIF9wcm90byA9IEdyaWQucHJvdG90eXBlO1xuXG4gICAgX3Byb3RvLnNjcm9sbFRvID0gZnVuY3Rpb24gc2Nyb2xsVG8oX3JlZjMpIHtcbiAgICAgIHZhciBzY3JvbGxMZWZ0ID0gX3JlZjMuc2Nyb2xsTGVmdCxcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfcmVmMy5zY3JvbGxUb3A7XG5cbiAgICAgIGlmIChzY3JvbGxMZWZ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIHNjcm9sbExlZnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2Nyb2xsVG9wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2Nyb2xsVG9wID0gTWF0aC5tYXgoMCwgc2Nyb2xsVG9wKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICAgIGlmIChzY3JvbGxMZWZ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzY3JvbGxMZWZ0ID0gcHJldlN0YXRlLnNjcm9sbExlZnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2Nyb2xsVG9wID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzY3JvbGxUb3AgPSBwcmV2U3RhdGUuc2Nyb2xsVG9wO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByZXZTdGF0ZS5zY3JvbGxMZWZ0ID09PSBzY3JvbGxMZWZ0ICYmIHByZXZTdGF0ZS5zY3JvbGxUb3AgPT09IHNjcm9sbFRvcCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBob3Jpem9udGFsU2Nyb2xsRGlyZWN0aW9uOiBwcmV2U3RhdGUuc2Nyb2xsTGVmdCA8IHNjcm9sbExlZnQgPyAnZm9yd2FyZCcgOiAnYmFja3dhcmQnLFxuICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AsXG4gICAgICAgICAgc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkOiB0cnVlLFxuICAgICAgICAgIHZlcnRpY2FsU2Nyb2xsRGlyZWN0aW9uOiBwcmV2U3RhdGUuc2Nyb2xsVG9wIDwgc2Nyb2xsVG9wID8gJ2ZvcndhcmQnIDogJ2JhY2t3YXJkJ1xuICAgICAgICB9O1xuICAgICAgfSwgdGhpcy5fcmVzZXRJc1Njcm9sbGluZ0RlYm91bmNlZCk7XG4gICAgfTtcblxuICAgIF9wcm90by5zY3JvbGxUb0l0ZW0gPSBmdW5jdGlvbiBzY3JvbGxUb0l0ZW0oX3JlZjQpIHtcbiAgICAgIHZhciBfcmVmNCRhbGlnbiA9IF9yZWY0LmFsaWduLFxuICAgICAgICAgIGFsaWduID0gX3JlZjQkYWxpZ24gPT09IHZvaWQgMCA/ICdhdXRvJyA6IF9yZWY0JGFsaWduLFxuICAgICAgICAgIGNvbHVtbkluZGV4ID0gX3JlZjQuY29sdW1uSW5kZXgsXG4gICAgICAgICAgcm93SW5kZXggPSBfcmVmNC5yb3dJbmRleDtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNvbHVtbkNvdW50ID0gX3RoaXMkcHJvcHMyLmNvbHVtbkNvdW50LFxuICAgICAgICAgIGhlaWdodCA9IF90aGlzJHByb3BzMi5oZWlnaHQsXG4gICAgICAgICAgcm93Q291bnQgPSBfdGhpcyRwcm9wczIucm93Q291bnQsXG4gICAgICAgICAgd2lkdGggPSBfdGhpcyRwcm9wczIud2lkdGg7XG4gICAgICB2YXIgX3RoaXMkc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIHNjcm9sbExlZnQgPSBfdGhpcyRzdGF0ZS5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHNjcm9sbFRvcCA9IF90aGlzJHN0YXRlLnNjcm9sbFRvcDtcbiAgICAgIHZhciBzY3JvbGxiYXJTaXplID0gZ2V0U2Nyb2xsYmFyU2l6ZSgpO1xuXG4gICAgICBpZiAoY29sdW1uSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb2x1bW5JbmRleCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGNvbHVtbkluZGV4LCBjb2x1bW5Db3VudCAtIDEpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJvd0luZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcm93SW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihyb3dJbmRleCwgcm93Q291bnQgLSAxKSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlc3RpbWF0ZWRUb3RhbEhlaWdodCA9IGdldEVzdGltYXRlZFRvdGFsSGVpZ2h0KHRoaXMucHJvcHMsIHRoaXMuX2luc3RhbmNlUHJvcHMpO1xuICAgICAgdmFyIGVzdGltYXRlZFRvdGFsV2lkdGggPSBnZXRFc3RpbWF0ZWRUb3RhbFdpZHRoKHRoaXMucHJvcHMsIHRoaXMuX2luc3RhbmNlUHJvcHMpOyAvLyBUaGUgc2Nyb2xsYmFyIHNpemUgc2hvdWxkIGJlIGNvbnNpZGVyZWQgd2hlbiBzY3JvbGxpbmcgYW4gaXRlbSBpbnRvIHZpZXcsXG4gICAgICAvLyB0byBlbnN1cmUgaXQncyBmdWxseSB2aXNpYmxlLlxuICAgICAgLy8gQnV0IHdlIG9ubHkgbmVlZCB0byBhY2NvdW50IGZvciBpdHMgc2l6ZSB3aGVuIGl0J3MgYWN0dWFsbHkgdmlzaWJsZS5cblxuICAgICAgdmFyIGhvcml6b250YWxTY3JvbGxiYXJTaXplID0gZXN0aW1hdGVkVG90YWxXaWR0aCA+IHdpZHRoID8gc2Nyb2xsYmFyU2l6ZSA6IDA7XG4gICAgICB2YXIgdmVydGljYWxTY3JvbGxiYXJTaXplID0gZXN0aW1hdGVkVG90YWxIZWlnaHQgPiBoZWlnaHQgPyBzY3JvbGxiYXJTaXplIDogMDtcbiAgICAgIHRoaXMuc2Nyb2xsVG8oe1xuICAgICAgICBzY3JvbGxMZWZ0OiBjb2x1bW5JbmRleCAhPT0gdW5kZWZpbmVkID8gZ2V0T2Zmc2V0Rm9yQ29sdW1uQW5kQWxpZ25tZW50KHRoaXMucHJvcHMsIGNvbHVtbkluZGV4LCBhbGlnbiwgc2Nyb2xsTGVmdCwgdGhpcy5faW5zdGFuY2VQcm9wcywgdmVydGljYWxTY3JvbGxiYXJTaXplKSA6IHNjcm9sbExlZnQsXG4gICAgICAgIHNjcm9sbFRvcDogcm93SW5kZXggIT09IHVuZGVmaW5lZCA/IGdldE9mZnNldEZvclJvd0FuZEFsaWdubWVudCh0aGlzLnByb3BzLCByb3dJbmRleCwgYWxpZ24sIHNjcm9sbFRvcCwgdGhpcy5faW5zdGFuY2VQcm9wcywgaG9yaXpvbnRhbFNjcm9sbGJhclNpemUpIDogc2Nyb2xsVG9wXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBpbml0aWFsU2Nyb2xsTGVmdCA9IF90aGlzJHByb3BzMy5pbml0aWFsU2Nyb2xsTGVmdCxcbiAgICAgICAgICBpbml0aWFsU2Nyb2xsVG9wID0gX3RoaXMkcHJvcHMzLmluaXRpYWxTY3JvbGxUb3A7XG5cbiAgICAgIGlmICh0aGlzLl9vdXRlclJlZiAhPSBudWxsKSB7XG4gICAgICAgIHZhciBvdXRlclJlZiA9IHRoaXMuX291dGVyUmVmO1xuXG4gICAgICAgIGlmICh0eXBlb2YgaW5pdGlhbFNjcm9sbExlZnQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgb3V0ZXJSZWYuc2Nyb2xsTGVmdCA9IGluaXRpYWxTY3JvbGxMZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBpbml0aWFsU2Nyb2xsVG9wID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIG91dGVyUmVmLnNjcm9sbFRvcCA9IGluaXRpYWxTY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5fY2FsbFByb3BzQ2FsbGJhY2tzKCk7XG4gICAgfTtcblxuICAgIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5wcm9wcy5kaXJlY3Rpb247XG4gICAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBzY3JvbGxMZWZ0ID0gX3RoaXMkc3RhdGUyLnNjcm9sbExlZnQsXG4gICAgICAgICAgc2Nyb2xsVG9wID0gX3RoaXMkc3RhdGUyLnNjcm9sbFRvcCxcbiAgICAgICAgICBzY3JvbGxVcGRhdGVXYXNSZXF1ZXN0ZWQgPSBfdGhpcyRzdGF0ZTIuc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkO1xuXG4gICAgICBpZiAoc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkICYmIHRoaXMuX291dGVyUmVmICE9IG51bGwpIHtcbiAgICAgICAgLy8gVFJJQ0tZIEFjY29yZGluZyB0byB0aGUgc3BlYywgc2Nyb2xsTGVmdCBzaG91bGQgYmUgbmVnYXRpdmUgZm9yIFJUTCBhbGlnbmVkIGVsZW1lbnRzLlxuICAgICAgICAvLyBUaGlzIGlzIG5vdCB0aGUgY2FzZSBmb3IgYWxsIGJyb3dzZXJzIHRob3VnaCAoZS5nLiBDaHJvbWUgcmVwb3J0cyB2YWx1ZXMgYXMgcG9zaXRpdmUsIG1lYXN1cmVkIHJlbGF0aXZlIHRvIHRoZSBsZWZ0KS5cbiAgICAgICAgLy8gU28gd2UgbmVlZCB0byBkZXRlcm1pbmUgd2hpY2ggYnJvd3NlciBiZWhhdmlvciB3ZSdyZSBkZWFsaW5nIHdpdGgsIGFuZCBtaW1pYyBpdC5cbiAgICAgICAgdmFyIG91dGVyUmVmID0gdGhpcy5fb3V0ZXJSZWY7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3J0bCcpIHtcbiAgICAgICAgICBzd2l0Y2ggKGdldFJUTE9mZnNldFR5cGUoKSkge1xuICAgICAgICAgICAgY2FzZSAnbmVnYXRpdmUnOlxuICAgICAgICAgICAgICBvdXRlclJlZi5zY3JvbGxMZWZ0ID0gLXNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlICdwb3NpdGl2ZS1hc2NlbmRpbmcnOlxuICAgICAgICAgICAgICBvdXRlclJlZi5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHZhciBjbGllbnRXaWR0aCA9IG91dGVyUmVmLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgICAgc2Nyb2xsV2lkdGggPSBvdXRlclJlZi5zY3JvbGxXaWR0aDtcbiAgICAgICAgICAgICAgb3V0ZXJSZWYuc2Nyb2xsTGVmdCA9IHNjcm9sbFdpZHRoIC0gY2xpZW50V2lkdGggLSBzY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ZXJSZWYuc2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIHNjcm9sbExlZnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3V0ZXJSZWYuc2Nyb2xsVG9wID0gTWF0aC5tYXgoMCwgc2Nyb2xsVG9wKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fY2FsbFByb3BzQ2FsbGJhY2tzKCk7XG4gICAgfTtcblxuICAgIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgaWYgKHRoaXMuX3Jlc2V0SXNTY3JvbGxpbmdUaW1lb3V0SWQgIT09IG51bGwpIHtcbiAgICAgICAgY2FuY2VsVGltZW91dCh0aGlzLl9yZXNldElzU2Nyb2xsaW5nVGltZW91dElkKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHM0LmNoaWxkcmVuLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJHByb3BzNC5jbGFzc05hbWUsXG4gICAgICAgICAgY29sdW1uQ291bnQgPSBfdGhpcyRwcm9wczQuY29sdW1uQ291bnQsXG4gICAgICAgICAgZGlyZWN0aW9uID0gX3RoaXMkcHJvcHM0LmRpcmVjdGlvbixcbiAgICAgICAgICBoZWlnaHQgPSBfdGhpcyRwcm9wczQuaGVpZ2h0LFxuICAgICAgICAgIGlubmVyUmVmID0gX3RoaXMkcHJvcHM0LmlubmVyUmVmLFxuICAgICAgICAgIGlubmVyRWxlbWVudFR5cGUgPSBfdGhpcyRwcm9wczQuaW5uZXJFbGVtZW50VHlwZSxcbiAgICAgICAgICBpbm5lclRhZ05hbWUgPSBfdGhpcyRwcm9wczQuaW5uZXJUYWdOYW1lLFxuICAgICAgICAgIGl0ZW1EYXRhID0gX3RoaXMkcHJvcHM0Lml0ZW1EYXRhLFxuICAgICAgICAgIF90aGlzJHByb3BzNCRpdGVtS2V5ID0gX3RoaXMkcHJvcHM0Lml0ZW1LZXksXG4gICAgICAgICAgaXRlbUtleSA9IF90aGlzJHByb3BzNCRpdGVtS2V5ID09PSB2b2lkIDAgPyBkZWZhdWx0SXRlbUtleSA6IF90aGlzJHByb3BzNCRpdGVtS2V5LFxuICAgICAgICAgIG91dGVyRWxlbWVudFR5cGUgPSBfdGhpcyRwcm9wczQub3V0ZXJFbGVtZW50VHlwZSxcbiAgICAgICAgICBvdXRlclRhZ05hbWUgPSBfdGhpcyRwcm9wczQub3V0ZXJUYWdOYW1lLFxuICAgICAgICAgIHJvd0NvdW50ID0gX3RoaXMkcHJvcHM0LnJvd0NvdW50LFxuICAgICAgICAgIHN0eWxlID0gX3RoaXMkcHJvcHM0LnN0eWxlLFxuICAgICAgICAgIHVzZUlzU2Nyb2xsaW5nID0gX3RoaXMkcHJvcHM0LnVzZUlzU2Nyb2xsaW5nLFxuICAgICAgICAgIHdpZHRoID0gX3RoaXMkcHJvcHM0LndpZHRoO1xuICAgICAgdmFyIGlzU2Nyb2xsaW5nID0gdGhpcy5zdGF0ZS5pc1Njcm9sbGluZztcblxuICAgICAgdmFyIF90aGlzJF9nZXRIb3Jpem9udGFsUiA9IHRoaXMuX2dldEhvcml6b250YWxSYW5nZVRvUmVuZGVyKCksXG4gICAgICAgICAgY29sdW1uU3RhcnRJbmRleCA9IF90aGlzJF9nZXRIb3Jpem9udGFsUlswXSxcbiAgICAgICAgICBjb2x1bW5TdG9wSW5kZXggPSBfdGhpcyRfZ2V0SG9yaXpvbnRhbFJbMV07XG5cbiAgICAgIHZhciBfdGhpcyRfZ2V0VmVydGljYWxSYW4gPSB0aGlzLl9nZXRWZXJ0aWNhbFJhbmdlVG9SZW5kZXIoKSxcbiAgICAgICAgICByb3dTdGFydEluZGV4ID0gX3RoaXMkX2dldFZlcnRpY2FsUmFuWzBdLFxuICAgICAgICAgIHJvd1N0b3BJbmRleCA9IF90aGlzJF9nZXRWZXJ0aWNhbFJhblsxXTtcblxuICAgICAgdmFyIGl0ZW1zID0gW107XG5cbiAgICAgIGlmIChjb2x1bW5Db3VudCA+IDAgJiYgcm93Q291bnQpIHtcbiAgICAgICAgZm9yICh2YXIgX3Jvd0luZGV4ID0gcm93U3RhcnRJbmRleDsgX3Jvd0luZGV4IDw9IHJvd1N0b3BJbmRleDsgX3Jvd0luZGV4KyspIHtcbiAgICAgICAgICBmb3IgKHZhciBfY29sdW1uSW5kZXggPSBjb2x1bW5TdGFydEluZGV4OyBfY29sdW1uSW5kZXggPD0gY29sdW1uU3RvcEluZGV4OyBfY29sdW1uSW5kZXgrKykge1xuICAgICAgICAgICAgaXRlbXMucHVzaChjcmVhdGVFbGVtZW50KGNoaWxkcmVuLCB7XG4gICAgICAgICAgICAgIGNvbHVtbkluZGV4OiBfY29sdW1uSW5kZXgsXG4gICAgICAgICAgICAgIGRhdGE6IGl0ZW1EYXRhLFxuICAgICAgICAgICAgICBpc1Njcm9sbGluZzogdXNlSXNTY3JvbGxpbmcgPyBpc1Njcm9sbGluZyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAga2V5OiBpdGVtS2V5KHtcbiAgICAgICAgICAgICAgICBjb2x1bW5JbmRleDogX2NvbHVtbkluZGV4LFxuICAgICAgICAgICAgICAgIGRhdGE6IGl0ZW1EYXRhLFxuICAgICAgICAgICAgICAgIHJvd0luZGV4OiBfcm93SW5kZXhcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIHJvd0luZGV4OiBfcm93SW5kZXgsXG4gICAgICAgICAgICAgIHN0eWxlOiB0aGlzLl9nZXRJdGVtU3R5bGUoX3Jvd0luZGV4LCBfY29sdW1uSW5kZXgpXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIFJlYWQgdGhpcyB2YWx1ZSBBRlRFUiBpdGVtcyBoYXZlIGJlZW4gY3JlYXRlZCxcbiAgICAgIC8vIFNvIHRoZWlyIGFjdHVhbCBzaXplcyAoaWYgdmFyaWFibGUpIGFyZSB0YWtlbiBpbnRvIGNvbnNpZGVyYXRpb24uXG5cblxuICAgICAgdmFyIGVzdGltYXRlZFRvdGFsSGVpZ2h0ID0gZ2V0RXN0aW1hdGVkVG90YWxIZWlnaHQodGhpcy5wcm9wcywgdGhpcy5faW5zdGFuY2VQcm9wcyk7XG4gICAgICB2YXIgZXN0aW1hdGVkVG90YWxXaWR0aCA9IGdldEVzdGltYXRlZFRvdGFsV2lkdGgodGhpcy5wcm9wcywgdGhpcy5faW5zdGFuY2VQcm9wcyk7XG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudChvdXRlckVsZW1lbnRUeXBlIHx8IG91dGVyVGFnTmFtZSB8fCAnZGl2Jywge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcbiAgICAgICAgb25TY3JvbGw6IHRoaXMuX29uU2Nyb2xsLFxuICAgICAgICByZWY6IHRoaXMuX291dGVyUmVmU2V0dGVyLFxuICAgICAgICBzdHlsZTogX2V4dGVuZHMoe1xuICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICBvdmVyZmxvdzogJ2F1dG8nLFxuICAgICAgICAgIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAndG91Y2gnLFxuICAgICAgICAgIHdpbGxDaGFuZ2U6ICd0cmFuc2Zvcm0nLFxuICAgICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgICAgIH0sIHN0eWxlKVxuICAgICAgfSwgY3JlYXRlRWxlbWVudChpbm5lckVsZW1lbnRUeXBlIHx8IGlubmVyVGFnTmFtZSB8fCAnZGl2Jywge1xuICAgICAgICBjaGlsZHJlbjogaXRlbXMsXG4gICAgICAgIHJlZjogaW5uZXJSZWYsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgaGVpZ2h0OiBlc3RpbWF0ZWRUb3RhbEhlaWdodCxcbiAgICAgICAgICBwb2ludGVyRXZlbnRzOiBpc1Njcm9sbGluZyA/ICdub25lJyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICB3aWR0aDogZXN0aW1hdGVkVG90YWxXaWR0aFxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfTtcblxuICAgIF9wcm90by5fY2FsbFByb3BzQ2FsbGJhY2tzID0gZnVuY3Rpb24gX2NhbGxQcm9wc0NhbGxiYWNrcygpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczUgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNvbHVtbkNvdW50ID0gX3RoaXMkcHJvcHM1LmNvbHVtbkNvdW50LFxuICAgICAgICAgIG9uSXRlbXNSZW5kZXJlZCA9IF90aGlzJHByb3BzNS5vbkl0ZW1zUmVuZGVyZWQsXG4gICAgICAgICAgb25TY3JvbGwgPSBfdGhpcyRwcm9wczUub25TY3JvbGwsXG4gICAgICAgICAgcm93Q291bnQgPSBfdGhpcyRwcm9wczUucm93Q291bnQ7XG5cbiAgICAgIGlmICh0eXBlb2Ygb25JdGVtc1JlbmRlcmVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGlmIChjb2x1bW5Db3VudCA+IDAgJiYgcm93Q291bnQgPiAwKSB7XG4gICAgICAgICAgdmFyIF90aGlzJF9nZXRIb3Jpem9udGFsUjIgPSB0aGlzLl9nZXRIb3Jpem9udGFsUmFuZ2VUb1JlbmRlcigpLFxuICAgICAgICAgICAgICBfb3ZlcnNjYW5Db2x1bW5TdGFydEluZGV4ID0gX3RoaXMkX2dldEhvcml6b250YWxSMlswXSxcbiAgICAgICAgICAgICAgX292ZXJzY2FuQ29sdW1uU3RvcEluZGV4ID0gX3RoaXMkX2dldEhvcml6b250YWxSMlsxXSxcbiAgICAgICAgICAgICAgX3Zpc2libGVDb2x1bW5TdGFydEluZGV4ID0gX3RoaXMkX2dldEhvcml6b250YWxSMlsyXSxcbiAgICAgICAgICAgICAgX3Zpc2libGVDb2x1bW5TdG9wSW5kZXggPSBfdGhpcyRfZ2V0SG9yaXpvbnRhbFIyWzNdO1xuXG4gICAgICAgICAgdmFyIF90aGlzJF9nZXRWZXJ0aWNhbFJhbjIgPSB0aGlzLl9nZXRWZXJ0aWNhbFJhbmdlVG9SZW5kZXIoKSxcbiAgICAgICAgICAgICAgX292ZXJzY2FuUm93U3RhcnRJbmRleCA9IF90aGlzJF9nZXRWZXJ0aWNhbFJhbjJbMF0sXG4gICAgICAgICAgICAgIF9vdmVyc2NhblJvd1N0b3BJbmRleCA9IF90aGlzJF9nZXRWZXJ0aWNhbFJhbjJbMV0sXG4gICAgICAgICAgICAgIF92aXNpYmxlUm93U3RhcnRJbmRleCA9IF90aGlzJF9nZXRWZXJ0aWNhbFJhbjJbMl0sXG4gICAgICAgICAgICAgIF92aXNpYmxlUm93U3RvcEluZGV4ID0gX3RoaXMkX2dldFZlcnRpY2FsUmFuMlszXTtcblxuICAgICAgICAgIHRoaXMuX2NhbGxPbkl0ZW1zUmVuZGVyZWQoX292ZXJzY2FuQ29sdW1uU3RhcnRJbmRleCwgX292ZXJzY2FuQ29sdW1uU3RvcEluZGV4LCBfb3ZlcnNjYW5Sb3dTdGFydEluZGV4LCBfb3ZlcnNjYW5Sb3dTdG9wSW5kZXgsIF92aXNpYmxlQ29sdW1uU3RhcnRJbmRleCwgX3Zpc2libGVDb2x1bW5TdG9wSW5kZXgsIF92aXNpYmxlUm93U3RhcnRJbmRleCwgX3Zpc2libGVSb3dTdG9wSW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygb25TY3JvbGwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdmFyIF90aGlzJHN0YXRlMyA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICBfaG9yaXpvbnRhbFNjcm9sbERpcmVjdGlvbiA9IF90aGlzJHN0YXRlMy5ob3Jpem9udGFsU2Nyb2xsRGlyZWN0aW9uLFxuICAgICAgICAgICAgX3Njcm9sbExlZnQgPSBfdGhpcyRzdGF0ZTMuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIF9zY3JvbGxUb3AgPSBfdGhpcyRzdGF0ZTMuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgX3Njcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZCA9IF90aGlzJHN0YXRlMy5zY3JvbGxVcGRhdGVXYXNSZXF1ZXN0ZWQsXG4gICAgICAgICAgICBfdmVydGljYWxTY3JvbGxEaXJlY3Rpb24gPSBfdGhpcyRzdGF0ZTMudmVydGljYWxTY3JvbGxEaXJlY3Rpb247XG5cbiAgICAgICAgdGhpcy5fY2FsbE9uU2Nyb2xsKF9zY3JvbGxMZWZ0LCBfc2Nyb2xsVG9wLCBfaG9yaXpvbnRhbFNjcm9sbERpcmVjdGlvbiwgX3ZlcnRpY2FsU2Nyb2xsRGlyZWN0aW9uLCBfc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkKTtcbiAgICAgIH1cbiAgICB9OyAvLyBMYXppbHkgY3JlYXRlIGFuZCBjYWNoZSBpdGVtIHN0eWxlcyB3aGlsZSBzY3JvbGxpbmcsXG4gICAgLy8gU28gdGhhdCBwdXJlIGNvbXBvbmVudCBzQ1Ugd2lsbCBwcmV2ZW50IHJlLXJlbmRlcnMuXG4gICAgLy8gV2UgbWFpbnRhaW4gdGhpcyBjYWNoZSwgYW5kIHBhc3MgYSBzdHlsZSBwcm9wIHJhdGhlciB0aGFuIGluZGV4LFxuICAgIC8vIFNvIHRoYXQgTGlzdCBjYW4gY2xlYXIgY2FjaGVkIHN0eWxlcyBhbmQgZm9yY2UgaXRlbSByZS1yZW5kZXIgaWYgbmVjZXNzYXJ5LlxuXG5cbiAgICBfcHJvdG8uX2dldEhvcml6b250YWxSYW5nZVRvUmVuZGVyID0gZnVuY3Rpb24gX2dldEhvcml6b250YWxSYW5nZVRvUmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgY29sdW1uQ291bnQgPSBfdGhpcyRwcm9wczYuY29sdW1uQ291bnQsXG4gICAgICAgICAgb3ZlcnNjYW5Db2x1bW5Db3VudCA9IF90aGlzJHByb3BzNi5vdmVyc2NhbkNvbHVtbkNvdW50LFxuICAgICAgICAgIG92ZXJzY2FuQ29sdW1uc0NvdW50ID0gX3RoaXMkcHJvcHM2Lm92ZXJzY2FuQ29sdW1uc0NvdW50LFxuICAgICAgICAgIG92ZXJzY2FuQ291bnQgPSBfdGhpcyRwcm9wczYub3ZlcnNjYW5Db3VudCxcbiAgICAgICAgICByb3dDb3VudCA9IF90aGlzJHByb3BzNi5yb3dDb3VudDtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZTQgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGhvcml6b250YWxTY3JvbGxEaXJlY3Rpb24gPSBfdGhpcyRzdGF0ZTQuaG9yaXpvbnRhbFNjcm9sbERpcmVjdGlvbixcbiAgICAgICAgICBpc1Njcm9sbGluZyA9IF90aGlzJHN0YXRlNC5pc1Njcm9sbGluZyxcbiAgICAgICAgICBzY3JvbGxMZWZ0ID0gX3RoaXMkc3RhdGU0LnNjcm9sbExlZnQ7XG4gICAgICB2YXIgb3ZlcnNjYW5Db3VudFJlc29sdmVkID0gb3ZlcnNjYW5Db2x1bW5Db3VudCB8fCBvdmVyc2NhbkNvbHVtbnNDb3VudCB8fCBvdmVyc2NhbkNvdW50IHx8IDE7XG5cbiAgICAgIGlmIChjb2x1bW5Db3VudCA9PT0gMCB8fCByb3dDb3VudCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gWzAsIDAsIDAsIDBdO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhcnRJbmRleCA9IGdldENvbHVtblN0YXJ0SW5kZXhGb3JPZmZzZXQodGhpcy5wcm9wcywgc2Nyb2xsTGVmdCwgdGhpcy5faW5zdGFuY2VQcm9wcyk7XG4gICAgICB2YXIgc3RvcEluZGV4ID0gZ2V0Q29sdW1uU3RvcEluZGV4Rm9yU3RhcnRJbmRleCh0aGlzLnByb3BzLCBzdGFydEluZGV4LCBzY3JvbGxMZWZ0LCB0aGlzLl9pbnN0YW5jZVByb3BzKTsgLy8gT3ZlcnNjYW4gYnkgb25lIGl0ZW0gaW4gZWFjaCBkaXJlY3Rpb24gc28gdGhhdCB0YWIvZm9jdXMgd29ya3MuXG4gICAgICAvLyBJZiB0aGVyZSBpc24ndCBhdCBsZWFzdCBvbmUgZXh0cmEgaXRlbSwgdGFiIGxvb3BzIGJhY2sgYXJvdW5kLlxuXG4gICAgICB2YXIgb3ZlcnNjYW5CYWNrd2FyZCA9ICFpc1Njcm9sbGluZyB8fCBob3Jpem9udGFsU2Nyb2xsRGlyZWN0aW9uID09PSAnYmFja3dhcmQnID8gTWF0aC5tYXgoMSwgb3ZlcnNjYW5Db3VudFJlc29sdmVkKSA6IDE7XG4gICAgICB2YXIgb3ZlcnNjYW5Gb3J3YXJkID0gIWlzU2Nyb2xsaW5nIHx8IGhvcml6b250YWxTY3JvbGxEaXJlY3Rpb24gPT09ICdmb3J3YXJkJyA/IE1hdGgubWF4KDEsIG92ZXJzY2FuQ291bnRSZXNvbHZlZCkgOiAxO1xuICAgICAgcmV0dXJuIFtNYXRoLm1heCgwLCBzdGFydEluZGV4IC0gb3ZlcnNjYW5CYWNrd2FyZCksIE1hdGgubWF4KDAsIE1hdGgubWluKGNvbHVtbkNvdW50IC0gMSwgc3RvcEluZGV4ICsgb3ZlcnNjYW5Gb3J3YXJkKSksIHN0YXJ0SW5kZXgsIHN0b3BJbmRleF07XG4gICAgfTtcblxuICAgIF9wcm90by5fZ2V0VmVydGljYWxSYW5nZVRvUmVuZGVyID0gZnVuY3Rpb24gX2dldFZlcnRpY2FsUmFuZ2VUb1JlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczcgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNvbHVtbkNvdW50ID0gX3RoaXMkcHJvcHM3LmNvbHVtbkNvdW50LFxuICAgICAgICAgIG92ZXJzY2FuQ291bnQgPSBfdGhpcyRwcm9wczcub3ZlcnNjYW5Db3VudCxcbiAgICAgICAgICBvdmVyc2NhblJvd0NvdW50ID0gX3RoaXMkcHJvcHM3Lm92ZXJzY2FuUm93Q291bnQsXG4gICAgICAgICAgb3ZlcnNjYW5Sb3dzQ291bnQgPSBfdGhpcyRwcm9wczcub3ZlcnNjYW5Sb3dzQ291bnQsXG4gICAgICAgICAgcm93Q291bnQgPSBfdGhpcyRwcm9wczcucm93Q291bnQ7XG4gICAgICB2YXIgX3RoaXMkc3RhdGU1ID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBpc1Njcm9sbGluZyA9IF90aGlzJHN0YXRlNS5pc1Njcm9sbGluZyxcbiAgICAgICAgICB2ZXJ0aWNhbFNjcm9sbERpcmVjdGlvbiA9IF90aGlzJHN0YXRlNS52ZXJ0aWNhbFNjcm9sbERpcmVjdGlvbixcbiAgICAgICAgICBzY3JvbGxUb3AgPSBfdGhpcyRzdGF0ZTUuc2Nyb2xsVG9wO1xuICAgICAgdmFyIG92ZXJzY2FuQ291bnRSZXNvbHZlZCA9IG92ZXJzY2FuUm93Q291bnQgfHwgb3ZlcnNjYW5Sb3dzQ291bnQgfHwgb3ZlcnNjYW5Db3VudCB8fCAxO1xuXG4gICAgICBpZiAoY29sdW1uQ291bnQgPT09IDAgfHwgcm93Q291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIFswLCAwLCAwLCAwXTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0YXJ0SW5kZXggPSBnZXRSb3dTdGFydEluZGV4Rm9yT2Zmc2V0KHRoaXMucHJvcHMsIHNjcm9sbFRvcCwgdGhpcy5faW5zdGFuY2VQcm9wcyk7XG4gICAgICB2YXIgc3RvcEluZGV4ID0gZ2V0Um93U3RvcEluZGV4Rm9yU3RhcnRJbmRleCh0aGlzLnByb3BzLCBzdGFydEluZGV4LCBzY3JvbGxUb3AsIHRoaXMuX2luc3RhbmNlUHJvcHMpOyAvLyBPdmVyc2NhbiBieSBvbmUgaXRlbSBpbiBlYWNoIGRpcmVjdGlvbiBzbyB0aGF0IHRhYi9mb2N1cyB3b3Jrcy5cbiAgICAgIC8vIElmIHRoZXJlIGlzbid0IGF0IGxlYXN0IG9uZSBleHRyYSBpdGVtLCB0YWIgbG9vcHMgYmFjayBhcm91bmQuXG5cbiAgICAgIHZhciBvdmVyc2NhbkJhY2t3YXJkID0gIWlzU2Nyb2xsaW5nIHx8IHZlcnRpY2FsU2Nyb2xsRGlyZWN0aW9uID09PSAnYmFja3dhcmQnID8gTWF0aC5tYXgoMSwgb3ZlcnNjYW5Db3VudFJlc29sdmVkKSA6IDE7XG4gICAgICB2YXIgb3ZlcnNjYW5Gb3J3YXJkID0gIWlzU2Nyb2xsaW5nIHx8IHZlcnRpY2FsU2Nyb2xsRGlyZWN0aW9uID09PSAnZm9yd2FyZCcgPyBNYXRoLm1heCgxLCBvdmVyc2NhbkNvdW50UmVzb2x2ZWQpIDogMTtcbiAgICAgIHJldHVybiBbTWF0aC5tYXgoMCwgc3RhcnRJbmRleCAtIG92ZXJzY2FuQmFja3dhcmQpLCBNYXRoLm1heCgwLCBNYXRoLm1pbihyb3dDb3VudCAtIDEsIHN0b3BJbmRleCArIG92ZXJzY2FuRm9yd2FyZCkpLCBzdGFydEluZGV4LCBzdG9wSW5kZXhdO1xuICAgIH07XG5cbiAgICByZXR1cm4gR3JpZDtcbiAgfShQdXJlQ29tcG9uZW50KSwgX2NsYXNzLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXJlY3Rpb246ICdsdHInLFxuICAgIGl0ZW1EYXRhOiB1bmRlZmluZWQsXG4gICAgdXNlSXNTY3JvbGxpbmc6IGZhbHNlXG4gIH0sIF90ZW1wO1xufVxuXG52YXIgdmFsaWRhdGVTaGFyZWRQcm9wcyA9IGZ1bmN0aW9uIHZhbGlkYXRlU2hhcmVkUHJvcHMoX3JlZjUsIF9yZWY2KSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWY1LmNoaWxkcmVuLFxuICAgICAgZGlyZWN0aW9uID0gX3JlZjUuZGlyZWN0aW9uLFxuICAgICAgaGVpZ2h0ID0gX3JlZjUuaGVpZ2h0LFxuICAgICAgaW5uZXJUYWdOYW1lID0gX3JlZjUuaW5uZXJUYWdOYW1lLFxuICAgICAgb3V0ZXJUYWdOYW1lID0gX3JlZjUub3V0ZXJUYWdOYW1lLFxuICAgICAgb3ZlcnNjYW5Db2x1bW5zQ291bnQgPSBfcmVmNS5vdmVyc2NhbkNvbHVtbnNDb3VudCxcbiAgICAgIG92ZXJzY2FuQ291bnQgPSBfcmVmNS5vdmVyc2NhbkNvdW50LFxuICAgICAgb3ZlcnNjYW5Sb3dzQ291bnQgPSBfcmVmNS5vdmVyc2NhblJvd3NDb3VudCxcbiAgICAgIHdpZHRoID0gX3JlZjUud2lkdGg7XG4gIHZhciBpbnN0YW5jZSA9IF9yZWY2Lmluc3RhbmNlO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKHR5cGVvZiBvdmVyc2NhbkNvdW50ID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKGRldldhcm5pbmdzT3ZlcnNjYW5Db3VudCAmJiAhZGV2V2FybmluZ3NPdmVyc2NhbkNvdW50LmhhcyhpbnN0YW5jZSkpIHtcbiAgICAgICAgZGV2V2FybmluZ3NPdmVyc2NhbkNvdW50LmFkZChpbnN0YW5jZSk7XG4gICAgICAgIGNvbnNvbGUud2FybignVGhlIG92ZXJzY2FuQ291bnQgcHJvcCBoYXMgYmVlbiBkZXByZWNhdGVkLiAnICsgJ1BsZWFzZSB1c2UgdGhlIG92ZXJzY2FuQ29sdW1uQ291bnQgYW5kIG92ZXJzY2FuUm93Q291bnQgcHJvcHMgaW5zdGVhZC4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG92ZXJzY2FuQ29sdW1uc0NvdW50ID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygb3ZlcnNjYW5Sb3dzQ291bnQgPT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoZGV2V2FybmluZ3NPdmVyc2NhblJvd3NDb2x1bW5zQ291bnQgJiYgIWRldldhcm5pbmdzT3ZlcnNjYW5Sb3dzQ29sdW1uc0NvdW50LmhhcyhpbnN0YW5jZSkpIHtcbiAgICAgICAgZGV2V2FybmluZ3NPdmVyc2NhblJvd3NDb2x1bW5zQ291bnQuYWRkKGluc3RhbmNlKTtcbiAgICAgICAgY29uc29sZS53YXJuKCdUaGUgb3ZlcnNjYW5Db2x1bW5zQ291bnQgYW5kIG92ZXJzY2FuUm93c0NvdW50IHByb3BzIGhhdmUgYmVlbiBkZXByZWNhdGVkLiAnICsgJ1BsZWFzZSB1c2UgdGhlIG92ZXJzY2FuQ29sdW1uQ291bnQgYW5kIG92ZXJzY2FuUm93Q291bnQgcHJvcHMgaW5zdGVhZC4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW5uZXJUYWdOYW1lICE9IG51bGwgfHwgb3V0ZXJUYWdOYW1lICE9IG51bGwpIHtcbiAgICAgIGlmIChkZXZXYXJuaW5nc1RhZ05hbWUgJiYgIWRldldhcm5pbmdzVGFnTmFtZS5oYXMoaW5zdGFuY2UpKSB7XG4gICAgICAgIGRldldhcm5pbmdzVGFnTmFtZS5hZGQoaW5zdGFuY2UpO1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBpbm5lclRhZ05hbWUgYW5kIG91dGVyVGFnTmFtZSBwcm9wcyBoYXZlIGJlZW4gZGVwcmVjYXRlZC4gJyArICdQbGVhc2UgdXNlIHRoZSBpbm5lckVsZW1lbnRUeXBlIGFuZCBvdXRlckVsZW1lbnRUeXBlIHByb3BzIGluc3RlYWQuJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIHRocm93IEVycm9yKCdBbiBpbnZhbGlkIFwiY2hpbGRyZW5cIiBwcm9wIGhhcyBiZWVuIHNwZWNpZmllZC4gJyArICdWYWx1ZSBzaG91bGQgYmUgYSBSZWFjdCBjb21wb25lbnQuICcgKyAoXCJcXFwiXCIgKyAoY2hpbGRyZW4gPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgY2hpbGRyZW4pICsgXCJcXFwiIHdhcyBzcGVjaWZpZWQuXCIpKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgY2FzZSAnbHRyJzpcbiAgICAgIGNhc2UgJ3J0bCc6XG4gICAgICAgIC8vIFZhbGlkIHZhbHVlc1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0FuIGludmFsaWQgXCJkaXJlY3Rpb25cIiBwcm9wIGhhcyBiZWVuIHNwZWNpZmllZC4gJyArICdWYWx1ZSBzaG91bGQgYmUgZWl0aGVyIFwibHRyXCIgb3IgXCJydGxcIi4gJyArIChcIlxcXCJcIiArIGRpcmVjdGlvbiArIFwiXFxcIiB3YXMgc3BlY2lmaWVkLlwiKSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB3aWR0aCAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IEVycm9yKCdBbiBpbnZhbGlkIFwid2lkdGhcIiBwcm9wIGhhcyBiZWVuIHNwZWNpZmllZC4gJyArICdHcmlkcyBtdXN0IHNwZWNpZnkgYSBudW1iZXIgZm9yIHdpZHRoLiAnICsgKFwiXFxcIlwiICsgKHdpZHRoID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIHdpZHRoKSArIFwiXFxcIiB3YXMgc3BlY2lmaWVkLlwiKSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBoZWlnaHQgIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBFcnJvcignQW4gaW52YWxpZCBcImhlaWdodFwiIHByb3AgaGFzIGJlZW4gc3BlY2lmaWVkLiAnICsgJ0dyaWRzIG11c3Qgc3BlY2lmeSBhIG51bWJlciBmb3IgaGVpZ2h0LiAnICsgKFwiXFxcIlwiICsgKGhlaWdodCA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBoZWlnaHQpICsgXCJcXFwiIHdhcyBzcGVjaWZpZWQuXCIpKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBERUZBVUxUX0VTVElNQVRFRF9JVEVNX1NJWkUgPSA1MDtcblxudmFyIGdldEVzdGltYXRlZFRvdGFsSGVpZ2h0ID0gZnVuY3Rpb24gZ2V0RXN0aW1hdGVkVG90YWxIZWlnaHQoX3JlZiwgX3JlZjIpIHtcbiAgdmFyIHJvd0NvdW50ID0gX3JlZi5yb3dDb3VudDtcbiAgdmFyIHJvd01ldGFkYXRhTWFwID0gX3JlZjIucm93TWV0YWRhdGFNYXAsXG4gICAgICBlc3RpbWF0ZWRSb3dIZWlnaHQgPSBfcmVmMi5lc3RpbWF0ZWRSb3dIZWlnaHQsXG4gICAgICBsYXN0TWVhc3VyZWRSb3dJbmRleCA9IF9yZWYyLmxhc3RNZWFzdXJlZFJvd0luZGV4O1xuICB2YXIgdG90YWxTaXplT2ZNZWFzdXJlZFJvd3MgPSAwOyAvLyBFZGdlIGNhc2UgY2hlY2sgZm9yIHdoZW4gdGhlIG51bWJlciBvZiBpdGVtcyBkZWNyZWFzZXMgd2hpbGUgYSBzY3JvbGwgaXMgaW4gcHJvZ3Jlc3MuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9idmF1Z2huL3JlYWN0LXdpbmRvdy9wdWxsLzEzOFxuXG4gIGlmIChsYXN0TWVhc3VyZWRSb3dJbmRleCA+PSByb3dDb3VudCkge1xuICAgIGxhc3RNZWFzdXJlZFJvd0luZGV4ID0gcm93Q291bnQgLSAxO1xuICB9XG5cbiAgaWYgKGxhc3RNZWFzdXJlZFJvd0luZGV4ID49IDApIHtcbiAgICB2YXIgaXRlbU1ldGFkYXRhID0gcm93TWV0YWRhdGFNYXBbbGFzdE1lYXN1cmVkUm93SW5kZXhdO1xuICAgIHRvdGFsU2l6ZU9mTWVhc3VyZWRSb3dzID0gaXRlbU1ldGFkYXRhLm9mZnNldCArIGl0ZW1NZXRhZGF0YS5zaXplO1xuICB9XG5cbiAgdmFyIG51bVVubWVhc3VyZWRJdGVtcyA9IHJvd0NvdW50IC0gbGFzdE1lYXN1cmVkUm93SW5kZXggLSAxO1xuICB2YXIgdG90YWxTaXplT2ZVbm1lYXN1cmVkSXRlbXMgPSBudW1Vbm1lYXN1cmVkSXRlbXMgKiBlc3RpbWF0ZWRSb3dIZWlnaHQ7XG4gIHJldHVybiB0b3RhbFNpemVPZk1lYXN1cmVkUm93cyArIHRvdGFsU2l6ZU9mVW5tZWFzdXJlZEl0ZW1zO1xufTtcblxudmFyIGdldEVzdGltYXRlZFRvdGFsV2lkdGggPSBmdW5jdGlvbiBnZXRFc3RpbWF0ZWRUb3RhbFdpZHRoKF9yZWYzLCBfcmVmNCkge1xuICB2YXIgY29sdW1uQ291bnQgPSBfcmVmMy5jb2x1bW5Db3VudDtcbiAgdmFyIGNvbHVtbk1ldGFkYXRhTWFwID0gX3JlZjQuY29sdW1uTWV0YWRhdGFNYXAsXG4gICAgICBlc3RpbWF0ZWRDb2x1bW5XaWR0aCA9IF9yZWY0LmVzdGltYXRlZENvbHVtbldpZHRoLFxuICAgICAgbGFzdE1lYXN1cmVkQ29sdW1uSW5kZXggPSBfcmVmNC5sYXN0TWVhc3VyZWRDb2x1bW5JbmRleDtcbiAgdmFyIHRvdGFsU2l6ZU9mTWVhc3VyZWRSb3dzID0gMDsgLy8gRWRnZSBjYXNlIGNoZWNrIGZvciB3aGVuIHRoZSBudW1iZXIgb2YgaXRlbXMgZGVjcmVhc2VzIHdoaWxlIGEgc2Nyb2xsIGlzIGluIHByb2dyZXNzLlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vYnZhdWdobi9yZWFjdC13aW5kb3cvcHVsbC8xMzhcblxuICBpZiAobGFzdE1lYXN1cmVkQ29sdW1uSW5kZXggPj0gY29sdW1uQ291bnQpIHtcbiAgICBsYXN0TWVhc3VyZWRDb2x1bW5JbmRleCA9IGNvbHVtbkNvdW50IC0gMTtcbiAgfVxuXG4gIGlmIChsYXN0TWVhc3VyZWRDb2x1bW5JbmRleCA+PSAwKSB7XG4gICAgdmFyIGl0ZW1NZXRhZGF0YSA9IGNvbHVtbk1ldGFkYXRhTWFwW2xhc3RNZWFzdXJlZENvbHVtbkluZGV4XTtcbiAgICB0b3RhbFNpemVPZk1lYXN1cmVkUm93cyA9IGl0ZW1NZXRhZGF0YS5vZmZzZXQgKyBpdGVtTWV0YWRhdGEuc2l6ZTtcbiAgfVxuXG4gIHZhciBudW1Vbm1lYXN1cmVkSXRlbXMgPSBjb2x1bW5Db3VudCAtIGxhc3RNZWFzdXJlZENvbHVtbkluZGV4IC0gMTtcbiAgdmFyIHRvdGFsU2l6ZU9mVW5tZWFzdXJlZEl0ZW1zID0gbnVtVW5tZWFzdXJlZEl0ZW1zICogZXN0aW1hdGVkQ29sdW1uV2lkdGg7XG4gIHJldHVybiB0b3RhbFNpemVPZk1lYXN1cmVkUm93cyArIHRvdGFsU2l6ZU9mVW5tZWFzdXJlZEl0ZW1zO1xufTtcblxudmFyIGdldEl0ZW1NZXRhZGF0YSA9IGZ1bmN0aW9uIGdldEl0ZW1NZXRhZGF0YShpdGVtVHlwZSwgcHJvcHMsIGluZGV4LCBpbnN0YW5jZVByb3BzKSB7XG4gIHZhciBpdGVtTWV0YWRhdGFNYXAsIGl0ZW1TaXplLCBsYXN0TWVhc3VyZWRJbmRleDtcblxuICBpZiAoaXRlbVR5cGUgPT09ICdjb2x1bW4nKSB7XG4gICAgaXRlbU1ldGFkYXRhTWFwID0gaW5zdGFuY2VQcm9wcy5jb2x1bW5NZXRhZGF0YU1hcDtcbiAgICBpdGVtU2l6ZSA9IHByb3BzLmNvbHVtbldpZHRoO1xuICAgIGxhc3RNZWFzdXJlZEluZGV4ID0gaW5zdGFuY2VQcm9wcy5sYXN0TWVhc3VyZWRDb2x1bW5JbmRleDtcbiAgfSBlbHNlIHtcbiAgICBpdGVtTWV0YWRhdGFNYXAgPSBpbnN0YW5jZVByb3BzLnJvd01ldGFkYXRhTWFwO1xuICAgIGl0ZW1TaXplID0gcHJvcHMucm93SGVpZ2h0O1xuICAgIGxhc3RNZWFzdXJlZEluZGV4ID0gaW5zdGFuY2VQcm9wcy5sYXN0TWVhc3VyZWRSb3dJbmRleDtcbiAgfVxuXG4gIGlmIChpbmRleCA+IGxhc3RNZWFzdXJlZEluZGV4KSB7XG4gICAgdmFyIG9mZnNldCA9IDA7XG5cbiAgICBpZiAobGFzdE1lYXN1cmVkSW5kZXggPj0gMCkge1xuICAgICAgdmFyIGl0ZW1NZXRhZGF0YSA9IGl0ZW1NZXRhZGF0YU1hcFtsYXN0TWVhc3VyZWRJbmRleF07XG4gICAgICBvZmZzZXQgPSBpdGVtTWV0YWRhdGEub2Zmc2V0ICsgaXRlbU1ldGFkYXRhLnNpemU7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IGxhc3RNZWFzdXJlZEluZGV4ICsgMTsgaSA8PSBpbmRleDsgaSsrKSB7XG4gICAgICB2YXIgc2l6ZSA9IGl0ZW1TaXplKGkpO1xuICAgICAgaXRlbU1ldGFkYXRhTWFwW2ldID0ge1xuICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgc2l6ZTogc2l6ZVxuICAgICAgfTtcbiAgICAgIG9mZnNldCArPSBzaXplO1xuICAgIH1cblxuICAgIGlmIChpdGVtVHlwZSA9PT0gJ2NvbHVtbicpIHtcbiAgICAgIGluc3RhbmNlUHJvcHMubGFzdE1lYXN1cmVkQ29sdW1uSW5kZXggPSBpbmRleDtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2VQcm9wcy5sYXN0TWVhc3VyZWRSb3dJbmRleCA9IGluZGV4O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpdGVtTWV0YWRhdGFNYXBbaW5kZXhdO1xufTtcblxudmFyIGZpbmROZWFyZXN0SXRlbSA9IGZ1bmN0aW9uIGZpbmROZWFyZXN0SXRlbShpdGVtVHlwZSwgcHJvcHMsIGluc3RhbmNlUHJvcHMsIG9mZnNldCkge1xuICB2YXIgaXRlbU1ldGFkYXRhTWFwLCBsYXN0TWVhc3VyZWRJbmRleDtcblxuICBpZiAoaXRlbVR5cGUgPT09ICdjb2x1bW4nKSB7XG4gICAgaXRlbU1ldGFkYXRhTWFwID0gaW5zdGFuY2VQcm9wcy5jb2x1bW5NZXRhZGF0YU1hcDtcbiAgICBsYXN0TWVhc3VyZWRJbmRleCA9IGluc3RhbmNlUHJvcHMubGFzdE1lYXN1cmVkQ29sdW1uSW5kZXg7XG4gIH0gZWxzZSB7XG4gICAgaXRlbU1ldGFkYXRhTWFwID0gaW5zdGFuY2VQcm9wcy5yb3dNZXRhZGF0YU1hcDtcbiAgICBsYXN0TWVhc3VyZWRJbmRleCA9IGluc3RhbmNlUHJvcHMubGFzdE1lYXN1cmVkUm93SW5kZXg7XG4gIH1cblxuICB2YXIgbGFzdE1lYXN1cmVkSXRlbU9mZnNldCA9IGxhc3RNZWFzdXJlZEluZGV4ID4gMCA/IGl0ZW1NZXRhZGF0YU1hcFtsYXN0TWVhc3VyZWRJbmRleF0ub2Zmc2V0IDogMDtcblxuICBpZiAobGFzdE1lYXN1cmVkSXRlbU9mZnNldCA+PSBvZmZzZXQpIHtcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IG1lYXN1cmVkIGl0ZW1zIHdpdGhpbiB0aGlzIHJhbmdlIGp1c3QgdXNlIGEgYmluYXJ5IHNlYXJjaCBhcyBpdCdzIGZhc3Rlci5cbiAgICByZXR1cm4gZmluZE5lYXJlc3RJdGVtQmluYXJ5U2VhcmNoKGl0ZW1UeXBlLCBwcm9wcywgaW5zdGFuY2VQcm9wcywgbGFzdE1lYXN1cmVkSW5kZXgsIDAsIG9mZnNldCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgd2UgaGF2ZW4ndCB5ZXQgbWVhc3VyZWQgdGhpcyBoaWdoLCBmYWxsYmFjayB0byBhbiBleHBvbmVudGlhbCBzZWFyY2ggd2l0aCBhbiBpbm5lciBiaW5hcnkgc2VhcmNoLlxuICAgIC8vIFRoZSBleHBvbmVudGlhbCBzZWFyY2ggYXZvaWRzIHByZS1jb21wdXRpbmcgc2l6ZXMgZm9yIHRoZSBmdWxsIHNldCBvZiBpdGVtcyBhcyBhIGJpbmFyeSBzZWFyY2ggd291bGQuXG4gICAgLy8gVGhlIG92ZXJhbGwgY29tcGxleGl0eSBmb3IgdGhpcyBhcHByb2FjaCBpcyBPKGxvZyBuKS5cbiAgICByZXR1cm4gZmluZE5lYXJlc3RJdGVtRXhwb25lbnRpYWxTZWFyY2goaXRlbVR5cGUsIHByb3BzLCBpbnN0YW5jZVByb3BzLCBNYXRoLm1heCgwLCBsYXN0TWVhc3VyZWRJbmRleCksIG9mZnNldCk7XG4gIH1cbn07XG5cbnZhciBmaW5kTmVhcmVzdEl0ZW1CaW5hcnlTZWFyY2ggPSBmdW5jdGlvbiBmaW5kTmVhcmVzdEl0ZW1CaW5hcnlTZWFyY2goaXRlbVR5cGUsIHByb3BzLCBpbnN0YW5jZVByb3BzLCBoaWdoLCBsb3csIG9mZnNldCkge1xuICB3aGlsZSAobG93IDw9IGhpZ2gpIHtcbiAgICB2YXIgbWlkZGxlID0gbG93ICsgTWF0aC5mbG9vcigoaGlnaCAtIGxvdykgLyAyKTtcbiAgICB2YXIgY3VycmVudE9mZnNldCA9IGdldEl0ZW1NZXRhZGF0YShpdGVtVHlwZSwgcHJvcHMsIG1pZGRsZSwgaW5zdGFuY2VQcm9wcykub2Zmc2V0O1xuXG4gICAgaWYgKGN1cnJlbnRPZmZzZXQgPT09IG9mZnNldCkge1xuICAgICAgcmV0dXJuIG1pZGRsZTtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRPZmZzZXQgPCBvZmZzZXQpIHtcbiAgICAgIGxvdyA9IG1pZGRsZSArIDE7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50T2Zmc2V0ID4gb2Zmc2V0KSB7XG4gICAgICBoaWdoID0gbWlkZGxlIC0gMTtcbiAgICB9XG4gIH1cblxuICBpZiAobG93ID4gMCkge1xuICAgIHJldHVybiBsb3cgLSAxO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAwO1xuICB9XG59O1xuXG52YXIgZmluZE5lYXJlc3RJdGVtRXhwb25lbnRpYWxTZWFyY2ggPSBmdW5jdGlvbiBmaW5kTmVhcmVzdEl0ZW1FeHBvbmVudGlhbFNlYXJjaChpdGVtVHlwZSwgcHJvcHMsIGluc3RhbmNlUHJvcHMsIGluZGV4LCBvZmZzZXQpIHtcbiAgdmFyIGl0ZW1Db3VudCA9IGl0ZW1UeXBlID09PSAnY29sdW1uJyA/IHByb3BzLmNvbHVtbkNvdW50IDogcHJvcHMucm93Q291bnQ7XG4gIHZhciBpbnRlcnZhbCA9IDE7XG5cbiAgd2hpbGUgKGluZGV4IDwgaXRlbUNvdW50ICYmIGdldEl0ZW1NZXRhZGF0YShpdGVtVHlwZSwgcHJvcHMsIGluZGV4LCBpbnN0YW5jZVByb3BzKS5vZmZzZXQgPCBvZmZzZXQpIHtcbiAgICBpbmRleCArPSBpbnRlcnZhbDtcbiAgICBpbnRlcnZhbCAqPSAyO1xuICB9XG5cbiAgcmV0dXJuIGZpbmROZWFyZXN0SXRlbUJpbmFyeVNlYXJjaChpdGVtVHlwZSwgcHJvcHMsIGluc3RhbmNlUHJvcHMsIE1hdGgubWluKGluZGV4LCBpdGVtQ291bnQgLSAxKSwgTWF0aC5mbG9vcihpbmRleCAvIDIpLCBvZmZzZXQpO1xufTtcblxudmFyIGdldE9mZnNldEZvckluZGV4QW5kQWxpZ25tZW50ID0gZnVuY3Rpb24gZ2V0T2Zmc2V0Rm9ySW5kZXhBbmRBbGlnbm1lbnQoaXRlbVR5cGUsIHByb3BzLCBpbmRleCwgYWxpZ24sIHNjcm9sbE9mZnNldCwgaW5zdGFuY2VQcm9wcywgc2Nyb2xsYmFyU2l6ZSkge1xuICB2YXIgc2l6ZSA9IGl0ZW1UeXBlID09PSAnY29sdW1uJyA/IHByb3BzLndpZHRoIDogcHJvcHMuaGVpZ2h0O1xuICB2YXIgaXRlbU1ldGFkYXRhID0gZ2V0SXRlbU1ldGFkYXRhKGl0ZW1UeXBlLCBwcm9wcywgaW5kZXgsIGluc3RhbmNlUHJvcHMpOyAvLyBHZXQgZXN0aW1hdGVkIHRvdGFsIHNpemUgYWZ0ZXIgSXRlbU1ldGFkYXRhIGlzIGNvbXB1dGVkLFxuICAvLyBUbyBlbnN1cmUgaXQgcmVmbGVjdHMgYWN0dWFsIG1lYXN1cmVtZW50cyBpbnN0ZWFkIG9mIGp1c3QgZXN0aW1hdGVzLlxuXG4gIHZhciBlc3RpbWF0ZWRUb3RhbFNpemUgPSBpdGVtVHlwZSA9PT0gJ2NvbHVtbicgPyBnZXRFc3RpbWF0ZWRUb3RhbFdpZHRoKHByb3BzLCBpbnN0YW5jZVByb3BzKSA6IGdldEVzdGltYXRlZFRvdGFsSGVpZ2h0KHByb3BzLCBpbnN0YW5jZVByb3BzKTtcbiAgdmFyIG1heE9mZnNldCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGVzdGltYXRlZFRvdGFsU2l6ZSAtIHNpemUsIGl0ZW1NZXRhZGF0YS5vZmZzZXQpKTtcbiAgdmFyIG1pbk9mZnNldCA9IE1hdGgubWF4KDAsIGl0ZW1NZXRhZGF0YS5vZmZzZXQgLSBzaXplICsgc2Nyb2xsYmFyU2l6ZSArIGl0ZW1NZXRhZGF0YS5zaXplKTtcblxuICBpZiAoYWxpZ24gPT09ICdzbWFydCcpIHtcbiAgICBpZiAoc2Nyb2xsT2Zmc2V0ID49IG1pbk9mZnNldCAtIHNpemUgJiYgc2Nyb2xsT2Zmc2V0IDw9IG1heE9mZnNldCArIHNpemUpIHtcbiAgICAgIGFsaWduID0gJ2F1dG8nO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGlnbiA9ICdjZW50ZXInO1xuICAgIH1cbiAgfVxuXG4gIHN3aXRjaCAoYWxpZ24pIHtcbiAgICBjYXNlICdzdGFydCc6XG4gICAgICByZXR1cm4gbWF4T2Zmc2V0O1xuXG4gICAgY2FzZSAnZW5kJzpcbiAgICAgIHJldHVybiBtaW5PZmZzZXQ7XG5cbiAgICBjYXNlICdjZW50ZXInOlxuICAgICAgcmV0dXJuIE1hdGgucm91bmQobWluT2Zmc2V0ICsgKG1heE9mZnNldCAtIG1pbk9mZnNldCkgLyAyKTtcblxuICAgIGNhc2UgJ2F1dG8nOlxuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAoc2Nyb2xsT2Zmc2V0ID49IG1pbk9mZnNldCAmJiBzY3JvbGxPZmZzZXQgPD0gbWF4T2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBzY3JvbGxPZmZzZXQ7XG4gICAgICB9IGVsc2UgaWYgKG1pbk9mZnNldCA+IG1heE9mZnNldCkge1xuICAgICAgICAvLyBCZWNhdXNlIHdlIG9ubHkgdGFrZSBpbnRvIGFjY291bnQgdGhlIHNjcm9sbGJhciBzaXplIHdoZW4gY2FsY3VsYXRpbmcgbWluT2Zmc2V0XG4gICAgICAgIC8vIHRoaXMgdmFsdWUgY2FuIGJlIGxhcmdlciB0aGFuIG1heE9mZnNldCB3aGVuIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3RcbiAgICAgICAgcmV0dXJuIG1pbk9mZnNldDtcbiAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsT2Zmc2V0IDwgbWluT2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBtaW5PZmZzZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbWF4T2Zmc2V0O1xuICAgICAgfVxuXG4gIH1cbn07XG5cbnZhciBWYXJpYWJsZVNpemVHcmlkID1cbi8qI19fUFVSRV9fKi9cbmNyZWF0ZUdyaWRDb21wb25lbnQoe1xuICBnZXRDb2x1bW5PZmZzZXQ6IGZ1bmN0aW9uIGdldENvbHVtbk9mZnNldChwcm9wcywgaW5kZXgsIGluc3RhbmNlUHJvcHMpIHtcbiAgICByZXR1cm4gZ2V0SXRlbU1ldGFkYXRhKCdjb2x1bW4nLCBwcm9wcywgaW5kZXgsIGluc3RhbmNlUHJvcHMpLm9mZnNldDtcbiAgfSxcbiAgZ2V0Q29sdW1uU3RhcnRJbmRleEZvck9mZnNldDogZnVuY3Rpb24gZ2V0Q29sdW1uU3RhcnRJbmRleEZvck9mZnNldChwcm9wcywgc2Nyb2xsTGVmdCwgaW5zdGFuY2VQcm9wcykge1xuICAgIHJldHVybiBmaW5kTmVhcmVzdEl0ZW0oJ2NvbHVtbicsIHByb3BzLCBpbnN0YW5jZVByb3BzLCBzY3JvbGxMZWZ0KTtcbiAgfSxcbiAgZ2V0Q29sdW1uU3RvcEluZGV4Rm9yU3RhcnRJbmRleDogZnVuY3Rpb24gZ2V0Q29sdW1uU3RvcEluZGV4Rm9yU3RhcnRJbmRleChwcm9wcywgc3RhcnRJbmRleCwgc2Nyb2xsTGVmdCwgaW5zdGFuY2VQcm9wcykge1xuICAgIHZhciBjb2x1bW5Db3VudCA9IHByb3BzLmNvbHVtbkNvdW50LFxuICAgICAgICB3aWR0aCA9IHByb3BzLndpZHRoO1xuICAgIHZhciBpdGVtTWV0YWRhdGEgPSBnZXRJdGVtTWV0YWRhdGEoJ2NvbHVtbicsIHByb3BzLCBzdGFydEluZGV4LCBpbnN0YW5jZVByb3BzKTtcbiAgICB2YXIgbWF4T2Zmc2V0ID0gc2Nyb2xsTGVmdCArIHdpZHRoO1xuICAgIHZhciBvZmZzZXQgPSBpdGVtTWV0YWRhdGEub2Zmc2V0ICsgaXRlbU1ldGFkYXRhLnNpemU7XG4gICAgdmFyIHN0b3BJbmRleCA9IHN0YXJ0SW5kZXg7XG5cbiAgICB3aGlsZSAoc3RvcEluZGV4IDwgY29sdW1uQ291bnQgLSAxICYmIG9mZnNldCA8IG1heE9mZnNldCkge1xuICAgICAgc3RvcEluZGV4Kys7XG4gICAgICBvZmZzZXQgKz0gZ2V0SXRlbU1ldGFkYXRhKCdjb2x1bW4nLCBwcm9wcywgc3RvcEluZGV4LCBpbnN0YW5jZVByb3BzKS5zaXplO1xuICAgIH1cblxuICAgIHJldHVybiBzdG9wSW5kZXg7XG4gIH0sXG4gIGdldENvbHVtbldpZHRoOiBmdW5jdGlvbiBnZXRDb2x1bW5XaWR0aChwcm9wcywgaW5kZXgsIGluc3RhbmNlUHJvcHMpIHtcbiAgICByZXR1cm4gaW5zdGFuY2VQcm9wcy5jb2x1bW5NZXRhZGF0YU1hcFtpbmRleF0uc2l6ZTtcbiAgfSxcbiAgZ2V0RXN0aW1hdGVkVG90YWxIZWlnaHQ6IGdldEVzdGltYXRlZFRvdGFsSGVpZ2h0LFxuICBnZXRFc3RpbWF0ZWRUb3RhbFdpZHRoOiBnZXRFc3RpbWF0ZWRUb3RhbFdpZHRoLFxuICBnZXRPZmZzZXRGb3JDb2x1bW5BbmRBbGlnbm1lbnQ6IGZ1bmN0aW9uIGdldE9mZnNldEZvckNvbHVtbkFuZEFsaWdubWVudChwcm9wcywgaW5kZXgsIGFsaWduLCBzY3JvbGxPZmZzZXQsIGluc3RhbmNlUHJvcHMsIHNjcm9sbGJhclNpemUpIHtcbiAgICByZXR1cm4gZ2V0T2Zmc2V0Rm9ySW5kZXhBbmRBbGlnbm1lbnQoJ2NvbHVtbicsIHByb3BzLCBpbmRleCwgYWxpZ24sIHNjcm9sbE9mZnNldCwgaW5zdGFuY2VQcm9wcywgc2Nyb2xsYmFyU2l6ZSk7XG4gIH0sXG4gIGdldE9mZnNldEZvclJvd0FuZEFsaWdubWVudDogZnVuY3Rpb24gZ2V0T2Zmc2V0Rm9yUm93QW5kQWxpZ25tZW50KHByb3BzLCBpbmRleCwgYWxpZ24sIHNjcm9sbE9mZnNldCwgaW5zdGFuY2VQcm9wcywgc2Nyb2xsYmFyU2l6ZSkge1xuICAgIHJldHVybiBnZXRPZmZzZXRGb3JJbmRleEFuZEFsaWdubWVudCgncm93JywgcHJvcHMsIGluZGV4LCBhbGlnbiwgc2Nyb2xsT2Zmc2V0LCBpbnN0YW5jZVByb3BzLCBzY3JvbGxiYXJTaXplKTtcbiAgfSxcbiAgZ2V0Um93T2Zmc2V0OiBmdW5jdGlvbiBnZXRSb3dPZmZzZXQocHJvcHMsIGluZGV4LCBpbnN0YW5jZVByb3BzKSB7XG4gICAgcmV0dXJuIGdldEl0ZW1NZXRhZGF0YSgncm93JywgcHJvcHMsIGluZGV4LCBpbnN0YW5jZVByb3BzKS5vZmZzZXQ7XG4gIH0sXG4gIGdldFJvd0hlaWdodDogZnVuY3Rpb24gZ2V0Um93SGVpZ2h0KHByb3BzLCBpbmRleCwgaW5zdGFuY2VQcm9wcykge1xuICAgIHJldHVybiBpbnN0YW5jZVByb3BzLnJvd01ldGFkYXRhTWFwW2luZGV4XS5zaXplO1xuICB9LFxuICBnZXRSb3dTdGFydEluZGV4Rm9yT2Zmc2V0OiBmdW5jdGlvbiBnZXRSb3dTdGFydEluZGV4Rm9yT2Zmc2V0KHByb3BzLCBzY3JvbGxUb3AsIGluc3RhbmNlUHJvcHMpIHtcbiAgICByZXR1cm4gZmluZE5lYXJlc3RJdGVtKCdyb3cnLCBwcm9wcywgaW5zdGFuY2VQcm9wcywgc2Nyb2xsVG9wKTtcbiAgfSxcbiAgZ2V0Um93U3RvcEluZGV4Rm9yU3RhcnRJbmRleDogZnVuY3Rpb24gZ2V0Um93U3RvcEluZGV4Rm9yU3RhcnRJbmRleChwcm9wcywgc3RhcnRJbmRleCwgc2Nyb2xsVG9wLCBpbnN0YW5jZVByb3BzKSB7XG4gICAgdmFyIHJvd0NvdW50ID0gcHJvcHMucm93Q291bnQsXG4gICAgICAgIGhlaWdodCA9IHByb3BzLmhlaWdodDtcbiAgICB2YXIgaXRlbU1ldGFkYXRhID0gZ2V0SXRlbU1ldGFkYXRhKCdyb3cnLCBwcm9wcywgc3RhcnRJbmRleCwgaW5zdGFuY2VQcm9wcyk7XG4gICAgdmFyIG1heE9mZnNldCA9IHNjcm9sbFRvcCArIGhlaWdodDtcbiAgICB2YXIgb2Zmc2V0ID0gaXRlbU1ldGFkYXRhLm9mZnNldCArIGl0ZW1NZXRhZGF0YS5zaXplO1xuICAgIHZhciBzdG9wSW5kZXggPSBzdGFydEluZGV4O1xuXG4gICAgd2hpbGUgKHN0b3BJbmRleCA8IHJvd0NvdW50IC0gMSAmJiBvZmZzZXQgPCBtYXhPZmZzZXQpIHtcbiAgICAgIHN0b3BJbmRleCsrO1xuICAgICAgb2Zmc2V0ICs9IGdldEl0ZW1NZXRhZGF0YSgncm93JywgcHJvcHMsIHN0b3BJbmRleCwgaW5zdGFuY2VQcm9wcykuc2l6ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RvcEluZGV4O1xuICB9LFxuICBpbml0SW5zdGFuY2VQcm9wczogZnVuY3Rpb24gaW5pdEluc3RhbmNlUHJvcHMocHJvcHMsIGluc3RhbmNlKSB7XG4gICAgdmFyIF9yZWY1ID0gcHJvcHMsXG4gICAgICAgIGVzdGltYXRlZENvbHVtbldpZHRoID0gX3JlZjUuZXN0aW1hdGVkQ29sdW1uV2lkdGgsXG4gICAgICAgIGVzdGltYXRlZFJvd0hlaWdodCA9IF9yZWY1LmVzdGltYXRlZFJvd0hlaWdodDtcbiAgICB2YXIgaW5zdGFuY2VQcm9wcyA9IHtcbiAgICAgIGNvbHVtbk1ldGFkYXRhTWFwOiB7fSxcbiAgICAgIGVzdGltYXRlZENvbHVtbldpZHRoOiBlc3RpbWF0ZWRDb2x1bW5XaWR0aCB8fCBERUZBVUxUX0VTVElNQVRFRF9JVEVNX1NJWkUsXG4gICAgICBlc3RpbWF0ZWRSb3dIZWlnaHQ6IGVzdGltYXRlZFJvd0hlaWdodCB8fCBERUZBVUxUX0VTVElNQVRFRF9JVEVNX1NJWkUsXG4gICAgICBsYXN0TWVhc3VyZWRDb2x1bW5JbmRleDogLTEsXG4gICAgICBsYXN0TWVhc3VyZWRSb3dJbmRleDogLTEsXG4gICAgICByb3dNZXRhZGF0YU1hcDoge31cbiAgICB9O1xuXG4gICAgaW5zdGFuY2UucmVzZXRBZnRlckNvbHVtbkluZGV4ID0gZnVuY3Rpb24gKGNvbHVtbkluZGV4LCBzaG91bGRGb3JjZVVwZGF0ZSkge1xuICAgICAgaWYgKHNob3VsZEZvcmNlVXBkYXRlID09PSB2b2lkIDApIHtcbiAgICAgICAgc2hvdWxkRm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpbnN0YW5jZS5yZXNldEFmdGVySW5kaWNlcyh7XG4gICAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleCxcbiAgICAgICAgc2hvdWxkRm9yY2VVcGRhdGU6IHNob3VsZEZvcmNlVXBkYXRlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgaW5zdGFuY2UucmVzZXRBZnRlclJvd0luZGV4ID0gZnVuY3Rpb24gKHJvd0luZGV4LCBzaG91bGRGb3JjZVVwZGF0ZSkge1xuICAgICAgaWYgKHNob3VsZEZvcmNlVXBkYXRlID09PSB2b2lkIDApIHtcbiAgICAgICAgc2hvdWxkRm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpbnN0YW5jZS5yZXNldEFmdGVySW5kaWNlcyh7XG4gICAgICAgIHJvd0luZGV4OiByb3dJbmRleCxcbiAgICAgICAgc2hvdWxkRm9yY2VVcGRhdGU6IHNob3VsZEZvcmNlVXBkYXRlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgaW5zdGFuY2UucmVzZXRBZnRlckluZGljZXMgPSBmdW5jdGlvbiAoX3JlZjYpIHtcbiAgICAgIHZhciBjb2x1bW5JbmRleCA9IF9yZWY2LmNvbHVtbkluZGV4LFxuICAgICAgICAgIHJvd0luZGV4ID0gX3JlZjYucm93SW5kZXgsXG4gICAgICAgICAgX3JlZjYkc2hvdWxkRm9yY2VVcGRhID0gX3JlZjYuc2hvdWxkRm9yY2VVcGRhdGUsXG4gICAgICAgICAgc2hvdWxkRm9yY2VVcGRhdGUgPSBfcmVmNiRzaG91bGRGb3JjZVVwZGEgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmNiRzaG91bGRGb3JjZVVwZGE7XG5cbiAgICAgIGlmICh0eXBlb2YgY29sdW1uSW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgIGluc3RhbmNlUHJvcHMubGFzdE1lYXN1cmVkQ29sdW1uSW5kZXggPSBNYXRoLm1pbihpbnN0YW5jZVByb3BzLmxhc3RNZWFzdXJlZENvbHVtbkluZGV4LCBjb2x1bW5JbmRleCAtIDEpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHJvd0luZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgICBpbnN0YW5jZVByb3BzLmxhc3RNZWFzdXJlZFJvd0luZGV4ID0gTWF0aC5taW4oaW5zdGFuY2VQcm9wcy5sYXN0TWVhc3VyZWRSb3dJbmRleCwgcm93SW5kZXggLSAxKTtcbiAgICAgIH0gLy8gV2UgY291bGQgcG90ZW50aWFsbHkgb3B0aW1pemUgZnVydGhlciBieSBvbmx5IGV2aWN0aW5nIHN0eWxlcyBhZnRlciB0aGlzIGluZGV4LFxuICAgICAgLy8gQnV0IHNpbmNlIHN0eWxlcyBhcmUgb25seSBjYWNoZWQgd2hpbGUgc2Nyb2xsaW5nIGlzIGluIHByb2dyZXNzLVxuICAgICAgLy8gSXQgc2VlbXMgYW4gdW5uZWNlc3Nhcnkgb3B0aW1pemF0aW9uLlxuICAgICAgLy8gSXQncyB1bmxpa2VseSB0aGF0IHJlc2V0QWZ0ZXJJbmRleCgpIHdpbGwgYmUgY2FsbGVkIHdoaWxlIGEgdXNlciBpcyBzY3JvbGxpbmcuXG5cblxuICAgICAgaW5zdGFuY2UuX2dldEl0ZW1TdHlsZUNhY2hlKC0xKTtcblxuICAgICAgaWYgKHNob3VsZEZvcmNlVXBkYXRlKSB7XG4gICAgICAgIGluc3RhbmNlLmZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBpbnN0YW5jZVByb3BzO1xuICB9LFxuICBzaG91bGRSZXNldFN0eWxlQ2FjaGVPbkl0ZW1TaXplQ2hhbmdlOiBmYWxzZSxcbiAgdmFsaWRhdGVQcm9wczogZnVuY3Rpb24gdmFsaWRhdGVQcm9wcyhfcmVmNykge1xuICAgIHZhciBjb2x1bW5XaWR0aCA9IF9yZWY3LmNvbHVtbldpZHRoLFxuICAgICAgICByb3dIZWlnaHQgPSBfcmVmNy5yb3dIZWlnaHQ7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiBjb2x1bW5XaWR0aCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBFcnJvcignQW4gaW52YWxpZCBcImNvbHVtbldpZHRoXCIgcHJvcCBoYXMgYmVlbiBzcGVjaWZpZWQuICcgKyAnVmFsdWUgc2hvdWxkIGJlIGEgZnVuY3Rpb24uICcgKyAoXCJcXFwiXCIgKyAoY29sdW1uV2lkdGggPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgY29sdW1uV2lkdGgpICsgXCJcXFwiIHdhcyBzcGVjaWZpZWQuXCIpKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJvd0hlaWdodCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBFcnJvcignQW4gaW52YWxpZCBcInJvd0hlaWdodFwiIHByb3AgaGFzIGJlZW4gc3BlY2lmaWVkLiAnICsgJ1ZhbHVlIHNob3VsZCBiZSBhIGZ1bmN0aW9uLiAnICsgKFwiXFxcIlwiICsgKHJvd0hlaWdodCA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiByb3dIZWlnaHQpICsgXCJcXFwiIHdhcyBzcGVjaWZpZWQuXCIpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG52YXIgSVNfU0NST0xMSU5HX0RFQk9VTkNFX0lOVEVSVkFMJDEgPSAxNTA7XG5cbnZhciBkZWZhdWx0SXRlbUtleSQxID0gZnVuY3Rpb24gZGVmYXVsdEl0ZW1LZXkoaW5kZXgsIGRhdGEpIHtcbiAgcmV0dXJuIGluZGV4O1xufTsgLy8gSW4gREVWIG1vZGUsIHRoaXMgU2V0IGhlbHBzIHVzIG9ubHkgbG9nIGEgd2FybmluZyBvbmNlIHBlciBjb21wb25lbnQgaW5zdGFuY2UuXG4vLyBUaGlzIGF2b2lkcyBzcGFtbWluZyB0aGUgY29uc29sZSBldmVyeSB0aW1lIGEgcmVuZGVyIGhhcHBlbnMuXG5cblxudmFyIGRldldhcm5pbmdzRGlyZWN0aW9uID0gbnVsbDtcbnZhciBkZXZXYXJuaW5nc1RhZ05hbWUkMSA9IG51bGw7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LldlYWtTZXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgZGV2V2FybmluZ3NEaXJlY3Rpb24gPVxuICAgIC8qI19fUFVSRV9fKi9cbiAgICBuZXcgV2Vha1NldCgpO1xuICAgIGRldldhcm5pbmdzVGFnTmFtZSQxID1cbiAgICAvKiNfX1BVUkVfXyovXG4gICAgbmV3IFdlYWtTZXQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVMaXN0Q29tcG9uZW50KF9yZWYpIHtcbiAgdmFyIF9jbGFzcywgX3RlbXA7XG5cbiAgdmFyIGdldEl0ZW1PZmZzZXQgPSBfcmVmLmdldEl0ZW1PZmZzZXQsXG4gICAgICBnZXRFc3RpbWF0ZWRUb3RhbFNpemUgPSBfcmVmLmdldEVzdGltYXRlZFRvdGFsU2l6ZSxcbiAgICAgIGdldEl0ZW1TaXplID0gX3JlZi5nZXRJdGVtU2l6ZSxcbiAgICAgIGdldE9mZnNldEZvckluZGV4QW5kQWxpZ25tZW50ID0gX3JlZi5nZXRPZmZzZXRGb3JJbmRleEFuZEFsaWdubWVudCxcbiAgICAgIGdldFN0YXJ0SW5kZXhGb3JPZmZzZXQgPSBfcmVmLmdldFN0YXJ0SW5kZXhGb3JPZmZzZXQsXG4gICAgICBnZXRTdG9wSW5kZXhGb3JTdGFydEluZGV4ID0gX3JlZi5nZXRTdG9wSW5kZXhGb3JTdGFydEluZGV4LFxuICAgICAgaW5pdEluc3RhbmNlUHJvcHMgPSBfcmVmLmluaXRJbnN0YW5jZVByb3BzLFxuICAgICAgc2hvdWxkUmVzZXRTdHlsZUNhY2hlT25JdGVtU2l6ZUNoYW5nZSA9IF9yZWYuc2hvdWxkUmVzZXRTdHlsZUNhY2hlT25JdGVtU2l6ZUNoYW5nZSxcbiAgICAgIHZhbGlkYXRlUHJvcHMgPSBfcmVmLnZhbGlkYXRlUHJvcHM7XG4gIHJldHVybiBfdGVtcCA9IF9jbGFzcyA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKF9QdXJlQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzTG9vc2UoTGlzdCwgX1B1cmVDb21wb25lbnQpO1xuXG4gICAgLy8gQWx3YXlzIHVzZSBleHBsaWNpdCBjb25zdHJ1Y3RvciBmb3IgUmVhY3QgY29tcG9uZW50cy5cbiAgICAvLyBJdCBwcm9kdWNlcyBsZXNzIGNvZGUgYWZ0ZXIgdHJhbnNwaWxhdGlvbi4gKCMyNilcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1jb25zdHJ1Y3RvclxuICAgIGZ1bmN0aW9uIExpc3QocHJvcHMpIHtcbiAgICAgIHZhciBfdGhpcztcblxuICAgICAgX3RoaXMgPSBfUHVyZUNvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xuICAgICAgX3RoaXMuX2luc3RhbmNlUHJvcHMgPSBpbml0SW5zdGFuY2VQcm9wcyhfdGhpcy5wcm9wcywgX2Fzc2VydFRoaXNJbml0aWFsaXplZChfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSkpO1xuICAgICAgX3RoaXMuX291dGVyUmVmID0gdm9pZCAwO1xuICAgICAgX3RoaXMuX3Jlc2V0SXNTY3JvbGxpbmdUaW1lb3V0SWQgPSBudWxsO1xuICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgIGluc3RhbmNlOiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpKSxcbiAgICAgICAgaXNTY3JvbGxpbmc6IGZhbHNlLFxuICAgICAgICBzY3JvbGxEaXJlY3Rpb246ICdmb3J3YXJkJyxcbiAgICAgICAgc2Nyb2xsT2Zmc2V0OiB0eXBlb2YgX3RoaXMucHJvcHMuaW5pdGlhbFNjcm9sbE9mZnNldCA9PT0gJ251bWJlcicgPyBfdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsT2Zmc2V0IDogMCxcbiAgICAgICAgc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkOiBmYWxzZVxuICAgICAgfTtcbiAgICAgIF90aGlzLl9jYWxsT25JdGVtc1JlbmRlcmVkID0gdm9pZCAwO1xuICAgICAgX3RoaXMuX2NhbGxPbkl0ZW1zUmVuZGVyZWQgPSBtZW1vaXplT25lKGZ1bmN0aW9uIChvdmVyc2NhblN0YXJ0SW5kZXgsIG92ZXJzY2FuU3RvcEluZGV4LCB2aXNpYmxlU3RhcnRJbmRleCwgdmlzaWJsZVN0b3BJbmRleCkge1xuICAgICAgICByZXR1cm4gX3RoaXMucHJvcHMub25JdGVtc1JlbmRlcmVkKHtcbiAgICAgICAgICBvdmVyc2NhblN0YXJ0SW5kZXg6IG92ZXJzY2FuU3RhcnRJbmRleCxcbiAgICAgICAgICBvdmVyc2NhblN0b3BJbmRleDogb3ZlcnNjYW5TdG9wSW5kZXgsXG4gICAgICAgICAgdmlzaWJsZVN0YXJ0SW5kZXg6IHZpc2libGVTdGFydEluZGV4LFxuICAgICAgICAgIHZpc2libGVTdG9wSW5kZXg6IHZpc2libGVTdG9wSW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIF90aGlzLl9jYWxsT25TY3JvbGwgPSB2b2lkIDA7XG4gICAgICBfdGhpcy5fY2FsbE9uU2Nyb2xsID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAoc2Nyb2xsRGlyZWN0aW9uLCBzY3JvbGxPZmZzZXQsIHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZCkge1xuICAgICAgICByZXR1cm4gX3RoaXMucHJvcHMub25TY3JvbGwoe1xuICAgICAgICAgIHNjcm9sbERpcmVjdGlvbjogc2Nyb2xsRGlyZWN0aW9uLFxuICAgICAgICAgIHNjcm9sbE9mZnNldDogc2Nyb2xsT2Zmc2V0LFxuICAgICAgICAgIHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZDogc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBfdGhpcy5fZ2V0SXRlbVN0eWxlID0gdm9pZCAwO1xuXG4gICAgICBfdGhpcy5fZ2V0SXRlbVN0eWxlID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgZGlyZWN0aW9uID0gX3RoaXMkcHJvcHMuZGlyZWN0aW9uLFxuICAgICAgICAgICAgaXRlbVNpemUgPSBfdGhpcyRwcm9wcy5pdGVtU2l6ZSxcbiAgICAgICAgICAgIGxheW91dCA9IF90aGlzJHByb3BzLmxheW91dDtcblxuICAgICAgICB2YXIgaXRlbVN0eWxlQ2FjaGUgPSBfdGhpcy5fZ2V0SXRlbVN0eWxlQ2FjaGUoc2hvdWxkUmVzZXRTdHlsZUNhY2hlT25JdGVtU2l6ZUNoYW5nZSAmJiBpdGVtU2l6ZSwgc2hvdWxkUmVzZXRTdHlsZUNhY2hlT25JdGVtU2l6ZUNoYW5nZSAmJiBsYXlvdXQsIHNob3VsZFJlc2V0U3R5bGVDYWNoZU9uSXRlbVNpemVDaGFuZ2UgJiYgZGlyZWN0aW9uKTtcblxuICAgICAgICB2YXIgc3R5bGU7XG5cbiAgICAgICAgaWYgKGl0ZW1TdHlsZUNhY2hlLmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICAgIHN0eWxlID0gaXRlbVN0eWxlQ2FjaGVbaW5kZXhdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBfc3R5bGU7XG5cbiAgICAgICAgICB2YXIgX29mZnNldCA9IGdldEl0ZW1PZmZzZXQoX3RoaXMucHJvcHMsIGluZGV4LCBfdGhpcy5faW5zdGFuY2VQcm9wcyk7XG5cbiAgICAgICAgICB2YXIgc2l6ZSA9IGdldEl0ZW1TaXplKF90aGlzLnByb3BzLCBpbmRleCwgX3RoaXMuX2luc3RhbmNlUHJvcHMpOyAvLyBUT0RPIERlcHJlY2F0ZSBkaXJlY3Rpb24gXCJob3Jpem9udGFsXCJcblxuICAgICAgICAgIHZhciBpc0hvcml6b250YWwgPSBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyB8fCBsYXlvdXQgPT09ICdob3Jpem9udGFsJztcbiAgICAgICAgICBpdGVtU3R5bGVDYWNoZVtpbmRleF0gPSBzdHlsZSA9IChfc3R5bGUgPSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgICAgICAgIH0sIF9zdHlsZVtkaXJlY3Rpb24gPT09ICdydGwnID8gJ3JpZ2h0JyA6ICdsZWZ0J10gPSBpc0hvcml6b250YWwgPyBfb2Zmc2V0IDogMCwgX3N0eWxlLnRvcCA9ICFpc0hvcml6b250YWwgPyBfb2Zmc2V0IDogMCwgX3N0eWxlLmhlaWdodCA9ICFpc0hvcml6b250YWwgPyBzaXplIDogJzEwMCUnLCBfc3R5bGUud2lkdGggPSBpc0hvcml6b250YWwgPyBzaXplIDogJzEwMCUnLCBfc3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0eWxlO1xuICAgICAgfTtcblxuICAgICAgX3RoaXMuX2dldEl0ZW1TdHlsZUNhY2hlID0gdm9pZCAwO1xuICAgICAgX3RoaXMuX2dldEl0ZW1TdHlsZUNhY2hlID0gbWVtb2l6ZU9uZShmdW5jdGlvbiAoXywgX18sIF9fXykge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuX29uU2Nyb2xsSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX2V2ZW50JGN1cnJlbnRUYXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0LFxuICAgICAgICAgICAgY2xpZW50V2lkdGggPSBfZXZlbnQkY3VycmVudFRhcmdldC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgIHNjcm9sbExlZnQgPSBfZXZlbnQkY3VycmVudFRhcmdldC5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgc2Nyb2xsV2lkdGggPSBfZXZlbnQkY3VycmVudFRhcmdldC5zY3JvbGxXaWR0aDtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICAgICAgaWYgKHByZXZTdGF0ZS5zY3JvbGxPZmZzZXQgPT09IHNjcm9sbExlZnQpIHtcbiAgICAgICAgICAgIC8vIFNjcm9sbCBwb3NpdGlvbiBtYXkgaGF2ZSBiZWVuIHVwZGF0ZWQgYnkgY0RNL2NEVSxcbiAgICAgICAgICAgIC8vIEluIHdoaWNoIGNhc2Ugd2UgZG9uJ3QgbmVlZCB0byB0cmlnZ2VyIGFub3RoZXIgcmVuZGVyLFxuICAgICAgICAgICAgLy8gQW5kIHdlIGRvbid0IHdhbnQgdG8gdXBkYXRlIHN0YXRlLmlzU2Nyb2xsaW5nLlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IF90aGlzLnByb3BzLmRpcmVjdGlvbjtcbiAgICAgICAgICB2YXIgc2Nyb2xsT2Zmc2V0ID0gc2Nyb2xsTGVmdDtcblxuICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgICAgICAgICAvLyBUUklDS1kgQWNjb3JkaW5nIHRvIHRoZSBzcGVjLCBzY3JvbGxMZWZ0IHNob3VsZCBiZSBuZWdhdGl2ZSBmb3IgUlRMIGFsaWduZWQgZWxlbWVudHMuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIG5vdCB0aGUgY2FzZSBmb3IgYWxsIGJyb3dzZXJzIHRob3VnaCAoZS5nLiBDaHJvbWUgcmVwb3J0cyB2YWx1ZXMgYXMgcG9zaXRpdmUsIG1lYXN1cmVkIHJlbGF0aXZlIHRvIHRoZSBsZWZ0KS5cbiAgICAgICAgICAgIC8vIEl0J3MgYWxzbyBlYXNpZXIgZm9yIHRoaXMgY29tcG9uZW50IGlmIHdlIGNvbnZlcnQgb2Zmc2V0cyB0byB0aGUgc2FtZSBmb3JtYXQgYXMgdGhleSB3b3VsZCBiZSBpbiBmb3IgbHRyLlxuICAgICAgICAgICAgLy8gU28gdGhlIHNpbXBsZXN0IHNvbHV0aW9uIGlzIHRvIGRldGVybWluZSB3aGljaCBicm93c2VyIGJlaGF2aW9yIHdlJ3JlIGRlYWxpbmcgd2l0aCwgYW5kIGNvbnZlcnQgYmFzZWQgb24gaXQuXG4gICAgICAgICAgICBzd2l0Y2ggKGdldFJUTE9mZnNldFR5cGUoKSkge1xuICAgICAgICAgICAgICBjYXNlICduZWdhdGl2ZSc6XG4gICAgICAgICAgICAgICAgc2Nyb2xsT2Zmc2V0ID0gLXNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAncG9zaXRpdmUtZGVzY2VuZGluZyc6XG4gICAgICAgICAgICAgICAgc2Nyb2xsT2Zmc2V0ID0gc2Nyb2xsV2lkdGggLSBjbGllbnRXaWR0aCAtIHNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvLyBQcmV2ZW50IFNhZmFyaSdzIGVsYXN0aWMgc2Nyb2xsaW5nIGZyb20gY2F1c2luZyB2aXN1YWwgc2hha2luZyB3aGVuIHNjcm9sbGluZyBwYXN0IGJvdW5kcy5cblxuXG4gICAgICAgICAgc2Nyb2xsT2Zmc2V0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc2Nyb2xsT2Zmc2V0LCBzY3JvbGxXaWR0aCAtIGNsaWVudFdpZHRoKSk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlzU2Nyb2xsaW5nOiB0cnVlLFxuICAgICAgICAgICAgc2Nyb2xsRGlyZWN0aW9uOiBwcmV2U3RhdGUuc2Nyb2xsT2Zmc2V0IDwgc2Nyb2xsTGVmdCA/ICdmb3J3YXJkJyA6ICdiYWNrd2FyZCcsXG4gICAgICAgICAgICBzY3JvbGxPZmZzZXQ6IHNjcm9sbE9mZnNldCxcbiAgICAgICAgICAgIHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICB9LCBfdGhpcy5fcmVzZXRJc1Njcm9sbGluZ0RlYm91bmNlZCk7XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5fb25TY3JvbGxWZXJ0aWNhbCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX2V2ZW50JGN1cnJlbnRUYXJnZXQyID0gZXZlbnQuY3VycmVudFRhcmdldCxcbiAgICAgICAgICAgIGNsaWVudEhlaWdodCA9IF9ldmVudCRjdXJyZW50VGFyZ2V0Mi5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgICBzY3JvbGxIZWlnaHQgPSBfZXZlbnQkY3VycmVudFRhcmdldDIuc2Nyb2xsSGVpZ2h0LFxuICAgICAgICAgICAgc2Nyb2xsVG9wID0gX2V2ZW50JGN1cnJlbnRUYXJnZXQyLnNjcm9sbFRvcDtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICAgICAgaWYgKHByZXZTdGF0ZS5zY3JvbGxPZmZzZXQgPT09IHNjcm9sbFRvcCkge1xuICAgICAgICAgICAgLy8gU2Nyb2xsIHBvc2l0aW9uIG1heSBoYXZlIGJlZW4gdXBkYXRlZCBieSBjRE0vY0RVLFxuICAgICAgICAgICAgLy8gSW4gd2hpY2ggY2FzZSB3ZSBkb24ndCBuZWVkIHRvIHRyaWdnZXIgYW5vdGhlciByZW5kZXIsXG4gICAgICAgICAgICAvLyBBbmQgd2UgZG9uJ3Qgd2FudCB0byB1cGRhdGUgc3RhdGUuaXNTY3JvbGxpbmcuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9IC8vIFByZXZlbnQgU2FmYXJpJ3MgZWxhc3RpYyBzY3JvbGxpbmcgZnJvbSBjYXVzaW5nIHZpc3VhbCBzaGFraW5nIHdoZW4gc2Nyb2xsaW5nIHBhc3QgYm91bmRzLlxuXG5cbiAgICAgICAgICB2YXIgc2Nyb2xsT2Zmc2V0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc2Nyb2xsVG9wLCBzY3JvbGxIZWlnaHQgLSBjbGllbnRIZWlnaHQpKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaXNTY3JvbGxpbmc6IHRydWUsXG4gICAgICAgICAgICBzY3JvbGxEaXJlY3Rpb246IHByZXZTdGF0ZS5zY3JvbGxPZmZzZXQgPCBzY3JvbGxPZmZzZXQgPyAnZm9yd2FyZCcgOiAnYmFja3dhcmQnLFxuICAgICAgICAgICAgc2Nyb2xsT2Zmc2V0OiBzY3JvbGxPZmZzZXQsXG4gICAgICAgICAgICBzY3JvbGxVcGRhdGVXYXNSZXF1ZXN0ZWQ6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSwgX3RoaXMuX3Jlc2V0SXNTY3JvbGxpbmdEZWJvdW5jZWQpO1xuICAgICAgfTtcblxuICAgICAgX3RoaXMuX291dGVyUmVmU2V0dGVyID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgICB2YXIgb3V0ZXJSZWYgPSBfdGhpcy5wcm9wcy5vdXRlclJlZjtcbiAgICAgICAgX3RoaXMuX291dGVyUmVmID0gcmVmO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygb3V0ZXJSZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBvdXRlclJlZihyZWYpO1xuICAgICAgICB9IGVsc2UgaWYgKG91dGVyUmVmICE9IG51bGwgJiYgdHlwZW9mIG91dGVyUmVmID09PSAnb2JqZWN0JyAmJiBvdXRlclJlZi5oYXNPd25Qcm9wZXJ0eSgnY3VycmVudCcpKSB7XG4gICAgICAgICAgb3V0ZXJSZWYuY3VycmVudCA9IHJlZjtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgX3RoaXMuX3Jlc2V0SXNTY3JvbGxpbmdEZWJvdW5jZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy5fcmVzZXRJc1Njcm9sbGluZ1RpbWVvdXRJZCAhPT0gbnVsbCkge1xuICAgICAgICAgIGNhbmNlbFRpbWVvdXQoX3RoaXMuX3Jlc2V0SXNTY3JvbGxpbmdUaW1lb3V0SWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuX3Jlc2V0SXNTY3JvbGxpbmdUaW1lb3V0SWQgPSByZXF1ZXN0VGltZW91dChfdGhpcy5fcmVzZXRJc1Njcm9sbGluZywgSVNfU0NST0xMSU5HX0RFQk9VTkNFX0lOVEVSVkFMJDEpO1xuICAgICAgfTtcblxuICAgICAgX3RoaXMuX3Jlc2V0SXNTY3JvbGxpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLl9yZXNldElzU2Nyb2xsaW5nVGltZW91dElkID0gbnVsbDtcblxuICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNTY3JvbGxpbmc6IGZhbHNlXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBDbGVhciBzdHlsZSBjYWNoZSBhZnRlciBzdGF0ZSB1cGRhdGUgaGFzIGJlZW4gY29tbWl0dGVkLlxuICAgICAgICAgIC8vIFRoaXMgd2F5IHdlIGRvbid0IGJyZWFrIHB1cmUgc0NVIGZvciBpdGVtcyB0aGF0IGRvbid0IHVzZSBpc1Njcm9sbGluZyBwYXJhbS5cbiAgICAgICAgICBfdGhpcy5fZ2V0SXRlbVN0eWxlQ2FjaGUoLTEsIG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBMaXN0LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgdmFsaWRhdGVTaGFyZWRQcm9wcyQxKG5leHRQcm9wcywgcHJldlN0YXRlKTtcbiAgICAgIHZhbGlkYXRlUHJvcHMobmV4dFByb3BzKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgX3Byb3RvID0gTGlzdC5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uc2Nyb2xsVG8gPSBmdW5jdGlvbiBzY3JvbGxUbyhzY3JvbGxPZmZzZXQpIHtcbiAgICAgIHNjcm9sbE9mZnNldCA9IE1hdGgubWF4KDAsIHNjcm9sbE9mZnNldCk7XG4gICAgICB0aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgICAgaWYgKHByZXZTdGF0ZS5zY3JvbGxPZmZzZXQgPT09IHNjcm9sbE9mZnNldCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzY3JvbGxEaXJlY3Rpb246IHByZXZTdGF0ZS5zY3JvbGxPZmZzZXQgPCBzY3JvbGxPZmZzZXQgPyAnZm9yd2FyZCcgOiAnYmFja3dhcmQnLFxuICAgICAgICAgIHNjcm9sbE9mZnNldDogc2Nyb2xsT2Zmc2V0LFxuICAgICAgICAgIHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZDogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfSwgdGhpcy5fcmVzZXRJc1Njcm9sbGluZ0RlYm91bmNlZCk7XG4gICAgfTtcblxuICAgIF9wcm90by5zY3JvbGxUb0l0ZW0gPSBmdW5jdGlvbiBzY3JvbGxUb0l0ZW0oaW5kZXgsIGFsaWduKSB7XG4gICAgICBpZiAoYWxpZ24gPT09IHZvaWQgMCkge1xuICAgICAgICBhbGlnbiA9ICdhdXRvJztcbiAgICAgIH1cblxuICAgICAgdmFyIGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuaXRlbUNvdW50O1xuICAgICAgdmFyIHNjcm9sbE9mZnNldCA9IHRoaXMuc3RhdGUuc2Nyb2xsT2Zmc2V0O1xuICAgICAgaW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihpbmRleCwgaXRlbUNvdW50IC0gMSkpO1xuICAgICAgdGhpcy5zY3JvbGxUbyhnZXRPZmZzZXRGb3JJbmRleEFuZEFsaWdubWVudCh0aGlzLnByb3BzLCBpbmRleCwgYWxpZ24sIHNjcm9sbE9mZnNldCwgdGhpcy5faW5zdGFuY2VQcm9wcykpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGRpcmVjdGlvbiA9IF90aGlzJHByb3BzMi5kaXJlY3Rpb24sXG4gICAgICAgICAgaW5pdGlhbFNjcm9sbE9mZnNldCA9IF90aGlzJHByb3BzMi5pbml0aWFsU2Nyb2xsT2Zmc2V0LFxuICAgICAgICAgIGxheW91dCA9IF90aGlzJHByb3BzMi5sYXlvdXQ7XG5cbiAgICAgIGlmICh0eXBlb2YgaW5pdGlhbFNjcm9sbE9mZnNldCA9PT0gJ251bWJlcicgJiYgdGhpcy5fb3V0ZXJSZWYgIT0gbnVsbCkge1xuICAgICAgICB2YXIgb3V0ZXJSZWYgPSB0aGlzLl9vdXRlclJlZjsgLy8gVE9ETyBEZXByZWNhdGUgZGlyZWN0aW9uIFwiaG9yaXpvbnRhbFwiXG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnIHx8IGxheW91dCA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgb3V0ZXJSZWYuc2Nyb2xsTGVmdCA9IGluaXRpYWxTY3JvbGxPZmZzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ZXJSZWYuc2Nyb2xsVG9wID0gaW5pdGlhbFNjcm9sbE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9jYWxsUHJvcHNDYWxsYmFja3MoKTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGRpcmVjdGlvbiA9IF90aGlzJHByb3BzMy5kaXJlY3Rpb24sXG4gICAgICAgICAgbGF5b3V0ID0gX3RoaXMkcHJvcHMzLmxheW91dDtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgc2Nyb2xsT2Zmc2V0ID0gX3RoaXMkc3RhdGUuc2Nyb2xsT2Zmc2V0LFxuICAgICAgICAgIHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZCA9IF90aGlzJHN0YXRlLnNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZDtcblxuICAgICAgaWYgKHNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZCAmJiB0aGlzLl9vdXRlclJlZiAhPSBudWxsKSB7XG4gICAgICAgIHZhciBvdXRlclJlZiA9IHRoaXMuX291dGVyUmVmOyAvLyBUT0RPIERlcHJlY2F0ZSBkaXJlY3Rpb24gXCJob3Jpem9udGFsXCJcblxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgfHwgbGF5b3V0ID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAncnRsJykge1xuICAgICAgICAgICAgLy8gVFJJQ0tZIEFjY29yZGluZyB0byB0aGUgc3BlYywgc2Nyb2xsTGVmdCBzaG91bGQgYmUgbmVnYXRpdmUgZm9yIFJUTCBhbGlnbmVkIGVsZW1lbnRzLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBub3QgdGhlIGNhc2UgZm9yIGFsbCBicm93c2VycyB0aG91Z2ggKGUuZy4gQ2hyb21lIHJlcG9ydHMgdmFsdWVzIGFzIHBvc2l0aXZlLCBtZWFzdXJlZCByZWxhdGl2ZSB0byB0aGUgbGVmdCkuXG4gICAgICAgICAgICAvLyBTbyB3ZSBuZWVkIHRvIGRldGVybWluZSB3aGljaCBicm93c2VyIGJlaGF2aW9yIHdlJ3JlIGRlYWxpbmcgd2l0aCwgYW5kIG1pbWljIGl0LlxuICAgICAgICAgICAgc3dpdGNoIChnZXRSVExPZmZzZXRUeXBlKCkpIHtcbiAgICAgICAgICAgICAgY2FzZSAnbmVnYXRpdmUnOlxuICAgICAgICAgICAgICAgIG91dGVyUmVmLnNjcm9sbExlZnQgPSAtc2Nyb2xsT2Zmc2V0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgJ3Bvc2l0aXZlLWFzY2VuZGluZyc6XG4gICAgICAgICAgICAgICAgb3V0ZXJSZWYuc2Nyb2xsTGVmdCA9IHNjcm9sbE9mZnNldDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHZhciBjbGllbnRXaWR0aCA9IG91dGVyUmVmLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxXaWR0aCA9IG91dGVyUmVmLnNjcm9sbFdpZHRoO1xuICAgICAgICAgICAgICAgIG91dGVyUmVmLnNjcm9sbExlZnQgPSBzY3JvbGxXaWR0aCAtIGNsaWVudFdpZHRoIC0gc2Nyb2xsT2Zmc2V0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXRlclJlZi5zY3JvbGxMZWZ0ID0gc2Nyb2xsT2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXRlclJlZi5zY3JvbGxUb3AgPSBzY3JvbGxPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5fY2FsbFByb3BzQ2FsbGJhY2tzKCk7XG4gICAgfTtcblxuICAgIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgaWYgKHRoaXMuX3Jlc2V0SXNTY3JvbGxpbmdUaW1lb3V0SWQgIT09IG51bGwpIHtcbiAgICAgICAgY2FuY2VsVGltZW91dCh0aGlzLl9yZXNldElzU2Nyb2xsaW5nVGltZW91dElkKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHM0LmNoaWxkcmVuLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IF90aGlzJHByb3BzNC5jbGFzc05hbWUsXG4gICAgICAgICAgZGlyZWN0aW9uID0gX3RoaXMkcHJvcHM0LmRpcmVjdGlvbixcbiAgICAgICAgICBoZWlnaHQgPSBfdGhpcyRwcm9wczQuaGVpZ2h0LFxuICAgICAgICAgIGlubmVyUmVmID0gX3RoaXMkcHJvcHM0LmlubmVyUmVmLFxuICAgICAgICAgIGlubmVyRWxlbWVudFR5cGUgPSBfdGhpcyRwcm9wczQuaW5uZXJFbGVtZW50VHlwZSxcbiAgICAgICAgICBpbm5lclRhZ05hbWUgPSBfdGhpcyRwcm9wczQuaW5uZXJUYWdOYW1lLFxuICAgICAgICAgIGl0ZW1Db3VudCA9IF90aGlzJHByb3BzNC5pdGVtQ291bnQsXG4gICAgICAgICAgaXRlbURhdGEgPSBfdGhpcyRwcm9wczQuaXRlbURhdGEsXG4gICAgICAgICAgX3RoaXMkcHJvcHM0JGl0ZW1LZXkgPSBfdGhpcyRwcm9wczQuaXRlbUtleSxcbiAgICAgICAgICBpdGVtS2V5ID0gX3RoaXMkcHJvcHM0JGl0ZW1LZXkgPT09IHZvaWQgMCA/IGRlZmF1bHRJdGVtS2V5JDEgOiBfdGhpcyRwcm9wczQkaXRlbUtleSxcbiAgICAgICAgICBsYXlvdXQgPSBfdGhpcyRwcm9wczQubGF5b3V0LFxuICAgICAgICAgIG91dGVyRWxlbWVudFR5cGUgPSBfdGhpcyRwcm9wczQub3V0ZXJFbGVtZW50VHlwZSxcbiAgICAgICAgICBvdXRlclRhZ05hbWUgPSBfdGhpcyRwcm9wczQub3V0ZXJUYWdOYW1lLFxuICAgICAgICAgIHN0eWxlID0gX3RoaXMkcHJvcHM0LnN0eWxlLFxuICAgICAgICAgIHVzZUlzU2Nyb2xsaW5nID0gX3RoaXMkcHJvcHM0LnVzZUlzU2Nyb2xsaW5nLFxuICAgICAgICAgIHdpZHRoID0gX3RoaXMkcHJvcHM0LndpZHRoO1xuICAgICAgdmFyIGlzU2Nyb2xsaW5nID0gdGhpcy5zdGF0ZS5pc1Njcm9sbGluZzsgLy8gVE9ETyBEZXByZWNhdGUgZGlyZWN0aW9uIFwiaG9yaXpvbnRhbFwiXG5cbiAgICAgIHZhciBpc0hvcml6b250YWwgPSBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyB8fCBsYXlvdXQgPT09ICdob3Jpem9udGFsJztcbiAgICAgIHZhciBvblNjcm9sbCA9IGlzSG9yaXpvbnRhbCA/IHRoaXMuX29uU2Nyb2xsSG9yaXpvbnRhbCA6IHRoaXMuX29uU2Nyb2xsVmVydGljYWw7XG5cbiAgICAgIHZhciBfdGhpcyRfZ2V0UmFuZ2VUb1JlbmQgPSB0aGlzLl9nZXRSYW5nZVRvUmVuZGVyKCksXG4gICAgICAgICAgc3RhcnRJbmRleCA9IF90aGlzJF9nZXRSYW5nZVRvUmVuZFswXSxcbiAgICAgICAgICBzdG9wSW5kZXggPSBfdGhpcyRfZ2V0UmFuZ2VUb1JlbmRbMV07XG5cbiAgICAgIHZhciBpdGVtcyA9IFtdO1xuXG4gICAgICBpZiAoaXRlbUNvdW50ID4gMCkge1xuICAgICAgICBmb3IgKHZhciBfaW5kZXggPSBzdGFydEluZGV4OyBfaW5kZXggPD0gc3RvcEluZGV4OyBfaW5kZXgrKykge1xuICAgICAgICAgIGl0ZW1zLnB1c2goY3JlYXRlRWxlbWVudChjaGlsZHJlbiwge1xuICAgICAgICAgICAgZGF0YTogaXRlbURhdGEsXG4gICAgICAgICAgICBrZXk6IGl0ZW1LZXkoX2luZGV4LCBpdGVtRGF0YSksXG4gICAgICAgICAgICBpbmRleDogX2luZGV4LFxuICAgICAgICAgICAgaXNTY3JvbGxpbmc6IHVzZUlzU2Nyb2xsaW5nID8gaXNTY3JvbGxpbmcgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdHlsZTogdGhpcy5fZ2V0SXRlbVN0eWxlKF9pbmRleClcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0gLy8gUmVhZCB0aGlzIHZhbHVlIEFGVEVSIGl0ZW1zIGhhdmUgYmVlbiBjcmVhdGVkLFxuICAgICAgLy8gU28gdGhlaXIgYWN0dWFsIHNpemVzIChpZiB2YXJpYWJsZSkgYXJlIHRha2VuIGludG8gY29uc2lkZXJhdGlvbi5cblxuXG4gICAgICB2YXIgZXN0aW1hdGVkVG90YWxTaXplID0gZ2V0RXN0aW1hdGVkVG90YWxTaXplKHRoaXMucHJvcHMsIHRoaXMuX2luc3RhbmNlUHJvcHMpO1xuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQob3V0ZXJFbGVtZW50VHlwZSB8fCBvdXRlclRhZ05hbWUgfHwgJ2RpdicsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgICAgIG9uU2Nyb2xsOiBvblNjcm9sbCxcbiAgICAgICAgcmVmOiB0aGlzLl9vdXRlclJlZlNldHRlcixcbiAgICAgICAgc3R5bGU6IF9leHRlbmRzKHtcbiAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgb3ZlcmZsb3c6ICdhdXRvJyxcbiAgICAgICAgICBXZWJraXRPdmVyZmxvd1Njcm9sbGluZzogJ3RvdWNoJyxcbiAgICAgICAgICB3aWxsQ2hhbmdlOiAndHJhbnNmb3JtJyxcbiAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgICB9LCBzdHlsZSlcbiAgICAgIH0sIGNyZWF0ZUVsZW1lbnQoaW5uZXJFbGVtZW50VHlwZSB8fCBpbm5lclRhZ05hbWUgfHwgJ2RpdicsIHtcbiAgICAgICAgY2hpbGRyZW46IGl0ZW1zLFxuICAgICAgICByZWY6IGlubmVyUmVmLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGhlaWdodDogaXNIb3Jpem9udGFsID8gJzEwMCUnIDogZXN0aW1hdGVkVG90YWxTaXplLFxuICAgICAgICAgIHBvaW50ZXJFdmVudHM6IGlzU2Nyb2xsaW5nID8gJ25vbmUnIDogdW5kZWZpbmVkLFxuICAgICAgICAgIHdpZHRoOiBpc0hvcml6b250YWwgPyBlc3RpbWF0ZWRUb3RhbFNpemUgOiAnMTAwJSdcbiAgICAgICAgfVxuICAgICAgfSkpO1xuICAgIH07XG5cbiAgICBfcHJvdG8uX2NhbGxQcm9wc0NhbGxiYWNrcyA9IGZ1bmN0aW9uIF9jYWxsUHJvcHNDYWxsYmFja3MoKSB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMucHJvcHMub25JdGVtc1JlbmRlcmVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBpdGVtQ291bnQgPSB0aGlzLnByb3BzLml0ZW1Db3VudDtcblxuICAgICAgICBpZiAoaXRlbUNvdW50ID4gMCkge1xuICAgICAgICAgIHZhciBfdGhpcyRfZ2V0UmFuZ2VUb1JlbmQyID0gdGhpcy5fZ2V0UmFuZ2VUb1JlbmRlcigpLFxuICAgICAgICAgICAgICBfb3ZlcnNjYW5TdGFydEluZGV4ID0gX3RoaXMkX2dldFJhbmdlVG9SZW5kMlswXSxcbiAgICAgICAgICAgICAgX292ZXJzY2FuU3RvcEluZGV4ID0gX3RoaXMkX2dldFJhbmdlVG9SZW5kMlsxXSxcbiAgICAgICAgICAgICAgX3Zpc2libGVTdGFydEluZGV4ID0gX3RoaXMkX2dldFJhbmdlVG9SZW5kMlsyXSxcbiAgICAgICAgICAgICAgX3Zpc2libGVTdG9wSW5kZXggPSBfdGhpcyRfZ2V0UmFuZ2VUb1JlbmQyWzNdO1xuXG4gICAgICAgICAgdGhpcy5fY2FsbE9uSXRlbXNSZW5kZXJlZChfb3ZlcnNjYW5TdGFydEluZGV4LCBfb3ZlcnNjYW5TdG9wSW5kZXgsIF92aXNpYmxlU3RhcnRJbmRleCwgX3Zpc2libGVTdG9wSW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5vblNjcm9sbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIF9zY3JvbGxEaXJlY3Rpb24gPSBfdGhpcyRzdGF0ZTIuc2Nyb2xsRGlyZWN0aW9uLFxuICAgICAgICAgICAgX3Njcm9sbE9mZnNldCA9IF90aGlzJHN0YXRlMi5zY3JvbGxPZmZzZXQsXG4gICAgICAgICAgICBfc2Nyb2xsVXBkYXRlV2FzUmVxdWVzdGVkID0gX3RoaXMkc3RhdGUyLnNjcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZDtcblxuICAgICAgICB0aGlzLl9jYWxsT25TY3JvbGwoX3Njcm9sbERpcmVjdGlvbiwgX3Njcm9sbE9mZnNldCwgX3Njcm9sbFVwZGF0ZVdhc1JlcXVlc3RlZCk7XG4gICAgICB9XG4gICAgfTsgLy8gTGF6aWx5IGNyZWF0ZSBhbmQgY2FjaGUgaXRlbSBzdHlsZXMgd2hpbGUgc2Nyb2xsaW5nLFxuICAgIC8vIFNvIHRoYXQgcHVyZSBjb21wb25lbnQgc0NVIHdpbGwgcHJldmVudCByZS1yZW5kZXJzLlxuICAgIC8vIFdlIG1haW50YWluIHRoaXMgY2FjaGUsIGFuZCBwYXNzIGEgc3R5bGUgcHJvcCByYXRoZXIgdGhhbiBpbmRleCxcbiAgICAvLyBTbyB0aGF0IExpc3QgY2FuIGNsZWFyIGNhY2hlZCBzdHlsZXMgYW5kIGZvcmNlIGl0ZW0gcmUtcmVuZGVyIGlmIG5lY2Vzc2FyeS5cblxuXG4gICAgX3Byb3RvLl9nZXRSYW5nZVRvUmVuZGVyID0gZnVuY3Rpb24gX2dldFJhbmdlVG9SZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBpdGVtQ291bnQgPSBfdGhpcyRwcm9wczUuaXRlbUNvdW50LFxuICAgICAgICAgIG92ZXJzY2FuQ291bnQgPSBfdGhpcyRwcm9wczUub3ZlcnNjYW5Db3VudDtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZTMgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgIGlzU2Nyb2xsaW5nID0gX3RoaXMkc3RhdGUzLmlzU2Nyb2xsaW5nLFxuICAgICAgICAgIHNjcm9sbERpcmVjdGlvbiA9IF90aGlzJHN0YXRlMy5zY3JvbGxEaXJlY3Rpb24sXG4gICAgICAgICAgc2Nyb2xsT2Zmc2V0ID0gX3RoaXMkc3RhdGUzLnNjcm9sbE9mZnNldDtcblxuICAgICAgaWYgKGl0ZW1Db3VudCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gWzAsIDAsIDAsIDBdO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhcnRJbmRleCA9IGdldFN0YXJ0SW5kZXhGb3JPZmZzZXQodGhpcy5wcm9wcywgc2Nyb2xsT2Zmc2V0LCB0aGlzLl9pbnN0YW5jZVByb3BzKTtcbiAgICAgIHZhciBzdG9wSW5kZXggPSBnZXRTdG9wSW5kZXhGb3JTdGFydEluZGV4KHRoaXMucHJvcHMsIHN0YXJ0SW5kZXgsIHNjcm9sbE9mZnNldCwgdGhpcy5faW5zdGFuY2VQcm9wcyk7IC8vIE92ZXJzY2FuIGJ5IG9uZSBpdGVtIGluIGVhY2ggZGlyZWN0aW9uIHNvIHRoYXQgdGFiL2ZvY3VzIHdvcmtzLlxuICAgICAgLy8gSWYgdGhlcmUgaXNuJ3QgYXQgbGVhc3Qgb25lIGV4dHJhIGl0ZW0sIHRhYiBsb29wcyBiYWNrIGFyb3VuZC5cblxuICAgICAgdmFyIG92ZXJzY2FuQmFja3dhcmQgPSAhaXNTY3JvbGxpbmcgfHwgc2Nyb2xsRGlyZWN0aW9uID09PSAnYmFja3dhcmQnID8gTWF0aC5tYXgoMSwgb3ZlcnNjYW5Db3VudCkgOiAxO1xuICAgICAgdmFyIG92ZXJzY2FuRm9yd2FyZCA9ICFpc1Njcm9sbGluZyB8fCBzY3JvbGxEaXJlY3Rpb24gPT09ICdmb3J3YXJkJyA/IE1hdGgubWF4KDEsIG92ZXJzY2FuQ291bnQpIDogMTtcbiAgICAgIHJldHVybiBbTWF0aC5tYXgoMCwgc3RhcnRJbmRleCAtIG92ZXJzY2FuQmFja3dhcmQpLCBNYXRoLm1heCgwLCBNYXRoLm1pbihpdGVtQ291bnQgLSAxLCBzdG9wSW5kZXggKyBvdmVyc2NhbkZvcndhcmQpKSwgc3RhcnRJbmRleCwgc3RvcEluZGV4XTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIExpc3Q7XG4gIH0oUHVyZUNvbXBvbmVudCksIF9jbGFzcy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgZGlyZWN0aW9uOiAnbHRyJyxcbiAgICBpdGVtRGF0YTogdW5kZWZpbmVkLFxuICAgIGxheW91dDogJ3ZlcnRpY2FsJyxcbiAgICBvdmVyc2NhbkNvdW50OiAyLFxuICAgIHVzZUlzU2Nyb2xsaW5nOiBmYWxzZVxuICB9LCBfdGVtcDtcbn0gLy8gTk9URTogSSBjb25zaWRlcmVkIGZ1cnRoZXIgd3JhcHBpbmcgaW5kaXZpZHVhbCBpdGVtcyB3aXRoIGEgcHVyZSBMaXN0SXRlbSBjb21wb25lbnQuXG4vLyBUaGlzIHdvdWxkIGF2b2lkIGV2ZXIgY2FsbGluZyB0aGUgcmVuZGVyIGZ1bmN0aW9uIGZvciB0aGUgc2FtZSBpbmRleCBtb3JlIHRoYW4gb25jZSxcbi8vIEJ1dCBpdCB3b3VsZCBhbHNvIGFkZCB0aGUgb3ZlcmhlYWQgb2YgYSBsb3Qgb2YgY29tcG9uZW50cy9maWJlcnMuXG4vLyBJIGFzc3VtZSBwZW9wbGUgYWxyZWFkeSBkbyB0aGlzIChyZW5kZXIgZnVuY3Rpb24gcmV0dXJuaW5nIGEgY2xhc3MgY29tcG9uZW50KSxcbi8vIFNvIG15IGRvaW5nIGl0IHdvdWxkIGp1c3QgdW5uZWNlc3NhcmlseSBkb3VibGUgdGhlIHdyYXBwZXJzLlxuXG52YXIgdmFsaWRhdGVTaGFyZWRQcm9wcyQxID0gZnVuY3Rpb24gdmFsaWRhdGVTaGFyZWRQcm9wcyhfcmVmMiwgX3JlZjMpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZjIuY2hpbGRyZW4sXG4gICAgICBkaXJlY3Rpb24gPSBfcmVmMi5kaXJlY3Rpb24sXG4gICAgICBoZWlnaHQgPSBfcmVmMi5oZWlnaHQsXG4gICAgICBsYXlvdXQgPSBfcmVmMi5sYXlvdXQsXG4gICAgICBpbm5lclRhZ05hbWUgPSBfcmVmMi5pbm5lclRhZ05hbWUsXG4gICAgICBvdXRlclRhZ05hbWUgPSBfcmVmMi5vdXRlclRhZ05hbWUsXG4gICAgICB3aWR0aCA9IF9yZWYyLndpZHRoO1xuICB2YXIgaW5zdGFuY2UgPSBfcmVmMy5pbnN0YW5jZTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChpbm5lclRhZ05hbWUgIT0gbnVsbCB8fCBvdXRlclRhZ05hbWUgIT0gbnVsbCkge1xuICAgICAgaWYgKGRldldhcm5pbmdzVGFnTmFtZSQxICYmICFkZXZXYXJuaW5nc1RhZ05hbWUkMS5oYXMoaW5zdGFuY2UpKSB7XG4gICAgICAgIGRldldhcm5pbmdzVGFnTmFtZSQxLmFkZChpbnN0YW5jZSk7XG4gICAgICAgIGNvbnNvbGUud2FybignVGhlIGlubmVyVGFnTmFtZSBhbmQgb3V0ZXJUYWdOYW1lIHByb3BzIGhhdmUgYmVlbiBkZXByZWNhdGVkLiAnICsgJ1BsZWFzZSB1c2UgdGhlIGlubmVyRWxlbWVudFR5cGUgYW5kIG91dGVyRWxlbWVudFR5cGUgcHJvcHMgaW5zdGVhZC4nKTtcbiAgICAgIH1cbiAgICB9IC8vIFRPRE8gRGVwcmVjYXRlIGRpcmVjdGlvbiBcImhvcml6b250YWxcIlxuXG5cbiAgICB2YXIgaXNIb3Jpem9udGFsID0gZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgfHwgbGF5b3V0ID09PSAnaG9yaXpvbnRhbCc7XG5cbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgY2FzZSAnaG9yaXpvbnRhbCc6XG4gICAgICBjYXNlICd2ZXJ0aWNhbCc6XG4gICAgICAgIGlmIChkZXZXYXJuaW5nc0RpcmVjdGlvbiAmJiAhZGV2V2FybmluZ3NEaXJlY3Rpb24uaGFzKGluc3RhbmNlKSkge1xuICAgICAgICAgIGRldldhcm5pbmdzRGlyZWN0aW9uLmFkZChpbnN0YW5jZSk7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdUaGUgZGlyZWN0aW9uIHByb3Agc2hvdWxkIGJlIGVpdGhlciBcImx0clwiIChkZWZhdWx0KSBvciBcInJ0bFwiLiAnICsgJ1BsZWFzZSB1c2UgdGhlIGxheW91dCBwcm9wIHRvIHNwZWNpZnkgXCJ2ZXJ0aWNhbFwiIChkZWZhdWx0KSBvciBcImhvcml6b250YWxcIiBvcmllbnRhdGlvbi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdsdHInOlxuICAgICAgY2FzZSAncnRsJzpcbiAgICAgICAgLy8gVmFsaWQgdmFsdWVzXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBFcnJvcignQW4gaW52YWxpZCBcImRpcmVjdGlvblwiIHByb3AgaGFzIGJlZW4gc3BlY2lmaWVkLiAnICsgJ1ZhbHVlIHNob3VsZCBiZSBlaXRoZXIgXCJsdHJcIiBvciBcInJ0bFwiLiAnICsgKFwiXFxcIlwiICsgZGlyZWN0aW9uICsgXCJcXFwiIHdhcyBzcGVjaWZpZWQuXCIpKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGxheW91dCkge1xuICAgICAgY2FzZSAnaG9yaXpvbnRhbCc6XG4gICAgICBjYXNlICd2ZXJ0aWNhbCc6XG4gICAgICAgIC8vIFZhbGlkIHZhbHVlc1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0FuIGludmFsaWQgXCJsYXlvdXRcIiBwcm9wIGhhcyBiZWVuIHNwZWNpZmllZC4gJyArICdWYWx1ZSBzaG91bGQgYmUgZWl0aGVyIFwiaG9yaXpvbnRhbFwiIG9yIFwidmVydGljYWxcIi4gJyArIChcIlxcXCJcIiArIGxheW91dCArIFwiXFxcIiB3YXMgc3BlY2lmaWVkLlwiKSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIHRocm93IEVycm9yKCdBbiBpbnZhbGlkIFwiY2hpbGRyZW5cIiBwcm9wIGhhcyBiZWVuIHNwZWNpZmllZC4gJyArICdWYWx1ZSBzaG91bGQgYmUgYSBSZWFjdCBjb21wb25lbnQuICcgKyAoXCJcXFwiXCIgKyAoY2hpbGRyZW4gPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgY2hpbGRyZW4pICsgXCJcXFwiIHdhcyBzcGVjaWZpZWQuXCIpKTtcbiAgICB9XG5cbiAgICBpZiAoaXNIb3Jpem9udGFsICYmIHR5cGVvZiB3aWR0aCAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IEVycm9yKCdBbiBpbnZhbGlkIFwid2lkdGhcIiBwcm9wIGhhcyBiZWVuIHNwZWNpZmllZC4gJyArICdIb3Jpem9udGFsIGxpc3RzIG11c3Qgc3BlY2lmeSBhIG51bWJlciBmb3Igd2lkdGguICcgKyAoXCJcXFwiXCIgKyAod2lkdGggPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2Ygd2lkdGgpICsgXCJcXFwiIHdhcyBzcGVjaWZpZWQuXCIpKTtcbiAgICB9IGVsc2UgaWYgKCFpc0hvcml6b250YWwgJiYgdHlwZW9mIGhlaWdodCAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IEVycm9yKCdBbiBpbnZhbGlkIFwiaGVpZ2h0XCIgcHJvcCBoYXMgYmVlbiBzcGVjaWZpZWQuICcgKyAnVmVydGljYWwgbGlzdHMgbXVzdCBzcGVjaWZ5IGEgbnVtYmVyIGZvciBoZWlnaHQuICcgKyAoXCJcXFwiXCIgKyAoaGVpZ2h0ID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGhlaWdodCkgKyBcIlxcXCIgd2FzIHNwZWNpZmllZC5cIikpO1xuICAgIH1cbiAgfVxufTtcblxudmFyIERFRkFVTFRfRVNUSU1BVEVEX0lURU1fU0laRSQxID0gNTA7XG5cbnZhciBnZXRJdGVtTWV0YWRhdGEkMSA9IGZ1bmN0aW9uIGdldEl0ZW1NZXRhZGF0YShwcm9wcywgaW5kZXgsIGluc3RhbmNlUHJvcHMpIHtcbiAgdmFyIF9yZWYgPSBwcm9wcyxcbiAgICAgIGl0ZW1TaXplID0gX3JlZi5pdGVtU2l6ZTtcbiAgdmFyIGl0ZW1NZXRhZGF0YU1hcCA9IGluc3RhbmNlUHJvcHMuaXRlbU1ldGFkYXRhTWFwLFxuICAgICAgbGFzdE1lYXN1cmVkSW5kZXggPSBpbnN0YW5jZVByb3BzLmxhc3RNZWFzdXJlZEluZGV4O1xuXG4gIGlmIChpbmRleCA+IGxhc3RNZWFzdXJlZEluZGV4KSB7XG4gICAgdmFyIG9mZnNldCA9IDA7XG5cbiAgICBpZiAobGFzdE1lYXN1cmVkSW5kZXggPj0gMCkge1xuICAgICAgdmFyIGl0ZW1NZXRhZGF0YSA9IGl0ZW1NZXRhZGF0YU1hcFtsYXN0TWVhc3VyZWRJbmRleF07XG4gICAgICBvZmZzZXQgPSBpdGVtTWV0YWRhdGEub2Zmc2V0ICsgaXRlbU1ldGFkYXRhLnNpemU7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IGxhc3RNZWFzdXJlZEluZGV4ICsgMTsgaSA8PSBpbmRleDsgaSsrKSB7XG4gICAgICB2YXIgc2l6ZSA9IGl0ZW1TaXplKGkpO1xuICAgICAgaXRlbU1ldGFkYXRhTWFwW2ldID0ge1xuICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgc2l6ZTogc2l6ZVxuICAgICAgfTtcbiAgICAgIG9mZnNldCArPSBzaXplO1xuICAgIH1cblxuICAgIGluc3RhbmNlUHJvcHMubGFzdE1lYXN1cmVkSW5kZXggPSBpbmRleDtcbiAgfVxuXG4gIHJldHVybiBpdGVtTWV0YWRhdGFNYXBbaW5kZXhdO1xufTtcblxudmFyIGZpbmROZWFyZXN0SXRlbSQxID0gZnVuY3Rpb24gZmluZE5lYXJlc3RJdGVtKHByb3BzLCBpbnN0YW5jZVByb3BzLCBvZmZzZXQpIHtcbiAgdmFyIGl0ZW1NZXRhZGF0YU1hcCA9IGluc3RhbmNlUHJvcHMuaXRlbU1ldGFkYXRhTWFwLFxuICAgICAgbGFzdE1lYXN1cmVkSW5kZXggPSBpbnN0YW5jZVByb3BzLmxhc3RNZWFzdXJlZEluZGV4O1xuICB2YXIgbGFzdE1lYXN1cmVkSXRlbU9mZnNldCA9IGxhc3RNZWFzdXJlZEluZGV4ID4gMCA/IGl0ZW1NZXRhZGF0YU1hcFtsYXN0TWVhc3VyZWRJbmRleF0ub2Zmc2V0IDogMDtcblxuICBpZiAobGFzdE1lYXN1cmVkSXRlbU9mZnNldCA+PSBvZmZzZXQpIHtcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IG1lYXN1cmVkIGl0ZW1zIHdpdGhpbiB0aGlzIHJhbmdlIGp1c3QgdXNlIGEgYmluYXJ5IHNlYXJjaCBhcyBpdCdzIGZhc3Rlci5cbiAgICByZXR1cm4gZmluZE5lYXJlc3RJdGVtQmluYXJ5U2VhcmNoJDEocHJvcHMsIGluc3RhbmNlUHJvcHMsIGxhc3RNZWFzdXJlZEluZGV4LCAwLCBvZmZzZXQpO1xuICB9IGVsc2Uge1xuICAgIC8vIElmIHdlIGhhdmVuJ3QgeWV0IG1lYXN1cmVkIHRoaXMgaGlnaCwgZmFsbGJhY2sgdG8gYW4gZXhwb25lbnRpYWwgc2VhcmNoIHdpdGggYW4gaW5uZXIgYmluYXJ5IHNlYXJjaC5cbiAgICAvLyBUaGUgZXhwb25lbnRpYWwgc2VhcmNoIGF2b2lkcyBwcmUtY29tcHV0aW5nIHNpemVzIGZvciB0aGUgZnVsbCBzZXQgb2YgaXRlbXMgYXMgYSBiaW5hcnkgc2VhcmNoIHdvdWxkLlxuICAgIC8vIFRoZSBvdmVyYWxsIGNvbXBsZXhpdHkgZm9yIHRoaXMgYXBwcm9hY2ggaXMgTyhsb2cgbikuXG4gICAgcmV0dXJuIGZpbmROZWFyZXN0SXRlbUV4cG9uZW50aWFsU2VhcmNoJDEocHJvcHMsIGluc3RhbmNlUHJvcHMsIE1hdGgubWF4KDAsIGxhc3RNZWFzdXJlZEluZGV4KSwgb2Zmc2V0KTtcbiAgfVxufTtcblxudmFyIGZpbmROZWFyZXN0SXRlbUJpbmFyeVNlYXJjaCQxID0gZnVuY3Rpb24gZmluZE5lYXJlc3RJdGVtQmluYXJ5U2VhcmNoKHByb3BzLCBpbnN0YW5jZVByb3BzLCBoaWdoLCBsb3csIG9mZnNldCkge1xuICB3aGlsZSAobG93IDw9IGhpZ2gpIHtcbiAgICB2YXIgbWlkZGxlID0gbG93ICsgTWF0aC5mbG9vcigoaGlnaCAtIGxvdykgLyAyKTtcbiAgICB2YXIgY3VycmVudE9mZnNldCA9IGdldEl0ZW1NZXRhZGF0YSQxKHByb3BzLCBtaWRkbGUsIGluc3RhbmNlUHJvcHMpLm9mZnNldDtcblxuICAgIGlmIChjdXJyZW50T2Zmc2V0ID09PSBvZmZzZXQpIHtcbiAgICAgIHJldHVybiBtaWRkbGU7XG4gICAgfSBlbHNlIGlmIChjdXJyZW50T2Zmc2V0IDwgb2Zmc2V0KSB7XG4gICAgICBsb3cgPSBtaWRkbGUgKyAxO1xuICAgIH0gZWxzZSBpZiAoY3VycmVudE9mZnNldCA+IG9mZnNldCkge1xuICAgICAgaGlnaCA9IG1pZGRsZSAtIDE7XG4gICAgfVxuICB9XG5cbiAgaWYgKGxvdyA+IDApIHtcbiAgICByZXR1cm4gbG93IC0gMTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gMDtcbiAgfVxufTtcblxudmFyIGZpbmROZWFyZXN0SXRlbUV4cG9uZW50aWFsU2VhcmNoJDEgPSBmdW5jdGlvbiBmaW5kTmVhcmVzdEl0ZW1FeHBvbmVudGlhbFNlYXJjaChwcm9wcywgaW5zdGFuY2VQcm9wcywgaW5kZXgsIG9mZnNldCkge1xuICB2YXIgaXRlbUNvdW50ID0gcHJvcHMuaXRlbUNvdW50O1xuICB2YXIgaW50ZXJ2YWwgPSAxO1xuXG4gIHdoaWxlIChpbmRleCA8IGl0ZW1Db3VudCAmJiBnZXRJdGVtTWV0YWRhdGEkMShwcm9wcywgaW5kZXgsIGluc3RhbmNlUHJvcHMpLm9mZnNldCA8IG9mZnNldCkge1xuICAgIGluZGV4ICs9IGludGVydmFsO1xuICAgIGludGVydmFsICo9IDI7XG4gIH1cblxuICByZXR1cm4gZmluZE5lYXJlc3RJdGVtQmluYXJ5U2VhcmNoJDEocHJvcHMsIGluc3RhbmNlUHJvcHMsIE1hdGgubWluKGluZGV4LCBpdGVtQ291bnQgLSAxKSwgTWF0aC5mbG9vcihpbmRleCAvIDIpLCBvZmZzZXQpO1xufTtcblxudmFyIGdldEVzdGltYXRlZFRvdGFsU2l6ZSA9IGZ1bmN0aW9uIGdldEVzdGltYXRlZFRvdGFsU2l6ZShfcmVmMiwgX3JlZjMpIHtcbiAgdmFyIGl0ZW1Db3VudCA9IF9yZWYyLml0ZW1Db3VudDtcbiAgdmFyIGl0ZW1NZXRhZGF0YU1hcCA9IF9yZWYzLml0ZW1NZXRhZGF0YU1hcCxcbiAgICAgIGVzdGltYXRlZEl0ZW1TaXplID0gX3JlZjMuZXN0aW1hdGVkSXRlbVNpemUsXG4gICAgICBsYXN0TWVhc3VyZWRJbmRleCA9IF9yZWYzLmxhc3RNZWFzdXJlZEluZGV4O1xuICB2YXIgdG90YWxTaXplT2ZNZWFzdXJlZEl0ZW1zID0gMDsgLy8gRWRnZSBjYXNlIGNoZWNrIGZvciB3aGVuIHRoZSBudW1iZXIgb2YgaXRlbXMgZGVjcmVhc2VzIHdoaWxlIGEgc2Nyb2xsIGlzIGluIHByb2dyZXNzLlxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vYnZhdWdobi9yZWFjdC13aW5kb3cvcHVsbC8xMzhcblxuICBpZiAobGFzdE1lYXN1cmVkSW5kZXggPj0gaXRlbUNvdW50KSB7XG4gICAgbGFzdE1lYXN1cmVkSW5kZXggPSBpdGVtQ291bnQgLSAxO1xuICB9XG5cbiAgaWYgKGxhc3RNZWFzdXJlZEluZGV4ID49IDApIHtcbiAgICB2YXIgaXRlbU1ldGFkYXRhID0gaXRlbU1ldGFkYXRhTWFwW2xhc3RNZWFzdXJlZEluZGV4XTtcbiAgICB0b3RhbFNpemVPZk1lYXN1cmVkSXRlbXMgPSBpdGVtTWV0YWRhdGEub2Zmc2V0ICsgaXRlbU1ldGFkYXRhLnNpemU7XG4gIH1cblxuICB2YXIgbnVtVW5tZWFzdXJlZEl0ZW1zID0gaXRlbUNvdW50IC0gbGFzdE1lYXN1cmVkSW5kZXggLSAxO1xuICB2YXIgdG90YWxTaXplT2ZVbm1lYXN1cmVkSXRlbXMgPSBudW1Vbm1lYXN1cmVkSXRlbXMgKiBlc3RpbWF0ZWRJdGVtU2l6ZTtcbiAgcmV0dXJuIHRvdGFsU2l6ZU9mTWVhc3VyZWRJdGVtcyArIHRvdGFsU2l6ZU9mVW5tZWFzdXJlZEl0ZW1zO1xufTtcblxudmFyIFZhcmlhYmxlU2l6ZUxpc3QgPVxuLyojX19QVVJFX18qL1xuY3JlYXRlTGlzdENvbXBvbmVudCh7XG4gIGdldEl0ZW1PZmZzZXQ6IGZ1bmN0aW9uIGdldEl0ZW1PZmZzZXQocHJvcHMsIGluZGV4LCBpbnN0YW5jZVByb3BzKSB7XG4gICAgcmV0dXJuIGdldEl0ZW1NZXRhZGF0YSQxKHByb3BzLCBpbmRleCwgaW5zdGFuY2VQcm9wcykub2Zmc2V0O1xuICB9LFxuICBnZXRJdGVtU2l6ZTogZnVuY3Rpb24gZ2V0SXRlbVNpemUocHJvcHMsIGluZGV4LCBpbnN0YW5jZVByb3BzKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlUHJvcHMuaXRlbU1ldGFkYXRhTWFwW2luZGV4XS5zaXplO1xuICB9LFxuICBnZXRFc3RpbWF0ZWRUb3RhbFNpemU6IGdldEVzdGltYXRlZFRvdGFsU2l6ZSxcbiAgZ2V0T2Zmc2V0Rm9ySW5kZXhBbmRBbGlnbm1lbnQ6IGZ1bmN0aW9uIGdldE9mZnNldEZvckluZGV4QW5kQWxpZ25tZW50KHByb3BzLCBpbmRleCwgYWxpZ24sIHNjcm9sbE9mZnNldCwgaW5zdGFuY2VQcm9wcykge1xuICAgIHZhciBkaXJlY3Rpb24gPSBwcm9wcy5kaXJlY3Rpb24sXG4gICAgICAgIGhlaWdodCA9IHByb3BzLmhlaWdodCxcbiAgICAgICAgbGF5b3V0ID0gcHJvcHMubGF5b3V0LFxuICAgICAgICB3aWR0aCA9IHByb3BzLndpZHRoOyAvLyBUT0RPIERlcHJlY2F0ZSBkaXJlY3Rpb24gXCJob3Jpem9udGFsXCJcblxuICAgIHZhciBpc0hvcml6b250YWwgPSBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyB8fCBsYXlvdXQgPT09ICdob3Jpem9udGFsJztcbiAgICB2YXIgc2l6ZSA9IGlzSG9yaXpvbnRhbCA/IHdpZHRoIDogaGVpZ2h0O1xuICAgIHZhciBpdGVtTWV0YWRhdGEgPSBnZXRJdGVtTWV0YWRhdGEkMShwcm9wcywgaW5kZXgsIGluc3RhbmNlUHJvcHMpOyAvLyBHZXQgZXN0aW1hdGVkIHRvdGFsIHNpemUgYWZ0ZXIgSXRlbU1ldGFkYXRhIGlzIGNvbXB1dGVkLFxuICAgIC8vIFRvIGVuc3VyZSBpdCByZWZsZWN0cyBhY3R1YWwgbWVhc3VyZW1lbnRzIGluc3RlYWQgb2YganVzdCBlc3RpbWF0ZXMuXG5cbiAgICB2YXIgZXN0aW1hdGVkVG90YWxTaXplID0gZ2V0RXN0aW1hdGVkVG90YWxTaXplKHByb3BzLCBpbnN0YW5jZVByb3BzKTtcbiAgICB2YXIgbWF4T2Zmc2V0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZXN0aW1hdGVkVG90YWxTaXplIC0gc2l6ZSwgaXRlbU1ldGFkYXRhLm9mZnNldCkpO1xuICAgIHZhciBtaW5PZmZzZXQgPSBNYXRoLm1heCgwLCBpdGVtTWV0YWRhdGEub2Zmc2V0IC0gc2l6ZSArIGl0ZW1NZXRhZGF0YS5zaXplKTtcblxuICAgIGlmIChhbGlnbiA9PT0gJ3NtYXJ0Jykge1xuICAgICAgaWYgKHNjcm9sbE9mZnNldCA+PSBtaW5PZmZzZXQgLSBzaXplICYmIHNjcm9sbE9mZnNldCA8PSBtYXhPZmZzZXQgKyBzaXplKSB7XG4gICAgICAgIGFsaWduID0gJ2F1dG8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxpZ24gPSAnY2VudGVyJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgICBjYXNlICdzdGFydCc6XG4gICAgICAgIHJldHVybiBtYXhPZmZzZXQ7XG5cbiAgICAgIGNhc2UgJ2VuZCc6XG4gICAgICAgIHJldHVybiBtaW5PZmZzZXQ7XG5cbiAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG1pbk9mZnNldCArIChtYXhPZmZzZXQgLSBtaW5PZmZzZXQpIC8gMik7XG5cbiAgICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHNjcm9sbE9mZnNldCA+PSBtaW5PZmZzZXQgJiYgc2Nyb2xsT2Zmc2V0IDw9IG1heE9mZnNldCkge1xuICAgICAgICAgIHJldHVybiBzY3JvbGxPZmZzZXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsT2Zmc2V0IDwgbWluT2Zmc2V0KSB7XG4gICAgICAgICAgcmV0dXJuIG1pbk9mZnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbWF4T2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICB9XG4gIH0sXG4gIGdldFN0YXJ0SW5kZXhGb3JPZmZzZXQ6IGZ1bmN0aW9uIGdldFN0YXJ0SW5kZXhGb3JPZmZzZXQocHJvcHMsIG9mZnNldCwgaW5zdGFuY2VQcm9wcykge1xuICAgIHJldHVybiBmaW5kTmVhcmVzdEl0ZW0kMShwcm9wcywgaW5zdGFuY2VQcm9wcywgb2Zmc2V0KTtcbiAgfSxcbiAgZ2V0U3RvcEluZGV4Rm9yU3RhcnRJbmRleDogZnVuY3Rpb24gZ2V0U3RvcEluZGV4Rm9yU3RhcnRJbmRleChwcm9wcywgc3RhcnRJbmRleCwgc2Nyb2xsT2Zmc2V0LCBpbnN0YW5jZVByb3BzKSB7XG4gICAgdmFyIGRpcmVjdGlvbiA9IHByb3BzLmRpcmVjdGlvbixcbiAgICAgICAgaGVpZ2h0ID0gcHJvcHMuaGVpZ2h0LFxuICAgICAgICBpdGVtQ291bnQgPSBwcm9wcy5pdGVtQ291bnQsXG4gICAgICAgIGxheW91dCA9IHByb3BzLmxheW91dCxcbiAgICAgICAgd2lkdGggPSBwcm9wcy53aWR0aDsgLy8gVE9ETyBEZXByZWNhdGUgZGlyZWN0aW9uIFwiaG9yaXpvbnRhbFwiXG5cbiAgICB2YXIgaXNIb3Jpem9udGFsID0gZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcgfHwgbGF5b3V0ID09PSAnaG9yaXpvbnRhbCc7XG4gICAgdmFyIHNpemUgPSBpc0hvcml6b250YWwgPyB3aWR0aCA6IGhlaWdodDtcbiAgICB2YXIgaXRlbU1ldGFkYXRhID0gZ2V0SXRlbU1ldGFkYXRhJDEocHJvcHMsIHN0YXJ0SW5kZXgsIGluc3RhbmNlUHJvcHMpO1xuICAgIHZhciBtYXhPZmZzZXQgPSBzY3JvbGxPZmZzZXQgKyBzaXplO1xuICAgIHZhciBvZmZzZXQgPSBpdGVtTWV0YWRhdGEub2Zmc2V0ICsgaXRlbU1ldGFkYXRhLnNpemU7XG4gICAgdmFyIHN0b3BJbmRleCA9IHN0YXJ0SW5kZXg7XG5cbiAgICB3aGlsZSAoc3RvcEluZGV4IDwgaXRlbUNvdW50IC0gMSAmJiBvZmZzZXQgPCBtYXhPZmZzZXQpIHtcbiAgICAgIHN0b3BJbmRleCsrO1xuICAgICAgb2Zmc2V0ICs9IGdldEl0ZW1NZXRhZGF0YSQxKHByb3BzLCBzdG9wSW5kZXgsIGluc3RhbmNlUHJvcHMpLnNpemU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0b3BJbmRleDtcbiAgfSxcbiAgaW5pdEluc3RhbmNlUHJvcHM6IGZ1bmN0aW9uIGluaXRJbnN0YW5jZVByb3BzKHByb3BzLCBpbnN0YW5jZSkge1xuICAgIHZhciBfcmVmNCA9IHByb3BzLFxuICAgICAgICBlc3RpbWF0ZWRJdGVtU2l6ZSA9IF9yZWY0LmVzdGltYXRlZEl0ZW1TaXplO1xuICAgIHZhciBpbnN0YW5jZVByb3BzID0ge1xuICAgICAgaXRlbU1ldGFkYXRhTWFwOiB7fSxcbiAgICAgIGVzdGltYXRlZEl0ZW1TaXplOiBlc3RpbWF0ZWRJdGVtU2l6ZSB8fCBERUZBVUxUX0VTVElNQVRFRF9JVEVNX1NJWkUkMSxcbiAgICAgIGxhc3RNZWFzdXJlZEluZGV4OiAtMVxuICAgIH07XG5cbiAgICBpbnN0YW5jZS5yZXNldEFmdGVySW5kZXggPSBmdW5jdGlvbiAoaW5kZXgsIHNob3VsZEZvcmNlVXBkYXRlKSB7XG4gICAgICBpZiAoc2hvdWxkRm9yY2VVcGRhdGUgPT09IHZvaWQgMCkge1xuICAgICAgICBzaG91bGRGb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGluc3RhbmNlUHJvcHMubGFzdE1lYXN1cmVkSW5kZXggPSBNYXRoLm1pbihpbnN0YW5jZVByb3BzLmxhc3RNZWFzdXJlZEluZGV4LCBpbmRleCAtIDEpOyAvLyBXZSBjb3VsZCBwb3RlbnRpYWxseSBvcHRpbWl6ZSBmdXJ0aGVyIGJ5IG9ubHkgZXZpY3Rpbmcgc3R5bGVzIGFmdGVyIHRoaXMgaW5kZXgsXG4gICAgICAvLyBCdXQgc2luY2Ugc3R5bGVzIGFyZSBvbmx5IGNhY2hlZCB3aGlsZSBzY3JvbGxpbmcgaXMgaW4gcHJvZ3Jlc3MtXG4gICAgICAvLyBJdCBzZWVtcyBhbiB1bm5lY2Vzc2FyeSBvcHRpbWl6YXRpb24uXG4gICAgICAvLyBJdCdzIHVubGlrZWx5IHRoYXQgcmVzZXRBZnRlckluZGV4KCkgd2lsbCBiZSBjYWxsZWQgd2hpbGUgYSB1c2VyIGlzIHNjcm9sbGluZy5cblxuICAgICAgaW5zdGFuY2UuX2dldEl0ZW1TdHlsZUNhY2hlKC0xKTtcblxuICAgICAgaWYgKHNob3VsZEZvcmNlVXBkYXRlKSB7XG4gICAgICAgIGluc3RhbmNlLmZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBpbnN0YW5jZVByb3BzO1xuICB9LFxuICBzaG91bGRSZXNldFN0eWxlQ2FjaGVPbkl0ZW1TaXplQ2hhbmdlOiBmYWxzZSxcbiAgdmFsaWRhdGVQcm9wczogZnVuY3Rpb24gdmFsaWRhdGVQcm9wcyhfcmVmNSkge1xuICAgIHZhciBpdGVtU2l6ZSA9IF9yZWY1Lml0ZW1TaXplO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgaXRlbVNpemUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0FuIGludmFsaWQgXCJpdGVtU2l6ZVwiIHByb3AgaGFzIGJlZW4gc3BlY2lmaWVkLiAnICsgJ1ZhbHVlIHNob3VsZCBiZSBhIGZ1bmN0aW9uLiAnICsgKFwiXFxcIlwiICsgKGl0ZW1TaXplID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGl0ZW1TaXplKSArIFwiXFxcIiB3YXMgc3BlY2lmaWVkLlwiKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcblxudmFyIEZpeGVkU2l6ZUdyaWQgPVxuLyojX19QVVJFX18qL1xuY3JlYXRlR3JpZENvbXBvbmVudCh7XG4gIGdldENvbHVtbk9mZnNldDogZnVuY3Rpb24gZ2V0Q29sdW1uT2Zmc2V0KF9yZWYsIGluZGV4KSB7XG4gICAgdmFyIGNvbHVtbldpZHRoID0gX3JlZi5jb2x1bW5XaWR0aDtcbiAgICByZXR1cm4gaW5kZXggKiBjb2x1bW5XaWR0aDtcbiAgfSxcbiAgZ2V0Q29sdW1uV2lkdGg6IGZ1bmN0aW9uIGdldENvbHVtbldpZHRoKF9yZWYyLCBpbmRleCkge1xuICAgIHZhciBjb2x1bW5XaWR0aCA9IF9yZWYyLmNvbHVtbldpZHRoO1xuICAgIHJldHVybiBjb2x1bW5XaWR0aDtcbiAgfSxcbiAgZ2V0Um93T2Zmc2V0OiBmdW5jdGlvbiBnZXRSb3dPZmZzZXQoX3JlZjMsIGluZGV4KSB7XG4gICAgdmFyIHJvd0hlaWdodCA9IF9yZWYzLnJvd0hlaWdodDtcbiAgICByZXR1cm4gaW5kZXggKiByb3dIZWlnaHQ7XG4gIH0sXG4gIGdldFJvd0hlaWdodDogZnVuY3Rpb24gZ2V0Um93SGVpZ2h0KF9yZWY0LCBpbmRleCkge1xuICAgIHZhciByb3dIZWlnaHQgPSBfcmVmNC5yb3dIZWlnaHQ7XG4gICAgcmV0dXJuIHJvd0hlaWdodDtcbiAgfSxcbiAgZ2V0RXN0aW1hdGVkVG90YWxIZWlnaHQ6IGZ1bmN0aW9uIGdldEVzdGltYXRlZFRvdGFsSGVpZ2h0KF9yZWY1KSB7XG4gICAgdmFyIHJvd0NvdW50ID0gX3JlZjUucm93Q291bnQsXG4gICAgICAgIHJvd0hlaWdodCA9IF9yZWY1LnJvd0hlaWdodDtcbiAgICByZXR1cm4gcm93SGVpZ2h0ICogcm93Q291bnQ7XG4gIH0sXG4gIGdldEVzdGltYXRlZFRvdGFsV2lkdGg6IGZ1bmN0aW9uIGdldEVzdGltYXRlZFRvdGFsV2lkdGgoX3JlZjYpIHtcbiAgICB2YXIgY29sdW1uQ291bnQgPSBfcmVmNi5jb2x1bW5Db3VudCxcbiAgICAgICAgY29sdW1uV2lkdGggPSBfcmVmNi5jb2x1bW5XaWR0aDtcbiAgICByZXR1cm4gY29sdW1uV2lkdGggKiBjb2x1bW5Db3VudDtcbiAgfSxcbiAgZ2V0T2Zmc2V0Rm9yQ29sdW1uQW5kQWxpZ25tZW50OiBmdW5jdGlvbiBnZXRPZmZzZXRGb3JDb2x1bW5BbmRBbGlnbm1lbnQoX3JlZjcsIGNvbHVtbkluZGV4LCBhbGlnbiwgc2Nyb2xsTGVmdCwgaW5zdGFuY2VQcm9wcywgc2Nyb2xsYmFyU2l6ZSkge1xuICAgIHZhciBjb2x1bW5Db3VudCA9IF9yZWY3LmNvbHVtbkNvdW50LFxuICAgICAgICBjb2x1bW5XaWR0aCA9IF9yZWY3LmNvbHVtbldpZHRoLFxuICAgICAgICB3aWR0aCA9IF9yZWY3LndpZHRoO1xuICAgIHZhciBsYXN0Q29sdW1uT2Zmc2V0ID0gTWF0aC5tYXgoMCwgY29sdW1uQ291bnQgKiBjb2x1bW5XaWR0aCAtIHdpZHRoKTtcbiAgICB2YXIgbWF4T2Zmc2V0ID0gTWF0aC5taW4obGFzdENvbHVtbk9mZnNldCwgY29sdW1uSW5kZXggKiBjb2x1bW5XaWR0aCk7XG4gICAgdmFyIG1pbk9mZnNldCA9IE1hdGgubWF4KDAsIGNvbHVtbkluZGV4ICogY29sdW1uV2lkdGggLSB3aWR0aCArIHNjcm9sbGJhclNpemUgKyBjb2x1bW5XaWR0aCk7XG5cbiAgICBpZiAoYWxpZ24gPT09ICdzbWFydCcpIHtcbiAgICAgIGlmIChzY3JvbGxMZWZ0ID49IG1pbk9mZnNldCAtIHdpZHRoICYmIHNjcm9sbExlZnQgPD0gbWF4T2Zmc2V0ICsgd2lkdGgpIHtcbiAgICAgICAgYWxpZ24gPSAnYXV0byc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbGlnbiA9ICdjZW50ZXInO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAoYWxpZ24pIHtcbiAgICAgIGNhc2UgJ3N0YXJ0JzpcbiAgICAgICAgcmV0dXJuIG1heE9mZnNldDtcblxuICAgICAgY2FzZSAnZW5kJzpcbiAgICAgICAgcmV0dXJuIG1pbk9mZnNldDtcblxuICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgLy8gXCJDZW50ZXJlZFwiIG9mZnNldCBpcyB1c3VhbGx5IHRoZSBhdmVyYWdlIG9mIHRoZSBtaW4gYW5kIG1heC5cbiAgICAgICAgLy8gQnV0IG5lYXIgdGhlIGVkZ2VzIG9mIHRoZSBsaXN0LCB0aGlzIGRvZXNuJ3QgaG9sZCB0cnVlLlxuICAgICAgICB2YXIgbWlkZGxlT2Zmc2V0ID0gTWF0aC5yb3VuZChtaW5PZmZzZXQgKyAobWF4T2Zmc2V0IC0gbWluT2Zmc2V0KSAvIDIpO1xuXG4gICAgICAgIGlmIChtaWRkbGVPZmZzZXQgPCBNYXRoLmNlaWwod2lkdGggLyAyKSkge1xuICAgICAgICAgIHJldHVybiAwOyAvLyBuZWFyIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgfSBlbHNlIGlmIChtaWRkbGVPZmZzZXQgPiBsYXN0Q29sdW1uT2Zmc2V0ICsgTWF0aC5mbG9vcih3aWR0aCAvIDIpKSB7XG4gICAgICAgICAgcmV0dXJuIGxhc3RDb2x1bW5PZmZzZXQ7IC8vIG5lYXIgdGhlIGVuZFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBtaWRkbGVPZmZzZXQ7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnYXV0byc6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoc2Nyb2xsTGVmdCA+PSBtaW5PZmZzZXQgJiYgc2Nyb2xsTGVmdCA8PSBtYXhPZmZzZXQpIHtcbiAgICAgICAgICByZXR1cm4gc2Nyb2xsTGVmdDtcbiAgICAgICAgfSBlbHNlIGlmIChtaW5PZmZzZXQgPiBtYXhPZmZzZXQpIHtcbiAgICAgICAgICAvLyBCZWNhdXNlIHdlIG9ubHkgdGFrZSBpbnRvIGFjY291bnQgdGhlIHNjcm9sbGJhciBzaXplIHdoZW4gY2FsY3VsYXRpbmcgbWluT2Zmc2V0XG4gICAgICAgICAgLy8gdGhpcyB2YWx1ZSBjYW4gYmUgbGFyZ2VyIHRoYW4gbWF4T2Zmc2V0IHdoZW4gYXQgdGhlIGVuZCBvZiB0aGUgbGlzdFxuICAgICAgICAgIHJldHVybiBtaW5PZmZzZXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsTGVmdCA8IG1pbk9mZnNldCkge1xuICAgICAgICAgIHJldHVybiBtaW5PZmZzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG1heE9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgfVxuICB9LFxuICBnZXRPZmZzZXRGb3JSb3dBbmRBbGlnbm1lbnQ6IGZ1bmN0aW9uIGdldE9mZnNldEZvclJvd0FuZEFsaWdubWVudChfcmVmOCwgcm93SW5kZXgsIGFsaWduLCBzY3JvbGxUb3AsIGluc3RhbmNlUHJvcHMsIHNjcm9sbGJhclNpemUpIHtcbiAgICB2YXIgcm93SGVpZ2h0ID0gX3JlZjgucm93SGVpZ2h0LFxuICAgICAgICBoZWlnaHQgPSBfcmVmOC5oZWlnaHQsXG4gICAgICAgIHJvd0NvdW50ID0gX3JlZjgucm93Q291bnQ7XG4gICAgdmFyIGxhc3RSb3dPZmZzZXQgPSBNYXRoLm1heCgwLCByb3dDb3VudCAqIHJvd0hlaWdodCAtIGhlaWdodCk7XG4gICAgdmFyIG1heE9mZnNldCA9IE1hdGgubWluKGxhc3RSb3dPZmZzZXQsIHJvd0luZGV4ICogcm93SGVpZ2h0KTtcbiAgICB2YXIgbWluT2Zmc2V0ID0gTWF0aC5tYXgoMCwgcm93SW5kZXggKiByb3dIZWlnaHQgLSBoZWlnaHQgKyBzY3JvbGxiYXJTaXplICsgcm93SGVpZ2h0KTtcblxuICAgIGlmIChhbGlnbiA9PT0gJ3NtYXJ0Jykge1xuICAgICAgaWYgKHNjcm9sbFRvcCA+PSBtaW5PZmZzZXQgLSBoZWlnaHQgJiYgc2Nyb2xsVG9wIDw9IG1heE9mZnNldCArIGhlaWdodCkge1xuICAgICAgICBhbGlnbiA9ICdhdXRvJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsaWduID0gJ2NlbnRlcic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3dpdGNoIChhbGlnbikge1xuICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICByZXR1cm4gbWF4T2Zmc2V0O1xuXG4gICAgICBjYXNlICdlbmQnOlxuICAgICAgICByZXR1cm4gbWluT2Zmc2V0O1xuXG4gICAgICBjYXNlICdjZW50ZXInOlxuICAgICAgICAvLyBcIkNlbnRlcmVkXCIgb2Zmc2V0IGlzIHVzdWFsbHkgdGhlIGF2ZXJhZ2Ugb2YgdGhlIG1pbiBhbmQgbWF4LlxuICAgICAgICAvLyBCdXQgbmVhciB0aGUgZWRnZXMgb2YgdGhlIGxpc3QsIHRoaXMgZG9lc24ndCBob2xkIHRydWUuXG4gICAgICAgIHZhciBtaWRkbGVPZmZzZXQgPSBNYXRoLnJvdW5kKG1pbk9mZnNldCArIChtYXhPZmZzZXQgLSBtaW5PZmZzZXQpIC8gMik7XG5cbiAgICAgICAgaWYgKG1pZGRsZU9mZnNldCA8IE1hdGguY2VpbChoZWlnaHQgLyAyKSkge1xuICAgICAgICAgIHJldHVybiAwOyAvLyBuZWFyIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgfSBlbHNlIGlmIChtaWRkbGVPZmZzZXQgPiBsYXN0Um93T2Zmc2V0ICsgTWF0aC5mbG9vcihoZWlnaHQgLyAyKSkge1xuICAgICAgICAgIHJldHVybiBsYXN0Um93T2Zmc2V0OyAvLyBuZWFyIHRoZSBlbmRcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbWlkZGxlT2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHNjcm9sbFRvcCA+PSBtaW5PZmZzZXQgJiYgc2Nyb2xsVG9wIDw9IG1heE9mZnNldCkge1xuICAgICAgICAgIHJldHVybiBzY3JvbGxUb3A7XG4gICAgICAgIH0gZWxzZSBpZiAobWluT2Zmc2V0ID4gbWF4T2Zmc2V0KSB7XG4gICAgICAgICAgLy8gQmVjYXVzZSB3ZSBvbmx5IHRha2UgaW50byBhY2NvdW50IHRoZSBzY3JvbGxiYXIgc2l6ZSB3aGVuIGNhbGN1bGF0aW5nIG1pbk9mZnNldFxuICAgICAgICAgIC8vIHRoaXMgdmFsdWUgY2FuIGJlIGxhcmdlciB0aGFuIG1heE9mZnNldCB3aGVuIGF0IHRoZSBlbmQgb2YgdGhlIGxpc3RcbiAgICAgICAgICByZXR1cm4gbWluT2Zmc2V0O1xuICAgICAgICB9IGVsc2UgaWYgKHNjcm9sbFRvcCA8IG1pbk9mZnNldCkge1xuICAgICAgICAgIHJldHVybiBtaW5PZmZzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG1heE9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgfVxuICB9LFxuICBnZXRDb2x1bW5TdGFydEluZGV4Rm9yT2Zmc2V0OiBmdW5jdGlvbiBnZXRDb2x1bW5TdGFydEluZGV4Rm9yT2Zmc2V0KF9yZWY5LCBzY3JvbGxMZWZ0KSB7XG4gICAgdmFyIGNvbHVtbldpZHRoID0gX3JlZjkuY29sdW1uV2lkdGgsXG4gICAgICAgIGNvbHVtbkNvdW50ID0gX3JlZjkuY29sdW1uQ291bnQ7XG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKGNvbHVtbkNvdW50IC0gMSwgTWF0aC5mbG9vcihzY3JvbGxMZWZ0IC8gY29sdW1uV2lkdGgpKSk7XG4gIH0sXG4gIGdldENvbHVtblN0b3BJbmRleEZvclN0YXJ0SW5kZXg6IGZ1bmN0aW9uIGdldENvbHVtblN0b3BJbmRleEZvclN0YXJ0SW5kZXgoX3JlZjEwLCBzdGFydEluZGV4LCBzY3JvbGxMZWZ0KSB7XG4gICAgdmFyIGNvbHVtbldpZHRoID0gX3JlZjEwLmNvbHVtbldpZHRoLFxuICAgICAgICBjb2x1bW5Db3VudCA9IF9yZWYxMC5jb2x1bW5Db3VudCxcbiAgICAgICAgd2lkdGggPSBfcmVmMTAud2lkdGg7XG4gICAgdmFyIGxlZnQgPSBzdGFydEluZGV4ICogY29sdW1uV2lkdGg7XG4gICAgdmFyIG51bVZpc2libGVDb2x1bW5zID0gTWF0aC5jZWlsKCh3aWR0aCArIHNjcm9sbExlZnQgLSBsZWZ0KSAvIGNvbHVtbldpZHRoKTtcbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oY29sdW1uQ291bnQgLSAxLCBzdGFydEluZGV4ICsgbnVtVmlzaWJsZUNvbHVtbnMgLSAxIC8vIC0xIGlzIGJlY2F1c2Ugc3RvcCBpbmRleCBpcyBpbmNsdXNpdmVcbiAgICApKTtcbiAgfSxcbiAgZ2V0Um93U3RhcnRJbmRleEZvck9mZnNldDogZnVuY3Rpb24gZ2V0Um93U3RhcnRJbmRleEZvck9mZnNldChfcmVmMTEsIHNjcm9sbFRvcCkge1xuICAgIHZhciByb3dIZWlnaHQgPSBfcmVmMTEucm93SGVpZ2h0LFxuICAgICAgICByb3dDb3VudCA9IF9yZWYxMS5yb3dDb3VudDtcbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4ocm93Q291bnQgLSAxLCBNYXRoLmZsb29yKHNjcm9sbFRvcCAvIHJvd0hlaWdodCkpKTtcbiAgfSxcbiAgZ2V0Um93U3RvcEluZGV4Rm9yU3RhcnRJbmRleDogZnVuY3Rpb24gZ2V0Um93U3RvcEluZGV4Rm9yU3RhcnRJbmRleChfcmVmMTIsIHN0YXJ0SW5kZXgsIHNjcm9sbFRvcCkge1xuICAgIHZhciByb3dIZWlnaHQgPSBfcmVmMTIucm93SGVpZ2h0LFxuICAgICAgICByb3dDb3VudCA9IF9yZWYxMi5yb3dDb3VudCxcbiAgICAgICAgaGVpZ2h0ID0gX3JlZjEyLmhlaWdodDtcbiAgICB2YXIgdG9wID0gc3RhcnRJbmRleCAqIHJvd0hlaWdodDtcbiAgICB2YXIgbnVtVmlzaWJsZVJvd3MgPSBNYXRoLmNlaWwoKGhlaWdodCArIHNjcm9sbFRvcCAtIHRvcCkgLyByb3dIZWlnaHQpO1xuICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbihyb3dDb3VudCAtIDEsIHN0YXJ0SW5kZXggKyBudW1WaXNpYmxlUm93cyAtIDEgLy8gLTEgaXMgYmVjYXVzZSBzdG9wIGluZGV4IGlzIGluY2x1c2l2ZVxuICAgICkpO1xuICB9LFxuICBpbml0SW5zdGFuY2VQcm9wczogZnVuY3Rpb24gaW5pdEluc3RhbmNlUHJvcHMocHJvcHMpIHsvLyBOb29wXG4gIH0sXG4gIHNob3VsZFJlc2V0U3R5bGVDYWNoZU9uSXRlbVNpemVDaGFuZ2U6IHRydWUsXG4gIHZhbGlkYXRlUHJvcHM6IGZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMoX3JlZjEzKSB7XG4gICAgdmFyIGNvbHVtbldpZHRoID0gX3JlZjEzLmNvbHVtbldpZHRoLFxuICAgICAgICByb3dIZWlnaHQgPSBfcmVmMTMucm93SGVpZ2h0O1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgY29sdW1uV2lkdGggIT09ICdudW1iZXInKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdBbiBpbnZhbGlkIFwiY29sdW1uV2lkdGhcIiBwcm9wIGhhcyBiZWVuIHNwZWNpZmllZC4gJyArICdWYWx1ZSBzaG91bGQgYmUgYSBudW1iZXIuICcgKyAoXCJcXFwiXCIgKyAoY29sdW1uV2lkdGggPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgY29sdW1uV2lkdGgpICsgXCJcXFwiIHdhcyBzcGVjaWZpZWQuXCIpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiByb3dIZWlnaHQgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdBbiBpbnZhbGlkIFwicm93SGVpZ2h0XCIgcHJvcCBoYXMgYmVlbiBzcGVjaWZpZWQuICcgKyAnVmFsdWUgc2hvdWxkIGJlIGEgbnVtYmVyLiAnICsgKFwiXFxcIlwiICsgKHJvd0hlaWdodCA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiByb3dIZWlnaHQpICsgXCJcXFwiIHdhcyBzcGVjaWZpZWQuXCIpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG52YXIgRml4ZWRTaXplTGlzdCA9XG4vKiNfX1BVUkVfXyovXG5jcmVhdGVMaXN0Q29tcG9uZW50KHtcbiAgZ2V0SXRlbU9mZnNldDogZnVuY3Rpb24gZ2V0SXRlbU9mZnNldChfcmVmLCBpbmRleCkge1xuICAgIHZhciBpdGVtU2l6ZSA9IF9yZWYuaXRlbVNpemU7XG4gICAgcmV0dXJuIGluZGV4ICogaXRlbVNpemU7XG4gIH0sXG4gIGdldEl0ZW1TaXplOiBmdW5jdGlvbiBnZXRJdGVtU2l6ZShfcmVmMiwgaW5kZXgpIHtcbiAgICB2YXIgaXRlbVNpemUgPSBfcmVmMi5pdGVtU2l6ZTtcbiAgICByZXR1cm4gaXRlbVNpemU7XG4gIH0sXG4gIGdldEVzdGltYXRlZFRvdGFsU2l6ZTogZnVuY3Rpb24gZ2V0RXN0aW1hdGVkVG90YWxTaXplKF9yZWYzKSB7XG4gICAgdmFyIGl0ZW1Db3VudCA9IF9yZWYzLml0ZW1Db3VudCxcbiAgICAgICAgaXRlbVNpemUgPSBfcmVmMy5pdGVtU2l6ZTtcbiAgICByZXR1cm4gaXRlbVNpemUgKiBpdGVtQ291bnQ7XG4gIH0sXG4gIGdldE9mZnNldEZvckluZGV4QW5kQWxpZ25tZW50OiBmdW5jdGlvbiBnZXRPZmZzZXRGb3JJbmRleEFuZEFsaWdubWVudChfcmVmNCwgaW5kZXgsIGFsaWduLCBzY3JvbGxPZmZzZXQpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gX3JlZjQuZGlyZWN0aW9uLFxuICAgICAgICBoZWlnaHQgPSBfcmVmNC5oZWlnaHQsXG4gICAgICAgIGl0ZW1Db3VudCA9IF9yZWY0Lml0ZW1Db3VudCxcbiAgICAgICAgaXRlbVNpemUgPSBfcmVmNC5pdGVtU2l6ZSxcbiAgICAgICAgbGF5b3V0ID0gX3JlZjQubGF5b3V0LFxuICAgICAgICB3aWR0aCA9IF9yZWY0LndpZHRoO1xuICAgIC8vIFRPRE8gRGVwcmVjYXRlIGRpcmVjdGlvbiBcImhvcml6b250YWxcIlxuICAgIHZhciBpc0hvcml6b250YWwgPSBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyB8fCBsYXlvdXQgPT09ICdob3Jpem9udGFsJztcbiAgICB2YXIgc2l6ZSA9IGlzSG9yaXpvbnRhbCA/IHdpZHRoIDogaGVpZ2h0O1xuICAgIHZhciBsYXN0SXRlbU9mZnNldCA9IE1hdGgubWF4KDAsIGl0ZW1Db3VudCAqIGl0ZW1TaXplIC0gc2l6ZSk7XG4gICAgdmFyIG1heE9mZnNldCA9IE1hdGgubWluKGxhc3RJdGVtT2Zmc2V0LCBpbmRleCAqIGl0ZW1TaXplKTtcbiAgICB2YXIgbWluT2Zmc2V0ID0gTWF0aC5tYXgoMCwgaW5kZXggKiBpdGVtU2l6ZSAtIHNpemUgKyBpdGVtU2l6ZSk7XG5cbiAgICBpZiAoYWxpZ24gPT09ICdzbWFydCcpIHtcbiAgICAgIGlmIChzY3JvbGxPZmZzZXQgPj0gbWluT2Zmc2V0IC0gc2l6ZSAmJiBzY3JvbGxPZmZzZXQgPD0gbWF4T2Zmc2V0ICsgc2l6ZSkge1xuICAgICAgICBhbGlnbiA9ICdhdXRvJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsaWduID0gJ2NlbnRlcic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3dpdGNoIChhbGlnbikge1xuICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICByZXR1cm4gbWF4T2Zmc2V0O1xuXG4gICAgICBjYXNlICdlbmQnOlxuICAgICAgICByZXR1cm4gbWluT2Zmc2V0O1xuXG4gICAgICBjYXNlICdjZW50ZXInOlxuICAgICAgICB7XG4gICAgICAgICAgLy8gXCJDZW50ZXJlZFwiIG9mZnNldCBpcyB1c3VhbGx5IHRoZSBhdmVyYWdlIG9mIHRoZSBtaW4gYW5kIG1heC5cbiAgICAgICAgICAvLyBCdXQgbmVhciB0aGUgZWRnZXMgb2YgdGhlIGxpc3QsIHRoaXMgZG9lc24ndCBob2xkIHRydWUuXG4gICAgICAgICAgdmFyIG1pZGRsZU9mZnNldCA9IE1hdGgucm91bmQobWluT2Zmc2V0ICsgKG1heE9mZnNldCAtIG1pbk9mZnNldCkgLyAyKTtcblxuICAgICAgICAgIGlmIChtaWRkbGVPZmZzZXQgPCBNYXRoLmNlaWwoc2l6ZSAvIDIpKSB7XG4gICAgICAgICAgICByZXR1cm4gMDsgLy8gbmVhciB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgfSBlbHNlIGlmIChtaWRkbGVPZmZzZXQgPiBsYXN0SXRlbU9mZnNldCArIE1hdGguZmxvb3Ioc2l6ZSAvIDIpKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFzdEl0ZW1PZmZzZXQ7IC8vIG5lYXIgdGhlIGVuZFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbWlkZGxlT2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdhdXRvJzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChzY3JvbGxPZmZzZXQgPj0gbWluT2Zmc2V0ICYmIHNjcm9sbE9mZnNldCA8PSBtYXhPZmZzZXQpIHtcbiAgICAgICAgICByZXR1cm4gc2Nyb2xsT2Zmc2V0O1xuICAgICAgICB9IGVsc2UgaWYgKHNjcm9sbE9mZnNldCA8IG1pbk9mZnNldCkge1xuICAgICAgICAgIHJldHVybiBtaW5PZmZzZXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG1heE9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgfVxuICB9LFxuICBnZXRTdGFydEluZGV4Rm9yT2Zmc2V0OiBmdW5jdGlvbiBnZXRTdGFydEluZGV4Rm9yT2Zmc2V0KF9yZWY1LCBvZmZzZXQpIHtcbiAgICB2YXIgaXRlbUNvdW50ID0gX3JlZjUuaXRlbUNvdW50LFxuICAgICAgICBpdGVtU2l6ZSA9IF9yZWY1Lml0ZW1TaXplO1xuICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbihpdGVtQ291bnQgLSAxLCBNYXRoLmZsb29yKG9mZnNldCAvIGl0ZW1TaXplKSkpO1xuICB9LFxuICBnZXRTdG9wSW5kZXhGb3JTdGFydEluZGV4OiBmdW5jdGlvbiBnZXRTdG9wSW5kZXhGb3JTdGFydEluZGV4KF9yZWY2LCBzdGFydEluZGV4LCBzY3JvbGxPZmZzZXQpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gX3JlZjYuZGlyZWN0aW9uLFxuICAgICAgICBoZWlnaHQgPSBfcmVmNi5oZWlnaHQsXG4gICAgICAgIGl0ZW1Db3VudCA9IF9yZWY2Lml0ZW1Db3VudCxcbiAgICAgICAgaXRlbVNpemUgPSBfcmVmNi5pdGVtU2l6ZSxcbiAgICAgICAgbGF5b3V0ID0gX3JlZjYubGF5b3V0LFxuICAgICAgICB3aWR0aCA9IF9yZWY2LndpZHRoO1xuICAgIC8vIFRPRE8gRGVwcmVjYXRlIGRpcmVjdGlvbiBcImhvcml6b250YWxcIlxuICAgIHZhciBpc0hvcml6b250YWwgPSBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJyB8fCBsYXlvdXQgPT09ICdob3Jpem9udGFsJztcbiAgICB2YXIgb2Zmc2V0ID0gc3RhcnRJbmRleCAqIGl0ZW1TaXplO1xuICAgIHZhciBzaXplID0gaXNIb3Jpem9udGFsID8gd2lkdGggOiBoZWlnaHQ7XG4gICAgdmFyIG51bVZpc2libGVJdGVtcyA9IE1hdGguY2VpbCgoc2l6ZSArIHNjcm9sbE9mZnNldCAtIG9mZnNldCkgLyBpdGVtU2l6ZSk7XG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKGl0ZW1Db3VudCAtIDEsIHN0YXJ0SW5kZXggKyBudW1WaXNpYmxlSXRlbXMgLSAxIC8vIC0xIGlzIGJlY2F1c2Ugc3RvcCBpbmRleCBpcyBpbmNsdXNpdmVcbiAgICApKTtcbiAgfSxcbiAgaW5pdEluc3RhbmNlUHJvcHM6IGZ1bmN0aW9uIGluaXRJbnN0YW5jZVByb3BzKHByb3BzKSB7Ly8gTm9vcFxuICB9LFxuICBzaG91bGRSZXNldFN0eWxlQ2FjaGVPbkl0ZW1TaXplQ2hhbmdlOiB0cnVlLFxuICB2YWxpZGF0ZVByb3BzOiBmdW5jdGlvbiB2YWxpZGF0ZVByb3BzKF9yZWY3KSB7XG4gICAgdmFyIGl0ZW1TaXplID0gX3JlZjcuaXRlbVNpemU7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiBpdGVtU2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0FuIGludmFsaWQgXCJpdGVtU2l6ZVwiIHByb3AgaGFzIGJlZW4gc3BlY2lmaWVkLiAnICsgJ1ZhbHVlIHNob3VsZCBiZSBhIG51bWJlci4gJyArIChcIlxcXCJcIiArIChpdGVtU2l6ZSA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBpdGVtU2l6ZSkgKyBcIlxcXCIgd2FzIHNwZWNpZmllZC5cIikpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5cbi8vIFB1bGxlZCBmcm9tIHJlYWN0LWNvbXBhdFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2RldmVsb3BpdC9wcmVhY3QtY29tcGF0L2Jsb2IvN2M1ZGUwMGU3Yzg1ZTJmZmQwMTFiZjNhZjAyODk5YjYzZjY5OWQzYS9zcmMvaW5kZXguanMjTDM0OVxuZnVuY3Rpb24gc2hhbGxvd0RpZmZlcnMocHJldiwgbmV4dCkge1xuICBmb3IgKHZhciBhdHRyaWJ1dGUgaW4gcHJldikge1xuICAgIGlmICghKGF0dHJpYnV0ZSBpbiBuZXh0KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgX2F0dHJpYnV0ZSBpbiBuZXh0KSB7XG4gICAgaWYgKHByZXZbX2F0dHJpYnV0ZV0gIT09IG5leHRbX2F0dHJpYnV0ZV0pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gSXQga25vd3MgdG8gY29tcGFyZSBpbmRpdmlkdWFsIHN0eWxlIHByb3BzIGFuZCBpZ25vcmUgdGhlIHdyYXBwZXIgb2JqZWN0LlxuLy8gU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNyZWFjdG1lbW9cblxuZnVuY3Rpb24gYXJlRXF1YWwocHJldlByb3BzLCBuZXh0UHJvcHMpIHtcbiAgdmFyIHByZXZTdHlsZSA9IHByZXZQcm9wcy5zdHlsZSxcbiAgICAgIHByZXZSZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJldlByb3BzLCBbXCJzdHlsZVwiXSk7XG5cbiAgdmFyIG5leHRTdHlsZSA9IG5leHRQcm9wcy5zdHlsZSxcbiAgICAgIG5leHRSZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UobmV4dFByb3BzLCBbXCJzdHlsZVwiXSk7XG5cbiAgcmV0dXJuICFzaGFsbG93RGlmZmVycyhwcmV2U3R5bGUsIG5leHRTdHlsZSkgJiYgIXNoYWxsb3dEaWZmZXJzKHByZXZSZXN0LCBuZXh0UmVzdCk7XG59XG5cbi8vIEl0IGtub3dzIHRvIGNvbXBhcmUgaW5kaXZpZHVhbCBzdHlsZSBwcm9wcyBhbmQgaWdub3JlIHRoZSB3cmFwcGVyIG9iamVjdC5cbi8vIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtY29tcG9uZW50Lmh0bWwjc2hvdWxkY29tcG9uZW50dXBkYXRlXG5cbmZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICByZXR1cm4gIWFyZUVxdWFsKHRoaXMucHJvcHMsIG5leHRQcm9wcykgfHwgc2hhbGxvd0RpZmZlcnModGhpcy5zdGF0ZSwgbmV4dFN0YXRlKTtcbn1cblxuZXhwb3J0IHsgVmFyaWFibGVTaXplR3JpZCwgVmFyaWFibGVTaXplTGlzdCwgRml4ZWRTaXplR3JpZCwgRml4ZWRTaXplTGlzdCwgYXJlRXF1YWwsIHNob3VsZENvbXBvbmVudFVwZGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtLmpzLm1hcFxuIiwiaW1wb3J0IHsgRmlsZUJ1aWxkRXJyb3IsIEZpbGVJbmRleCwgRmlsZUluZGV4SW1hZ2VEYXRhIH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgRjNBcGksIEJhY2tlbmRTZXJ2aWNlIH0gZnJvbSAnLi9GM0FwaSc7XG5cbmV4cG9ydCB0eXBlIEZpbGVJbmRleERhdGFQcm9wZXJ0aWVzID0ga2V5b2YgRmlsZUluZGV4SW1hZ2VEYXRhO1xuXG4vKiogW1NlZSBEb2N1bWVudGF0aW9uXShodHRwczovL2pmb2xkMy5pYXJjaGl2ZXMuY29tL2pvYi9mMy1iYWNrZW5kL2phdmFkb2MvY29tL2FuY2VzdHJ5L2ViL2ZvbGQzMS9zZXJ2aWNlL0ZpbGVTZXJ2aWNlLmh0bWwpICovXG5leHBvcnQgY2xhc3MgRmlsZUFwaSBleHRlbmRzIEYzQXBpIHtcblx0c2VydmljZSA9IEJhY2tlbmRTZXJ2aWNlLkZPTEQzMTtcblx0YmFzZVVybCA9ICcvYXBpL2ZpbGUnO1xuXG5cdGxpc3RCdWlsZEVycm9ySW1hZ2VzKGtleTogc3RyaW5nLCBjb3VudD86IG51bWJlcik6IFByb21pc2U8bnVtYmVyW10+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJy9lcnJvcnMvaW1hZ2VzJywge1xuXHRcdFx0cGFyYW1zOiB7IGtleSwgY291bnQgfSxcblx0XHR9KTtcblx0fVxuXG5cdGxpc3RQdWJsaWNhdGlvbkJ1aWxkRXJyb3JzKHB1YmxpY2F0aW9uSWQ6IG51bWJlciwgY291bnQ/OiBudW1iZXIpOiBQcm9taXNlPEZpbGVCdWlsZEVycm9yW10+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9lcnJvcnMvJHtwdWJsaWNhdGlvbklkfWAsIHtcblx0XHRcdHBhcmFtczogeyBjb3VudCB9LFxuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnRmlsZUJ1aWxkRXJyb3InLFxuXHRcdH0pO1xuXHR9XG5cblx0bGlzdFB1YmxpY2F0aW9uc1dpdGhCdWlsZEVycm9ycygpOiBQcm9taXNlPG51bWJlcltdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KCcvZXJyb3JzJyk7XG5cdH1cblxuXHRyZXByb2Nlc3NFcnJvckltYWdlcyhrZXk6IHN0cmluZyk6IFByb21pc2U8bnVtYmVyPiB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdCgnL2Vycm9ycy9yZXByb2Nlc3MnLCBudWxsLCB7XG5cdFx0XHRwYXJhbXM6IHsga2V5IH0sXG5cdFx0XHRwcmltaXRpdmU6IHRydWUsXG5cdFx0fSk7XG5cdH1cblxuXHRnZXRGaWxlSW5kZXhCeUltYWdlKGltYWdlSWQ6IHN0cmluZywgY291bnQ6IG51bWJlciA9IDAsIHByb3BlcnRpZXM6IEZpbGVJbmRleERhdGFQcm9wZXJ0aWVzW10gPSBbXSwgc3BhcnNlOiBib29sZWFuID0gZmFsc2UpOiBQcm9taXNlPEZpbGVJbmRleD4ge1xuXHRcdGxldCBwcm9wZXJ0eSA9IHByb3BlcnRpZXMuam9pbignLCcpO1xuXG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvaW5kZXgvaW1hZ2UvJHtpbWFnZUlkfWAsIHtcblx0XHRcdHBhcmFtczogeyBwcm9wZXJ0eSwgY291bnQsIHNwYXJzZSB9LFxuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnRmlsZUluZGV4Jyxcblx0XHR9KTtcblx0fVxuXG5cdGdldEZpbGVJbmRleEJ5Q2x1c3RlcktleShjbHVzdGVyS2V5OiBzdHJpbmcsIGNvdW50OiBudW1iZXIgPSAwLCBwcm9wZXJ0aWVzOiBGaWxlSW5kZXhEYXRhUHJvcGVydGllc1tdID0gW10sIHNwYXJzZTogYm9vbGVhbiA9IGZhbHNlKTogUHJvbWlzZTxGaWxlSW5kZXg+IHtcblx0XHRsZXQgcHJvcGVydHkgPSBwcm9wZXJ0aWVzLmpvaW4oJywnKTtcblxuXHRcdHJldHVybiB0aGlzLmdldChgL2luZGV4L2NsdXN0ZXIvJHtjbHVzdGVyS2V5fWAsIHtcblx0XHRcdHBhcmFtczogeyBwcm9wZXJ0eSwgY291bnQsIHNwYXJzZSB9LFxuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnRmlsZUluZGV4Jyxcblx0XHR9KTtcblx0fVxuXG5cdGdldEZpbGVJbmRleFBhZ2UoY2x1c3RlcktleTogc3RyaW5nLCBsYXN0U29ydEtleTogc3RyaW5nLCBjb3VudDogbnVtYmVyID0gMTAsIHByb3BlcnRpZXM6IHN0cmluZ1tdLCBzcGFyc2U6IGJvb2xlYW4gPSBmYWxzZSk6IFByb21pc2U8RmlsZUluZGV4SW1hZ2VEYXRhW10+IHtcblx0XHRsZXQgcHJvcGVydHkgPSBwcm9wZXJ0aWVzLmpvaW4oJywnKTtcblxuXHRcdHJldHVybiB0aGlzLmdldChgL2luZGV4L3BhZ2UvJHtjbHVzdGVyS2V5fWAsIHtcblx0XHRcdHBhcmFtczogeyBwcm9wZXJ0eSwgY291bnQsICdzb3J0LWtleSc6IGxhc3RTb3J0S2V5IH0sXG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdGaWxlSW5kZXhJbWFnZURhdGEnLFxuXHRcdH0pO1xuXHR9XG5cblx0cmVwcm9jZXNzRXJyb3JJbWFnZXNQdWJsaWNhdGlvbihwdWJsaWNhdGlvbklkOiBudW1iZXIpOiBQcm9taXNlPG51bWJlcj4ge1xuXHRcdHJldHVybiB0aGlzLnBvc3QoYC9lcnJvcnMvcmVwcm9jZXNzL3B1YmxpY2F0aW9uLyR7cHVibGljYXRpb25JZH1gKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgVGlsZVNvdXJjZU9wdGlvbnMgfSBmcm9tICdvcGVuc2VhZHJhZ29uJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET01TZXJ2ZXIgZnJvbSAncmVhY3QtZG9tL3NlcnZlcic7XG5pbXBvcnQgeyBDcm9wLCBQZXJjZW50Q3JvcCwgUGl4ZWxDcm9wIH0gZnJvbSAncmVhY3QtaW1hZ2UtY3JvcCc7XG5pbXBvcnQgeyBJbWFnZVBkZlBhZ2UsIEltYWdlUGRmUGFnZVByb3BzIH0gZnJvbSAnLi4vLi4vLi4vc2VydmVyL2xpYi9JbWFnZVBkZlBhZ2UnO1xuaW1wb3J0IHsgRmlsbXN0cmlwQXBpIH0gZnJvbSAnLi4vLi4vYXBpcy9maWxtc3RyaXBBcGknO1xuaW1wb3J0IHsgSW1hZ2VQZGZBcGkgfSBmcm9tICcuLi8uLi9hcGlzL2ltYWdlUGRmQXBpJztcbmltcG9ydCB7IENvbXBhY3RQdWJsaWNhdGlvbiB9IGZyb20gJy4uLy4uL2FwaXMvcHVibGljYXRpb25BcGknO1xuaW1wb3J0IHsgRG9jdW1lbnRJbWFnZVRva2VuLCBEb21haW4sIEZpbG1zdHJpcENsdXN0ZXIsIE9iamVjdFJlZmVyZW5jZSwgUHVibGljYXRpb24sIFJlY3RhbmdsZSB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IEZvbGQzRW52aXJvbm1lbnQsIE9iaiB9IGZyb20gJy4uLy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uLy4uL2xpYi9jb250ZW50L2NvbnRlbnREb2N1bWVudCc7XG5pbXBvcnQgeyBnZXRXcmFwcGVkQ29udGVudElkLCBnZXRXcmFwcGVkQ29udGVudFJlZiB9IGZyb20gJy4uLy4uL2xpYi9jb250ZW50L2NvbnRlbnRNZXRhZGF0YSc7XG5pbXBvcnQgeyBnZXRDb250ZW50U2x1ZyB9IGZyb20gJy4uLy4uL2xpYi9jb250ZW50L2NvbnRlbnRSdW50aW1lJztcbmltcG9ydCB7IFdyYXBwZWRJbWFnZURhdGFDb250ZW50LCBnZXRDbHVzdGVySWQsIGdldEltYWdlVG9rZW4gfSBmcm9tICcuLi8uLi9saWIvY29udGVudC9pbWFnZURhdGEvaW1hZ2VDb250ZW50JztcbmltcG9ydCB7IFdyYXBwZWRTdWJJbWFnZURhdGFDb250ZW50IH0gZnJvbSAnLi4vLi4vbGliL2NvbnRlbnQvaW1hZ2VEYXRhL3N1YkltYWdlQ29udGVudCc7XG5pbXBvcnQgeyBnZXRJbWFnZUhvc3QgfSBmcm9tICcuLi8uLi9saWIvbG9jYWxpemF0aW9uL2RvbWFpbic7XG5pbXBvcnQgeyBmaWx0ZXJFbXB0eSB9IGZyb20gJy4uLy4uL2xpYi9tYXBVdGlsJztcbmltcG9ydCB7IHRvUXVlcnlTdHJpbmcgfSBmcm9tICcuLi8uLi9saWIvcXVlcnlVdGlsJztcbmltcG9ydCB7IGdldENvbmZpZyB9IGZyb20gJy4uLy4uL2xpYi9zaGFyZWRDb25maWcnO1xuaW1wb3J0IHsgZ2V0RnVsbENvbnRlbnRVcmwgfSBmcm9tICcuLi8uLi9saWIvc2x1Zyc7XG5pbXBvcnQgeyBnZXRUaHVtYm5haWwgfSBmcm9tICcuLi8uLi9saWIvdGh1bWJuYWlsJztcbmltcG9ydCB7IFZpZXdlckZpbHRlcnMgfSBmcm9tICcuL1ZpZXdlckZpbHRlckNvbnRyb2xzJztcbmltcG9ydCB7IEZpbGVJbmRleFNpbmdsZXRvbiB9IGZyb20gJy4vZGF0YS1zaW5nbGV0b25zL0ZpbGVJbmRleFNpbmdsZXRvbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VVcmxPcHRpb25zIHtcblx0YT86ICdwcmludCcgfCAnZG93bmxvYWQnIC8vIGFjdGlvblxuXHR0aXRsZT86IHN0cmluZ1xuXHRjcm9wPzogbnVtYmVyW11cblx0cm90YXRpb24/OiBudW1iZXJcblx0YnJpZ2h0bmVzcz86IG51bWJlclxuXHRjb250cmFzdD86IG51bWJlclxuXHRpbnZlcnQ/OiBib29sZWFuXG5cdHdpZHRoPzogbnVtYmVyXG5cdGhlaWdodD86IG51bWJlclxufVxuXG5jb25zdCBjb25maWcgPSBnZXRDb25maWcoKTtcblxuLyogVG8gdW5kZXJzdGFuZCB0aGUgY29vcmRpbmF0ZSBzeXN0ZW1zIHdlIGFyZSBkZWFsaW5nIHdpdGgsIHZpc2l0IGh0dHBzOi8vb3BlbnNlYWRyYWdvbi5naXRodWIuaW8vZXhhbXBsZXMvdmlld3BvcnQtY29vcmRpbmF0ZXMvICovXG5cbmNvbnN0IEYzX0ZJTFRFUlNfTlMgPSAnRjNfRklMVEVSUyc7XG5jb25zdCBCUklHSFRfTUFYID0gMjU1O1xuY29uc3QgQlJJR0hUX01JTiA9IC0yNTU7XG5jb25zdCBCUklHSFRfREVGQVVMVCA9IDA7XG5jb25zdCBDT05UUkFTVF9NQVggPSA1O1xuY29uc3QgQ09OVFJBU1RfREVGQVVMVCA9IDE7XG5jb25zdCBDT05UUkFTVF9TUFJFQUQgPSBDT05UUkFTVF9NQVggLSBDT05UUkFTVF9ERUZBVUxUO1xuY29uc3QgQ09OVFJBU1RfTUlOID0gMDtcbmNvbnN0IEJBQ0tFTkRfTUFYID0gMTAwO1xuY29uc3QgQkFDS0VORF9NSU4gPSAtMTAwO1xuY29uc3QgSU5WRVJUX0RFRkFVTFQgPSBmYWxzZTtcblxuZXhwb3J0IGNvbnN0IHNldE9TREZpbHRlclByb2Nlc3NvcnMgPSAoT1NEVmlld2VyOiBPcGVuU2VhZHJhZ29uLlZpZXdlciwgZmlsdGVyczogVmlld2VyRmlsdGVycykgPT4ge1xuXHRsZXQgcHJvY2Vzc29yczogYW55W10gPSBbXTtcblxuXHRpZiAoZmlsdGVycy5icmlnaHRuZXNzICE9PSB1bmRlZmluZWQpIHtcblx0XHRsZXQgYnJpZ2h0bmVzcyA9IE1hdGgubWluKEJSSUdIVF9NQVgsIE1hdGgubWF4KEJSSUdIVF9NSU4sIGZpbHRlcnMuYnJpZ2h0bmVzcykpO1xuXHRcdGlmIChmaWx0ZXJzLmludmVydCkgYnJpZ2h0bmVzcyA9IC1icmlnaHRuZXNzO1xuXHRcdHByb2Nlc3NvcnMucHVzaChPcGVuU2VhZHJhZ29uLkZpbHRlcnMuQlJJR0hUTkVTUyhicmlnaHRuZXNzKSk7XG5cdH1cblx0aWYgKGZpbHRlcnMuY29udHJhc3QgIT09IHVuZGVmaW5lZCkge1xuXHRcdGxldCBjb250cmFzdCA9IE1hdGgubWluKENPTlRSQVNUX01BWCwgTWF0aC5tYXgoQ09OVFJBU1RfTUlOLCBmaWx0ZXJzLmNvbnRyYXN0KSk7XG5cdFx0cHJvY2Vzc29ycy5wdXNoKE9wZW5TZWFkcmFnb24uRmlsdGVycy5DT05UUkFTVChjb250cmFzdCkpO1xuXHR9XG5cdGlmIChmaWx0ZXJzLmludmVydCA9PT0gdHJ1ZSkge1xuXHRcdHByb2Nlc3NvcnMucHVzaChPcGVuU2VhZHJhZ29uLkZpbHRlcnMuSU5WRVJUKCkpO1xuXHR9XG5cblx0T1NEVmlld2VyPy5zZXRGaWx0ZXJPcHRpb25zKHtcblx0XHRmaWx0ZXJzOiB7IHByb2Nlc3NvcnMgfSxcblx0XHRsb2FkTW9kZTogJ3N5bmMnLFxuXHR9KTtcblxuXHRpZiAoT1NEVmlld2VyICE9PSBudWxsKSB7XG5cdFx0KE9TRFZpZXdlciBhcyBhbnkpW0YzX0ZJTFRFUlNfTlNdID0gY29udmVydEZpbHRlcnNUb0JhY2tlbmQoZmlsdGVycyk7XG5cdH1cbn07XG5cbmZ1bmN0aW9uIGNvbnZlcnRGaWx0ZXJzVG9CYWNrZW5kKGZpbHRlcnM6IFZpZXdlckZpbHRlcnMpOiBWaWV3ZXJGaWx0ZXJzIHtcblx0cmV0dXJuIHtcblx0XHRicmlnaHRuZXNzOiBNYXRoLnJvdW5kKGZpbHRlcnMuYnJpZ2h0bmVzcyAvIChCUklHSFRfTUFYIC8gQkFDS0VORF9NQVgpKSxcblx0XHRjb250cmFzdDogTWF0aC5yb3VuZChmaWx0ZXJzLmNvbnRyYXN0IDwgQ09OVFJBU1RfREVGQVVMVCA/ICgxIC0gZmlsdGVycy5jb250cmFzdCkgKiBCQUNLRU5EX01JTiA6IChmaWx0ZXJzLmNvbnRyYXN0IC0gQ09OVFJBU1RfREVGQVVMVCkgLyBDT05UUkFTVF9TUFJFQUQgKiBCQUNLRU5EX01BWCksXG5cdFx0aW52ZXJ0OiBmaWx0ZXJzLmludmVydCxcblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJhY2tlbmRGaWx0ZXJzKE9TRFZpZXdlcjogT3BlblNlYWRyYWdvbi5WaWV3ZXIpIHtcblx0cmV0dXJuIChPU0RWaWV3ZXIgYXMgYW55KVtGM19GSUxURVJTX05TXTtcbn1cblxuZXhwb3J0IGNvbnN0IG9wZW5JbWFnZSA9IChPU0RWaWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyLCBpbWFnZTogV3JhcHBlZEltYWdlRGF0YUNvbnRlbnQsIGRvbWFpbjogRG9tYWluLCBlbnY6IEZvbGQzRW52aXJvbm1lbnQpID0+IHtcblx0T1NEVmlld2VyPy5vcGVuKGdldFRpbGVTb3VyY2UoaW1hZ2UsIGRvbWFpbiwgZW52KSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VGlsZVNvdXJjZSA9IChpbWFnZTogV3JhcHBlZEltYWdlRGF0YUNvbnRlbnQsIGRvbWFpbjogRG9tYWluLCBlbnY6IEZvbGQzRW52aXJvbm1lbnQpOiBUaWxlU291cmNlT3B0aW9ucyA9PiB7XG5cdGNvbnN0IHsgaGVpZ2h0LCB3aWR0aCB9ID0gZ2V0RG9jdW1lbnQoaW1hZ2UpO1xuXHRjb25zdCBpbWFnZUlkID0gZ2V0V3JhcHBlZENvbnRlbnRJZChpbWFnZSk7XG5cdGNvbnN0IHRva2VuID0gZ2V0SW1hZ2VUb2tlbihpbWFnZSk7XG5cblx0aWYgKHRva2VuKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGhlaWdodCxcblx0XHRcdHdpZHRoLFxuXHRcdFx0dGlsZVNpemU6IDUxMixcblx0XHRcdGdldFRpbGVVcmwobGV2ZWw6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcblx0XHRcdFx0cmV0dXJuIGAke2dldEltYWdlSG9zdChkb21haW4sIGVudil9L2ltZy9kei8ke2ltYWdlSWR9LyR7bGV2ZWx9LyR7eH1fJHt5fS5qcGVnP3Rva2VuPSR7dG9rZW59YDtcblx0XHRcdH0sXG5cdFx0fSBhcyBUaWxlU291cmNlT3B0aW9ucztcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0aGVpZ2h0LFxuXHRcdFx0d2lkdGgsXG5cdFx0XHRtYXhMZXZlbDogMCxcblx0XHRcdG1pbkxldmVsOiAwLFxuXHRcdFx0dGlsZVNpemU6IE1hdGgubWF4KHdpZHRoLCBoZWlnaHQpLFxuXHRcdFx0Z2V0VGlsZVVybCgpIHtcblx0XHRcdFx0cmV0dXJuIGdldFRodW1ibmFpbCh7IGRvbWFpbiwgZW52aXJvbm1lbnQ6IGVudiwgcGF0aDogJ3JlZmVyZW5jZScsIHF1ZXJ5OiB7IGhlaWdodDogNDAwLCB3aWR0aDogNDAwIH0sIHJlZjogZ2V0V3JhcHBlZENvbnRlbnRSZWYoaW1hZ2UpIH0pO1xuXHRcdFx0fSxcblx0XHR9IGFzIFRpbGVTb3VyY2VPcHRpb25zO1xuXHR9XG59O1xuXG5leHBvcnQgY29uc3QgcGFkUmVjdGFuZ2xlID0gKHJlY3Q6IFJlY3RhbmdsZSwgcGFkZGluZzogbnVtYmVyID0gMCkgPT4ge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMocmVjdCkucmVkdWNlKChmaW5hbE9iaiwga2V5KSA9PiB7XG5cdFx0c3dpdGNoIChrZXkpIHtcblx0XHRcdGNhc2UgJ3cnOlxuXHRcdFx0Y2FzZSAnaCc6XG5cdFx0XHRcdGZpbmFsT2JqW2tleV0gPSByZWN0W2tleV0gKyBwYWRkaW5nICogMjtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICd4Jzpcblx0XHRcdGNhc2UgJ3knOlxuXHRcdFx0XHRmaW5hbE9ialtrZXldID0gcmVjdFtrZXldIC0gcGFkZGluZztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdyb3RhdGlvbic6XG5cdFx0XHRcdGZpbmFsT2JqW2tleV0gPSByZWN0W2tleV07XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdHJldHVybiBmaW5hbE9iajtcblx0fSwge30gYXMgUmVjdGFuZ2xlKTtcbn07XG5cbmV4cG9ydCBjb25zdCB6b29tVG9SZWN0YW5nbGUgPSAoT1NEVmlld2VyOiBPcGVuU2VhZHJhZ29uLlZpZXdlciwgcmVjdGFuZ2xlOiBSZWN0YW5nbGUsIHBhZGRpbmc6IG51bWJlciA9IDApID0+IHtcblx0bGV0IHBhZGRlZFJlY3QgPSBwYWRSZWN0YW5nbGUocmVjdGFuZ2xlLCBwYWRkaW5nKTtcblx0T1NEVmlld2VyPy52aWV3cG9ydC5maXRCb3VuZHNXaXRoQ29uc3RyYWludHMocmVjdFRvT1NEUmVjdChPU0RWaWV3ZXIsIHBhZGRlZFJlY3QpKTtcbn07XG5cbmV4cG9ydCBjb25zdCByZWN0VG9PU0RSZWN0ID0gKE9TRFZpZXdlcjogT3BlblNlYWRyYWdvbi5WaWV3ZXIsIHJlY3RhbmdsZTogUmVjdGFuZ2xlKSA9PiB7XG5cdGNvbnN0IHsgeCwgeSwgaCwgdyB9ID0gcmVjdGFuZ2xlO1xuXHRyZXR1cm4gT1NEVmlld2VyPy52aWV3cG9ydC5pbWFnZVRvVmlld3BvcnRSZWN0YW5nbGUoeCwgeSwgdywgaCk7XG59O1xuXG5leHBvcnQgY29uc3Qgem9vbUluID0gKE9TRFZpZXdlcjogT3BlblNlYWRyYWdvbi5WaWV3ZXIpID0+IHtcblx0T1NEVmlld2VyLnZpZXdwb3J0Lnpvb21CeSgoT1NEVmlld2VyIGFzIGFueSkuem9vbVBlckNsaWNrKTtcblx0T1NEVmlld2VyLnZpZXdwb3J0LmFwcGx5Q29uc3RyYWludHMoKTtcbn07XG5cbmV4cG9ydCBjb25zdCB6b29tT3V0ID0gKE9TRFZpZXdlcjogT3BlblNlYWRyYWdvbi5WaWV3ZXIpID0+IHtcblx0T1NEVmlld2VyLnZpZXdwb3J0Lnpvb21CeSgxIC8gKE9TRFZpZXdlciBhcyBhbnkpLnpvb21QZXJDbGljayk7XG5cdE9TRFZpZXdlci52aWV3cG9ydC5hcHBseUNvbnN0cmFpbnRzKCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVzZXRab29tID0gKE9TRFZpZXdlcjogT3BlblNlYWRyYWdvbi5WaWV3ZXIpID0+IHtcblx0T1NEVmlld2VyLnZpZXdwb3J0Lnpvb21UbygwKTtcblx0T1NEVmlld2VyLnZpZXdwb3J0LmFwcGx5Q29uc3RyYWludHMoKTtcbn07XG5cbmNvbnN0IGdldFZpZXdwb3J0UmVjdCA9IChPU0RWaWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyKSA9PiB7XG5cdHJldHVybiBPU0RWaWV3ZXIudmlld3BvcnQuZ2V0Qm91bmRzKCk7XG59O1xuXG5jb25zdCBnZXRJbWFnZVJlY3QgPSAoT1NEVmlld2VyOiBPcGVuU2VhZHJhZ29uLlZpZXdlciwgaW1hZ2VOdW06IG51bWJlciA9IDApID0+IHtcblx0bGV0IHJvdGF0aW9uID0gZ2V0Um90YXRpb24oT1NEVmlld2VyKTtcblx0bGV0IGlzUm90YXRlZCA9IHJvdGF0aW9uID09PSA5MCB8fCByb3RhdGlvbiA9PT0gMjcwO1xuXHRsZXQgcmVjdCA9IE9TRFZpZXdlci52aWV3cG9ydC52aWV3cG9ydFRvVmlld2VyRWxlbWVudFJlY3RhbmdsZShnZXRJbWFnZShPU0RWaWV3ZXIsIGltYWdlTnVtKT8uZ2V0Qm91bmRzKCkpO1xuXG5cdHJldHVybiB7XG5cdFx0cm90YXRlZDoge1xuXHRcdFx0d2lkdGg6IHJlY3Qud2lkdGgsXG5cdFx0XHRoZWlnaHQ6IHJlY3QuaGVpZ2h0LFxuXHRcdH0sXG5cdFx0dW5yb3RhdGVkOiB7XG5cdFx0XHR3aWR0aDogaXNSb3RhdGVkID8gcmVjdC5oZWlnaHQgOiByZWN0LndpZHRoLFxuXHRcdFx0aGVpZ2h0OiBpc1JvdGF0ZWQgPyByZWN0LndpZHRoIDogcmVjdC5oZWlnaHQsXG5cdFx0fSxcblx0fTtcbn07XG5cbmNvbnN0IGdldEltYWdlRGltZW5zaW9ucyA9IChPU0RWaWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyLCBpbWFnZU51bTogbnVtYmVyID0gMCk6IE9wZW5TZWFkcmFnb24uUG9pbnQgPT4ge1xuXHRyZXR1cm4gZ2V0SW1hZ2UoT1NEVmlld2VyLCBpbWFnZU51bSk/LmdldENvbnRlbnRTaXplKCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0SW1hZ2UgPSAoT1NEVmlld2VyOiBPcGVuU2VhZHJhZ29uLlZpZXdlciwgaW1hZ2VOdW06IG51bWJlciA9IDApID0+IHtcblx0cmV0dXJuIE9TRFZpZXdlci53b3JsZC5nZXRJdGVtQXQoaW1hZ2VOdW0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFZpc2libGVJbWFnZUNyb3AgPSAoT1NEVmlld2VyOiBPcGVuU2VhZHJhZ29uLlZpZXdlciwgY29uc3RyYWluOiBib29sZWFuID0gdHJ1ZSk6IFBlcmNlbnRDcm9wID0+IHtcblx0Y29uc3QgdmlzaWJsZVJlY3QgPSBnZXRWaXNpYmxlSW1hZ2VSZWN0YW5nbGUoT1NEVmlld2VyKTtcblx0aWYgKCF2aXNpYmxlUmVjdCkgcmV0dXJuIHt9IGFzIFBlcmNlbnRDcm9wO1xuXG5cdGNvbnN0IGltYWdlU2l6ZSA9IGdldEltYWdlRGltZW5zaW9ucyhPU0RWaWV3ZXIsIDApO1xuXG5cdHJldHVybiB7XG5cdFx0aGVpZ2h0OiB2aXNpYmxlUmVjdC5oIC8gaW1hZ2VTaXplLnkgKiAxMDAsXG5cdFx0d2lkdGg6IHZpc2libGVSZWN0LncgLyBpbWFnZVNpemUueCAqIDEwMCxcblx0XHR4OiB2aXNpYmxlUmVjdC54IC8gaW1hZ2VTaXplLnggKiAxMDAsXG5cdFx0eTogdmlzaWJsZVJlY3QueSAvIGltYWdlU2l6ZS55ICogMTAwLFxuXHRcdHVuaXQ6ICclJyxcblx0fTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRSb3RhdGlvbiA9IChPU0RWaWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyKSA9PiB7XG5cdHJldHVybiBPU0RWaWV3ZXI/LnZpZXdwb3J0LmdldFJvdGF0aW9uKCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VmlzaWJsZUltYWdlUmVjdGFuZ2xlID0gKE9TRFZpZXdlcjogT3BlblNlYWRyYWdvbi5WaWV3ZXIpOiBSZWN0YW5nbGUgPT4ge1xuXHRpZiAoIU9TRFZpZXdlcikgcmV0dXJuIG51bGw7XG5cblx0Y29uc3Qgdmlld3BvcnRSZWN0ID0gZ2V0Vmlld3BvcnRSZWN0KE9TRFZpZXdlcik7XG5cdGNvbnN0IHZpc2libGVJbWFnZVJlY3QgPSBPU0RWaWV3ZXIudmlld3BvcnQudmlld3BvcnRUb0ltYWdlUmVjdGFuZ2xlKHZpZXdwb3J0UmVjdCk7XG5cdGNvbnN0IGltYWdlUmVjdCA9IGdldEltYWdlRGltZW5zaW9ucyhPU0RWaWV3ZXIpO1xuXG5cdGlmICghaW1hZ2VSZWN0KSByZXR1cm4gbnVsbDtcblxuXHRyZXR1cm4ge1xuXHRcdHg6IE1hdGgucm91bmQoTWF0aC5tYXgodmlzaWJsZUltYWdlUmVjdC54LCAwKSksXG5cdFx0eTogTWF0aC5yb3VuZChNYXRoLm1heCh2aXNpYmxlSW1hZ2VSZWN0LnksIDApKSxcblx0XHRoOiBNYXRoLnJvdW5kKE1hdGgubWluKHZpc2libGVJbWFnZVJlY3QuaGVpZ2h0LCBpbWFnZVJlY3QueSkpLFxuXHRcdHc6IE1hdGgucm91bmQoTWF0aC5taW4odmlzaWJsZUltYWdlUmVjdC53aWR0aCwgaW1hZ2VSZWN0LngpKSxcblx0XHRyb3RhdGlvbjogZ2V0Um90YXRpb24oT1NEVmlld2VyKSxcblx0fTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcm9wVG9JbWFnZVJlY3QgPSAoY3JvcDogQ3JvcCwgT1NEVmlld2VyOiBPcGVuU2VhZHJhZ29uLlZpZXdlcik6IFJlY3RhbmdsZSA9PiB7XG5cdGxldCBwaXhlbENyb3AgPSB0b1BpeGVsQ3JvcChjcm9wLCBPU0RWaWV3ZXIpO1xuXHRsZXQgeyB4LCB5LCB3aWR0aCwgaGVpZ2h0IH0gPSB1bnJvdGF0ZUNyb3AocGl4ZWxDcm9wLCBPU0RWaWV3ZXIpO1xuXG5cdGxldCB6b29tUmF0aW8gPSBnZXRab29tUmF0aW8oT1NEVmlld2VyKTtcblxuXHRyZXR1cm4ge1xuXHRcdHc6IHdpZHRoIC8gem9vbVJhdGlvLFxuXHRcdGg6IGhlaWdodCAvIHpvb21SYXRpbyxcblx0XHR4OiB4IC8gem9vbVJhdGlvLFxuXHRcdHk6IHkgLyB6b29tUmF0aW8sXG5cdFx0cm90YXRpb246IDAsXG5cdH07XG59O1xuXG5mdW5jdGlvbiBnZXRab29tUmF0aW8oT1NEVmlld2VyOiBPcGVuU2VhZHJhZ29uLlZpZXdlcikge1xuXHRsZXQgeyB4OiBpbWFnZVdpZHRoIH0gPSBnZXRJbWFnZURpbWVuc2lvbnMoT1NEVmlld2VyKTtcblx0bGV0IHsgdW5yb3RhdGVkOiB7IHdpZHRoOiBkaXNwbGF5ZWRXaWR0aCB9IH0gPSBnZXRJbWFnZVJlY3QoT1NEVmlld2VyKTtcblxuXHRyZXR1cm4gZGlzcGxheWVkV2lkdGggLyBpbWFnZVdpZHRoOyAvLyBqdXN0IHVzaW5nIHdpZHRoIGJlY2F1c2UgaXQgc2hvdWxkIGJlIHRoZSBzYW1lIGFzIGhlaWdodFxufVxuXG4vKiBUaGUgY3JvcCBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgdW5yb3RhdGVkICovXG5jb25zdCB0b1BlcmNlbnRDcm9wID0gKGNyb3A6IENyb3AsIE9TRFZpZXdlcjogT3BlblNlYWRyYWdvbi5WaWV3ZXIpOiBQZXJjZW50Q3JvcCA9PiB7XG5cdGlmIChjcm9wLnVuaXQgPT09ICclJykgcmV0dXJuIGNyb3AgYXMgUGVyY2VudENyb3A7XG5cblx0bGV0IHsgcm90YXRlZDogeyB3aWR0aCwgaGVpZ2h0IH0gfSA9IGdldEltYWdlUmVjdChPU0RWaWV3ZXIpO1xuXG5cdHJldHVybiB7XG5cdFx0dW5pdDogJyUnLFxuXHRcdHdpZHRoOiBjcm9wLndpZHRoIC8gd2lkdGggKiAxMDAsXG5cdFx0aGVpZ2h0OiBjcm9wLmhlaWdodCAvIGhlaWdodCAqIDEwMCxcblx0XHR4OiBjcm9wLnggLyB3aWR0aCAqIDEwMCxcblx0XHR5OiBjcm9wLnkgLyBoZWlnaHQgKiAxMDAsXG5cdH07XG59O1xuXG4vKiBUaGUgY3JvcCBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgdW5yb3RhdGVkICovXG5jb25zdCB0b1BpeGVsQ3JvcCA9IChjcm9wOiBDcm9wLCBPU0RWaWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyKTogUGl4ZWxDcm9wID0+IHtcblx0aWYgKGNyb3AudW5pdCA9PT0gJ3B4JykgcmV0dXJuIGNyb3AgYXMgUGl4ZWxDcm9wO1xuXG5cdGxldCB7IHJvdGF0ZWQ6IHsgd2lkdGgsIGhlaWdodCB9IH0gPSBnZXRJbWFnZVJlY3QoT1NEVmlld2VyKTtcblxuXHRyZXR1cm4ge1xuXHRcdHVuaXQ6ICdweCcsXG5cdFx0d2lkdGg6IGNyb3Aud2lkdGggIC8gMTAwICogd2lkdGgsXG5cdFx0aGVpZ2h0OiBjcm9wLmhlaWdodCAvIDEwMCAqIGhlaWdodCxcblx0XHR4OiBjcm9wLnggLyAxMDAgKiB3aWR0aCxcblx0XHR5OiBjcm9wLnkgLyAxMDAgKiBoZWlnaHQsXG5cdH07XG59O1xuXG5mdW5jdGlvbiB1bnJvdGF0ZUNyb3AoY3JvcDogUGl4ZWxDcm9wLCBPU0RWaWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyKTogUGl4ZWxDcm9wO1xuZnVuY3Rpb24gdW5yb3RhdGVDcm9wKGNyb3A6IFBlcmNlbnRDcm9wLCBPU0RWaWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyKTogUGVyY2VudENyb3A7XG5mdW5jdGlvbiB1bnJvdGF0ZUNyb3AoY3JvcDogQ3JvcCwgT1NEVmlld2VyOiBPcGVuU2VhZHJhZ29uLlZpZXdlcik6IENyb3A7XG5mdW5jdGlvbiB1bnJvdGF0ZUNyb3AoY3JvcDogQ3JvcCwgT1NEVmlld2VyOiBPcGVuU2VhZHJhZ29uLlZpZXdlcik6IENyb3Age1xuXHRsZXQgcGl4ZWxDcm9wID0gdG9QaXhlbENyb3AoY3JvcCwgT1NEVmlld2VyKTtcblx0bGV0IHsgdW5yb3RhdGVkOiB7IHdpZHRoLCBoZWlnaHQgfSB9ID0gZ2V0SW1hZ2VSZWN0KE9TRFZpZXdlcik7XG5cdGNvbnN0IHJvdGF0aW9uID0gZ2V0Um90YXRpb24oT1NEVmlld2VyKTtcblxuXHRsZXQgdW5yb3RhdGVkQ3JvcDogUGl4ZWxDcm9wO1xuXG5cdHN3aXRjaCAocm90YXRpb24pIHtcblx0XHRjYXNlIDA6XG5cdFx0XHR1bnJvdGF0ZWRDcm9wID0gcGl4ZWxDcm9wO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSA5MDpcblx0XHRcdHVucm90YXRlZENyb3AgPSB7XG5cdFx0XHRcdC4uLnBpeGVsQ3JvcCxcblx0XHRcdFx0d2lkdGg6IHBpeGVsQ3JvcC5oZWlnaHQsXG5cdFx0XHRcdGhlaWdodDogcGl4ZWxDcm9wLndpZHRoLFxuXHRcdFx0XHR4OiBwaXhlbENyb3AueSxcblx0XHRcdFx0eTogaGVpZ2h0IC0gKHBpeGVsQ3JvcC54ICsgcGl4ZWxDcm9wLndpZHRoKSxcblx0XHRcdH07XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIDE4MDpcblx0XHRcdHVucm90YXRlZENyb3AgPSB7XG5cdFx0XHRcdC4uLnBpeGVsQ3JvcCxcblx0XHRcdFx0eDogd2lkdGggLSAocGl4ZWxDcm9wLnggKyBwaXhlbENyb3Aud2lkdGgpLFxuXHRcdFx0XHR5OiBoZWlnaHQgLSAocGl4ZWxDcm9wLnkgKyBwaXhlbENyb3AuaGVpZ2h0KSxcblx0XHRcdH07XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIDI3MDpcblx0XHRcdHVucm90YXRlZENyb3AgPSB7XG5cdFx0XHRcdC4uLnBpeGVsQ3JvcCxcblx0XHRcdFx0d2lkdGg6IHBpeGVsQ3JvcC5oZWlnaHQsXG5cdFx0XHRcdGhlaWdodDogcGl4ZWxDcm9wLndpZHRoLFxuXHRcdFx0XHR4OiB3aWR0aCAtIChwaXhlbENyb3AueSArIHBpeGVsQ3JvcC5oZWlnaHQpLFxuXHRcdFx0XHR5OiBwaXhlbENyb3AueCxcblx0XHRcdH07XG5cdFx0XHRicmVhaztcblx0fVxuXG5cdHN3aXRjaCAoY3JvcC51bml0KSB7XG5cdFx0Y2FzZSAnJSc6IHJldHVybiB0b1BlcmNlbnRDcm9wKHVucm90YXRlZENyb3AsIE9TRFZpZXdlcik7XG5cdFx0Y2FzZSAncHgnOiByZXR1cm4gdW5yb3RhdGVkQ3JvcDtcblx0fVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBpbWFnZVJlY3RUb0Nyb3AoT1NEVmlld2VyOiBPcGVuU2VhZHJhZ29uLlZpZXdlciwgcmVjdDogUmVjdGFuZ2xlLCB1bml0OiAnJScpOiBQZXJjZW50Q3JvcDtcbmV4cG9ydCBmdW5jdGlvbiBpbWFnZVJlY3RUb0Nyb3AoT1NEVmlld2VyOiBPcGVuU2VhZHJhZ29uLlZpZXdlciwgcmVjdDogUmVjdGFuZ2xlLCB1bml0OiAncHgnKTogUGl4ZWxDcm9wO1xuZXhwb3J0IGZ1bmN0aW9uIGltYWdlUmVjdFRvQ3JvcChPU0RWaWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyLCByZWN0OiBSZWN0YW5nbGUsIHVuaXQ6ICclJyB8ICdweCcpOiBDcm9wIHtcblx0Y29uc3Qgem9vbVJhdGlvID0gZ2V0Wm9vbVJhdGlvKE9TRFZpZXdlcik7XG5cblx0bGV0IGNyb3A6IENyb3AgPSB7XG5cdFx0d2lkdGg6IHJlY3QudyAqIHpvb21SYXRpbyxcblx0XHRoZWlnaHQ6IHJlY3QuaCAqIHpvb21SYXRpbyxcblx0XHR4OiByZWN0LnggKiB6b29tUmF0aW8sXG5cdFx0eTogcmVjdC55ICogem9vbVJhdGlvLFxuXHRcdHVuaXQ6ICdweCcsXG5cdH07XG5cblx0aWYgKHVuaXQgPT09ICclJykge1xuXHRcdGNyb3AgPSB0b1BlcmNlbnRDcm9wKGNyb3AsIE9TRFZpZXdlcik7XG5cdH1cblxuXHRyZXR1cm4gcm90YXRlQ3JvcChjcm9wLCBPU0RWaWV3ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQ3JvcChjcm9wOiBQaXhlbENyb3AsIE9TRFZpZXdlcjogT3BlblNlYWRyYWdvbi5WaWV3ZXIpOiBQaXhlbENyb3A7XG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQ3JvcChjcm9wOiBQZXJjZW50Q3JvcCwgT1NEVmlld2VyOiBPcGVuU2VhZHJhZ29uLlZpZXdlcik6IFBlcmNlbnRDcm9wO1xuZXhwb3J0IGZ1bmN0aW9uIHJvdGF0ZUNyb3AoY3JvcDogQ3JvcCwgT1NEVmlld2VyOiBPcGVuU2VhZHJhZ29uLlZpZXdlcik6IENyb3A7XG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQ3JvcChjcm9wOiBDcm9wLCBPU0RWaWV3ZXI6IE9wZW5TZWFkcmFnb24uVmlld2VyKTogQ3JvcCB7XG5cdGxldCBwaXhlbENyb3AgPSB0b1BpeGVsQ3JvcChjcm9wLCBPU0RWaWV3ZXIpO1xuXHRsZXQgeyB1bnJvdGF0ZWQ6IHsgd2lkdGgsIGhlaWdodCB9IH0gPSBnZXRJbWFnZVJlY3QoT1NEVmlld2VyKTtcblx0Y29uc3Qgcm90YXRpb24gPSBnZXRSb3RhdGlvbihPU0RWaWV3ZXIpO1xuXG5cdGxldCByb3RhdGVkQ3JvcDogUGl4ZWxDcm9wO1xuXG5cdHN3aXRjaCAocm90YXRpb24pIHtcblx0XHRjYXNlIDA6XG5cdFx0XHRyb3RhdGVkQ3JvcCA9IHBpeGVsQ3JvcDtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgOTA6XG5cdFx0XHRyb3RhdGVkQ3JvcCA9IHtcblx0XHRcdFx0Li4ucGl4ZWxDcm9wLFxuXHRcdFx0XHR4OiBoZWlnaHQgLSAocGl4ZWxDcm9wLnkgKyBwaXhlbENyb3AuaGVpZ2h0KSxcblx0XHRcdFx0eTogcGl4ZWxDcm9wLngsXG5cdFx0XHRcdHdpZHRoOiBwaXhlbENyb3AuaGVpZ2h0LFxuXHRcdFx0XHRoZWlnaHQ6IHBpeGVsQ3JvcC53aWR0aCxcblx0XHRcdH07XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIDE4MDpcblx0XHRcdHJvdGF0ZWRDcm9wID0ge1xuXHRcdFx0XHQuLi5waXhlbENyb3AsXG5cdFx0XHRcdHg6IHdpZHRoIC0gKHBpeGVsQ3JvcC54ICsgcGl4ZWxDcm9wLndpZHRoKSxcblx0XHRcdFx0eTogaGVpZ2h0IC0gKHBpeGVsQ3JvcC55ICsgcGl4ZWxDcm9wLmhlaWdodCksXG5cdFx0XHR9O1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAyNzA6XG5cdFx0XHRyb3RhdGVkQ3JvcCA9IHtcblx0XHRcdFx0Li4ucGl4ZWxDcm9wLFxuXHRcdFx0XHR4OiBwaXhlbENyb3AueSxcblx0XHRcdFx0eTogd2lkdGggLSAocGl4ZWxDcm9wLnggKyBwaXhlbENyb3Aud2lkdGgpLFxuXHRcdFx0XHR3aWR0aDogcGl4ZWxDcm9wLmhlaWdodCxcblx0XHRcdFx0aGVpZ2h0OiBwaXhlbENyb3Aud2lkdGgsXG5cdFx0XHR9O1xuXHRcdFx0YnJlYWs7XG5cdH1cblxuXHRzd2l0Y2ggKGNyb3AudW5pdCkge1xuXHRcdGNhc2UgJ3B4JzogcmV0dXJuIHJvdGF0ZWRDcm9wO1xuXHRcdGNhc2UgJyUnOiByZXR1cm4gdG9QZXJjZW50Q3JvcChyb3RhdGVkQ3JvcCwgT1NEVmlld2VyKTtcblx0fVxufVxuXG5leHBvcnQgY29uc3Qgc3ViUmVjdFRvUmVsYXRpdmVSZWN0ID0gKHJlY3Q6IFJlY3RhbmdsZSwgaW1hZ2VSZWN0OiBSZWN0YW5nbGUpOiBSZWN0YW5nbGUgPT4ge1xuXHRyZXR1cm4ge1xuXHRcdC4uLnJlY3QsXG5cdFx0eDogcmVjdC54IC8gaW1hZ2VSZWN0LncsXG5cdFx0eTogcmVjdC55IC8gaW1hZ2VSZWN0LmgsXG5cdFx0dzogcmVjdC53IC8gaW1hZ2VSZWN0LncsXG5cdFx0aDogcmVjdC5oIC8gaW1hZ2VSZWN0LmgsXG5cdH07XG59O1xuXG5leHBvcnQgY29uc3QgcmVsYXRpdmVSZWN0VG9Dc3NSZWN0ID0gKHJlY3Q6IFJlY3RhbmdsZSkgPT4ge1xuXHRyZXR1cm4ge1xuXHRcdHdpZHRoOiBgJHtyZWN0LncgKiAxMDB9JWAsXG5cdFx0aGVpZ2h0OiBgJHtyZWN0LmggKiAxMDB9JWAsXG5cdFx0bGVmdDogYCR7cmVjdC54ICogMTAwfSVgLFxuXHRcdHRvcDogYCR7cmVjdC55ICogMTAwfSVgLFxuXHR9O1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBHZW5lcmF0ZVBkZkNvbnRlbnRPcHRpb25zIHtcblx0b2JqUmVmOiBPYmplY3RSZWZlcmVuY2Vcblx0cmVwb3J0ZWRPYmpSZWY/OiBPYmplY3RSZWZlcmVuY2Vcblx0ZmlsZUluZGV4OiBGaWxlSW5kZXhTaW5nbGV0b25cblx0ZW52aXJvbm1lbnQ6IEZvbGQzRW52aXJvbm1lbnRcblx0ZG9tYWluOiBEb21haW5cblx0b3B0aW9uczogSW1hZ2VVcmxPcHRpb25zXG5cdGltYWdlQ29udGVudDogV3JhcHBlZEltYWdlRGF0YUNvbnRlbnRcblx0c3ViSW1hZ2VDb250ZW50PzogV3JhcHBlZFN1YkltYWdlRGF0YUNvbnRlbnRcblx0Y2x1c3RlcjogRmlsbXN0cmlwQ2x1c3RlclxuXHR0aXRsZTogc3RyaW5nXG5cdHB1YmxpY2F0aW9uOiBDb21wYWN0UHVibGljYXRpb25cbn1cblxuY29uc3QgZ2VuZXJhdGVQREZDb250ZW50ID0gYXN5bmMgKHsgb2JqUmVmLCBmaWxlSW5kZXgsIGVudmlyb25tZW50LCBkb21haW4sIG9wdGlvbnMsIGltYWdlQ29udGVudCwgc3ViSW1hZ2VDb250ZW50LCBjbHVzdGVyLCBwdWJsaWNhdGlvbiB9OiBHZW5lcmF0ZVBkZkNvbnRlbnRPcHRpb25zKSA9PiB7XG5cdGNvbnN0IHRva2VuID0gZ2V0SW1hZ2VUb2tlbihpbWFnZUNvbnRlbnQpO1xuXHRjb25zdCBhbmNob3JJbWFnZUlkID0gK2dldFdyYXBwZWRDb250ZW50SWQoaW1hZ2VDb250ZW50KTtcblxuXHRjb25zdCB7IGNvbnRlbnRUeXBlIH0gPSBvYmpSZWYgfHwge307XG5cdGNvbnN0IHBkZk9iaiA9IGNvbnRlbnRUeXBlID09PSAnU1VCX0lNQUdFJyA/IHN1YkltYWdlQ29udGVudCA6IGltYWdlQ29udGVudDtcblxuXHRsZXQgZW52OiBGb2xkM0Vudmlyb25tZW50ID0gZW52aXJvbm1lbnQ7XG5cdGVudiA9IGVudi5yZXBsYWNlKC9sb2NhbDo/LywgJycpIGFzIEZvbGQzRW52aXJvbm1lbnQgfHwgJ2Rldic7XG5cblx0Y29uc3QgaXNDbHVzdGVyID0gISEoIWNvbnRlbnRUeXBlICYmIGNsdXN0ZXIpO1xuXG5cdGNvbnN0IHByb3BzOiBJbWFnZVBkZlBhZ2VQcm9wcyA9IHtcblx0XHRvcHRpb25zLFxuXHRcdGRvbWFpbixcblx0XHRlbnZpcm9ubWVudDogZW52LCAvLyBUaGlzIGlzIHNvIHRoYXQgd2UgZG9uJ3Qgc2VuZCBsb2NhbGYzLmNvbSB1cmxzIHRvIEphdmEgd2hpY2ggZG9lc24ndCBoYXZlIGFjY2VzcyBhbmQgd2lsbCBmYWlsXG5cdFx0bWV0YWRhdGE6IFtdLFxuXHRcdGFuY2hvckltYWdlSWQsXG5cdH0gYXMgSW1hZ2VQZGZQYWdlUHJvcHM7XG5cblx0Y29uc3QgYWRkT2JqUmVmTWV0YWRhdGEgPSAoKSA9PiB7XG5cdFx0aWYgKG9ialJlZikge1xuXHRcdFx0cHJvcHMubWV0YWRhdGEucHVzaCh7XG5cdFx0XHRcdG5hbWU6ICdzb3VyY2UnLFxuXHRcdFx0XHRsYWJlbDogJ1NvdXJjZSBVUkwnLFxuXHRcdFx0XHR2YWx1ZTogZ2V0RnVsbENvbnRlbnRVcmwoXG5cdFx0XHRcdFx0ZG9tYWluLFxuXHRcdFx0XHRcdGVudixcblx0XHRcdFx0XHRvYmpSZWYsXG5cdFx0XHRcdFx0Z2V0Q29udGVudFNsdWcocGRmT2JqKSxcblx0XHRcdFx0KSxcblx0XHRcdFx0Y3JlYXRlZDogbnVsbCxcblx0XHRcdH0pO1xuXHRcdH1cblx0fTtcblxuXHRpZiAoY29udGVudFR5cGUgPT09ICdGSUxFJyB8fCBpc0NsdXN0ZXIpIHtcblx0XHRsZXQgaW1hZ2VJZHM6IG51bWJlcltdO1xuXG5cdFx0aWYgKGlzQ2x1c3Rlcikge1xuXHRcdFx0aW1hZ2VJZHMgPSBhd2FpdCBuZXcgRmlsbXN0cmlwQXBpKCkuZ2V0Q2x1c3RlcihhbmNob3JJbWFnZUlkKTtcblxuXHRcdFx0cHJvcHMubWV0YWRhdGEucHVzaCh7XG5cdFx0XHRcdG5hbWU6ICdUaXRsZScsXG5cdFx0XHRcdHZhbHVlOiBjbHVzdGVyLmNsdXN0ZXJUaXRsZSxcblx0XHRcdFx0Y3JlYXRlZDogbnVsbCxcblx0XHRcdH0sIHtcblx0XHRcdFx0bmFtZTogJ1RvdGFsIEltYWdlcycsXG5cdFx0XHRcdHZhbHVlOiBTdHJpbmcoY2x1c3Rlci5zaXplKSxcblx0XHRcdFx0Y3JlYXRlZDogbnVsbCxcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvKiBUaGVzZSBhcmUgbGlrZWx5IGFscmVhZHkgY2FjaGVkLCBidXQganVzdCBpbiBjYXNlLCB3ZSBhcmUgZG9pbmcgdGhlbSBhc3luY2hyb25vdXNseSAqL1xuXHRcdFx0Y29uc3QgY2x1c3RlcklkID0gZ2V0Q2x1c3RlcklkKGltYWdlQ29udGVudCk7XG5cdFx0XHRjb25zdCBmaWxlTWV0YWRhdGEgPSBmaWxlSW5kZXguZ2V0RmlsZUluZGV4TWVkYXRhdGEoY2x1c3RlcklkKTtcblx0XHRcdGNvbnN0IGltYWdlcyA9IGF3YWl0IGZpbGVJbmRleC5nZXRGaWxlSW5kZXhJbWFnZURhdGFBc3luYyhjbHVzdGVySWQpO1xuXHRcdFx0aW1hZ2VJZHMgPSBpbWFnZXMubWFwKGl0ZW0gPT4gaXRlbS5pbWFnZUlkKTtcblxuXHRcdFx0YWRkT2JqUmVmTWV0YWRhdGEoKTtcblx0XHRcdHByb3BzLm1ldGFkYXRhLnB1c2goLi4uZmlsZU1ldGFkYXRhKTtcblx0XHR9XG5cblx0XHRwcm9wcy50b2tlbnMgPSBpbWFnZUlkcy5tYXAoaWQgPT4ge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aW1hZ2VJZDogaWQsXG5cdFx0XHRcdHRva2VuLFxuXHRcdFx0XHR3aWR0aDogb3B0aW9ucy53aWR0aCxcblx0XHRcdFx0aGVpZ2h0OiBvcHRpb25zLmhlaWdodCxcblx0XHRcdH07XG5cdFx0fSk7XG5cblx0XHRkZWxldGUgcHJvcHM/Lm9wdGlvbnM/LmNyb3A7IC8vIGp1c3QgaW4gY2FzZSBpdCBhY2NpZGVudGFsbHkgZ2V0cyBwYXNzZWQgaW4uXG5cdH0gZWxzZSB7XG5cdFx0cHJvcHMudG9rZW5zID0gW3tcblx0XHRcdGhlaWdodDogb3B0aW9ucy5oZWlnaHQsXG5cdFx0XHR3aWR0aDogb3B0aW9ucy53aWR0aCxcblx0XHRcdGltYWdlSWQ6IGFuY2hvckltYWdlSWQsXG5cdFx0XHR0b2tlbixcblx0XHR9XTtcblxuXHRcdGFkZE9ialJlZk1ldGFkYXRhKCk7XG5cblx0XHRpZiAoY29udGVudFR5cGUgPT09ICdTVUJfSU1BR0UnKSB7XG5cdFx0XHRwcm9wcy5tZXRhZGF0YS5wdXNoKC4uLnN1YkltYWdlQ29udGVudC5kb2N1bWVudC5tZXRhZGF0YSB8fCBbXSk7XG5cdFx0fVxuXG5cdFx0cHJvcHMubWV0YWRhdGEucHVzaCguLi5pbWFnZUNvbnRlbnQuZG9jdW1lbnQubWV0YWRhdGEgfHwgW10pO1xuXHR9XG5cblx0aWYgKHB1YmxpY2F0aW9uLm1ldGFkYXRhKSB7XG5cdFx0cHJvcHMubWV0YWRhdGEucHVzaCguLi5wdWJsaWNhdGlvbi5tZXRhZGF0YSk7XG5cdH1cblxuXHRsZXQgY29udGVudCA9IFJlYWN0RE9NU2VydmVyLnJlbmRlclRvU3RhdGljTWFya3VwKFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW1hZ2VQZGZQYWdlLCBwcm9wcykpO1xuXHRyZXR1cm4gY29udGVudC5yZXBsYWNlQWxsKC9bXFxuXFx0XSsvZywgJycpO1xufTtcblxuZXhwb3J0IGNvbnN0IHF1ZXVlUGRmRG93bmxvYWQgPSBhc3luYyAob3B0aW9uczogR2VuZXJhdGVQZGZDb250ZW50T3B0aW9ucykgPT4ge1xuXHRjb25zdCBwZGZDb250ZW50ID0gYXdhaXQgZ2VuZXJhdGVQREZDb250ZW50KG9wdGlvbnMpO1xuXHRyZXR1cm4gYXdhaXQgbmV3IEltYWdlUGRmQXBpKCkucXVldWVEb2N1bWVudCh7IGRvYzogb3B0aW9ucy5yZXBvcnRlZE9ialJlZiwgY29udGVudDogcGRmQ29udGVudCwgZmlsZW5hbWU6IGAke29wdGlvbnMudGl0bGV9LnBkZmAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZG93bmxvYWRKcGcgPSAob3B0aW9uczogR2VuZXJhdGVQZGZDb250ZW50T3B0aW9ucywgdG9rZW46IHN0cmluZywgYmFja2VuZEhvc3RCYXNlOiBzdHJpbmcpID0+IHtcblx0Y29uc3QgeyByZXBvcnRlZE9ialJlZiB9ID0gb3B0aW9ucztcblxuXHRjb25zdCB1cmwgPSBnZXRJbWFnZURvd25sb2FkVXJsKFxuXHRcdHtcblx0XHRcdGltYWdlSWQ6ICtyZXBvcnRlZE9ialJlZi5vYmplY3RJZCxcblx0XHRcdHRva2VuLFxuXHRcdH0gYXMgRG9jdW1lbnRJbWFnZVRva2VuLFxuXHRcdHtcblx0XHRcdC4uLm9wdGlvbnMub3B0aW9ucyxcblx0XHRcdHRpdGxlOiBvcHRpb25zLnRpdGxlLFxuXHRcdH0sXG5cdFx0YmFja2VuZEhvc3RCYXNlLFxuXHQpO1xuXG5cdGRvd25sb2FkVXJsKHVybCk7XG59O1xuXG5leHBvcnQgY29uc3QgcHJpbnRQREZDb250ZW50ID0gKG9wdGlvbnM6IEdlbmVyYXRlUGRmQ29udGVudE9wdGlvbnMpID0+IHtcblx0cmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIHJlc29sdmUgPT4ge1xuXHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCBnZW5lcmF0ZVBERkNvbnRlbnQob3B0aW9ucyk7XG5cdFx0Y29uc3QgdyA9IHdpbmRvdy5vcGVuKCk7XG5cdFx0dy5kb2N1bWVudC5ib2R5LmlubmVySFRNTCA9IGNvbnRlbnQ7XG5cblx0XHRjb25zdCBhbGxJbWFnZXMgPSB3LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpO1xuXG5cdFx0aWYgKGFsbEltYWdlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRsZXQgbG9hZGVkSW1hZ2VzID0gMDtcblxuXHRcdFx0YWxsSW1hZ2VzLmZvckVhY2goaW1nID0+IHtcblx0XHRcdFx0aW1nLm9ubG9hZCA9ICgpID0+IHtcblx0XHRcdFx0XHRsb2FkZWRJbWFnZXMrKztcblx0XHRcdFx0XHRpZiAobG9hZGVkSW1hZ2VzID09PSBhbGxJbWFnZXMubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVMb2FkKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGhhbmRsZUxvYWQoKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuXHRcdFx0dy5wcmludCgpO1xuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0dy5jbG9zZSgpO1xuXHRcdFx0XHRyZXNvbHZlKG51bGwpO1xuXHRcdFx0fSwgNTAwKTtcblx0XHR9XG5cdH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkVXJsKHVybDogc3RyaW5nKSB7XG5cdGxldCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblx0ZWwuc2V0QXR0cmlidXRlKCdocmVmJywgdXJsKTtcblx0ZWwuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICd0cnVlJyk7XG5cdGVsLnNldEF0dHJpYnV0ZSgndGFyZ2V0JywgJ19ibGFuaycpO1xuXHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsKTtcblx0ZWwuY2xpY2soKTtcblx0ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRJbWFnZURvd25sb2FkVXJsID0gKGltYWdlVG9rZW46IERvY3VtZW50SW1hZ2VUb2tlbiwgb3B0aW9uczogSW1hZ2VVcmxPcHRpb25zLCBob3N0QmFzZTogc3RyaW5nLCBhbmNob3JJbWFnZUlkOiBudW1iZXIgPSBpbWFnZVRva2VuLmltYWdlSWQpID0+IHtcblx0Y29uc3QgeyBpbWFnZUlkLCAuLi5yZXN0IH0gPSBpbWFnZVRva2VuO1xuXG5cdGNvbnN0IHBhcmFtczogT2JqID0gZmlsdGVyRW1wdHkoe1xuXHRcdC4uLm9wdGlvbnMsXG5cdFx0Li4ucmVzdCxcblx0XHRpZDogaW1hZ2VJZCxcblx0XHRhbmNob3I6IGFuY2hvckltYWdlSWQsXG5cdFx0dGl0bGU6IG9wdGlvbnMudGl0bGUsXG5cdH0pO1xuXG5cdHJldHVybiBgaHR0cHM6Ly9pbWcuJHtob3N0QmFzZX0vaW1nL2ltZyR7dG9RdWVyeVN0cmluZyhwYXJhbXMpfWA7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UGRmRG93bmxvYWRVcmwgPSAocmVxdWVzdElkOiBzdHJpbmcsIGhvc3RCYXNlOiBzdHJpbmcpID0+IHtcblx0cmV0dXJuIGBodHRwczovL2ltZy4ke2hvc3RCYXNlfS9pbWcvcGRmLWdlbmVyYXRvci8ke3JlcXVlc3RJZH1gO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEltYWdlRGF0YVJlY3RhbmdsZSA9IChpbWFnZURhdGE6IFdyYXBwZWRJbWFnZURhdGFDb250ZW50KTogUmVjdGFuZ2xlID0+IHtcblx0Y29uc3QgeyB3aWR0aCA9IDAsIGhlaWdodCA9IDAgfSA9IGdldERvY3VtZW50KGltYWdlRGF0YSk7XG5cblx0cmV0dXJuIHtcblx0XHR4OiAwLFxuXHRcdHk6IDAsXG5cdFx0dzogd2lkdGgsXG5cdFx0aDogaGVpZ2h0LFxuXHRcdHJvdGF0aW9uOiAwLFxuXHR9O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFZpZXdlclBhZ2VUaXRsZSA9ICh0aXRsZTogc3RyaW5nLCBwdWJsaWNhdGlvbjogUGljazxQdWJsaWNhdGlvbiwgJ3Nob3J0VGl0bGUnIHwgJ3RpdGxlJz4pID0+IHtcblx0cmV0dXJuIGAke3RpdGxlfSR7cHVibGljYXRpb24gPyBgIC0gJHtwdWJsaWNhdGlvbi5zaG9ydFRpdGxlIHx8IHB1YmxpY2F0aW9uLnRpdGxlfWAgOiAnJ31gO1xufTtcbiIsImltcG9ydCB7IERvY3VtZW50SW1hZ2VUb2tlbiwgRG9jdW1lbnRUb2tlbnMsIEltYWdlLCBJbWFnZUZsYWcsIE1ldGFkYXRhLCBQdWJsaWNhdGlvbkZpbGVNYXAsIFNhbXBsZUltYWdlLCBTdWJJbWFnZSwgVmlld2VySW1hZ2UgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBPYmogfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgSW1hZ2VVcmxPcHRpb25zLCBnZXRJbWFnZURvd25sb2FkVXJsIH0gZnJvbSAnLi4vcGFnZXMvdmlld2VyL3ZpZXdlckhlbHBlcnMnO1xuaW1wb3J0IHsgQmFja2VuZFNlcnZpY2UsIEYzQXBpIH0gZnJvbSAnLi9GM0FwaSc7XG5cbnR5cGUgSUQgPSBzdHJpbmcgfCBudW1iZXI7XG5cbi8qKiBbU2VlIERvY3VtZW50YXRpb25dKGh0dHBzOi8vamZvbGQzLmlhcmNoaXZlcy5jb20vam9iL2pvc2VwaHVzLWRvY3VtZW50L2phdmFkb2MvY29tL2FuY2VzdHJ5L2ViL2pvc2VwaHVzL2RvY3VtZW50L3NlcnZpY2UvRG9jdW1lbnRTZXJ2aWNlLmh0bWwpICovXG5leHBvcnQgY2xhc3MgSW1hZ2VBcGkgZXh0ZW5kcyBGM0FwaSB7XG5cdHNlcnZpY2UgPSBCYWNrZW5kU2VydmljZS5GT0xEMzE7XG5cdGJhc2VVcmwgPSAnL2FwaS9kb2N1bWVudCc7XG5cblx0YWRkVXBsb2FkKGZpbGVuYW1lOiBzdHJpbmcpOiBQcm9taXNlPEltYWdlPiB7XG5cdFx0cmV0dXJuIHRoaXMucG9zdCgnL3VwbG9hZCcsIHsgZmlsZW5hbWUgfSwge1xuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnSW1hZ2UnLFxuXHRcdH0pO1xuXHR9XG5cblx0ZGVsZXRlVXBsb2FkKGltYWdlSWQ6IElEKSB7XG5cdFx0cmV0dXJuIHRoaXMuZGVsZXRlKGAvaW1hZ2UvJHtpbWFnZUlkfWApO1xuXHR9XG5cblx0YWRkSW1hZ2VNZXRhZGF0YShpbWFnZUlkOiBJRCwgbWV0YWRhdGE6IE1ldGFkYXRhW10pIHtcblx0XHRyZXR1cm4gdGhpcy5wb3N0KGAvdXBsb2FkLW1ldGFkYXRhLyR7aW1hZ2VJZH1gLCBtZXRhZGF0YSwge1xuXHRcdFx0c2VyaWFsaXplVHlwZTogJ01ldGFkYXRhJyxcblx0XHR9KTtcblx0fVxuXG5cdGdldEltYWdlKGltYWdlSWQ6IElELCBmbGFncz86IEltYWdlRmxhZ1tdKTogUHJvbWlzZTxJbWFnZT4ge1xuXHRcdHJldHVybiB0aGlzLmdldChgL2ltYWdlLyR7aW1hZ2VJZH1gLCB7XG5cdFx0XHRwYXJhbXM6IHsgZmxhZzogZmxhZ3MgfSxcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0ltYWdlJyxcblx0XHR9KTtcblx0fVxuXG5cdGdldEltYWdlUGVybWlzc2lvbnMoaW1hZ2VJZDogSUQsIGltYWdlVHlwZTogJ2ltYWdlJyB8ICdzdWItaW1hZ2UnKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvcGVybWlzc2lvbnMvJHtpbWFnZVR5cGV9LyR7aW1hZ2VJZH1gLCB7XG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdQZXJtaXNzaW9ucycsXG5cdFx0fSk7XG5cdH1cblxuXHRnZXRTdWJJbWFnZShzdWJJbWFnZUlkOiBJRCwgZmxhZ3M/OiBJbWFnZUZsYWdbXSk6IFByb21pc2U8U3ViSW1hZ2U+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9zdWItaW1hZ2UvJHtzdWJJbWFnZUlkfWAsIHtcblx0XHRcdHBhcmFtczogeyBmbGFnOiBmbGFncyB9LFxuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnU3ViSW1hZ2UnLFxuXHRcdH0pO1xuXHR9XG5cblx0Z2V0Vmlld2VySW1hZ2UoaW1hZ2VJZDogc3RyaW5nIHwgbnVtYmVyLCBvdGhlcklkczogYW55LCBmbGFncz86IHN0cmluZ1tdLCBmY2ZUb2tlbj86IHN0cmluZyk6IFByb21pc2U8Vmlld2VySW1hZ2U+IHtcblx0XHR2YXIgaWRMaXN0ID0gWydhbm4taWQnLCAnbGVnLWFubi1pZCcsICdsZWctZm5vdGUtaWQnLCAnc3ViLWlkJ107XG5cdFx0dmFyIHBhcmFtczogYW55ID0geyBmbGFnOiBmbGFncyB9O1xuXHRcdGlmIChpbWFnZUlkKSB7XG5cdFx0XHRwYXJhbXMuaWQgPSBpbWFnZUlkO1xuXHRcdH1cblxuXHRcdGlmIChmY2ZUb2tlbikgcGFyYW1zLmludiA9IGZjZlRva2VuO1xuXG5cdFx0aWYgKG90aGVySWRzKSB7XG5cdFx0XHRmb3IgKHZhciBpIGluIGlkTGlzdCkge1xuXHRcdFx0XHRpZiAob3RoZXJJZHNbaWRMaXN0W2ldXSkgcGFyYW1zW2lkTGlzdFtpXV0gPSBvdGhlcklkc1tpZExpc3RbaV1dO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmdldCgnL3ZpZXdlci1pbWFnZScsIHtcblx0XHRcdHBhcmFtcyxcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ1ZpZXdlckltYWdlJyxcblx0XHR9KTtcblx0fVxuXG5cdGdldEZpcnN0SGl0KGZpbGVJZDogc3RyaW5nLCBrZXl3b3Jkcz86IHN0cmluZ1tdKTogUHJvbWlzZTxudW1iZXI+IHtcblx0XHRsZXQgW2lkMSwgaWQyXSA9IGZpbGVJZC5zcGxpdCgnLicpO1xuXHRcdGxldCBwYXJhbXM6IE9iaiA9IHt9O1xuXG5cdFx0aWYgKGtleXdvcmRzICYmIGtleXdvcmRzLmxlbmd0aCA+IDApIHtcblx0XHRcdHBhcmFtcy5rZXl3b3JkID0ga2V5d29yZHM7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvZmlyc3QtaGl0LyR7aWQxfS8ke2lkMn1gLCB7XG5cdFx0XHRwYXJhbXMsXG5cdFx0XHRwcmltaXRpdmU6IHRydWUsXG5cdFx0fSk7XG5cdH1cblxuXHQvKiBUaGlzIGFwaSBjYW4gb25seSBiZSBjYWxsZWQgd2l0aCBhbiBpbWFnZUlkIHRoYXQgYmVsb25ncyB0byBhIGZpbGUgKi9cblx0Z2V0RG9jdW1lbnRUb2tlbnMoaW1hZ2VJZDogbnVtYmVyIHwgc3RyaW5nLCB0b2tlbjogc3RyaW5nLCBtYXg6IG51bWJlciA9IDEwMDAwKTogUHJvbWlzZTxEb2N1bWVudFRva2Vucz4ge1xuXHRcdHJldHVybiB0aGlzLmdldChgL2RvYy10b2tlbi8ke2ltYWdlSWR9YCwge1xuXHRcdFx0cGFyYW1zOiB7IHRva2VuLCBtYXggfSxcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0RvY3VtZW50VG9rZW5zJyxcblx0XHR9KTtcblx0fVxuXG5cdHNldENvdmVySW1hZ2UocHViSWQ6IG51bWJlciwgaW1hZ2VJZDogbnVtYmVyLCBpc1N1YkltYWdlOiBib29sZWFuKSB7XG5cdFx0cmV0dXJuIHRoaXMucHV0KGAvY292ZXItaW1hZ2UvJHtwdWJJZH0vJHtpbWFnZUlkfWAsIG51bGwsIHtcblx0XHRcdHBhcmFtczoge1xuXHRcdFx0XHRbJ3N1Yi1pbWFnZSddOiBpc1N1YkltYWdlLFxuXHRcdFx0fSxcblx0XHR9KTtcblx0fVxuXG5cdGdldFNhbXBsZUltYWdlcyhwdWJJZDogbnVtYmVyLCBwYXJhbXM6IHsgc2FtcGxlcz86IGJvb2xlYW4sIGNvdmVyPzogYm9vbGVhbiB9ID0ge30pOiBQcm9taXNlPFNhbXBsZUltYWdlW10+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9zYW1wbGUtaW1hZ2VzLyR7cHViSWR9YCwge1xuXHRcdFx0cGFyYW1zLFxuXHRcdFx0ZGVzZXJpYWxpemVUeXBlOiAnU2FtcGxlSW1hZ2UnLFxuXHRcdH0pO1xuXHR9XG5cblx0c2V0U2FtcGxlSW1hZ2UocHViSWQ6IG51bWJlciwgaW1hZ2VJZDogbnVtYmVyLCBpc1N1YkltYWdlOiBib29sZWFuLCB0aXRsZTogc3RyaW5nKSB7XG5cdFx0cmV0dXJuIHRoaXMucHV0KGAvc2FtcGxlLWltYWdlcy8ke3B1YklkfS8ke2ltYWdlSWR9YCwgbnVsbCwge1xuXHRcdFx0cGFyYW1zOiB7XG5cdFx0XHRcdFsnc3ViLWltYWdlJ106IGlzU3ViSW1hZ2UsXG5cdFx0XHRcdHRpdGxlLFxuXHRcdFx0fSxcblx0XHR9KTtcblx0fVxuXG5cdC8vY2x1c3RlciBrZXkgZm9ybWF0OiA2MC4xMjM0NTY3ODkwXG5cdGdldEZpbGVJbWFnZXMoY2x1c3RlcktleTogc3RyaW5nKTogUHJvbWlzZTxudW1iZXJbXT4ge1xuXHRcdGNvbnN0IFtwdWJsaWNhdGlvbklkLCBkb2NJZF0gPSBjbHVzdGVyS2V5LnNwbGl0KCcuJyk7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvZmlsZS1pbWFnZXMvJHtwdWJsaWNhdGlvbklkfS8ke2RvY0lkfWApO1xuXHR9XG5cblx0YXN5bmMgU0VSVkVSX2Rvd25sb2FkSW1hZ2UoZG9jdW1lbnRUb2tlbjogRG9jdW1lbnRJbWFnZVRva2VuLCBvcHRpb25zOiBJbWFnZVVybE9wdGlvbnMsIGhvc3RCYXNlOiBzdHJpbmcpIHtcblx0XHRsZXQgdXJsID0gZ2V0SW1hZ2VEb3dubG9hZFVybChkb2N1bWVudFRva2VuLCBvcHRpb25zLCBob3N0QmFzZSk7XG5cdFx0cmV0dXJuIHRoaXMuZG93bmxvYWQodXJsKTtcblx0fVxuXG5cdHB1YmxpY2F0aW9uU29ydCgpOiBQcm9taXNlPHZvaWQ+O1xuXHRwdWJsaWNhdGlvblNvcnQocHVibGljYXRpb25JZDogbnVtYmVyKTogUHJvbWlzZTxudW1iZXI+O1xuXHRwdWJsaWNhdGlvblNvcnQocHVibGljYXRpb25JZD86IG51bWJlcikge1xuXHRcdHJldHVybiB0aGlzLnBvc3QoYC9wdWItc29ydCR7cHVibGljYXRpb25JZCA/IGAvJHtwdWJsaWNhdGlvbklkfWAgOiAnJ31gLCB7XG5cdFx0XHRwcmltaXRpdmU6IHRydWUsXG5cdFx0fSk7XG5cdH1cblxuXHRnZXRGaWxlTWFwKHB1YmxpY2F0aW9uSWQ6IHN0cmluZywgZG9jdW1lbnRJZDogc3RyaW5nKTogUHJvbWlzZTxQdWJsaWNhdGlvbkZpbGVNYXA+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9maWxlLW1hcC8ke3B1YmxpY2F0aW9uSWR9LyR7ZG9jdW1lbnRJZH1gLCB7XG5cdFx0XHRkZXNlcmlhbGl6ZVR5cGU6ICdQdWJsaWNhdGlvbkZpbGVNYXAnLFxuXHRcdH0pO1xuXHR9XG5cblx0c2hvd0ltYWdlKGltYWdlSWQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuXHRcdHJldHVybiB0aGlzLnB1dChgL3Nob3ctaW1hZ2UvJHtpbWFnZUlkfWApO1xuXHR9XG5cblx0aGlkZUltYWdlKGltYWdlSWQ6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuXHRcdHJldHVybiB0aGlzLmRlbGV0ZShgL2hpZGUtaW1hZ2UvJHtpbWFnZUlkfWApO1xuXHR9XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEYzTGluayB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvRjNMaW5rJztcbmltcG9ydCB7IFRodW1ibmFpbCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvVGh1bWJuYWlsJztcbmltcG9ydCB7IENvbnRlbnRPYmplY3QgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBnZXRDb250ZW50T2JqZWN0VXJsIH0gZnJvbSAnLi4vLi4vbGliL3NsdWcnO1xuaW1wb3J0IHsgdHJ1bmNhdGUgfSBmcm9tICcuLi8uLi9saWIvdGVtcGxhdGluZyc7XG5cbmludGVyZmFjZSBCcm93c2VEb2N1bWVudHNJdGVtUHJvcHMge1xuXHRjb250ZW50T2JqZWN0OiBDb250ZW50T2JqZWN0XG5cdGdldERpc3BsYXlUaXRsZSh0aXRsZTogc3RyaW5nKTogc3RyaW5nXG59XG5cbmV4cG9ydCBjb25zdCBCcm93c2VEb2N1bWVudHNJdGVtID0gKHsgY29udGVudE9iamVjdCwgZ2V0RGlzcGxheVRpdGxlIH06IEJyb3dzZURvY3VtZW50c0l0ZW1Qcm9wcykgPT4ge1xuXHRsZXQgZG9jVGl0bGUgPSBjb250ZW50T2JqZWN0LnNob3J0VGl0bGUgfHwgZ2V0RGlzcGxheVRpdGxlKGNvbnRlbnRPYmplY3QudGl0bGUpO1xuXG5cdHJldHVybiA8RjNMaW5rXG5cdFx0aHJlZj17Z2V0Q29udGVudE9iamVjdFVybChjb250ZW50T2JqZWN0KS5mdWxsUGF0aH1cblx0XHR0aXRsZT17Y29udGVudE9iamVjdC50aXRsZX1cblx0PlxuXHRcdDxmaWd1cmUgY2xhc3NOYW1lPSdicm93c2UtdGh1bWJuYWlsJz5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdvYnNjdXJlZC1pbWFnZS1jb250YWluZXIgcG9zaXRpb24tcmVsYXRpdmUnPlxuXHRcdFx0XHQ8VGh1bWJuYWlsXG5cdFx0XHRcdFx0YWx0PScnXG5cdFx0XHRcdFx0Y29udGVudE9iamVjdD17Y29udGVudE9iamVjdH1cblx0XHRcdFx0XHRleGFjdFxuXHRcdFx0XHRcdHNpemU9ezEwMH1cblx0XHRcdFx0Lz5cblx0XHRcdDwvZGl2PlxuXHRcdFx0PGZpZ2NhcHRpb24gY2xhc3NOYW1lPSd0ZXh0LWNlbnRlcic+e3RydW5jYXRlKGRvY1RpdGxlLCA1MCl9PC9maWdjYXB0aW9uPlxuXHRcdDwvZmlndXJlPlxuXHQ8L0YzTGluaz47XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGaXhlZFNpemVHcmlkIH0gZnJvbSAncmVhY3Qtd2luZG93JztcbmltcG9ydCB7IEZpbGVBcGkgfSBmcm9tICcuLi8uLi9hcGlzL2ZpbGVBcGknO1xuaW1wb3J0IHsgSW1hZ2VBcGkgfSBmcm9tICcuLi8uLi9hcGlzL2ltYWdlQXBpJztcbmltcG9ydCB7IE9iamVjdFJlZmVyZW5jZUFwaSB9IGZyb20gJy4uLy4uL2FwaXMvb2JqZWN0UmVmZXJlbmNlQXBpJztcbmltcG9ydCB7IFNlYXJjaEFwaSB9IGZyb20gJy4uLy4uL2FwaXMvc2VhcmNoQXBpJztcbmltcG9ydCB7IExvYWRJbmRpY2F0b3IgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0xvYWRJbmRpY2F0b3InO1xuaW1wb3J0IHsgQ29udGVudE9iamVjdCwgT2JqZWN0UmVmZXJlbmNlIH0gZnJvbSAnLi4vLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgY2xhc3NTdHIgfSBmcm9tICcuLi8uLi9saWIvY2xhc3NVdGlsJztcbmltcG9ydCB7IG9iamVjdFJlZlRvU3RyaW5nIH0gZnJvbSAnLi4vLi4vbGliL2NvbnRlbnQvY29udGVudE9iamVjdCc7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gJy4uLy4uL2xpYi9kZWJvdW5jZSc7XG5pbXBvcnQgeyBGM1F1ZXJ5IH0gZnJvbSAnLi4vLi4vbGliL2YzLXF1ZXJ5L0YzUXVlcnknO1xuaW1wb3J0IHsgdXNlUmVyZW5kZXIgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlUmVyZW5kZXInO1xuaW1wb3J0IHsgQnJvd3NlQ29sdW1uU3RhdGUgfSBmcm9tICcuL0Jyb3dzZUNvbHVtbnMnO1xuaW1wb3J0IHsgQnJvd3NlRG9jdW1lbnRzSXRlbSB9IGZyb20gJy4vQnJvd3NlRG9jdW1lbnRzSXRlbSc7XG5pbXBvcnQgeyBOVUxMX0NIQVJBQ1RFUiwgY3JlYXRlQnJvd3NlQ29sdW1uUXVlcnkgfSBmcm9tICcuL2Jyb3dzZUhlbHBlcnMnO1xuXG5pbnRlcmZhY2UgQnJvd3NlRG9jdW1lbnRzQ29sdW1uUHJvcHMge1xuXHRmM1F1ZXJ5OiBGM1F1ZXJ5XG5cdGhlaWdodDogbnVtYmVyXG5cdHdpZHRoOiBudW1iZXJcblx0Y29sdW1uU3RhdGVzOiBCcm93c2VDb2x1bW5TdGF0ZVtdXG5cdGxhYmVsOiBzdHJpbmdcbn1cblxuY29uc3QgRklMRV9JTUdfQkFUQ0hfU0laRSA9IDI1O1xuY29uc3QgRE9DVU1FTlRfQkFUQ0hfU0laRSA9IDEwMDtcbmNvbnN0IE1BWF9ET0NVTUVOVF9JTkRFWCA9IDEwMDAwOyAvLyBFbGFzdGljIFNlYXJjaCBsaW1pdFxuY29uc3QgTUFYX0JBVENIRVNfQ0FDSEUgPSA1OyAvLyBjYWNoZSBNQVhfQkFUQ0hFU19DQUNIRSAqIERPQ1VNRU5UX0JBVENIX1NJWkUgcmVzdWx0c1xuY29uc3QgRE9DX1RJVExFX0RFTElNSVRFUiA9ICcgLSAnO1xuY29uc3QgR1JJRF9TSVpFID0gMTUwO1xuXG5leHBvcnQgY29uc3QgQnJvd3NlRG9jdW1lbnRzQ29sdW1uID0gKHsgaGVpZ2h0LCB3aWR0aCwgZjNRdWVyeSwgY29sdW1uU3RhdGVzLCBsYWJlbCB9OiBCcm93c2VEb2N1bWVudHNDb2x1bW5Qcm9wcykgPT4ge1xuXHRjb25zdCBbdG90YWxDb3VudCwgc2V0VG90YWxDb3VudF0gPSB1c2VTdGF0ZTxudW1iZXI+KG51bGwpO1xuXHRjb25zdCBiYXRjaGVzID0gdXNlUmVmPE1hcDxudW1iZXIsIENvbnRlbnRPYmplY3RbXT4+KG5ldyBNYXAoKSk7XG5cdGNvbnN0IGlzRmlsZUNvbHVtbiA9IHVzZVJlZihmYWxzZSk7XG5cdGNvbnN0IGZpbGVDb250ZW50T2JqZWN0ID0gdXNlUmVmPENvbnRlbnRPYmplY3Q+KG51bGwpO1xuXHRjb25zdCBmaWxlSW1hZ2VJZHMgPSB1c2VSZWY8bnVtYmVyW10+KG51bGwpO1xuXHRjb25zdCB7IHJlcmVuZGVyIH0gPSB1c2VSZXJlbmRlcigpO1xuXHRjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcblxuXHRsZXQgbGFzdENvbHVtbiA9IGNvbHVtblN0YXRlcy5hdCgtMik7XG5cdGNvbnN0IHJlZiA9IHVzZVJlZjxGaXhlZFNpemVHcmlkPigpO1xuXG5cdGNvbnN0IGZldGNoQ29udGVudE9ianNGb3JPZmZzZXQgPSBhc3luYyAob2Zmc2V0OiBudW1iZXIpID0+IHtcblx0XHRjb25zdCBiYXRjaCA9IGdldEJhdGNoRm9yT2Zmc2V0KG9mZnNldCwgaXNGaWxlQ29sdW1uLmN1cnJlbnQpO1xuXHRcdGlmIChiYXRjaGVzLmN1cnJlbnQuaGFzKGJhdGNoKSkgcmV0dXJuO1xuXG5cdFx0YmF0Y2hlcy5jdXJyZW50LnNldChiYXRjaCwgW10pO1xuXG5cdFx0Y29uc3QgYmF0Y2hPZmZzZXQgPSBiYXRjaCAqIGdldEJhdGNoU2l6ZShpc0ZpbGVDb2x1bW4uY3VycmVudCk7XG5cdFx0bGV0IHJlc3VsdHM6IENvbnRlbnRPYmplY3RbXTtcblx0XHRsZXQgdG90YWw6IG51bWJlcjtcblxuXHRcdGlmIChpc0ZpbGVDb2x1bW4uY3VycmVudCkge1xuXHRcdFx0bGV0IGJhdGNoSW1hZ2VJZHMgPSBmaWxlSW1hZ2VJZHMuY3VycmVudC5zbGljZShiYXRjaE9mZnNldCwgYmF0Y2hPZmZzZXQgKyBGSUxFX0lNR19CQVRDSF9TSVpFKTtcblx0XHRcdGxldCBvYmpSZWZlcmVuY2VzOiBPYmplY3RSZWZlcmVuY2VbXSA9IGJhdGNoSW1hZ2VJZHMubWFwKGltZ0lkID0+ICh7IGNvbnRlbnRUeXBlOiAnSU1BR0UnLCBvYmplY3RJZDogU3RyaW5nKGltZ0lkKSB9KSk7XG5cdFx0XHRyZXN1bHRzID0gYXdhaXQgbmV3IE9iamVjdFJlZmVyZW5jZUFwaSgpLmdldENvbnRlbnRPYmplY3RzKG9ialJlZmVyZW5jZXMpO1xuXHRcdFx0dG90YWwgPSBmaWxlSW1hZ2VJZHMuY3VycmVudC5sZW5ndGg7XG5cblx0XHRcdGlmIChvZmZzZXQgPT09IDApIHtcblx0XHRcdFx0LyogZGlzcGxheSB0aGUgRklMRSBhcyB0aGUgZmlyc3QgcmVzdWx0ICovXG5cdFx0XHRcdHJlc3VsdHMudW5zaGlmdChmaWxlQ29udGVudE9iamVjdC5jdXJyZW50KTtcblx0XHRcdFx0dG90YWwgKz0gMTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0bGV0IHBhcmVudENvbHVtbiA9IGNvbHVtblN0YXRlcy5hdCgtMSk7XG5cdFx0XHRjb25zdCBkb2N1bWVudHNRdWVyeSA9IGNyZWF0ZUJyb3dzZUNvbHVtblF1ZXJ5KGYzUXVlcnksIHBhcmVudENvbHVtbi5mYWNldFR5cGUsIGNvbHVtblN0YXRlcyk7XG5cdFx0XHRkb2N1bWVudHNRdWVyeS51cGRhdGVRdWVyeSh7IHNvcnRPcmRlcjogJ0ZJTE1TVFJJUCcgfSk7XG5cdFx0XHRkb2N1bWVudHNRdWVyeS5GaWx0ZXJzLmFkZEl0ZW0oeyB0eXBlOiAnZ2VuZXJhbC50aXRsZS5jb250ZW50LmRvYy10eXBlJywgdmFsdWVzOiBbeyB2YWx1ZTogJ1BVQkxJQ0FUSU9OJyB9XSwgZXhjbHVkZTogdHJ1ZSB9KTsgLy8gaW4gZmxhdCBwdWJsaWNhdGlvbnMsIHdlIGRvbid0IHdhbnQgdG8gc2hvdyB0aGUgcHVibGljYXRpb24gaXRzZWxmXG5cblx0XHRcdGxldCBzZWFyY2hSZXN1bHRzID0gYXdhaXQgbmV3IFNlYXJjaEFwaSgpLmZldGNoUmVzdWx0cyhkb2N1bWVudHNRdWVyeS50b0hpdFF1ZXJ5KGJhdGNoT2Zmc2V0LCBET0NVTUVOVF9CQVRDSF9TSVpFKSk7XG5cdFx0XHRyZXN1bHRzID0gc2VhcmNoUmVzdWx0cy5oaXRzLm1hcChoaXQgPT4gaGl0LmRvYyk7XG5cdFx0XHR0b3RhbCA9IHNlYXJjaFJlc3VsdHMudG90YWw7XG5cblx0XHRcdGlmICh0b3RhbCA9PT0gMSkge1xuXHRcdFx0XHRjb25zdCB7IGNvbnRlbnRUeXBlLCBvYmplY3RJZCB9ID0gcmVzdWx0c1swXS5pZDtcblxuXHRcdFx0XHQvKlxuXHRcdFx0XHQgKiBSaWdodCBoZXJlLCBpZiB3ZSBhcmUgZGVhbGluZyB3aXRoIGEgRklMRSBjb2x1bW4sIGNvbXBsZXRlbHkgYnJlYWsgZnJvbSB0aGUgY3VycmVudCBydW4gYW5kXG5cdFx0XHRcdCAqIHJlY3Vyc2l2ZWx5IGNhbGwgdGhpcyBmdW5jdGlvbiBpbiB0aGUgRklMRSBtb2RlLlxuXHRcdFx0XHQgKi9cblx0XHRcdFx0aWYgKGNvbnRlbnRUeXBlID09PSAnRklMRScpIHtcblx0XHRcdFx0XHRmaWxlQ29udGVudE9iamVjdC5jdXJyZW50ID0gcmVzdWx0c1swXTtcblxuXHRcdFx0XHRcdGxldCBpZFR5cGUgPSBvYmplY3RJZC5tYXRjaCgvXFxkK1xcLlxcZCsvKSA/ICdjbHVzdGVyJyA6ICdpbWFnZSc7XG5cblx0XHRcdFx0XHRpZiAoaWRUeXBlID09PSAnY2x1c3RlcicpIHtcblx0XHRcdFx0XHRcdGxldCBpbWFnZUlkcyA9IGF3YWl0IG5ldyBJbWFnZUFwaSgpLmdldEZpbGVJbWFnZXMob2JqZWN0SWQpO1xuXHRcdFx0XHRcdFx0c2V0VG90YWxDb3VudChpbWFnZUlkcy5sZW5ndGgpO1xuXHRcdFx0XHRcdFx0ZmlsZUltYWdlSWRzLmN1cnJlbnQgPSBpbWFnZUlkcztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0bGV0IGZpbGVJbmRleCA9IGF3YWl0IG5ldyBGaWxlQXBpKCkuZ2V0RmlsZUluZGV4QnlJbWFnZShvYmplY3RJZCwgcmVzdWx0c1swXS5maWxlTGVuZ3RoLCBbJ2ltYWdlSWQnXSwgZmFsc2UpO1xuXHRcdFx0XHRcdFx0c2V0VG90YWxDb3VudChmaWxlSW5kZXguZmlsZUxlbmd0aCk7XG5cdFx0XHRcdFx0XHRmaWxlSW1hZ2VJZHMuY3VycmVudCA9IGZpbGVJbmRleC5wYWdlLml0ZW1zLm1hcChpdGVtID0+IGl0ZW0uaW1hZ2VJZCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aXNGaWxlQ29sdW1uLmN1cnJlbnQgPSB0cnVlO1xuXHRcdFx0XHRcdGJhdGNoZXMuY3VycmVudC5kZWxldGUoYmF0Y2gpO1xuXHRcdFx0XHRcdGZldGNoQ29udGVudE9ianNGb3JPZmZzZXQob2Zmc2V0KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoYmF0Y2hlcy5jdXJyZW50LnNpemUgPiBNQVhfQkFUQ0hFU19DQUNIRSkge1xuXHRcdFx0Y29uc3Qgd2luZG93U2l6ZSA9IE1hdGguZmxvb3IoTUFYX0JBVENIRVNfQ0FDSEUgLSAxIC8gMik7XG5cblx0XHRcdGJhdGNoZXMuY3VycmVudC5mb3JFYWNoKChfLCBrZXkpID0+IHtcblx0XHRcdFx0aWYgKGtleSA8IGJhdGNoIC0gd2luZG93U2l6ZSB8fCBrZXkgPiBiYXRjaCArIHdpbmRvd1NpemUpIHtcblx0XHRcdFx0XHRiYXRjaGVzLmN1cnJlbnQuZGVsZXRlKGtleSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGJhdGNoZXMuY3VycmVudC5zZXQoYmF0Y2gsIHJlc3VsdHMpO1xuXHRcdHNldExvYWRpbmcoZmFsc2UpO1xuXHRcdHNldFRvdGFsQ291bnQodG90YWwpO1xuXHRcdHJlcmVuZGVyKCk7XG5cdH07XG5cblx0Y29uc3QgZGVib3VuY2VkRmV0Y2ggPSB1c2VDYWxsYmFjayhkZWJvdW5jZShmZXRjaENvbnRlbnRPYmpzRm9yT2Zmc2V0LCAxMDApLCBbXSk7XG5cblx0Y29uc3QgZ2V0T2JqQXRPZmZzZXQgPSAob2Zmc2V0OiBudW1iZXIpID0+IHtcblx0XHRjb25zdCBiYXRjaCA9IGdldEJhdGNoRm9yT2Zmc2V0KG9mZnNldCwgaXNGaWxlQ29sdW1uLmN1cnJlbnQpO1xuXHRcdGxldCBiYXRjaEluZGV4ID0gb2Zmc2V0IC0gYmF0Y2ggKiBnZXRCYXRjaFNpemUoaXNGaWxlQ29sdW1uLmN1cnJlbnQpO1xuXHRcdHJldHVybiBiYXRjaGVzLmN1cnJlbnQuZ2V0KGJhdGNoKT8uW2JhdGNoSW5kZXhdO1xuXHR9O1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0ZmV0Y2hDb250ZW50T2Jqc0Zvck9mZnNldCgwKTtcblx0fSwgW10pO1xuXG5cdGNvbnN0IGxhc3ROb25OdWxsQ29sdW1uID0gdXNlTWVtbygoKSA9PiB7XG5cdFx0Zm9yIChsZXQgaSA9IGNvbHVtblN0YXRlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0Y29uc3QgbGFiZWwgPSBjb2x1bW5TdGF0ZXNbaV0uc2VsZWN0ZWRMYWJlbDtcblx0XHRcdGlmIChsYWJlbCAmJiBsYWJlbCAhPT0gTlVMTF9DSEFSQUNURVIpIHtcblx0XHRcdFx0cmV0dXJuIGNvbHVtblN0YXRlc1tpXTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIFtjb2x1bW5TdGF0ZXNdKTtcblxuXHRsZXQgZ3JpZENvbENvdW50ID0gTWF0aC5mbG9vcih3aWR0aCAvIEdSSURfU0laRSk7XG5cdGxldCBncmlkQ29sV2lkdGggPSB3aWR0aCAvIGdyaWRDb2xDb3VudDtcblx0bGV0IGdyaWRSb3dDb3VudCA9IHRvdGFsQ291bnQgPyBNYXRoLmNlaWwodG90YWxDb3VudCAvIGdyaWRDb2xDb3VudCkgOiAwO1xuXHRsZXQgZ3JpZFJvd0hlaWdodCA9IGhlaWdodCAvIE1hdGguZmxvb3IoaGVpZ2h0IC8gR1JJRF9TSVpFKTtcblxuXHRyZXR1cm4gPGRpdiBjbGFzc05hbWU9e2NsYXNzU3RyKCdCcm93c2VDb2x1bW4nLCBsb2FkaW5nICYmICdsb2FkaW5nJyl9PlxuXHRcdDxkaXYgY2xhc3NOYW1lPSdCcm93c2VDb2x1bW5IZWFkZXIgcC0yIGJvcmRlci1ib3R0b20nPlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J3RleHQtdXBwZXJjYXNlIHRleHQtZGFyayc+XG5cdFx0XHRcdDxoMiBjbGFzc05hbWU9J2Z3LWJvbGQgaDYgZC1pbmxpbmUnPntsYWJlbH08L2gyPiA8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdmcy02IHRleHQtbXV0ZWQnPiZtaWRkb3Q7PC9zcGFuPiA8c3BhbiBjbGFzc05hbWU9e2NsYXNzU3RyKCdmcy02JywgJ3RleHQtbXV0ZWQnKX0+e3RvdGFsQ291bnR9PC9zcGFuPlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cblx0XHR7XG5cdFx0XHR0b3RhbENvdW50ID09PSAwICYmICFsb2FkaW5nICYmXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ndGV4dC1jZW50ZXIgdGV4dC1tdXRlZCBhbGVydCc+XG5cdFx0XHRcdE5vIHJlc3VsdHNcblx0XHRcdDwvZGl2PlxuXHRcdH1cblxuXHRcdDxmaWVsZHNldCBjbGFzc05hbWU9J3Bvc2l0aW9uLXJlbGF0aXZlJz5cblx0XHRcdDxsZWdlbmQgY2xhc3NOYW1lPSd2aXN1YWxseS1oaWRkZW4nPlxuXHRcdFx0XHRDaG9vc2UgYSB7bGFiZWx9XG5cdFx0XHQ8L2xlZ2VuZD5cblx0XHRcdHtsb2FkaW5nICYmIDxMb2FkSW5kaWNhdG9yIC8+fVxuXHRcdFx0PEZpeGVkU2l6ZUdyaWRcblx0XHRcdFx0cmVmPXtyZWYgYXMgUmVhY3QuTXV0YWJsZVJlZk9iamVjdDxGaXhlZFNpemVHcmlkPn1cblx0XHRcdFx0Y2xhc3NOYW1lPSdCcm93c2VHcmlkQ29sdW1uJ1xuXHRcdFx0XHRjb2x1bW5Db3VudD17Z3JpZENvbENvdW50fVxuXHRcdFx0XHRjb2x1bW5XaWR0aD17Z3JpZENvbFdpZHRofVxuXHRcdFx0XHRoZWlnaHQ9e2hlaWdodH1cblx0XHRcdFx0aXRlbUtleT17KHsgY29sdW1uSW5kZXgsIHJvd0luZGV4IH0pID0+IHtcblx0XHRcdFx0XHRyZXR1cm4gcm93Q29sVG9JbmRleCh7IGNvbHVtbkluZGV4LCByb3dJbmRleCB9LCBncmlkQ29sQ291bnQpO1xuXHRcdFx0XHR9fVxuXHRcdFx0XHRyb3dDb3VudD17Z3JpZFJvd0NvdW50fVxuXHRcdFx0XHRyb3dIZWlnaHQ9e2dyaWRSb3dIZWlnaHR9XG5cdFx0XHRcdHdpZHRoPXt3aWR0aH1cblx0XHRcdD5cblx0XHRcdFx0eyh7IHN0eWxlLCBjb2x1bW5JbmRleCwgcm93SW5kZXggfSkgPT4ge1xuXHRcdFx0XHRcdGxldCBpbmRleCA9IHJvd0NvbFRvSW5kZXgoeyBjb2x1bW5JbmRleCwgcm93SW5kZXggfSwgZ3JpZENvbENvdW50KTtcblx0XHRcdFx0XHRpZiAoaW5kZXggPiB0b3RhbENvdW50IC0gMSkgcmV0dXJuIG51bGw7XG5cblx0XHRcdFx0XHRjb25zdCBjb250ZW50T2JqZWN0ID0gZ2V0T2JqQXRPZmZzZXQoaW5kZXgpO1xuXG5cdFx0XHRcdFx0aWYgKCFjb250ZW50T2JqZWN0KSB7XG5cdFx0XHRcdFx0XHRkZWJvdW5jZWRGZXRjaChpbmRleCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gPGRpdiBjbGFzc05hbWU9J3NrZWxlLWxvYWQnIHN0eWxlPXt7IHdpZHRoOiAnMTUwcHgnLCBoZWlnaHQ6ICcxNTBweCcgfX0gLz47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIDxkaXYgY2xhc3NOYW1lPSdvdmVyZmxvdy1oaWRkZW4gcC0yJyBzdHlsZT17c3R5bGV9PlxuXHRcdFx0XHRcdFx0PEJyb3dzZURvY3VtZW50c0l0ZW1cblx0XHRcdFx0XHRcdFx0a2V5PXtvYmplY3RSZWZUb1N0cmluZyhjb250ZW50T2JqZWN0LmlkKX1cblx0XHRcdFx0XHRcdFx0Y29udGVudE9iamVjdD17Y29udGVudE9iamVjdH1cblx0XHRcdFx0XHRcdFx0Z2V0RGlzcGxheVRpdGxlPXt0aXRsZSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHRpdGxlLmluY2x1ZGVzKERPQ19USVRMRV9ERUxJTUlURVIpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aXRsZSA9IHRpdGxlLnJlcGxhY2UoYCR7bGFzdE5vbk51bGxDb2x1bW4uc2VsZWN0ZWRMYWJlbH0ke0RPQ19USVRMRV9ERUxJTUlURVJ9YCwgJycpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdGl0bGU7XG5cdFx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdDwvZGl2Pjtcblx0XHRcdFx0fX1cblx0XHRcdDwvRml4ZWRTaXplR3JpZD5cblx0XHQ8L2ZpZWxkc2V0PlxuXHQ8L2Rpdj47XG59O1xuXG5jb25zdCByb3dDb2xUb0luZGV4ID0gKHsgcm93SW5kZXgsIGNvbHVtbkluZGV4IH06IHsgcm93SW5kZXg6IG51bWJlciwgY29sdW1uSW5kZXg6IG51bWJlciB9LCBjb2x1bW5Db3VudDogbnVtYmVyKSA9PiB7XG5cdHJldHVybiByb3dJbmRleCAqIGNvbHVtbkNvdW50ICsgY29sdW1uSW5kZXg7XG59O1xuY29uc3QgZ2V0QmF0Y2hGb3JPZmZzZXQgPSAob2Zmc2V0OiBudW1iZXIsIGlzRmlsZXNDb2x1bW46IGJvb2xlYW4pID0+IE1hdGguZmxvb3Iob2Zmc2V0IC8gZ2V0QmF0Y2hTaXplKGlzRmlsZXNDb2x1bW4pKTtcbmNvbnN0IGdldEJhdGNoU2l6ZSA9IChpc0ZpbGVzQ29sdW1uOiBib29sZWFuKSA9PiBpc0ZpbGVzQ29sdW1uID8gRklMRV9JTUdfQkFUQ0hfU0laRSA6IERPQ1VNRU5UX0JBVENIX1NJWkU7XG4iLCJpbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJ1dHRvblByb3BzLCBGM0J1dHRvbiB9IGZyb20gJy4vRjNCdXR0b24nO1xuXG5pbnRlcmZhY2UgRHJvcGRvd25JdGVtUHJvcHMgZXh0ZW5kcyBCdXR0b25Qcm9wcyB7XG5cdGFjdGl2ZTogYm9vbGVhblxufVxuXG5leHBvcnQgY29uc3QgRHJvcGRvd25JdGVtID0gZm9yd2FyZFJlZjxIVE1MQnV0dG9uRWxlbWVudCwgRHJvcGRvd25JdGVtUHJvcHM+KCh7IGFjdGl2ZSwgLi4ucmVzdCB9OiBEcm9wZG93bkl0ZW1Qcm9wcywgcmVmKSA9PiB7XG5cdHJldHVybiA8bGk+XG5cdFx0PEYzQnV0dG9uXG5cdFx0XHRidG5UeXBlPXtudWxsfVxuXHRcdFx0Y2xhc3NOYW1lPXtgZHJvcGRvd24taXRlbSR7YWN0aXZlID8gJyBhY3RpdmUgZnctYm9sZCcgOiAnJ31gfVxuXHRcdFx0ey4uLnJlc3R9XG5cdFx0XHRyZWY9e3JlZn1cblx0XHQvPlxuXHQ8L2xpPjtcbn0pO1xuIiwiaW1wb3J0IHsgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbi8qXG4gKiBTb21ldGltZXMgaW4gY2FsbGJhY2tzLCB0aGUgc3RhdGUgY2FuIGJlIHN0YWxlIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGNsb3NlZCBvdmVyIHRoZSBvbGQgc3RhdGUuXG4gKiBNb3N0IG9mIHRoZSB0aW1lLCB1c2luZyB1c2VDYWxsYmFjayB3aXRoIHRoZSBwcm9wZXIgZGVwZW5kZW5jaWVzIHdvcmtzLCBidXQgc29tZXRpbWVzLCBnZXR0aW5nXG4gKiB0aGUgY3VycmVudCB2YWx1ZSBvZiBhIHN0YXRlIHZhcmlhYmxlIGNhbiBiZSBkaWZmaWN1bHQuIFRoaXMgaG9vayBzb2x2ZXMgdGhhdDpcbiAqXG4gKiBmdW5jdGlvbiBDb21wb25lbnQoeyBuYW1lID0gJ1N1enknLCBzZXROYW1lIH0pIHtcbiAqIFx0Y29uc3QgW2FnZSwgc2V0QWdlXSA9IHVzZVN0YXRlKDEwKTtcbiAqICBjb25zdCBjdXJyZW50QWdlID0gdXNlQ3VycmVudFN0YXRlKGFnZSk7XG4gKiAgY29uc3QgY3VycmVudE5hbWUgPSB1c2VDdXJyZW50U3RhdGUobmFtZSk7XG4gKlxuICogIHJldHVybiA8QnV0dG9uXG4gKiBcdCAgb25DbGljaz17KCkgPT4ge1xuICogICAgICBzZXRBZ2UoMTIpO1xuICogICAgICBzZXROYW1lKCdKb2huJylcbiAqIFx0ICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICogICAgICAgICBjb25zb2xlLmxvZyh7IG5hbWUsIGN1cnJlbnROYW1lLCBhZ2UsIGN1cnJlbnRBZ2UgfSkgLy8gbG9ncyB7IG5hbWU6ICdTdXp5JywgY3VycmVudE5hbWU6ICdKb2huJywgYWdlOiAxMCwgY3VycmVudEFnZTogMTIgfVxuICogICAgICB9LCAxMDApXG4gKiAgICB9fVxuICogID5cbiAqIFx0ICBDbGlja1xuICogIDwvQnV0dG9uPlxuICogfVxuICovXG5leHBvcnQgY29uc3QgdXNlQ3VycmVudFN0YXRlID0gPFQ+KHZhbDogVCkgPT4ge1xuXHRsZXQgc3RhdGUgPSB1c2VSZWY8VD4odmFsKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdHN0YXRlLmN1cnJlbnQgPSB2YWw7XG5cdH0pO1xuXG5cdHJldHVybiBzdGF0ZTtcbn07XG4iLCJpbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFB1YmxpY2F0aW9uQXBpIH0gZnJvbSAnLi4vLi4vYXBpcy9wdWJsaWNhdGlvbkFwaSc7XG5pbXBvcnQgeyBEYXRhQ2FjaGUgfSBmcm9tICcuLi9EYXRhQ2FjaGUnO1xuaW1wb3J0IHsgZ2V0VGltZUluTXMgfSBmcm9tICcuLi90aW1lJztcbmltcG9ydCB7IHVzZUFzeW5jRWZmZWN0IH0gZnJvbSAnLi91c2VBc3luY0VmZmVjdCc7XG5cbmNvbnN0IGNsaWVudFB1YmxpY2F0aW9uQWNjZXNzTGV2ZWxDYWNoZSA9IG5ldyBEYXRhQ2FjaGUoXG5cdCgpID0+IG5ldyBQdWJsaWNhdGlvbkFwaSgpLmdldEFjY2Vzc0xldmVscygpLFxuXHR7IHR0bDogZ2V0VGltZUluTXMoNSwgJ21pbicpIH0sXG4pO1xuXG5leHBvcnQgY29uc3QgdXNlUHVibGljYXRpb25BY2Nlc3NMZXZlbCA9ICgpID0+IHtcblx0bGV0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuXG5cdHVzZUFzeW5jRWZmZWN0KGFzeW5jICgpID0+IHtcblx0XHRhd2FpdCBjbGllbnRQdWJsaWNhdGlvbkFjY2Vzc0xldmVsQ2FjaGUuZ2V0QXN5bmMoKTtcblx0XHRzZXRMb2FkaW5nKGZhbHNlKTtcblx0fSwgW10pO1xuXG5cdGNvbnN0IGdldEFjY2Vzc0xldmVsID0gKHB1YklkOiBudW1iZXIgfCBzdHJpbmcpID0+IHtcblx0XHRyZXR1cm4gY2xpZW50UHVibGljYXRpb25BY2Nlc3NMZXZlbENhY2hlLmdldFN5bmMoKT8uW3B1YklkXTtcblx0fTtcblxuXHRyZXR1cm4ge1xuXHRcdGxvYWRpbmcsXG5cdFx0Z2V0UHVibGljYXRpb25BY2Nlc3NMZXZlbChwdWJJZDogbnVtYmVyIHwgc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gZ2V0QWNjZXNzTGV2ZWwocHViSWQpO1xuXHRcdH0sXG5cdFx0aXNQdWJsaWNhdGlvblByZW1pdW0ocHViSWQ6IG51bWJlciB8IHN0cmluZykge1xuXHRcdFx0cmV0dXJuIGdldEFjY2Vzc0xldmVsKHB1YklkKSA9PT0gJ1NVQlNDUklCRVInO1xuXHRcdH0sXG5cdFx0aXNQdWJsaWNhdGlvbkZyZWUocHViSWQ6IG51bWJlciB8IHN0cmluZykge1xuXHRcdFx0bGV0IGxldmVsID0gZ2V0QWNjZXNzTGV2ZWwocHViSWQpO1xuXHRcdFx0cmV0dXJuIGxldmVsID09PSAnUFVCTElDJyB8fCBsZXZlbCA9PT0gJ1JFR0lTVEVSRUQnO1xuXHRcdH0sXG5cdH07XG59O1xuIiwiaW1wb3J0IHsgQ29tcGFjdFB1YmxpY2F0aW9uIH0gZnJvbSAnLi4vYXBpcy9wdWJsaWNhdGlvbkFwaSc7XG5pbXBvcnQgeyBNZXJnZWRGYWNldCwgTWVyZ2VkRmFjZXRMaXN0LCBNZXJnZWRTZWFyY2hSZXN1bHRzIH0gZnJvbSAnLi4vYXBpcy9zZWFyY2hBcGknO1xuaW1wb3J0IHsgQ29udGVudFN1YlR5cGUsIENvbnRlbnRUeXBlLCBGYWNldExpc3QsIEZhY2V0UmVxdWVzdF9QbGFjZUxldmVsLCBGYWNldFR5cGUgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBPYmogfSBmcm9tICcuLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgQ09PS0lFUyB9IGZyb20gJy4uL2VudW1zL2Nvb2tpZXMuZW51bSc7XG5pbXBvcnQgeyBMT0NBTF9TVE9SQUdFX0tFWVMgfSBmcm9tICcuLi9lbnVtcy9sb2NhbC5lbnVtJztcbmltcG9ydCB7IFBSRU1JVU1fRkFDRVRTX01BUCwgZ2V0Q2hpbGRGYWNldFR5cGUgfSBmcm9tICcuLi9wYWdlcy9zZWFyY2gvZmFjZXRUeXBlcyc7XG5pbXBvcnQgeyBzZXRDb29raWUgfSBmcm9tICcuL2NsaWVudENvb2tpZXMnO1xuaW1wb3J0IHsgUHJvcXVlc3RTZXNzaW9uSW5mbyB9IGZyb20gJy4vY29tcGFjdC1zZXNzaW9uL2NvbXBhY3RQcm9xdWVzdCc7XG5pbXBvcnQgeyBpc1R5cGVDaGlsZE9mUGFyZW50IH0gZnJvbSAnLi9jb250ZW50L2NvbnRlbnRPYmplY3QnO1xuaW1wb3J0IHsgRjNRdWVyeSB9IGZyb20gJy4vZjMtcXVlcnkvRjNRdWVyeSc7XG5pbXBvcnQgeyBBcHBsaWVkUGFyYW0sIFFVRVJZX0xBU1RfVVBEQVRFRCB9IGZyb20gJy4vZjMtcXVlcnkvZjNRdWVyeVR5cGVzJztcbmltcG9ydCB7IGdldFBsYWNlSWQsIHNob3J0VG9Mb25nIH0gZnJvbSAnLi9wbGFjZS1hYmJyZXZpYXRpb25zJztcbmltcG9ydCB7IGdldFRpdGxlIH0gZnJvbSAnLi9zbHVnJztcbmltcG9ydCB7IGxvY2FsIH0gZnJvbSAnLi9zdG9yYWdlJztcbmltcG9ydCB7IGdldFRpbWVJblNlY29uZHMgfSBmcm9tICcuL3RpbWUnO1xuXG5leHBvcnQgY29uc3QgU0VBUkNIX0ZBQ0VUU19LRVkgPSAnZjNfc2VhcmNoX2ZhY2V0cyc7XG5leHBvcnQgY29uc3QgUEFHRV9TSVpFX0tFWSA9ICdQYWdlU2l6ZSc7XG5cbmV4cG9ydCBjb25zdCBpc0ZhY2V0VHlwZVByZW1pdW0gPSAoZmFjZXRUeXBlOiBGYWNldFR5cGUpID0+IHtcblx0cmV0dXJuIGZhY2V0VHlwZSBpbiBQUkVNSVVNX0ZBQ0VUU19NQVA7XG59O1xuXG5leHBvcnQgY29uc3QgaXNQYXJ0aWFsU2VhcmNoUmVzdWx0cyA9IChyZXN1bHRzOiBNZXJnZWRTZWFyY2hSZXN1bHRzKSA9PiB7XG5cdHJldHVybiAocmVzdWx0cy5zaGFyZHMgYXMgYW55KS5zdWNjZXNzZnVsIDwgKHJlc3VsdHMuc2hhcmRzIGFzIGFueSkudG90YWw7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZmluZEZhY2V0TGlzdChmYWNldFR5cGU6IEZhY2V0VHlwZSwgcmVzdWx0czogTWVyZ2VkU2VhcmNoUmVzdWx0c1tdLCBwbGFjZUZhY2V0TGV2ZWw/OiBGYWNldFJlcXVlc3RfUGxhY2VMZXZlbCkge1xuXHRsZXQgZmFjZXRMaXN0OiBNZXJnZWRGYWNldExpc3Q7XG5cblx0aWYgKHJlc3VsdHMgIT09IG51bGwpIHtcblx0XHRmb3IgKGxldCByZXN1bHQgb2YgcmVzdWx0cykge1xuXHRcdFx0aWYgKCFyZXN1bHQuZmFjZXRzKSBjb250aW51ZTtcblxuXHRcdFx0Zm9yIChsZXQgbGlzdCBvZiByZXN1bHQuZmFjZXRzKSB7XG5cdFx0XHRcdGlmIChsaXN0LnR5cGUgPT09IGZhY2V0VHlwZSkge1xuXHRcdFx0XHRcdGlmIChmYWNldFR5cGUuc3RhcnRzV2l0aCgncGxhY2UnKSAmJiBwbGFjZUZhY2V0TGV2ZWwgIT09IGxpc3QucGxhY2VMZXZlbCkgY29udGludWU7XG5cblx0XHRcdFx0XHRmYWNldExpc3QgPSBsaXN0O1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChmYWNldExpc3QpIGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmYWNldExpc3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRmFjZXRTdWJMaXN0KHBhcmVudEZhY2V0VHlwZTogRmFjZXRUeXBlLCBwYXJlbnRGYWNldDogTWVyZ2VkRmFjZXQsIHJlc3VsdHM6IE1lcmdlZFNlYXJjaFJlc3VsdHNbXSk6IEZhY2V0TGlzdCB7XG5cdGxldCBmaWx0ZXJGbjogKGZhY2V0OiBNZXJnZWRGYWNldCkgPT4gYm9vbGVhbjtcblxuXHRsZXQgY2hpbGRGYWNldFR5cGUgPSBnZXRDaGlsZEZhY2V0VHlwZShwYXJlbnRGYWNldFR5cGUpO1xuXG5cdHN3aXRjaCAocGFyZW50RmFjZXRUeXBlKSB7XG5cdFx0Y2FzZSAnZ2VuZXJhbC50aXRsZS5jb250ZW50LmRvYy10eXBlJzpcblxuXHRcdFx0ZmlsdGVyRm4gPSBmYWNldCA9PiB7XG5cdFx0XHRcdC8qIENoZWNraW5nIGlmIHRoZSBjdXJyZW50IGZhY2V0IHZhbHVlIChpLmUuIENPTVBBTlkpIGlzIGEgc3ViIHR5cGUgb2YgcGFyZW50IChpLmUuIE1JTElUQVJZX1VOSVQpICovXG5cdFx0XHRcdHJldHVybiBpc1R5cGVDaGlsZE9mUGFyZW50KHBhcmVudEZhY2V0LnZhbHVlIGFzIENvbnRlbnRUeXBlLCBmYWNldC52YWx1ZSBhcyBDb250ZW50U3ViVHlwZSk7XG5cdFx0XHR9O1xuXHRcdFx0YnJlYWs7XG5cdH1cblxuXHRsZXQgZmFjZXRMaXN0ID0gZmluZEZhY2V0TGlzdChjaGlsZEZhY2V0VHlwZSwgcmVzdWx0cyk7XG5cblx0aWYgKCFmYWNldExpc3QgfHwgZmFjZXRMaXN0LmZhY2V0cy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG5cdGNvbnN0IGZpbHRlcmVkRmFjZXRzID0gZmFjZXRMaXN0LmZhY2V0cy5maWx0ZXIoZmlsdGVyRm4pO1xuXG5cdHJldHVybiB7XG5cdFx0Li4uZmFjZXRMaXN0LFxuXHRcdGZhY2V0czogZmlsdGVyZWRGYWNldHMsXG5cdH07XG59XG5cbmZ1bmN0aW9uIHNhZmVSZW5hbWUob2JqOiBhbnksIGZyb206IHN0cmluZywgdG86IHN0cmluZywgdHJhbnNmb3JtPzogKHY6IHN0cmluZykgPT4gc3RyaW5nKSB7XG5cdGlmIChvYmpbZnJvbV0gJiYgIW9ialt0b10pIHtcblx0XHRvYmpbdG9dID0gdHJhbnNmb3JtID8gdHJhbnNmb3JtKG9ialtmcm9tXSkgOiBvYmpbZnJvbV07XG5cdFx0ZGVsZXRlIG9ialtmcm9tXTtcblx0fVxufVxuXG5mdW5jdGlvbiBtb250aHNUb0RhdGVUaW1lKG06IHN0cmluZykge1xuXHRsZXQgZCA9IG5ldyBEYXRlKCk7XG5cdGQuc2V0TW9udGgoZC5nZXRNb250aCgpIC0gK20pO1xuXG5cdHJldHVybiBkLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTkpICsgJyswMDAwJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9sZFF1ZXJ5VG9GM1F1ZXJ5KG9iajogT2JqLCBwdWJsaWNhdGlvbnM6IE9iajxzdHJpbmcsIENvbXBhY3RQdWJsaWNhdGlvbj4pIHtcblx0bGV0IGYzUXVlcnkgPSBuZXcgRjNRdWVyeSgpO1xuXG5cdGxldCB5ZWFyc0hhbmRsZWQgPSBmYWxzZTtcblx0bGV0IGdzTmFtZXNoYW5kbGVzID0gZmFsc2U7XG5cdGxldCBwbGFjZXNIYW5kbGVkID0gZmFsc2U7XG5cdGxldCBzTmFtZXNIYW5kbGVkID0gZmFsc2U7XG5cblx0Zm9yIChsZXQgW2tleSwgdmFsXSBvZiBPYmplY3QuZW50cmllcyhvYmopKSB7XG5cdFx0c3dpdGNoIChrZXkpIHtcblx0XHRcdGNhc2UgJ3F1ZXJ5Jzpcblx0XHRcdFx0KHZhbCBhcyBzdHJpbmcpLnNwbGl0KCcsJykuZm9yRWFjaChrZXl3b3JkID0+IHtcblx0XHRcdFx0XHRmM1F1ZXJ5LktleXdvcmRzLmFkZEl0ZW0oa2V5d29yZCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2RyX3llYXInOlxuXHRcdFx0XHRmM1F1ZXJ5LkZpZWxkZWRLZXl3b3Jkcy5hZGRJdGVtKHtcblx0XHRcdFx0XHR0eXBlOiAnZGF0ZScsXG5cdFx0XHRcdFx0dGV4dHM6IFt2YWwucmVwbGFjZSgvbSwvLCAnJyldLFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICd3Jzpcblx0XHRcdFx0KHZhbCBhcyBzdHJpbmcpLnNwbGl0KCcsJykuZm9yRWFjaCh3aXRoaW4gPT4ge1xuXHRcdFx0XHRcdGYzUXVlcnkuV2l0aGluLmFkZEl0ZW0oeyB2YWx1ZTogd2l0aGluIH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdkbSc6XG5cdFx0XHRcdGxldCBudW1Nb250aHMgPSBwYXJzZUludCh2YWwpO1xuXHRcdFx0XHRsZXQgbGFzdFVwZGF0ZWQ6IFFVRVJZX0xBU1RfVVBEQVRFRDtcblxuXHRcdFx0XHRpZiAobnVtTW9udGhzID49IDEyKSBsYXN0VXBkYXRlZCA9ICcxX1lFQVInO1xuXHRcdFx0XHRlbHNlIGlmIChudW1Nb250aHMgPj0gNikgbGFzdFVwZGF0ZWQgPSAnNl9NT05USFMnO1xuXHRcdFx0XHRlbHNlIGlmIChudW1Nb250aHMgPj0gMykgbGFzdFVwZGF0ZWQgPSAnM19NT05USFMnO1xuXHRcdFx0XHRlbHNlIGlmIChudW1Nb250aHMgPj0gMSkgbGFzdFVwZGF0ZWQgPSAnMV9NT05USCc7XG5cdFx0XHRcdGVsc2UgbGFzdFVwZGF0ZWQgPSBudWxsO1xuXG5cdFx0XHRcdGYzUXVlcnkudXBkYXRlUXVlcnkoeyBsYXN0VXBkYXRlZCB9KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdmX21pbGl0YXJ5X3VuaXQnOlxuXHRcdFx0XHRmM1F1ZXJ5LkZpZWxkZWRLZXl3b3Jkcy5hZGRJdGVtKHtcblx0XHRcdFx0XHR0eXBlOiAnbWlsaXRhcnkuc2VydmljZScsXG5cdFx0XHRcdFx0dGV4dHM6IFt2YWxdLFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdndGVxX3llYXInOlxuXHRcdFx0XHRmM1F1ZXJ5LkZpbHRlcnMuYWRkSXRlbSh7XG5cdFx0XHRcdFx0dHlwZTogJ2RhdGUnLFxuXHRcdFx0XHRcdHZhbHVlczogW3sgdmFsdWU6IGAke3ZhbH0ke29iai5sdGVxX3llYXIgPyBgIC0gJHtvYmoubHRlcV95ZWFyfWAgOiAnJ31gIH1dLFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0eWVhcnNIYW5kbGVkID0gdHJ1ZTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdsdGVxX3llYXInOlxuXHRcdFx0XHRpZiAoeWVhcnNIYW5kbGVkKSBicmVhaztcblx0XHRcdFx0ZjNRdWVyeS5GaWx0ZXJzLmFkZEl0ZW0oe1xuXHRcdFx0XHRcdHR5cGU6ICdkYXRlJyxcblx0XHRcdFx0XHR2YWx1ZXM6IFt7IHZhbHVlOiB2YWwgfV0sXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2dzZm4nOlxuXHRcdFx0XHRmM1F1ZXJ5LkZpbHRlcnMuYWRkSXRlbSh7XG5cdFx0XHRcdFx0dHlwZTogJ2Z1bGwtbmFtZScsXG5cdFx0XHRcdFx0dmFsdWVzOiBbeyB2YWx1ZTogYCR7dmFsfSR7b2JqLmdzbG4gPyBgICR7b2JqLmdzbG59YCA6ICcnfWAgfV0sXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRnc05hbWVzaGFuZGxlcyA9IHRydWU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnZ3Nsbic6XG5cdFx0XHRcdGlmIChnc05hbWVzaGFuZGxlcykgYnJlYWs7XG5cdFx0XHRcdGYzUXVlcnkuRmlsdGVycy5hZGRJdGVtKHtcblx0XHRcdFx0XHR0eXBlOiAnZnVsbC1uYW1lJyxcblx0XHRcdFx0XHR2YWx1ZXM6IFt7IHZhbHVlOiB2YWwgfV0sXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3BfcGxhY2VfdXNhJzpcblx0XHRcdGNhc2UgJ3NfcGxhY2UnOlxuXHRcdFx0XHRpZiAocGxhY2VzSGFuZGxlZCkgYnJlYWs7XG5cdFx0XHRcdHBsYWNlc0hhbmRsZWQgPSB0cnVlO1xuXG5cdFx0XHRcdGxldCBzdGF0ZXNBcnIgPSBbXTtcblxuXHRcdFx0XHRpZiAoJ3BfcGxhY2VfdXNhJyBpbiBvYmopIHN0YXRlc0Fyci5wdXNoKG9iai5wX3BsYWNlX3VzYSk7XG5cdFx0XHRcdGlmICgnc19wbGFjZScgaW4gb2JqKSBzdGF0ZXNBcnIucHVzaChvYmouc19wbGFjZSk7XG5cblx0XHRcdFx0bGV0IHN0YXRlcyA9IHN0YXRlc0FyclxuXHRcdFx0XHRcdC5qb2luKCcsJykgLy8gam9pbmluZyBhbmQgc3BsaXR0aW5nIGJlY2F1c2Ugc3RhdGVzQXJyIGNvdWxkIGJlIHNvbWV0aGluZyBsaWtlIHRoaXM6IFsnVVQsTlYsQUsnLCdNaXNzaXNzaXBpLFZlcm1vbnQnXVxuXHRcdFx0XHRcdC5zcGxpdCgnLCcpXG5cdFx0XHRcdFx0LmZpbHRlcih4ID0+IHggIT09ICdub25lJyk7XG5cblx0XHRcdFx0bGV0IHZhbGlkU3RhdGVzOiBzdHJpbmdbXSA9IFtdO1xuXHRcdFx0XHRsZXQgaW52YWxpZFN0YXRlczogc3RyaW5nW10gPSBbXTtcblxuXHRcdFx0XHRzdGF0ZXMuZm9yRWFjaChzdGF0ZSA9PiB7XG5cdFx0XHRcdFx0bGV0IGxvbmdOYW1lID0gc3RhdGUubGVuZ3RoID09PSAyID8gc2hvcnRUb0xvbmcoc3RhdGUpIDogc3RhdGU7XG5cdFx0XHRcdFx0bGV0IHN0YXRlSWQgPSBnZXRQbGFjZUlkKGxvbmdOYW1lKTtcblxuXHRcdFx0XHRcdGlmIChsb25nTmFtZSAmJiBzdGF0ZUlkKSB7XG5cdFx0XHRcdFx0XHR2YWxpZFN0YXRlcy5wdXNoKGAke3N0YXRlSWR9OiR7bG9uZ05hbWV9LCBVbml0ZWQgU3RhdGVzIG9mIEFtZXJpY2FgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aW52YWxpZFN0YXRlcy5wdXNoKHN0YXRlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHZhbGlkU3RhdGVzLmZvckVhY2goc3RhdGUgPT4ge1xuXHRcdFx0XHRcdGYzUXVlcnkuRmlsdGVycy5hZGRJdGVtKHtcblx0XHRcdFx0XHRcdHR5cGU6ICdwbGFjZScsXG5cdFx0XHRcdFx0XHR2YWx1ZXM6IFt7IHZhbHVlOiBzdGF0ZSB9XSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0aW52YWxpZFN0YXRlcy5mb3JFYWNoKHN0YXRlID0+IHtcblx0XHRcdFx0XHRmM1F1ZXJ5LkZpZWxkZWRLZXl3b3Jkcy5hZGRJdGVtKHtcblx0XHRcdFx0XHRcdHR5cGU6ICdwbGFjZScsXG5cdFx0XHRcdFx0XHR0ZXh0czogW3N0YXRlXSxcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAndCc6XG5cdFx0XHRcdCh2YWwgYXMgc3RyaW5nKVxuXHRcdFx0XHRcdC5zcGxpdCgnLCcpXG5cdFx0XHRcdFx0LmZpbHRlcihpZCA9PiBpZCAhPT0gJy0xJylcblx0XHRcdFx0XHQuZm9yRWFjaChpZCA9PiB7XG5cdFx0XHRcdFx0XHRsZXQgcHViID0gcHVibGljYXRpb25zW2lkXTtcblx0XHRcdFx0XHRcdGlmIChwdWIpIHtcblx0XHRcdFx0XHRcdFx0ZjNRdWVyeS5GaWx0ZXJzLmFkZEl0ZW0oe1xuXHRcdFx0XHRcdFx0XHRcdHR5cGU6ICdnZW5lcmFsLnRpdGxlLmlkJyxcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZXM6IFt7IHZhbHVlOiBpZCwgbGFiZWw6IHB1Yi5zaG9ydFRpdGxlIH1dLFxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdzX3B1YmxpY2F0aW9uLWJyb3dzZS10aXRsZSc6XG5cdFx0XHRcdGxldCBuYW1lID0gb2JqWydzX3B1YmxpY2F0aW9uLWJyb3dzZS10aXRsZSddO1xuXHRcdFx0XHRsZXQgcHVibGljYXRpb25OYW1lcyA9IG5hbWUuc3BsaXQoJ3wnKTtcblx0XHRcdFx0bGV0IG1hdGNoZXMgPSBnZXRQdWJsaWNhdGlvbnNCeVRpdGxlKHB1YmxpY2F0aW9uTmFtZXMsIHB1YmxpY2F0aW9ucyk7XG5cblx0XHRcdFx0bWF0Y2hlcy5mb3JFYWNoKHB1YiA9PiB7XG5cdFx0XHRcdFx0ZjNRdWVyeS5GaWx0ZXJzLmFkZEl0ZW0oe1xuXHRcdFx0XHRcdFx0dHlwZTogJ2dlbmVyYWwudGl0bGUuaWQnLFxuXHRcdFx0XHRcdFx0dmFsdWVzOiBbeyB2YWx1ZTogYCR7cHViLnB1YmxpY2F0aW9uSWR9YCwgbGFiZWw6IGdldFRpdGxlKHB1YikgfV0sXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3NfZ2l2ZW5fbmFtZSc6XG5cdFx0XHRcdHNOYW1lc0hhbmRsZWQgPSB0cnVlO1xuXHRcdFx0XHRmM1F1ZXJ5LkZpZWxkZWRLZXl3b3Jkcy5hZGRJdGVtKHtcblx0XHRcdFx0XHR0eXBlOiAnZnVsbC1uYW1lJyxcblx0XHRcdFx0XHR0ZXh0czogW2Ake3ZhbH0ke29iai5zX3N1cm5hbWUgPyBgICR7b2JqLnNfc3VybmFtZX1gIDogJyd9YF0sXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3Nfc3VybmFtZSc6XG5cdFx0XHRcdGlmIChzTmFtZXNIYW5kbGVkKSBicmVhaztcblx0XHRcdFx0ZjNRdWVyeS5GaWVsZGVkS2V5d29yZHMuYWRkSXRlbSh7XG5cdFx0XHRcdFx0dHlwZTogJ2Z1bGwtbmFtZScsXG5cdFx0XHRcdFx0dGV4dHM6IFt2YWxdLFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGYzUXVlcnk7XG59XG5cbmV4cG9ydCBjb25zdCBPTERfUVVFUllfUEFSQU1TID0gWydxdWVyeScsICdkcl95ZWFyJywgJ3cnLCAnZG0nLCAnZl9taWxpdGFyeV91bml0JywgJ2d0ZXFfeWVhcicsICdsdGVxX3llYXInLCAnZ3NmbicsICdnc2xuJywgJ3BfcGxhY2VfdXNhJywgJ3NfcGxhY2UnLCAndCcsICdzX3B1YmxpY2F0aW9uLWJyb3dzZS10aXRsZScsICdzX2dpdmVuX25hbWUnLCAnc19zdXJuYW1lJ107XG5cbi8qXG4gKiBleHBvcnQgZnVuY3Rpb24gY29udmVydEZyb21PbGRRdWVyeShvYmo6IE9iaikge1xuICogXHRzYWZlUmVuYW1lKG9iaiwgJ3F1ZXJ5JywgJ2tleXdvcmRzJyk7XG4gKiBcdHNhZmVSZW5hbWUob2JqLCAnZHJfeWVhcicsICdkYXRlficsIHYgPT4gdiAmJiB2LnJlcGxhY2UoL20sLywgJycpKTtcbiAqIFx0c2FmZVJlbmFtZShvYmosICd3JywgJ3dpdGhpbicpO1xuICogXHRzYWZlUmVuYW1lKG9iaiwgJ2RtJywgJ2xhc3RVcGRhdGVkJywgbW9udGhzVG9EYXRlVGltZSk7XG4gKiBcdHNhZmVSZW5hbWUob2JqLCAnZl9taWxpdGFyeV91bml0JywgJ21pbGl0YXJ5LnNlcnZpY2V+Jyk7XG4gKiBcdHNhZmVSZW5hbWUob2JqLCAnZ3RlcV95ZWFyJywgJ2RhdGUnLCBzdGFydFllYXIgPT4ge1xuICogXHRcdGlmIChvYmoubHRlcV95ZWFyKSB7XG4gKiBcdFx0XHRyZXR1cm4gYCR7c3RhcnRZZWFyfSAtICR7b2JqLmx0ZXFfeWVhcn1gO1xuICogXHRcdH0gZWxzZSB7XG4gKiBcdFx0XHRyZXR1cm4gc3RhcnRZZWFyO1xuICogXHRcdH1cbiAqIFx0fSk7XG4gKiBcdHNhZmVSZW5hbWUob2JqLCAnbHRlcV95ZWFyJywgJ2RhdGUnLCBlbmRZZWFyID0+IHtcbiAqIFx0XHRpZiAob2JqLmd0ZXFfeWVhcikge1xuICogXHRcdFx0cmV0dXJuIGAke29iai5ndGVxX3llYXJ9IC0gJHtlbmRZZWFyfWA7XG4gKiBcdFx0fSBlbHNlIHtcbiAqIFx0XHRcdHJldHVybiBlbmRZZWFyO1xuICogXHRcdH1cbiAqIFx0fSk7XG4gKiBcdHNhZmVSZW5hbWUob2JqLCAnZ3NmbicsICdmdWxsLW5hbWV+JywgZmlyc3ROYW1lID0+IHtcbiAqIFx0XHRpZiAob2JqLmdzbG4pIHtcbiAqIFx0XHRcdHJldHVybiBgJHtmaXJzdE5hbWV9ICR7b2JqLmdzbG59YDtcbiAqIFx0XHR9IGVsc2Uge1xuICogXHRcdFx0cmV0dXJuIGZpcnN0TmFtZTtcbiAqIFx0XHR9XG4gKiBcdH0pO1xuICogXHRzYWZlUmVuYW1lKG9iaiwgJ2dzbG4nLCAnZnVsbC1uYW1lficsIGxhc3ROYW1lID0+IHtcbiAqIFx0XHRpZiAob2JqLmdzZm4pIHtcbiAqIFx0XHRcdHJldHVybiBgJHtvYmouZ3Nmbn0gJHtsYXN0TmFtZX1gO1xuICogXHRcdH0gZWxzZSB7XG4gKiBcdFx0XHRyZXR1cm4gbGFzdE5hbWU7XG4gKiBcdFx0fVxuICogXHR9KTtcbiAqL1xuXG4vKlxuICogXHRpZiAoJ3BfcGxhY2VfdXNhJyBpbiBvYmogfHwgJ3NfcGxhY2UnIGluIG9iaikge1xuICogXHRcdGxldCBzdGF0ZXNBcnIgPSBbXTtcbiAqL1xuXG4vKlxuICogXHRcdGlmICgncF9wbGFjZV91c2EnIGluIG9iaikgc3RhdGVzQXJyLnB1c2gob2JqLnBfcGxhY2VfdXNhKTtcbiAqIFx0XHRpZiAoJ3NfcGxhY2UnIGluIG9iaikgc3RhdGVzQXJyLnB1c2gob2JqLnNfcGxhY2UpO1xuICovXG5cbi8qXG4gKiBcdFx0bGV0IHN0YXRlcyA9IHN0YXRlc0FyclxuICogXHRcdFx0LmpvaW4oJywnKSAvLyBqb2luaW5nIGFuZCBzcGxpdHRpbmcgYmVjYXVzZSBzdGF0ZXNBcnIgY291bGQgYmUgc29tZXRoaW5nIGxpa2UgdGhpczogWydVVCxOVixBSycsJ01pc3Npc3NpcGksVmVybW9udCddXG4gKiBcdFx0XHQuc3BsaXQoJywnKVxuICogXHRcdFx0LmZpbHRlcih4ID0+IHggIT09ICdub25lJyk7XG4gKi9cblxuLypcbiAqIFx0XHRsZXQgdmFsaWRTdGF0ZXM6IHN0cmluZ1tdID0gW107XG4gKiBcdFx0bGV0IGludmFsaWRTdGF0ZXM6IHN0cmluZ1tdID0gW107XG4gKi9cblxuLypcbiAqIFx0XHRzdGF0ZXMuZm9yRWFjaChzdGF0ZSA9PiB7XG4gKiBcdFx0XHRsZXQgbG9uZ05hbWUgPSBzdGF0ZS5sZW5ndGggPT09IDIgPyBzaG9ydFRvTG9uZyhzdGF0ZSkgOiBzdGF0ZTtcbiAqIFx0XHRcdGxldCBzdGF0ZUlkID0gZ2V0UGxhY2VJZChsb25nTmFtZSk7XG4gKi9cblxuLypcbiAqIFx0XHRcdGlmIChsb25nTmFtZSAmJiBzdGF0ZUlkKSB7XG4gKiBcdFx0XHRcdHZhbGlkU3RhdGVzLnB1c2goYCR7c3RhdGVJZH06JHtsb25nTmFtZX0sIFVuaXRlZCBTdGF0ZXMgb2YgQW1lcmljYWApO1xuICogXHRcdFx0fSBlbHNlIHtcbiAqIFx0XHRcdFx0aW52YWxpZFN0YXRlcy5wdXNoKHN0YXRlKTtcbiAqIFx0XHRcdH1cbiAqIFx0XHR9KTtcbiAqL1xuXG4vKlxuICogXHRcdGRlbGV0ZSBvYmoucF9wbGFjZV91c2E7XG4gKiBcdFx0ZGVsZXRlIG9iai5zX3BsYWNlO1xuICovXG5cbi8qXG4gKiBcdFx0aWYgKHZhbGlkU3RhdGVzLmxlbmd0aCkge1xuICogXHRcdFx0b2JqLnBsYWNlID0gdmFsaWRTdGF0ZXMuam9pbignOycpO1xuICogXHRcdH1cbiAqIFx0XHRpZiAoaW52YWxpZFN0YXRlcy5sZW5ndGgpIHtcbiAqIFx0XHRcdG9ialsncGxhY2V+J10gPSBpbnZhbGlkU3RhdGVzLmpvaW4oJzsnKTtcbiAqIFx0XHR9XG4gKiBcdH1cbiAqL1xuXG4vKlxuICogXHRpZiAoJ3QnIGluIG9iaikge1xuICogXHRcdGxldCBwdWJTdHIgPSAob2JqLnQgYXMgc3RyaW5nKVxuICogXHRcdFx0LnNwbGl0KCcsJylcbiAqIFx0XHRcdC5maWx0ZXIoaWQgPT4gaWQgIT09ICctMScpXG4gKiBcdFx0XHQubWFwKGlkID0+IHtcbiAqIFx0XHRcdFx0bGV0IHB1YiA9IGdldFB1YmxpY2F0aW9uKGlkKTtcbiAqIFx0XHRcdFx0aWYgKHB1YikgcmV0dXJuIGAke2lkfToke3B1Yi5zaG9ydFRpdGxlfWA7XG4gKiBcdFx0XHRcdHJldHVybiBpZDtcbiAqIFx0XHRcdH0pXG4gKiBcdFx0XHQuam9pbignOycpO1xuICovXG5cbi8vIFx0XHRkZWxldGUgb2JqLnQ7XG5cbi8qXG4gKiBcdFx0aWYgKHB1YlN0ci5sZW5ndGgpIHtcbiAqIFx0XHRcdG9ialsnZ2VuZXJhbC50aXRsZS5pZCddID0gcHViU3RyO1xuICogXHRcdH1cbiAqIFx0fVxuICovXG5cbi8qXG4gKiBcdGlmICgnc19wdWJsaWNhdGlvbi1icm93c2UtdGl0bGUnIGluIG9iaikge1xuICogXHRcdGxldCBuYW1lID0gb2JqWydzX3B1YmxpY2F0aW9uLWJyb3dzZS10aXRsZSddO1xuICogXHRcdGxldCBwdWJsaWNhdGlvbk5hbWVzID0gbmFtZS5zcGxpdCgnfCcpO1xuICogXHRcdGxldCBtYXRjaGVzID0gZ2V0UHVibGljYXRpb25zQnlUaXRsZShwdWJsaWNhdGlvbk5hbWVzLCBwdWJsaWNhdGlvbnMpO1xuICovXG5cbi8qXG4gKiBcdFx0bGV0IHJlbmFtZVR5cGUgPSAnZ2VuZXJhbC50aXRsZS5pZCc7XG4gKiBcdFx0bGV0IHJlbmFtZVZhbDogc3RyaW5nO1xuICovXG5cbi8vIFx0XHRsZXQgY29udmVydGVkQWxsUHVibGljYXRpb25zID0gbWF0Y2hlcy5sZW5ndGggPT0gcHVibGljYXRpb25OYW1lcy5sZW5ndGg7XG5cbi8vIFx0XHQvKlxuLy8gXHRcdCAqIFdlcmVuJ3QgYWJsZSB0byBjb252ZXJ0IGFsbCBwdWJsaWNhdGlvbnMuXG4vLyBcdFx0ICogSWYgd2Ugb25seSBoYXZlIG9uZSwgbWFrZSBpdCBhIGZpZWxkZWQga2V5d29yZC5cbi8vIFx0XHQgKiBJZiB3ZSB3ZXJlbid0IGFibGUgdG8gY29udmVydCBhbnkgb2YgdGhlbSwgbWFrZSB0aGVtIGFsbCBmaWVsZGVkIGtleXdvcmRzLlxuLy8gXHRcdCAqIElmIHdlIGhhZCBzb21lIHRoYXQgbWF0Y2hlZCBhbmQgc29tZSB0aGF0IGRpZG4ndCwgZHJvcCB0byBlbHNlIGJsb2NrIGFuZCBjb252ZXJ0XG4vLyBcdFx0ICogYWxsIG9mIHRoZSBvbmVzIHRoYXQgZGlkIG1hdGNoLlxuLy8gXHRcdCAqL1xuLy8gXHRcdGlmICghY29udmVydGVkQWxsUHVibGljYXRpb25zICYmIChwdWJsaWNhdGlvbk5hbWVzLmxlbmd0aCA9PT0gMSB8fCBtYXRjaGVzLmxlbmd0aCA9PT0gMCkpIHtcbi8vIFx0XHRcdHJlbmFtZVR5cGUgKz0gJ34nO1xuLy8gXHRcdFx0cmVuYW1lVmFsID0gcHVibGljYXRpb25OYW1lcy5qb2luKCc7Jyk7XG4vLyBcdFx0fSBlbHNlIHtcbi8vIFx0XHRcdHJlbmFtZVZhbCA9IG1hdGNoZXNcbi8vIFx0XHRcdFx0Lm1hcChwdWIgPT4gYCR7cHViLnB1YmxpY2F0aW9uSWR9OiR7cHViLnNob3J0VGl0bGUgfHwgcHViLnRpdGxlfWApXG4vLyBcdFx0XHRcdC5qb2luKCc7Jyk7XG4vLyBcdFx0fVxuXG4vKlxuICogXHRcdGlmIChyZW5hbWVWYWwpIHtcbiAqIFx0XHRcdHNhZmVSZW5hbWUob2JqLCAnc19wdWJsaWNhdGlvbi1icm93c2UtdGl0bGUnLCByZW5hbWVUeXBlLCAoKSA9PiByZW5hbWVWYWwpO1xuICogXHRcdH1cbiAqIFx0fVxuICovXG5cbi8qXG4gKiBcdGlmIChvYmouc19naXZlbl9uYW1lIHx8IG9iai5zX3N1cm5hbWUpIHtcbiAqIFx0XHRsZXQgbmFtZSA9IFtvYmouc19naXZlbl9uYW1lIHx8ICcnLCBvYmouc19zdXJuYW1lIHx8ICcnXS5maWx0ZXIodiA9PiB2KS5qb2luKCcgJyk7XG4gKiBcdFx0b2JqLmtleXdvcmRzID0gW29iai5rZXl3b3JkcywgbmFtZV0uZmlsdGVyKHYgPT4gdikuam9pbignOycpO1xuICogXHR9XG4gKiB9XG4gKi9cblxuZXhwb3J0IGNvbnN0IGlzUGFyYW1FZGl0YWJsZSA9IChwYXJhbTogQXBwbGllZFBhcmFtKSA9PiB7XG5cdHN3aXRjaCAocGFyYW0ucGFyYW1UeXBlKSB7XG5cdFx0Y2FzZSAnZmllbGRlZEtleXdvcmRzJzpcblx0XHRjYXNlICdrZXl3b3Jkcyc6XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59O1xuXG5jb25zdCBSQU5EX01BWCA9IE1hdGgucG93KDIsIDMxKSAtIDE7IC8vIHNhbWUgYXMgUEhQJ3MgcmFuZCBtYXhcbmV4cG9ydCBmdW5jdGlvbiBzZXRQcVNlYXJjaElkKHNlc3Npb25JbmZvOiBQcm9xdWVzdFNlc3Npb25JbmZvKSB7XG5cdC8qXG5cdCAqIFRoaXMgZnVuY3Rpb24gaXMgcmVxdWlyZWQgdG8gcHJvcGVybHkgcmVwb3J0IHNlYXJjaCByZXF1ZXN0cyB0byBQUS5cblx0ICogVGhpcyBjb29raWUgaXMgdXNlZCBhbG9uZ3NpZGUgdGhlIHNlc3MgY29va2llIGZvciBwcm9wZXIgcmVwb3J0aW5nLlxuXHQgKi9cblx0bGV0IG5vdyA9IERhdGUubm93KCk7XG5cdGxldCByYW5kID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogUkFORF9NQVgpO1xuXG5cdGxldCBwcXNpZCA9IGAke3Nlc3Npb25JbmZvLnNlc3Npb25pZH06JHtub3d9OiR7cmFuZH1gO1xuXG5cdHNldENvb2tpZShDT09LSUVTLlBRX1NFQVJDSCwgcHFzaWQsIHtcblx0XHRleHBpcmVzOiBnZXRUaW1lSW5TZWNvbmRzKDQsICdocicpLFxuXHR9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVTZWFyY2hQbGFjZXMoZjNRdWVyeTogRjNRdWVyeSkge1xuXHRsZXQgdmFsdWVzID0gZjNRdWVyeS5GaWx0ZXJzXG5cdFx0LmZpbHRlcihmaWx0ZXIgPT4gZmlsdGVyLnR5cGUgPT09ICdwbGFjZScgJiYgZmlsdGVyLnZhbHVlcy5ldmVyeSh2YWwgPT4gIXZhbC52YWx1ZS5pbmNsdWRlcygnLycpKSlcblx0XHQuZmxhdE1hcChmaWx0ZXIgPT4gZmlsdGVyLnZhbHVlcyk7XG5cblx0bG9jYWwuc2V0KExPQ0FMX1NUT1JBR0VfS0VZUy5TRUFSQ0hfUExBQ0UsIHZhbHVlcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0SW5UYWdRdWVyeShmM1F1ZXJ5OiBGM1F1ZXJ5KSB7XG5cdGlmIChmM1F1ZXJ5LnF1ZXJ5LnNvcnRPcmRlciA9PT0gJ0lOJykge1xuXHRcdGYzUXVlcnkucXVlcnkuc29ydE9yZGVyID0gJ1JFTEVWQU5DRSc7XG5cdFx0aWYgKGYzUXVlcnkucXVlcnk/LmluVGFnKSB7XG5cdFx0XHRmM1F1ZXJ5LnF1ZXJ5Py5pblRhZz8udGFncz8uZm9yRWFjaCh0YWcgPT4ge1xuXHRcdFx0XHRmM1F1ZXJ5LlRhZ3MuYWRkSXRlbSh7XG5cdFx0XHRcdFx0bmFtZTogdGFnLFxuXHRcdFx0XHRcdHByaXZhdGVUYWdVc2VySWQ6IGYzUXVlcnkucXVlcnkuaW5UYWcudXNlcklkLFxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHRmM1F1ZXJ5LnF1ZXJ5LmluVGFnID0gbnVsbDtcblx0XHRcdGYzUXVlcnkucXVlcnkucmV0cmlldmVQcml2YXRlVGFnVXNlcklkID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZjNRdWVyeTtcbn1cblxuZnVuY3Rpb24gZ2V0UHVibGljYXRpb25zQnlUaXRsZSh0aXRsZXM6IHN0cmluZyB8IHN0cmluZ1tdLCBwdWJsaWNhdGlvbnM6IE9iajxzdHJpbmcsIENvbXBhY3RQdWJsaWNhdGlvbj4pOiBDb21wYWN0UHVibGljYXRpb25bXSB7XG5cdGlmICghQXJyYXkuaXNBcnJheSh0aXRsZXMpKSB0aXRsZXMgPSBbdGl0bGVzXTtcblxuXHRsZXQgdmFsaWQ6IENvbXBhY3RQdWJsaWNhdGlvbltdID0gW107XG5cblx0dGl0bGVzLmZvckVhY2godGl0bGUgPT4ge1xuXHRcdGxldCBmb3VuZCA9IGZhbHNlO1xuXHRcdGZvciAobGV0IHB1YiBvZiBPYmplY3QudmFsdWVzKHB1YmxpY2F0aW9ucykpIHtcblx0XHRcdGlmICgocHViLnNob3J0VGl0bGUgfHwgcHViLnRpdGxlKS5pbmRleE9mKHRpdGxlKSA+PSAwKSB7XG5cdFx0XHRcdHZhbGlkLnB1c2gocHViKTtcblx0XHRcdFx0Zm91bmQgPSB0cnVlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYgKCFmb3VuZCkge1xuXHRcdFx0LyogSWYgdGhpcyBoYXBwZW5zLCB0aGVyZSBpcyBsaWtlbHkgYSBsaW5rIG9uIGEgZ28gc3RhY2sgcGFnZSB3aXRoIGFuIGluY29ycmVjdCBwdWJsaWNhdGlvbiBuYW1lICovXG5cdFx0XHRjb25zb2xlLndhcm4oYFRyaWVkIHRvIGNvbnZlcnQgYW4gaW52YWxpZCBwdWJsaWNhdGlvbiBuYW1lOiBcIiR7dGl0bGV9XCJgKTtcblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiB2YWxpZDtcbn1cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUcmFucywgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IEZpeGVkU2l6ZUxpc3QgfSBmcm9tICdyZWFjdC13aW5kb3cnO1xuaW1wb3J0IHsgTWVyZ2VkRmFjZXRMaXN0LCBTZWFyY2hBcGkgfSBmcm9tICcuLi8uLi9hcGlzL3NlYXJjaEFwaSc7XG5pbXBvcnQgeyBEcm9wZG93bkl0ZW0gfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL0Ryb3Bkb3duSXRlbSc7XG5pbXBvcnQgeyBGM0J1dHRvbiB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvRjNCdXR0b24nO1xuaW1wb3J0IHsgRjNMaW5rIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9GM0xpbmsnO1xuaW1wb3J0IHsgTG9hZEluZGljYXRvciB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTG9hZEluZGljYXRvcic7XG5pbXBvcnQgeyBOdW1iZXJBYmJyZXYgfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL051bWJlckFiYnJldic7XG5pbXBvcnQgeyBGM0lucHV0IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9mb3Jtcy9GM0lucHV0JztcbmltcG9ydCB7IFBvcG91dCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbGlzdC9Qb3BvdXQnO1xuaW1wb3J0IHsgRm9sZDNQYWdlQ29udGV4dCB9IGZyb20gJy4uLy4uL2NvbnRleHQvZm9sZDNQYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBGYWNldFJlcXVlc3RfU29ydCwgRmlsdGVyX0ZpbHRlclR5cGUgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBjbGFzc1N0ciB9IGZyb20gJy4uLy4uL2xpYi9jbGFzc1V0aWwnO1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICcuLi8uLi9saWIvZGVib3VuY2UnO1xuaW1wb3J0IHsgRjNRdWVyeSwgTk9fRklMVEVSX1ZBTFVFIH0gZnJvbSAnLi4vLi4vbGliL2YzLXF1ZXJ5L0YzUXVlcnknO1xuaW1wb3J0IHsgdXNlQWxlcnRzIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUFsZXJ0cyc7XG5pbXBvcnQgeyB1c2VDdXJyZW50U3RhdGUgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlQ3VycmVudFN0YXRlJztcbmltcG9ydCB7IHVzZUxvY2FsaXplZENvbnRlbnQgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlTG9jYWxpemVkQ29udGVudCc7XG5pbXBvcnQgeyB1c2VQdWJsaWNhdGlvbkFjY2Vzc0xldmVsIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZVB1YmxpY2F0aW9uQWNjZXNzTGV2ZWwnO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VVc2VyJztcbmltcG9ydCB7IGZpbmRGYWNldExpc3QgfSBmcm9tICcuLi8uLi9saWIvc2VhcmNoSGVscGVycyc7XG5pbXBvcnQgeyBnZXRDb250ZW50UGF0aCB9IGZyb20gJy4uLy4uL2xpYi9zbHVnJztcbmltcG9ydCB7IGFscGhhTnVtZXJpY1NvcnQgfSBmcm9tICcuLi8uLi9saWIvc29ydFV0aWwnO1xuaW1wb3J0IHsgU2VhcmNoUmVzdWx0c1ZpZXcgfSBmcm9tICcuLi9zZWFyY2gvU2VhcmNoUGFnZSc7XG5pbXBvcnQgeyBCcm93c2VDb2x1bW5GYWNldFR5cGUgfSBmcm9tICcuLi9zZWFyY2gvZmFjZXRUeXBlcyc7XG5pbXBvcnQgeyBCcm93c2VDb2x1bW5TdGF0ZSB9IGZyb20gJy4vQnJvd3NlQ29sdW1ucyc7XG5pbXBvcnQgeyBOVUxMX0NIQVJBQ1RFUiwgY3JlYXRlQnJvd3NlQ29sdW1uUXVlcnksIGdldEJyb3dzZUZhY2V0TGFiZWwgfSBmcm9tICcuL2Jyb3dzZUhlbHBlcnMnO1xuXG5pbnRlcmZhY2UgQnJvd3NlSXRlbXNDb2x1bW5Qcm9wcyB7XG5cdGhlaWdodDogbnVtYmVyXG5cdHdpZHRoOiBudW1iZXJcblx0ZjNRdWVyeTogRjNRdWVyeVxuXG5cdC8vIGF1dG9GZXRjaDogUmVhY3QuTXV0YWJsZVJlZk9iamVjdDxib29sZWFuPlxuXHRjb2x1bW5TdGF0ZXM6IEJyb3dzZUNvbHVtblN0YXRlW11cblx0Y29sdW1uU3RhdGU6IEJyb3dzZUNvbHVtblN0YXRlXG5cdGxhYmVsOiBzdHJpbmdcblx0dXBkYXRlQ29sdW1uU3RhdGUoZmFjZXRUeXBlOiBCcm93c2VDb2x1bW5GYWNldFR5cGUsIHRvVXBkYXRlOiBQYXJ0aWFsPEJyb3dzZUNvbHVtblN0YXRlPik6IHZvaWRcblx0c2V0UmVzdWx0c1ZpZXc/KHZpZXc6IFNlYXJjaFJlc3VsdHNWaWV3KTogdm9pZFxufVxuXG5jb25zdCBERUZBVUxUX1NPUlQ6IEZhY2V0UmVxdWVzdF9Tb3J0ID0gJ0FMUEhBQkVUSUNBTCc7XG5jb25zdCBERUZBVUxUX0ZJTFRFUjogRmlsdGVyX0ZpbHRlclR5cGUgPSAnVEVSTSc7XG5cbmNvbnN0IG1heENvbHVtblNpemUgPSBGM1F1ZXJ5LkJST1dTRV9GQUNFVF9SRVFVRVNUX1NJWkU7XG5jb25zdCBMSU5FX0hFSUdIVCA9IDI1O1xuY29uc3QgUFVCX0lURU1fSEVJR0hUID0gTElORV9IRUlHSFQgKiAzO1xuY29uc3QgSVRFTV9IRUlHSFQgPSBMSU5FX0hFSUdIVCAqIDI7XG5jb25zdCBIRUxQX1NJWkUgPSBJVEVNX0hFSUdIVCAqIDI7XG5cbmV4cG9ydCBjb25zdCBCcm93c2VJdGVtc0NvbHVtbiA9ICh7IGhlaWdodCwgd2lkdGgsIGNvbHVtblN0YXRlcywgY29sdW1uU3RhdGUsIGxhYmVsLCBmM1F1ZXJ5LCB1cGRhdGVDb2x1bW5TdGF0ZSwgc2V0UmVzdWx0c1ZpZXcgfTogQnJvd3NlSXRlbXNDb2x1bW5Qcm9wcykgPT4ge1xuXHRjb25zdCB7IHB1YmxpY2F0aW9ucyB9ID0gdXNlQ29udGV4dChGb2xkM1BhZ2VDb250ZXh0KTtcblx0Y29uc3QgeyBpc0F1dGhlbnRpY2F0ZWQgfSA9IHVzZVVzZXIoKTtcblx0Y29uc3QgdXNlckludGVyYWN0aW9uID0gdXNlUmVmKGZhbHNlKTtcblxuXHRjb25zdCBsaXN0UmVmID0gdXNlUmVmPEZpeGVkU2l6ZUxpc3Q+KCk7XG5cdGNvbnN0IGZpbHRlcklucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KCk7XG5cdGNvbnN0IGluaXRpYWxSZW5kZXIgPSB1c2VSZWYodHJ1ZSk7XG5cblx0Y29uc3QgW2ZhY2V0TGlzdCwgc2V0RmFjZXRMaXN0XSA9IHVzZVN0YXRlPE1lcmdlZEZhY2V0TGlzdD4obnVsbCk7XG5cdGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblx0Y29uc3QgeyBhZGRFcnJvckFsZXJ0IH0gPSB1c2VBbGVydHMoKTtcblx0Y29uc3QgY3VycmVudENvbHVtblN0YXRlcyA9IHVzZUN1cnJlbnRTdGF0ZShjb2x1bW5TdGF0ZXMpO1xuXHRjb25zdCBjdXJyZW50Q29sdW1uU3RhdGUgPSB1c2VDdXJyZW50U3RhdGUoY29sdW1uU3RhdGUpO1xuXHRjb25zdCB7IGZhY2V0VHlwZSwgZmlsdGVyVHlwZSwgZmlsdGVyVmFsLCBzb3J0T3JkZXIsIHNlbGVjdGVkVmFsdWUgfSA9IGNvbHVtblN0YXRlO1xuXHRjb25zdCB7IGlzUHVibGljYXRpb25GcmVlIH0gPSB1c2VQdWJsaWNhdGlvbkFjY2Vzc0xldmVsKCk7XG5cdGNvbnN0IHsgbG9jYWxpemVQdWJsaWNhdGlvblByb3AsIGxvY2FsaXplQ29udGVudFR5cGUgfSA9IHVzZUxvY2FsaXplZENvbnRlbnQoKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignYnJvd3NlJyk7XG5cblx0Y29uc3QgZmV0Y2hSZXN1bHRzID0gYXN5bmMgKGNvbHVtblN0YXRlOiBCcm93c2VDb2x1bW5TdGF0ZSkgPT4ge1xuXHRcdHNldEZhY2V0TGlzdChudWxsKTtcblx0XHRzZXRMb2FkaW5nKHRydWUpO1xuXG5cdFx0Y29uc3QgeyBmYWNldFR5cGUsIHNvcnRPcmRlciB9ID0gY29sdW1uU3RhdGU7XG5cblx0XHRsZXQgYnJvd3NlUXVlcnkgPSBjcmVhdGVCcm93c2VDb2x1bW5RdWVyeShmM1F1ZXJ5LCBmYWNldFR5cGUsIGN1cnJlbnRDb2x1bW5TdGF0ZXMuY3VycmVudCk7XG5cdFx0bGV0IGlzUHViQ29sdW1uID0gZmFjZXRUeXBlID09PSAnZ2VuZXJhbC50aXRsZS5pZCc7XG5cblx0XHRsZXQgZmFjZXRDb3VudCA9IGlzUHViQ29sdW1uID8gMTAwMCA6IG1heENvbHVtblNpemU7XG5cblx0XHRicm93c2VRdWVyeS5GYWNldFJlcXVlc3RzLmFkZEl0ZW0oe1xuXHRcdFx0dHlwZTogZmFjZXRUeXBlLFxuXHRcdFx0bWF4Q291bnQ6IGZhY2V0Q291bnQsXG5cdFx0XHRyZXF1aXJlZFZhbHVlczogW2Ake05VTExfQ0hBUkFDVEVSfVxcdCR7TlVMTF9DSEFSQUNURVJ9ZmBdLCAvLyB3ZSBhbHdheXMgd2FudCB0aGUgbnVsbCB2YWx1ZSBpZiBpdCdzIGF2YWlsYWJsZVxuXHRcdFx0c29ydDogc29ydE9yZGVyLCAvLyBBbHBoYWJldGljYWwgc29ydCBkb2Vzbid0IHdvcmsgb24gcHVibGljYXRpb25zXG5cdFx0fSk7XG5cblx0XHR0cnkge1xuXHRcdFx0bGV0IGFsbEZhY2V0cyA9IGF3YWl0IG5ldyBTZWFyY2hBcGkoKS5mZXRjaFJlc3VsdHMoYnJvd3NlUXVlcnkudG9GYWNldFF1ZXJ5KCkpO1xuXG5cdFx0XHRsZXQgbmV3RmFjZXRMaXN0ID0gZmluZEZhY2V0TGlzdChmYWNldFR5cGUsIFthbGxGYWNldHNdKTtcblxuXHRcdFx0aWYgKGlzUHViQ29sdW1uKSB7XG5cdFx0XHRcdG5ld0ZhY2V0TGlzdC5mYWNldHMgPSBuZXdGYWNldExpc3QuZmFjZXRzLm1hcChmYWNldCA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgcHViID0gcHVibGljYXRpb25zW2ZhY2V0LnZhbHVlXTtcblx0XHRcdFx0XHRjb25zdCBmaWVsZENvbmZpZyA9IHB1Yi5maWVsZENvbmZpZ05hbWU7XG5cblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0Li4uZmFjZXQsXG5cdFx0XHRcdFx0XHRsYWJlbDogbG9jYWxpemVQdWJsaWNhdGlvblByb3AoZmllbGRDb25maWcsICdzaG9ydFRpdGxlJywgZmFjZXQubGFiZWwgfHwgZmFjZXQudmFsdWUpLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvKiBIYXZlIHRvIHNvcnQgcHVibGljYXRpb24gY29sdW1uIG1hbnVhbGx5IGJlY2F1c2UgYmFja2VuZCBzb3J0cyBiYXNlZCBvbiBwdWJsaWNhdGlvbklkLCBub3QgdGl0bGUgKi9cblx0XHRcdGlmIChpc1B1YkNvbHVtbiAmJiBzb3J0T3JkZXIgPT09ICdBTFBIQUJFVElDQUwnKSB7XG5cdFx0XHRcdG5ld0ZhY2V0TGlzdC5mYWNldHMuc29ydCgoZmFjZXRBLCBmYWNldEIpID0+IGFscGhhTnVtZXJpY1NvcnQoZmFjZXRBLmxhYmVsLCBmYWNldEIubGFiZWwpKTtcblx0XHRcdH1cblxuXHRcdFx0c2V0RmFjZXRMaXN0KG5ld0ZhY2V0TGlzdCk7XG5cdFx0XHRzZXRMb2FkaW5nKGZhbHNlKTtcblxuXHRcdFx0Ly8gaWYgKG5ld0ZhY2V0TGlzdC5mYWNldHMubGVuZ3RoID09PSAxICYmIG5ld0ZhY2V0TGlzdC5mYWNldHNbMF0ubGFiZWwgPT09IE5VTExfQ0hBUkFDVEVSKSB7XG5cdFx0XHQvLyBcdGNvbnNvbGUubG9nKCdza2lwcGluZyBudWwgY29sdW1uJyk7XG5cdFx0XHQvLyBcdGxldCB7IHZhbHVlLCBsYWJlbCB9ID0gbmV3RmFjZXRMaXN0LmZhY2V0c1swXTtcblx0XHRcdC8vIFx0dXBkYXRlQ29sdW1uU3RhdGUoZmFjZXRUeXBlLCB7IHNlbGVjdGVkVmFsdWU6IHZhbHVlLCBzZWxlY3RlZExhYmVsOiBsYWJlbCB9KTtcblx0XHRcdC8vIH1cblx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoZSk7XG5cdFx0XHRhZGRFcnJvckFsZXJ0KHQoJ2NvbW1vbjpzb21ldGhpbmdXcm9uZycpKTtcblx0XHRcdHNldExvYWRpbmcoZmFsc2UpO1xuXHRcdH1cblx0fTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGZldGNoUmVzdWx0cyhjb2x1bW5TdGF0ZSk7XG5cdH0sIFtjb2x1bW5TdGF0ZS5maWx0ZXJUeXBlLCBjb2x1bW5TdGF0ZS5zb3J0T3JkZXJdKTtcblxuXHRjb25zdCBkZWJvdW5jZWRVcGRhdGUgPSB1c2VNZW1vKCgpID0+IHtcblx0XHRyZXR1cm4gZGVib3VuY2UoKHBhcnRpYWxTdGF0ZTogUGFydGlhbDxCcm93c2VDb2x1bW5TdGF0ZT4pID0+IHtcblx0XHRcdGxldCBuZXdTdGF0ZTogQnJvd3NlQ29sdW1uU3RhdGUgPSB7IC4uLmN1cnJlbnRDb2x1bW5TdGF0ZS5jdXJyZW50LCAuLi5wYXJ0aWFsU3RhdGUgfTtcblx0XHRcdGZldGNoUmVzdWx0cyhuZXdTdGF0ZSk7XG5cdFx0fSwgNTAwKTtcblx0fSwgW10pO1xuXG5cdGNvbnN0IHNlbGVjdGVkSW5kZXggPSB1c2VNZW1vKCgpID0+IHtcblx0XHRpZiAoZmFjZXRMaXN0ID09PSBudWxsKSByZXR1cm4gLTE7XG5cdFx0cmV0dXJuIGZhY2V0TGlzdC5mYWNldHMuZmluZEluZGV4KGZhY2V0ID0+IGZhY2V0LnZhbHVlID09IHNlbGVjdGVkVmFsdWUpO1xuXHR9LCBbZmFjZXRMaXN0LCBzZWxlY3RlZFZhbHVlXSk7XG5cblx0Y29uc3QgZmlsdGVyRGlzYWJsZWQgPSBmYWNldExpc3Q/LmZhY2V0cz8ubGVuZ3RoIDw9IDEgJiYgIWN1cnJlbnRDb2x1bW5TdGF0ZS5jdXJyZW50LmZpbHRlclZhbDtcblxuXHQvLyBpZiAoZmFjZXRMaXN0Py5mYWNldHM/Lmxlbmd0aCA9PT0gMSAmJiBmYWNldExpc3Q/LmZhY2V0cz8uWzBdPy5sYWJlbCA9PT0gTlVMTF9DSEFSQUNURVIpIHtcblx0Ly8gXHRyZXR1cm4gbnVsbDtcblx0Ly8gfVxuXG5cdGNvbnN0IHJlbmRlckNvbHVtbkhlbHAgPSBmYWNldExpc3Q/LmZhY2V0cz8ubGVuZ3RoID09PSBtYXhDb2x1bW5TaXplO1xuXG5cdGNvbnN0IGl0ZW1IZWlnaHQgPSBmYWNldExpc3Q/LnR5cGUgPT09ICdnZW5lcmFsLnRpdGxlLmlkJyA/IFBVQl9JVEVNX0hFSUdIVCA6IElURU1fSEVJR0hUO1xuXG5cdHJldHVybiA8ZGl2XG5cdFx0YXJpYS1sYWJlbD0nQnJvd3NlIENvbHVtbidcblx0XHRjbGFzc05hbWU9e2NsYXNzU3RyKCdCcm93c2VDb2x1bW4nLCBsb2FkaW5nICYmICdsb2FkaW5nJyl9XG5cdFx0b25DbGljaz17KCkgPT4gdXNlckludGVyYWN0aW9uLmN1cnJlbnQgPSB0cnVlfVxuXHQ+XG5cdFx0PGRpdiBjbGFzc05hbWU9J0Jyb3dzZUNvbHVtbkhlYWRlciBwLTIgYm9yZGVyLWJvdHRvbSc+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ndGV4dC11cHBlcmNhc2UgdGV4dC1kYXJrJz5cblx0XHRcdFx0PGgyIGNsYXNzTmFtZT0nZnctYm9sZCBtZS0xIGg2IGQtaW5saW5lJz57bGFiZWx9PC9oMj5cblx0XHRcdFx0PHNwYW4gYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzTmFtZT0nZnMtNiB0ZXh0LW11dGVkIG1lLTEnPiZtaWRkb3Q7PC9zcGFuPlxuXHRcdFx0XHQ8c3BhbiBjbGFzc05hbWU9e2NsYXNzU3RyKCdmcy02JywgISFmaWx0ZXJWYWwgPyAndGV4dC1wcmltYXJ5JyA6ICd0ZXh0LW11dGVkJyl9PntmYWNldExpc3Q/LmZhY2V0cy5sZW5ndGh9PC9zcGFuPlxuXHRcdFx0PC9kaXY+XG5cblx0XHRcdDxmaWVsZHNldCBjbGFzc05hbWU9J2NvbC0xMic+XG5cdFx0XHRcdDxsYWJlbCBjbGFzc05hbWU9J3Zpc3VhbGx5LWhpZGRlbicgaHRtbEZvcj0ncHVibGljYXRpb24tdGV4dC1maWx0ZXInPlxuXHRcdFx0XHRcdHt0KCdicm93c2VJdGVtc0NvbHVtbi5maWx0ZXJMYWJlbCcsICdGaWx0ZXIge3tsYWJlbH19JywgeyBsYWJlbCB9KX1cblx0XHRcdFx0PC9sYWJlbD5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NvbC0xMic+XG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2lucHV0LWdyb3VwJz5cblx0XHRcdFx0XHRcdDxGM0lucHV0XG5cdFx0XHRcdFx0XHRcdHJlZj17ZmlsdGVySW5wdXRSZWZ9XG5cdFx0XHRcdFx0XHRcdGFyaWEtbGFiZWw9J0ZpbHRlciBJbnB1dCdcblx0XHRcdFx0XHRcdFx0YXV0b0NvbXBsZXRlPSdvZmYnXG5cdFx0XHRcdFx0XHRcdGF1dG9Gb2N1c1xuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2Bmb3JtLWNvbnRyb2wke2ZpbHRlckRpc2FibGVkID8gJyBvcGFjaXR5LTUwJyA6ICcnfWB9XG5cdFx0XHRcdFx0XHRcdGRpc2FibGVkPXtmaWx0ZXJEaXNhYmxlZH1cblx0XHRcdFx0XHRcdFx0aWQ9J3B1YmxpY2F0aW9uLXRleHQtZmlsdGVyJ1xuXHRcdFx0XHRcdFx0XHRuYW1lPSdwdWJsaWNhdGlvbi10ZXh0LWZpbHRlcidcblx0XHRcdFx0XHRcdFx0b25WYWx1ZUNoYW5nZT17dmFsID0+IHtcblx0XHRcdFx0XHRcdFx0XHR1cGRhdGVDb2x1bW5TdGF0ZShmYWNldFR5cGUsIHsgZmlsdGVyVmFsOiB2YWwgfSk7XG5cdFx0XHRcdFx0XHRcdFx0ZGVib3VuY2VkVXBkYXRlKHsgZmlsdGVyVmFsOiB2YWwgfSk7XG5cdFx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRcdHBsYWNlaG9sZGVyPXt0KCdicm93c2VJdGVtc0NvbHVtbi5maWx0ZXJMYWJlbCcsICdGaWx0ZXIge3tsYWJlbH19JywgeyBsYWJlbCB9KX1cblx0XHRcdFx0XHRcdFx0dHlwZT0nc2VhcmNoJ1xuXHRcdFx0XHRcdFx0XHR2YWx1ZT17ZmlsdGVyVmFsfVxuXHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdDxQb3BvdXRcblx0XHRcdFx0XHRcdFx0YXJpYS1sYWJlbD0nJ1xuXHRcdFx0XHRcdFx0XHRpZD0nYnJvd3NlLXNvcnQtZHJvcGRvd24nXG5cdFx0XHRcdFx0XHRcdHBvcG91dENvbnRlbnQ9e1xuXHRcdFx0XHRcdFx0XHRcdDx1bCBjbGFzc05hbWU9J2xpc3QtdW5zdHlsZWQnPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ndGV4dC11cHBlcmNhc2UgdGV4dC1zZWNvbmRhcnkgZnMtNic+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt0KCdicm93c2VJdGVtc0NvbHVtLnNvcnQnLCAnU29ydCcpfVxuXHRcdFx0XHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHRcdFx0XHRcdDxEcm9wZG93bkl0ZW1cblx0XHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlPXtzb3J0T3JkZXIgPT09ICdBTFBIQUJFVElDQUwnfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB1cGRhdGVDb2x1bW5TdGF0ZShmYWNldFR5cGUsIHsgc29ydE9yZGVyOiAnQUxQSEFCRVRJQ0FMJyB9KX1cblx0XHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0e3QoJ2Jyb3dzZUl0ZW1zQ29sdW1uLnNvcnQuYWxwaGFiZXRpY2FsbHknLCAnU29ydCBBbHBoYWJldGljYWxseScpfVxuXHRcdFx0XHRcdFx0XHRcdFx0PC9Ecm9wZG93bkl0ZW0+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8RHJvcGRvd25JdGVtXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGFjdGl2ZT17c29ydE9yZGVyID09PSAnUkFOSyd9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHVwZGF0ZUNvbHVtblN0YXRlKGZhY2V0VHlwZSwgeyBzb3J0T3JkZXI6ICdSQU5LJyB9KX1cblx0XHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0e3QoJ2Jyb3dzZUl0ZW1zQ29sdW1uLnNvcnQubnVtZXJpY2FsbHknLCAnU29ydCBieSAjIFJlY29yZHMnKX1cblx0XHRcdFx0XHRcdFx0XHRcdDwvRHJvcGRvd25JdGVtPlxuXHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmYWNldFR5cGUgIT09ICdnZW5lcmFsLnRpdGxlLmlkJyAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsaT48aHIgY2xhc3NOYW1lPSdkcm9wZG93bi1kaXZpZGVyJyAvPjwvbGk+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0ndGV4dC11cHBlcmNhc2UgdGV4dC1zZWNvbmRhcnkgZnMtNic+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7dCgnYnJvd3NlSXRlbXNDb2x1bW4uZmlsdGVyJywgJ0ZpbHRlciBUeXBlJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8RHJvcGRvd25JdGVtXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhY3RpdmU9e2ZpbHRlclR5cGUgPT09ICdURVJNJ31cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHVwZGF0ZUNvbHVtblN0YXRlKGZhY2V0VHlwZSwgeyBmaWx0ZXJUeXBlOiAnVEVSTScgfSl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3QoJ2Jyb3dzZUl0ZW1zQ29sdW1uLmZpbHRlci5jb250YWlucycsICdGaWx0ZXI6IENvbnRhaW5zJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9Ecm9wZG93bkl0ZW0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PERyb3Bkb3duSXRlbVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWN0aXZlPXtmaWx0ZXJUeXBlID09PSAnUFJFRklYJ31cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHVwZGF0ZUNvbHVtblN0YXRlKGZhY2V0VHlwZSwgeyBmaWx0ZXJUeXBlOiAnUFJFRklYJyB9KX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7dCgnYnJvd3NlSXRlbXNDb2x1bW4uZmlsdGVyLnN0YXJ0cycsICdGaWx0ZXI6IFN0YXJ0cyBXaXRoJyl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9Ecm9wZG93bkl0ZW0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvPlxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdDwvdWw+XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0dGFyZ2V0Q29udGVudD17XG5cdFx0XHRcdFx0XHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0XHRhcmlhLWxhYmVsPXt0KCdicm93c2VJdGVtc0NvbHVtbi5maWx0ZXJTb3J0QXJpYScsICdGaWx0ZXIgYW5kIFNvcnQgU2V0dGluZ3MnKX1cblx0XHRcdFx0XHRcdFx0XHRcdGJ0blR5cGU9eyhzb3J0T3JkZXIgIT09IERFRkFVTFRfU09SVCB8fCBmaWx0ZXJUeXBlICE9PSBERUZBVUxUX0ZJTFRFUikgPyAnc2Vjb25kYXJ5JyA6IG51bGx9XG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2JvcmRlci0wIHJvdW5kZWQtMCByb3VuZGVkLWVuZCdcblx0XHRcdFx0XHRcdFx0XHRcdG91dGxpbmVcblx0XHRcdFx0XHRcdFx0XHRcdHNpemU9J2xnJ1xuXHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGFyaWEtaGlkZGVuPSd0cnVlJyBjbGFzc05hbWU9J2ljb24tZjMgaWNvbi1maWx0ZXIgbGcnIC8+XG5cdFx0XHRcdFx0XHRcdFx0PC9GM0J1dHRvbj5cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2ZpZWxkc2V0PlxuXHRcdDwvZGl2PlxuXG5cdFx0e1xuXHRcdFx0ZmFjZXRMaXN0Py5mYWNldHM/Lmxlbmd0aCA9PT0gMCAmJlxuXHRcdFx0IWxvYWRpbmcgJiZcblx0XHRcdDxkaXYgY2xhc3NOYW1lPSd0ZXh0LWNlbnRlciB0ZXh0LW11dGVkIGFsZXJ0Jz5cblx0XHRcdFx0e1xuXHRcdFx0XHRcdGZpbHRlclZhbC5sZW5ndGggPiAwID9cblx0XHRcdFx0XHRcdDw+XG5cdFx0XHRcdFx0XHRcdDxUcmFucyBpMThuS2V5PSdicm93c2VJdGVtc0NvbHVtbi5ub1Jlc3VsdHMud2l0aEZpbHRlcicgdD17dH0+XG5cdFx0XHRcdFx0XHRcdFx0Tm8gcmVzdWx0cyBtYXRjaGluZyBcIjxiPnt7IGZpbHRlclZhbCB9fTwvYj5cIi5cblx0XHRcdFx0XHRcdFx0PC9UcmFucz5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J213LTEwMCBtcy0xJz5cblx0XHRcdFx0XHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRcdFx0XHRcdGJ0blR5cGU9J2xpbmsnXG5cdFx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J214LTEgcHgtMCBwdC0wJ1xuXHRcdFx0XHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRsZXQgbmV3RmlsdGVyVHlwZTogRmlsdGVyX0ZpbHRlclR5cGUgPSBmaWx0ZXJUeXBlID09PSAnUFJFRklYJyA/ICdURVJNJyA6ICdQUkVGSVgnO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR1cGRhdGVDb2x1bW5TdGF0ZShmYWNldFR5cGUsIHsgZmlsdGVyVHlwZTogbmV3RmlsdGVyVHlwZSB9KTtcblx0XHRcdFx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmaWx0ZXJUeXBlID09PSAnUFJFRklYJyA/XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dCgnYnJvd3NlSXRlbXNDb2x1bW4ubm9SZXN1bHRzLnByZWZpeCcsICdJbnN0ZWFkLCB5b3UgY2FuIHRyeSBzZWFyY2hpbmcgZm9yIHdvcmRzIHRoYXQgc3RhcnQgd2l0aCBcInt7ZmlsdGVyVmFsfX1cIi4nLCB7IGZpbHRlclZhbCB9KSA6XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dCgnYnJvd3NlSXRlbXNDb2x1bW4ubm9SZXN1bHRzLnRlcm0nLCAnSW5zdGVhZCwgeW91IGNhbiB0cnkgc2VhcmNoaW5nIGZvciB3b3JkcyB0aGF0IGNvbnRhaW4gXCJ7e2ZpbHRlclZhbH19XCIuJywgeyBmaWx0ZXJWYWwgfSlcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvPiA6XG5cdFx0XHRcdFx0XHR0KCdicm93c2VJdGVtc0NvbHVtbi5ub1Jlc3VsdHMud2l0aG91dEZpbHRlcicsICdObyByZXN1bHRzJylcblx0XHRcdFx0fVxuXHRcdFx0PC9kaXY+XG5cdFx0fVxuXG5cdFx0PGZpZWxkc2V0IGNsYXNzTmFtZT0ncG9zaXRpb24tcmVsYXRpdmUnPlxuXHRcdFx0PGxlZ2VuZCBjbGFzc05hbWU9J3Zpc3VhbGx5LWhpZGRlbic+XG5cdFx0XHRcdHt0KCdicm93c2VJdGVtc0NvbHVtbi5hcmlhLmNob29zZVByb21wdCcsICdDaG9vc2UgYSB7e2xhYmVsfX0uIEFjdGl2YXRpbmcgdGhlc2UgZWxlbWVudHMgd2lsbCBjYXVzZSBjb250ZW50IG9uIHRoZSBwYWdlIHRvIGJlIHVwZGF0ZWQuJywgeyBsYWJlbCB9KX1cblx0XHRcdDwvbGVnZW5kPlxuXHRcdFx0e2xvYWRpbmcgJiYgPExvYWRJbmRpY2F0b3IgLz59XG5cdFx0XHR7XG5cdFx0XHRcdGZhY2V0VHlwZSAhPT0gJ2dlbmVyYWwudGl0bGUuaWQnICYmXG5cdFx0XHRcdGZhY2V0TGlzdD8uZmFjZXRzLmxlbmd0aCA+IDEgJiZcblx0XHRcdFx0PGRpdlxuXHRcdFx0XHRcdGNsYXNzTmFtZT17Y2xhc3NTdHIoJ2xoLXNtJywgJ0Jyb3dzZVJvdycsICdweC0zJywgJ3B5LTInLCAnb2RkJywgJ2JvcmRlci1ib3R0b20nLCAnYm9yZGVyLTInLCAnZC1mbGV4Jywgc2VsZWN0ZWRWYWx1ZSA9PT0gTk9fRklMVEVSX1ZBTFVFICYmICdzZWxlY3RlZCBmdy1ib2xkJyl9XG5cdFx0XHRcdFx0b25DbGljaz17KCkgPT4gdXBkYXRlQ29sdW1uU3RhdGUoZmFjZXRUeXBlLCB7IHNlbGVjdGVkVmFsdWU6IE5PX0ZJTFRFUl9WQUxVRSB9KX1cblx0XHRcdFx0XHRyb2xlPSdidXR0b24nXG5cdFx0XHRcdD5cblx0XHRcdFx0XHR7dCgnYnJvd3NlSXRlbXNDb2x1bW4uc2VsZWN0QWxsQnRuJywgJ1NlbGVjdCBBbGwnKX1cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHR9XG5cdFx0XHQ8Rml4ZWRTaXplTGlzdFxuXHRcdFx0XHRyZWY9e2xpc3RSZWYgYXMgUmVhY3QuTXV0YWJsZVJlZk9iamVjdDxGaXhlZFNpemVMaXN0Pn1cblx0XHRcdFx0aGVpZ2h0PXtoZWlnaHR9XG5cdFx0XHRcdGlubmVyRWxlbWVudFR5cGU9eyh7IHN0eWxlLCBjaGlsZHJlbiwgLi4ucmVzdCB9KSA9PiB7XG5cdFx0XHRcdFx0bGV0IGJvdHRvbVBhZGRpbmcgPSAwO1xuXG5cdFx0XHRcdFx0aWYgKHJlbmRlckNvbHVtbkhlbHApIHtcblx0XHRcdFx0XHRcdGJvdHRvbVBhZGRpbmcgKz0gSEVMUF9TSVpFO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnN0IHsgZmFjZXRUeXBlLCBmaWx0ZXJWYWwsIGZpbHRlclR5cGUgfSA9IGN1cnJlbnRDb2x1bW5TdGF0ZS5jdXJyZW50O1xuXG5cdFx0XHRcdFx0cmV0dXJuIDx1bFxuXHRcdFx0XHRcdFx0ey4uLnJlc3R9XG5cdFx0XHRcdFx0XHRjbGFzc05hbWU9J21iLTAgbGlzdC11bnN0eWxlZCdcblx0XHRcdFx0XHRcdHN0eWxlPXt7XG5cdFx0XHRcdFx0XHRcdC4uLnN0eWxlLFxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IGAke3BhcnNlRmxvYXQoc3R5bGUuaGVpZ2h0KSArIGJvdHRvbVBhZGRpbmd9cHhgLFxuXHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHR7Y2hpbGRyZW59XG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdHJlbmRlckNvbHVtbkhlbHAgJiZcblx0XHRcdFx0XHRcdFx0PGxpXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdsaC1zbSBweC0zIHB5LTIgdGV4dC1jZW50ZXIgYWxlcnQtaW5mbyBkLWZsZXggZmxleC1jb2x1bW4ganVzdGlmeS1jb250ZW50LWNlbnRlcidcblx0XHRcdFx0XHRcdFx0XHRzdHlsZT17e1xuXHRcdFx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBgJHtIRUxQX1NJWkV9cHhgLFxuXHRcdFx0XHRcdFx0XHRcdFx0cG9zaXRpb246ICdhYnNvbHV0ZScsXG5cdFx0XHRcdFx0XHRcdFx0XHR0b3A6IGZhY2V0TGlzdC5mYWNldHMubGVuZ3RoICogaXRlbUhlaWdodCxcblx0XHRcdFx0XHRcdFx0XHRcdGxlZnQ6IDAsXG5cdFx0XHRcdFx0XHRcdFx0XHRyaWdodDogMCxcblx0XHRcdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0e3QoJ2Jyb3dzZUl0ZW1zQ29sdW1uLmhhdmVudEZvdW5kUHJvbXB0JywgJ0hhdmVuXFwndCBmb3VuZCB3aGF0IHlvdVxcJ3JlIGxvb2tpbmcgZm9yPycpfVxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdCEhZmlsdGVyVmFsID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YnRuVHlwZT0nbGluaydcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBuZXdGaWx0ZXJUeXBlID0gZmlsdGVyVHlwZSA9PT0gJ1BSRUZJWCcgPyAnVEVSTScgOiAnUFJFRklYJztcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVwZGF0ZUNvbHVtblN0YXRlKGZhY2V0VHlwZSwgeyBmaWx0ZXJUeXBlOiBuZXdGaWx0ZXJUeXBlIH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmaWx0ZXJUeXBlID09PSAnVEVSTScgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHQoJ2Jyb3dzZUl0ZW1zQ29sdW1uLmhhdmVudEZvdW5kUHJvbXB0LmNoYW5nZUZpbHRlci5URVJNJywgJ1Nob3cgYWxsIHJlc3VsdHMgY29udGFpbmluZyBcInt7ZmlsdGVyVmFsfX1cIicsIHsgZmlsdGVyVmFsIH0pXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZpbHRlclR5cGUgPT09ICdQUkVGSVgnICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0KCdicm93c2VJdGVtc0NvbHVtbi5oYXZlbnRGb3VuZFByb21wdC5jaGFuZ2VGaWx0ZXIuUFJFRklYJywgJ1Nob3cgb25seSByZXN1bHRzIHN0YXJ0aW5nIHdpdGggXCJ7e2ZpbHRlclZhbH19XCInLCB7IGZpbHRlclZhbCB9KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9GM0J1dHRvbj4gOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRidG5UeXBlPSdsaW5rJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZpbHRlcklucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZpbHRlcklucHV0UmVmLmN1cnJlbnQuc2Nyb2xsSW50b1ZpZXcoeyBibG9jazogJ2NlbnRlcicgfSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt0KCdicm93c2VJdGVtc0NvbHVtbi5oYXZlbnRGb3VuZFByb21wdC5hZGRGaWx0ZXInLCAnVHJ5IGFkZGluZyBhIGZpbHRlcicpfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0IXJlbmRlckNvbHVtbkhlbHAgJiZcblx0XHRcdFx0XHRcdFx0ZmlsdGVyVmFsICE9PSAnJyAmJlxuXHRcdFx0XHRcdFx0XHQ8bGlcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2xoLXNtIHB4LTMgcHktMiB0ZXh0LWNlbnRlciB0ZXh0LW11dGVkIGQtZmxleCBmbGV4LWNvbHVtbiBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJ1xuXHRcdFx0XHRcdFx0XHRcdHN0eWxlPXt7XG5cdFx0XHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0XHRcdFx0XHRcdFx0XHRcdHRvcDogZmFjZXRMaXN0Py5mYWNldHM/Lmxlbmd0aCAqIGl0ZW1IZWlnaHQsXG5cdFx0XHRcdFx0XHRcdFx0XHRsZWZ0OiAwLFxuXHRcdFx0XHRcdFx0XHRcdFx0cmlnaHQ6IDAsXG5cdFx0XHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdGZpbHRlclR5cGUgPT09ICdURVJNJyAmJlxuXHRcdFx0XHRcdFx0XHRcdFx0ZmFjZXRMaXN0Py5mYWNldHM/Lmxlbmd0aCA+IDAgJiZcblx0XHRcdFx0XHRcdFx0XHRcdHQoJ2Jyb3dzZUl0ZW1zQ29sdW1uLmZpbHRlcmVkTXNnLlRFUk0nLCAnRGlzcGxheWluZyByZXN1bHRzIGNvbnRhaW5pbmcgXCJ7e2ZpbHRlclZhbH19XCIuJywgeyBmaWx0ZXJWYWwgfSlcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0ZmlsdGVyVHlwZSA9PT0gJ1BSRUZJWCcgJiZcblx0XHRcdFx0XHRcdFx0XHRcdGZhY2V0TGlzdD8uZmFjZXRzPy5sZW5ndGggPiAwICYmXG5cdFx0XHRcdFx0XHRcdFx0XHR0KCdicm93c2VJdGVtc0NvbHVtbi5maWx0ZXJlZE1zZy5QUkVGSVgnLCAnRGlzcGxheWluZyByZXN1bHRzIHN0YXJ0aW5nIHdpdGggXCJ7e2ZpbHRlclZhbH19XCIuJywgeyBmaWx0ZXJWYWwgfSlcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdFx0XHRcdFx0XHRidG5UeXBlPSdsaW5rJ1xuXHRcdFx0XHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR1cGRhdGVDb2x1bW5TdGF0ZShmYWNldFR5cGUsIHsgZmlsdGVyVHlwZTogJ1RFUk0nLCBmaWx0ZXJWYWw6ICcnLCBzb3J0T3JkZXI6ICdBTFBIQUJFVElDQUwnIH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkZWJvdW5jZWRVcGRhdGUoeyBmaWx0ZXJWYWw6ICcnIH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdFx0XHR7dCgnYnJvd3NlSXRlbXNDb2x1bW4uY2xlYXJGaWx0ZXJCdG4nLCAnQ2xlYXIgRmlsdGVyJyl9XG5cdFx0XHRcdFx0XHRcdFx0PC9GM0J1dHRvbj5cblx0XHRcdFx0XHRcdFx0PC9saT5cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQ8L3VsPjtcblx0XHRcdFx0fX1cblx0XHRcdFx0aXRlbUNvdW50PXtmYWNldExpc3Q/LmZhY2V0cy5sZW5ndGh9XG5cdFx0XHRcdGl0ZW1LZXk9e2kgPT4gZmFjZXRMaXN0LmZhY2V0c1tpXS52YWx1ZX1cblx0XHRcdFx0aXRlbVNpemU9e2l0ZW1IZWlnaHR9XG5cdFx0XHRcdG9uSXRlbXNSZW5kZXJlZD17KCkgPT4ge1xuXHRcdFx0XHRcdGlmICghbGlzdFJlZi5jdXJyZW50KSByZXR1cm47XG5cblx0XHRcdFx0XHRpZiAoaW5pdGlhbFJlbmRlci5jdXJyZW50KSB7XG5cdFx0XHRcdFx0XHRpbml0aWFsUmVuZGVyLmN1cnJlbnQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdGlmIChzZWxlY3RlZEluZGV4KSB7XG5cdFx0XHRcdFx0XHRcdGxpc3RSZWYuY3VycmVudC5zY3JvbGxUb0l0ZW0oc2VsZWN0ZWRJbmRleCwgJ3N0YXJ0Jyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9fVxuXHRcdFx0XHR3aWR0aD17d2lkdGh9XG5cdFx0XHQ+XG5cdFx0XHRcdHsoeyBpbmRleCwgc3R5bGUgfSkgPT4ge1xuXHRcdFx0XHRcdGxldCBvZGQgPSBpbmRleCAlIDIgPT09IDE7XG5cdFx0XHRcdFx0Y29uc3QgaXRlbSA9IGZhY2V0TGlzdC5mYWNldHNbaW5kZXhdO1xuXHRcdFx0XHRcdGNvbnN0IGlzUHViQ29sdW1uID0gZmFjZXRUeXBlID09PSAnZ2VuZXJhbC50aXRsZS5pZCc7XG5cdFx0XHRcdFx0Y29uc3QgcHVibGljYXRpb24gPSBpc1B1YkNvbHVtbiA/IHB1YmxpY2F0aW9uc1tpdGVtLnZhbHVlXSA6IG51bGw7XG5cdFx0XHRcdFx0Y29uc3QgZGlzcGxheUxhYmVsID0gZ2V0QnJvd3NlRmFjZXRMYWJlbChpdGVtLmxhYmVsLCBsYWJlbCk7XG5cblx0XHRcdFx0XHRjb25zdCBkaXNwbGF5RnJlZSA9IGlzUHViQ29sdW1uICYmICFpc0F1dGhlbnRpY2F0ZWQgJiYgaXNQdWJsaWNhdGlvbkZyZWUoaXRlbS52YWx1ZSk7XG5cblx0XHRcdFx0XHRjb25zdCB1bmlxdWVJZCA9IGBicl8ke2ZhY2V0TGlzdC5mYWNldHNbaW5kZXhdLnZhbHVlfWA7XG5cdFx0XHRcdFx0Y29uc3Qgc2VsZWN0ZWQgPSBpbmRleCA9PT0gc2VsZWN0ZWRJbmRleDtcblxuXHRcdFx0XHRcdHJldHVybiA8bGlcblx0XHRcdFx0XHRcdGtleT17aXRlbS52YWx1ZX1cblx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Y2xhc3NTdHIoJ2xoLXNtJywgJ0Jyb3dzZVJvdycsICdweC0zJywgJ3B5LTInLCBvZGQgJiYgJ29kZCcsICdkLWZsZXgnLCBpbmRleCA9PT0gc2VsZWN0ZWRJbmRleCAmJiAnc2VsZWN0ZWQnKX1cblx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRcdFx0dXBkYXRlQ29sdW1uU3RhdGUoZmFjZXRUeXBlLCB7IHNlbGVjdGVkVmFsdWU6IGl0ZW0udmFsdWUsIHNlbGVjdGVkTGFiZWw6IGl0ZW0ubGFiZWwgfSk7XG5cdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0c3R5bGU9e3N0eWxlfVxuXHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdDxpbnB1dFxuXHRcdFx0XHRcdFx0XHRhdXRvQ29tcGxldGU9J29mZidcblx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPSdidG4tY2hlY2sgZmxleC1zaHJpbmstMCdcblx0XHRcdFx0XHRcdFx0ZGVmYXVsdENoZWNrZWQ9e3NlbGVjdGVkfVxuXHRcdFx0XHRcdFx0XHRpZD17dW5pcXVlSWR9XG5cdFx0XHRcdFx0XHRcdG5hbWU9e2Bicm93c2VSb3dfJHtkaXNwbGF5TGFiZWw/LnJlcGxhY2VBbGwoJyAnLCAnXycpfWB9XG5cdFx0XHRcdFx0XHRcdHR5cGU9J3JhZGlvJ1xuXHRcdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHRcdDxsYWJlbFxuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9e2NsYXNzU3RyKCdmbGV4LWdyb3ctMSB3LTEwMCBhbGlnbi1pdGVtcy1jZW50ZXInLCBpdGVtLmxhYmVsID09PSBOVUxMX0NIQVJBQ1RFUiAmJiAnZnN0LWl0YWxpYycpfVxuXHRcdFx0XHRcdFx0XHRodG1sRm9yPXt1bmlxdWVJZH1cblx0XHRcdFx0XHRcdD5cblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPXtjbGFzc1N0cignY2xpcHBlZC10ZXh0JywgaXNQdWJDb2x1bW4gPyAndGhyZWUtbGluZXMnIDogJ3R3by1saW5lcycpfSB0aXRsZT17ZGlzcGxheUxhYmVsfT57ZGlzcGxheUxhYmVsfTwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvbGFiZWw+XG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGRpc3BsYXlGcmVlICYmXG5cdFx0XHRcdFx0XHRcdDxzbWFsbCBjbGFzc05hbWU9J2ZyZWUtcHVibGljYXRpb24gdGV4dC11cHBlcmNhc2UgdGV4dC1zdWNjZXNzIG1lLTInPkZyZWU8L3NtYWxsPlxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRpdGVtLm5vZGVUeXBlICE9PSAnRklMRScgJiZcblx0XHRcdFx0XHRcdFx0PHNtYWxsIGNsYXNzTmFtZT0ndGV4dC1tdXRlZCBweC0yJz5cblx0XHRcdFx0XHRcdFx0XHQ8TnVtYmVyQWJicmV2IHZlcmJvc2U9e2ZhbHNlfT57eyBjb3VudDogaXRlbS5jb3VudCB9fTwvTnVtYmVyQWJicmV2PlxuXHRcdFx0XHRcdFx0XHQ8L3NtYWxsPlxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRpdGVtLm5vZGVUeXBlID09PSAnRklMRScgJiZcblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSdpY29uLWYzIGljb24tbWVtLXRvcGljJyB0aXRsZT17dCgnYnJvd3NlSXRlbXNDb2x1bW4uZmlsZUljb24nLCBgVmlldyBhbGwgcmVjb3JkcyBpbiB7e2NvbnRlbnRUeXBlTGFiZWx9fWAsIHsgY29udGVudFR5cGVMYWJlbDogbG9jYWxpemVDb250ZW50VHlwZSgnRklMRScsIHsgZGVtb25zdHJhdGl2ZTogJ3Byb3hpbWFsJyB9KSB9KX0gLz5cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0aXNQdWJDb2x1bW4gJiZcblx0XHRcdFx0XHRcdFx0PEYzTGlua1xuXHRcdFx0XHRcdFx0XHRcdGFyaWEtbGFiZWw9J1JlYWQgbW9yZSBpbmZvcm1hdGlvbiBvbiBwdWJsaWNhdGlvbidcblx0XHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2J0bi1saW5rIGlubGluZS1ibG9jayBpY29uLWYzIGljb24taW5mbydcblx0XHRcdFx0XHRcdFx0XHRocmVmPXtnZXRDb250ZW50UGF0aCgnUFVCTElDQVRJT04nLCBpdGVtLnZhbHVlLCBwdWJsaWNhdGlvbi5zbHVnKX1cblx0XHRcdFx0XHRcdFx0XHRvbkNsaWNrPXtlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XG5cdFx0XHRcdFx0XHRcdFx0dGFyZ2V0PSdfYmxhbmsnXG5cdFx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQ8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdpY29uLWYzIGljb24tYXJyb3ctcmlnaHQgdGV4dC1tdXRlZCBvcGFjaXR5LTUwIGQtbWQtbm9uZScgLz5cblx0XHRcdFx0XHQ8L2xpPjtcblx0XHRcdFx0fX1cblx0XHRcdDwvRml4ZWRTaXplTGlzdD5cblx0XHQ8L2ZpZWxkc2V0PlxuXHQ8L2Rpdj47XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgQXV0b1NpemVyIH0gZnJvbSAncmVhY3QtdmlydHVhbGl6ZWQnO1xuaW1wb3J0IHsgU2VhcmNoVXRpbEFwaSB9IGZyb20gJy4uLy4uL2FwaXMvc2VhcmNoVXRpbEFwaSc7XG5pbXBvcnQgeyBGb2xkM1BhZ2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9mb2xkM1BhZ2VDb250ZXh0JztcbmltcG9ydCB7IEZhY2V0UmVxdWVzdF9Tb3J0LCBGaWx0ZXJfRmlsdGVyVHlwZSB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IE9iaiB9IGZyb20gJy4uLy4uL2R0by9mMy10eXBlcyc7XG5pbXBvcnQgeyBjbGFzc1N0ciB9IGZyb20gJy4uLy4uL2xpYi9jbGFzc1V0aWwnO1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICcuLi8uLi9saWIvZGVib3VuY2UnO1xuaW1wb3J0IHsgZGVlcE1lcmdlIH0gZnJvbSAnLi4vLi4vbGliL2RlZXBNZXJnZSc7XG5pbXBvcnQgeyBGM1F1ZXJ5IH0gZnJvbSAnLi4vLi4vbGliL2YzLXF1ZXJ5L0YzUXVlcnknO1xuaW1wb3J0IHsgdXNlQWxlcnRzIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUFsZXJ0cyc7XG5pbXBvcnQgeyB1c2VBc3luY0VmZmVjdCB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VBc3luY0VmZmVjdCc7XG5pbXBvcnQgeyB1c2VMb2NhbGl6ZWRDb250ZW50IH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUxvY2FsaXplZENvbnRlbnQnO1xuaW1wb3J0IHsgZ2V0VGltZUluTXMgfSBmcm9tICcuLi8uLi9saWIvdGltZSc7XG5pbXBvcnQgeyBCUk9XU0VfRkFDRVRfVFlQRVMsIEJyb3dzZUNvbHVtbkZhY2V0VHlwZSB9IGZyb20gJy4uL3NlYXJjaC9mYWNldFR5cGVzJztcbmltcG9ydCB7IEJyb3dzZURvY3VtZW50c0NvbHVtbiB9IGZyb20gJy4vQnJvd3NlRG9jdW1lbnRzQ29sdW1uJztcbmltcG9ydCB7IEJyb3dzZUl0ZW1zQ29sdW1uIH0gZnJvbSAnLi9Ccm93c2VJdGVtc0NvbHVtbic7XG5pbXBvcnQgeyBjcmVhdGVEZWZhdWx0QnJvd3NlQ29sdW1uU3RhdGUsIGdldERlZmF1bHRCcm93c2VDb2x1bW5zIH0gZnJvbSAnLi9icm93c2VIZWxwZXJzJztcblxuZXhwb3J0IGludGVyZmFjZSBCcm93c2VDb2x1bW5TdGF0ZSB7XG5cdGZhY2V0VHlwZTogQnJvd3NlQ29sdW1uRmFjZXRUeXBlXG5cdGZpbHRlclZhbD86IHN0cmluZ1xuXHRmaWx0ZXJUeXBlPzogRmlsdGVyX0ZpbHRlclR5cGVcblx0c29ydE9yZGVyPzogRmFjZXRSZXF1ZXN0X1NvcnRcblx0c2VsZWN0ZWRWYWx1ZT86IHN0cmluZ1xuXHRzZWxlY3RlZExhYmVsPzogc3RyaW5nXG59XG5cbmludGVyZmFjZSBCcm93c2VDb2x1bW5zUHJvcHMge1xuXHRmM1F1ZXJ5OiBGM1F1ZXJ5XG5cdGNvbHVtblN0YXRlczogQnJvd3NlQ29sdW1uU3RhdGVbXVxuXHRzZXRDb2x1bW5TdGF0ZXM6IFJlYWN0LkRpc3BhdGNoPFJlYWN0LlNldFN0YXRlQWN0aW9uPEJyb3dzZUNvbHVtblN0YXRlW10+PlxuXHRpZGVhbENvbHVtbldpZHRoPzogbnVtYmVyXG59XG5cbmludGVyZmFjZSBCcm93c2VDb2x1bW5JbmZvIHtcblx0bGFiZWw/OiBzdHJpbmdcblx0ZmFjZXRUeXBlOiBCcm93c2VDb2x1bW5GYWNldFR5cGVcbn1cblxuY29uc3QgRE9DX0NPTF9GQUNFVF9UWVBFOiBCcm93c2VDb2x1bW5GYWNldFR5cGUgPSAnRE9DX0NPTCcgYXMgYW55IGFzIEJyb3dzZUNvbHVtbkZhY2V0VHlwZTtcblxuZXhwb3J0IGNvbnN0IEJyb3dzZUNvbHVtbnMgPSAoeyBmM1F1ZXJ5LCBpZGVhbENvbHVtbldpZHRoID0gMzAwLCBjb2x1bW5TdGF0ZXMsIHNldENvbHVtblN0YXRlcyB9OiBCcm93c2VDb2x1bW5zUHJvcHMpID0+IHtcblx0Y29uc3QgY29sdW1uc1JlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG5cdGNvbnN0IFtmaXJzdENvbEluZGV4LCBzZXRGaXJzdENvbEluZGV4XSA9IHVzZVN0YXRlKDApO1xuXHRjb25zdCBbY29sdW1uTGFiZWxzLCBzZXRDb2x1bW5MYWJlbHNdID0gdXNlU3RhdGU8T2JqPEJyb3dzZUNvbHVtbkZhY2V0VHlwZSwgc3RyaW5nPj4obnVsbCk7XG5cdGNvbnN0IFtkb2N1bWVudENvbHVtbkxhYmVsLCBzZXREb2N1bWVudENvbHVtbkxhYmVsXSA9IHVzZVN0YXRlPHN0cmluZz4obnVsbCk7XG5cdGNvbnN0IHsgYWRkQWxlcnQsIGNsZWFyQWxlcnRzIH0gPSB1c2VBbGVydHMoKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignYnJvd3NlJyk7XG5cdGNvbnN0IHsgbG9jYWxpemVQdWJsaWNhdGlvbkZpZWxkIH0gPSB1c2VMb2NhbGl6ZWRDb250ZW50KCk7XG5cdGNvbnN0IHsgcHVibGljYXRpb25zIH0gPSB1c2VDb250ZXh0KEZvbGQzUGFnZUNvbnRleHQpO1xuXG5cdGNvbnN0IHB1YmxpY2F0aW9uSWQgPSB1c2VNZW1vKCgpID0+IHtcblx0XHRsZXQgcHViSWQgPSBjb2x1bW5TdGF0ZXNcblx0XHRcdC5maW5kKGNvbCA9PiBjb2wuZmFjZXRUeXBlID09PSAnZ2VuZXJhbC50aXRsZS5pZCcpXG5cdFx0XHQ/LnNlbGVjdGVkVmFsdWU7XG5cblx0XHRpZiAocHViSWQpIHJldHVybiArcHViSWQ7XG5cdH0sIFtjb2x1bW5TdGF0ZXNdKTtcblxuXHQvLyBjb25zdCBub25OdWxDb2x1bW5zID0gdXNlQ3VycmVudFN0YXRlKGNvbHVtblN0YXRlcy5maWx0ZXIoc3RhdGUgPT4gc3RhdGUuc2VsZWN0ZWRMYWJlbCAhPT0gTlVMTF9DSEFSQUNURVIpKTtcblxuXHRjb25zdCBzaG93RG9jQ29sdW1uID0gY29sdW1uTGFiZWxzICE9PSBudWxsICYmXG5cdFx0Y29sdW1uU3RhdGVzLmxlbmd0aCAtIDIgPT09IE9iamVjdC5rZXlzKGNvbHVtbkxhYmVscykubGVuZ3RoICYmXG5cdFx0ISFjb2x1bW5TdGF0ZXMuYXQoLTIpLnNlbGVjdGVkVmFsdWU7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRyZXR1cm4gZjNRdWVyeS5vbk1vZGlmaWVkKCgpID0+IHtcblx0XHRcdHNldENvbHVtblN0YXRlcygoKSA9PiBnZXREZWZhdWx0QnJvd3NlQ29sdW1ucygpKTtcblx0XHR9KTtcblx0fSwgW10pO1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0Y29uc3QgcHViID0gcHVibGljYXRpb25zW3B1YmxpY2F0aW9uSWRdO1xuXG5cdFx0aWYgKCFwdWIpIHJldHVybjtcblxuXHRcdGNsZWFyQWxlcnRzKCk7XG5cblx0XHRpZiAocHViLm1pZ3JhdGlvbk1vZGUgIT09ICdET05FJyAmJiBwdWIubWlncmF0aW9uTW9kZSAhPT0gJ09GRicpIHtcblx0XHRcdGFkZEFsZXJ0KHtcblx0XHRcdFx0dHlwZTogJ3dhcm5pbmcnLFxuXHRcdFx0XHRtZXNzYWdlOiB0KCdicm93c2VDb2x1bW5zLnB1Yk1pZ3JhdGlvbldhcm5pbmcnLCAnV2UgYXJlIGN1cnJlbnRseSB3b3JraW5nIG9uIHRoaXMgcHVibGljYXRpb24uIFlvdSBtYXkgZXhwZXJpZW5jZSBkYXRhIGluY29uc2lzdGVuY2llcyBkdXJpbmcgdGhpcyB0aW1lLicpLFxuXHRcdFx0XHRleHBpcmVzOiBnZXRUaW1lSW5NcygxMCwgJ3NlYycpLFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LCBbcHVibGljYXRpb25JZF0pO1xuXG5cdHVzZUFzeW5jRWZmZWN0KGFzeW5jICgpID0+IHtcblx0XHRzZXRDb2x1bW5MYWJlbHMobnVsbCk7XG5cblx0XHRpZiAoIXB1YmxpY2F0aW9uSWQpIHJldHVybjtcblxuXHRcdGxldCBbbGFiZWxzLCBkb2N1bWVudExhYmVsXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcblx0XHRcdG5ldyBTZWFyY2hVdGlsQXBpKCkuZ2V0QnJvd3NlTGV2ZWxMYWJlbHMocHVibGljYXRpb25JZCksXG5cdFx0XHRuZXcgU2VhcmNoVXRpbEFwaSgpLmdldERvY3VtZW50TGV2ZWxMYWJlbChwdWJsaWNhdGlvbklkKSxcblx0XHRdKTtcblxuXHRcdGNvbnN0IGNvbHVtbkxhYmVscyA9IEJST1dTRV9GQUNFVF9UWVBFUy5yZWR1Y2UoKGZpbmFsT2JqLCBmYWNldFR5cGUsIGkpID0+IHtcblx0XHRcdGxldCBsYWJlbCA9IGxhYmVsc1tpIC0gMV07XG5cblx0XHRcdGlmIChmYWNldFR5cGUgPT09ICdnZW5lcmFsLnRpdGxlLmlkJyB8fCAhbGFiZWwpIHtcblx0XHRcdFx0cmV0dXJuIGZpbmFsT2JqO1xuXHRcdFx0fVxuXG5cdFx0XHRsYWJlbCA9IGxvY2FsaXplUHVibGljYXRpb25GaWVsZChwdWJsaWNhdGlvbj8uZmllbGRDb25maWdOYW1lLCB7IG5hbWU6IGxhYmVsLCBsYWJlbCB9KTtcblx0XHRcdGZpbmFsT2JqW2ZhY2V0VHlwZV0gPSBsYWJlbDtcblxuXHRcdFx0cmV0dXJuIGZpbmFsT2JqO1xuXHRcdH0sIHt9IGFzIE9iajxCcm93c2VDb2x1bW5GYWNldFR5cGUsIHN0cmluZz4pO1xuXG5cdFx0ZG9jdW1lbnRMYWJlbCA9IGxvY2FsaXplUHVibGljYXRpb25GaWVsZChwdWJsaWNhdGlvbj8uZmllbGRDb25maWdOYW1lLCB7IG5hbWU6IGRvY3VtZW50TGFiZWwsIGxhYmVsOiBkb2N1bWVudExhYmVsIH0pO1xuXG5cdFx0c2V0RG9jdW1lbnRDb2x1bW5MYWJlbChkb2N1bWVudExhYmVsKTtcblx0XHRzZXRDb2x1bW5MYWJlbHMoY29sdW1uTGFiZWxzKTtcblx0fSwgW3B1YmxpY2F0aW9uSWRdKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGNvbnN0IGRlYm91bmNlZENvbHVtbnNDYWxjID0gZGVib3VuY2UodXBkYXRlRmlyc3RDb2xJbmRleCwgNTAwKTtcblxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBkZWJvdW5jZWRDb2x1bW5zQ2FsYyk7XG5cdFx0cmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBkZWJvdW5jZWRDb2x1bW5zQ2FsYyk7XG5cdH0sIFtdKTtcblxuXHRmdW5jdGlvbiBnZXRDb2x1bW5zSW5mbyh0b3RhbFdpZHRoOiBudW1iZXIpIHtcblx0XHRsZXQgd2lkdGhNaW51c1BhZGRpbmcgPSB0b3RhbFdpZHRoIC0gZ2V0UGFkZGluZ0FtdCh0b3RhbFdpZHRoKTtcblx0XHRsZXQgbnVtQ29scyA9IE1hdGguZmxvb3Iod2lkdGhNaW51c1BhZGRpbmcgLyBpZGVhbENvbHVtbldpZHRoKTtcblx0XHRsZXQgY29sV2lkdGggPSB3aWR0aE1pbnVzUGFkZGluZyAvIG51bUNvbHM7XG5cblx0XHRyZXR1cm4geyBudW1Db2xzLCBjb2xXaWR0aCB9O1xuXHR9XG5cblx0Y29uc3QgZ2V0VmlzaWJsZUNvbHVtbkNvdW50ID0gKCkgPT4ge1xuXHRcdGNvbnN0IHdpZHRoID0gZ2V0Q29sdW1uc1dpZHRoKCk7XG5cdFx0aWYgKHdpZHRoICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiBnZXRDb2x1bW5zSW5mbyh3aWR0aCkubnVtQ29scztcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgZ2V0Q29sdW1uc1dpZHRoID0gKCkgPT4ge1xuXHRcdGxldCByZWN0ID0gY29sdW1uc1JlZj8uY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0aWYgKHJlY3QpIHtcblx0XHRcdHJldHVybiByZWN0LndpZHRoO1xuXHRcdH1cblx0fTtcblxuXHRjb25zdCB1cGRhdGVGaXJzdENvbEluZGV4ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuXHRcdGNvbnN0IHZpc2libGVDb2x1bW5zID0gZ2V0VmlzaWJsZUNvbHVtbkNvdW50KCk7XG5cdFx0bGV0IGZpcnN0SW5kZXggPSBjb2x1bW5TdGF0ZXMubGVuZ3RoIC0gdmlzaWJsZUNvbHVtbnM7XG5cdFx0Y29uc3Qgd2lkdGggPSBnZXRDb2x1bW5zV2lkdGgoKTtcblxuXHRcdGxldCBpc01vYmlsZSA9IGRpc3BsYXlNb2JpbGUod2lkdGgpO1xuXHRcdGlmIChzaG93RG9jQ29sdW1uICYmICFpc01vYmlsZSkgZmlyc3RJbmRleCArPSAyO1xuXG5cdFx0c2V0Rmlyc3RDb2xJbmRleChNYXRoLm1heCgwLCBmaXJzdEluZGV4KSk7XG5cdH0sIFtjb2x1bW5TdGF0ZXMsIHNob3dEb2NDb2x1bW5dKTtcblxuXHRjb25zdCBsYXN0Q29sdW1uSW5kZXggPSB1c2VNZW1vKCgpID0+IHtcblx0XHRyZXR1cm4gZmlyc3RDb2xJbmRleCArIGdldFZpc2libGVDb2x1bW5Db3VudCgpO1xuXHR9LCBbZmlyc3RDb2xJbmRleF0pO1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0dXBkYXRlRmlyc3RDb2xJbmRleCgpO1xuXHR9LCBbY29sdW1uU3RhdGVzLmxlbmd0aCwgc2hvd0RvY0NvbHVtbl0pO1xuXG5cdGNvbnN0IGhhbmRsZVVwZGF0ZUNvbHVtblN0YXRlID0gKGZhY2V0VHlwZTogQnJvd3NlQ29sdW1uRmFjZXRUeXBlLCB0b1VwZGF0ZTogUGFydGlhbDxCcm93c2VDb2x1bW5TdGF0ZT4pID0+IHtcblx0XHRzZXRDb2x1bW5TdGF0ZXMoY29sdW1uU3RhdGVzID0+IHtcblx0XHRcdGxldCBpID0gY29sdW1uU3RhdGVzLmZpbmRJbmRleChzdGF0ZSA9PiBzdGF0ZS5mYWNldFR5cGUgPT09IGZhY2V0VHlwZSk7XG5cblx0XHRcdGxldCB1cGRhdGVkU3RhdGVzID0gY29sdW1uU3RhdGVzLnNsaWNlKDAsIGkpO1xuXG5cdFx0XHRsZXQgY3VycmVudFN0YXRlID0gY29sdW1uU3RhdGVzW2ldO1xuXHRcdFx0aWYgKCFjdXJyZW50U3RhdGUpIGN1cnJlbnRTdGF0ZSA9IGNyZWF0ZURlZmF1bHRCcm93c2VDb2x1bW5TdGF0ZSgpO1xuXG5cdFx0XHRbJ2ZpbHRlclR5cGUnLCAnZmlsdGVyVmFsJywgJ3NvcnRPcmRlciddLmZvckVhY2goa2V5ID0+IHtcblx0XHRcdFx0aWYgKGtleSBpbiB0b1VwZGF0ZSkge1xuXHRcdFx0XHRcdHRvVXBkYXRlLnNlbGVjdGVkTGFiZWwgPSBudWxsO1xuXHRcdFx0XHRcdHRvVXBkYXRlLnNlbGVjdGVkVmFsdWUgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0bGV0IHVwZGF0ZWRTdGF0ZSA9IGRlZXBNZXJnZShjdXJyZW50U3RhdGUsIHRvVXBkYXRlKTtcblxuXHRcdFx0dXBkYXRlZFN0YXRlcy5wdXNoKHVwZGF0ZWRTdGF0ZSk7XG5cblx0XHRcdGNvbnN0IGxhc3RTdGF0ZSA9IHVwZGF0ZWRTdGF0ZXMuYXQoLTEpO1xuXHRcdFx0aWYgKGxhc3RTdGF0ZS5zZWxlY3RlZFZhbHVlKSB7XG5cdFx0XHRcdGxldCBuZXh0RmFjZXRUeXBlID0gZ2V0TmV4dEZhY2V0VHlwZShsYXN0U3RhdGUuZmFjZXRUeXBlKTtcblx0XHRcdFx0aWYgKG5leHRGYWNldFR5cGUpIHtcblx0XHRcdFx0XHR1cGRhdGVkU3RhdGVzLnB1c2goY3JlYXRlRGVmYXVsdEJyb3dzZUNvbHVtblN0YXRlKHsgZmFjZXRUeXBlOiBuZXh0RmFjZXRUeXBlIH0pKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdXBkYXRlZFN0YXRlcztcblx0XHR9KTtcblx0fTtcblxuXHRjb25zdCBnZXROZXh0RmFjZXRUeXBlID0gKGZhY2V0VHlwZTogQnJvd3NlQ29sdW1uRmFjZXRUeXBlKSA9PiB7XG5cdFx0bGV0IGkgPSBCUk9XU0VfRkFDRVRfVFlQRVMuaW5kZXhPZihmYWNldFR5cGUpO1xuXHRcdHJldHVybiBCUk9XU0VfRkFDRVRfVFlQRVNbaSArIDFdO1xuXHR9O1xuXG5cdGNvbnN0IHB1YmxpY2F0aW9uQ29sdW1uID0gdXNlTWVtbygoKSA9PiB7XG5cdFx0bGV0IHB1YkNvbHVtbiA9IGNvbHVtblN0YXRlcy5maW5kKHN0YXRlID0+IHN0YXRlLmZhY2V0VHlwZSA9PT0gJ2dlbmVyYWwudGl0bGUuaWQnKTtcblx0XHRyZXR1cm4gcHViQ29sdW1uIHx8IGNyZWF0ZURlZmF1bHRCcm93c2VDb2x1bW5TdGF0ZSh7IGZhY2V0VHlwZTogJ2dlbmVyYWwudGl0bGUuaWQnIH0pO1xuXHR9LCBbY29sdW1uU3RhdGVzXSk7XG5cblx0Y29uc3QgcHVibGljYXRpb24gPSB1c2VNZW1vKCgpID0+IHtcblx0XHRpZiAoIXB1YmxpY2F0aW9uQ29sdW1uIHx8ICFwdWJsaWNhdGlvbkNvbHVtbi5zZWxlY3RlZFZhbHVlKSByZXR1cm47XG5cdFx0cmV0dXJuIHB1YmxpY2F0aW9uc1twdWJsaWNhdGlvbkNvbHVtbi5zZWxlY3RlZFZhbHVlXTtcblx0fSwgW3B1YmxpY2F0aW9uQ29sdW1uXSk7XG5cblx0cmV0dXJuIDxBdXRvU2l6ZXI+XG5cdFx0eyh7IHdpZHRoLCBoZWlnaHQgfSkgPT4ge1xuXHRcdFx0bGV0IHsgY29sV2lkdGggfSA9IGdldENvbHVtbnNJbmZvKHdpZHRoKTtcblx0XHRcdGxldCB0cmFuc2xhdGUgPSBmaXJzdENvbEluZGV4ICogY29sV2lkdGg7XG5cblx0XHRcdGlmIChmaXJzdENvbEluZGV4ID4gMCkgdHJhbnNsYXRlIC09IGdldFBhZGRpbmdBbXQod2lkdGgpO1xuXG5cdFx0XHRsZXQgZmlsdGVyQ29sSGVpZ2h0ID0gaGVpZ2h0IC0gNzk7IC8vIGhlaWdodCBtaW51cyBoZWFkaW5nIGFuZCBmaWx0ZXIgYm94XG5cdFx0XHRsZXQgbm9uUHViQ29sSGVpZ2h0ID0gZmlsdGVyQ29sSGVpZ2h0IC0gNTA7IC8vIGFjY291bnQgZm9yIFwic2VsZWN0IGFsbFwiIHNlY3Rpb24gb2YgY29sdW1uc1xuXG5cdFx0XHRyZXR1cm4gPGRpdlxuXHRcdFx0XHRyZWY9e25vZGUgPT4ge1xuXHRcdFx0XHRcdGlmIChjb2x1bW5zUmVmLmN1cnJlbnQgPT09IG51bGwgJiYgd2lkdGggPiAwKSB7XG5cdFx0XHRcdFx0XHRjb2x1bW5zUmVmLmN1cnJlbnQgPSBub2RlO1xuXHRcdFx0XHRcdFx0dXBkYXRlRmlyc3RDb2xJbmRleCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fX1cblx0XHRcdFx0YXJpYS1sYWJlbD0nQnJvd3NlIE92ZXJsYXknXG5cdFx0XHRcdGNsYXNzTmFtZT17Y2xhc3NTdHIoJ0Jyb3dzZUNvbHVtbnMnLCAnb3ZlcmZsb3ctaGlkZGVuJyl9XG5cdFx0XHRcdHN0eWxlPXt7IHdpZHRoLCBoZWlnaHQgfX1cblxuXHRcdFx0XHQvLyBvbkNsaWNrPXsoKSA9PiB7XG5cdFx0XHRcdC8qIFdlIG5lZWQgdG8gZGV0ZWN0IHRoYXQgdGhlIHVzZXIgaGFzIGludGVyYWN0ZWQgd2l0aCB0aGUgcGFnZSB0byBrbm93IHdoZXRoZXIgb3Igbm90IHdlIGNhbiB0YWtlIHNvbWUgYWN0aW9ucyAqL1xuXHRcdFx0XHQvKlxuXHRcdFx0XHQgKiBcdGF1dG9GZXRjaC5jdXJyZW50ID0gdHJ1ZTtcblx0XHRcdFx0ICogfX1cblx0XHRcdFx0ICovXG5cdFx0XHQ+XG5cdFx0XHRcdHtcblx0XHRcdFx0XHRmaXJzdENvbEluZGV4ID4gMCAmJlxuXHRcdFx0XHRcdDxkaXZcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nYnJvd3NlLWFycm93IGxlZnQnXG5cdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiBzZXRGaXJzdENvbEluZGV4KGluZGV4ID0+IGluZGV4IC0gMSl9XG5cdFx0XHRcdFx0XHRyb2xlPSdidXR0b24nXG5cdFx0XHRcdFx0XHR0YWJJbmRleD17MH1cblx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHQ8c3BhbiBhcmlhLWhpZGRlbj0ndHJ1ZScgY2xhc3NOYW1lPSdpY29uLWYzIGljb24tYXJyb3ctbGVmdCcgLz5cblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzTmFtZT0ndmlzdWFsbHktaGlkZGVuLWZvY3VzYWJsZSc+e3QoJ2Jyb3dzZUNvbHVtbi5zaG93UHJldmlvdXNCdG4nLCAnU2hvdyBwcmV2aW91cyBicm93c2Ugc2VjdGlvbicpfTwvc3Bhbj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0fVxuXHRcdFx0XHR7LyogVGhpcyBpcyByZW5kZXJlZCBoZXJlIGZvciBhY2Nlc3NpYmlsaXR5IHJlYXNvbnMuIENzcyB3aWxsIHBvc2l0aW9uIGl0IHByb3Blcmx5LiBUaGlzIGFsbG93cyB0aGUgdGFiIGZvY3VzIHRvIGdvIGZyb20gcHJldiB0byBuZXh0IGJ1dHRvbiBlYXNpbHkuICovfVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bGFzdENvbHVtbkluZGV4IDwgY29sdW1uU3RhdGVzLmxlbmd0aCArIChzaG93RG9jQ29sdW1uICYmICFkaXNwbGF5TW9iaWxlKHdpZHRoKSA/IDIgOiAwKSAmJlxuXHRcdFx0XHRcdDxkaXZcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT0nYnJvd3NlLWFycm93IHJpZ2h0J1xuXHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4gc2V0Rmlyc3RDb2xJbmRleChpbmRleCA9PiBpbmRleCArIDEpfVxuXHRcdFx0XHRcdFx0cm9sZT0nYnV0dG9uJ1xuXHRcdFx0XHRcdFx0dGFiSW5kZXg9ezB9XG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0PHNwYW4gYXJpYS1oaWRkZW49J3RydWUnIGNsYXNzTmFtZT0naWNvbi1mMyBpY29uLWFycm93LXJpZ2h0JyAvPlxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3NOYW1lPSd2aXN1YWxseS1oaWRkZW4tZm9jdXNhYmxlJz57dCgnYnJvd3NlQ29sdW1uLnNob3dOZXh0QnRuJywgJ1Nob3cgbmV4dCBicm93c2Ugc2VjdGlvbicpfTwvc3Bhbj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0fVxuXHRcdFx0XHQ8ZGl2XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPSdicm93c2UtY29sdW1ucy1pbm5lcidcblx0XHRcdFx0XHRzdHlsZT17eyB0cmFuc2Zvcm06IGB0cmFuc2xhdGVYKC0ke3RyYW5zbGF0ZX1weClgIH19XG5cdFx0XHRcdD5cblx0XHRcdFx0XHQ8QnJvd3NlSXRlbXNDb2x1bW5cblx0XHRcdFx0XHRcdGtleT17ZjNRdWVyeS5xdWVyeVN0cmluZy5nZXRWYWx1ZSgpfVxuXHRcdFx0XHRcdFx0Y29sdW1uU3RhdGU9e3B1YmxpY2F0aW9uQ29sdW1ufVxuXHRcdFx0XHRcdFx0Y29sdW1uU3RhdGVzPXtjb2x1bW5TdGF0ZXN9XG5cdFx0XHRcdFx0XHRmM1F1ZXJ5PXtmM1F1ZXJ5fVxuXHRcdFx0XHRcdFx0aGVpZ2h0PXtmaWx0ZXJDb2xIZWlnaHR9XG5cdFx0XHRcdFx0XHRsYWJlbD17dCgnYnJvd3NlQ29sdW1ucy5wdWJDb2x1bW5IZWFkZXInLCAnUHVibGljYXRpb25zJyl9XG5cdFx0XHRcdFx0XHR1cGRhdGVDb2x1bW5TdGF0ZT17aGFuZGxlVXBkYXRlQ29sdW1uU3RhdGV9XG5cdFx0XHRcdFx0XHR3aWR0aD17Y29sV2lkdGh9XG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRjb2x1bW5TdGF0ZXMuc2xpY2UoMSkubWFwKChjb2x1bW4sIGksIGFycikgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoY29sdW1uTGFiZWxzID09PSBudWxsIHx8ICEoY29sdW1uLmZhY2V0VHlwZSBpbiBjb2x1bW5MYWJlbHMpKSByZXR1cm4gbnVsbDtcblxuXHRcdFx0XHRcdFx0XHRsZXQga2V5ID0gSlNPTi5zdHJpbmdpZnkoYXJyW2kgLSAxXSk7XG5cblx0XHRcdFx0XHRcdFx0cmV0dXJuIDxCcm93c2VJdGVtc0NvbHVtblxuXHRcdFx0XHRcdFx0XHRcdGtleT17a2V5fVxuXHRcdFx0XHRcdFx0XHRcdGNvbHVtblN0YXRlPXtjb2x1bW59XG5cdFx0XHRcdFx0XHRcdFx0Y29sdW1uU3RhdGVzPXtjb2x1bW5TdGF0ZXN9XG5cdFx0XHRcdFx0XHRcdFx0ZjNRdWVyeT17ZjNRdWVyeX1cblx0XHRcdFx0XHRcdFx0XHRoZWlnaHQ9e25vblB1YkNvbEhlaWdodH1cblx0XHRcdFx0XHRcdFx0XHRsYWJlbD17Y29sdW1uTGFiZWxzW2NvbHVtbi5mYWNldFR5cGVdfVxuXHRcdFx0XHRcdFx0XHRcdHVwZGF0ZUNvbHVtblN0YXRlPXtoYW5kbGVVcGRhdGVDb2x1bW5TdGF0ZX1cblx0XHRcdFx0XHRcdFx0XHR3aWR0aD17Y29sV2lkdGh9XG5cdFx0XHRcdFx0XHRcdC8+O1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0c2hvd0RvY0NvbHVtbiAmJlxuXHRcdFx0XHRcdFx0PEJyb3dzZURvY3VtZW50c0NvbHVtblxuXHRcdFx0XHRcdFx0XHRrZXk9e0pTT04uc3RyaW5naWZ5KGNvbHVtblN0YXRlcy5hdCgtMikpfVxuXHRcdFx0XHRcdFx0XHRjb2x1bW5TdGF0ZXM9e2NvbHVtblN0YXRlc31cblx0XHRcdFx0XHRcdFx0ZjNRdWVyeT17ZjNRdWVyeX1cblx0XHRcdFx0XHRcdFx0aGVpZ2h0PXtoZWlnaHQgLSAzNX1cblx0XHRcdFx0XHRcdFx0bGFiZWw9e2RvY3VtZW50Q29sdW1uTGFiZWx9XG5cdFx0XHRcdFx0XHRcdHdpZHRoPXtjb2xXaWR0aCAqIChkaXNwbGF5TW9iaWxlKHdpZHRoKSA/IDEgOiAyKX1cblx0XHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2Pjtcblx0XHR9fVxuXHQ8L0F1dG9TaXplcj47XG59O1xuXG5jb25zdCBkaXNwbGF5TW9iaWxlID0gKHdpZHRoOiBudW1iZXIpID0+IHtcblx0cmV0dXJuIHdpZHRoIDw9IDc2Nztcbn07XG5cbmNvbnN0IGdldFBhZGRpbmdBbXQgPSAod2lkdGg6IG51bWJlcikgPT4ge1xuXHRyZXR1cm4gZGlzcGxheU1vYmlsZSh3aWR0aCkgPyAwIDogMzA7IC8vIDMwIHB4IHRvIHNob3cgcGFydCBvZiBvZmYtc2NyZWVuIGNvbHVtbnNcbn07XG5cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgTG9hZEluZGljYXRvciB9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvTG9hZEluZGljYXRvcic7XG5pbXBvcnQgeyBJbmRleFJlY29yZENvbnRlbnRDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9jb250ZW50Q29udGV4dCc7XG5pbXBvcnQgeyBGb2xkM1BhZ2VDb250ZXh0IH0gZnJvbSAnLi4vLi4vY29udGV4dC9mb2xkM1BhZ2VDb250ZXh0JztcbmltcG9ydCB7IGNsYXNzU3RyIH0gZnJvbSAnLi4vLi4vbGliL2NsYXNzVXRpbCc7XG5pbXBvcnQgeyBnZXRQdWJsaWNhdGlvbklkIH0gZnJvbSAnLi4vLi4vbGliL2NvbnRlbnQvY29udGVudFJ1bnRpbWUnO1xuaW1wb3J0IHsgRjNRdWVyeSB9IGZyb20gJy4uLy4uL2xpYi9mMy1xdWVyeS9GM1F1ZXJ5JztcbmltcG9ydCB7IHVzZUFzeW5jRWZmZWN0IH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUFzeW5jRWZmZWN0JztcbmltcG9ydCB7IHVzZVJlcmVuZGVyIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZVJlcmVuZGVyJztcbmltcG9ydCB7IEJyb3dzZUNvbHVtblN0YXRlLCBCcm93c2VDb2x1bW5zIH0gZnJvbSAnLi4vYnJvd3NlL0Jyb3dzZUNvbHVtbnMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVXcmFwcGVkQ29udGVudEJyb3dzZUNvbHVtbnMgfSBmcm9tICcuLi9icm93c2UvYnJvd3NlSGVscGVycyc7XG5cblxuaW50ZXJmYWNlIEluZGV4UmVjb3JkQnJvd3NlVGFiUHJvcHMge1xufVxuXG5leHBvcnQgY29uc3QgSW5kZXhSZWNvcmRCcm93c2VUYWIgPSAoe306IEluZGV4UmVjb3JkQnJvd3NlVGFiUHJvcHMpID0+IHtcblx0Y29uc3QgeyBjb250ZW50IH0gPSB1c2VDb250ZXh0KEluZGV4UmVjb3JkQ29udGVudENvbnRleHQpO1xuXHRjb25zdCBbY29sdW1uU3RhdGVzLCBzZXRDb2x1bW5TdGF0ZXNdID0gdXNlU3RhdGU8QnJvd3NlQ29sdW1uU3RhdGVbXT4obnVsbCk7XG5cdGNvbnN0IHsgcHVibGljYXRpb25zIH0gPSB1c2VDb250ZXh0KEZvbGQzUGFnZUNvbnRleHQpO1xuXG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2luZGV4Jyk7XG5cblx0Y29uc3QgcHViID0gcHVibGljYXRpb25zW2dldFB1YmxpY2F0aW9uSWQoY29udGVudCldO1xuXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0ZjNRdWVyeS5jdXJyZW50LkZpbHRlcnMuYWRkSXRlbSh7XG5cdFx0XHR0eXBlOiAnZ2VuZXJhbC50aXRsZS5pZCcsXG5cdFx0XHR2YWx1ZXM6IFt7XG5cdFx0XHRcdHZhbHVlOiBgJHtwdWIucHVibGljYXRpb25JZH1gLFxuXHRcdFx0XHRsYWJlbDogcHViLnNob3J0VGl0bGUgfHwgcHViLnRpdGxlLFxuXHRcdFx0fV0sXG5cdFx0fSk7XG5cdH0sIFtdKTtcblxuXHRjb25zdCBmM1F1ZXJ5ID0gdXNlUmVmKG5ldyBGM1F1ZXJ5KCkpO1xuXG5cdGNvbnN0IHsgcmVyZW5kZXIgfSA9IHVzZVJlcmVuZGVyKCk7XG5cblx0dXNlQXN5bmNFZmZlY3QoYXN5bmMgKCkgPT4ge1xuXHRcdGxldCBjb2x1bW5zID0gYXdhaXQgZ2VuZXJhdGVXcmFwcGVkQ29udGVudEJyb3dzZUNvbHVtbnMoY29udGVudCwgcHViKTtcblx0XHRzZXRDb2x1bW5TdGF0ZXMoY29sdW1ucyk7XG5cblx0XHRyZXJlbmRlcigpO1xuXHR9LCBbXSk7XG5cblx0cmV0dXJuIDxkaXZcblx0XHRhcmlhLWxhYmVsbGVkYnk9J3RhYi1icndzJ1xuXHRcdGNsYXNzTmFtZT17Y2xhc3NTdHIoJ0luZGV4UmVjb3JkQnJvd3NlVGFiJywgJ2NvbnRhaW5lci1mbHVpZCBweS01IHB4LTAnKX1cblx0XHRpZD0nYnJvd3NlLXRhYidcblx0XHRzdHlsZT17eyBoZWlnaHQ6ICc1MDBweCcgfX1cblx0PlxuXHRcdDxoMiBjbGFzc05hbWU9J2Qtbm9uZSBkLXByaW50LWJsb2NrIHRleHQtY2VudGVyIGg0Jz57dCgnYnJvd3NlSW5kZXhyZWNvcmQnLCAnQnJvd3NlIHRoZSBpbmRleCByZWNvcmQnKX08L2gyPlxuXHRcdHtcblx0XHRcdCFjb2x1bW5TdGF0ZXMgP1xuXHRcdFx0XHQ8TG9hZEluZGljYXRvciAvPiA6XG5cdFx0XHRcdDxCcm93c2VDb2x1bW5zXG5cdFx0XHRcdFx0Y29sdW1uU3RhdGVzPXtjb2x1bW5TdGF0ZXN9XG5cdFx0XHRcdFx0ZjNRdWVyeT17ZjNRdWVyeS5jdXJyZW50fVxuXHRcdFx0XHRcdGlkZWFsQ29sdW1uV2lkdGg9ezIyNX1cblx0XHRcdFx0XHRzZXRDb2x1bW5TdGF0ZXM9e3NldENvbHVtblN0YXRlc31cblx0XHRcdFx0Lz5cblx0XHR9XG5cdDwvZGl2Pjtcbn07XG4iLCJpbXBvcnQgeyBpc0Jyb3dzZXJSdW50aW1lIH0gZnJvbSAnLi9nZXRSdW50aW1lJztcblxuZXhwb3J0IGNvbnN0IGlzVGVzdGluZyA9ICgpID0+IHtcblx0cmV0dXJuIGlzQnJvd3NlclJ1bnRpbWUoKSAmJiAhISh3aW5kb3cgYXMgYW55KS5DeXByZXNzO1xufTtcbiIsImV4cG9ydCBmdW5jdGlvbiBzY3JvbGxJbnRvVmlld0lmTmVlZGVkKGdsb2JhbE9iajogYW55KSB7XG5cdGlmIChnbG9iYWxPYmouRWxlbWVudCAmJiAhKEVsZW1lbnQucHJvdG90eXBlIGFzIGFueSkuc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCkge1xuXHRcdChFbGVtZW50LnByb3RvdHlwZSBhcyBhbnkpLnNjcm9sbEludG9WaWV3SWZOZWVkZWQgPSBmdW5jdGlvbihjZW50ZXJJZk5lZWRlZDogYm9vbGVhbikge1xuXHRcdFx0Y2VudGVySWZOZWVkZWQgPSBhcmd1bWVudHMubGVuZ3RoID09PSAwID8gdHJ1ZSA6ICEhY2VudGVySWZOZWVkZWQ7XG5cblx0XHRcdHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGUsXG5cdFx0XHRcdHBhcmVudENvbXB1dGVkU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnQsIG51bGwpLFxuXHRcdFx0XHRwYXJlbnRCb3JkZXJUb3BXaWR0aCA9IHBhcnNlSW50KHBhcmVudENvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnYm9yZGVyLXRvcC13aWR0aCcpKSxcblx0XHRcdFx0cGFyZW50Qm9yZGVyTGVmdFdpZHRoID0gcGFyc2VJbnQocGFyZW50Q29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdib3JkZXItbGVmdC13aWR0aCcpKSxcblx0XHRcdFx0b3ZlclRvcCA9IHRoaXMub2Zmc2V0VG9wIC0gcGFyZW50Lm9mZnNldFRvcCA8IHBhcmVudC5zY3JvbGxUb3AsXG5cdFx0XHRcdG92ZXJCb3R0b20gPSB0aGlzLm9mZnNldFRvcCAtIHBhcmVudC5vZmZzZXRUb3AgKyB0aGlzLmNsaWVudEhlaWdodCAtIHBhcmVudEJvcmRlclRvcFdpZHRoID4gcGFyZW50LnNjcm9sbFRvcCArIHBhcmVudC5jbGllbnRIZWlnaHQsXG5cdFx0XHRcdG92ZXJMZWZ0ID0gdGhpcy5vZmZzZXRMZWZ0IC0gcGFyZW50Lm9mZnNldExlZnQgPCBwYXJlbnQuc2Nyb2xsTGVmdCxcblx0XHRcdFx0b3ZlclJpZ2h0ID0gdGhpcy5vZmZzZXRMZWZ0IC0gcGFyZW50Lm9mZnNldExlZnQgKyB0aGlzLmNsaWVudFdpZHRoIC0gcGFyZW50Qm9yZGVyTGVmdFdpZHRoID4gcGFyZW50LnNjcm9sbExlZnQgKyBwYXJlbnQuY2xpZW50V2lkdGgsXG5cdFx0XHRcdGFsaWduV2l0aFRvcCA9IG92ZXJUb3AgJiYgIW92ZXJCb3R0b207XG5cblx0XHRcdGlmICgob3ZlclRvcCB8fCBvdmVyQm90dG9tKSAmJiBjZW50ZXJJZk5lZWRlZCkge1xuXHRcdFx0XHRwYXJlbnQuc2Nyb2xsVG9wID0gdGhpcy5vZmZzZXRUb3AgLSBwYXJlbnQub2Zmc2V0VG9wIC0gcGFyZW50LmNsaWVudEhlaWdodCAvIDIgLSBwYXJlbnRCb3JkZXJUb3BXaWR0aCArIHRoaXMuY2xpZW50SGVpZ2h0IC8gMjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKChvdmVyTGVmdCB8fCBvdmVyUmlnaHQpICYmIGNlbnRlcklmTmVlZGVkKSB7XG5cdFx0XHRcdHBhcmVudC5zY3JvbGxMZWZ0ID0gdGhpcy5vZmZzZXRMZWZ0IC0gcGFyZW50Lm9mZnNldExlZnQgLSBwYXJlbnQuY2xpZW50V2lkdGggLyAyIC0gcGFyZW50Qm9yZGVyTGVmdFdpZHRoICsgdGhpcy5jbGllbnRXaWR0aCAvIDI7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgob3ZlclRvcCB8fCBvdmVyQm90dG9tIHx8IG92ZXJMZWZ0IHx8IG92ZXJSaWdodCkgJiYgIWNlbnRlcklmTmVlZGVkKSB7XG5cdFx0XHRcdHRoaXMuc2Nyb2xsSW50b1ZpZXcoYWxpZ25XaXRoVG9wKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcnJheUF0KCkge1xuXHQvKiBGb3IgZHVtYiBTYWZhcmkgKi9cblx0aWYgKCEodHlwZW9mIEFycmF5LnByb3RvdHlwZS5hdCA9PT0gJ2Z1bmN0aW9uJykpIHtcblx0XHRBcnJheS5wcm90b3R5cGUuYXQgPSBmdW5jdGlvbihpOiBudW1iZXIpIHtcblx0XHRcdGlmIChpID49IDApIHJldHVybiB0aGlzW2ldO1xuXHRcdFx0cmV0dXJuIHRoaXNbdGhpcy5sZW5ndGggKyBpXTtcblx0XHR9O1xuXHR9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY2xhc3NTdHIgfSBmcm9tICcuLi9saWIvY2xhc3NVdGlsJztcbmltcG9ydCB7IEFsZXJ0T3B0cyB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VBbGVydHMnO1xuaW1wb3J0IHsgQ2xvc2VCdXR0b24gfSBmcm9tICcuL0YzQnV0dG9uJztcblxuaW50ZXJmYWNlIEFsZXJ0UHJvcHMge1xuXHRhbGVydDogQWxlcnRPcHRzO1xuXHRjbGFzc05hbWU/OiBzdHJpbmc7XG5cdGFsZXJ0SWQ/OiBzdHJpbmc7XG5cdG9uQ2xvc2U/OiAoYWxlcnQ6IEFsZXJ0T3B0cykgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IEFsZXJ0ID0gKHsgYWxlcnQsIGNsYXNzTmFtZSwgYWxlcnRJZCwgb25DbG9zZSB9OiBBbGVydFByb3BzKSA9PiB7XG5cdHJldHVybiA8bGlcblx0XHRjbGFzc05hbWU9e2NsYXNzU3RyKGNsYXNzTmFtZSwgYG15LTMgY29udGFpbmVyIHNoYWRvdy1zbSBjb2wtMTIgY29sLW1kLWF1dG8gYWxlcnQgYWxlcnQtJHthbGVydC50eXBlfSAke2FsZXJ0LmNsb3NlYWJsZSA/ICdhbGVydC1kaXNtaXNzaWJsZScgOiAnJ31gKX1cblx0XHRkYXRhLWN5PSdhbGVydC1saXN0J1xuXHRcdGlkPXthbGVydElkPy5sZW5ndGggPiAwID8gYWxlcnRJZCA6IG51bGx9XG5cdFx0cm9sZT0nYWxlcnQnXG5cdD5cblx0XHR7YWxlcnQubWVzc2FnZX1cblx0XHR7XG5cdFx0XHRhbGVydC5jbG9zZWFibGUgJiZcblx0XHRcdDxDbG9zZUJ1dHRvblxuXHRcdFx0XHRjbGFzc05hbWU9J3RleHQtbXV0ZWQnXG5cdFx0XHRcdG9uQ2xpY2s9eygpID0+IG9uQ2xvc2U/LihhbGVydCl9XG5cdFx0XHQvPlxuXHRcdH1cblx0PC9saT47XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBpbmZvIH0gZnJvbSAnd2luc3Rvbic7XG5pbXBvcnQgeyBGb2xkM1BhZ2VDb250ZXh0IH0gZnJvbSAnLi4vY29udGV4dC9mb2xkM1BhZ2VDb250ZXh0JztcbmltcG9ydCB7IEVycm9yQm91bmRhcnkgfSBmcm9tICcuLi9saWIvRXJyb3JCb3VuZGFyeSc7XG5pbXBvcnQgeyBBbGVydCB9IGZyb20gJy4vQWxlcnQnO1xuXG5leHBvcnQgY29uc3QgQWxlcnRzID0gKCkgPT4ge1xuXHRjb25zdCB7IGFsZXJ0czogeyBhbGVydHMsIGNsb3NlQWxlcnQsIGVycm9yQWxlcnRJZCwgc3VjY2Vzc0FsZXJ0SWQgfSB9ID0gdXNlQ29udGV4dChGb2xkM1BhZ2VDb250ZXh0KTtcblxuXHRpZiAoYWxlcnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XG5cblx0Y29uc3QgYWxlcnRDb21wb25lbnRzID0gYWxlcnRzLm1hcCgoYWxlcnQsIGkpID0+IHtcblx0XHRzd2l0Y2ggKGFsZXJ0LnR5cGUpIHtcblx0XHRcdGNhc2UgJ2luZm8nOlxuXHRcdFx0Y2FzZSAnc3VjY2Vzcyc6XG5cdFx0XHRcdHJldHVybiA8QWxlcnRcblx0XHRcdFx0XHRrZXk9e2l9XG5cdFx0XHRcdFx0YWxlcnQ9e2FsZXJ0fVxuXHRcdFx0XHRcdGFsZXJ0SWQ9e3N1Y2Nlc3NBbGVydElkfVxuXHRcdFx0XHRcdGNsYXNzTmFtZT17YWxlcnQuY2xhc3NOYW1lfVxuXHRcdFx0XHRcdG9uQ2xvc2U9e2Nsb3NlQWxlcnR9XG5cdFx0XHRcdC8+O1xuXHRcdFx0Y2FzZSAnd2FybmluZyc6XG5cdFx0XHRjYXNlICdkYW5nZXInOlxuXHRcdFx0XHRyZXR1cm4gPEFsZXJ0XG5cdFx0XHRcdFx0a2V5PXtpfVxuXHRcdFx0XHRcdGFsZXJ0PXthbGVydH1cblx0XHRcdFx0XHRhbGVydElkPXtlcnJvckFsZXJ0SWR9XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPXthbGVydC5jbGFzc05hbWV9XG5cdFx0XHRcdFx0b25DbG9zZT17Y2xvc2VBbGVydH1cblx0XHRcdFx0Lz47XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gPEVycm9yQm91bmRhcnk+XG5cdFx0PHVsIGNsYXNzTmFtZT0nZmxleC1jb2x1bW4gbGlzdC11bnN0eWxlZCBwb3NpdGlvbi1maXhlZCBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciB3LTEwMCB6aS1wb3BvdmVyJyBpZD0nYWxlcnQtbGlzdCc+XG5cdFx0XHR7YWxlcnRDb21wb25lbnRzfVxuXHRcdDwvdWw+XG5cdDwvRXJyb3JCb3VuZGFyeT47XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmludGVyZmFjZSBDbGllbnRSZW5kZXJQcm9wcyB7XG5cdGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVcbn1cblxuZXhwb3J0IGNvbnN0IENsaWVudFJlbmRlciA9ICh7IGNoaWxkcmVuIH06IENsaWVudFJlbmRlclByb3BzKTogSlNYLkVsZW1lbnQgPT4ge1xuXHRjb25zdCBbcmVuZGVyLCBzZXRSZW5kZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG5cdC8qIFRoZXJlIGFyZSBvdGhlciB3YXlzIHRvIGdldCB0aGlzIHRvIHJlbmRlciBpbiB0aGUgYnJvd3NlciwgYnV0IHRoaXMgcHJldmVudHMgaHlkcmF0aW9uIHdhcm5pbmdzICovXG5cdHVzZUVmZmVjdCgoKSA9PiB7XG5cdFx0c2V0UmVuZGVyKHRydWUpO1xuXHR9LCBbXSk7XG5cblx0cmV0dXJuIHJlbmRlciA/IDw+e2NoaWxkcmVufTwvPiA6IG51bGw7XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRUaW1lSW5NcyB9IGZyb20gJy4uL2xpYi90aW1lJztcblxuaW50ZXJmYWNlIENvdW50ZG93blByb3BzIHtcblx0c3RhcnQ6IG51bWJlclxufVxuXG5leHBvcnQgY29uc3QgQ291bnRkb3duID0gKHsgc3RhcnQgfTogQ291bnRkb3duUHJvcHMpID0+IHtcblx0Y29uc3QgW2NvdW50LCBzZXRDb3VudF0gPSB1c2VTdGF0ZShzdGFydCk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRsZXQgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG5cdFx0XHRzZXRDb3VudChjb3VudCA9PiB7XG5cdFx0XHRcdGlmIChjb3VudCA9PT0gMSkge1xuXHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBjb3VudCAtIDE7XG5cdFx0XHR9KTtcblx0XHR9LCBnZXRUaW1lSW5NcygxLCAnc2VjJykpO1xuXHR9LCBbXSk7XG5cblx0cmV0dXJuIDxzcGFuPntjb3VudH08L3NwYW4+O1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRyYW5zLCB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgRG9tYWluIH0gZnJvbSAnLi4vZHRvL2YzLWludGVyZmFjZXMnO1xuaW1wb3J0IHsgdXNlRGlhbG9ncyB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VEaWFsb2dzJztcbmltcG9ydCB7IHVzZURvbWFpbiB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VEb21haW4nO1xuaW1wb3J0IHsgdXNlTG9jYWxlUGxhY2UgfSBmcm9tICcuLi9saWIvaG9va3MvdXNlTG9jYWxlUGxhY2UnO1xuaW1wb3J0IHsgdXNlU3RvcmFnZSB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VTdG9yYWdlJztcbmltcG9ydCB7IGdldENvdW50cnlDb2RlRm9yRG9tYWluLCBnZXRTaXRlTmFtZSB9IGZyb20gJy4uL2xpYi9sb2NhbGl6YXRpb24vZG9tYWluJztcbmltcG9ydCB7IHRvUXVlcnlTdHJpbmcgfSBmcm9tICcuLi9saWIvcXVlcnlVdGlsJztcbmltcG9ydCB7IGdldFRpbWVJbk1zIH0gZnJvbSAnLi4vbGliL3RpbWUnO1xuaW1wb3J0IHsgQ291bnRkb3duIH0gZnJvbSAnLi9Db3VudGRvd24nO1xuaW1wb3J0IHsgRjNCdXR0b24gfSBmcm9tICcuL0YzQnV0dG9uJztcbmltcG9ydCB7IEYzTGluayB9IGZyb20gJy4vRjNMaW5rJztcbmltcG9ydCB7IFNpdGVMb2dvIH0gZnJvbSAnLi9TaXRlTG9nbyc7XG5pbXBvcnQgeyBEaWFsb2cgfSBmcm9tICcuL2RpYWxvZ3MvRGlhbG9nJztcblxuaW50ZXJmYWNlIERvbWFpbk1pc21hdGNoRGlhbG9nUHJvcHMge1xuXHRyZWNvbW1lbmRlZERvbWFpbjogRG9tYWluXG59XG5cbmV4cG9ydCBjb25zdCBET01BSU5fRElBTE9HX0NMT1NFRCA9ICdmM19kb21haW5fZGlhbG9nX2Nsb3NlZCc7XG5jb25zdCByZWRpcmVjdFNlY29uZHMgPSAxNTtcblxuZXhwb3J0IGNvbnN0IERvbWFpbk1pc21hdGNoRGlhbG9nID0gKHsgcmVjb21tZW5kZWREb21haW4gfTogRG9tYWluTWlzbWF0Y2hEaWFsb2dQcm9wcykgPT4ge1xuXHRjb25zdCB7IGNsb3NlRGlhbG9nIH0gPSB1c2VEaWFsb2dzKCk7XG5cdGNvbnN0IHsgbG9jYWwgfSA9IHVzZVN0b3JhZ2UoKTtcblx0Y29uc3QgdGltZW91dFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dD4oKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignY29tcG9uZW50cycpO1xuXHRjb25zdCB7IHNpdGVMYWJlbCB9ID0gdXNlRG9tYWluKCk7XG5cdGNvbnN0IGdldExvY2FsZVBsYWNlID0gdXNlTG9jYWxlUGxhY2UoKTtcblxuXHRjb25zdCByZWRpcmVjdFVybCA9IGAvbm9kZS9hdXRoL3N3aXRjaC1zaXRlJHt0b1F1ZXJ5U3RyaW5nKHtcblx0XHRkb21haW46IHJlY29tbWVuZGVkRG9tYWluLFxuXHRcdG5leHQ6IGVuY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaCksXG5cdH0pfWA7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHR0aW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcmVkaXJlY3RVcmw7XG5cdFx0fSwgZ2V0VGltZUluTXMocmVkaXJlY3RTZWNvbmRzLCAnc2VjJykpO1xuXHR9LCBbXSk7XG5cblx0Y29uc3QgcmVjb21tZW5kZWRTaXRlTGFiZWwgPSBgJHtnZXRTaXRlTmFtZShyZWNvbW1lbmRlZERvbWFpbil9IC0gJHtnZXRMb2NhbGVQbGFjZShnZXRDb3VudHJ5Q29kZUZvckRvbWFpbihyZWNvbW1lbmRlZERvbWFpbikpfWA7XG5cblx0cmV0dXJuIDxEaWFsb2dcblx0XHRjbG9zZWFibGVcblx0XHRvbkNsb3NlPXsoKSA9PiB7XG5cdFx0XHRsb2NhbC5zZXQoRE9NQUlOX0RJQUxPR19DTE9TRUQsIHRydWUpO1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudCk7XG5cdFx0fX1cblx0XHRzaXplPSdsZydcblx0PlxuXHRcdDw+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nbXQtbjMgbXgtbjMgbWItMycgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBgdXJsKC9pbWcvY2hhbmdlRG9tYWluLmpwZylgLCBiYWNrZ3JvdW5kUmVwZWF0OiBgbm8tcmVwZWF0YCwgaGVpZ2h0OiBgMjAwcHhgLCBiYWNrZ3JvdW5kU2l6ZTogYGNvdmVyYCwgYmFja2dyb3VuZFBvc2l0aW9uOiBgY2VudGVyYCB9fSAvPlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J3RleHQtY2VudGVyJz5cblx0XHRcdFx0PFNpdGVMb2dvIGNvbG9yPXt7IG1vYmlsZTogdHJ1ZSwgZGVza3RvcDogdHJ1ZSB9fSAvPlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ncGItMyBib3JkZXItYm90dG9tJz5cblx0XHRcdFx0PGgxIGNsYXNzTmFtZT0naDUgbXktMiB0ZXh0LWNlbnRlciB0ZXh0LXByaW1hcnknPlxuXHRcdFx0XHRcdDxUcmFucyBpMThuS2V5PSdkb21haW5NaXNtYXRjaC5yZWNvbW1lbmRlZFNpdGUnIHQ9e3R9PlxuXHRcdFx0XHRcdFx0WW91IGhhdmUgYXJyaXZlZCBhdCB7eyBzaXRlTGFiZWwgfX0uXG5cdFx0XHRcdFx0XHQ8YnIgLz5cblx0XHRcdFx0XHRcdFdlIHJlY29tbWVuZCB0aGF0IHlvdSB2aXNpdCB7eyByZWNvbW1lbmRlZFNpdGVMYWJlbCB9fS5cblx0XHRcdFx0XHQ8L1RyYW5zPlxuXHRcdFx0XHQ8L2gxPlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8aDIgY2xhc3NOYW1lPSdoNSB0ZXh0LWNlbnRlciBteS0zJz5cblx0XHRcdFx0PGVtPlxuXHRcdFx0XHRcdDxUcmFucyBpMThuS2V5PSdkb21haW5NaXNtYXRjaC5iZXR0ZXJQbGFjZScgdD17dH0+XG5cdFx0XHRcdFx0XHRIZXJlJ3Mgd2h5IDxzcGFuPnt7IHJlY29tbWVuZGVkU2l0ZUxhYmVsIH19PC9zcGFuPiBpcyBhIGJldHRlciBwbGFjZSBmb3IgeW91IHRvIHZpc2l0OlxuXHRcdFx0XHRcdDwvVHJhbnM+XG5cdFx0XHRcdDwvZW0+XG5cdFx0XHQ8L2gyPlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9J3JvdyBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIG10LTMnPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLTEyIGNvbC1tZC04Jz5cblx0XHRcdFx0XHQ8dWwgY2xhc3NOYW1lPSdtYi0zJz5cblx0XHRcdFx0XHRcdDxsaT57dCgnZG9tYWluTWlzbWF0Y2guYmV0dGVyUmVzb3VjZXMnLCAnQmV0dGVyIHJlc291cmNlcyBmb3IgbG9jYWxpc2VkIGhpc3RvcmljYWwgaW5mb3JtYXRpb24nKX08L2xpPlxuXHRcdFx0XHRcdFx0PGxpPnt0KCdkb21haW5NaXNtYXRjaC5yZWxldmFudFJlc3VsdHMnLCAnTW9yZSByZWxldmFudCBzZWFyY2ggcmVzdWx0cycpfTwvbGk+XG5cdFx0XHRcdFx0XHQ8bGk+e3QoJ2RvbWFpbk1pc21hdGNoLmxvY2FsQ3VycmVuY3knLCAnTG9jYWwgQ3VycmVuY3knKX08L2xpPlxuXHRcdFx0XHRcdFx0PGxpPnt0KCdkb21haW5NaXNtYXRjaC5zYW1lQWNjZXNzJywgJ1NhbWUgYWNjZXNzIHRvIG1pbGxpb25zIG9mIHJlY29yZHMgZnJvbSBhbGwgb3ZlciB0aGUgZ2xvYmUnKX08L2xpPlxuXHRcdFx0XHRcdDwvdWw+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ndGV4dC1jZW50ZXInPlxuXHRcdFx0XHQ8RjNMaW5rXG5cdFx0XHRcdFx0Y2xhc3NOYW1lPSdidG4gYnRuLXByaW1hcnkgYnRuLWxnJ1xuXHRcdFx0XHRcdGhyZWY9e3JlZGlyZWN0VXJsfVxuXHRcdFx0XHQ+XG5cdFx0XHRcdFx0e3QoJ2RvbWFpbk1pc21hdGNoLmdvVG9TaXRlJywgJ0dvIHRvIHt7cmVjb21tZW5kZWRTaXRlTGFiZWx9fScsIHsgcmVjb21tZW5kZWRTaXRlTGFiZWwgfSl9XG5cdFx0XHRcdDwvRjNMaW5rPlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ndGV4dC1jZW50ZXIgcC0zJz5cblx0XHRcdFx0PEYzQnV0dG9uXG5cdFx0XHRcdFx0YnRuVHlwZT0nbGluaydcblx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiB7XG5cdFx0XHRcdFx0XHRsb2NhbC5zZXQoRE9NQUlOX0RJQUxPR19DTE9TRUQsIHRydWUpO1xuXHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXRSZWYuY3VycmVudCk7XG5cdFx0XHRcdFx0XHRjbG9zZURpYWxvZygpO1xuXHRcdFx0XHRcdH19XG5cdFx0XHRcdD5cblx0XHRcdFx0XHR7dCgnZG9tYWluTWlzbWF0Y2guY29udGludWVUb1NpdGUnLCAnQ29udGludWUgdG8ge3tzaXRlTGFiZWx9fScsIHsgc2l0ZUxhYmVsIH0pfVxuXHRcdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nYWxlcnQtaW5mbyBwLTMgYWxlcnQgbWItMCc+XG5cdFx0XHRcdDxzdHJvbmcgY2xhc3NOYW1lPSdtZS0xJz57dCgnZG9tYWluTWlzbWF0Y2gud2hhdFRvRG8nLCAnTm90IHN1cmUgd2hhdCB0byBkbz8nKX08L3N0cm9uZz5cblx0XHRcdFx0PFRyYW5zIGkxOG5LZXk9J2RvbWFpbk1pc21hdGNoLnJlZGlyZWN0VGltZScgdD17dH0+XG5cdFx0XHRcdFx0RG9uJ3Qgd29ycnkuIFdlJ2xsIHNlbmQgeW91IHRvIDxzcGFuIGNsYXNzTmFtZT0nbWUtMSc+e3sgcmVjb21tZW5kZWRTaXRlTGFiZWwgfX08L3NwYW4+IGluIDxDb3VudGRvd24gc3RhcnQ9e3JlZGlyZWN0U2Vjb25kc30gLz4gPHNwYW4gY2xhc3NOYW1lPSdtcy0xJz5zZWNvbmRzLjwvc3Bhbj5cblx0XHRcdFx0PC9UcmFucz5cblx0XHRcdDwvZGl2PlxuXHRcdDwvPlxuXHQ8L0RpYWxvZz47XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRyYW5zLCB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgdXNlRGlhbG9ncyB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VEaWFsb2dzJztcbmltcG9ydCB7IHVzZURvbWFpbiB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VEb21haW4nO1xuaW1wb3J0IHsgdXNlU3RvcmFnZSB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VTdG9yYWdlJztcbmltcG9ydCB7IEYzQnV0dG9uIH0gZnJvbSAnLi9GM0J1dHRvbic7XG5pbXBvcnQgeyBGM0xpbmsgfSBmcm9tICcuL0YzTGluayc7XG5pbXBvcnQgeyBEaWFsb2cgfSBmcm9tICcuL2RpYWxvZ3MvRGlhbG9nJztcblxuXG5pbnRlcmZhY2UgTmV3RldSV2VsY29tZURpYWxvZ1Byb3BzIHtcblxufVxuXG5leHBvcnQgY29uc3QgTkVXX0ZXUl9ET01BSU5fS0VZID0gJ2YzX2Z3cl93ZWxjb21lX2RpYWxvZyc7XG5cbmV4cG9ydCBjb25zdCBOZXdGV1JXZWxjb21lRGlhbG9nID0gKHsgIH06IE5ld0ZXUldlbGNvbWVEaWFsb2dQcm9wcykgPT4ge1xuXHRjb25zdCB7IHNpdGVOYW1lIH0gPSB1c2VEb21haW4oKTtcblx0Y29uc3QgeyBsb2NhbCB9ID0gdXNlU3RvcmFnZSgpO1xuXHRjb25zdCB7IGNsb3NlRGlhbG9nIH0gPSB1c2VEaWFsb2dzKCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ3dlbGNvbWUnKTtcblxuXG5cdHJldHVybiA8RGlhbG9nXG5cdFx0b25DbG9zZT17KCkgPT4ge1xuXHRcdFx0bG9jYWwuc2V0KE5FV19GV1JfRE9NQUlOX0tFWSwgdHJ1ZSk7XG5cdFx0fX1cblx0XHRzaXplPSdsZydcblx0PlxuXHRcdDxkaXYgY2xhc3NOYW1lPSdwdC01IHBiLTMgbXQtbjMgbXgtbjMgbWItMycgc3R5bGU9e3sgYmFja2dyb3VuZEltYWdlOiBgdXJsKC9pbWcvd2VsY29tZS1pbWcuanBnKWAsIGJhY2tncm91bmRSZXBlYXQ6IGBuby1yZXBlYXRgIH19PlxuXHRcdFx0PGgxIGNsYXNzTmFtZT0nbXQtNSBtYi0wIGg1IHB0LTUgdGV4dC1wcmltYXJ5IHRleHQtY2VudGVyJz57dCgnd2VsY29tZU5ldycsICdXZWxjb21lIHRvIHRoZSBuZXcnKX08L2gxPlxuXHRcdFx0PGltZ1xuXHRcdFx0XHRhbHQ9J0ZvcmNlcyBXYXIgUmVjb3JkcyBieSBBbmNlc3RyeSdcblx0XHRcdFx0Y2xhc3NOYW1lPSdpbWctZmx1aWQgbXQtMiBteC1hdXRvIGQtYmxvY2snXG5cdFx0XHRcdGhlaWdodD0nNjUnXG5cdFx0XHRcdHNyYz0nL2ltZy9md3ItY29sb3ItYmFAMngucG5nJ1xuXHRcdFx0XHR3aWR0aD0nMTgwJ1xuXHRcdFx0Lz5cblx0XHQ8L2Rpdj5cblx0XHQ8aDIgY2xhc3NOYW1lPSdoNSB0ZXh0LXByaW1hcnkgdGV4dC1jZW50ZXInPnt0KCdkaXNjb3Zlck1vcmVJbXByb3ZlZCcsICdEaXNjb3ZlciBtb3JlIG1pbGl0YXJ5IHJlY29yZHMgdGhhbiBldmVyIHdpdGggb3VyIG5ldyBhbmQgaW1wcm92ZWQgd2Vic2l0ZScpfTwvaDI+XG5cdFx0PHAgY2xhc3NOYW1lPSd0ZXh0LWNlbnRlciBmdy1ib2xkJz57dCgnd2hhdFRvRXhwZWN0JywgXCJIZXJlJ3Mgd2hhdCB0byBleHBlY3RcIil9PC9wPlxuXHRcdDxkaXYgY2xhc3NOYW1lPSdyb3cganVzdGlmeS1jb250ZW50LWNlbnRlcic+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLTEyIGNvbC1tZC02Jz5cblx0XHRcdFx0PHVsIGNsYXNzTmFtZT0nbWItMCBtYi1tZC0yJz5cblx0XHRcdFx0XHQ8bGk+e3QoJ3JlY29yZENvdW50JywgJ092ZXIgNTAwIG1pbGxpb24gbW9yZSByZWNvcmRzJyl9PC9saT5cblx0XHRcdFx0XHQ8bGk+e3QoJ2FjY2Vzc1RvQWxsU2F2ZWQnLCAnQWNjZXNzIHRvIGFsbCBvZiB5b3VyIHNhdmVkIHJlY29yZHMsIGJvb2ttYXJrcywgYW5kIGNvbnRyaWJ1dGlvbnMnKX08L2xpPlxuXHRcdFx0XHRcdDxsaT57dCgnYWJpbGl0eVRvQW5ub3RhdGUnLCAnQWJpbGl0eSB0byBhbm5vdGF0ZSwgY29tbWVudCwgcHJpbnQsIGFuZCBzYXZlIGltYWdlcycpfTwvbGk+XG5cdFx0XHRcdDwvdWw+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtMTIgY29sLW1kLTYnPlxuXHRcdFx0XHQ8dWw+XG5cdFx0XHRcdFx0PGxpPnt0KCdkZXRhaWxlZEhlbHBDZW50cmUnLCAnSW1wcm92ZWQgZGVzaWduIGFuZCBkZXRhaWxlZCBIZWxwIENlbnRyZScpfTwvbGk+XG5cdFx0XHRcdFx0PGxpPnt0KCdhYmlsaXR5Q3JlYXRlTWVtb3JpYWwnLCAnQWJpbGl0eSB0byBjcmVhdGUgYSBtZW1vcmlhbCBmb3IgYSBsb3ZlZCBvbmUnKX08L2xpPlxuXHRcdFx0XHRcdDxsaT57dCgnc2F2ZVJlY29yZHMnLCAnQWJpbGl0eSB0byBzYXZlIHJlY29yZHMgdG8geW91ciBBbmNlc3RyecKuIGZhbWlseSB0cmVlJyl9PC9saT5cblx0XHRcdFx0PC91bD5cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHRcdDxkaXYgY2xhc3NOYW1lPSdyb3cganVzdGlmeS1jb250ZW50LWNlbnRlcic+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nY29sLTEyIHRleHQtY2VudGVyJz5cblx0XHRcdFx0PHA+XG5cdFx0XHRcdFx0PHN0cm9uZz57dCgnd2FudEhlbHAnLCAnV2FudCBoZWxwIGdldHRpbmcgc3RhcnRlZD8nKX08L3N0cm9uZz5cblx0XHRcdFx0XHQ8VHJhbnMgaTE4bktleT0ndmlzaXRMaW5rJyB0PXt0fT5cblx0XHRcdFx0XHRcdFZpc2l0IG91ciA8RjNMaW5rIGhyZWY9Jy9oZWxwJyBvbkNsaWNrPXsoKSA9PiB7IGxvY2FsLnNldChORVdfRldSX0RPTUFJTl9LRVksIHRydWUpOyB9fT5IZWxwIENlbnRyZTwvRjNMaW5rPiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cblx0XHRcdFx0XHQ8L1RyYW5zPlxuXHRcdFx0XHQ8L3A+XG5cdFx0XHRcdDxwIGNsYXNzTmFtZT0ndGV4dC1jZW50ZXInPlxuXHRcdFx0XHRcdDxGM0J1dHRvblxuXHRcdFx0XHRcdFx0YnRuVHlwZT0nc2Vjb25kYXJ5Mydcblx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHtcblx0XHRcdFx0XHRcdFx0Y2xvc2VEaWFsb2coKTtcblx0XHRcdFx0XHRcdFx0bG9jYWwuc2V0KE5FV19GV1JfRE9NQUlOX0tFWSwgdHJ1ZSk7XG5cdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdFx0c2l6ZT0nbGcnXG5cdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0e3QoJ3N0YXJ0RXhwbG9yaW5nJywgJ1N0YXJ0IEV4cGxvcmluZycpfVxuXHRcdFx0XHRcdDwvRjNCdXR0b24+XG5cdFx0XHRcdDwvcD5cblx0XHRcdFx0PHA+e3QoJ2Z3cldlbGNvbWUuaG9wZUVuam95JywgJ1dlIGhvcGUgeW91IGVuam95IHRoZSBuZXcgc2l0ZSwgYW5kIHRoYXQgeW91IHVuY292ZXIgbW9yZSBmYW1pbHkgaGlzdG9yeSB3aXRoIHt7c2l0ZU5hbWV9fS4nLCB7IHNpdGVOYW1lIH0pfTwvcD5cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHQ8L0RpYWxvZz47XG59O1xuIiwiaW1wb3J0IHsgQmV0YSwgQmV0YUJhbm5lciB9IGZyb20gJy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IEJhY2tlbmRTZXJ2aWNlLCBGM0FwaSB9IGZyb20gJy4vRjNBcGknO1xuXG50eXBlIEJFVEFfU1RBVFVTID0gJ0lOQUNUSVZFJyB8ICdBTFBIQScgfCAnQkVUQScgfCAnR0VORVJBTCc7XG5cbi8qKiBbU2VlIERvY3VtZW50YXRpb25dKGh0dHBzOi8vamZvbGQzLmlhcmNoaXZlcy5jb20vam9iL2YzLWJhY2tlbmQvamF2YWRvYy9jb20vYW5jZXN0cnkvZWIvZm9sZDMxL3NlcnZpY2UvQmV0YVNlcnZpY2UuaHRtbCkgKi9cbmV4cG9ydCBjbGFzcyBCZXRhQXBpIGV4dGVuZHMgRjNBcGkge1xuXHRzZXJ2aWNlOiBCYWNrZW5kU2VydmljZSA9IEJhY2tlbmRTZXJ2aWNlLkZPTEQzMTtcblx0cHJvdGVjdGVkIGJhc2VVcmw6IHN0cmluZyA9ICcvYXBpL2JldGEnO1xuXG5cdC8vcmVxdWlyZXMgY29uc3RydWN0aW9uIHdpdGggcmVxXG5cdGxpc3RCZXRhc0ZvclVzZXIoKTogUHJvbWlzZTxCZXRhW10+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoJy91c2VyJywgeyBkZXNlcmlhbGl6ZVR5cGU6ICdCZXRhJyB9KTtcblx0fVxuXG5cdGdldEJldGFCeVVzZXJUYWcodXNlclRhZzogc3RyaW5nKTogUHJvbWlzZTxCZXRhPiB7XG5cdFx0bGV0IHVybCA9IGAvJHt1c2VyVGFnfWA7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KHVybCwgeyBkZXNlcmlhbGl6ZVR5cGU6ICdCZXRhJyB9KTtcblx0fVxuXG5cdGxpc3RCZXRhcyhzdGF0dXM/OiBCRVRBX1NUQVRVUyk6IFByb21pc2U8QmV0YVtdPiB7XG5cdFx0bGV0IHVybCA9IHN0YXR1cyA/IGA/c3RhdHVzPSR7c3RhdHVzfWAgOiAnJztcblx0XHRyZXR1cm4gdGhpcy5nZXQodXJsLCB7IGRlc2VyaWFsaXplVHlwZTogJ0JldGEnIH0pO1xuXHR9XG5cblx0YWRtaW5DcmVhdGVCZXRhKGJldGE6IEJldGEpIHtcblx0XHRyZXR1cm4gdGhpcy5wb3N0KCcnLCBiZXRhLCB7IHNlcmlhbGl6ZVR5cGU6ICdCZXRhJyB9KTtcblx0fVxuXG5cdGFkbWluVXBkYXRlQmV0YShiZXRhOiBCZXRhKSB7XG5cdFx0cmV0dXJuIHRoaXMucHV0KGAvJHtiZXRhLnVzZXJUYWd9YCwgYmV0YSwgeyBzZXJpYWxpemVUeXBlOiAnQmV0YScgfSk7XG5cdH1cblxuXHRhZG1pbkRlbGV0ZUJldGEodXNlclRhZzogc3RyaW5nKSB7XG5cdFx0cmV0dXJuIHRoaXMuZGVsZXRlKGAvJHt1c2VyVGFnfWApO1xuXHR9XG5cblx0YWRtaW5DcmVhdGVCZXRhQmFubmVyKGJhbm5lcjogQmV0YUJhbm5lcik6IFByb21pc2U8QmV0YUJhbm5lcj4ge1xuXHRcdHJldHVybiB0aGlzLnBvc3QoJy9iYW5uZXInLCBiYW5uZXIsIHsgc2VyaWFsaXplVHlwZTogJ0JldGFCYW5uZXInIH0pO1xuXHR9XG5cblx0YWRtaW5VcGRhdGVCZXRhQmFubmVyKGJhbm5lcjogQmV0YUJhbm5lcikge1xuXHRcdHJldHVybiB0aGlzLnB1dChgL2Jhbm5lci8ke2Jhbm5lci5pZH1gLCBiYW5uZXIsIHtcblx0XHRcdHNlcmlhbGl6ZVR5cGU6ICdCZXRhQmFubmVyJyxcblx0XHR9KTtcblx0fVxuXG5cdGFkbWluRGVsZXRlQmV0YUJhbm5lcihpZDogbnVtYmVyKSB7XG5cdFx0cmV0dXJuIHRoaXMuZGVsZXRlKGAvYmFubmVyLyR7aWR9YCk7XG5cdH1cblxuXHRnZXRCZXRhQmFubmVyKGlkOiBudW1iZXIpOiBQcm9taXNlPEJldGFCYW5uZXI+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9iYW5uZXIvJHtpZH1gLCB7IGRlc2VyaWFsaXplVHlwZTogJ0JldGFCYW5uZXInIH0pO1xuXHR9XG5cblx0bGlzdEJldGFCYW5uZXJzKHN0YXR1czogc3RyaW5nKTogUHJvbWlzZTxCZXRhQmFubmVyW10+IHtcblx0XHRyZXR1cm4gdGhpcy5nZXQoYC9iYW5uZXIke3N0YXR1cyA/IGAvJHtzdGF0dXN9YCA6ICcnfWAsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0JldGFCYW5uZXInLFxuXHRcdH0pO1xuXHR9XG5cblx0bGlzdEJldGFCYW5uZXJzQnlVc2VyVGFnKHVzZXJUYWc6IHN0cmluZyk6IFByb21pc2U8QmV0YUJhbm5lcltdPiB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0KGAvYmFubmVyL3VzZXJUYWcvJHt1c2VyVGFnfWAsIHtcblx0XHRcdGRlc2VyaWFsaXplVHlwZTogJ0JldGFCYW5uZXInLFxuXHRcdH0pO1xuXHR9XG59XG4iLCJpbXBvcnQgeyBGZWVkYmFja0NhdGVnb3J5LCBGZWVkYmFja1R5cGUgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCB0eXBlIEZlZWRiYWNrRXJyb3JUeXBlID0gJ0VNQUlMJyB8ICdNRVNTQUdFJyB8ICdUWVBFJyB8ICdDQVRFR09SWScgfCAnRVJST1InIHwgJ1JBVElORyc7XG5cbmV4cG9ydCBjb25zdCBmZWVkYmFja1R5cGVUb0NhdGVnb3J5ID0gKHR5cGU6IEZlZWRiYWNrVHlwZSk6IEZlZWRiYWNrQ2F0ZWdvcnkgPT4ge1xuXHRsZXQgY2F0ZWdvcnk6IEZlZWRiYWNrQ2F0ZWdvcnk7XG5cblx0c3dpdGNoICh0eXBlKSB7XG5cdFx0Y2FzZSAnQ09SUkVDVElPTic6IGNhdGVnb3J5ID0gJ0NPUlJFQ1RJT04nOyBicmVhaztcblxuXHRcdGNhc2UgJ0NPUFlSSUdIVCc6IGNhdGVnb3J5ID0gJ0FCVVNFJzsgYnJlYWs7XG5cdFx0Y2FzZSAnSU5BUFBST1BSSUFURSc6IGNhdGVnb3J5ID0gJ0FCVVNFJzsgYnJlYWs7XG5cdFx0Y2FzZSAnT0ZGRU5TSVZFJzogY2F0ZWdvcnkgPSAnQUJVU0UnOyBicmVhaztcblxuXHRcdGNhc2UgJ0lNQUdFX1BST0JMRU0nOiBjYXRlZ29yeSA9ICdQUk9CTEVNJzsgYnJlYWs7XG5cdFx0Y2FzZSAnQUNDT1VOVCc6IGNhdGVnb3J5ID0gJ1BST0JMRU0nOyBicmVhaztcblx0XHRjYXNlICdJTlNUSVRVVElPTic6IGNhdGVnb3J5ID0gJ1BST0JMRU0nOyBicmVhaztcblx0XHRjYXNlICdPVEhFUl9QUk9CTEVNJzogY2F0ZWdvcnkgPSAnUFJPQkxFTSc7IGJyZWFrO1xuXHRcdGNhc2UgJ1NJVEVfUFJPQkxFTSc6IGNhdGVnb3J5ID0gJ1BST0JMRU0nOyBicmVhaztcblxuXHRcdGNhc2UgJ0JFVEEnOiBjYXRlZ29yeSA9ICdGRUVEQkFDSyc7IGJyZWFrO1xuXHRcdGNhc2UgJ0JVU0lORVNTX0lOUVVJUlknOiBjYXRlZ29yeSA9ICdGRUVEQkFDSyc7IGJyZWFrO1xuXHRcdGNhc2UgJ0ZFRURCQUNLJzogY2F0ZWdvcnkgPSAnRkVFREJBQ0snOyBicmVhaztcblxuXHRcdGNhc2UgJ0NPTlRFTlQnOiByZXR1cm47Ly8gY2FuJ3QgYmUgZGV0ZXJtaW5lZFxuXHRcdGNhc2UgJ05PVF9NSUxJVEFSWSc6IHJldHVybjsvLyBjYW4ndCBiZSBkZXRlcm1pbmVkXG5cdFx0Y2FzZSAnRVhQRVJUJyBhcyBGZWVkYmFja1R5cGU6IGNhdGVnb3J5ID0gJ0ZFRURCQUNLJzsgYnJlYWs7XG5cdFx0Y2FzZSAnQUZGSUxJQVRFJyBhcyBGZWVkYmFja1R5cGU6IGNhdGVnb3J5ID0gJ0ZFRURCQUNLJzsgYnJlYWs7XG5cdH1cblxuXHRyZXR1cm4gY2F0ZWdvcnkgfHwgJ0ZFRURCQUNLJztcbn07XG5cbmV4cG9ydCBjb25zdCByYXRpbmdUb1N0ciA9IChyYXRpbmc6IG51bWJlcikgPT4ge1xuXHRpZiAoIXJhdGluZykgcmV0dXJuICcnO1xuXHRsZXQgbXNnID0gJyc7XG5cblx0c3dpdGNoIChyYXRpbmcpIHtcblx0XHRjYXNlIDE6IG1zZyA9ICdiYWQnOyBicmVhaztcblx0XHRjYXNlIDI6IG1zZyA9ICdvayc7IGJyZWFrO1xuXHRcdGNhc2UgMzogbXNnID0gJ2dvb2QnOyBicmVhaztcblx0fVxuXG5cdHJldHVybiBgUkFUSU5HOiR7bXNnfWA7XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjbGFzc1N0ciB9IGZyb20gJy4uLy4uL2xpYi9jbGFzc1V0aWwnO1xuaW1wb3J0IHsgdXNlRm9ybVZhbGlkYXRpb24gfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlRm9ybVZhbGlkYXRpb24nO1xuXG5leHBvcnQgaW50ZXJmYWNlIEYzU2VsZWN0UHJvcHMgZXh0ZW5kcyBSZWFjdC5EZXRhaWxlZEhUTUxQcm9wczxSZWFjdC5TZWxlY3RIVE1MQXR0cmlidXRlczxIVE1MU2VsZWN0RWxlbWVudD4sIEhUTUxTZWxlY3RFbGVtZW50PiB7XG5cdHZhbHVlczogc3RyaW5nW11cblx0Z2V0TGFiZWw/KHZhbHVlOiBzdHJpbmcpOiBzdHJpbmdcblx0aW5pdGlhbGx5VW5zZWxlY3RlZD86IGJvb2xlYW5cblx0b25WYWx1ZUNoYW5nZT8odmFsdWU6IGFueSk6IHZvaWRcblx0ZGlzcGxheUJsYW5rPzogYm9vbGVhblxuXHRsb2FkaW5nPzogYm9vbGVhblxuXHR2YWxpZGF0ZT8odmFsOiBzdHJpbmcpOiBzdHJpbmdcbn1cblxuZXhwb3J0IGNvbnN0IEYzU2VsZWN0ID0gZm9yd2FyZFJlZjxIVE1MU2VsZWN0RWxlbWVudCwgRjNTZWxlY3RQcm9wcz4oKHByb3BzLCByZWYpID0+IHtcblx0Y29uc3QgeyB2YWx1ZXMsIGxvYWRpbmcgPSAhdmFsdWVzLCBnZXRMYWJlbCwgZGlzYWJsZWQsIG9uVmFsdWVDaGFuZ2UsIGRpc3BsYXlCbGFuayA9IHRydWUsIHZhbGlkYXRlLCAuLi5vdGhlclByb3BzIH0gPSBwcm9wcztcblx0Y29uc3QgeyB2YWxpZGF0aW9uTWVzc2FnZSwgY2xhc3NOYW1lLCAuLi5yZXN0IH0gPSB1c2VGb3JtVmFsaWRhdGlvbihyZWYsIG90aGVyUHJvcHMgYXMgRjNTZWxlY3RQcm9wcywgdmFsaWRhdGUpO1xuXG5cdHJldHVybiA8ZGl2PlxuXHRcdDxzZWxlY3Rcblx0XHRcdHsuLi5yZXN0IGFzIEYzU2VsZWN0UHJvcHN9XG5cdFx0XHRjbGFzc05hbWU9e2NsYXNzU3RyKGNsYXNzTmFtZSwgJ2Zvcm0tc2VsZWN0Jyl9XG5cdFx0XHRkaXNhYmxlZD17ZGlzYWJsZWQgIT09IHVuZGVmaW5lZCA/IGRpc2FibGVkIDogbG9hZGluZ31cblx0XHRcdG9uQ2hhbmdlPXtlID0+IHtcblx0XHRcdFx0cmVzdC5vbkNoYW5nZT8uKGUpO1xuXHRcdFx0XHRvblZhbHVlQ2hhbmdlPy4oZS50YXJnZXQudmFsdWUpO1xuXHRcdFx0fX1cblx0XHQ+XG5cdFx0XHR7IGRpc3BsYXlCbGFuayAmJiA8b3B0aW9uIC8+IH1cblx0XHRcdHtcblx0XHRcdFx0dmFsdWVzLm1hcCh2YWx1ZSA9PiB7XG5cdFx0XHRcdFx0bGV0IGxhYmVsID0gZ2V0TGFiZWw/Lih2YWx1ZSkgfHwgdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuIDxvcHRpb24ga2V5PXtgJHtsYWJlbH06JHt2YWx1ZX1gfSB2YWx1ZT17dmFsdWV9PlxuXHRcdFx0XHRcdFx0e2xhYmVsfVxuXHRcdFx0XHRcdDwvb3B0aW9uPjtcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHQ8L3NlbGVjdD5cblx0XHQ8ZGl2IGFyaWEtbGFiZWw9J0ludmFsaWQgRmVlZGJhY2snIGNsYXNzTmFtZT0naW52YWxpZC1mZWVkYmFjayBpY29uLWYzIGljb24td2FybmluZycgcm9sZT0nYWxlcnQnPnt2YWxpZGF0aW9uTWVzc2FnZX08L2Rpdj5cblx0PC9kaXY+O1xufSk7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRyYW5zLCB1c2VUcmFuc2xhdGlvbiB9IGZyb20gJ3JlYWN0LWkxOG5leHQnO1xuaW1wb3J0IHsgdXNlU2VhcmNoUGFyYW1zIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyB2YWxpZGF0ZUxlbmd0aCB9IGZyb20gJy4uLy4uLy4uL3NlcnZlci9saWIvY29udGVudFZhbGlkYXRpb24nO1xuaW1wb3J0IHsgVXNlclJlcG9ydEFwaSB9IGZyb20gJy4uLy4uL2FwaXMvdXNlclJlcG9ydEFwaSc7XG5pbXBvcnQgeyBGZWVkYmFja0NhdGVnb3J5LCBGZWVkYmFja1R5cGUsIE9iamVjdFJlZmVyZW5jZSB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IGNsYXNzU3RyIH0gZnJvbSAnLi4vLi4vbGliL2NsYXNzVXRpbCc7XG5pbXBvcnQgeyBGZWVkYmFja0Vycm9yVHlwZSwgZmVlZGJhY2tUeXBlVG9DYXRlZ29yeSB9IGZyb20gJy4uLy4uL2xpYi9mZWVkYmFja0hlbHBlcnMnO1xuaW1wb3J0IHsgdXNlQWxlcnRzIH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUFsZXJ0cyc7XG5pbXBvcnQgeyB1c2VDYXB0Y2hhVG9rZW4gfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlQ2FwdGNoYVRva2VuJztcbmltcG9ydCB7IHVzZURvbWFpbiB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VEb21haW4nO1xuaW1wb3J0IHsgdXNlVXNlciB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VVc2VyJztcbmltcG9ydCB7IEZvcm1Sb3cgfSBmcm9tICcuLi8uLi9wYWdlcy9hZG1pbi9jb21wb25lbnRzL0Zvcm1Sb3cnO1xuaW1wb3J0IHsgQ2FwdGNoYUNoZWNrYm94IH0gZnJvbSAnLi4vQ2FwdGNoYUNoZWNrYm94JztcbmltcG9ydCB7IEYzQnV0dG9uLCBTdWJtaXRCdXR0b24gfSBmcm9tICcuLi9GM0J1dHRvbic7XG5pbXBvcnQgeyBGM0Zvcm0gfSBmcm9tICcuLi9mb3Jtcy9GM0Zvcm0nO1xuaW1wb3J0IHsgRjNJbnB1dCB9IGZyb20gJy4uL2Zvcm1zL0YzSW5wdXQnO1xuaW1wb3J0IHsgRjNTZWxlY3QgfSBmcm9tICcuLi9mb3Jtcy9GM1NlbGVjdCc7XG5pbXBvcnQgeyBGM1NwYW1JbnB1dCB9IGZyb20gJy4uL2Zvcm1zL0YzU3BhbUlucHV0JztcbmltcG9ydCB7IEYzVGV4dEFyZWEgfSBmcm9tICcuLi9mb3Jtcy9GM1RleHRBcmVhJztcblxuZXhwb3J0IGludGVyZmFjZSBGZWVkYmFja0Zvcm1Qcm9wcyB7XG5cdHR5cGU/OiBGZWVkYmFja1R5cGVcblx0Y2F0ZWdvcnk/OiBGZWVkYmFja0NhdGVnb3J5XG5cdHNob3dSYXRpbmc/OiBib29sZWFuXG5cdHNob3dGcmVlZm9ybT86IGJvb2xlYW5cblx0ZnJlZWZvcm1PcHRpb25hbD86IGJvb2xlYW5cblx0b25TdWJtaXR0ZWQ/KCk6IHZvaWRcblx0b2JqZWN0UmVmZXJlbmNlPzogT2JqZWN0UmVmZXJlbmNlXG59XG5cbmRlY2xhcmUgY29uc3QgZ3JlY2FwdGNoYToge1xuXHRyZXNldDogKCkgPT4gdm9pZFxufTtcblxuZXhwb3J0IGNvbnN0IEZlZWRiYWNrRm9ybSA9ICh7IHR5cGU6IF90eXBlID0gJycgYXMgRmVlZGJhY2tUeXBlLCBjYXRlZ29yeTogX2NhdGVnb3J5ID0gZmVlZGJhY2tUeXBlVG9DYXRlZ29yeShfdHlwZSkgYXMgRmVlZGJhY2tDYXRlZ29yeSwgc2hvd1JhdGluZyA9IHRydWUsIHNob3dGcmVlZm9ybSA9IHRydWUsIGZyZWVmb3JtT3B0aW9uYWwgPSAhc2hvd0ZyZWVmb3JtLCBvblN1Ym1pdHRlZCwgb2JqZWN0UmVmZXJlbmNlIH06IEZlZWRiYWNrRm9ybVByb3BzKSA9PiB7XG5cdGNvbnN0IHsgdXNlciB9ID0gdXNlVXNlcigpO1xuXG5cdGNvbnN0IFt0eXBlLCBzZXRUeXBlXSA9IHVzZVN0YXRlPEZlZWRiYWNrVHlwZT4oX3R5cGUpO1xuXHRjb25zdCBbY2F0ZWdvcnksIHNldENhdGVnb3J5XSA9IHVzZVN0YXRlPEZlZWRiYWNrQ2F0ZWdvcnk+KF9jYXRlZ29yeSk7XG5cdGNvbnN0IFttZXNzYWdlLCBzZXRNZXNzYWdlXSA9IHVzZVN0YXRlKCcnKTtcblx0Y29uc3QgW2VtYWlsLCBzZXRFbWFpbF0gPSB1c2VTdGF0ZSh1c2VyPy5lbWFpbCB8fCAnJyk7XG5cdGNvbnN0IFtyYXRpbmcsIHNldFJhdGluZ10gPSB1c2VTdGF0ZTxudW1iZXI+KG51bGwpO1xuXHRjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cdGNvbnN0IHsgYWRkU3VjY2Vzc0FsZXJ0LCBhZGRFcnJvckFsZXJ0IH0gPSB1c2VBbGVydHMoKTtcblx0Y29uc3QgeyBzaXRlTmFtZSB9ID0gdXNlRG9tYWluKCk7XG5cblx0Y29uc3QgW3NlYXJjaFBhcmFtcywgc2V0U2VhcmNoUGFyYW1zXSA9IHVzZVNlYXJjaFBhcmFtcygpO1xuXHRjb25zdCBzdWJqZWN0ID0gc2VhcmNoUGFyYW1zLmdldCgnc3ViamVjdCcpO1xuXG5cdGNvbnN0IHsgZjNEb21haW4gfSA9IHVzZURvbWFpbigpO1xuXHRjb25zdCB7IGNhcHRjaGFUb2tlbiwgb25DYXB0Y2hhUmVzcG9uc2UgfSA9IHVzZUNhcHRjaGFUb2tlbigpO1xuXHRjb25zdCB7IHQgfSA9IHVzZVRyYW5zbGF0aW9uKCdjb21wb25lbnRzJyk7XG5cblx0dXNlRWZmZWN0KCgpID0+IHtcblx0XHRpZiAoc3ViamVjdCkge1xuXHRcdFx0c2V0VHlwZShzdWJqZWN0IGFzIEZlZWRiYWNrVHlwZSk7XG5cdFx0XHRzZXRDYXRlZ29yeShmZWVkYmFja1R5cGVUb0NhdGVnb3J5KHN1YmplY3QgYXMgRmVlZGJhY2tUeXBlKSk7XG5cdFx0fVxuXHR9LCBbc3ViamVjdF0pO1xuXG5cdHJldHVybiA8RjNGb3JtXG5cdFx0Y2xlYXJPblN1Ym1pdFxuXHRcdGlkPSdGZWVkYmFja0Zvcm0nXG5cdFx0b25TdWJtaXQ9e2FzeW5jICgpID0+IHtcblx0XHRcdGlmIChzaG93UmF0aW5nICYmICFyYXRpbmcpIHtcblx0XHRcdFx0YWRkRXJyb3JBbGVydCg8RXJyb3JNZXNzYWdlIGVycj0nUkFUSU5HJyAvPik7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0c2V0TG9hZGluZyh0cnVlKTtcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0YXdhaXQgbmV3IFVzZXJSZXBvcnRBcGkoKS5zdWJtaXRGZWVkYmFjayh7XG5cdFx0XHRcdFx0dHlwZSxcblx0XHRcdFx0XHRtZXNzYWdlLFxuXHRcdFx0XHRcdGVtYWlsLFxuXHRcdFx0XHRcdGNhdGVnb3J5LFxuXHRcdFx0XHRcdHJhdGluZyxcblx0XHRcdFx0XHRvYmplY3RJZDogb2JqZWN0UmVmZXJlbmNlPy5vYmplY3RJZCA/ICtvYmplY3RSZWZlcmVuY2U/Lm9iamVjdElkIDogbnVsbCxcblx0XHRcdFx0XHRvYmplY3RUeXBlOiBvYmplY3RSZWZlcmVuY2U/LmNvbnRlbnRUeXBlLFxuXHRcdFx0XHRcdHVybDogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLFxuXHRcdFx0XHR9LCBjYXB0Y2hhVG9rZW4uY3VycmVudCk7XG5cblx0XHRcdFx0YWRkU3VjY2Vzc0FsZXJ0KDxTdWNjZXNzTWVzc2FnZSBjYXRlZ29yeT17Y2F0ZWdvcnl9IHR5cGU9e3R5cGV9IC8+LCBudWxsKTtcblxuXHRcdFx0XHRzZXRUeXBlKF90eXBlKTtcblx0XHRcdFx0c2V0TWVzc2FnZSgnJyk7XG5cdFx0XHRcdHNldENhdGVnb3J5KF9jYXRlZ29yeSk7XG5cdFx0XHRcdHNldFJhdGluZyhudWxsKTtcblx0XHRcdFx0c2V0RW1haWwodXNlcj8uZW1haWwgfHwgJycpO1xuXG5cdFx0XHRcdG9uU3VibWl0dGVkPy4oKTtcblxuXHRcdFx0XHRncmVjYXB0Y2hhLnJlc2V0KCk7XG5cdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0YWRkRXJyb3JBbGVydCg8RXJyb3JNZXNzYWdlIGVycj17ZS5yZXNwb25zZS5kYXRhLnR5cGV9IC8+KTtcblx0XHRcdH1cblxuXHRcdFx0c2V0TG9hZGluZyhmYWxzZSk7XG5cdFx0fX1cblx0PlxuXHRcdHtcblx0XHRcdCFfdHlwZSAmJlxuXHRcdFx0PEZvcm1Sb3cgbGFiZWw9e3QoJ2ZlZWRiYWNrRm9ybS5mZWVkYmFja1R5cGVMYWJlbCcsICdTdWJqZWN0Jyl9PlxuXHRcdFx0XHQ8RjNTZWxlY3Rcblx0XHRcdFx0XHRjbGFzc05hbWU9J2Zvcm0tc2VsZWN0J1xuXHRcdFx0XHRcdGdldExhYmVsPXt2YWwgPT4ge1xuXHRcdFx0XHRcdFx0c3dpdGNoICh2YWwpIHtcblx0XHRcdFx0XHRcdFx0Y2FzZSAnQUNDT1VOVCc6IHJldHVybiB0KCdmZWVkYmFja0Zvcm0uZmVlZGJhY2tUeXBlLmFjY291bnQnLCAnQWNjb3VudCBRdWVzdGlvbiAvIFN1YnNjcmlwdGlvbiBDYW5jZWxsYXRpb24nKTtcblx0XHRcdFx0XHRcdFx0Y2FzZSAnQUZGSUxJQVRFJzogcmV0dXJuIHQoJ2ZlZWRiYWNrRm9ybS5mZWVkYmFja1R5cGUuYWZmaWxpYXRlJywgJ0FmZmlsaWF0ZSBQYXJ0bmVyc2hpcCcpO1xuXHRcdFx0XHRcdFx0XHRjYXNlICdTSVRFX1BST0JMRU0nOiByZXR1cm4gdCgnZmVlZGJhY2tGb3JtLmZlZWRiYWNrVHlwZS5zaXRlJywgJ1NpdGUgUXVlc3Rpb24gb3IgUHJvYmxlbScpO1xuXHRcdFx0XHRcdFx0XHRjYXNlICdDT05URU5UJzogcmV0dXJuIHQoJ2ZlZWRiYWNrRm9ybS5mZWVkYmFja1R5cGUuY29udGVudCcsICdDb250ZW50IElucXVpcnknKTtcblx0XHRcdFx0XHRcdFx0Y2FzZSAnQlVTSU5FU1NfSU5RVUlSWSc6IHJldHVybiB0KCdmZWVkYmFja0Zvcm0uZmVlZGJhY2tUeXBlLmJ1c2luZXNzJywgJ0J1c2luZXNzIG9yIFByZXNzIElucXVpcnknKTtcblx0XHRcdFx0XHRcdFx0Y2FzZSAnSU5TVElUVVRJT04nOiByZXR1cm4gdCgnZmVlZGJhY2tGb3JtLmZlZWRiYWNrVHlwZS5pbnN0aXR1dGlvbicsICdJbnN0aXR1dGlvbmFsIElzc3VlJyk7XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ0ZFRURCQUNLJzogcmV0dXJuIHQoJ2ZlZWRiYWNrRm9ybS5mZWVkYmFja1R5cGUuZmVlZGJhY2snLCAnR2VuZXJhbCBGZWVkYmFjaycpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0b25WYWx1ZUNoYW5nZT17dHlwZSA9PiB7XG5cdFx0XHRcdFx0XHRzZXRUeXBlKHR5cGUpO1xuXHRcdFx0XHRcdFx0aWYgKCFjYXRlZ29yeSkge1xuXHRcdFx0XHRcdFx0XHRzZXRDYXRlZ29yeShmZWVkYmFja1R5cGVUb0NhdGVnb3J5KHR5cGUpKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdHJlcXVpcmVkXG5cdFx0XHRcdFx0dmFsdWU9e3R5cGV9XG5cdFx0XHRcdFx0dmFsdWVzPXtmM0RvbWFpbiA9PT0gJ0ZPTEQzX1VTJyA/IFsnQUNDT1VOVCcsICdBRkZJTElBVEUnLCAnU0lURV9QUk9CTEVNJywgJ0NPTlRFTlQnLCAnQlVTSU5FU1NfSU5RVUlSWScsICdJTlNUSVRVVElPTicsICdGRUVEQkFDSyddIDogWydBQ0NPVU5UJywgJ0FGRklMSUFURScsICdTSVRFX1BST0JMRU0nLCAnQ09OVEVOVCcsICdCVVNJTkVTU19JTlFVSVJZJywgJ0ZFRURCQUNLJ119XG5cdFx0XHRcdC8+XG5cdFx0XHQ8L0Zvcm1Sb3c+XG5cdFx0fVxuXHRcdHtcblx0XHRcdCFfY2F0ZWdvcnkgJiZcblx0XHRcdDxGb3JtUm93IGxhYmVsPXt0KCdmZWVkYmFja0Zvcm0uZmVlZGJhY2tDYXRlZ29yeUxhYmVsJywgJ0NhdGVnb3J5Jyl9PlxuXHRcdFx0XHQ8RjNTZWxlY3Rcblx0XHRcdFx0XHRnZXRMYWJlbD17dmFsID0+IHtcblx0XHRcdFx0XHRcdHN3aXRjaCAodmFsKSB7XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ0FCVVNFJzogcmV0dXJuIHQoJ2ZlZWRiYWNrRm9ybS5jYXRlZ29yeS5hYnVzZScsICdBYnVzZScpO1xuXHRcdFx0XHRcdFx0XHRjYXNlICdDT1JSRUNUSU9OJzogcmV0dXJuIHQoJ2ZlZWRiYWNrRm9ybS5jYXRlZ29yeS5jb3JyZWN0aW9uJywgJ0NvcnJlY3Rpb24nKTtcblx0XHRcdFx0XHRcdFx0Y2FzZSAnRkVFREJBQ0snOiByZXR1cm4gdCgnZmVlZGJhY2tGb3JtLmNhdGVnb3J5LmZlZWRiYWNrJywgJ0ZlZWRiYWNrJyk7XG5cdFx0XHRcdFx0XHRcdGNhc2UgJ1BST0JMRU0nOiByZXR1cm4gdCgnZmVlZGJhY2tGb3JtLmNhdGVnb3J5LnByb2JsZW0nLCAnUHJvYmxlbScpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH19XG5cdFx0XHRcdFx0b25WYWx1ZUNoYW5nZT17c2V0Q2F0ZWdvcnl9XG5cdFx0XHRcdFx0cmVxdWlyZWRcblx0XHRcdFx0XHR2YWx1ZT17Y2F0ZWdvcnl9XG5cdFx0XHRcdFx0dmFsdWVzPXtbJ0FCVVNFJywgJ0NPUlJFQ1RJT04nLCAnRkVFREJBQ0snLCAnUFJPQkxFTSddfVxuXHRcdFx0XHQvPlxuXHRcdFx0PC9Gb3JtUm93PlxuXHRcdH1cblx0XHR7XG5cdFx0XHRzaG93UmF0aW5nICYmXG5cdFx0XHQ8Rm9ybVJvdyBjbGFzc05hbWU9J3JhdGluZ3MnIGxhYmVsPSdIb3cgd291bGQgeW91IHJhdGUgeW91ciBleHBlcmllbmNlPyc+XG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSd0ZXh0LWNlbnRlciB0ZXh0LW1kLXN0YXJ0Jz5cblx0XHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRcdGFyaWEtbGFiZWw9J0Rpc2xpa2VkJ1xuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lPXtjbGFzc1N0cignbGgtMScsICdtci0yJywgJ2JvcmRlci0wJywgJ2ZzLTEnLCAnaWNvbi1mMycsICdhMi1pY29uLWZyb3duJywgcmF0aW5nID09PSAxICYmICdhY3RpdmUnKX1cblx0XHRcdFx0XHRcdG9uQ2xpY2s9eygpID0+IHNldFJhdGluZygxKX1cblx0XHRcdFx0XHRcdG91dGxpbmVcblx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdDxGM0J1dHRvblxuXHRcdFx0XHRcdFx0YXJpYS1sYWJlbD1cIkl0J3Mgb2theVwiXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU9e2NsYXNzU3RyKCdsaC0xJywgJ21yLTInLCAnYm9yZGVyLTAnLCAnZnMtMScsICdpY29uLWYzJywgJ2EyLWljb24tbmV1dHJhbCcsIHJhdGluZyA9PT0gMiAmJiAnYWN0aXZlJyl9XG5cdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiBzZXRSYXRpbmcoMil9XG5cdFx0XHRcdFx0XHRvdXRsaW5lXG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRcdGFyaWEtbGFiZWw9J0kgbGlrZSBpdCdcblx0XHRcdFx0XHRcdGNsYXNzTmFtZT17Y2xhc3NTdHIoJ2xoLTEnLCAnbXItMicsICdib3JkZXItMCcsICdmcy0xJywgJ2ljb24tZjMnLCAnYTItaWNvbi1zbWlsZScsIHJhdGluZyA9PT0gMyAmJiAnYWN0aXZlJyl9XG5cdFx0XHRcdFx0XHRvbkNsaWNrPXsoKSA9PiBzZXRSYXRpbmcoMyl9XG5cdFx0XHRcdFx0XHRvdXRsaW5lXG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L0Zvcm1Sb3c+XG5cdFx0fVxuXHRcdHtcblx0XHRcdHNob3dGcmVlZm9ybSAmJlxuXHRcdFx0PEZvcm1Sb3cgbGFiZWw9e3QoJ2ZlZWRiYWNrRm9ybS5lbnRlck1lc3NhZ2UnLCAnRW50ZXIgeW91ciBtZXNzYWdlJyl9PlxuXHRcdFx0XHQ8RjNUZXh0QXJlYVxuXHRcdFx0XHRcdGNsYXNzTmFtZT0nZm9ybS1jb250cm9sJ1xuXHRcdFx0XHRcdGNvbHM9ezUwfVxuXHRcdFx0XHRcdG9uQ2hhbmdlPXtlID0+IHNldE1lc3NhZ2UoZS50YXJnZXQudmFsdWUpfVxuXHRcdFx0XHRcdHBsYWNlaG9sZGVyPXtmcmVlZm9ybU9wdGlvbmFsID8gdCgnZmVlZGJhY2tGb3JtLm9wdGlvbmFsJywgJyhPcHRpb25hbCknKSA6ICcnfVxuXHRcdFx0XHRcdHJlcXVpcmVkXG5cdFx0XHRcdFx0cm93cz17NX1cblx0XHRcdFx0XHR2YWxpZGF0ZT17dmFsID0+IHtcblx0XHRcdFx0XHRcdGlmIChmcmVlZm9ybU9wdGlvbmFsKSByZXR1cm47XG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsaWRhdGVMZW5ndGgodmFsLCAnRkVFREJBQ0snKTtcblx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdHZhbHVlPXttZXNzYWdlfVxuXHRcdFx0XHQvPlxuXHRcdFx0PC9Gb3JtUm93PlxuXHRcdH1cblx0XHR7XG5cdFx0XHQhdXNlciAmJlxuXHRcdFx0PEZvcm1Sb3cgbGFiZWw9e3QoJ2ZlZWRiYWNrRm9ybS5lbWFpbCcsICdZb3VyIGVtYWlsJyl9PlxuXHRcdFx0XHQ8RjNJbnB1dFxuXHRcdFx0XHRcdGNsYXNzTmFtZT0nZm9ybS1jb250cm9sJ1xuXHRcdFx0XHRcdG9uQ2hhbmdlPXtlID0+IHNldEVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cblx0XHRcdFx0XHRyZXF1aXJlZFxuXHRcdFx0XHRcdHR5cGU9J2VtYWlsJ1xuXHRcdFx0XHRcdHZhbHVlPXtlbWFpbH1cblx0XHRcdFx0Lz5cblx0XHRcdDwvRm9ybVJvdz5cblx0XHR9XG5cdFx0PEYzU3BhbUlucHV0IC8+XG5cdFx0PGRpdiBjbGFzc05hbWU9J3JvdyBtYi0yJz5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdvZmZzZXQtbWQtMyBjb2wnPlxuXHRcdFx0XHQ8Q2FwdGNoYUNoZWNrYm94IG9uQ2FwdGNoYVJlc3BvbnNlPXtvbkNhcHRjaGFSZXNwb25zZX0gLz5cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHRcdDxkaXYgY2xhc3NOYW1lPSdyb3cgbWItMic+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nb2Zmc2V0LW1kLTMgY29sJz5cblx0XHRcdFx0PFN1Ym1pdEJ1dHRvbj57dCgnZmVlZGJhY2tGb3JtLnN1Ym1pdCcsICdTZW5kIE1lc3NhZ2UnKX08L1N1Ym1pdEJ1dHRvbj5cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHQ8L0YzRm9ybT47XG59O1xuXG5jb25zdCBTdWNjZXNzTWVzc2FnZSA9ICh7IHR5cGUsIGNhdGVnb3J5ID0gZmVlZGJhY2tUeXBlVG9DYXRlZ29yeSh0eXBlKSB9OiB7IHR5cGU6IEZlZWRiYWNrVHlwZSwgY2F0ZWdvcnk6IEZlZWRiYWNrQ2F0ZWdvcnkgfSkgPT4ge1xuXHRjb25zdCB7IHNpdGVOYW1lIH0gPSB1c2VEb21haW4oKTtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignY29tcG9uZW50cycpO1xuXG5cdHN3aXRjaCAoY2F0ZWdvcnkpIHtcblx0XHRjYXNlICdBQlVTRSc6XG5cdFx0Y2FzZSAnRkVFREJBQ0snOlxuXHRcdGNhc2UgJ1BST0JMRU0nOlxuXHRcdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRcdGNhc2UgJ0JFVEEnOlxuXHRcdFx0XHRjYXNlICdGRUVEQkFDSyc6XG5cdFx0XHRcdFx0cmV0dXJuIDxzcGFuPnt0KCdzdWNjZXNzTWVzc2FnZS5mZWVkYmFjay50aGFua3MnLCAnVGhhbmsgeW91IGZvciB5b3VyIGZlZWRiYWNrLicpfTwvc3Bhbj47XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0cmV0dXJuIDxkaXY+XG5cdFx0XHRcdFx0XHQ8VHJhbnMgaTE4bktleT0nc3VjY2Vzc01lc3NhZ2UuZmVlZGJhY2sub3RoZXInIHQ9e3R9PlxuXHRcdFx0XHRcdFx0XHQ8cD48Yj5UaGFuayB5b3UgZm9yIGNvbnRhY3RpbmcgPHNwYW4+e3sgc2l0ZU5hbWUgfX08L3NwYW4+LjwvYj4gV2UgaGF2ZSByZWNlaXZlZCB5b3VyIG1lc3NhZ2UuPC9wPlxuXHRcdFx0XHRcdFx0XHQ8cD5XZSB3YW50IHRvIGFzc3VyZSB5b3UgdGhhdCB5b3VyIG1lc3NhZ2UgaXMgdmVyeSBpbXBvcnRhbnQgdG8gdXMuIFlvdSBzaG91bGQgcmVjZWl2ZSBhIHJlc3BvbnNlIHdpdGhpbiA8Yj4xLTIgYnVzaW5lc3MgZGF5czwvYj4uIFdlIHdpbGwgcmVzcG9uZCB0byBhbGwgbWVzc2FnZXMgaW4gdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgYXJlIHJlY2VpdmVkLjwvcD5cblx0XHRcdFx0XHRcdFx0PHAgY2xhc3NOYW1lPSd0ZXh0LW11dGVkJz5QbGVhc2Ugbm90ZSB0aGF0IHN1Ym1pdHRpbmcgYW5vdGhlciBtZXNzYWdlIGFib3V0IHRoZSBzYW1lIGlzc3VlIHdpbGwgbm90IGV4cGVkaXRlIHNlcnZpY2UuPC9wPlxuXHRcdFx0XHRcdFx0PC9UcmFucz5cblx0XHRcdFx0XHQ8L2Rpdj47XG5cdFx0XHR9XG5cdFx0Y2FzZSAnQ09SUkVDVElPTic6XG5cdFx0XHRyZXR1cm4gPHNwYW4+e3QoJ3N1Y2Nlc3NNZXNzYWdlLmZlZWRiYWNrLmNvcnJlY3Rpb24nLCAnVGhhbmsgeW91IGZvciB5b3VyIGNvbnRyaWJ1dGlvbi4nKX08L3NwYW4+O1xuXHR9XG59O1xuXG5jb25zdCBFcnJvck1lc3NhZ2UgPSAoeyBlcnIgfTogeyBlcnI6IEZlZWRiYWNrRXJyb3JUeXBlIH0pID0+IHtcblx0Y29uc3QgeyB0IH0gPSB1c2VUcmFuc2xhdGlvbignY29tcG9uZW50cycpO1xuXG5cdGxldCBtc2c7XG5cdHN3aXRjaCAoZXJyKSB7XG5cdFx0Y2FzZSAnRU1BSUwnOiBtc2cgPSB0KCdlcnJvck1lc3NhZ2UuZW1haWwnLCAnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwnKTsgYnJlYWs7XG5cdFx0Y2FzZSAnTUVTU0FHRSc6IG1zZyA9IHQoJ2Vycm9yTWVzc2FnZS5tZXNzYWdlJywgJ1BsZWFzZSBlbnRlciBhIG1lc3NhZ2UgYmV0d2VlbiAxMCBhbmQgMTAwMCBjaGFyYWN0ZXJzJyk7IGJyZWFrO1xuXHRcdGNhc2UgJ1RZUEUnOiBtc2cgPSB0KCdlcnJvck1lc3NhZ2UudHlwZScsICdQbGVhc2Ugc2VsZWN0IGEgc3ViamVjdCcpOyBicmVhaztcblx0XHRjYXNlICdDQVRFR09SWSc6IG1zZyA9IHQoJ2Vycm9yTWVzc2FnZS5jYXRlZ29yeScsICdQbGVhc2Ugc2VsZWN0IGEgY2F0ZWdvcnknKTsgYnJlYWs7XG5cdFx0Y2FzZSAnUkFUSU5HJzogbXNnID0gdCgnZXJyb3JNZXNzYWdlLnJhdGluZycsICdQbGVhc2Ugc2VsZWN0IGEgcmF0aW5nJyk7IGJyZWFrO1xuXHRcdGRlZmF1bHQ6IG1zZyA9IHQoJ2Vycm9yTWVzc2FnZS5vdGhlcicsICdUaGVyZSB3YXMgYW4gZXJyb3Igd2l0aCB5b3VyIHN1Ym1pc3Npb24uIFBsZWFzZSB0cnkgYWdhaW4uJyk7IGJyZWFrO1xuXHR9XG5cdHJldHVybiA8c3Bhbj57bXNnfTwvc3Bhbj47XG59O1xuIiwiaW1wb3J0IHsgdCB9IGZyb20gJ2kxOG5leHQnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZURpYWxvZ3MgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlRGlhbG9ncyc7XG5pbXBvcnQgeyBEaWFsb2cgfSBmcm9tICcuLi9kaWFsb2dzL0RpYWxvZyc7XG5pbXBvcnQgeyBGZWVkYmFja0Zvcm0sIEZlZWRiYWNrRm9ybVByb3BzIH0gZnJvbSAnLi9GZWVkYmFja0Zvcm0nO1xuXG5pbnRlcmZhY2UgRmVlZGJhY2tEaWFsb2dQcm9wcyBleHRlbmRzIEZlZWRiYWNrRm9ybVByb3BzIHt9XG5cbmV4cG9ydCBjb25zdCBGZWVkYmFja0RpYWxvZyA9ICh7IC4uLnJlc3QgfTogRmVlZGJhY2tEaWFsb2dQcm9wcykgPT4ge1xuXHRjb25zdCB7IGNsb3NlRGlhbG9nIH0gPSB1c2VEaWFsb2dzKCk7XG5cblx0cmV0dXJuIDxEaWFsb2dcblx0XHRjbG9zZWFibGVcblx0XHR0aXRsZT17dCgnZmVlZGJhY2tEaWFsb2cucHJvdmlkZUZlZWRiYWNrJywgJ1BsZWFzZSBwcm92aWRlIHlvdXIgZmVlZGJhY2snLCB7bnM6ICdjb21wb25lbnRzJ30pfVxuXHQ+XG5cdFx0PEZlZWRiYWNrRm9ybSB7Li4ucmVzdH0gb25TdWJtaXR0ZWQ9e2Nsb3NlRGlhbG9nfSAvPlxuXHQ8L0RpYWxvZz47XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBUcmFucywgdXNlVHJhbnNsYXRpb24gfSBmcm9tICdyZWFjdC1pMThuZXh0JztcbmltcG9ydCB7IHVzZUxvY2F0aW9uIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBCZXRhQXBpIH0gZnJvbSAnLi4vLi4vYXBpcy9iZXRhQXBpJztcbmltcG9ydCB7IEZvbGQzUGFnZUNvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L2ZvbGQzUGFnZUNvbnRleHQnO1xuaW1wb3J0IHsgQmV0YUJhbm5lciB9IGZyb20gJy4uLy4uL2R0by9mMy1pbnRlcmZhY2VzJztcbmltcG9ydCB7IHVzZUFzeW5jRWZmZWN0IH0gZnJvbSAnLi4vLi4vbGliL2hvb2tzL3VzZUFzeW5jRWZmZWN0JztcbmltcG9ydCB7IHVzZURpYWxvZ3MgfSBmcm9tICcuLi8uLi9saWIvaG9va3MvdXNlRGlhbG9ncyc7XG5pbXBvcnQgeyBGM0J1dHRvbiB9IGZyb20gJy4uL0YzQnV0dG9uJztcbmltcG9ydCB7IEZlZWRiYWNrRGlhbG9nIH0gZnJvbSAnLi4vZmVlZGJhY2svRmVlZGJhY2tEaWFsb2cnO1xuXG5pbnRlcmZhY2UgQmV0YUJhbm5lclByb3BzIHtcblx0dXNlclRhZz86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IEN1c3RvbWVyQmV0YUJhbm5lciA9ICh7IHVzZXJUYWcgfTogQmV0YUJhbm5lclByb3BzKSA9PiB7XG5cdGNvbnN0IHsgZjNEb21haW4gfSA9IHVzZUNvbnRleHQoRm9sZDNQYWdlQ29udGV4dCk7XG5cdGNvbnN0IHsgb3BlbkRpYWxvZyB9ID0gdXNlRGlhbG9ncygpO1xuXHRjb25zdCBbYmFubmVycywgc2V0QmFubmVyc10gPSB1c2VTdGF0ZTxCZXRhQmFubmVyW10+KG51bGwpO1xuXHRjb25zdCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG5cdGNvbnN0IHsgdCB9ID0gdXNlVHJhbnNsYXRpb24oJ2NvbXBvbmVudHMnKTtcblxuXHR1c2VBc3luY0VmZmVjdChhc3luYyAoKSA9PiB7XG5cdFx0bGV0IGJhbm5lcnMgPSBhd2FpdCBuZXcgQmV0YUFwaSgpLmxpc3RCZXRhQmFubmVycygnQUNUSVZFJyk7XG5cdFx0c2V0QmFubmVycyhiYW5uZXJzKTtcblx0fSwgW10pO1xuXG5cdGNvbnN0IGJhbm5lciA9IHVzZU1lbW8oKCkgPT4ge1xuXHRcdGlmICghYmFubmVycykgcmV0dXJuO1xuXG5cdFx0aWYgKHVzZXJUYWcpIHtcblx0XHRcdHJldHVybiBiYW5uZXJzLmZpbmQoYiA9PiBiLnVzZXJUYWcgPT09IHVzZXJUYWcpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgcGF0aG5hbWUsIHNlYXJjaCB9ID0gbG9jYXRpb247XG5cdFx0Y29uc3QgcGF0aCA9IGAke3BhdGhuYW1lfSR7c2VhcmNofWA7XG5cblx0XHRyZXR1cm4gYmFubmVycz8uZmluZChiID0+IHtcblx0XHRcdHJldHVybiBiLnBhdGhSZWdleCA/XG5cdFx0XHRcdG5ldyBSZWdFeHAoYi5wYXRoUmVnZXgpLnRlc3QocGF0aCkgJiYgYi5kb21haW4gPT09IGYzRG9tYWluIDpcblx0XHRcdFx0ZmFsc2U7XG5cdFx0fSk7XG5cdH0sIFtiYW5uZXJzLCBsb2NhdGlvbl0pO1xuXG5cdGlmICghYmFubmVyKSByZXR1cm4gbnVsbDtcblxuXHRyZXR1cm4gUmVhY3RET00uY3JlYXRlUG9ydGFsKFxuXHRcdDxkaXYgY2xhc3NOYW1lPSdkLXByaW50LW5vbmUnIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZz5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdhbGVydCBhbGVydC13YXJuaW5nIGJvcmRlci0wIG1iLTAgcC0yIHRleHQtY2VudGVyJz5cblx0XHRcdFx0PHNwYW4+XG5cdFx0XHRcdFx0e2Jhbm5lcj8ubWVzc2FnZSA/XG5cdFx0XHRcdFx0XHQ8c3BhblxuXHRcdFx0XHRcdFx0XHRjbGFzc05hbWU9J2ljb24tZjMgaWNvbi13YXJuaW5nJ1xuXHRcdFx0XHRcdFx0XHRkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGJhbm5lcj8ubWVzc2FnZSB9fVxuXHRcdFx0XHRcdFx0Lz4gOlxuXHRcdFx0XHRcdFx0PHNwYW4+e3QoJ2JldGFCYW5uZXIud2FybmluZycsICdUaGlzIHBhZ2UgaXMgY3VycmVudGx5IGluIEJFVEEuJyl9PC9zcGFuPn1cblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRiYW5uZXI/LmluY2x1ZGVGZWVkYmFja0J1dHRvbiAmJlxuXHRcdFx0XHRcdFx0PFRyYW5zIGkxOG5LZXk9J2JldGFCYW5uZXIuYmFubmVyVGV4dCcgdD17dH0+XG5cdFx0XHRcdFx0XHRcdFdlIHdvdWxkIGxvdmUgeW91clxuXHRcdFx0XHRcdFx0XHQ8RjNCdXR0b25cblx0XHRcdFx0XHRcdFx0XHRidG5UeXBlPSdsaW5rJ1xuXHRcdFx0XHRcdFx0XHRcdGNsYXNzTmFtZT0ncC0wIG14LTEgYWxpZ24tYmFzZWxpbmUnXG5cdFx0XHRcdFx0XHRcdFx0b25DbGljaz17KCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0b3BlbkRpYWxvZyg8RmVlZGJhY2tEaWFsb2dcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2F0ZWdvcnk9J0ZFRURCQUNLJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRmcmVlZm9ybU9wdGlvbmFsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU9J0JFVEEnXG5cdFx0XHRcdFx0XHRcdFx0XHQvPik7XG5cdFx0XHRcdFx0XHRcdFx0fX1cblx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdDx1PmZlZWRiYWNrPC91PlxuXHRcdFx0XHRcdFx0XHQ8L0YzQnV0dG9uPlxuXHRcdFx0XHRcdFx0XHRhYm91dCB5b3VyIGV4cGVyaWVuY2UuXG5cdFx0XHRcdFx0XHQ8L1RyYW5zPlxuXHRcdFx0XHRcdH1cblx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+LFxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNiZXRhQmFubmVyJylcblx0KTtcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRGlhbG9ncyB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VEaWFsb2dzJztcblxuZXhwb3J0IGNvbnN0IERpYWxvZ3MgPSAoKSA9PiB7XG5cdGNvbnN0IHsgZGlhbG9ncyB9ID0gdXNlRGlhbG9ncygpO1xuXG5cdGlmIChkaWFsb2dzPy5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXG5cdHJldHVybiA8PlxuXHRcdHtcblx0XHRcdGRpYWxvZ3MubWFwKChkaWFsb2csIGksIGFycikgPT4ge1xuXHRcdFx0XHRyZXR1cm4gPGRpdiBrZXk9e2l9IGNsYXNzTmFtZT17aSA9PT0gYXJyLmxlbmd0aCAtIDEgPyAndmlzaWJsZScgOiAnaW52aXNpYmxlJ30+e2RpYWxvZ308L2Rpdj47XG5cdFx0XHR9KVxuXHRcdH1cblx0PC8+O1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VDb250ZXh0LCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VOYXZpZ2F0ZSB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgRm9sZDNQYWdlQ29udGV4dCB9IGZyb20gJy4uL2NvbnRleHQvZm9sZDNQYWdlQ29udGV4dCc7XG5pbXBvcnQgeyBPYmplY3RSZWZlcmVuY2UsIFdyYXBwZWRDb250ZW50RG9jdW1lbnQgfSBmcm9tICcuLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBDT09LSUVTIH0gZnJvbSAnLi4vZW51bXMvY29va2llcy5lbnVtJztcbmltcG9ydCB7IGlzVGVzdGluZyB9IGZyb20gJy4uL2xpYi9hdXRvbWF0ZWRUZXN0aW5nJztcbmltcG9ydCB7IGdldENvb2tpZSB9IGZyb20gJy4uL2xpYi9jbGllbnRDb29raWVzJztcbmltcG9ydCB7IGdldFdyYXBwZWRDb250ZW50SWQsIGdldFdyYXBwZWRDb250ZW50VHlwZSB9IGZyb20gJy4uL2xpYi9jb250ZW50L2NvbnRlbnRNZXRhZGF0YSc7XG5pbXBvcnQgeyBjaGVja0FjdGlvbiwgZ2V0UHVibGljYXRpb25JZCwgaXNBbGxvd2VkIH0gZnJvbSAnLi4vbGliL2NvbnRlbnQvY29udGVudFJ1bnRpbWUnO1xuaW1wb3J0IHsgdXNlRGlhbG9ncyB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VEaWFsb2dzJztcbmltcG9ydCB7IHVzZURvbWFpbiB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VEb21haW4nO1xuaW1wb3J0IHsgdXNlU3RvcmFnZSB9IGZyb20gJy4uL2xpYi9ob29rcy91c2VTdG9yYWdlJztcbmltcG9ydCB7IHVzZVVzZXIgfSBmcm9tICcuLi9saWIvaG9va3MvdXNlVXNlcic7XG5pbXBvcnQgeyBnZXREb21haW5Gb3JJU09Db3VudHJ5IH0gZnJvbSAnLi4vbGliL2xvY2FsaXphdGlvbi9kb21haW4nO1xuaW1wb3J0IHsgYXJyYXlBdCB9IGZyb20gJy4uL2xpYi9wb2x5ZmlsbHMnO1xuaW1wb3J0IHsgQWxlcnRzIH0gZnJvbSAnLi9BbGVydHMnO1xuaW1wb3J0IHsgQ2xpZW50UmVuZGVyIH0gZnJvbSAnLi9DbGllbnRSZW5kZXInO1xuaW1wb3J0IHsgRE9NQUlOX0RJQUxPR19DTE9TRUQsIERvbWFpbk1pc21hdGNoRGlhbG9nIH0gZnJvbSAnLi9Eb21haW5NaXNtYXRjaERpYWxvZyc7XG5pbXBvcnQgeyBORVdfRldSX0RPTUFJTl9LRVksIE5ld0ZXUldlbGNvbWVEaWFsb2cgfSBmcm9tICcuL05ld0ZXUldlbGNvbWVEaWFsb2cnO1xuaW1wb3J0IHsgQ3VzdG9tZXJCZXRhQmFubmVyIH0gZnJvbSAnLi9iZXRhL0JldGFCYW5uZXInO1xuaW1wb3J0IHsgRGVueSwgbWluQWNjb3VudFN0YXR1c1RvRGVueVJlcXVpcmVtZW50IH0gZnJvbSAnLi9kZW55L0RlbnknO1xuaW1wb3J0IHsgRGlhbG9ncyB9IGZyb20gJy4vZGlhbG9ncy9EaWFsb2dzJztcbmltcG9ydCB7IFBhZ2VTaWRlYmFycyB9IGZyb20gJy4vc2lkZWJhcnMvUGFnZVNpZGViYXJzJztcblxuaW50ZXJmYWNlIEJhc2VQYWdlUHJvcHMge1xuXHRjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlXG5cdGNvbnRlbnQ/OiBXcmFwcGVkQ29udGVudERvY3VtZW50XG5cdGRpc3BsYXlSZWY/OiBPYmplY3RSZWZlcmVuY2Vcblx0YmV0YVRhZz86IHN0cmluZyAvL2JldGEgYmFubmVyIHVzZXIgdGFnIHRvIG1hbnVhbGx5IGhhbmcgYSBiZXRhIG9uIGEgcGFnZS5cbn1cblxuYXJyYXlBdCgpO1xuXG5leHBvcnQgY29uc3QgQmFzZVBhZ2UgPSAoeyBjaGlsZHJlbiwgY29udGVudCwgZGlzcGxheVJlZiB9OiBCYXNlUGFnZVByb3BzKSA9PiB7XG5cdGNvbnN0IHsgc2l0ZVR5cGUgfSA9IHVzZURvbWFpbigpO1xuXHRjb25zdCB7IHVzZXIsIGluc3RpdHV0aW9uLCBpc1NpbG8gfSA9IHVzZVVzZXIoKTtcblx0Y29uc3QgeyByZXF1ZXN0Q291bnRyeSwgZjNEb21haW4gfSA9IHVzZUNvbnRleHQoRm9sZDNQYWdlQ29udGV4dCk7XG5cdGNvbnN0IHsgb3BlbkRpYWxvZyB9ID0gdXNlRGlhbG9ncygpO1xuXHRjb25zdCB7IGxvY2FsIH0gPSB1c2VTdG9yYWdlKCk7XG5cdGNvbnN0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcblxuXHQvKiBUaGVzZSBkaWFsb2dzIGNhbiBzdGFjay4gSWYgb25lIGlzIGRpc21pc3NlZCwgdGhlIG90aGVyIG9uZSB3aWxsIHNob3cgdXAgdW50aWwgdGhlIHVzZXIgaGFzIHJlc29sdmVkIHRoZW0gYWxsLiAqL1xuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGNvbnN0IGFjdGlvbiA9ICdWSUVXJztcblx0XHRpZiAoY29udGVudCAmJiAhaXNBbGxvd2VkKGNvbnRlbnQsIFthY3Rpb25dKSkge1xuXHRcdFx0Y29uc3QgY29udGVudFR5cGUgPSBkaXNwbGF5UmVmPy5jb250ZW50VHlwZSB8fCBnZXRXcmFwcGVkQ29udGVudFR5cGUoY29udGVudCk7XG5cdFx0XHRjb25zdCBvYmplY3RJZCA9IGRpc3BsYXlSZWY/Lm9iamVjdElkIHx8IGdldFdyYXBwZWRDb250ZW50SWQoY29udGVudCk7XG5cblx0XHRcdG9wZW5EaWFsb2coPERlbnlcblx0XHRcdFx0YWN0aW9uPXthY3Rpb259XG5cdFx0XHRcdGNsb3NlYWJsZVxuXHRcdFx0XHRjb250ZW50VHlwZT17Y29udGVudFR5cGV9XG5cdFx0XHRcdGlkPXtvYmplY3RJZH1cblx0XHRcdFx0b25DbG9zZT17KCkgPT4ge1xuXHRcdFx0XHRcdGlmIChoaXN0b3J5Lmxlbmd0aCA+IDEpIHtcblx0XHRcdFx0XHRcdG5hdmlnYXRlKC0xKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0bmF2aWdhdGUoJy8nKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9fVxuXHRcdFx0XHRwdWJsaWNhdGlvbklkPXtnZXRQdWJsaWNhdGlvbklkKGNvbnRlbnQpfVxuXHRcdFx0XHRyZXF1aXJlbWVudD17aXNTaWxvID8gJ3NpbG8nIDogbWluQWNjb3VudFN0YXR1c1RvRGVueVJlcXVpcmVtZW50KGNoZWNrQWN0aW9uKGNvbnRlbnQsIGFjdGlvbikgYXMgc3RyaW5nKX1cblx0XHRcdC8+KTtcblx0XHR9XG5cblx0XHRpZiAoKHdpbmRvdyBhcyBhbnkpPy5GMz8ucGFnZT8uaW1hZ2UpIHtcblx0XHRcdC8vIGp1c3QgZG9uJ3Qgc2hvdyB0aGlzIGRpYWxvZyBpbiB0aGUgb2xkIHZpZXdlci4gSXQncyBnb2luZyBhd2F5IHNvb24gYW5kIGlzIG1lc3N5IHRvIGhhbmRsZSB0aGUgaW50ZXJhY3Rpb25cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoaXNUZXN0aW5nKCkpIHJldHVybjtcblxuXHRcdC8qIFRoaXMgd2lsbCBvbmx5IHNob3cgaWYgdGhleSB3ZXJlIHJlZGlyZWN0ZWQgZnJvbSBhbiBvbGQgRldSIHBhZ2UgYW5kIHRoZXkgaGF2ZW4ndCBhbHJlYWR5IGRpc21pc3NlZCBpdC4gKi9cblx0XHRpZiAoc2l0ZVR5cGUgPT09ICdGV1InICYmICFsb2NhbC5nZXQoTkVXX0ZXUl9ET01BSU5fS0VZKSAmJiBnZXRDb29raWUoQ09PS0lFUy5GV1JfUkVESVJFQ1QpKSB7XG5cdFx0XHRvcGVuRGlhbG9nKDxOZXdGV1JXZWxjb21lRGlhbG9nIC8+KTtcblx0XHR9XG5cblx0XHQvKiBEb21haW5zIGFyZSBhcnJhbmdlZCBpbiBvcmRlciBvZiB0aGVpciBwcmVjZWRlbmNlICovXG5cdFx0bGV0IHBvc3NpYmxlRG9tYWlucyA9IFtcblx0XHRcdHVzZXI/LnJlZ2lzdHJhdGlvbkRvbWFpbixcblx0XHRcdGluc3RpdHV0aW9uPy5kb21haW4sXG5cdFx0XHRnZXREb21haW5Gb3JJU09Db3VudHJ5KHJlcXVlc3RDb3VudHJ5KSxcblx0XHRdLmZpbHRlcih4ID0+ICEheCk7XG5cblx0XHRpZiAoXG5cdFx0XHRwb3NzaWJsZURvbWFpbnMubGVuZ3RoID4gMCAmJiAvLyBubyBwb3NzaWJsZSBkb21haW5zLiBUaGV5IGFyZSBzaWduZWQgb3V0LCBub3QgYXQgYSBkb21haW4sIGFuZCBoYXZlIG5vIHJlcXVlc3QgY291bnRyeSwgb3IgYSByZXF1ZXN0IGNvdW50cnkgd2UgZG9uJ3Qgc3VwcG9ydCBsaWtlIFRhamlraXN0YW5cblx0XHRcdCFwb3NzaWJsZURvbWFpbnMuaW5jbHVkZXMoZjNEb21haW4pICYmIC8vIG5vbmUgb2YgdGhlIHBvc3NpYmxlIGRvbWFpbnMgbWF0Y2hlcyB0aGUgZG9tYWluIHRoZXkgYXJlIGN1cnJlbnRseSBhdFxuXHRcdFx0IWxvY2FsLmdldChET01BSU5fRElBTE9HX0NMT1NFRCkgJiYgLy8gdGhleSBoYXZlbid0IGFscmVhZHkgZGlzbWlzc2VkIHRoZSBtaXNtYXRjaCBkaWFsb2dcblx0XHRcdCFnZXRDb29raWUoQ09PS0lFUy5DSE9PU0VfRE9NQUlOKSAvLyB0aGV5IGRpZG4ndCBqdXN0IGNvbWUgZnJvbSB0aGUgY2hvb3NlIGRvbWFpbiBwYWdlXG5cdFx0KSB7XG5cdFx0XHRjb25zdCByZWNvbW1lbmRlZERvbWFpbiA9IHBvc3NpYmxlRG9tYWluc1swXTtcblx0XHRcdG9wZW5EaWFsb2coPERvbWFpbk1pc21hdGNoRGlhbG9nIHJlY29tbWVuZGVkRG9tYWluPXtyZWNvbW1lbmRlZERvbWFpbn0gLz4pO1xuXHRcdH1cblx0fSwgW10pO1xuXG5cdHJldHVybiA8PlxuXHRcdDxEaWFsb2dzIC8+XG5cdFx0PEFsZXJ0cyAvPlxuXHRcdDxDbGllbnRSZW5kZXI+XG5cdFx0XHQ8UGFnZVNpZGViYXJzIC8+XG5cdFx0XHQ8Q3VzdG9tZXJCZXRhQmFubmVyIC8+XG5cdFx0PC9DbGllbnRSZW5kZXI+XG5cdFx0e2NoaWxkcmVufVxuXHQ8Lz47XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJvdXRlLCB1c2VMb2NhdGlvbiwgUm91dGVzLCBPdXRsZXQgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IEluZGV4UmVjb3JkQ29udGVudENvbnRleHQgfSBmcm9tICcuLi8uLi9jb250ZXh0L2NvbnRlbnRDb250ZXh0JztcbmltcG9ydCB7IENvbnRlbnRPYmplY3QgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBJbmRleFJlY29yZENvbXB1dGVkVmFsdWVzIH0gZnJvbSAnLi4vLi4vbGliL2NvbnRlbnQvaW5kZXgtcmVjb3Jkcy9pbmRleFJlY29yZENvbXB1dGVkVmFsdWVzJztcbmltcG9ydCB7IFdyYXBwZWRJbmRleFJlY29yZENvbnRlbnQgfSBmcm9tICcuLi8uLi9saWIvY29udGVudC9pbmRleC1yZWNvcmRzL2luZGV4UmVjb3JkQ29udGVudCc7XG5pbXBvcnQgeyB1c2VDb250ZW50Q29udGV4dCB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VDb250ZW50Q29udGV4dCc7XG5pbXBvcnQgeyB0cnlIeWRyYXRlIH0gZnJvbSAnLi4vLi4vbGliL3RyeUh5ZHJhdGUnO1xuaW1wb3J0IHsgSW5kZXhSZWNvcmRDb21tZW50c1RhYiB9IGZyb20gJy4vSW5kZXhSZWNvcmRDb21tZW50c1RhYic7XG5pbXBvcnQgeyBJbmRleFJlY29yZEhlYWRlciB9IGZyb20gJy4vSW5kZXhSZWNvcmRIZWFkZXInO1xuaW1wb3J0IHsgSW5kZXhSZWNvcmRJbmZvVGFiIH0gZnJvbSAnLi9JbmRleFJlY29yZEluZm9UYWInO1xuaW1wb3J0IHsgSW5kZXhSZWNvcmRNZW1vcmlhbHNUYWIgfSBmcm9tICcuL0luZGV4UmVjb3JkTWVtb3JpYWxzVGFiJztcbmltcG9ydCB7IGdldEluZGV4UmVjb3JkUGFnZVRhYlBhdGgsIEluZGV4UmVjb3JkTmF2aWdhdGlvbiB9IGZyb20gJy4vSW5kZXhSZWNvcmROYXZpZ2F0aW9uJztcbmltcG9ydCB7IEluZGV4UmVjb3JkVGl0bGUgfSBmcm9tICcuL0luZGV4UmVjb3JkVGl0bGUnO1xuaW1wb3J0IHsgSW5kZXhSZWNvcmRCcm93c2VUYWIgfSBmcm9tICcuL0luZGV4UmVjb3JkQnJvd3NlVGFiJztcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJhc2VQYWdlIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9CYXNlUGFnZSc7XG5pbXBvcnQgeyB1c2VSZWNlbnRWaWV3cyB9IGZyb20gJy4uLy4uL2xpYi9ob29rcy91c2VSZWNlbnRWaWV3cyc7XG5pbXBvcnQgeyBJbmRleFJlY29yZEFwaSB9IGZyb20gJy4uLy4uL2FwaXMvaW5kZXhSZWNvcmRBcGknO1xuXG5pbnRlcmZhY2UgSW5kZXhSZWNvcmRQYWdlUHJvcHMge1xuXHRjb250ZW50OiBXcmFwcGVkSW5kZXhSZWNvcmRDb250ZW50XG5cdHJlbGF0aW9uczogQ29udGVudE9iamVjdFtdXG59XG5cbmV4cG9ydCBjb25zdCBJbmRleFJlY29yZFBhZ2UgPSAoeyBjb250ZW50LCByZWxhdGlvbnMgfTogSW5kZXhSZWNvcmRQYWdlUHJvcHMpID0+IHtcblx0Y29uc3QgY29udGV4dCA9IHVzZUNvbnRlbnRDb250ZXh0KHtcblx0XHRpbml0aWFsQ29udGVudDogY29udGVudCxcblx0XHRpbml0aWFsUmVsYXRpb25zOiByZWxhdGlvbnMsXG5cdFx0Q29tcHV0ZWRWYWx1ZXNDbGFzczogSW5kZXhSZWNvcmRDb21wdXRlZFZhbHVlcyxcblx0XHRDb250ZW50QXBpOiBJbmRleFJlY29yZEFwaSxcblx0fSk7XG5cblx0Y29uc3QgeyBhZGRSZWNlbnRDb250ZW50VmlldyB9ID0gdXNlUmVjZW50Vmlld3MoKTtcblx0Y29uc3QgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuXHRjb25zdCBvbkJyb3dzZVBhZ2UgPSBsb2NhdGlvbi5wYXRobmFtZSA9PT0gZ2V0SW5kZXhSZWNvcmRQYWdlVGFiUGF0aChjb250ZXh0LmNvbnRlbnQsICdCUk9XU0UnKTtcblxuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdGFkZFJlY2VudENvbnRlbnRWaWV3KGNvbnRlbnQpO1xuXHR9LCBbXSk7XG5cblx0bGV0IGEgPSBjb250ZXh0LmNvbXB1dGVkVmFsdWVzLmdyb3VwZWRFbGVtZW50cy5MSU5LO1xuXG5cdHJldHVybiA8SW5kZXhSZWNvcmRDb250ZW50Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dH0+XG5cdFx0PEJhc2VQYWdlIGNvbnRlbnQ9e2NvbnRlbnR9PlxuXHRcdFx0PFJvdXRlcz5cblx0XHRcdFx0PFJvdXRlXG5cdFx0XHRcdFx0ZWxlbWVudD17XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ncG9zaXRpb24tcmVsYXRpdmUgcHQtMiBwdC1tZC00Jz5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3ctMTAwIHRvcC0wIHN0YXJ0LTAgYmFubmVyIGQtcHJpbnQtbm9uZSBwb3NpdGlvbi1hYnNvbHV0ZSBoLTUwIGJnLWxpZ2h0JyAvPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nIGNvbnRhaW5lci1tZCc+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3JvdyBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJz5cblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb2wtMTIgY29sLW1kLTEwIHBvc2l0aW9uLXJlbGF0aXZlIGJnLXdoaXRlIG14LWF1dG8gbWItMiBib3JkZXInIGlkPSdyZWNvcmQtcGFnZSc+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxJbmRleFJlY29yZEhlYWRlciAvPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8SW5kZXhSZWNvcmRUaXRsZSAvPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8SW5kZXhSZWNvcmROYXZpZ2F0aW9uIC8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdtdC0zJyBpZD17YHRhYnMke29uQnJvd3NlUGFnZSA/ICcgZnVsbC13aWR0aCcgOiAnJ31gfT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8T3V0bGV0IC8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHBhdGg9Jy9yZWNvcmQvOnJlY29yZElkLzpzbHVnLyonXG5cdFx0XHRcdD5cblx0XHRcdFx0XHQ8Um91dGVcblx0XHRcdFx0XHRcdGVsZW1lbnQ9ezxJbmRleFJlY29yZEluZm9UYWIgLz59XG5cdFx0XHRcdFx0XHRpbmRleFxuXHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0PFJvdXRlXG5cdFx0XHRcdFx0XHRlbGVtZW50PXs8SW5kZXhSZWNvcmRNZW1vcmlhbHNUYWIgLz59XG5cdFx0XHRcdFx0XHRwYXRoPSdtZW1vcmlhbHMnXG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHQ8Um91dGVcblx0XHRcdFx0XHRcdGVsZW1lbnQ9ezxJbmRleFJlY29yZENvbW1lbnRzVGFiIC8+fVxuXHRcdFx0XHRcdFx0cGF0aD0nY29tbWVudHMnXG5cdFx0XHRcdFx0Lz5cblx0XHRcdFx0XHQ8Um91dGVcblx0XHRcdFx0XHRcdGVsZW1lbnQ9ezxJbmRleFJlY29yZEJyb3dzZVRhYiAvPn1cblx0XHRcdFx0XHRcdHBhdGg9J2Jyb3dzZSdcblx0XHRcdFx0XHQvPlxuXHRcdFx0XHQ8L1JvdXRlPlxuXHRcdFx0PC9Sb3V0ZXM+XG5cdFx0PC9CYXNlUGFnZT5cblx0PC9JbmRleFJlY29yZENvbnRlbnRDb250ZXh0LlByb3ZpZGVyPjtcbn07XG5cbnRyeUh5ZHJhdGUoSW5kZXhSZWNvcmRQYWdlKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///41858\n")},88503:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  wh: () => (/* binding */ BROWSE_FACET_TYPES),\n  $N: () => (/* binding */ NON_TOKEN_FACETS),\n  xJ: () => (/* binding */ getFacetLabel),\n  VV: () => (/* binding */ getFacetType),\n  bO: () => (/* binding */ getFacetValueLabel),\n  FL: () => (/* binding */ getRelatedFacetType),\n  m9: () => (/* binding */ isFacetType)\n});\n\n// UNUSED EXPORTS: ALL_FACETS, DONT_DISPLAY_FACETS, PREMIUM_FACETS_MAP, PRIORITY_FACETS, filterFacetsByLabel, getChildFacetType, getFacetIcon, getParentFacetType, isChildFacetType, isParentFacetType, matchFacetType\n\n// EXTERNAL MODULE: ./node_modules/tslib/tslib.es6.js\nvar tslib_es6 = __webpack_require__(70655);\n;// CONCATENATED MODULE: ./src/ts/mappings/facet-labels.json\nconst facet_labels_namespaceObject = JSON.parse(\'{"general.doc-title":{"label":"Document Title"},"general.title.id":{"label":"Publication Name"},"general.title.browse.1":{"label":"1"},"general.title.browse.2":{"label":"2"},"general.title.browse.3":{"label":"3"},"general.title.browse.4":{"label":"4"},"general.title.browse.5":{"label":"5"},"general.title.browse.6":{"label":"6"},"general.title.browse":{"label":"Browse"},"general.title.provider.id":{"label":"Content Provider Name"},"general.title.provider.language":{"label":"Content Provider Language"},"general.title.provider":{"label":"Content Provider"},"general.title.silo":{"label":"Silo"},"general.title.content.language":{"label":"Publication Language"},"general.title.content.collection":{"label":"Title Collection"},"general.title.content.doc-type":{"label":"Record Type"},"general.title.content.type":{"label":"Publication Type"},"general.title.content.sub-type":{"label":"Record Sub Type"},"general.title.content":{"label":"Publication"},"general.title":{"label":"Publication Information"},"general.contributor":{"label":"Contributor"},"general.custom":{"label":"Custom"},"general.race":{"label":"Race/Ethnicity"},"general.death.cause":{"label":"Cause of Death"},"general.death":{"label":"Death"},"general.owner":{"label":"Owner"},"general.parent":{"label":"Parent"},"general.gender":{"label":"Gender"},"general":{"label":"General Non-Military"},"military.service-number":{"label":"Service Number"},"military.service.ship":{"label":"Ship/Station"},"military.service.branch":{"label":"Branch"},"military.service":{"label":"Military Entity"},"military.conflict":{"label":"Conflict/War"},"military.enlistment":{"label":"Enlistment"},"military.grade":{"label":"Grade"},"military.casualty.type":{"label":"Casualty Type"},"military.casualty.cause":{"label":"Casualty Cause"},"military.casualty":{"label":"Casualty"},"military.discharge":{"label":"Discharge"},"military.award":{"label":"Award"},"military.rank.enlistment":{"label":"Rank at Enlistment"},"military.rank.discharge":{"label":"Rank at Discharge"},"military.rank":{"label":"Rank"},"military":{"label":"General Military"},"place.title.provider":{"label":"Content Provider Place"},"place.title.content":{"label":"Publication Place"},"place.title":{"label":"Title Place"},"place.residence":{"label":"Residence Place"},"place.military.battle":{"shortLabel":"Battle","label":"Battle Place"},"place.military.award":{"shortLabel":"Award","label":"Award Place"},"place.military.served-for":{"label":"Served For"},"place.military.discharge":{"shortLabel":"Discharge","label":"Discharge Place"},"place.military.muster":{"shortLabel":"Muster","label":"Muster Place"},"place.military.casualty":{"shortLabel":"Casualty","label":"Casualty Place"},"place.military.theater":{"label":"Theater"},"place.military.pow":{"shortLabel":"Prisoner of War","label":"Prisoner of War Place"},"place.military.service":{"shortLabel":"Service","label":"Military Service Place"},"place.military.enlistment":{"shortLabel":"Enlistment","label":"Enlistment Place"},"place.military":{"shortLabel":"Military","label":"Military Event Place"},"place.vital.birth":{"shortLabel":"Birth","label":"Birth Place"},"place.vital.death.burial":{"shortLabel":"Burial","label":"Burial Place"},"place.vital.death":{"shortLabel":"Death","label":"Death Place"},"place.vital.marriage":{"shortLabel":"Marriage","label":"Marriage Place"},"place.vital":{"shortLabel":"Vital","label":"Vital Event Place"},"place":{"label":"Place"},"date.military.muster":{"shortLabel":"Muster","label":"Muster Date"},"date.military.pow":{"shortLabel":"Prisoner of War","label":"Prisoner of War Date"},"date.military.award":{"shortLabel":"Award","label":"Award Date"},"date.military.enlistment":{"shortLabel":"Enlistment","label":"Enlistment Date"},"date.military.casualty":{"shortLabel":"Casualty","label":"Casualty Date"},"date.military.discharge":{"shortLabel":"Discharge","label":"Discharge Date"},"date.military.service.end":{"shortLabel":"Service End","label":"Military Service End Date"},"date.military.service.start":{"shortLabel":"Service Start","label":"Military Service Start Date"},"date.military.service":{"shortLabel":"Service","label":"Military Service Date"},"date.military.battle":{"shortLabel":"Battle","label":"Battle Date"},"date.military":{"shortLabel":"Military","label":"Military Event Date"},"date.vital.marriage":{"shortLabel":"Marriage","label":"Marriage Date"},"date.vital.death.burial":{"shortLabel":"Burial","label":"Burial Date"},"date.vital.death":{"shortLabel":"Death","label":"Death Date"},"date.vital.birth":{"shortLabel":"Birth","label":"Birth Date"},"date.vital":{"shortLabel":"Vital","label":"Vital Event Date"},"date.residence":{"label":"Residence Date"},"date":{"label":"Date"},"full-name":{"label":"Name"}}\');\n;// CONCATENATED MODULE: ./src/ts/mappings/ui-facet-types.json\nconst ui_facet_types_namespaceObject = JSON.parse(\'[{"name":"full-name","label":"Name","dataType":"full-name","hidden":false,"untyped":false,"token":false,"analyzed":true,"memorialPageTypes":[]},{"name":"date","label":"Date","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"children":[{"name":"date.residence","label":"Residence Date","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"date.vital","label":"Vital Event Date","shortLabel":"Vital","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"children":[{"name":"date.vital.birth","label":"Birth Date","shortLabel":"Birth","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"date.vital.death","label":"Death Date","shortLabel":"Death","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"children":[{"name":"date.vital.death.burial","label":"Burial Date","shortLabel":"Burial","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"memorialPageTypes":["PERSON","SERVICEPERSON"]}],"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"date.vital.marriage","label":"Marriage Date","shortLabel":"Marriage","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"memorialPageTypes":["PERSON","SERVICEPERSON"]}],"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"date.military","label":"Military Event Date","shortLabel":"Military","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"children":[{"name":"date.military.battle","label":"Battle Date","shortLabel":"Battle","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"memorialPageTypes":[]},{"name":"date.military.service","label":"Military Service Date","shortLabel":"Service","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"children":[{"name":"date.military.service.start","label":"Military Service Start Date","shortLabel":"Service Start","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"date.military.service.end","label":"Military Service End Date","shortLabel":"Service End","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"memorialPageTypes":["PERSON","SERVICEPERSON"]}],"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"date.military.discharge","label":"Discharge Date","shortLabel":"Discharge","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"date.military.casualty","label":"Casualty Date","shortLabel":"Casualty","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"date.military.enlistment","label":"Enlistment Date","shortLabel":"Enlistment","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"date.military.award","label":"Award Date","shortLabel":"Award","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"memorialPageTypes":[]},{"name":"date.military.pow","label":"Prisoner of War Date","shortLabel":"Prisoner of War","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"date.military.muster","label":"Muster Date","shortLabel":"Muster","dataType":"date","hidden":false,"untyped":false,"token":false,"analyzed":false,"memorialPageTypes":["PERSON","SERVICEPERSON"]}],"memorialPageTypes":[]}],"memorialPageTypes":[]},{"name":"place","label":"Place","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"children":[{"name":"place.vital","label":"Vital Event Place","shortLabel":"Vital","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"children":[{"name":"place.vital.marriage","label":"Marriage Place","shortLabel":"Marriage","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"place.vital.death","label":"Death Place","shortLabel":"Death","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"children":[{"name":"place.vital.death.burial","label":"Burial Place","shortLabel":"Burial","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"memorialPageTypes":["PERSON","SERVICEPERSON"]}],"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"place.vital.birth","label":"Birth Place","shortLabel":"Birth","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"memorialPageTypes":["PERSON","SERVICEPERSON"]}],"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"place.military","label":"Military Event Place","shortLabel":"Military","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"children":[{"name":"place.military.enlistment","label":"Enlistment Place","shortLabel":"Enlistment","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"place.military.service","label":"Military Service Place","shortLabel":"Service","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"place.military.pow","label":"Prisoner of War Place","shortLabel":"Prisoner of War","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"place.military.theater","label":"Theater","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"memorialPageTypes":[]},{"name":"place.military.casualty","label":"Casualty Place","shortLabel":"Casualty","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"place.military.muster","label":"Muster Place","shortLabel":"Muster","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"place.military.discharge","label":"Discharge Place","shortLabel":"Discharge","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"memorialPageTypes":["PERSON","SERVICEPERSON"]},{"name":"place.military.served-for","label":"Served For","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"memorialPageTypes":[]},{"name":"place.military.award","label":"Award Place","shortLabel":"Award","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"memorialPageTypes":[]},{"name":"place.military.battle","label":"Battle Place","shortLabel":"Battle","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"memorialPageTypes":[]}],"memorialPageTypes":[]},{"name":"place.residence","label":"Residence Place","dataType":"place","hidden":false,"untyped":false,"token":true,"analyzed":true,"memorialPageTypes":["PERSON","SERVICEPERSON"]}],"memorialPageTypes":[]},{"label":"Publication","children":[{"label":"Publication Name","dataType":"pub-id","name":"general.title.id","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Content Provider","children":[{"label":"Content Provider Name","dataType":"provider-id","name":"general.title.provider.id","hidden":false,"untyped":false,"token":true,"analyzed":false},{"label":"Content Provider Language","dataType":"language","name":"general.title.provider.language","hidden":false,"untyped":false,"token":true,"analyzed":false},{"label":"Content Provider Place","dataType":"date","name":"place.title.provider","hidden":false,"untyped":false,"token":true,"analyzed":true}]},{"label":"Publication Language","dataType":"language","name":"general.title.content.language","hidden":false,"untyped":false,"token":true,"analyzed":false},{"label":"Title Collection","dataType":"collection","name":"general.title.content.collection","hidden":false,"untyped":false,"token":true,"analyzed":false},{"label":"Record Type","dataType":"doc-type","name":"general.title.content.doc-type","hidden":false,"untyped":false,"token":true,"analyzed":false},{"label":"Publication Type","dataType":"content-type","name":"general.title.content.type","hidden":false,"untyped":false,"token":true,"analyzed":false},{"label":"Record Sub Type","dataType":"sub-type","name":"general.title.content.sub-type","hidden":true,"untyped":false,"token":true,"analyzed":false},{"label":"Publication Place","dataType":"date","name":"place.title.content","hidden":false,"untyped":false,"token":true,"analyzed":true}]},{"label":"Person","children":[{"label":"Race/Ethnicity","dataType":"string","name":"general.race","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Gender","dataType":"string","name":"general.gender","hidden":false,"untyped":false,"token":true,"analyzed":true}]},{"label":"Death","children":[{"label":"Cause of Death","dataType":"string","name":"general.death.cause","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Death","dataType":"string","name":"general.death","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Death Place","dataType":"place","name":"place.vital.death","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Death Date","dataType":"date","name":"date.vital.death","hidden":false,"untyped":false,"token":false,"analyzed":false}]},{"label":"Military","children":[{"label":"Service Number","dataType":"string","name":"military.service-number","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Service","children":[{"label":"Branch","dataType":"string","name":"military.service.branch","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Military Entity","dataType":"string","name":"military.service","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Military Service Place","dataType":"place","name":"place.military.service","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Military Service End Date","dataType":"date","name":"date.military.service.end","hidden":false,"untyped":false,"token":false,"analyzed":false},{"label":"Military Service Start Date","dataType":"date","name":"date.military.service.start","hidden":false,"untyped":false,"token":false,"analyzed":false},{"label":"Military Service Date","dataType":"date","name":"date.military.service","hidden":false,"untyped":false,"token":false,"analyzed":false}]},{"label":"Conflict/War","dataType":"conflict","name":"military.conflict","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Enlistment","children":[{"label":"Enlistment","dataType":"string","name":"military.enlistment","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Enlistment Place","dataType":"place","name":"place.military.enlistment","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Enlistment Date","dataType":"date","name":"date.military.enlistment","hidden":false,"untyped":false,"token":false,"analyzed":false}]},{"label":"Grade","dataType":"string","name":"military.grade","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Casualty","children":[{"label":"Casualty Type","dataType":"string","name":"military.casualty.type","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Casualty Cause","dataType":"string","name":"military.casualty.cause","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Casualty","dataType":"string","name":"military.casualty","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Casualty Place","dataType":"place","name":"place.military.casualty","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Casualty Date","dataType":"date","name":"date.military.casualty","hidden":false,"untyped":false,"token":false,"analyzed":false}]},{"label":"Discharge","children":[{"label":"Discharge","dataType":"string","name":"military.discharge","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Discharge Place","dataType":"place","name":"place.military.discharge","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Discharge Date","dataType":"date","name":"date.military.discharge","hidden":false,"untyped":false,"token":false,"analyzed":false}]},{"label":"Award","children":[{"label":"Award","dataType":"string","name":"military.award","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Award Place","dataType":"place","name":"place.military.award","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Award Date","dataType":"date","name":"date.military.award","hidden":false,"untyped":false,"token":false,"analyzed":false}]},{"label":"Rank","children":[{"label":"Rank at Enlistment","dataType":"string","name":"military.rank.enlistment","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Rank at Discharge","dataType":"string","name":"military.rank.discharge","hidden":false,"untyped":false,"token":true,"analyzed":true}]},{"label":"Rank","dataType":"string","name":"military.rank","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Battle","children":[{"label":"Battle Place","dataType":"place","name":"place.military.battle","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Battle Date","dataType":"date","name":"date.military.battle","hidden":false,"untyped":false,"token":false,"analyzed":false}]},{"label":"Muster","children":[{"label":"Muster Place","dataType":"place","name":"place.military.muster","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Muster Date","dataType":"date","name":"date.military.muster","hidden":false,"untyped":false,"token":false,"analyzed":false}]},{"label":"Prisoner of War","children":[{"label":"Prisoner of War Place","dataType":"place","name":"place.military.pow","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Prisoner of War Date","dataType":"date","name":"date.military.pow","hidden":false,"untyped":false,"token":false,"analyzed":false}]}]},{"label":"Birth","children":[{"label":"Birth Place","dataType":"place","name":"place.vital.birth","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Birth Date","dataType":"date","name":"date.vital.birth","hidden":false,"untyped":false,"token":false,"analyzed":false}]},{"label":"Burial","children":[{"label":"Burial Place","dataType":"place","name":"place.vital.death.burial","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Burial Date","dataType":"date","name":"date.vital.death.burial","hidden":false,"untyped":false,"token":false,"analyzed":false}]},{"label":"Marriage","children":[{"label":"Marriage Place","dataType":"place","name":"place.vital.marriage","hidden":false,"untyped":false,"token":true,"analyzed":true},{"label":"Marriage Date","dataType":"date","name":"date.vital.marriage","hidden":false,"untyped":false,"token":false,"analyzed":false}]}]\');\n// EXTERNAL MODULE: ./src/ts/shared/lib/ObjectUtils.ts\nvar ObjectUtils = __webpack_require__(7032);\n// EXTERNAL MODULE: ./src/ts/shared/lib/content/contentObject.ts + 2 modules\nvar contentObject = __webpack_require__(31042);\n// EXTERNAL MODULE: ./src/ts/shared/lib/templating.ts\nvar templating = __webpack_require__(21012);\n;// CONCATENATED MODULE: ./src/ts/shared/pages/search/facetTypes.ts\n\n\n\n\n\n\n\nvar FIELD_TYPES = ui_facet_types_namespaceObject;\nvar FREE_FACETS = [\n    \'military.conflict\',\n    \'general.title.content.collection\',\n    \'general.title.id\',\n    \'general.title.content.type\',\n    \'general.title.content.doc-type\',\n    \'general.title.content.language\',\n    \'general.title.provider.id\',\n];\n/* The ordering here is important. It affects how they will display in search/browse. */\nvar PRIORITY_FACETS = [\n    \'place\',\n    \'military.conflict\',\n    \'general.title.content.collection\',\n    \'military.service.branch\',\n    \'general.title.id\',\n    \'general.title.content.type\',\n    \'general.title.content.doc-type\',\n    \'general.title.content.sub-type\',\n    \'general.title.provider.id\',\n];\nvar BROWSE_FACET_TYPES = [\n    \'general.title.id\',\n    \'general.title.browse.1\',\n    \'general.title.browse.2\',\n    \'general.title.browse.3\',\n    \'general.title.browse.4\',\n    \'general.title.browse.5\',\n    \'general.title.browse.6\',\n    \'general.title.browse.7\',\n];\nvar NON_TOKEN_FACETS = getFilteredFacets(function (fieldType) {\n    if (!fieldType.name)\n        return false;\n    return !fieldType.token;\n})\n    .map(function (fieldType) { return fieldType.name; });\nvar DONT_DISPLAY_FACETS = [\n    \'general.owner\',\n    \'general.title.provider.language\',\n    \'military.service-number\',\n    \'general.title.content.sub-type\',\n];\n/* The key is the parent. The value is the child */\nvar PARENT_FACET_TYPES = {\n    \'general.title.content.doc-type\': \'general.title.content.sub-type\',\n};\nvar CHILD_FACET_TYPES = (0,ObjectUtils/* reverseObj */.hS)(PARENT_FACET_TYPES);\nvar PREMIUM_FACETS = createRemainingList(FREE_FACETS);\nvar OTHER_FACETS = createRemainingList(PRIORITY_FACETS.concat(DONT_DISPLAY_FACETS));\nvar ALL_FACETS = PRIORITY_FACETS.concat(OTHER_FACETS);\nvar PREMIUM_FACETS_MAP = PREMIUM_FACETS.reduce(function (finalObj, type) {\n    finalObj[type] = true;\n    return finalObj;\n}, {});\nfunction createRemainingList(dontInclude) {\n    var facetTypes = getFilteredFacets(function (facet) {\n        if (facet.hidden || facet.name && /date|place|full-name/.test(facet.name)) {\n            return false;\n        }\n        return !dontInclude.includes(facet.name);\n    })\n        .filter(function (facet) { return !!facet.name; })\n        .map(function (facet) { return facet.name; });\n    return Array.from(new Set(facetTypes));\n}\nvar isParentFacetType = function (facetType) { return facetType in PARENT_FACET_TYPES; };\nvar isChildFacetType = function (facetType) { return facetType in CHILD_FACET_TYPES; };\nvar getChildFacetType = function (facetType) { return PARENT_FACET_TYPES[facetType]; };\nvar getParentFacetType = function (facetType) { return CHILD_FACET_TYPES[facetType]; };\nvar getRelatedFacetType = function (facetType) { return getParentFacetType(facetType) || getChildFacetType(facetType); };\nfunction getFacetType(facetType) {\n    var found;\n    traverseFieldTypes(FIELD_TYPES, function (fieldType) {\n        if (fieldType.name === facetType) {\n            found = fieldType;\n            return true;\n        }\n    });\n    return found;\n}\nfunction isFacetType(facetType) {\n    return !!getFacetType(facetType);\n}\nfunction getFacetLabel(facetType, short) {\n    if (short === void 0) { short = false; }\n    var labels = facet_labels_namespaceObject[facetType];\n    switch (facetType) {\n        case \'date\':\n        case \'place\':\n            return short ? \'\' : labels.label;\n        case \'general\':\n            return \'\';\n        case \'general.transcription\':\n            return \'Transcription\';\n        default:\n            var label = void 0;\n            if (labels) {\n                if (short) {\n                    label = labels.shortLabel || labels.label;\n                }\n                else {\n                    label = labels.label;\n                }\n            }\n            else {\n                label = facetType;\n            }\n            return label;\n    }\n}\nfunction getFacetIcon(facetType) {\n    if (facetType === void 0) { facetType = \'\'; }\n    if (facetType.startsWith(\'general.title\'))\n        return \'icon-books\';\n    if (facetType.startsWith(\'date\'))\n        return \'icon-calendar\';\n    if (facetType.startsWith(\'full-name\'))\n        return \'icon-mem-person\';\n    if (facetType.startsWith(\'military\'))\n        return \'icon-swords\';\n    if (facetType.startsWith(\'place\'))\n        return \'icon-mem-pin\';\n    return \'icon-search\';\n}\nfunction getFacetValueLabel(facetType, value) {\n    switch (facetType) {\n        case \'general.title.content.sub-type\':\n        case \'general.title.content.doc-type\':\n            return (0,contentObject/* getContentTypeLabel */.iN)(value);\n        case \'general.title.content.type\':\n            return (0,templating/* strToLabel */.JC)(value);\n        default: return value;\n    }\n}\nfunction matchFacetType(query, max) {\n    if (max === void 0) { max = 10; }\n    return getFilteredFacets(function (fieldType) {\n        return matchTokenStartsWith(fieldType.name, query) || matchTokenStartsWith(fieldType.label, query);\n    }).slice(0, max);\n}\nfunction filterFacetsByLabel(filter) {\n    var usedFacetTypes = [];\n    return getFilteredFacets(function (fieldType) {\n        if (!fieldType.name)\n            return false;\n        if (fieldType.hidden)\n            return false;\n        if (usedFacetTypes.includes(fieldType.name))\n            return false;\n        if (matchTokenStartsWith(fieldType.label, filter)) {\n            usedFacetTypes.push(fieldType.name);\n            return true;\n        }\n    });\n}\nfunction getFilteredFacets(filterFn) {\n    var filtered = [];\n    traverseFieldTypes(FIELD_TYPES, function (fieldType) {\n        if (filterFn(fieldType)) {\n            filtered.push(fieldType);\n        }\n    });\n    return filtered;\n}\nfunction traverseFieldTypes(items, cb) {\n    var e_1, _a;\n    try {\n        for (var items_1 = (0,tslib_es6/* __values */.XA)(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n            var item = items_1_1.value;\n            var done = cb(item);\n            if (done)\n                return true;\n            if (item.children) {\n                var done_1 = traverseFieldTypes(item.children, cb);\n                if (done_1)\n                    return true;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return false;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODg1MDMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7OztBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7Ozs7Ozs7OztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mb2xkMy1mcm9udGVuZC8uL3NyYy90cy9zaGFyZWQvcGFnZXMvc2VhcmNoL2ZhY2V0VHlwZXMudHM/NzM5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250ZW50VHlwZSwgRmFjZXRUeXBlLCBGaWVsZFR5cGUgfSBmcm9tICcuLi8uLi9kdG8vZjMtaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBtYXRjaFRva2VuU3RhcnRzV2l0aCB9IGZyb20gJy4uLy4uL2xpYi9tYXRjaEZ1bmN0aW9ucyc7XG5cbmltcG9ydCBmYWNldExhYmVscyBmcm9tICcuLi8uLi8uLi9tYXBwaW5ncy9mYWNldC1sYWJlbHMuanNvbic7XG5pbXBvcnQgX2ZhY2V0VHlwZXMgZnJvbSAnLi4vLi4vLi4vbWFwcGluZ3MvdWktZmFjZXQtdHlwZXMuanNvbic7XG5pbXBvcnQgeyBPYmogfSBmcm9tICcuLi8uLi9kdG8vZjMtdHlwZXMnO1xuaW1wb3J0IHsgcmV2ZXJzZU9iaiB9IGZyb20gJy4uLy4uL2xpYi9PYmplY3RVdGlscyc7XG5pbXBvcnQgeyBnZXRDb250ZW50VHlwZUxhYmVsIH0gZnJvbSAnLi4vLi4vbGliL2NvbnRlbnQvY29udGVudE9iamVjdCc7XG5pbXBvcnQgeyBzdHJUb0xhYmVsIH0gZnJvbSAnLi4vLi4vbGliL3RlbXBsYXRpbmcnO1xuXG5leHBvcnQgdHlwZSBCcm93c2VDb2x1bW5GYWNldFR5cGUgPSBGYWNldFR5cGUgJiAoJ2dlbmVyYWwudGl0bGUuaWQnIHwgJ2dlbmVyYWwudGl0bGUuYnJvd3NlLjEnIHwgJ2dlbmVyYWwudGl0bGUuYnJvd3NlLjInIHwgJ2dlbmVyYWwudGl0bGUuYnJvd3NlLjMnIHwgJ2dlbmVyYWwudGl0bGUuYnJvd3NlLjQnIHwgJ2dlbmVyYWwudGl0bGUuYnJvd3NlLjUnIHwgJ2dlbmVyYWwudGl0bGUuYnJvd3NlLjYnKTtcbnR5cGUgRmFjZXRUeXBlTWFwID0geyBbdHlwZSBpbiBGYWNldFR5cGVdPzogdHJ1ZSB9O1xuXG5jb25zdCBGSUVMRF9UWVBFUzogRmllbGRUeXBlW10gPSBfZmFjZXRUeXBlcyBhcyBGaWVsZFR5cGVbXTtcblxuY29uc3QgRlJFRV9GQUNFVFM6IEZhY2V0VHlwZVtdID0gW1xuXHQnbWlsaXRhcnkuY29uZmxpY3QnLFxuXHQnZ2VuZXJhbC50aXRsZS5jb250ZW50LmNvbGxlY3Rpb24nLFxuXHQnZ2VuZXJhbC50aXRsZS5pZCcsXG5cdCdnZW5lcmFsLnRpdGxlLmNvbnRlbnQudHlwZScsXG5cdCdnZW5lcmFsLnRpdGxlLmNvbnRlbnQuZG9jLXR5cGUnLFxuXHQnZ2VuZXJhbC50aXRsZS5jb250ZW50Lmxhbmd1YWdlJyxcblx0J2dlbmVyYWwudGl0bGUucHJvdmlkZXIuaWQnLFxuXTtcblxuLyogVGhlIG9yZGVyaW5nIGhlcmUgaXMgaW1wb3J0YW50LiBJdCBhZmZlY3RzIGhvdyB0aGV5IHdpbGwgZGlzcGxheSBpbiBzZWFyY2gvYnJvd3NlLiAqL1xuZXhwb3J0IGNvbnN0IFBSSU9SSVRZX0ZBQ0VUUzogRmFjZXRUeXBlW10gPSBbXG5cdCdwbGFjZScsXG5cdCdtaWxpdGFyeS5jb25mbGljdCcsXG5cdCdnZW5lcmFsLnRpdGxlLmNvbnRlbnQuY29sbGVjdGlvbicsXG5cdCdtaWxpdGFyeS5zZXJ2aWNlLmJyYW5jaCcsXG5cdCdnZW5lcmFsLnRpdGxlLmlkJyxcblx0J2dlbmVyYWwudGl0bGUuY29udGVudC50eXBlJyxcblx0J2dlbmVyYWwudGl0bGUuY29udGVudC5kb2MtdHlwZScsXG5cdCdnZW5lcmFsLnRpdGxlLmNvbnRlbnQuc3ViLXR5cGUnLFxuXHQnZ2VuZXJhbC50aXRsZS5wcm92aWRlci5pZCcsXG5dO1xuXG5leHBvcnQgY29uc3QgQlJPV1NFX0ZBQ0VUX1RZUEVTOiBCcm93c2VDb2x1bW5GYWNldFR5cGVbXSA9IFtcblx0J2dlbmVyYWwudGl0bGUuaWQnLFxuXHQnZ2VuZXJhbC50aXRsZS5icm93c2UuMScsXG5cdCdnZW5lcmFsLnRpdGxlLmJyb3dzZS4yJyxcblx0J2dlbmVyYWwudGl0bGUuYnJvd3NlLjMnLFxuXHQnZ2VuZXJhbC50aXRsZS5icm93c2UuNCcsXG5cdCdnZW5lcmFsLnRpdGxlLmJyb3dzZS41Jyxcblx0J2dlbmVyYWwudGl0bGUuYnJvd3NlLjYnLFxuXHQnZ2VuZXJhbC50aXRsZS5icm93c2UuNycgYXMgQnJvd3NlQ29sdW1uRmFjZXRUeXBlLCAvLyBUaGlzIGlzIG5vdCBhIHJlYWwgZmFjZXQgdHlwZS4gQWRkaW5nIGl0IGhlcmUgc28gdGhhdCBwbGFjZXMgdGhhdCB1c2UgYWxsIDYgYnJvd3NlIGxldmVscyBjYW4gaGF2ZSBhIFwibmV4dFwiIGZhY2V0IHR5cGVcbl07XG5cbmV4cG9ydCBjb25zdCBOT05fVE9LRU5fRkFDRVRTID0gZ2V0RmlsdGVyZWRGYWNldHMoZmllbGRUeXBlID0+IHtcblx0aWYgKCFmaWVsZFR5cGUubmFtZSkgcmV0dXJuIGZhbHNlO1xuXHRyZXR1cm4gIWZpZWxkVHlwZS50b2tlbjtcbn0pXG5cdC5tYXAoZmllbGRUeXBlID0+IGZpZWxkVHlwZS5uYW1lKTtcblxuZXhwb3J0IGNvbnN0IERPTlRfRElTUExBWV9GQUNFVFM6IEZhY2V0VHlwZVtdID0gW1xuXHQnZ2VuZXJhbC5vd25lcicsXG5cdCdnZW5lcmFsLnRpdGxlLnByb3ZpZGVyLmxhbmd1YWdlJyxcblx0J21pbGl0YXJ5LnNlcnZpY2UtbnVtYmVyJyxcblx0J2dlbmVyYWwudGl0bGUuY29udGVudC5zdWItdHlwZScsXG5dO1xuXG4vKiBUaGUga2V5IGlzIHRoZSBwYXJlbnQuIFRoZSB2YWx1ZSBpcyB0aGUgY2hpbGQgKi9cbmNvbnN0IFBBUkVOVF9GQUNFVF9UWVBFUzogT2JqPEZhY2V0VHlwZSwgRmFjZXRUeXBlPiA9IHtcblx0J2dlbmVyYWwudGl0bGUuY29udGVudC5kb2MtdHlwZSc6ICdnZW5lcmFsLnRpdGxlLmNvbnRlbnQuc3ViLXR5cGUnLFxufTtcbmNvbnN0IENISUxEX0ZBQ0VUX1RZUEVTOiBPYmo8RmFjZXRUeXBlLCBGYWNldFR5cGU+ID0gcmV2ZXJzZU9iaihQQVJFTlRfRkFDRVRfVFlQRVMpO1xuY29uc3QgUFJFTUlVTV9GQUNFVFMgPSBjcmVhdGVSZW1haW5pbmdMaXN0KEZSRUVfRkFDRVRTKTtcbmNvbnN0IE9USEVSX0ZBQ0VUUyA9IGNyZWF0ZVJlbWFpbmluZ0xpc3QoUFJJT1JJVFlfRkFDRVRTLmNvbmNhdChET05UX0RJU1BMQVlfRkFDRVRTKSk7XG5leHBvcnQgY29uc3QgQUxMX0ZBQ0VUUyA9IFBSSU9SSVRZX0ZBQ0VUUy5jb25jYXQoT1RIRVJfRkFDRVRTKTtcbmV4cG9ydCBjb25zdCBQUkVNSVVNX0ZBQ0VUU19NQVA6IEZhY2V0VHlwZU1hcCA9IFBSRU1JVU1fRkFDRVRTLnJlZHVjZSgoZmluYWxPYmosIHR5cGUpID0+IHtcblx0ZmluYWxPYmpbdHlwZV0gPSB0cnVlO1xuXHRyZXR1cm4gZmluYWxPYmo7XG59LCB7fSBhcyBPYmo8c3RyaW5nLCBib29sZWFuPik7XG5cbmZ1bmN0aW9uIGNyZWF0ZVJlbWFpbmluZ0xpc3QoZG9udEluY2x1ZGU6IEZhY2V0VHlwZVtdKSB7XG5cdGxldCBmYWNldFR5cGVzID0gZ2V0RmlsdGVyZWRGYWNldHMoZmFjZXQgPT4ge1xuXHRcdGlmIChmYWNldC5oaWRkZW4gfHwgZmFjZXQubmFtZSAmJiAvZGF0ZXxwbGFjZXxmdWxsLW5hbWUvLnRlc3QoZmFjZXQubmFtZSkpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuICFkb250SW5jbHVkZS5pbmNsdWRlcyhmYWNldC5uYW1lIGFzIEZhY2V0VHlwZSk7XG5cdH0pXG5cdFx0LmZpbHRlcihmYWNldCA9PiAhIWZhY2V0Lm5hbWUpXG5cdFx0Lm1hcChmYWNldCA9PiBmYWNldC5uYW1lIGFzIEZhY2V0VHlwZSk7XG5cblx0cmV0dXJuIEFycmF5LmZyb20obmV3IFNldChmYWNldFR5cGVzKSk7XG59XG5cbmV4cG9ydCBjb25zdCBpc1BhcmVudEZhY2V0VHlwZSA9IChmYWNldFR5cGU6IEZhY2V0VHlwZSkgPT4gZmFjZXRUeXBlIGluIFBBUkVOVF9GQUNFVF9UWVBFUztcbmV4cG9ydCBjb25zdCBpc0NoaWxkRmFjZXRUeXBlID0gKGZhY2V0VHlwZTogRmFjZXRUeXBlKSA9PiBmYWNldFR5cGUgaW4gQ0hJTERfRkFDRVRfVFlQRVM7XG5leHBvcnQgY29uc3QgZ2V0Q2hpbGRGYWNldFR5cGUgPSAoZmFjZXRUeXBlOiBGYWNldFR5cGUpID0+IFBBUkVOVF9GQUNFVF9UWVBFU1tmYWNldFR5cGVdO1xuZXhwb3J0IGNvbnN0IGdldFBhcmVudEZhY2V0VHlwZSA9IChmYWNldFR5cGU6IEZhY2V0VHlwZSkgPT4gQ0hJTERfRkFDRVRfVFlQRVNbZmFjZXRUeXBlXTtcbmV4cG9ydCBjb25zdCBnZXRSZWxhdGVkRmFjZXRUeXBlID0gKGZhY2V0VHlwZTogRmFjZXRUeXBlKSA9PiBnZXRQYXJlbnRGYWNldFR5cGUoZmFjZXRUeXBlKSB8fCBnZXRDaGlsZEZhY2V0VHlwZShmYWNldFR5cGUpO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmFjZXRUeXBlKGZhY2V0VHlwZTogRmFjZXRUeXBlKTogRmllbGRUeXBlIHtcblx0bGV0IGZvdW5kOiBGaWVsZFR5cGU7XG5cblx0dHJhdmVyc2VGaWVsZFR5cGVzKEZJRUxEX1RZUEVTLCBmaWVsZFR5cGUgPT4ge1xuXHRcdGlmIChmaWVsZFR5cGUubmFtZSA9PT0gZmFjZXRUeXBlKSB7XG5cdFx0XHRmb3VuZCA9IGZpZWxkVHlwZTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fSk7XG5cblx0cmV0dXJuIGZvdW5kO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGYWNldFR5cGUoZmFjZXRUeXBlOiBzdHJpbmcpOiBmYWNldFR5cGUgaXMgRmFjZXRUeXBlIHtcblx0cmV0dXJuICEhZ2V0RmFjZXRUeXBlKGZhY2V0VHlwZSBhcyBGYWNldFR5cGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmFjZXRMYWJlbChmYWNldFR5cGU6IEZhY2V0VHlwZSwgc2hvcnQ6IGJvb2xlYW4gPSBmYWxzZSk6IHN0cmluZyB7XG5cdGxldCBsYWJlbHMgPSAoZmFjZXRMYWJlbHMgYXMgYW55KVtmYWNldFR5cGVdO1xuXG5cdHN3aXRjaCAoZmFjZXRUeXBlKSB7XG5cdFx0Y2FzZSAnZGF0ZSc6XG5cdFx0Y2FzZSAncGxhY2UnOlxuXHRcdFx0cmV0dXJuIHNob3J0ID8gJycgOiBsYWJlbHMubGFiZWw7XG5cdFx0Y2FzZSAnZ2VuZXJhbCc6XG5cdFx0XHRyZXR1cm4gJyc7XG5cdFx0Y2FzZSAnZ2VuZXJhbC50cmFuc2NyaXB0aW9uJzpcblx0XHRcdHJldHVybiAnVHJhbnNjcmlwdGlvbic7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdGxldCBsYWJlbDtcblx0XHRcdGlmIChsYWJlbHMpIHtcblx0XHRcdFx0aWYgKHNob3J0KSB7XG5cdFx0XHRcdFx0bGFiZWwgPSBsYWJlbHMuc2hvcnRMYWJlbCB8fCBsYWJlbHMubGFiZWw7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bGFiZWwgPSBsYWJlbHMubGFiZWw7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxhYmVsID0gZmFjZXRUeXBlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGxhYmVsO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGYWNldEljb24oZmFjZXRUeXBlOiBGYWNldFR5cGUgPSAoJycgYXMgRmFjZXRUeXBlKSk6IHN0cmluZyB7XG5cdGlmIChmYWNldFR5cGUuc3RhcnRzV2l0aCgnZ2VuZXJhbC50aXRsZScpKSByZXR1cm4gJ2ljb24tYm9va3MnO1xuXHRpZiAoZmFjZXRUeXBlLnN0YXJ0c1dpdGgoJ2RhdGUnKSkgcmV0dXJuICdpY29uLWNhbGVuZGFyJztcblx0aWYgKGZhY2V0VHlwZS5zdGFydHNXaXRoKCdmdWxsLW5hbWUnKSkgcmV0dXJuICdpY29uLW1lbS1wZXJzb24nO1xuXHRpZiAoZmFjZXRUeXBlLnN0YXJ0c1dpdGgoJ21pbGl0YXJ5JykpIHJldHVybiAnaWNvbi1zd29yZHMnO1xuXHRpZiAoZmFjZXRUeXBlLnN0YXJ0c1dpdGgoJ3BsYWNlJykpIHJldHVybiAnaWNvbi1tZW0tcGluJztcblx0cmV0dXJuICdpY29uLXNlYXJjaCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGYWNldFZhbHVlTGFiZWwoZmFjZXRUeXBlOiBGYWNldFR5cGUsIHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRzd2l0Y2ggKGZhY2V0VHlwZSkge1xuXHRcdGNhc2UgJ2dlbmVyYWwudGl0bGUuY29udGVudC5zdWItdHlwZSc6XG5cdFx0Y2FzZSAnZ2VuZXJhbC50aXRsZS5jb250ZW50LmRvYy10eXBlJzpcblx0XHRcdHJldHVybiBnZXRDb250ZW50VHlwZUxhYmVsKHZhbHVlIGFzIENvbnRlbnRUeXBlKTtcblx0XHRjYXNlICdnZW5lcmFsLnRpdGxlLmNvbnRlbnQudHlwZSc6XG5cdFx0XHRyZXR1cm4gc3RyVG9MYWJlbCh2YWx1ZSk7XG5cdFx0ZGVmYXVsdDogcmV0dXJuIHZhbHVlO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaEZhY2V0VHlwZShxdWVyeTogc3RyaW5nLCBtYXggPSAxMCk6IEZpZWxkVHlwZVtdIHtcblx0cmV0dXJuIGdldEZpbHRlcmVkRmFjZXRzKGZpZWxkVHlwZSA9PiB7XG5cdFx0cmV0dXJuIG1hdGNoVG9rZW5TdGFydHNXaXRoKGZpZWxkVHlwZS5uYW1lLCBxdWVyeSkgfHwgbWF0Y2hUb2tlblN0YXJ0c1dpdGgoZmllbGRUeXBlLmxhYmVsLCBxdWVyeSk7XG5cdH0pLnNsaWNlKDAsIG1heCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJGYWNldHNCeUxhYmVsKGZpbHRlcjogc3RyaW5nKSB7XG5cdGxldCB1c2VkRmFjZXRUeXBlczogRmFjZXRUeXBlW10gPSBbXTtcblxuXHRyZXR1cm4gZ2V0RmlsdGVyZWRGYWNldHMoZmllbGRUeXBlID0+IHtcblx0XHRpZiAoIWZpZWxkVHlwZS5uYW1lKSByZXR1cm4gZmFsc2U7XG5cdFx0aWYgKGZpZWxkVHlwZS5oaWRkZW4pIHJldHVybiBmYWxzZTtcblx0XHRpZiAodXNlZEZhY2V0VHlwZXMuaW5jbHVkZXMoZmllbGRUeXBlLm5hbWUpKSByZXR1cm4gZmFsc2U7XG5cblx0XHRpZiAobWF0Y2hUb2tlblN0YXJ0c1dpdGgoZmllbGRUeXBlLmxhYmVsLCBmaWx0ZXIpKSB7XG5cdFx0XHR1c2VkRmFjZXRUeXBlcy5wdXNoKGZpZWxkVHlwZS5uYW1lKTtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIGdldEZpbHRlcmVkRmFjZXRzKGZpbHRlckZuOiAoZmFjZXQ6IEZpZWxkVHlwZSkgPT4gYm9vbGVhbikge1xuXHRsZXQgZmlsdGVyZWQ6IEZpZWxkVHlwZVtdID0gW107XG5cblx0dHJhdmVyc2VGaWVsZFR5cGVzKEZJRUxEX1RZUEVTLCBmaWVsZFR5cGUgPT4ge1xuXHRcdGlmIChmaWx0ZXJGbihmaWVsZFR5cGUpKSB7XG5cdFx0XHRmaWx0ZXJlZC5wdXNoKGZpZWxkVHlwZSk7XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gZmlsdGVyZWQ7XG59XG5cbmZ1bmN0aW9uIHRyYXZlcnNlRmllbGRUeXBlcyhpdGVtczogRmllbGRUeXBlW10sIGNiOiAoaXRlbTogRmllbGRUeXBlKSA9PiBhbnkpIHtcblx0Zm9yIChsZXQgaXRlbSBvZiBpdGVtcykge1xuXHRcdGxldCBkb25lID0gY2IoaXRlbSk7XG5cdFx0aWYgKGRvbmUpIHJldHVybiB0cnVlO1xuXG5cdFx0aWYgKGl0ZW0uY2hpbGRyZW4pIHtcblx0XHRcdGxldCBkb25lID0gdHJhdmVyc2VGaWVsZFR5cGVzKGl0ZW0uY2hpbGRyZW4sIGNiKTtcblx0XHRcdGlmIChkb25lKSByZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///88503\n')},70655:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CR: () => (/* binding */ __read),\n/* harmony export */   Jh: () => (/* binding */ __generator),\n/* harmony export */   XA: () => (/* binding */ __values),\n/* harmony export */   ZT: () => (/* binding */ __extends),\n/* harmony export */   _T: () => (/* binding */ __rest),\n/* harmony export */   ev: () => (/* binding */ __spreadArray),\n/* harmony export */   mG: () => (/* binding */ __awaiter),\n/* harmony export */   pi: () => (/* binding */ __assign)\n/* harmony export */ });\n/* unused harmony exports __decorate, __param, __metadata, __createBinding, __exportStar, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault, __classPrivateFieldGet, __classPrivateFieldSet */\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== "function" && b !== null)\r\n        throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError("Generator is already executing.");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nvar __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nfunction __exportStar(m, o) {\r\n    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === "number") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === "function" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i["return"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nfunction __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume("next", value); }\r\n    function reject(value) { resume("throw", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o["default"] = v;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");\r\n    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");\r\n    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === "m") throw new TypeError("Private method is not writable");\r\n    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");\r\n    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");\r\n    return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzA2NTUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzPzlhYjQiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcclxuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xyXG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xyXG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcclxufSkgOiBmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcclxuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///70655\n')},87363:e=>{"use strict";e.exports=React},61533:e=>{"use strict";e.exports=ReactDOM},14426:e=>{"use strict";e.exports=ReactI18next},66711:e=>{"use strict";e.exports=ReactRouterDOM},47467:e=>{"use strict";e.exports=axios},72604:e=>{"use strict";e.exports=clone},28121:e=>{"use strict";e.exports=i18next},71130:e=>{"use strict";e.exports=uuid},64836:module=>{eval('function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    "default": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports["default"] = module.exports;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQ4MzYuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9sZDMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanM/YTU1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDoge1xuICAgIFwiZGVmYXVsdFwiOiBvYmpcbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdCwgbW9kdWxlLmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWUsIG1vZHVsZS5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IG1vZHVsZS5leHBvcnRzOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///64836\n')},26951:e=>{"use strict";e.exports=JSON.parse('{"BATTLE":["BATTLE","SKIRMISH"],"IMAGE":["IMAGE","SUB_IMAGE","FILE"],"MEDIA":["VIDEO","AUDIO"],"MILITARY_UNIT":["REGIMENT","COMPANY","UNIT","BATTERY","SQUADRON"],"STORY_PAGE":["PERSON","SERVICEPERSON"],"SUBJECT":["EVENT","ORGANIZATION","PLACE","TOPIC","AWARD"]}')},55716:e=>{"use strict";e.exports=JSON.parse('{"FOLD3_US":"USD","FORCES_WAR_AU":"AUD","FORCES_WAR_CA":"CAD","FORCES_WAR_NZ":"NZD","FORCES_WAR_UK":"GBP"}')},58736:e=>{"use strict";e.exports=JSON.parse('{"AbstractImageData":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/AbstractImageData.html","mappedProps":{"m":{"name":"metadata","type":"CorrectableMetadata"},"t":{"name":"title"}},"repo":"fold31-image-data"},"AbstractMemorialDocument":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/AbstractMemorialDocument.html","mappedProps":{"des":{"name":"description"},"pm":{"name":"privacyMode","type":"AbstractMemorialDocument.PrivacyMode"},"st":{"name":"subType","type":"ContentSubType"},"t":{"name":"title"},"ty":{"name":"type","type":"AbstractMemorialDocument.Type"}},"repo":"fold31-memorial"},"AccountAndCurrentSubscriptionDetails":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/AccountAndCurrentSubscriptionDetails.html","mappedProps":{"currentSubscription":{"type":"Subscription"},"newTxnProvider":{"type":"Provider"}},"repo":"fold31-commerce"},"AccountSubscriptionDetails":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/AccountSubscriptionDetails.html","mappedProps":{"currentSubExpiration":{"encoding":"date"},"freeTrialCanceled":{"encoding":"date"}},"repo":"fold31-core"},"AccountSummary":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/AccountSummary.html","mappedProps":{"status":{"type":"AccountSummary.Status"}},"repo":"fold31-core"},"AdBanner":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/dto/AdBanner.html","mappedProps":{"cd":{"encoding":"date","name":"created"},"da":{"name":"data"},"do":{"name":"domain","type":"Domain"},"lg":{"name":"language"},"md":{"encoding":"date","name":"modified"},"pd":{"encoding":"date","name":"published"},"sl":{"name":"slug"},"st":{"name":"status","type":"AdBannerStatus"},"sz":{"name":"size","type":"AdBannerSize"},"ti":{"name":"title"}},"repo":"fold31-backend"},"AdBannerSize":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/dto/AdBannerSize.html","mappedProps":{"cd":{"encoding":"date","name":"created"},"d":{"name":"domain","type":"Domain"},"de":{"name":"description"},"h":{"name":"height"},"id":{"name":"adBannerSizeId"},"md":{"encoding":"date","name":"modified"},"s":{"name":"slug"},"t":{"name":"title"},"w":{"name":"width"}},"repo":"fold31-backend"},"AddLocalizationResourceGroupRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/AddLocalizationResourceGroupRequest.html","mappedProps":{"ct":{"name":"contentTypes","type":"ContentType"},"es":{"name":"translationEntityScope","type":"LocalizationResourceGroupConfiguration.TranslationEntityScope"},"l":{"name":"languages"},"m":{"name":"allowedMimeTypes"},"n":{"name":"name"},"p":{"name":"pathPrefixes"},"tl":{"name":"translationLanguages","type":"LocalizationResourceGroupConfiguration.TranslationLanguages"},"x":{"name":"externalIdPrefixes"}},"repo":"fold31-backend"},"AddLocalizationResourcesRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/AddLocalizationResourcesRequest.html","mappedProps":{"l":{"name":"requestedLanguages"},"p":{"name":"path"},"r":{"name":"resources","type":"MinimalLocalizationResource"}},"repo":"fold31-backend"},"AddLocalizationResourcesResult":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/AddLocalizationResourcesResult.html","mappedProps":{"f":{"name":"field"},"g":{"name":"matchingResourceGroups"},"i":{"name":"localizationResourceId"},"r":{"name":"result","type":"LocalizationResourceUpdateResult"}},"repo":"fold31-backend"},"AddSeoResourcesRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/AddSeoResourcesRequest.html","mappedProps":{"seoResources":{"type":"Property"}},"repo":"fold31-backend"},"Advertisement":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/Advertisement.html","mappedProps":{"accountState":{"type":"AccountState"},"author":{"type":"User"},"created":{"encoding":"date"},"domain":{"type":"Domain"},"editors":{"type":"User"},"modified":{"encoding":"date"}},"repo":"fold31-core"},"AdvertisementLayout":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/AdvertisementLayout.html","mappedProps":{"collections":{"type":"ObjectReference"}},"repo":"fold31-core"},"AdvertisementSpot":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/AdvertisementSpot.html","mappedProps":{"end":{"encoding":"date"},"priority":{"type":"AdvertisementSpot.Priority"},"start":{"encoding":"date"},"targetPages":{"type":"ObjectReference"}},"repo":"fold31-core"},"AncestryAuthenticationResults":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/AncestryAuthenticationResults.html","mappedProps":{"result":{"type":"AncestryAuthenticationResults.Result"},"user":{"type":"UserFull"}},"repo":"fold31-core"},"Annotation":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/Annotation.html","mappedProps":{"dt":{"name":"dataType"},"f":{"name":"field"},"m":{"encoding":"date","name":"modified"},"oid":{"name":"originalId"},"ot":{"name":"originalType"},"p":{"name":"imageId"},"r":{"encoding":"rect","name":"rect"},"s":{"name":"subAnnotations","type":"SubAnnotation"},"t":{"encoding":"anntype","name":"type"},"u":{"name":"userId"},"us":{"name":"user","type":"User"},"v":{"name":"value"}},"repo":"josephus-document"},"Annotations":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/Annotations.html","inverted":true,"mappedProps":{"dataTypes":{"name":"dataType"},"ids":{"name":"id"},"modified":{"encoding":"date"},"rects":{"encoding":"rect","name":"rect"},"types":{"encoding":"anntype","name":"type"},"userIds":{"name":"userId"},"values":{"name":"value"}},"repo":"josephus-document","valueMaps":{"users":{"userId":"user"}}},"ArchivesRecord":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/ArchivesRecord.html","mappedProps":{"bd":{"name":"birthDate"},"bl":{"name":"birthLocation"},"dd":{"name":"deathDate"},"dl":{"name":"deathLocation"},"f":{"name":"facts","type":"MemorialFact"},"fn":{"name":"fullName"},"id":{"type":"ObjectReference"},"md":{"name":"marriageDate"},"ml":{"name":"marriageLocation"},"t":{"name":"title"}},"repo":"fold31-memorial"},"ArchivesSearchCollection":{"mappedProps":{"AnnouncementLink":{"name":"announcementLink"},"AnnouncementTitle":{"name":"announcementTitle"},"CollectionId":{"name":"collectionId"},"CollectionType":{"name":"collectionType"},"CreatedOn":{"name":"createdOn"},"Description":{"name":"description"},"HasImages":{"name":"hasImages"},"ImageCount":{"name":"imageCount"},"IsFree":{"name":"isFree"},"IsPublic":{"name":"isPublic"},"LastUpdated":{"name":"lastUpdated"},"Locations":{"name":"locations","type":"ArchivesSearchLocation"},"RecordsCount":{"name":"recordsCount"},"SortOrder":{"name":"sortOrder"},"Source":{"name":"source"},"SourceType":{"name":"sourceType"},"Title":{"name":"title"},"TitleShort":{"name":"titleShort"},"Url":{"name":"url"},"YearFrom":{"name":"yearFrom"},"YearTo":{"name":"yearTo"},"Years":{"name":"years"}}},"ArchivesSearchDisplayField":{"mappedProps":{"Href":{"name":"href"},"IsLink":{"name":"isLink"},"MainInfo":{"name":"mainInfo","type":"ArchivesSearchMainInfo"},"RecordId":{"name":"recordId"}}},"ArchivesSearchLocation":{"mappedProps":{"Country":{"name":"country"},"Region":{"name":"region"}}},"ArchivesSearchMainInfo":{"mappedProps":{"Label":{"name":"label"},"Name":{"name":"name"},"Values":{"name":"values"}}},"ArchivesSearchRecord":{"mappedProps":{"Collection":{"name":"collection","type":"ArchivesSearchCollection"},"DisplayFields":{"name":"displayFields","type":"ArchivesSearchDisplayField"},"HasHouseHolds":{"name":"hasHouseHolds"},"HouseHoldId":{"name":"houseHoldId"},"Images":{"name":"images","type":"ArchivesImage"},"RecordType":{"name":"recordType"},"UniqueId":{"name":"uniqueId"}}},"ArchivesSearchResult":{"mappedProps":{"DataSetType":{"name":"dataSetType"},"ErrorDetails":{"name":"errorDetails"},"Records":{"name":"records","type":"ArchivesSearchRecord"},"ResultType":{"name":"resultType"}}},"AttAuthenticationResults":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/AttAuthenticationResults.html","mappedProps":{"result":{"type":"AttAuthenticationResults.Result"},"user":{"type":"UserFull"}},"repo":"fold31-core"},"Battle":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/Battle.html","mappedProps":{"c":{"name":"conflict"},"d":{"name":"description"},"da":{"name":"altDescription"},"de":{"encoding":"date","name":"endDate"},"ds":{"encoding":"date","name":"startDate"},"gc":{"name":"coordinates","type":"Coordinates"},"im":{"name":"images","type":"RegimentImage"},"iv":{"name":"involvement","type":"Involvement"},"n":{"name":"name"},"oc":{"name":"outcome"},"pl":{"name":"place"},"pm":{"encoding":"date","name":"providerLastModified"},"pr":{"name":"provider"},"s":{"encoding":"date","name":"lastSynchronized"},"st":{"name":"subType","type":"ContentSubType"}},"repo":"fold31-regiment"},"BattleReference":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/BattleReference.html","mappedProps":{"d":{"name":"description"},"ed":{"encoding":"date","name":"endDate"},"i":{"name":"battleId"},"n":{"name":"name"},"p":{"name":"place"},"sd":{"encoding":"date","name":"startDate"}},"repo":"fold31-regiment"},"Beta":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/Beta.html","mappedProps":{"bt":{"name":"betaType","type":"Beta.BetaType"},"cd":{"encoding":"date","name":"createdDate"},"d":{"name":"description"},"do":{"name":"domain","type":"Domain"},"etu":{"name":"enrollmentTokenUrl"},"fu":{"name":"featureUrl"},"md":{"encoding":"date","name":"modifiedDate"},"s":{"name":"status","type":"Beta.Status"},"t":{"name":"title"},"ut":{"name":"userTag"}},"repo":"fold31-core"},"BetaBanner":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/BetaBanner.html","mappedProps":{"cd":{"encoding":"date","name":"createdDate"},"do":{"name":"domain","type":"Domain"},"fb":{"name":"includeFeedbackButton"},"m":{"name":"message"},"md":{"encoding":"date","name":"modifiedDate"},"pr":{"name":"pathRegex"},"s":{"name":"status"},"ut":{"name":"userTag"}},"repo":"fold31-core"},"BillingInfo":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/BillingInfo.html","mappedProps":{"authDate":{"encoding":"date"},"lastAccountUpdater":{"encoding":"date"},"lastUsed":{"encoding":"date"},"modified":{"encoding":"date"},"provider":{"type":"Provider"}},"repo":"fold31-commerce"},"BrowseDocument":{"docs":"https://jfold3.iarchives.com/job/josephus-browse/javadoc/com/ancestry/eb/josephus/browse/dto/BrowseDocument.html","mappedProps":{"n":{"name":"nodes","type":"BrowseNode"},"p":{"name":"parent","type":"BrowseNode"}},"repo":"josephus-browse"},"BrowseImage":{"docs":"https://jfold3.iarchives.com/job/josephus-browse/javadoc/com/ancestry/eb/josephus/browse/dto/BrowseImage.html","mappedProps":{"av":{"name":"available"},"c":{"encoding":"date","name":"created"},"co":{"name":"corrections","type":"Correction"},"h":{"name":"height"},"hp":{"name":"hashPath"},"id":{"name":"imageId"},"lm":{"encoding":"date","name":"lastModified"},"md":{"name":"metadata","type":"Metadata"},"mp":{"name":"mediaProvider"},"ord":{"name":"ordinal"},"p":{"name":"publication","type":"Publication"},"pord":{"name":"publicationOrdinal"},"st":{"name":"shortTitle"},"t":{"name":"title"},"tr":{"encoding":"date","name":"trashed"},"u":{"name":"user","type":"User"},"use":{"name":"usage"},"vis":{"name":"visible"},"w":{"name":"width"},"win":{"name":"wfmImageName"}},"repo":"josephus-browse"},"BrowseMetadataGeneratorTestResults":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/fieldconfig/BrowseMetadataGeneratorTestResults.html","mappedProps":{"metadataItems":{"type":"FieldConfigBrowseTestResults"}},"repo":"fold31-backend"},"BrowseNode":{"docs":"https://jfold3.iarchives.com/job/josephus-browse/javadoc/com/ancestry/eb/josephus/browse/dto/BrowseNode.html","mappedProps":{"cc":{"name":"childCount"},"cid":{"name":"categoryId"},"dt":{"name":"displayType"},"hp":{"name":"hashPath"},"i":{"name":"image","type":"BrowseImage"},"md":{"name":"mediumDescription"},"o":{"name":"ordinal"},"oid":{"name":"objectId"},"p":{"name":"publication","type":"Publication"},"sd":{"name":"shortDescription"},"st":{"name":"shortTitle"},"t":{"name":"title"},"tc":{"name":"titleCount"},"tp":{"name":"type"}},"repo":"josephus-browse"},"BrowseNodeResultSet":{"docs":"https://jfold3.iarchives.com/job/josephus-browse/javadoc/com/ancestry/eb/josephus/browse/dto/BrowseNodeResultSet.html","mappedProps":{"c":{"name":"totalCount"},"n":{"name":"nodes","type":"BrowseNode"},"o":{"name":"startOffset"},"to":{"name":"targetOffset"}},"repo":"josephus-browse"},"BrowseQuery":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/BrowseQuery.html","mappedProps":{"ic":{"name":"browseItemCount"},"k":{"name":"browseKeys"},"p":{"name":"prefix"},"q":{"name":"documentQuery","type":"DocumentQuery"}},"repo":"fold31-search"},"BulkMetadataEditParams":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/task/BulkMetadataEditParams.html","mappedProps":{"filter":{"type":"ImageFilterSettings"}},"repo":"josephus-document"},"BulkUpdatePublication":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/BulkUpdatePublication.html","mappedProps":{"properties":{"type":"BulkUpdatePublicationProperty"}},"repo":"fold31-core"},"BulkUpdatePublicationProperty":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/BulkUpdatePublicationProperty.html","mappedProps":{"n":{"name":"name"},"v":{"name":"value"}},"repo":"fold31-core"},"Campaign":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/Campaign.html","mappedProps":{"accessLevelOverride":{"type":"PublicationAccessLevelOverride"},"accountState":{"type":"AccountState"},"author":{"type":"User"},"created":{"encoding":"date"},"domain":{"type":"Domain"},"editors":{"type":"User"},"end":{"encoding":"date"},"modified":{"encoding":"date"},"spots":{"type":"AdvertisementSpot"},"start":{"encoding":"date"}},"repo":"fold31-core"},"CampaignManagerImpl.SmallAccountState":{"mappedProps":{"a":{"name":"acomSubscriber"},"b":{"name":"bundleSubscriber"},"d":{"name":"formerBundle"},"f":{"name":"freeTrialSubscriber"},"n":{"name":"newspaperSubscriber"},"o":{"name":"signedOut"},"p":{"name":"payingSubscriber"},"r":{"name":"registered"},"s":{"name":"subscriber"},"u":{"name":"formerSubscriber"},"x":{"name":"expiring"},"y":{"name":"formerPayingSubscriber"}}},"ClusterSortKey":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/ClusterSortKey.html","mappedProps":{"p":{"name":"publicationId"},"s":{"name":"clusterSortKey"}},"repo":"fold31-search"},"CommerceError":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/CommerceError.html","mappedProps":{"code":{"type":"CommerceError.Code"},"discountType":{"type":"Discount.Type"}},"repo":"fold31-commerce"},"CompactSession":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/CompactSession.html","mappedProps":{"i":{"name":"institution","type":"CompactSessionInstitution"},"p":{"name":"properties","type":"CompactSessionProperties"},"u":{"name":"user","type":"CompactSessionUser"}},"repo":"fold31-core"},"CompactSessionInstitution":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/CompactSessionInstitution.html","mappedProps":{"i":{"name":"institutionId"},"n":{"name":"name"},"pq":{"name":"proQuest","type":"CompactSessionProQuest"},"s":{"name":"silo"},"t":{"name":"type"},"tl":{"name":"timeLimit"}},"repo":"fold31-core"},"CompactSessionProQuest":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/CompactSessionProQuest.html","mappedProps":{"aid":{"name":"accountId"},"an":{"name":"accountName"},"at":{"name":"authType"},"cip":{"name":"clientIp"},"e":{"name":"expires"},"gid":{"name":"groupId"},"h":{"name":"hash"},"n":{"name":"nextUrl"},"sid":{"name":"sessionId"},"ss":{"name":"sessionStart"},"ua":{"name":"userAgent"},"ui":{"name":"usageInfo"}},"repo":"fold31-core"},"CompactSessionProperties":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/CompactSessionProperties.html","mappedProps":{"am":{"name":"authMode","type":"CompactSessionProperties.AuthMode"}},"repo":"fold31-core"},"CompactSessionUser":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/CompactSessionUser.html","mappedProps":{"a":{"name":"accountStateFlags"},"as":{"name":"accountStatus"},"au":{"name":"ancestryUsername"},"e":{"name":"email"},"f":{"name":"flags"},"j":{"name":"joinDate"},"p":{"name":"passwordSerialNumber"},"r":{"name":"roles"},"s":{"name":"subscriptionType"},"u":{"name":"userId"},"un":{"name":"username"}},"repo":"fold31-core"},"Company":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/Company.html","mappedProps":{"n":{"name":"name"},"p":{"name":"place"},"s":{"name":"shortName"}},"repo":"fold31-regiment"},"CompanyDetails":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/CompanyDetails.html","mappedProps":{"aka":{"name":"aliases"},"b":{"name":"battles","type":"BattleReference"},"c":{"name":"conflict"},"cl":{"name":"companyList"},"cr":{"name":"companyRefs","type":"CompanyReference"},"de":{"encoding":"date","name":"endDate"},"ds":{"encoding":"date","name":"startDate"},"ev":{"name":"events","type":"RegimentEvent"},"h":{"name":"history"},"hc":{"name":"homeCounties","type":"NormalizedContentDocumentPlace"},"i":{"name":"companyId"},"im":{"name":"images","type":"RegimentImage"},"l":{"name":"letter"},"ld":{"name":"leaders"},"ldx":{"name":"parsedLeaders","type":"Leader"},"n":{"name":"name"},"nn":{"name":"nicknames"},"pl":{"name":"place"},"ple":{"name":"endPlace"},"pls":{"name":"startPlace"},"pm":{"encoding":"date","name":"providerLastModified"},"pr":{"name":"provider"},"rr":{"name":"regimentRefs","type":"RegimentReference"},"s":{"encoding":"date","name":"lastSynchronized"},"sd":{"name":"side"},"st":{"name":"subType","type":"ContentSubType"},"t":{"name":"types"},"u":{"name":"unit"},"uf":{"name":"unitFacts","type":"UnitFacts"}},"repo":"fold31-regiment"},"CompanyReference":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/CompanyReference.html","mappedProps":{"i":{"name":"companyId"},"l":{"name":"letter"},"m":{"name":"metadata","type":"Metadata"},"n":{"name":"name"},"s":{"name":"side"}},"repo":"fold31-regiment"},"Connection":{"docs":"https://jfold3.iarchives.com/job/josephus-relation/javadoc/com/ancestry/eb/josephus/relation/client/dto/Connection.html","mappedProps":{"id":{"name":"relationId"},"r":{"name":"reference","type":"ObjectReference"},"txt":{"name":"text"},"u":{"name":"user","type":"User"}},"repo":"josephus-relation"},"ContentDocumentComment":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/elements/ContentDocumentComment.html","mappedProps":{"c":{"name":"value"}},"repo":"fold31-content"},"ContentDocumentCorrection":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/elements/ContentDocumentCorrection.html","mappedProps":{"f":{"name":"field"},"v":{"name":"value"}},"repo":"fold31-content"},"ContentDocumentElementMetadata":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ContentDocumentElementMetadata.html","mappedProps":{"id":{"type":"DocumentElementReference"},"l":{"name":"language"},"lm":{"encoding":"date","name":"lastModified"},"n":{"name":"ordinal"},"o":{"name":"owner"}},"repo":"fold31-content"},"ContentDocumentElementPermissions":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ContentDocumentElementPermissions.html","mappedProps":{"allowed":{"type":"ContentDocumentPermission"},"c":{"name":"contentType","type":"DocumentElementType"},"denied":{"map":true,"type":"DenyReason"}},"repo":"fold31-content"},"ContentDocumentImportInstance":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ContentDocumentImportInstance.html","mappedProps":{"c":{"name":"settings","type":"ContentDocumentImportSettings"},"i":{"name":"importUploadId"},"id":{"name":"importInstanceId"},"ir":{"name":"importResults","type":"ContentDocumentImportResults"},"k":{"name":"taskId"},"s":{"name":"state","type":"ContentDocumentImportInstance.State"},"tc":{"encoding":"date","name":"created"},"tp":{"encoding":"date","name":"completed"},"u":{"name":"userId"},"vr":{"name":"validationResults","type":"ContentDocumentImportResults"}},"repo":"fold31-content"},"ContentDocumentImportResults":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ContentDocumentImportResults.html","mappedProps":{"configurationValidation":{"type":"ContentDocumentImportValidationLevelMapping.Level"},"headerValidation":{"type":"ContentDocumentImportValidationLevelMapping.Level"},"recordValidation":{"type":"ContentDocumentImportValidationLevelMapping.Level"},"resultLevels":{"map":true}},"repo":"fold31-content"},"ContentDocumentImportSettings":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ContentDocumentImportSettings.html","mappedProps":{"c":{"name":"correctById"},"d":{"name":"fold3IDFieldName"},"f":{"name":"filters","type":"MetadataFilterItem"},"m":{"name":"maxErrors"},"n":{"name":"firstRecords"},"o":{"name":"stickinessOverride","type":"CorrectableMetadata.Stickiness"},"v":{"name":"levelMappings","type":"ContentDocumentImportValidationLevelMapping"},"vo":{"name":"validateOnly"}},"repo":"fold31-content"},"ContentDocumentImportUpload":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ContentDocumentImportUpload.html","mappedProps":{"a":{"encoding":"date","name":"available"},"c":{"encoding":"date","name":"created"},"d":{"name":"duplicateOf"},"des":{"name":"description"},"e":{"name":"encoding"},"f":{"name":"fileId"},"h":{"name":"hash"},"id":{"name":"importUploadId"},"l":{"name":"length"},"lg":{"name":"legacy"},"n":{"name":"name"},"p":{"name":"publicationId"},"s":{"name":"state","type":"ContentDocumentImportUpload.State"},"t":{"name":"type","type":"ContentDocumentImportUpload.Type"},"tp":{"name":"tempId"},"u":{"name":"uploadUserId"}},"repo":"fold31-content"},"ContentDocumentImportUploadAndInstance":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ContentDocumentImportUploadAndInstance.html","mappedProps":{"instance":{"type":"ContentDocumentImportInstance"},"upload":{"type":"ContentDocumentImportUpload"}},"repo":"fold31-content"},"ContentDocumentImportUploadNote":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ContentDocumentImportUploadNote.html","mappedProps":{"created":{"encoding":"date"},"modified":{"encoding":"date"},"type":{"type":"ContentDocumentImportUploadNote.Type"}},"repo":"fold31-content"},"ContentDocumentImportValidationLevelMapping":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ContentDocumentImportValidationLevelMapping.html","mappedProps":{"f":{"name":"field"},"l":{"name":"level","type":"ContentDocumentImportValidationLevelMapping.Level"},"t":{"name":"type","type":"ContentDocumentImportValidationLevelMapping.Type"}},"repo":"fold31-content"},"ContentDocumentJsonRuntimeProperties":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ContentDocumentJsonRuntimeProperties.html","mappedProps":{"b":{"name":"bookmarked"},"o":{"map":true,"name":"other"},"p":{"name":"permissions","type":"ContentDocumentPermissions"},"pl":{"name":"normalizedPlaces","type":"NormalizedContentDocumentPlace"},"sl":{"name":"slug"},"t":{"name":"partners","type":"PartnerInstitution"},"u":{"name":"users","type":"User"},"v":{"name":"viewCount","type":"DocumentEventCount"}},"repo":"fold31-content"},"ContentDocumentLink":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/elements/ContentDocumentLink.html","mappedProps":{"c":{"name":"title"},"d":{"name":"objectId","type":"ObjectReference"},"e":{"name":"connectionId"},"s":{"name":"objectSubType","type":"ContentSubType"},"u":{"name":"url"}},"repo":"fold31-content"},"ContentDocumentMetadata":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ContentDocumentMetadata.html","mappedProps":{"c":{"encoding":"date","name":"created"},"f":{"name":"forwardTo","type":"ObjectReference"},"id":{"type":"ObjectReference"},"l":{"name":"language"},"lm":{"encoding":"date","name":"lastModified"},"o":{"name":"owner"},"q":{"name":"forwardSearch","type":"DocumentQuery"},"r":{"name":"forwardReason","type":"ContentDocumentMetadata.ForwardReason"},"rm":{"encoding":"date","name":"deleted"},"x":{"name":"externalId"}},"repo":"fold31-content"},"ContentDocumentMetadataListPage":{"mappedProps":{"items":{"type":"ContentDocumentMetadata"}}},"ContentDocumentPermissions":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ContentDocumentPermissions.html","mappedProps":{"allowed":{"type":"ContentDocumentPermission"},"cp":{"name":"contentPermissions","type":"ContentDocumentElementPermissions"},"denied":{"map":true,"type":"DenyReason"}},"repo":"fold31-content"},"ContentDocumentPlace":{"mappedProps":{"c":{"name":"normalizedComponents","type":"NormalizedContentDocumentPlaceComponent"},"n":{"name":"normalizedText"},"t":{"name":"text"}}},"ContentDocumentRuntimeProperties":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ContentDocumentRuntimeProperties.html","mappedProps":{"o":{"map":true,"name":"other"},"p":{"name":"permissions","type":"ContentDocumentPermissions"},"pl":{"name":"normalizedPlaces","type":"NormalizedContentDocumentPlace"},"sl":{"name":"slug"},"t":{"name":"partners","type":"PartnerInstitution"},"u":{"name":"users","type":"User"},"v":{"name":"viewCount","type":"DocumentEventCount"},"x":{"name":"externalIdComponents","type":"ExternalIdComponents"}},"repo":"fold31-content"},"ContentExportTaskParams":{"mappedProps":{"delivery":{"type":"ContentExportTaskParams.Delivery"},"media":{"type":"ContentExportTaskParams.Media"},"metadata":{"type":"ContentExportTaskParams.Metadata"},"rollLayout":{"type":"ContentExportTaskParams.RollLayout"},"source":{"type":"ContentExportTaskParams.Source"}}},"ContentExportTaskParams.Delivery":{"mappedProps":{"notificationGroups":{"type":"ContentExportTaskParams.Delivery.NotificationGroups"},"target":{"type":"ContentExportTaskParams.Delivery.Target"}}},"ContentExportTaskParams.Media":{"mappedProps":{"naming":{"type":"ContentExportTaskParams.Media.Naming"},"onCollision":{"type":"ContentExportTaskParams.Media.OnCollision"}}},"ContentExportTaskParams.Metadata":{"mappedProps":{"format":{"type":"ContentExportTaskParams.Metadata.Format"}}},"ContentExportTaskParams.RollLayout":{"mappedProps":{"naming":{"type":"ContentExportTaskParams.RollLayout.NameMapping"},"onCollision":{"type":"ContentExportTaskParams.RollLayout.OnCollision"},"onOrphan":{"type":"ContentExportTaskParams.RollLayout.OnOrphan"}}},"ContentExportTaskParams.Source":{"mappedProps":{"filters":{"type":"MetadataFilterItem"}}},"ContentLocalization":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/ContentLocalization.html","mappedProps":{"cd":{"encoding":"date","name":"createdDate"},"ct":{"name":"contentType","type":"ContentType"},"do":{"name":"domain","type":"Domain"},"fk":{"name":"fieldKey"},"la":{"name":"language"},"md":{"encoding":"date","name":"modifiedDate"},"oi":{"name":"objectId"},"va":{"name":"value"}},"repo":"fold31-core"},"ContentLocalizationItem":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/ContentLocalizationItem.html","mappedProps":{"values":{"map":true}},"repo":"fold31-backend"},"ContentLocalizationItems":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/ContentLocalizationItems.html","mappedProps":{"contentType":{"type":"ContentType"},"items":{"type":"ContentLocalizationItem"}},"repo":"fold31-backend"},"ContentObject":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/ContentObject.html","mappedProps":{"cc":{"name":"connectionCount","optional":true},"cr":{"encoding":"date","name":"created","optional":true},"fl":{"name":"flags","optional":true},"h":{"name":"height","optional":true},"hp":{"name":"hashPath","optional":true},"ic":{"name":"fileLength","optional":true},"id":{"type":"ObjectReference"},"im":{"name":"imageId","optional":true},"lm":{"encoding":"date","name":"modified","optional":true},"md":{"name":"metadata","optional":true,"type":"Metadata"},"p":{"name":"publication","optional":true,"type":"Publication"},"pid":{"name":"publicationId","optional":true},"ri":{"name":"relationId","optional":true},"ro":{"name":"relationOwner","optional":true,"type":"User"},"rt":{"name":"relationText","optional":true},"s":{"name":"shortTitle"},"sl":{"name":"slug","optional":true},"st":{"name":"subType","optional":true},"t":{"name":"title"},"tg":{"name":"tags","optional":true},"th":{"name":"thumbHeight","optional":true},"tw":{"name":"thumbWidth","optional":true},"u":{"name":"user","optional":true,"type":"User"},"w":{"name":"width","optional":true}},"repo":"fold31-core"},"ContentProvider":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/ContentProvider.html","mappedProps":{"d":{"name":"domain","type":"Domain"},"l":{"name":"locale","type":"Locale"},"n":{"name":"name"},"u":{"name":"url"}},"repo":"fold31-core"},"Coordinates":{"mappedProps":{"g":{"name":"longitude"},"l":{"name":"latitude"}}},"CorrectableMetadata":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/CorrectableMetadata.html","mappedProps":{"c":{"encoding":"date","name":"created"},"l":{"name":"label","optional":true},"n":{"name":"name"},"s":{"name":"stickiness","type":"CorrectableMetadata.Stickiness"},"v":{"name":"value"}},"repo":"fold31-content"},"Correction":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/Correction.html","mappedProps":{"c":{"encoding":"date","name":"created"},"l":{"name":"label","optional":true},"n":{"name":"name"},"u":{"name":"user","type":"User"},"v":{"name":"value"}},"repo":"fold31-core"},"CorrectionTaskParams":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/importer/CorrectionTaskParams.html","mappedProps":{"importFile":{"type":"ImportFile"}},"repo":"josephus-document"},"CreateAccountResponse":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/CreateAccountResponse.html","mappedProps":{"error":{"type":"AccountCreationError"},"user":{"type":"UserFull"}},"repo":"fold31-core"},"CreateCampaignTestToken":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/CreateCampaignTestToken.html","mappedProps":{"effectiveAccountState":{"type":"AccountState"},"effectiveDate":{"encoding":"date"}},"repo":"fold31-core"},"CreateConnectionRequest":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/CreateConnectionRequest.html","mappedProps":{"t":{"name":"target","type":"ObjectReference"},"x":{"name":"text"}},"repo":"fold31-content"},"CreateDocumentElement":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/CreateDocumentElement.html","mappedProps":{"e":{"name":"element"},"t":{"name":"type","type":"DocumentElementType"}},"repo":"fold31-content"},"CreateDocumentRequest":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/CreateDocumentRequest.html","mappedProps":{"d":{"name":"document"},"e":{"name":"elements","type":"CreateDocumentElement"}},"repo":"fold31-content"},"CreateImageDataConnectionRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/CreateImageDataConnectionRequest.html","mappedProps":{"i":{"name":"id"},"x":{"name":"text"}},"repo":"fold31-image-data"},"CreateImportSampleResponse":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/dto/CreateImportSampleResponse.html","mappedProps":{"upload":{"type":"ContentDocumentImportUploadAndInstance"}},"repo":"fold31-backend"},"CreateIndexRecordConnectionRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/indexrecord/CreateIndexRecordConnectionRequest.html","mappedProps":{"t":{"name":"indexRecordId"},"x":{"name":"text"}},"repo":"fold31-index-record"},"CreatePublication":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/CreatePublication.html","mappedProps":{"createOptions":{"type":"CreatePublicationOptions"},"createPublication":{"type":"UpdatePublication"}},"repo":"fold31-core"},"CreatePublicationOptions":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/CreatePublicationOptions.html","mappedProps":{"initialSilos":{"type":"Silo"}},"repo":"fold31-core"},"CreateTestUserRequest":{"mappedProps":{"accountStateOverride":{"type":"AccountState"},"commerceProvider":{"type":"Provider"},"domain":{"type":"Domain"},"subDuration":{"type":"Subscription.Duration"},"subEvent":{"type":"Subscription.Event"},"subOrigin":{"type":"Subscription.Origin"},"ttlUnits":{"type":"TimeUnit"}}},"CreateUploadInstanceRequest":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/CreateUploadInstanceRequest.html","mappedProps":{"settings":{"type":"ContentDocumentImportSettings"}},"repo":"fold31-backend"},"DenyReason":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/DenyReason.html","mappedProps":{"status":{"name":"minAccountStatus"}},"repo":"fold31-core"},"Discount":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/Discount.html","mappedProps":{"type":{"type":"Discount.Type"}},"repo":"fold31-commerce"},"DocumentConnection":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/dto/DocumentConnection.html","mappedProps":{"id":{"name":"connectionId"},"m":{"encoding":"date","name":"modified"},"p":{"name":"principle","type":"ObjectReference"},"t":{"name":"target","type":"ObjectReference"},"txt":{"name":"text"},"u":{"name":"userId"}},"repo":"fold31-backend"},"DocumentConnectionCreation":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/dto/DocumentConnectionCreation.html","mappedProps":{"t":{"name":"targetDocument","type":"ObjectReference"},"x":{"name":"text"}},"repo":"fold31-backend"},"DocumentConnectionCreationRequest":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/dto/DocumentConnectionCreationRequest.html","mappedProps":{"rp":{"name":"renderPrinciple"},"rt":{"name":"renderTargets"},"t":{"name":"targets","type":"DocumentConnectionCreation"},"u":{"name":"updateExisting"}},"repo":"fold31-backend"},"DocumentConnectionCreationResults":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/dto/DocumentConnectionCreationResults.html","mappedProps":{"c":{"name":"connections","type":"DocumentConnection"},"o":{"name":"contentObjects","type":"ContentObject"}},"repo":"fold31-backend"},"DocumentElementReference":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/DocumentElementReference.html","mappedProps":{"ct":{"name":"contentType","type":"DocumentElementType"},"id":{"name":"objectId"}},"repo":"fold31-content"},"DocumentElementUpdateResults":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/DocumentElementUpdateResults.html","mappedProps":{"c":{"name":"changes","type":"WrappedContentDocumentElement"},"d":{"name":"deletions","type":"DocumentElementReference"},"n":{"name":"newElements","type":"WrappedContentDocumentElement"},"r":{"name":"runtimeProperties","type":"ContentDocumentRuntimeProperties"},"t":{"name":"newConnections","type":"ContentObject"}},"repo":"fold31-content"},"DocumentImageToken":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/DocumentImageToken.html","mappedProps":{"h":{"name":"height"},"id":{"name":"imageId"},"t":{"name":"token"},"w":{"name":"width"}},"repo":"josephus-document"},"DocumentImages":{"docs":"https://jfold3.iarchives.com/job/josephus-browse/javadoc/com/ancestry/eb/josephus/browse/dto/DocumentImages.html","mappedProps":{"images":{"type":"BrowseImage"}},"repo":"josephus-browse"},"DocumentQuery":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/DocumentQuery.html","mappedProps":{"backwardConnection":{"type":"ObjectReference"},"commanderConnections":{"type":"ObjectReference"},"environment":{"map":true},"facetRequests":{"type":"FacetRequest"},"fieldedKeywords":{"type":"Keywords"},"filters":{"type":"Filter"},"forwardConnection":{"type":"ObjectReference"},"highlight":{"type":"Highlight"},"in":{"type":"ObjectReference"},"inTag":{"type":"InTag"},"lastUpdated":{"encoding":"date"},"privateTagUserId":{"deprecated":true},"regimentConnections":{"type":"ObjectReference"},"sortOrder":{"type":"DocumentQuery.Sort"},"strictMode":{"type":"DocumentQuery.StrictMode"},"tag":{"deprecated":true},"tags":{"type":"TagQuery"}},"repo":"fold31-search"},"DocumentTokens":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/DocumentTokens.html","mappedProps":{"ic":{"name":"imageCount"},"t":{"name":"tokens","type":"DocumentImageToken"}},"repo":"josephus-document"},"DomainChangeCheckResults":{"mappedProps":{"openSubscriptions":{"type":"Subscription"},"result":{"type":"DomainChangeCheckResults.Result"}}},"EditAnnotation":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/EditAnnotation.html","mappedProps":{"rect":{"type":"Rectangle"}},"repo":"josephus-document"},"ElasticSearchIndex":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/ElasticSearchIndex.html","mappedProps":{"docs.count":{"name":"docsCount"},"docs.deleted":{"name":"docsDeleted"},"pri.store.size":{"name":"priStoreSize"},"store.size":{"name":"storeSize"}},"repo":"fold31-search"},"Email":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/email/Email.html","mappedProps":{"baseTemplate":{"type":"Template"},"contentTemplate":{"type":"Template"},"created":{"encoding":"date"},"domain":{"type":"Domain"},"modified":{"encoding":"date"}},"repo":"fold31-email"},"EntityExtractionResults":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/EntityExtractionResults.html","mappedProps":{"e":{"name":"entities","type":"ExtractedEntity"},"t":{"name":"rawText"}},"repo":"fold31-memorial"},"Event":{"docs":"https://jfold3.iarchives.com/job/josephus-event/javadoc/com/ancestry/eb/josephus/event/dto/Event.html","mappedProps":{"date":{"encoding":"date"},"newEventType":{"type":"DocumentEventType"}},"repo":"josephus-event"},"EventMetadata":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/EventMetadata.html","mappedProps":{"d":{"name":"date"},"n":{"name":"name"},"p":{"name":"place"}},"repo":"fold31-core"},"EventModel":{"docs":"https://jfold3.iarchives.com/job/josephus-event/javadoc/com/ancestry/eb/josephus/event/dto/EventModel.html","mappedProps":{"Subject":{"name":"subject"},"date":{"encoding":"date"},"newEventType":{"type":"DocumentEventType"}},"repo":"josephus-event"},"ExportParams":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/task/ExportParams.html","mappedProps":{"type":{"type":"ExportManager.Format"}},"repo":"josephus-document"},"ExternalIdComponents":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ExternalIdComponents.html","mappedProps":{"collectionType":{"type":"ContentDocumentCollectionType"},"contentType":{"type":"ContentType"}},"repo":"fold31-content"},"ExternalIdIndex":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ExternalIdIndex.html","mappedProps":{"reference":{"type":"ObjectReference"}},"repo":"fold31-content"},"ExternalRecord":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/ExternalRecord.html","mappedProps":{"f":{"name":"facts","type":"MemorialFact"},"id":{"type":"ObjectReference"}},"repo":"fold31-memorial"},"ExternalTestUser":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/dto/ExternalTestUser.html","mappedProps":{"type":{"type":"ExternalTestUser.Type"}},"repo":"fold31-backend"},"ExtraImageInfo":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dao/ExtraImageInfo.html","mappedProps":{"cover":{"type":"SampleImage"},"imageAliases":{"map":true},"sample":{"type":"SampleImage"},"subImageAliases":{"map":true}},"repo":"josephus-document"},"Facet":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/Facet.html","mappedProps":{"c":{"name":"count"},"l":{"name":"label"},"t":{"name":"nodeType","type":"BrowseNodeType"},"v":{"name":"value"}},"repo":"fold31-search"},"FacetList":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/FacetList.html","mappedProps":{"facets":{"type":"Facet"},"placeLevel":{"type":"FacetRequest.PlaceLevel"}},"repo":"fold31-search"},"FacetRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/FacetRequest.html","mappedProps":{"mode":{"type":"FacetRequest.FetchMode"},"placeLevel":{"type":"FacetRequest.PlaceLevel"},"sort":{"type":"FacetRequest.Sort"}},"repo":"fold31-search"},"FacetValueLabel":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/FacetValueLabel.html","mappedProps":{"l":{"name":"label"},"v":{"name":"value"}},"repo":"fold31-search"},"FieldConfigPersistenceData":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/fieldconfig/FieldConfigPersistenceData.html","mappedProps":{"domain":{"type":"Domain"},"lastModified":{"encoding":"date"}},"repo":"fold31-backend"},"FieldConfigSaveResponse":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/fieldconfig/FieldConfigSaveResponse.html","mappedProps":{"validationItems":{"type":"FieldConfigValidationItem"}},"repo":"fold31-backend"},"FieldConfigTestRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/fieldconfig/FieldConfigTestRequest.html","mappedProps":{"metadata":{"type":"Metadata"}},"repo":"fold31-backend"},"FieldConfigTestResults":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/fieldconfig/FieldConfigTestResults.html","mappedProps":{"browseItem":{"type":"FieldConfigBrowseTestResults"},"conditions":{"type":"FieldConfigConditionTestResults"},"generated":{"type":"Metadata"},"hidden":{"type":"Metadata"},"metadata":{"type":"FieldConfigTestResultsMetadata"}},"repo":"fold31-backend"},"FieldConfigValidationItem":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/fieldconfig/FieldConfigValidationItem.html","mappedProps":{"level":{"type":"FieldConfigValidationItem.Level"}},"repo":"fold31-backend"},"FieldPath":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/FieldPath.html","mappedProps":{"l":{"name":"label"},"p":{"name":"path"}},"repo":"fold31-core"},"FieldType":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/FieldType.html","mappedProps":{"a":{"name":"analyzed"},"ch":{"name":"children","type":"FieldType"},"dt":{"name":"dataType"},"h":{"name":"hidden"},"l":{"name":"label"},"m":{"name":"memorialPageTypes","type":"ContentSubType"},"n":{"name":"name"},"p":{"name":"paths","type":"FieldPath"},"sl":{"name":"shortLabel"},"t":{"name":"token"},"u":{"name":"untyped"}},"repo":"fold31-core"},"FileBuildError":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/file/FileBuildError.html","mappedProps":{"e":{"name":"exception"},"k":{"name":"key"},"t":{"encoding":"date","name":"timestamp"}},"repo":"fold31-backend"},"FileIndex":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/file/FileIndex.html","mappedProps":{"a":{"name":"baseMetadata","type":"Metadata"},"c":{"name":"clusterKey"},"l":{"name":"fileLength"},"p":{"name":"page","type":"FileIndexImageDataPage"},"r":{"name":"anchorImageId"},"t":{"name":"fileTitle"}},"repo":"fold31-backend"},"FileIndexAnnotation":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/file/FileIndexAnnotation.html","mappedProps":{"t":{"name":"type"},"u":{"name":"userId"},"v":{"name":"value"}},"repo":"fold31-backend"},"FileIndexConnection":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/file/FileIndexConnection.html","mappedProps":{"i":{"name":"id","type":"ObjectReference"},"t":{"name":"text"},"u":{"name":"userId"}},"repo":"fold31-backend"},"FileIndexImageData":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/file/FileIndexImageData.html","mappedProps":{"a":{"name":"annotations","type":"FileIndexAnnotation"},"c":{"name":"corrections","type":"Correction"},"g":{"name":"tags","type":"Tag"},"i":{"name":"imageId"},"m":{"name":"metadataDiffs","type":"Metadata"},"n":{"name":"connections","type":"FileIndexConnection"},"t":{"name":"title"}},"repo":"fold31-backend"},"FileIndexImageDataPage":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/file/FileIndexImageDataPage.html","mappedProps":{"i":{"name":"items","type":"FileIndexImageData"},"k":{"name":"lastKey"},"t":{"name":"tagNames","type":"Property"}},"repo":"fold31-backend"},"FileStorage":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/FileStorage.html","mappedProps":{"createdDate":{"encoding":"date"},"domain":{"type":"Domain"},"expirationTime":{"encoding":"date"},"modifiedDate":{"encoding":"date"}},"repo":"fold31-core"},"FilmstripCluster":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/FilmstripCluster.html","mappedProps":{"f":{"name":"file"},"g":{"name":"slug"},"i":{"name":"clusterId"},"s":{"name":"sortKey"},"t":{"name":"clusterTitle"},"z":{"name":"size"}},"repo":"fold31-search"},"FilmstripFragment":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/FilmstripFragment.html","mappedProps":{"a":{"name":"anchorImageId"},"c":{"name":"clusters","type":"FilmstripCluster"},"n":{"name":"nodes","type":"FilmstripNode"}},"repo":"fold31-search"},"FilmstripNode":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/FilmstripNode.html","mappedProps":{"c":{"name":"clusterId"},"i":{"name":"imageId"},"o":{"name":"ordinal"},"s":{"name":"slug"},"t":{"name":"imageTitle"}},"repo":"fold31-search"},"FilmstripSibling":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/FilmstripSibling.html","mappedProps":{"c":{"name":"cluster","type":"FilmstripCluster"},"i":{"name":"firstImage"},"v":{"name":"coverImage"}},"repo":"fold31-search"},"Filter":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/Filter.html","mappedProps":{"filterType":{"type":"Filter.FilterType"},"value":{"deprecated":true}},"repo":"fold31-search"},"FindAGraveRecord":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/FindAGraveRecord.html","mappedProps":{"bd":{"name":"birthDate"},"bl":{"name":"birthLocation"},"cl":{"name":"cemeteryLocation"},"cn":{"name":"cemeteryName"},"dd":{"name":"deathDate"},"dl":{"name":"deathLocation"},"f":{"name":"facts","type":"MemorialFact"},"fn":{"name":"fullName"},"id":{"type":"ObjectReference"},"t":{"name":"title"}},"repo":"fold31-memorial"},"FiservConnectPaymentPageCompletion":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/fiserv/FiservConnectPaymentPageCompletion.html","mappedProps":{"p":{"map":true,"name":"parameters"}},"repo":"fold31-commerce"},"FiservConnectPaymentPageParameters":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/fiserv/FiservConnectPaymentPageParameters.html","mappedProps":{"p":{"name":"properties","type":"Property"},"u":{"name":"paymentPageUrl"}},"repo":"fold31-commerce"},"FiservConnectPaymentPageRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/fiserv/FiservConnectPaymentPageRequest.html","mappedProps":{"trackingInfo":{"type":"CommerceTrackingInfo"}},"repo":"fold31-commerce"},"FiservTransactionStatus":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/fiserv/FiservTransactionStatus.html","mappedProps":{"a":{"name":"approval","type":"Transaction.Approval"},"b":{"name":"subscription","type":"Subscription"},"s":{"name":"state","type":"Transaction.State"}},"repo":"fold31-commerce"},"FreeTrialStatus":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/FreeTrialStatus.html","mappedProps":{"canceled":{"encoding":"date"}},"repo":"fold31-commerce"},"FullLocalizationResource":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/FullLocalizationResource.html","mappedProps":{"c":{"encoding":"date","name":"created"},"d":{"encoding":"date","name":"modified"},"f":{"name":"field"},"i":{"name":"localizationResourceId"},"m":{"name":"mimeType"},"p":{"name":"path"},"r":{"name":"resource"},"t":{"name":"translation"},"x":{"name":"translations","type":"LocalizationResourceTranslation"}},"repo":"fold31-backend"},"FuzzyCount":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/FuzzyCount.html","mappedProps":{"c":{"name":"countType","type":"FuzzyCount.CountType"},"r":{"name":"range"},"t":{"name":"valueType","type":"FuzzyCount.ValueType"},"v":{"name":"value"}},"repo":"fold31-regiment"},"FwrCollectionAnalysis":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/fwr/FwrCollectionAnalysis.html","mappedProps":{"properties":{"type":"FwrCollectionPropertyAnalysis"}},"repo":"fold31-backend"},"FwrCollectionPropertyAnalysis":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/fwr/FwrCollectionPropertyAnalysis.html","mappedProps":{"values":{"type":"FwrCollectionPropertyValueAnalysis"}},"repo":"fold31-backend"},"FwrDocumentMap":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/fwr/FwrDocumentMap.html","mappedProps":{"fwcid":{"name":"fwrCollectionId"},"fwct":{"name":"fwrContentType","type":"FwrDocumentMap.ContentType"},"fwid":{"name":"fwrId"},"fwn":{"name":"fwrName"},"fwpn":{"name":"fwrPageNumber"},"id":{"name":"f3ObjectReference","type":"ObjectReference"},"pk":{"name":"mapId"}},"repo":"fold31-backend"},"FwrImportHardGood":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/fwr/FwrImportHardGood.html","mappedProps":{"created":{"encoding":"date"}},"repo":"fold31-commerce"},"FwrImportSubscriptionPayment":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/fwr/FwrImportSubscriptionPayment.html","mappedProps":{"transaction":{"type":"Transaction"}},"repo":"fold31-commerce"},"GetLocalizationResourcesRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/GetLocalizationResourcesRequest.html","mappedProps":{"f":{"name":"fields"},"p":{"name":"path"},"x":{"name":"fieldPrefix"}},"repo":"fold31-backend"},"HelpArticle":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/help/HelpArticle.html","mappedProps":{"c":{"name":"content"},"cd":{"encoding":"date","name":"createdDate"},"do":{"name":"domain","type":"Domain"},"id":{"name":"articleId"},"md":{"encoding":"date","name":"modifiedDate"},"o":{"name":"ordinal"},"p":{"name":"path"},"sid":{"name":"section","type":"HelpSection"},"t":{"name":"title"}},"repo":"fold31-backend"},"HelpSection":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/help/HelpSection.html","mappedProps":{"a":{"name":"articles","type":"HelpArticle"},"cd":{"encoding":"date","name":"createdDate"},"do":{"name":"domain","type":"Domain"},"i":{"name":"icon"},"id":{"name":"sectionId"},"md":{"encoding":"date","name":"modifiedDate"},"o":{"name":"ordinal"},"p":{"name":"path"},"t":{"name":"title"}},"repo":"fold31-backend"},"Hit":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/Hit.html","mappedProps":{"ch":{"name":"childHits","type":"Hit"},"chc":{"name":"totalChildHits"},"dd":{"encoding":"date","name":"documentSortDate"},"doc":{"type":"ContentObject"},"ex":{"map":true,"name":"explanation"},"hk":{"name":"highlightedKeywords"},"hp":{"name":"highlightPhrases"},"ohp":{"name":"ocrHighlightPhrases"},"pt":{"name":"privateTags"},"ref":{"type":"ObjectReference"},"s":{"name":"score"}},"repo":"fold31-search"},"HonorImage":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/HonorImage.html","mappedProps":{"im":{"name":"imageId"},"n":{"name":"name"}},"repo":"fold31-core"},"Image":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/Image.html","mappedProps":{"ai":{"name":"ancestryId","optional":true},"al":{"map":true,"name":"aliases","optional":true},"an":{"name":"annotations","optional":true,"type":"Annotations"},"av":{"name":"available","optional":true},"bc":{"name":"breadcrumbs","optional":true,"type":"BrowseNode"},"c":{"encoding":"date","name":"created"},"co":{"name":"corrections","optional":true,"type":"Correction"},"csp":{"name":"connectedStoryPages","optional":true,"type":"ContentObject"},"di":{"name":"publicationDocument","optional":true,"type":"PublicationDocument"},"do":{"name":"defaultOrientation","optional":true},"h":{"name":"height","optional":true},"hp":{"name":"hashPath","optional":true},"id":{"name":"imageId"},"lm":{"encoding":"date","name":"lastModified"},"md":{"name":"metadata","type":"Metadata"},"mp":{"name":"mediaProvider","optional":true,"type":"Publication.MediaProvider"},"mr":{"name":"supportsMixedRes","optional":true},"ocr":{"name":"hasOcr","optional":true},"ord":{"name":"ordinal","optional":true},"p":{"name":"publication","optional":true,"type":"Publication"},"pord":{"name":"publicationOrdinal","optional":true},"ps":{"name":"permissions","optional":true,"type":"ImagePermissions"},"r":{"name":"roll","optional":true,"type":"Roll"},"si":{"name":"subImages","optional":true,"type":"SubImages"},"sic":{"name":"subImageCount","optional":true},"sl":{"name":"slug","optional":true},"srt":{"name":"subImageRectMode","optional":true,"type":"Image.SubImageRectMode"},"st":{"name":"shortTitle","optional":true},"t":{"name":"title"},"tr":{"encoding":"date","name":"trashed","optional":true},"u":{"name":"user","optional":true,"type":"User"},"use":{"name":"usage","optional":true},"vc":{"name":"viewCount","optional":true},"vis":{"name":"visible","optional":true},"w":{"name":"width","optional":true},"wid":{"name":"wfmImageId","optional":true},"win":{"name":"wfmImageName","optional":true}},"repo":"josephus-document"},"ImageAnnotation":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/ImageAnnotation.html","mappedProps":{"l":{"name":"label"},"r":{"encoding":"rect","name":"rect"},"t":{"name":"type"},"v":{"name":"value"}},"repo":"fold31-image-data"},"ImageAsset":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/landingpage/ImageAsset.html","mappedProps":{"created":{"encoding":"date"},"domain":{"type":"Domain"},"landingPages":{"type":"LandingPage"},"modified":{"encoding":"date"}},"repo":"fold31-backend"},"ImageData":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/ImageData.html","mappedProps":{"f":{"name":"parentTitle"},"h":{"name":"height"},"i":{"name":"wfmImageId"},"l":{"name":"clusterKey"},"m":{"name":"metadata","type":"CorrectableMetadata"},"o":{"name":"hasOcr"},"p":{"name":"mediaProvider","type":"Publication.MediaProvider"},"r":{"name":"defaultOrientation"},"s":{"name":"sourceHash"},"si":{"name":"subImages","type":"ImageDataSubImages"},"t":{"name":"title"},"u":{"name":"uploadData","type":"UploadData"},"w":{"name":"width"}},"repo":"fold31-image-data"},"ImageDataImportAnnotation":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/ImageDataImportAnnotation.html","mappedProps":{"c":{"encoding":"date","name":"created"},"l":{"name":"label","optional":true},"n":{"name":"name"},"rect":{"encoding":"rect"},"v":{"name":"value"}},"repo":"fold31-image-data"},"ImageDataImportRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/ImageDataImportRequest.html","mappedProps":{"annotations":{"type":"ImageDataImportAnnotation"},"mediaProvider":{"type":"Publication.MediaProvider"},"metadata":{"type":"Metadata"},"stickiness":{"type":"CorrectableMetadata.Stickiness"}},"repo":"fold31-image-data"},"ImageDataImportResults":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/ImageDataImportResults.html","mappedProps":{"id":{"type":"ObjectReference"}},"repo":"fold31-image-data"},"ImageDataRoll":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/ImageDataRoll.html","mappedProps":{"c":{"encoding":"date","name":"created"},"g":{"name":"guid"},"i":{"name":"rollId"},"lc":{"encoding":"date","name":"lastCounted"},"lv":{"encoding":"date","name":"lastInvalidated"},"m":{"name":"metadata","type":"Metadata"},"n":{"name":"name"},"p":{"name":"publicationId"},"w":{"name":"wfm"},"wi":{"name":"wfmContainerId"},"wp":{"name":"wfmContainerPath"},"x":{"map":true,"name":"metrics"}},"repo":"fold31-image-data"},"ImageDataSubImages":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/ImageDataSubImages.html","mappedProps":{"c":{"name":"subImageCount"},"m":{"name":"indexSpatialType","type":"ImageDataSubImages.IndexSpatialType"},"t":{"name":"indexType","type":"ImageDataSubImages.IndexType"},"v":{"name":"maximumViewPortSize"}},"repo":"fold31-image-data"},"ImageDataThumbnailDetails":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/ImageDataThumbnailDetails.html","mappedProps":{"do":{"name":"defaultOrientation"},"g":{"name":"graphic"},"h":{"name":"height"},"iid":{"name":"imageId"},"it":{"name":"imageToken"},"r":{"encoding":"rect","name":"cropRegion"},"u":{"name":"userUpload"},"w":{"name":"width"}},"repo":"fold31-image-data"},"ImagePermissions":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ImagePermissions.html","mappedProps":{"allowed":{"type":"ImagePermission"},"denied":{"map":true,"type":"DenyReason"}},"repo":"josephus-document"},"ImageRegion":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ImageRegion.html","mappedProps":{"subImages":{"type":"SubImages"}},"repo":"josephus-document"},"ImageResultSet":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ImageResultSet.html","mappedProps":{"images":{"type":"Image"}},"repo":"josephus-document"},"ImageToken":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ImageToken.html","mappedProps":{"c":{"name":"clusterKey"},"dc":{"name":"declassification"},"exp":{"name":"expiry"},"i":{"name":"institutionId"},"id":{"name":"imageId"},"n":{"name":"newService"},"p":{"name":"provider","type":"Publication.MediaProvider"},"pm":{"name":"permissions"},"s":{"name":"siloId"},"u":{"name":"userId"},"wm":{"name":"suppressWatermark"},"xid":{"name":"externalId"}},"repo":"josephus-document"},"ImportFactIdentifier":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/ImportFactIdentifier.html","mappedProps":{"e":{"name":"event","type":"MemorialEvent"},"o":{"name":"origin"}},"repo":"fold31-memorial"},"ImportFile":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ImportFile.html","mappedProps":{"co":{"name":"comment"},"ct":{"name":"contentType","type":"ImportFile.ImportContentType"},"enc":{"name":"encoding"},"fid":{"name":"fileId"},"len":{"name":"length"},"mp":{"name":"mediaProvider","type":"Publication.MediaProvider"},"o":{"map":true,"name":"options"},"p":{"name":"path"},"po":{"name":"processingOptions","type":"ImportProcessingOptions"},"src":{"name":"sourceFileId"},"up":{"name":"uploader","type":"User"}},"repo":"josephus-document"},"ImportFileProcessingTaskParams":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/importer/ImportFileProcessingTaskParams.html","mappedProps":{"importFile":{"type":"ImportFile"}},"repo":"josephus-document"},"ImportImageData":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dao/ImportImageData.html","mappedProps":{"annotations":{"type":"Annotation"},"metadata":{"type":"Metadata"},"rollMetadata":{"type":"Metadata"}},"repo":"josephus-document"},"ImportImageInfo":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ImportImageInfo.html","mappedProps":{"state":{"type":"ImportImageState"}},"repo":"josephus-document"},"ImportImageState":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ImportImageState.html","mappedProps":{"state":{"type":"ImportImageState.State"}},"repo":"josephus-document"},"ImportMemorialCoverImage":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/ImportMemorialCoverImage.html","mappedProps":{"i":{"name":"image","type":"ObjectReference"},"r":{"encoding":"rect","name":"rect"}},"repo":"fold31-memorial"},"ImportMemorialRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/ImportMemorialRequest.html","mappedProps":{"c":{"name":"connections","type":"CreateConnectionRequest"},"ci":{"name":"coverImage","type":"ImportMemorialCoverImage"},"e":{"name":"elements","type":"CreateDocumentElement"},"l":{"encoding":"date","name":"lastSynchronized"},"lg":{"name":"language"},"m":{"name":"memorial","type":"Memorial"},"u":{"name":"owner"},"x":{"name":"externalId"}},"repo":"fold31-memorial"},"ImportMilitaryUnitRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/ImportMilitaryUnitRequest.html","mappedProps":{"militaryUnit":{"type":"MilitaryUnit"}},"repo":"fold31-regiment"},"ImportProcessingOptions":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ImportProcessingOptions.html","mappedProps":{"cnp":{"name":"checkNamePrefix"},"emsm":{"name":"emsMode"},"inf":{"name":"imageNameFilter"},"irw":{"name":"ignoreRowWidth"},"iwc":{"name":"ignoreWfmContainerId"},"iwp":{"name":"ignoreWfmPath"},"maxr":{"name":"maxRollCount"},"me":{"name":"maxErrorsReturned"},"mi":{"name":"maxImagesPerRoll"},"rnf":{"name":"rollNameFilter"},"rpid":{"name":"requirePid"},"tui":{"name":"trashUnreferencedImages"}},"repo":"josephus-document"},"ImportPublicationInfo":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ImportPublicationInfo.html","mappedProps":{"options":{"type":"ImportProcessingOptions"},"publication":{"type":"Publication"},"publicationState":{"type":"ImportPublicationState"}},"repo":"josephus-document"},"ImportPublicationState":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ImportPublicationState.html","mappedProps":{"st":{"name":"state","type":"ImportPublicationState.State"},"sum":{"map":true,"name":"rollStateSummary"}},"repo":"josephus-document"},"ImportRollInfo":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ImportRollInfo.html","mappedProps":{"importFile":{"type":"ImportFile"},"options":{"type":"ImportProcessingOptions"},"publicationOptions":{"type":"ImportProcessingOptions"},"publicationState":{"type":"ImportPublicationState"},"roll":{"type":"Roll"},"state":{"type":"ImportRollState"}},"repo":"josephus-document"},"ImportRollState":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ImportRollState.html","mappedProps":{"er":{"name":"error"},"ic":{"name":"imageCount"},"lc":{"encoding":"date","name":"lastCompleted"},"ls":{"encoding":"date","name":"lastScheduled"},"st":{"name":"state","type":"ImportRollState.State"},"sum":{"map":true,"name":"imageStateSummary"},"uc":{"name":"unreferencedImageCount"}},"repo":"josephus-document"},"ImportSampleRequest":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/dto/ImportSampleRequest.html","mappedProps":{"settings":{"type":"ContentDocumentImportSettings"},"uploadType":{"type":"ContentDocumentImportUpload.Type"}},"repo":"fold31-backend"},"ImportService.ImportFilePlusCreated":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/service/ImportService$ImportFilePlusCreated.html","mappedProps":{"co":{"name":"comment"},"created":{"encoding":"date"},"ct":{"name":"contentType","type":"ImportFile.ImportContentType"},"enc":{"name":"encoding"},"fid":{"name":"fileId"},"len":{"name":"length"},"mp":{"name":"mediaProvider","type":"Publication.MediaProvider"},"o":{"map":true,"name":"options"},"p":{"name":"path"},"po":{"name":"processingOptions","type":"ImportProcessingOptions"},"src":{"name":"sourceFileId"},"up":{"name":"uploader","type":"User"}},"repo":"josephus-document"},"ImportUploadedRequest":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/dto/ImportUploadedRequest.html","mappedProps":{"settings":{"type":"ContentDocumentImportSettings"},"uploadType":{"type":"ContentDocumentImportUpload.Type"}},"repo":"fold31-backend"},"InTag":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/InTag.html","mappedProps":{"c":{"name":"count"},"i":{"name":"userId"},"t":{"name":"tags"}},"repo":"fold31-search"},"IndexRecord":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/indexrecord/IndexRecord.html","mappedProps":{"hp":{"name":"hashPath","optional":true},"md":{"name":"metadata","type":"CorrectableMetadata"},"t":{"name":"title"}},"repo":"fold31-index-record"},"IndexRecordImportRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/indexrecord/IndexRecordImportRequest.html","mappedProps":{"metadata":{"type":"Metadata"},"stickiness":{"type":"CorrectableMetadata.Stickiness"}},"repo":"fold31-index-record"},"IndexRecordImportResults":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/indexrecord/IndexRecordImportResults.html","mappedProps":{"id":{"type":"ObjectReference"}},"repo":"fold31-index-record"},"IndexRecordImportSampleRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/indexrecord/IndexRecordImportSampleRequest.html","mappedProps":{"settings":{"type":"ContentDocumentImportSettings"},"uploadType":{"type":"ContentDocumentImportUpload.Type"}},"repo":"fold31-index-record"},"IndexStatus":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/indexer/IndexStatus.html","mappedProps":{"details":{"type":"ElasticSearchIndex"},"index":{"type":"IndexReference"},"metrics":{"type":"IndexerMetrics"}},"repo":"fold31-indexer"},"IndexerStatus":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/indexer/IndexerStatus.html","mappedProps":{"baseline":{"type":"IndexStatus"},"current":{"type":"IndexStatus"},"indexes":{"type":"ElasticSearchIndex"},"osmStatus":{"type":"OSMStatus"}},"repo":"fold31-indexer"},"IndexingError":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/indexer/IndexingError.html","mappedProps":{"i":{"name":"docId","type":"ObjectReference"},"p":{"name":"publicationId"},"t":{"encoding":"date","name":"timestamp"},"x":{"name":"exception"}},"repo":"fold31-indexer"},"Institution":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/Institution.html","mappedProps":{"accessEndDate":{"encoding":"date"},"accessStartDate":{"encoding":"date"},"created":{"encoding":"date"},"domain":{"type":"Domain"},"expirationDate":{"encoding":"date"},"ipAddresses":{"type":"InstitutionIpAddress"},"properties":{"type":"Property"},"silo":{"type":"Silo"}},"repo":"fold31-core"},"Invoice":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/Invoice.html","mappedProps":{"created":{"encoding":"date"},"domain":{"type":"Domain"},"item":{"type":"InvoiceItem"},"modified":{"encoding":"date"},"provider":{"type":"Provider"},"state":{"type":"Invoice.State"},"subscription":{"type":"Subscription"},"transactions":{"type":"Transaction"},"user":{"type":"User"}},"repo":"fold31-commerce"},"Involvement":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/Involvement.html","mappedProps":{"cs":{"name":"commanders"},"s":{"name":"side"},"t":{"name":"stats","type":"FuzzyCount"},"v":{"name":"victor"}},"repo":"fold31-regiment"},"ItemCount":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/ItemCount.html","mappedProps":{"c":{"name":"count"},"n":{"name":"name"}},"repo":"fold31-core"},"JsonDocument":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/JsonDocument.html","mappedProps":{"cd":{"encoding":"date","name":"createdDate"},"da":{"name":"data"},"de":{"name":"description"},"do":{"name":"domain","type":"Domain"},"k":{"name":"key"},"l":{"name":"language"},"md":{"encoding":"date","name":"modifiedDate"},"me":{"name":"metadata","type":"Metadata"},"s":{"name":"schema","type":"JsonSchema"},"t":{"name":"title"},"v":{"name":"version"}},"repo":"fold31-core"},"JsonDocumentIndex":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/JsonDocumentIndex.html","mappedProps":{"cd":{"encoding":"date","name":"createdDate"},"do":{"name":"domain","type":"Domain"},"k":{"name":"key"},"l":{"name":"language"},"md":{"encoding":"date","name":"modifiedDate"},"v":{"name":"currentVersion"}},"repo":"fold31-core"},"JsonSchema":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/JsonSchema.html","mappedProps":{"cd":{"encoding":"date","name":"createdDate"},"da":{"name":"data"},"de":{"name":"description"},"do":{"name":"domain","type":"Domain"},"k":{"name":"key"},"l":{"name":"language"},"md":{"encoding":"date","name":"modifiedDate"},"t":{"name":"title"}},"repo":"fold31-core"},"Keywords":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/Keywords.html","mappedProps":{"text":{"deprecated":true}},"repo":"fold31-search"},"LandingPage":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/landingpage/LandingPage.html","mappedProps":{"cd":{"encoding":"date","name":"created"},"da":{"name":"data"},"do":{"name":"domain","type":"Domain"},"hf":{"name":"hideFooter"},"id":{"name":"landingPageId"},"lg":{"name":"language"},"md":{"encoding":"date","name":"modified"},"og":{"name":"openGraph","type":"LandingPage.OpenGraph"},"pd":{"encoding":"date","name":"published"},"sl":{"name":"slug"},"sn":{"name":"showNav"},"st":{"name":"status","type":"LandingPageStatus"},"ti":{"name":"title"}},"repo":"fold31-backend"},"LandingPage.OpenGraph":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/landingpage/LandingPage$OpenGraph.html","mappedProps":{"h":{"name":"height"},"s":{"name":"slug"},"w":{"name":"width"}},"repo":"fold31-backend"},"Leader":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/Leader.html","mappedProps":{"n":{"name":"name"},"r":{"name":"rank"}},"repo":"fold31-regiment"},"ListOffersRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/ListOffersRequest.html","mappedProps":{"discounts":{"type":"Discount"},"trackingInfo":{"type":"CommerceTrackingInfo"}},"repo":"fold31-commerce"},"LocalizationResourceBatch":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/LocalizationResourceBatch.html","mappedProps":{"c":{"encoding":"date","name":"created"},"f":{"name":"files","type":"LocalizationResourceBatch.File"},"g":{"name":"localizationGroupId"},"i":{"name":"localizationBatchId"},"l":{"name":"language"},"r":{"encoding":"date","name":"lastReceived"},"s":{"encoding":"date","name":"lastSent"}},"repo":"fold31-backend"},"LocalizationResourceBatch.File":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/LocalizationResourceBatch$File.html","mappedProps":{"c":{"name":"content"},"f":{"name":"field"},"h":{"name":"hash"},"m":{"name":"mimeType"},"p":{"name":"path"},"t":{"name":"translationId"}},"repo":"fold31-backend"},"LocalizationResourceGroup":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/LocalizationResourceGroup.html","mappedProps":{"c":{"encoding":"date","name":"created"},"cf":{"name":"configuration","type":"LocalizationResourceGroupConfiguration"},"d":{"encoding":"date","name":"modified"},"i":{"name":"localizationResourceGroupId"},"n":{"name":"name"},"rt":{"encoding":"date","name":"lastReceivedTranslation"},"st":{"encoding":"date","name":"lastSentTranslation"},"u":{"encoding":"date","name":"lastSourceUpdate"}},"repo":"fold31-backend"},"LocalizationResourceGroupConfiguration":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/LocalizationResourceGroupConfiguration.html","mappedProps":{"ct":{"name":"contentTypes","type":"ContentType"},"es":{"name":"translationEntityScope","type":"LocalizationResourceGroupConfiguration.TranslationEntityScope"},"l":{"name":"languages"},"m":{"name":"allowedMimeTypes"},"p":{"name":"pathPrefixes"},"tl":{"name":"translationLanguages","type":"LocalizationResourceGroupConfiguration.TranslationLanguages"},"x":{"name":"externalIdPrefixes"}},"repo":"fold31-backend"},"LocalizationResourceTranslation":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/LocalizationResourceTranslation.html","mappedProps":{"c":{"encoding":"date","name":"created"},"i":{"name":"localizationResourceTranslationId"},"l":{"name":"lang"},"rt":{"encoding":"date","name":"lastReceivedTranslation"},"st":{"encoding":"date","name":"lastSentTranslation"},"t":{"name":"translation"}},"repo":"fold31-backend"},"Location":{"mappedProps":{"addr":{"name":"normalizedAddress"},"code":{"name":"iso3166"},"e":{"name":"east"},"id":{"name":"placeId"},"lat":{"name":"latitude"},"long":{"name":"longitude"},"n":{"name":"north"},"s":{"name":"south"},"w":{"name":"west"}}},"LockDto":{"mappedProps":{"expiry":{"encoding":"date"}}},"MapEvent":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/fwr/MapEvent.html","mappedProps":{"location":{"type":"MapLocation"}},"repo":"fold31-backend"},"MapLocation":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/fwr/MapLocation.html","mappedProps":{"coordinates":{"type":"Coordinates"}},"repo":"fold31-backend"},"MapSearchResult":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/fwr/MapSearchResult.html","mappedProps":{"cid":{"name":"canonicalId"},"r":{"name":"relevancy"},"s":{"name":"slug"},"ti":{"name":"title"},"ty":{"name":"type","type":"MapSearchResult.Type"}},"repo":"fold31-backend"},"MapUnit":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/fwr/MapUnit.html","mappedProps":{"events":{"type":"MapEvent"}},"repo":"fold31-backend"},"MarketingCategory":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/MarketingCategory.html","mappedProps":{"categoryTitles":{"type":"MarketingTitle"},"subCategories":{"type":"MarketingSubcategory"}},"repo":"josephus-document"},"MarketingDocument":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/MarketingDocument.html","mappedProps":{"additionalInfo":{"type":"Metadata"},"doc":{"type":"ObjectReference"},"ttl":{"encoding":"date"},"type":{"type":"MarketingDocument.Type"}},"repo":"fold31-core"},"MarketingRegimentDocument":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/MarketingRegimentDocument.html","mappedProps":{"a":{"name":"accessLevel","type":"Publication.AccessLevel"},"i":{"name":"doc","type":"ObjectReference"},"t":{"encoding":"date","name":"ttl"}},"repo":"fold31-regiment"},"MarketingSubcategory":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/MarketingSubcategory.html","mappedProps":{"marketingTitles":{"type":"MarketingTitle"}},"repo":"josephus-document"},"MediaDocument":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/media/MediaDocument.html","mappedProps":{"d":{"name":"description"},"m":{"name":"metadata","type":"CorrectableMetadata"},"s":{"name":"subType","type":"ContentSubType"},"t":{"name":"title"},"u":{"name":"mediaUri"}},"repo":"fold31-media"},"Memorial":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/Memorial.html","mappedProps":{"des":{"name":"description"},"pm":{"name":"privacyMode","type":"AbstractMemorialDocument.PrivacyMode"},"pr":{"name":"primaryMilitaryEvent"},"st":{"name":"subType","type":"ContentSubType"},"t":{"name":"title"},"ty":{"name":"type","type":"AbstractMemorialDocument.Type"}},"repo":"fold31-memorial"},"MemorialBackgroundImage":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialBackgroundImage.html","mappedProps":{"i":{"name":"reference"},"y":{"name":"yPosition"}},"repo":"fold31-memorial"},"MemorialBranch":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialBranch.html","mappedProps":{"c":{"name":"conflict"},"n":{"name":"name"},"pc":{"name":"participatingCountry"},"t":{"name":"type","type":"MemorialConflictDatabaseEntryType"}},"repo":"fold31-memorial"},"MemorialCanonicalEvent":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialCanonicalEvent.html","mappedProps":{"canonicalChildEventTypes":{"type":"MemorialEvent.Type"},"canonicalMetadata":{"type":"MemorialCanonicalMetadata"},"handling":{"type":"MemorialCanonicalEvent.Handling"},"pageTypes":{"type":"ContentSubType"},"parentType":{"type":"MemorialEvent.Type"},"type":{"type":"MemorialEvent.Type"}},"repo":"fold31-memorial"},"MemorialCanonicalMetadata":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialCanonicalMetadata.html","mappedProps":{"pageTypes":{"type":"ContentSubType"}},"repo":"fold31-memorial"},"MemorialConflict":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialConflict.html","mappedProps":{"e":{"encoding":"date","name":"conflictEnd"},"n":{"name":"name"},"s":{"encoding":"date","name":"conflictStart"},"t":{"name":"type","type":"MemorialConflictDatabaseEntryType"}},"repo":"fold31-memorial"},"MemorialCoverImage":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialCoverImage.html","mappedProps":{"i":{"name":"reference"},"r":{"encoding":"rect","name":"rect"}},"repo":"fold31-memorial"},"MemorialEvent":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialEvent.html","mappedProps":{"i":{"name":"identifier"},"n":{"name":"name"},"t":{"name":"type","type":"MemorialEvent.Type"}},"repo":"fold31-memorial"},"MemorialFact":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialFact.html","mappedProps":{"c":{"name":"createFactSources","type":"MemorialSource"},"d":{"name":"createSourceLinks","type":"MemorialSource"},"e":{"name":"event","type":"MemorialEvent"},"n":{"name":"name"},"o":{"name":"origin"},"s":{"name":"sourceLinks"},"t":{"name":"type"},"v":{"name":"value"}},"repo":"fold31-memorial"},"MemorialFactSource":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialFactSource.html","mappedProps":{"f":{"deprecated":true,"name":"fact"},"g":{"name":"facts"},"s":{"deprecated":true,"name":"source"},"t":{"name":"sources"}},"repo":"fold31-memorial"},"MemorialHonorImage":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialHonorImage.html","mappedProps":{"im":{"name":"imageId"},"n":{"name":"name"}},"repo":"fold31-memorial"},"MemorialImportResults":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialImportResults.html","mappedProps":{"id":{"type":"ObjectReference"}},"repo":"fold31-memorial"},"MemorialLink":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialLink.html","mappedProps":{"d":{"name":"objectId","type":"ObjectReference"},"e":{"name":"relationId"},"s":{"name":"storyId"},"t":{"name":"type","type":"MemorialLink.Type"},"u":{"name":"url","type":"MemorialUrl"}},"repo":"fold31-memorial"},"MemorialParticipatingCountry":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialParticipatingCountry.html","mappedProps":{"c":{"name":"conflict"},"n":{"name":"name"},"t":{"name":"type","type":"MemorialConflictDatabaseEntryType"}},"repo":"fold31-memorial"},"MemorialPartner":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialPartner.html","mappedProps":{"i":{"name":"institution"}},"repo":"fold31-memorial"},"MemorialRank":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialRank.html","mappedProps":{"b":{"name":"branch"},"c":{"name":"conflict"},"n":{"name":"name"},"pc":{"name":"participatingCountry"},"t":{"name":"type","type":"MemorialConflictDatabaseEntryType"}},"repo":"fold31-memorial"},"MemorialSource":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialSource.html","mappedProps":{"c":{"name":"comment"},"l":{"name":"link","type":"MemorialLink"}},"repo":"fold31-memorial"},"MemorialStory":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialStory.html","mappedProps":{"c":{"name":"content"},"d":{"name":"dateText"},"pt":{"name":"placeText"},"t":{"name":"title"}},"repo":"fold31-memorial"},"MemorialUrl":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/MemorialUrl.html","mappedProps":{"t":{"name":"title"},"u":{"name":"url"}},"repo":"fold31-memorial"},"MergeCode":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/email/MergeCode.html","mappedProps":{"created":{"encoding":"date"},"modified":{"encoding":"date"}},"repo":"fold31-email"},"Metadata":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/Metadata.html","mappedProps":{"c":{"encoding":"date","name":"created"},"l":{"name":"label","optional":true},"n":{"name":"name"},"v":{"name":"value"}},"repo":"fold31-core"},"MetadataFilterItem":{"mappedProps":{"l":{"name":"operand"},"o":{"name":"operator","type":"MetadataFilterItem.Operator"},"t":{"name":"field"}}},"MilitaryUnit":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/MilitaryUnit.html","mappedProps":{"aka":{"name":"aliases"},"b":{"name":"battles","type":"BattleReference"},"c":{"name":"conflict"},"cu":{"name":"childUnitTypes","type":"ContentSubType"},"ev":{"name":"events","type":"RegimentEvent"},"h":{"name":"history"},"im":{"name":"images","type":"RegimentImage"},"ldx":{"name":"leaders","type":"Leader"},"m":{"name":"metadata","type":"Metadata"},"n":{"name":"name"},"nn":{"name":"nicknames"},"pl":{"name":"place"},"pm":{"encoding":"date","name":"providerLastModified"},"pr":{"name":"provider"},"rr":{"name":"parentRefs","type":"MilitaryUnitReference"},"s":{"encoding":"date","name":"lastSynchronized"},"sd":{"name":"side"},"st":{"name":"subType","type":"ContentSubType"},"t":{"name":"types"},"u":{"name":"unit"},"uf":{"name":"unitFacts","type":"UnitFacts"}},"repo":"fold31-regiment"},"MilitaryUnitReference":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/MilitaryUnitReference.html","mappedProps":{"i":{"name":"id"},"m":{"name":"metadata","type":"Metadata"},"n":{"name":"name"},"s":{"name":"side"},"t":{"name":"type","type":"ContentSubType"}},"repo":"fold31-regiment"},"MilitaryUnitRelationship":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/MilitaryUnitRelationship.html","mappedProps":{"childTypes":{"type":"ContentSubType"},"parentTypes":{"type":"ContentSubType"},"subType":{"type":"ContentSubType"}},"repo":"fold31-regiment"},"MinimalLocalizationResource":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/MinimalLocalizationResource.html","mappedProps":{"f":{"name":"field"},"i":{"name":"localizationResourceId"},"m":{"name":"mimeType"},"r":{"name":"resource"},"t":{"name":"translation"}},"repo":"fold31-backend"},"NewRelation":{"docs":"https://jfold3.iarchives.com/job/josephus-relation/javadoc/com/ancestry/eb/josephus/relation/client/dto/NewRelation.html","mappedProps":{"principle":{"type":"ObjectReference"},"target":{"type":"ObjectReference"}},"repo":"josephus-relation"},"NewspapersRecord":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/NewspapersRecord.html","mappedProps":{"f":{"name":"facts","type":"MemorialFact"},"id":{"type":"ObjectReference"},"l":{"name":"location"},"pd":{"name":"publishDate"},"t":{"name":"title"},"th":{"name":"thumbnail"},"v":{"name":"viewer"}},"repo":"fold31-memorial"},"NodeDto":{"mappedProps":{"lastPing":{"encoding":"date"},"startTime":{"encoding":"date"},"state":{"type":"Node.State"}}},"NormalizedContentDocumentPlace":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/NormalizedContentDocumentPlace.html","mappedProps":{"c":{"name":"normalizedComponents","type":"NormalizedContentDocumentPlaceComponent"},"n":{"name":"normalizedText"},"t":{"name":"text"}},"repo":"fold31-content"},"NormalizedContentDocumentPlaceComponent":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/NormalizedContentDocumentPlaceComponent.html","mappedProps":{"i":{"name":"id"},"t":{"name":"type","type":"NormalizedContentDocumentPlaceComponent.Type"},"tx":{"name":"text"}},"repo":"fold31-content"},"Note":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/Note.html","mappedProps":{"c":{"name":"contents"},"cd":{"encoding":"date","name":"createdDate"},"d":{"name":"documents","type":"ContentObject"},"id":{"type":"ObjectReference"},"m":{"name":"metadata","type":"Metadata"},"md":{"encoding":"date","name":"modifiedDate"},"t":{"name":"title"},"u":{"name":"userId"}},"repo":"fold31-core"},"OSMError":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/OSMError.html","mappedProps":{"ref":{"type":"ObjectReference"},"timestamp":{"encoding":"date"}},"repo":"fold31-core"},"ObjectConnections":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ObjectConnections.html","mappedProps":{"c":{"name":"connections","type":"Connection"},"r":{"name":"ref","type":"ObjectReference"}},"repo":"josephus-document"},"ObjectReference":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/ObjectReference.html","mappedProps":{"ct":{"name":"contentType","optional":false,"type":"ContentType"},"id":{"name":"objectId","optional":false}},"repo":"fold31-core"},"OcrHits":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/OcrHits.html","mappedProps":{"r":{"encoding":"rects","name":"rects"}},"repo":"josephus-document"},"Offer":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/Offer.html","mappedProps":{"currency":{"type":"Currency"},"expiration":{"encoding":"date"}},"repo":"fold31-commerce"},"OpenIdClient.Token":{"mappedProps":{"access_token":{"name":"token"},"expires_in":{"name":"expiresIn"},"id_token":{"name":"idToken"},"refresh_expires_in":{"name":"refreshExpiresIn"},"refresh_token":{"name":"refreshToken"},"token_type":{"name":"tokenType"},"user_id":{"name":"userId"}}},"PageRedirect":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/dto/PageRedirect.html","mappedProps":{"cd":{"encoding":"date","name":"created"},"cu":{"name":"createdBy"},"d":{"name":"description"},"domain":{"type":"Domain"},"id":{"name":"redirectId"},"md":{"encoding":"date","name":"modified"},"mu":{"name":"lastModifiedBy"},"p":{"name":"permanent"},"t":{"name":"title"},"ty":{"name":"type"}},"repo":"fold31-backend"},"Partner":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/Partner.html","mappedProps":{"created":{"encoding":"date"},"domain":{"type":"Domain"},"featuredMemorials":{"type":"ContentObject"},"modified":{"encoding":"date"}},"repo":"fold31-core"},"PartnerInstitution":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/PartnerInstitution.html","mappedProps":{"c":{"name":"contentProvider","type":"ContentProvider"},"i":{"name":"institution","type":"Institution"}},"repo":"fold31-core"},"PdfGenerationRequest":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/PdfGenerationRequest.html","mappedProps":{"doc":{"type":"ObjectReference"}},"repo":"fold31-core"},"PdfGenerationRequestState":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/PdfGenerationRequestState.html","mappedProps":{"doc":{"type":"ObjectReference"},"expires":{"encoding":"date"},"state":{"type":"PdfGenerationRequestState.State"},"submitted":{"encoding":"date"}},"repo":"fold31-core"},"Permissions":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/Permissions.html","mappedProps":{"denied":{"map":true,"type":"DenyReason"}},"repo":"fold31-core"},"PersistableTaskState":{"mappedProps":{"completed":{"encoding":"date"},"completionStatus":{"type":"AbstractTaskState.CompletionStatus"},"created":{"encoding":"date"},"files":{"type":"AbstractTaskState.File"},"lastUpdate":{"encoding":"date"},"scheduled":{"encoding":"date"},"started":{"encoding":"date"}}},"Person":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/Person.html","mappedProps":{"events":{"type":"PersonEvent"},"family":{"type":"PersonFamilyRelation"},"id":{"type":"PersonId"},"names":{"type":"PersonName"}},"repo":"fold31-core"},"PersonEvent":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/PersonEvent.html","mappedProps":{"normalizedDate":{"type":"PersonNormalizedDate"},"type":{"type":"PersonEvent.Type"}},"repo":"fold31-core"},"PersonFamilyRelation":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/PersonFamilyRelation.html","mappedProps":{"personId":{"type":"PersonId"}},"repo":"fold31-core"},"PersonId":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/PersonId.html","mappedProps":{"doc":{"type":"ObjectReference"}},"repo":"fold31-core"},"PlaceFacet":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/PlaceFacet.html","mappedProps":{"i":{"name":"id"},"l":{"name":"label"},"lat":{"name":"latitude"},"lon":{"name":"longitude"},"p":{"name":"parentId"},"t":{"name":"type"}},"repo":"fold31-search"},"ProQuestSessionBridge":{"mappedProps":{"aid":{"name":"accountId"},"an":{"name":"accountName"},"at":{"name":"authType"},"cip":{"name":"clientIp"},"e":{"name":"expires"},"gid":{"name":"groupId"},"h":{"name":"hash"},"n":{"name":"nextUrl"},"sid":{"name":"sessionId"},"ss":{"name":"sessionStart"},"ua":{"name":"userAgent"},"ui":{"name":"usageInfo"}}},"Property":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/Property.html","mappedProps":{"n":{"name":"name"},"v":{"name":"value"}},"repo":"fold31-core"},"ProviderBillingInfo":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/ProviderBillingInfo.html","mappedProps":{"lf":{"name":"last4"},"lp":{"encoding":"date","name":"lastUpdated"},"lu":{"encoding":"date","name":"lastUsed"},"p":{"name":"provider","type":"Provider"}},"repo":"fold31-commerce"},"Publication":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/Publication.html","mappedProps":{"aa":{"name":"allowAnnotations"},"ad":{"name":"allowDownload"},"add":{"name":"allowDownloadDoc"},"ap":{"name":"allowPrint"},"bod":{"name":"browseOutOfDate"},"cal":{"name":"configuredAccessLevel","type":"Publication.AccessLevel"},"cp":{"name":"provider","type":"ContentProvider"},"ct":{"name":"contentType","type":"Publication.ContentType"},"do":{"name":"domain","type":"Domain"},"f":{"name":"featured"},"fc":{"name":"fieldConfigName"},"fdbid":{"name":"fold3Dbid"},"fi":{"encoding":"date","name":"firstImported"},"fl":{"name":"file"},"hb":{"name":"hasBrowse"},"hp":{"name":"hashPath"},"id":{"name":"publicationId"},"im":{"name":"allowImports"},"irc":{"name":"importedRollCount"},"lm":{"encoding":"date","name":"lastModification"},"ls":{"encoding":"date","name":"lastSorted"},"lu":{"encoding":"date","name":"lastUpdated"},"mal":{"name":"maximumAccessLevel","type":"Publication.AccessLevel"},"md":{"name":"metadata","type":"Metadata"},"met":{"map":true,"name":"metrics"},"mm":{"name":"migrationMode","type":"Publication.MigrationMode"},"mp":{"name":"mediaProvider","type":"Publication.MediaProvider"},"n":{"name":"isNew"},"nal":{"name":"minimumAccessLevel","type":"Publication.AccessLevel"},"oc":{"name":"hasOcr"},"pc":{"name":"percentComplete"},"pco":{"name":"percentCompleteOverride"},"pr":{"map":true,"name":"properties"},"rc":{"name":"rollCount"},"sd":{"name":"shortDescription"},"si":{"name":"subImage"},"sl":{"name":"slug"},"srn":{"name":"showRollName"},"st":{"name":"shortTitle"},"t":{"name":"title"},"u":{"name":"updated"},"xs":{"name":"externalIdStrategy","type":"Publication.ExternalIdStrategy"}},"repo":"fold31-core"},"PublicationAccessLevelOverride":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/PublicationAccessLevelOverride.html","mappedProps":{"accessLevel":{"type":"Publication.AccessLevel"},"content":{"type":"ObjectReference"}},"repo":"fold31-core"},"PublicationCreate":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/publication/PublicationCreate.html","mappedProps":{"aa":{"name":"allowAnnotations"},"ad":{"name":"allowDownload"},"ap":{"name":"allowPrint"},"cal":{"name":"configuredAccessLevel","type":"Publication.AccessLevel"},"cp":{"name":"provider","type":"ContentProvider"},"ct":{"name":"contentType","type":"Publication.ContentType"},"f":{"name":"featured"},"fc":{"name":"fieldConfigName"},"im":{"name":"allowImports"},"mal":{"name":"maximumAccessLevel","type":"Publication.AccessLevel"},"mp":{"name":"mediaProvider","type":"Publication.MediaProvider"},"nal":{"name":"minimumAccessLevel","type":"Publication.AccessLevel"},"pco":{"name":"percentCompleteOverride"},"rc":{"name":"rollCount"},"sd":{"name":"shortDescription"},"srn":{"name":"showRollName"},"st":{"name":"shortTitle"},"t":{"name":"title"},"xs":{"name":"externalIdStrategy","type":"Publication.ExternalIdStrategy"}},"repo":"fold31-backend"},"PublicationDocument":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/PublicationDocument.html","mappedProps":{"do":{"name":"documentOrdinal"},"f":{"name":"file"},"fi":{"name":"fileId"},"id":{"name":"docId"},"po":{"name":"publicationOrdinal"},"t":{"name":"title"}},"repo":"josephus-document"},"PublicationFileInfo":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/PublicationFileInfo.html","mappedProps":{"c":{"name":"coverImageId"},"o":{"name":"ordinal"},"t":{"name":"title"},"z":{"name":"imageCount"}},"repo":"josephus-document"},"PublicationFileMap":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/PublicationFileMap.html","mappedProps":{"annotations":{"type":"PublicationFileMapEntry"},"connections":{"type":"PublicationFileMapEntry"},"corrections":{"type":"PublicationFileMapEntry"},"metadata":{"type":"PublicationFileMapEntry"}},"repo":"josephus-document"},"PublicationFileMapEntry":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/PublicationFileMapEntry.html","mappedProps":{"f":{"name":"fieldName"},"i":{"name":"imageId"},"t":{"encoding":"anntype","name":"annotationType"},"x":{"name":"text"}},"repo":"josephus-document"},"PublicationSortError":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/PublicationSortError.html","mappedProps":{"publication":{"type":"Publication"}},"repo":"josephus-document"},"PublicationSortTask.ImageInfo":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/task/PublicationSortTask$ImageInfo.html","mappedProps":{"do":{"name":"documentOrdinal"},"f":{"name":"file"},"fi":{"name":"fileId"},"i":{"name":"imageTitle"},"id":{"name":"docId"},"po":{"name":"publicationOrdinal"},"t":{"name":"title"}},"repo":"josephus-document"},"PublicationUpdate":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/publication/PublicationUpdate.html","mappedProps":{"aa":{"name":"allowAnnotations"},"ad":{"name":"allowDownload"},"ap":{"name":"allowPrint"},"cal":{"name":"configuredAccessLevel","type":"Publication.AccessLevel"},"cp":{"name":"provider","type":"ContentProvider"},"f":{"name":"featured"},"mal":{"name":"maximumAccessLevel","type":"Publication.AccessLevel"},"mp":{"name":"mediaProvider","type":"Publication.MediaProvider"},"nal":{"name":"minimumAccessLevel","type":"Publication.AccessLevel"},"pco":{"name":"percentCompleteOverride"},"rc":{"name":"rollCount"},"sd":{"name":"shortDescription"},"srn":{"name":"showRollName"},"st":{"name":"shortTitle"},"t":{"name":"title"}},"repo":"fold31-backend"},"PublicationWarning":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/PublicationWarning.html","mappedProps":{"warnings":{"type":"PublicationWarningItem"}},"repo":"fold31-core"},"PublicationWarningItem":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/PublicationWarningItem.html","mappedProps":{"type":{"type":"PublicationWarningItem.Type"}},"repo":"fold31-core"},"Rectangle":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/Rectangle.html","mappedProps":{"r":{"name":"rotation"}},"repo":"fold31-core"},"Regiment":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/Regiment.html","mappedProps":{"aka":{"name":"aliases"},"b":{"name":"battles","type":"BattleReference"},"c":{"name":"conflict"},"co":{"deprecated":true,"name":"companies","type":"Company"},"cr":{"name":"companyRefs","type":"CompanyReference"},"de":{"encoding":"date","name":"endDate"},"ds":{"encoding":"date","name":"startDate"},"ev":{"name":"events","type":"RegimentEvent"},"h":{"name":"history"},"i":{"name":"regimentId"},"im":{"name":"images","type":"RegimentImage"},"ld":{"name":"leaders"},"ldx":{"name":"parsedLeaders","type":"Leader"},"n":{"name":"name"},"nn":{"name":"nicknames"},"pl":{"name":"place"},"ple":{"name":"endPlace"},"pls":{"name":"startPlace"},"pm":{"encoding":"date","name":"providerLastModified"},"pr":{"name":"provider"},"rr":{"name":"regimentRefs","type":"RegimentReference"},"s":{"encoding":"date","name":"lastSynchronized"},"sd":{"name":"side"},"st":{"name":"subType","type":"ContentSubType"},"t":{"name":"types"},"u":{"name":"unit"},"uf":{"name":"unitFacts","type":"UnitFacts"}},"repo":"fold31-regiment"},"RegimentEvent":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/RegimentEvent.html","mappedProps":{"battle":{"type":"BattleReference"},"date":{"encoding":"date"},"eventType":{"type":"RegimentEvent.Type"},"l":{"name":"leaders","type":"Leader"}},"repo":"fold31-regiment"},"RegimentImage":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/RegimentImage.html","mappedProps":{"c":{"name":"caption"},"dh":{"name":"displayScreenShow"},"ds":{"name":"displayScreenSort"},"f":{"name":"photoUrl"},"p":{"name":"personName"},"r":{"name":"rightsUrl"},"s":{"name":"src"},"t":{"name":"tags"}},"repo":"fold31-regiment"},"RegimentImageMetadata":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/RegimentImageMetadata.html","mappedProps":{"c":{"name":"contentType"},"h":{"name":"height"},"i":{"name":"imageId"},"s":{"name":"size"},"sc":{"encoding":"date","name":"sync"},"w":{"name":"width"}},"repo":"fold31-regiment"},"RegimentImageRequestMessage":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/RegimentImageRequestMessage.html","mappedProps":{"d":{"name":"doc","type":"ObjectReference"},"i":{"name":"imageId"}},"repo":"fold31-regiment"},"RegimentProviderInfo":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/RegimentProviderInfo.html","mappedProps":{"sides":{"type":"Side"}},"repo":"fold31-regiment"},"RegimentReference":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/RegimentReference.html","mappedProps":{"i":{"name":"regimentId"},"m":{"name":"metadata","type":"Metadata"},"n":{"name":"name"},"s":{"name":"side"}},"repo":"fold31-regiment"},"Registration":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/Registration.html","mappedProps":{"domain":{"type":"Domain"}},"repo":"fold31-core"},"RelatedTitle":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/RelatedTitle.html","mappedProps":{"m":{"name":"matches"},"p":{"name":"publicationId"},"r":{"name":"score"},"t":{"name":"title"}},"repo":"fold31-core"},"Relation":{"docs":"https://jfold3.iarchives.com/job/josephus-relation/javadoc/com/ancestry/eb/josephus/relation/client/dto/Relation.html","mappedProps":{"id":{"name":"relationId"},"m":{"encoding":"date","name":"modified"},"p":{"name":"principle","type":"ObjectReference"},"t":{"name":"target","type":"ObjectReference"},"txt":{"name":"text"},"u":{"name":"userId"}},"repo":"josephus-relation"},"ReorderDocumentElements":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/ReorderDocumentElements.html","mappedProps":{"i":{"name":"elementIds"},"t":{"name":"elementType","type":"DocumentElementType"}},"repo":"fold31-content"},"ReplaceImageRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/ReplaceImageRequest.html","mappedProps":{"i":{"name":"imageUrl"}},"repo":"fold31-image-data"},"ReprocessUploadOptions":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ReprocessUploadOptions.html","mappedProps":{"options":{"type":"ImportProcessingOptions"}},"repo":"josephus-document"},"Roll":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/Roll.html","mappedProps":{"c":{"encoding":"date","name":"created"},"id":{"name":"rollId"},"lt":{"name":"literalTitle"},"md":{"name":"metadata","type":"Metadata"},"n":{"name":"name"},"p":{"name":"publicationId"},"s":{"name":"synthetic"},"w":{"name":"wfm"},"wc":{"name":"wfmContainerId"},"wg":{"name":"guid"},"wp":{"name":"wfmContainerPath"}},"repo":"josephus-document"},"RollExternalData":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/manager/RollExternalData.html","mappedProps":{"metadata":{"type":"Metadata"}},"repo":"josephus-document"},"SampleImage":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/SampleImage.html","mappedProps":{"c":{"encoding":"date","name":"created"},"i":{"name":"image","type":"Image"},"m":{"name":"manuallySet"},"o":{"name":"ordinal"},"or":{"name":"doc","type":"ObjectReference"},"r":{"encoding":"rect","name":"rect"},"s":{"name":"subImage"},"t":{"name":"title"},"ty":{"name":"type"}},"repo":"josephus-document"},"SearchResults":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/search/SearchResults.html","mappedProps":{"earliestDate":{"encoding":"date"},"facets":{"type":"FacetList"},"hits":{"type":"Hit"},"latestDate":{"encoding":"date"},"placeFacets":{"type":"PlaceFacet"}},"repo":"fold31-search"},"Send":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/email/Send.html","mappedProps":{"domain":{"type":"Domain"},"mergeCodes":{"type":"MergeCode"},"sent":{"encoding":"date"}},"repo":"fold31-email"},"Silo":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/Silo.html","mappedProps":{"domain":{"type":"Domain"},"siloProperties":{"type":"Property"}},"repo":"fold31-core"},"SiteMapLink":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/SiteMapLink.html","mappedProps":{"id":{"type":"ObjectReference"},"l":{"name":"label"},"p":{"name":"publicationId"},"s":{"name":"slug"}},"repo":"fold31-core"},"Soldier":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/Soldier.html","mappedProps":{"i":{"name":"memorialId"},"t":{"name":"type","type":"Soldier.Type"}},"repo":"fold31-regiment"},"SoldierReference":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/SoldierReference.html","mappedProps":{"a":{"name":"age"},"i":{"name":"memorialId"},"n":{"name":"name"}},"repo":"fold31-regiment"},"SubAnnotation":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/SubAnnotation.html","mappedProps":{"n":{"name":"name"},"r":{"encoding":"rect","name":"rect"},"v":{"name":"value"}},"repo":"josephus-document"},"SubImage":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/SubImage.html","mappedProps":{"al":{"map":true,"name":"aliases","optional":true},"an":{"name":"annotations","optional":true,"type":"Annotations"},"c":{"encoding":"date","name":"created"},"co":{"name":"corrections","type":"Correction"},"csp":{"name":"connectedStoryPages","optional":true,"type":"ContentObject"},"i":{"name":"imageId"},"id":{"name":"subImageId"},"im":{"name":"image","type":"Image"},"md":{"name":"metadata","type":"Metadata"},"ord":{"name":"ordinal"},"r":{"encoding":"rect","name":"rect","optional":true},"t":{"name":"title"},"use":{"name":"usage","optional":true}},"repo":"josephus-document"},"SubImageData":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/SubImageData.html","mappedProps":{"i":{"name":"parentImageId"},"m":{"name":"metadata","type":"CorrectableMetadata"},"o":{"name":"ordinal"},"r":{"encoding":"rect","name":"rect"},"t":{"name":"title"}},"repo":"fold31-image-data"},"SubImageDataImportRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/SubImageDataImportRequest.html","mappedProps":{"i":{"name":"imageId"},"k":{"name":"stickiness","type":"CorrectableMetadata.Stickiness"},"l":{"name":"language"},"p":{"name":"preserveUnreferencedSubImages"},"s":{"name":"subImages","type":"SubImageDataImportRequestRecord"}},"repo":"fold31-image-data"},"SubImageDataImportRequestRecord":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/SubImageDataImportRequestRecord.html","mappedProps":{"i":{"name":"recordIdentifier"},"m":{"name":"metadata","type":"Metadata"},"o":{"name":"ordinal"},"r":{"encoding":"rect","name":"rect"}},"repo":"fold31-image-data"},"SubImageDataImportResults":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/SubImageDataImportResults.html","mappedProps":{"i":{"name":"importedSubImages","type":"SubImageDataImportResultsRecord"},"s":{"name":"deletedSubImages"}},"repo":"fold31-image-data"},"SubImageDataImportResultsRecord":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/SubImageDataImportResultsRecord.html","mappedProps":{"c":{"name":"created"},"i":{"name":"recordIdentifier"},"o":{"name":"id","type":"ObjectReference"}},"repo":"fold31-image-data"},"SubImageIndex":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/SubImageIndex.html","mappedProps":{"i":{"name":"imageId"},"id":{"name":"subImageId"},"ord":{"name":"ordinal"},"r":{"encoding":"rect","name":"rect","optional":true},"t":{"name":"title"}},"repo":"josephus-document"},"SubImageIndexItem":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/SubImageIndexItem.html","mappedProps":{"i":{"name":"subImageId"},"o":{"name":"ordinal"},"r":{"encoding":"rect","name":"rect"},"t":{"name":"title"}},"repo":"fold31-image-data"},"SubImageIndexResults":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/SubImageIndexResults.html","mappedProps":{"nonSpatial":{"type":"SubImageIndexItem"},"spatial":{"type":"SubImageIndexItem"},"spatialWindow":{"encoding":"rect"}},"repo":"fold31-image-data"},"SubImageResultSet":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/SubImageResultSet.html","mappedProps":{"subImages":{"type":"SubImages"}},"repo":"josephus-document"},"SubImages":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/SubImages.html","inverted":true,"mappedProps":{"annotations":{"name":"annotation","type":"Annotations"},"corrections":{"type":"Correction"},"created":{"encoding":"date"},"ids":{"name":"id"},"metadata":{"type":"Metadata"},"ordinals":{"name":"ordinal"},"rects":{"encoding":"rect","name":"rect"},"titles":{"name":"title"},"usages":{"name":"usage"}},"repo":"josephus-document","valueMaps":{"metadataLabelMap":{"metadata.label":"label"},"metadataNameMap":{"metadata.name":"name"}}},"SubImagesBulk":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/SubImagesBulk.html","mappedProps":{"parentImages":{"type":"Image"},"subImages":{"type":"SubImage"}},"repo":"josephus-document"},"Subject":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/memorial/Subject.html","mappedProps":{"des":{"name":"description"},"pm":{"name":"privacyMode","type":"AbstractMemorialDocument.PrivacyMode"},"st":{"name":"subType","type":"ContentSubType"},"t":{"name":"title"},"ty":{"name":"type","type":"AbstractMemorialDocument.Type"}},"repo":"fold31-memorial"},"SubscribeRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/SubscribeRequest.html","mappedProps":{"billingInfo":{"type":"BillingInfo"}},"repo":"fold31-commerce"},"Subscription":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/Subscription.html","mappedProps":{"created":{"encoding":"date"},"domain":{"type":"Domain"},"duration":{"type":"Subscription.Duration"},"event":{"type":"Subscription.Event"},"expiration":{"encoding":"date"},"expirationNotification":{"encoding":"date"},"finalizationDate":{"encoding":"date"},"finalizationType":{"type":"Subscription.FinalizationType"},"freeTrialCanceled":{"encoding":"date"},"modified":{"encoding":"date"},"origin":{"type":"Subscription.Origin"},"start":{"encoding":"date"},"user":{"type":"User"}},"repo":"fold31-commerce"},"Tag":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/Tag.html","mappedProps":{"c":{"name":"comment"},"d":{"name":"doc","type":"ObjectReference"},"n":{"name":"name"},"o":{"name":"ordinal"},"t":{"name":"type","type":"Tag.Type"},"u":{"name":"userId"}},"repo":"fold31-core"},"TagData":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/TagData.html","mappedProps":{"c":{"name":"count"},"cd":{"encoding":"date","name":"createdDate"},"l":{"name":"label"},"m":{"name":"metadata","type":"Metadata"},"md":{"encoding":"date","name":"modifiedDate"},"n":{"name":"name"},"t":{"name":"type","type":"Tag.Type"},"u":{"name":"userId"}},"repo":"fold31-core"},"TagId":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/TagId.html","mappedProps":{"c":{"name":"comment"},"i":{"name":"doc","type":"ObjectReference"},"n":{"name":"name"}},"repo":"fold31-core"},"TagPage":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/TagPage.html","mappedProps":{"tags":{"type":"Tag"}},"repo":"fold31-core"},"TaskState":{"mappedProps":{"created":{"encoding":"date"},"files":{"type":"AbstractTaskState.File"},"lastUpdate":{"encoding":"date"},"scheduled":{"encoding":"date"},"started":{"encoding":"date"}}},"Template":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/email/Template.html","mappedProps":{"created":{"encoding":"date"},"domain":{"type":"Domain"},"modified":{"encoding":"date"}},"repo":"fold31-email"},"TestTaskDefinition":{"mappedProps":{"scheduledDate":{"encoding":"date"}}},"ThumbnailRenderingDetails":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ThumbnailRenderingDetails.html","mappedProps":{"do":{"name":"defaultOrientation"},"g":{"name":"graphic"},"iid":{"name":"imageId"},"it":{"name":"imageToken"},"r":{"name":"cropRegion","type":"Rectangle"},"u":{"name":"userUpload"}},"repo":"josephus-document"},"TitleCollection":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/TitleCollection.html","mappedProps":{"created":{"encoding":"date"},"domain":{"type":"Domain"},"modified":{"encoding":"date"},"tags":{"type":"SearchTagInfo"}},"repo":"fold31-core"},"TitleCollectionGroup":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/TitleCollectionGroup.html","mappedProps":{"created":{"encoding":"date"},"domain":{"type":"Domain"},"modified":{"encoding":"date"},"titleCollections":{"type":"TitleCollection"}},"repo":"fold31-core"},"TitleCollectionListWithOrphans":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/TitleCollectionListWithOrphans.html","mappedProps":{"titleCollections":{"type":"TitleCollection"}},"repo":"fold31-core"},"TitlePage":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/TitlePage.html","mappedProps":{"created":{"encoding":"date"},"modified":{"encoding":"date"},"stories":{"type":"TitlePageStory"}},"repo":"fold31-core"},"TitlePageStory":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/TitlePageStory.html","mappedProps":{"text":{"type":"TitlePageTextElement"}},"repo":"fold31-core"},"TokenCampaignDetails":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/TokenCampaignDetails.html","mappedProps":{"end":{"encoding":"date"}},"repo":"fold31-core"},"Transaction":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/Transaction.html","mappedProps":{"approval":{"type":"Transaction.Approval"},"created":{"encoding":"date"},"domain":{"type":"Domain"},"item":{"type":"InvoiceItem"},"provider":{"type":"Provider"},"state":{"type":"Transaction.State"},"type":{"type":"Transaction.Type"}},"repo":"fold31-commerce"},"UnitFactCountedItem":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/UnitFactCountedItem.html","mappedProps":{"c":{"name":"count"},"d":{"name":"date"},"n":{"name":"name"}},"repo":"fold31-regiment"},"UnitFacts":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/regiment/UnitFacts.html","mappedProps":{"av":{"name":"averageAgeAtEnlistment"},"cr":{"name":"mostCommonResidence","type":"UnitFactCountedItem"},"de":{"encoding":"date","name":"endDate"},"ds":{"encoding":"date","name":"startDate"},"du":{"name":"diedInUnit"},"dw":{"name":"diedInWar"},"ed":{"name":"firstEnlistmentDate","type":"UnitFactCountedItem"},"el":{"name":"mostCommonEnlistmentPlace","type":"UnitFactCountedItem"},"ep":{"name":"firstEnlistmentPlace","type":"UnitFactCountedItem"},"et":{"name":"mostCommonEnlistmentDate","type":"UnitFactCountedItem"},"md":{"name":"medianAgeAtEnlistment"},"mo":{"name":"mostCommonMusterOutDate","type":"UnitFactCountedItem"},"ns":{"name":"numberOfSoldiers"},"os":{"name":"oldestSoldierAtEnlistment","type":"SoldierReference"},"pe":{"name":"endPlaces"},"po":{"name":"prisonerOfWarWhileInRegiment"},"ps":{"name":"startPlaces"},"s":{"name":"soldiers","type":"Soldier"},"wo":{"name":"woundedInUnit"},"ys":{"name":"youngestSoldierAtEnlistment","type":"SoldierReference"}},"repo":"fold31-regiment"},"UpdateAdvertisement":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/UpdateAdvertisement.html","mappedProps":{"accountState":{"type":"AccountState"},"domain":{"type":"Domain"}},"repo":"fold31-core"},"UpdateCampaign":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/UpdateCampaign.html","mappedProps":{"accessLevelOverride":{"type":"PublicationAccessLevelOverride"},"accountState":{"type":"AccountState"},"domain":{"type":"Domain"},"end":{"encoding":"date"},"spots":{"type":"AdvertisementSpot"},"start":{"encoding":"date"}},"repo":"fold31-core"},"UpdateContentProvider":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/UpdateContentProvider.html","mappedProps":{"d":{"name":"domain","type":"Domain"},"l":{"name":"locale","type":"Locale"},"n":{"name":"name"},"u":{"name":"url"}},"repo":"fold31-core"},"UpdateDocumentElement":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/UpdateDocumentElement.html","mappedProps":{"e":{"name":"element"},"i":{"name":"id","type":"DocumentElementReference"}},"repo":"fold31-content"},"UpdateDocumentElements":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/UpdateDocumentElements.html","mappedProps":{"c":{"name":"changes","type":"UpdateDocumentElement"},"l":{"name":"deletions","type":"DocumentElementReference"},"n":{"name":"newElements","type":"CreateDocumentElement"}},"repo":"fold31-content"},"UpdateInstitution":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/UpdateInstitution.html","mappedProps":{"domain":{"type":"Domain"},"expirationDate":{"encoding":"date"},"ipAddresses":{"type":"InstitutionIpAddress"},"properties":{"type":"Property"},"silo":{"type":"Silo"}},"repo":"fold31-core"},"UpdatePartner":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/UpdatePartner.html","mappedProps":{"domain":{"type":"Domain"}},"repo":"fold31-core"},"UpdatePublication":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/UpdatePublication.html","mappedProps":{"configuredAccessLevel":{"type":"Publication.AccessLevel"},"contentType":{"type":"Publication.ContentType"},"domain":{"type":"Domain"},"maximumAccessLevel":{"type":"Publication.AccessLevel"},"metadata":{"type":"Metadata"},"minimumAccessLevel":{"type":"Publication.AccessLevel"},"provider":{"type":"ContentProvider"}},"repo":"fold31-core"},"UpdateTitleCollection":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/UpdateTitleCollection.html","mappedProps":{"domain":{"type":"Domain"},"tags":{"type":"SearchTagInfo"}},"repo":"fold31-core"},"UpdateTitleCollectionGroup":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/UpdateTitleCollectionGroup.html","mappedProps":{"domain":{"type":"Domain"}},"repo":"fold31-core"},"UpdateTitlePage":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/fold31/dto/UpdateTitlePage.html","mappedProps":{"stories":{"type":"TitlePageStory"}},"repo":"fold31-core"},"UpdateTranslation":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/UpdateTranslation.html","mappedProps":{"f":{"name":"field"},"l":{"name":"language"},"x":{"name":"translation"}},"repo":"fold31-backend"},"UpdateTranslationRequest":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/i18n/UpdateTranslationRequest.html","mappedProps":{"p":{"name":"path"},"t":{"name":"translations","type":"UpdateTranslation"}},"repo":"fold31-backend"},"UpdateUploadNoteRequest":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/UpdateUploadNoteRequest.html","mappedProps":{"type":{"type":"ContentDocumentImportUploadNote.Type"}},"repo":"fold31-backend"},"UploadData":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/imagedata/UploadData.html","mappedProps":{"d":{"name":"description"},"f":{"name":"filename"}},"repo":"fold31-image-data"},"User":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/User.html","mappedProps":{"a":{"name":"available","optional":true},"id":{"name":"userId"},"u":{"name":"username"}},"repo":"fold31-core"},"UserAvailable":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/UserAvailable.html","mappedProps":{"e":{"name":"email"}},"repo":"fold31-core"},"UserFull":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/UserFull.html","mappedProps":{"a":{"name":"available","optional":true},"accountState":{"type":"AccountState"},"adminDomains":{"type":"Domain"},"id":{"name":"userId"},"joinDate":{"encoding":"date"},"registrationDomain":{"type":"Domain"},"u":{"name":"username"}},"repo":"fold31-core"},"UserIconDetails":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/UserIconDetails.html","mappedProps":{"a":{"name":"available","optional":true},"i":{"name":"hasIcon"},"id":{"name":"userId"},"u":{"name":"username"}},"repo":"fold31-core"},"UserMessage":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/UserMessage.html","mappedProps":{"fu":{"name":"fromUserId"},"m":{"name":"message"},"tu":{"name":"toUserId"}},"repo":"fold31-core"},"UserPreference":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/preferences/UserPreference.html","mappedProps":{"cd":{"encoding":"date","name":"created"},"d":{"name":"domain","type":"Domain"},"de":{"name":"description"},"dt":{"name":"dataType"},"dv":{"name":"defaultValue"},"id":{"name":"preferenceId"},"l":{"name":"label"},"m":{"name":"metadata","type":"Metadata"},"md":{"encoding":"date","name":"modified"},"p":{"name":"preference"}},"repo":"fold31-backend"},"UserProfile":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/UserProfile.html","mappedProps":{"a":{"name":"available","optional":true},"id":{"name":"userId"},"u":{"name":"username"}},"repo":"fold31-core"},"UserReport":{"docs":"https://jfold3.iarchives.com/job/f3-core/javadoc/com/ancestry/eb/josephus/core/dto/UserReport.html","mappedProps":{"created":{"encoding":"date"},"domain":{"type":"Domain"},"user":{"type":"User"}},"repo":"fold31-core"},"ValidateImportSampleResponse":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/dto/ValidateImportSampleResponse.html","mappedProps":{"results":{"type":"ContentDocumentImportResults"}},"repo":"fold31-backend"},"VatTaxCountry":{"docs":"https://jfold3.iarchives.com/job/f3-clients/javadoc/com/ancestry/eb/fold31/clients/commerce/VatTaxCountry.html","mappedProps":{"c":{"name":"countryCode"},"c3":{"name":"countryCode3"},"co":{"name":"countryOf"},"n":{"name":"name"},"r":{"name":"rate"}},"repo":"fold31-commerce"},"VideoPlaylist":{"docs":"https://jfold3.iarchives.com/job/f3-backend/javadoc/com/ancestry/eb/fold31/main/client/dto/VideoPlaylist.html","mappedProps":{"created":{"encoding":"date"},"domain":{"type":"Domain"},"modified":{"encoding":"date"}},"repo":"fold31-backend"},"ViewerImage":{"docs":"https://jfold3.iarchives.com/job/josephus-document/javadoc/com/ancestry/eb/josephus/document/dto/ViewerImage.html","mappedProps":{"ai":{"name":"ancestryId","optional":true},"al":{"map":true,"name":"aliases","optional":true},"an":{"name":"annotations","optional":true,"type":"Annotations"},"av":{"name":"available","optional":true},"bc":{"name":"breadcrumbs","optional":true,"type":"BrowseNode"},"c":{"encoding":"date","name":"created"},"co":{"name":"corrections","optional":true,"type":"Correction"},"csp":{"name":"connectedStoryPages","optional":true,"type":"ContentObject"},"di":{"name":"publicationDocument","optional":true,"type":"PublicationDocument"},"do":{"name":"defaultOrientation","optional":true},"fa":{"name":"focusedAnnotation","type":"Annotation"},"fs":{"name":"focusedSubImage","type":"SubImage"},"h":{"name":"height","optional":true},"hp":{"name":"hashPath","optional":true},"id":{"name":"imageId"},"it":{"name":"imageToken"},"lm":{"encoding":"date","name":"lastModified"},"md":{"name":"metadata","type":"Metadata"},"mp":{"name":"mediaProvider","optional":true,"type":"Publication.MediaProvider"},"mr":{"name":"supportsMixedRes","optional":true},"ocr":{"name":"hasOcr","optional":true},"ord":{"name":"ordinal","optional":true},"p":{"name":"publication","optional":true,"type":"Publication"},"pord":{"name":"publicationOrdinal","optional":true},"ps":{"name":"permissions","optional":true,"type":"ImagePermissions"},"r":{"name":"roll","optional":true,"type":"Roll"},"si":{"name":"subImages","optional":true,"type":"SubImages"},"sic":{"name":"subImageCount","optional":true},"sl":{"name":"slug","optional":true},"srt":{"name":"subImageRectMode","optional":true,"type":"Image.SubImageRectMode"},"st":{"name":"shortTitle","optional":true},"t":{"name":"title"},"tr":{"encoding":"date","name":"trashed","optional":true},"u":{"name":"user","optional":true,"type":"User"},"use":{"name":"usage","optional":true},"vc":{"name":"viewCount","optional":true},"vis":{"name":"visible","optional":true},"w":{"name":"width","optional":true},"wid":{"name":"wfmImageId","optional":true},"win":{"name":"wfmImageName","optional":true}},"repo":"josephus-document"},"WrappedContentDocument":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/WrappedContentDocument.html","mappedProps":{"d":{"abstractFieldDefinition":{"map":{"BATTLE":"Battle","COMPANY":"CompanyDetails","IMAGE":"ImageData","INDEX_RECORD":"IndexRecord","MEDIA":"Media","MILITARY_UNIT":"MilitaryUnit","REGIMENT":"Regiment","STORY_PAGE":"Memorial","SUBJECT":"Subject","SUB_IMAGE":"SubImageData"},"switchProperty":"metadata.id.contentType"},"name":"document","type":"abstract"},"de":{"name":"elements","type":"WrappedContentDocumentElement"},"r":{"name":"runtimeProperties","type":"ContentDocumentRuntimeProperties"},"w":{"name":"metadata","type":"ContentDocumentMetadata"}},"repo":"fold31-content"},"WrappedContentDocumentElement":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/WrappedContentDocumentElement.html","mappedProps":{"d":{"abstractFieldDefinition":{"map":{"BACKGROUND_IMAGE":"MemorialBackgroundImage","COMMENT":"ContentDocumentComment","CORRECTION":"ContentDocumentCorrection","COVER_IMAGE":"MemorialCoverImage","FACT":"MemorialFact","FACT_SOURCE":"MemorialFactSource","IMAGE_ANNOTATION":"ImageAnnotation","LINK":"ContentDocumentLink","PARTNER":"MemorialPartner","SOURCE":"MemorialSource","STORY":"MemorialStory"},"switchProperty":"metadata.id.contentType"},"name":"element","type":"abstract"},"w":{"name":"metadata","type":"ContentDocumentElementMetadata"}},"repo":"fold31-content"},"WrappedJsonContentDocument":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/WrappedJsonContentDocument.html","mappedProps":{"d":{"name":"document"},"de":{"name":"elements","type":"WrappedJsonContentDocumentElement"},"r":{"name":"runtimeProperties","type":"ContentDocumentJsonRuntimeProperties"},"w":{"name":"metadata","type":"ContentDocumentMetadata"}},"repo":"fold31-content"},"WrappedJsonContentDocumentElement":{"docs":"https://jfold3.iarchives.com/job/f3-content/javadoc/com/ancestry/eb/fold31/content/client/dto/WrappedJsonContentDocumentElement.html","mappedProps":{"d":{"name":"element"},"w":{"name":"metadata","type":"ContentDocumentElementMetadata"}},"repo":"fold31-content"},"DateType":{"mappedProps":{"date":{"type":"DateRange"}}}}')}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var c=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](c,c.exports,__webpack_require__),c.exports}__webpack_require__.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(n,{a:n}),n},__webpack_require__.d=(e,n)=>{for(var c in n)__webpack_require__.o(n,c)&&!__webpack_require__.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:n[c]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n);var __webpack_exports__=__webpack_require__(41858)})();